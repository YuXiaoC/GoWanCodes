var ChildrenBaseItem=function(t){function e(){return t.call(this)||this}return __extends(e,t),e.prototype.childrenCreated=function(){t.prototype.createChildren.call(this),this.skinName=ChildrenBaseItemSkin},e.prototype.dataChanged=function(){},e}(eui.ItemRenderer);__reflect(ChildrenBaseItem.prototype,"ChildrenBaseItem");var ActivityVo=function(){function t(t){this.name="",this.initialed=!1,this.initActData(t),this.ZU63(t)}return t.prototype.initActData=function(t){if(t&&!this.initialed&&t.atmp){for(var e in t.atmp)this[e]=t.atmp[e];this.initialed=!0}},t.prototype.ZU63=function(t){t&&(this.initActData(t),this.id=null!=t.id?t.id:this.id,this.ty=null!=t.ty?t.ty:this.ty,this.st=null!=t.st?t.st:this.st,this.et=null!=t.et?t.et:this.et,this.rt=null!=t.rt?t.rt:this.rt,this.rs=null!=t.rs?t.rs:this.rs,this.parVer=null!=t.parVer?t.parVer:this.parVer,this.loDay=null!=t.loDay?t.loDay:this.loDay,t.rs&&(this.lastRefreshTime=P6.getTime(!0)))},t.prototype.ZHH64=function(){var t=P6.getTime(!0)-this.lastRefreshTime,e=this.rs-t;return 0<e?e:0},t}();__reflect(ActivityVo.prototype,"ActivityVo");var DoubleRingDrawQuestionItem=function(e){function t(){var t=e.call(this)||this;return t.skinName=ItemCatchFishRewardSkin,t.addEventListener(egret.Event.ADDED_TO_STAGE,t.open,t),t.addEventListener(egret.Event.REMOVED_FROM_STAGE,t.close,t),t}return __extends(t,e),t.prototype.open=function(){this.btnGet.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickGet,this),this.btnGet.label=O3.tr(1563)},t.prototype.close=function(){this.btnGet.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickGet,this),this.itemCollection.removeAll()},t.prototype.childrenCreated=function(){e.prototype.createChildren.call(this),this.itemCollection=new eui.ArrayCollection,this.listContent.dataProvider=this.itemCollection,this.listContent.itemRenderer=ItemIcon,this.awardsSc.scrollPolicyV=eui.ScrollPolicy.OFF},t.prototype.dataChanged=function(){switch(this.lbTitle.textFlow=(new egret.HtmlTextParser).parser(O3.tr(3327,this.data.conf.target)),this.imgTitle.width=this.lbTitle.width+55,this.btnGet.imgNew.visible=!1,this.data.state){case J13.A3:this.btnGet.imgNew.visible=!0,this.btnGet.visible=!0,this.imgGot.visible=!1,P16.sGF(this.btnGet,!1),this.btnGet.enabled=!0;break;case J13.A1:this.btnGet.visible=!0,this.btnGet.enabled=!1,this.imgGot.visible=!1,P16.sGF(this.btnGet,!0);break;case J13.A2:this.btnGet.visible=!1,this.imgGot.visible=!0}var t=[];for(var e in this.data.conf.rewardList){var i={data:N12.gID(this.data.conf.rewardList[e].k),ct:this.data.conf.rewardList[e].v};t.push({itemData:i,isBottom:!1,scale:1})}this.itemCollection.replaceAll(t)},t.prototype.onClickGet=function(){App.CM.apF(O6.A38,DoubleRingDraw.Const.COUNT_REWARD_GET,this.data.conf.target)},t}(eui.ItemRenderer);__reflect(DoubleRingDrawQuestionItem.prototype,"DoubleRingDrawQuestionItem");var CrossTeamShopHonorItemView=function(e){function t(){var t=e.call(this)||this;return t.skinName=CrossTeamShopItemSkin,t.addEventListener(egret.Event.ADDED_TO_STAGE,t.onAddToStage,t),t.addEventListener(egret.Event.REMOVED_FROM_STAGE,t.onRemoveStage,t),t}return __extends(t,e),t.prototype.onAddToStage=function(){this.btnBuy.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onclickBuy,this)},t.prototype.onRemoveStage=function(){this.btnBuy.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onclickBuy,this),this.itemIcon.close(),this.itemIcon=null,this.grpIcon.removeChildren()},t.prototype.onclickBuy=function(){var t={};t.id=this.data.index;var e=this.data.goodsData.k,i=this.data.goodsData.v;t.itemname=N12.FK5(e),t.bg=N12.FL5(e),t.icon=N12.FJ86(e),t.itemid=e,t.itemnum=i;var s=N12.gID(e);t.desc=s.desc,t.costId=this.data.priceData.k,t.costIcon=N12.FJ86(this.data.priceData.k),t.costNum=this.data.priceData.v,t.cost="x"+this.data.priceData.v,t.limitnum=this.data.limitnum,t.batchnum=this.data.batchnum,t.times=M18.HTP.parser(O3.tr(7265,this.data.times)),t.soldout=1,t.lock=this.btnBuy.enabled?0:1,t.txt=O3.tr(2510),t.controllerConst=O6.B35,t.reqConst=HH17.A60,t.buyTime=this.data.overNum,this.buyReq(t)},t.prototype.buyReq=function(t){App.CM.apF(O6.B35,HH17.A33,t)},t.prototype.childrenCreated=function(){e.prototype.createChildren.call(this),this.initUI()},t.prototype.initUI=function(){this.btnBuy.label=O3.tr(7262),this.lbStr1.textFlow=M18.HTP.parser(O3.tr(7264)),this.itemIcon=new ItemIcon,this.grpIcon.addChild(this.itemIcon)},t.prototype.dataChanged=function(){var t=N12.gID(this.data.goodsData.k),e=App.CM.gtM(O6.B35).myRanking,i={itemData:{data:t,ct:this.data.goodsData.v},isBottom:!0};this.itemIcon.data=i,t=N12.gID(this.data.priceData.k),this.imgItem.setData(t),this.lbNum.textFlow=M18.HTP.parser(O3.tr(7185,this.data.priceData.v)),this.lbBuy.visible=!0,e&&e<=this.data.times?-1==this.data.limitnum?(P16.sGF(this.btnBuy,!1),this.btnBuy.enabled=!0,this.lbBuy.visible=!1):(this.data.overNum<=0?this.lbBuy.textFlow=M18.HTP.parser(O3.tr(7266)):this.lbBuy.textFlow=M18.HTP.parser(O3.tr(7263,this.data.overNum,this.data.limitnum)),P16.sGF(this.btnBuy,this.data.overNum<=0),this.btnBuy.enabled=0<this.data.overNum):(P16.sGF(this.btnBuy,!0),this.btnBuy.enabled=!1,this.lbBuy.textFlow=M18.HTP.parser(O3.tr(7265,this.data.times)))},t}(eui.ItemRenderer);__reflect(CrossTeamShopHonorItemView.prototype,"CrossTeamShopHonorItemView");var CrossTeamShopPlainItemView=function(e){function t(){var t=e.call(this)||this;return t.skinName=CrossTeamShopItemSkin,t.addEventListener(egret.Event.ADDED_TO_STAGE,t.onAddToStage,t),t.addEventListener(egret.Event.REMOVED_FROM_STAGE,t.onRemoveStage,t),t}return __extends(t,e),t.prototype.onAddToStage=function(){this.btnBuy.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onclickBuy,this)},t.prototype.onRemoveStage=function(){this.btnBuy.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onclickBuy,this),this.itemIcon.close(),this.itemIcon=null,this.grpIcon.removeChildren()},t.prototype.onclickBuy=function(){var t={};t.id=this.data.index;var e=this.data.goodsData.k,i=this.data.goodsData.v;t.itemname=N12.FK5(e),t.bg=N12.FL5(e),t.icon=N12.FJ86(e),t.itemid=e,t.itemnum=i;var s=N12.gID(e);t.desc=s.desc,t.costId=this.data.priceData.k,t.costIcon=N12.FJ86(this.data.priceData.k),t.costNum=this.data.priceData.v,t.cost="x"+this.data.priceData.v,t.limitnum=this.data.limitnum,t.batchnum=this.data.batchnum,t.soldout=this.data.overNum<=0?1:0,t.lock=1,t.controllerConst=O6.B35,t.reqConst=HH17.A60,t.buyTime=this.data.overNum,this.buyReq(t)},t.prototype.buyReq=function(t){App.CM.apF(O6.B35,HH17.A33,t)},t.prototype.childrenCreated=function(){e.prototype.createChildren.call(this),this.initUI()},t.prototype.initUI=function(){this.btnBuy.label=O3.tr(7262),this.lbStr1.textFlow=M18.HTP.parser(O3.tr(7264)),this.itemIcon=new ItemIcon,this.grpIcon.addChild(this.itemIcon)},t.prototype.dataChanged=function(){var t=N12.gID(this.data.goodsData.k),e={itemData:{data:t,ct:this.data.goodsData.v},isBottom:!0};this.itemIcon.data=e,t=N12.gID(this.data.priceData.k),this.imgItem.setData(t),this.lbNum.textFlow=M18.HTP.parser(O3.tr(7185,this.data.priceData.v)),-1==this.data.limitnum?(P16.sGF(this.btnBuy,!1),this.btnBuy.enabled=!0,this.lbBuy.visible=!1):(this.lbBuy.visible=!0,this.data.overNum<=0?this.lbBuy.textFlow=M18.HTP.parser(O3.tr(7266)):this.lbBuy.textFlow=M18.HTP.parser(O3.tr(7263,this.data.overNum,this.data.limitnum)),P16.sGF(this.btnBuy,this.data.overNum<=0),this.btnBuy.enabled=0<this.data.overNum)},t}(eui.ItemRenderer);__reflect(CrossTeamShopPlainItemView.prototype,"CrossTeamShopPlainItemView");var FaBaoHeroInfoBaseView=function(s){function t(t,e){var i=s.call(this,t,e)||this;return i.skinName="FaBaoHeroInfoSkin",i.initList(),i}return __extends(t,s),t.prototype.initUI=function(){s.prototype.initUI.call(this),this.scImg.scrollPolicyH="OFF",this.scImg.scrollPolicyV="OFF",this.lbStr1.textFlow=M18.HTP.parse(O3.tr(6210))},t.prototype.open=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];s.prototype.open.apply(this,t),this.dlg.ZM69(this.closeSelf,this)},t.prototype.initList=function(){this.dataSource=new eui.ArrayCollection,this.listView.itemRenderer=AttrLabel,this.listView.dataProvider=this.dataSource},t.prototype.setData=function(t){this.curData=t,this.imgIconBg.source=this.curData.iconbg,O5.FB13(this.lbName,this.curData.name,this.curData.quality),this.lbLv.text=this.curData.lv.toString()},t.prototype.setDlgInfo=function(t,e,i,s){void 0===s&&(s=O6.C7),this.ctrl=s,this.closeDlgMsg=t,this.dlg.title=e,this.gpHeroInfo.$setVisible(i)},t.prototype.closeSelf=function(){App.CM.apF(this.ctrl,this.closeDlgMsg)},t.prototype.close=function(){s.prototype.close.call(this),this.dataSource.removeAll()},t}(BaseEuiView);__reflect(FaBaoHeroInfoBaseView.prototype,"FaBaoHeroInfoBaseView");var E4=function(){function t(){}return t.A1=0,t.A2=1,t.A3=2,t}();__reflect(E4.prototype,"E4");var J11=function(){function t(){}return t.A7=1,t.A14=2,t.A12=3,t.A6=4,t.A8=5,t.A13=6,t.A3=7,t.A4=8,t.A10=9,t.A5=10,t.A1=11,t.A2=12,t.A11=13,t.A9=14,t}();__reflect(J11.prototype,"J11");var I4=function(){function t(){}return t.A8=0,t.A9=1,t.A10=2,t.A4=3,t.A5=4,t.A6=5,t.A1=6,t.A2=7,t.A7=8,t.A3=9,t.survival=10,t}();__reflect(I4.prototype,"I4");var FightComponent=function(){function t(){this.loadCount=0}return t.prototype.start=function(){this.dealTime=0,this.dealInterval=0,this.isRuning=!0},t.prototype.stop=function(){this.dealTime=null,this.dealInterval=null,this.entity=null,this.isRuning=!1,this.type=null,this.params=null},t.prototype.update=function(t){},t.prototype.setParams=function(t){this.params=t},t.prototype.loadCountHit=function(t){void 0===t&&(t=!0),t?this.loadCount+=1:(this.loadCount-=1,this.loadCount<=0&&this.entity&&this.entity.loadCountHit(!1))},t}();__reflect(FightComponent.prototype,"FightComponent");var FightMapTile=function(e){function t(){var t=e.call(this)||this;return t.row=0,t.col=0,t}return __extends(t,e),t.prototype.setData=function(t,e,i,s,o){o&&(this.mapWH=o),this.setPosition(e,i);var r=this.row+FightD.MAP_UL+this.col+FightD.MAP_IMG_S,n=FightD.MAP_RES_PATH+t+FightD.MAP_CLIP+r,a=FightD.MAP_KEY+t+r;App.TF3.ZQ10(a,"image",platform.resUrl+n),App.TF3.getAsset(a,function(t){this.texture=t,s&&s()},this)},t.prototype.setPosition=function(t,e){null!=t&&(this.col=t),null!=e&&(this.row=e),this.mapWH||(this.mapWH=mapWH.SET_360_450),this.x=this.col*SET_MAP_WH[this.mapWH][0],this.y=this.row*SET_MAP_WH[this.mapWH][1]},t}(egret.Bitmap);__reflect(FightMapTile.prototype,"FightMapTile");var GrowGuideListView=function(s){function t(t,e){return s.call(this,t,e)||this}return __extends(t,s),t.prototype.initUI=function(){s.prototype.initUI.call(this),this.width=528,this.height=700;var t={render:GrowGuideRender,gap:5,width:this.width,height:this.height,arrowScale:1};this.listView=new CommonListBase(t),this.listView.horizontalCenter=0,this.listView.verticalCenter=0,this.addChild(this.listView)},t.prototype.open=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];s.prototype.open.call(this),this.listView.open(),this.apF(HH4.A1);var i=App.CM.gtM(O6.B82);i.isGrowRed=!1,i.notify()},t.prototype.uBM=function(t,e){s.prototype.uBM.call(this,t,e)},t.prototype.close=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];s.prototype.close.call(this),this.listView.close()},t.prototype.closeSelf=function(){App.VM.GY64(this)},t.prototype.getList=function(t){this.listView.rfL(t)},t}(BaseEuiView);__reflect(GrowGuideListView.prototype,"GrowGuideListView");var HeroInfoBaseView=function(s){function t(t,e){var i=s.call(this,t,e)||this;return i.skinName=DlgHeroInfoSkin,i.initList(),i}return __extends(t,s),t.prototype.initUI=function(){s.prototype.initUI.call(this),this.scImg.scrollPolicyH="OFF",this.scImg.scrollPolicyV="OFF"},t.prototype.open=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];s.prototype.open.apply(this,t),this.dlg.ZM69(this.closeSelf,this)},t.prototype.initList=function(){this.dataSource=new eui.ArrayCollection,this.listView.itemRenderer=AttrLabel,this.listView.dataProvider=this.dataSource},t.prototype.setData=function(t){this.curData=t},t.prototype.GY15=function(t,e,i){var s;if(e)switch(i){case 1:s={id:t,x:0,y:0,dir:Dir.br,objType:P13.A6,ps:e};break;case 2:s={id:t,x:0,y:0,dir:Dir.br,objType:P13.A6,ss:e};break;default:s={id:t,x:0,y:0,dir:Dir.br,objType:P13.A6}}else s={id:t,x:0,y:0,dir:Dir.br,objType:P13.A6};this.heroObj&&(this.heroObj.destory(),this.heroObj=null),this.heroObj=new FightGameObject,s.bt=BehaviourType.Attack_d,s.sr=1,this.heroObj.setData(s,this.gpHero),this.heroObj.action=Action.Stand},t.prototype.setDlgInfo=function(t,e,i,s){void 0===s&&(s=O6.C12),this.ctrl=s,this.closeDlgMsg=t,this.dlg.title=e,this.gpHeroInfo.$setVisible(i)},t.prototype.closeSelf=function(){App.CM.apF(this.ctrl,this.closeDlgMsg)},t.prototype.close=function(){s.prototype.close.call(this),this.heroObj.destory(),this.heroObj=null,this.gpHero.removeChildren(),this.dataSource.removeAll()},t}(BaseEuiView);__reflect(HeroInfoBaseView.prototype,"HeroInfoBaseView");var HeroBattleLineupFabaoAtkView=function(s){function t(t,e){var i=s.call(this,t,e)||this;return i.max=4,i.skinName="HeroBattleFabaoSkin",i}return __extends(t,s),t.prototype.initUI=function(){var e=this;this.listF.itemRenderer=HeroBattleFabaoBagItemView,this.listF.dataProvider=this.dataSource=new eui.ArrayCollection,this.listF.addEventListener(eui.UIEvent.ADDED,this.listAddChild,this),this.btnNext.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickNext,this),this.btnPrior.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickPrior,this),this.grpPos.$children.forEach(function(t){t.addEventListener(egret.TouchEvent.TOUCH_BEGIN,e.startDrag,e),t.addEventListener(egret.TouchEvent.TOUCH_END,e.stopDrag,e),t.addEventListener(egret.TouchEvent.TOUCH_TAP,e.GW87,e)}),this.btnPrior.label=O3.tr(8832),this.btnNext.label=O3.tr(8833),this.lbStr1.textFlow=M18.HTP.parser(O3.tr(6134))},t.prototype.GW87=function(t){for(var e=0,i=this.grpPos.$children;e<i.length;e++){var s=i[e],o=s==t.currentTarget;(s.Select=o)&&(this.id=s.data.data?s.data.data.id:0,this.GX5())}this.stopDrag(null)},t.prototype.open=function(){var t=App.CM.gtM(O6.HeroBattle);this.fl=t.af,this.changed=!1,this.changePage(1,!0);var e="1";if(this.fl[1])for(var i in this.fl[1]){e=i;break}this.GW87({currentTarget:this.grpPos.getChildByName(e)})},t.prototype.close=function(){var e=this;this.listF.removeEventListener(eui.UIEvent.ADDED,this.listAddChild,this),this.btnNext.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickNext,this),this.btnPrior.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickPrior,this),this.grpPos.$children.forEach(function(t){t.removeEventListener(egret.TouchEvent.TOUCH_BEGIN,e.startDrag,e),t.removeEventListener(egret.TouchEvent.TOUCH_END,e.stopDrag,e),t.removeEventListener(egret.TouchEvent.TOUCH_TAP,e.GW87,e)})},t.prototype.uBM=function(t,e){t instanceof HeroBattleModel&&(e==P4.CROSS_HEROCOMP_FABAO_UPBATTLE_RES?this.fl=t.af:e==P4.CROSS_HEROCOMP_FABAO_PUSH&&(this.stopDrag(null),this.fl=t.af),this.updateList(),this.GX5())},t.prototype.listAddChild=function(t){var e=t.target;e.addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.startDrag,this),e.addEventListener(egret.TouchEvent.TOUCH_END,this.stopDrag,this)},t.prototype.startDrag=function(t){var e=t.currentTarget;if(this.gs.scrollPolicyH=eui.ScrollPolicy.OFF,e instanceof HeroBattleFabaoBagItemView){if(0<e.data.id){this.spr.data=e.data,this.origin=e,this.stage.addEventListener(egret.TouchEvent.TOUCH_MOVE,this.updateDrag,this);var i=this.localToGlobal(0,0);this.offsetX=-i.x,this.offsetY=-i.y,this.spr.x=t.stageX+this.offsetX,this.spr.y=t.stageY+this.offsetY}}else if(e instanceof HeroBattleFabaoItemView&&e.data.data&&e.data.data.id){this.spr.data=e.data.data,this.origin=e,this.listF.touchThrough=this.g.visible=!0,this.stage.addEventListener(egret.TouchEvent.TOUCH_MOVE,this.updateDrag,this);i=this.localToGlobal(0,0);this.offsetX=-i.x,this.offsetY=-i.y,this.spr.x=t.stageX+this.offsetX,this.spr.y=t.stageY+this.offsetY}},t.prototype.updateDrag=function(t){this.spr.x=t.stageX+this.offsetX,this.spr.y=t.stageY+this.offsetY,this.spr.visible=!0,this.stage.addEventListener(egret.TouchEvent.TOUCH_END,this.stopDrag,this),this.origin instanceof HeroBattleFabaoItemView?this.origin.imgHead.visible=!1:this.origin instanceof HeroBattleFabaoBagItemView&&(this.origin.visible=!1)},t.prototype.stopDrag=function(t){var e=t?t.currentTarget:null;this.gs.scrollPolicyH=eui.ScrollPolicy.ON,t&&(this.spr.data&&(e instanceof HeroBattleFabaoItemView?(e.data.data=this.spr.data,e.data=e.data,this.switch_(this.page,parseInt(e.name),this.spr.data.id),this.GW87({currentTarget:e})):t.target==this.g&&this.origin instanceof HeroBattleFabaoItemView&&this.switch_(this.page,parseInt(this.origin.name),0)),t.stopPropagation()),this.origin instanceof HeroBattleFabaoBagItemView?this.origin.visible=!0:this.origin instanceof HeroBattleFabaoItemView&&(this.origin.imgHead.visible=!0),this.spr.data=this.origin=null,this.g.visible=this.listF.touchThrough=this.spr.visible=!1,this.stage.removeEventListener(egret.TouchEvent.TOUCH_MOVE,this.updateDrag,this),this.stage.removeEventListener(egret.TouchEvent.TOUCH_END,this.stopDrag,this)},t.prototype.switch_=function(t,e,i){App.CM.apF(O6.HeroBattle,P4.CROSS_HEROCOMP_FABAO_UPBATTLE_REQ,i,e,t,1)},t.prototype.GV29=function(){for(var t=TG64.FI46(!0),e=App.CM.gtM(O6.C7),i=0;i<4;i++){this.grpPos.getChildAt(i).data={pos:e.skillList[i+1]}}var s=this.fl[this.page];if(s)for(var o in s){var r=s[o],n=this.grpPos.getChildByName(o);n.data.data=t[r],n.data=n.data}},t.prototype.inLineup=function(t){for(var e in this.fl)for(var i in this.fl[e])if(this.fl[e][i]==t)return!0;return!1},t.prototype.updateList=function(){var t=[],e=TG64.FI46(!0);for(var i in e){var s=e[i];s.isOwn&&!this.inLineup(s.id)&&t.push(s)}this.dataSource.replaceAll(t),this.GV29()},t.prototype.GX5=function(){var t=this.fl[this.page]?Object.keys(this.fl[this.page]).length:0;this.labTitle.textFlow=O3.tr2(8942,M18.FF66(this.page),t,this.max);for(var e=0,i=this.grpPos.$children;e<i.length;e++){var s=i[e];if(s.Select){this.id=s.data.data?s.data.data.id:null;break}}if(this.id){var o=TG64.FI46(!0)[this.id],r=new eui.Label;r.size=20;for(var n="";n+="　",r.textFlow=M18.HTP.parse(n),r.width<this.imgText.width-15;);var a=n+o.getSkillDesc(),h=M18.HTP.parse(a);this.lbDesc.textFlow=h,this.lbSkillName.textFlow=M18.HTP.parse(O3.tr(6223,o.getSkillName())),this.img.source=o.iconbg}else this.img.source=this.lbSkillName.text=this.lbDesc.text=""},t.prototype.onClickNext=function(){this.changePage(1)},t.prototype.onClickPrior=function(){this.changePage(-1)},t.prototype.updateChangeButton=function(){this.btnPrior.touchEnabled=1<this.page,P16.sGF(this.btnPrior,!this.btnPrior.touchEnabled),this.btnNext.touchEnabled=this.page<3,P16.sGF(this.btnNext,!this.btnNext.touchEnabled)},t.prototype.changePage=function(t,e){void 0===e&&(e=!1);var i=e?t:this.page+t;i<1||3<i||(this.page=i,this.updateChangeButton(),this.updateList(),this.GX5())},t}(BaseEuiView);__reflect(HeroBattleLineupFabaoAtkView.prototype,"HeroBattleLineupFabaoAtkView");var HeroBattleLineupHeroAtkView=function(s){function t(t,e){var i=s.call(this,t,e)||this;return i.skinName="HeroBattleHeroSkin",i}return __extends(t,s),t.prototype.initUI=function(){this.btnNext.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickNext,this),this.btnPrior.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickPrior,this),this.btnReset.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickReset,this),this.btnSave.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickSave,this),this.dgList.dataProvider=this.dataSource=new eui.ArrayCollection,this.dgList.itemRenderer=UltimateBattleHeroIconItemView,this.dgList.addEventListener(eui.ItemTapEvent.ITEM_TAP,this.onClick,this),this.dgList.addEventListener(eui.UIEvent.ADDED,this.listAddChild,this),this.labTr8948.textFlow=O3.tr2(8948),this.btnPrior.label=O3.tr(8832),this.btnNext.label=O3.tr(8833),this.btnSave.label=O3.tr(8943),this.grpMap=new FightMapView,this.grpMapBg.addChild(this.grpMap),this.heroAvatars={}},t.prototype.listAddChild=function(t){var e=t.target;e.addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.startDrag,this),e.addEventListener(egret.TouchEvent.TOUCH_END,this.stopDrag,this)},t.prototype.setMap=function(){var t=App.CM.gtM(O6.B64).FL64();this.grpMap.setMapName(t.resource),this.grpMap.bottom=FightD.MAP_ROW*SET_MAP_WH[mapWH.SET_360_450][1]-this.grpMapBg.height},t.prototype.open=function(){this.changed=!1,this.setHeroList(),this.changePage(1,!0),this.GX5(),this.setMap()},t.prototype.setHeroList=function(){var t=App.CM.gtM(O6.HeroBattle);this.hl=P7.copyTab(t.ah)},t.prototype.close=function(){var e=this;this.btnNext.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickNext,this),this.btnPrior.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickPrior,this),this.btnReset.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickReset,this),this.btnSave.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickSave,this),this.dgList.removeEventListener(eui.ItemTapEvent.ITEM_TAP,this.onClick,this),this.dgList.removeEventListener(eui.UIEvent.ADDED,this.listAddChild,null),this.dgList.$children.forEach(function(t){t.removeEventListener(egret.TouchEvent.TOUCH_BEGIN,e.startDrag,e),t.removeEventListener(egret.TouchEvent.TOUCH_BEGIN,e.stopDrag,e)}),this.removeAvatar(),this.dataSource.removeAll(),this.stopDrag(null)},t.prototype.uBM=function(t,e){t instanceof HeroBattleModel&&(e==P4.CROSS_HEROCOMP_SAVE_SQUAD_RES&&(this.changed=!1,this.setHeroList(),P18.sDP(O3.tr(8944))),this.GX5(),this.updateList())},t.prototype.startDrag=function(t){var e=t.currentTarget;if(0<e.data.id){this.spr.data=P7.copyTab(e.data),this.origin=t.currentTarget,this.stage.addEventListener(egret.TouchEvent.TOUCH_MOVE,this.updateDrag,this),this.stage.addEventListener(egret.TouchEvent.TOUCH_END,this.stopDrag,this);var i=this.localToGlobal(0,0);this.offsetX=-i.x,this.offsetY=-i.y,this.spr.x=t.stageX+this.offsetX,this.spr.y=t.stageY+this.offsetY}},t.prototype.updateDrag=function(t){this.spr.x=t.stageX+this.offsetX,this.spr.y=t.stageY+this.offsetY,this.spr.visible||(this.spr.visible=!0,this.origin.data.icon="v1_img_jiaqianse_png",this.origin.data.bg=N12.getBox(1),this.origin.data=this.origin.data)},t.prototype.stopDrag=function(t){var e=t?t.currentTarget:null;t&&(this.spr.visible&&this.spr.data&&e instanceof UltimateBattleHeroIconItemView&&this.switch_(this.page,e.data.pos,this.spr.data.id),t.stopPropagation()),this.origin&&(P7.ObjectSet(this.origin.data,this.spr.data),this.origin.data=this.origin.data),delete this.spr.data,delete this.origin,this.spr.visible=!1,this.stage.removeEventListener(egret.TouchEvent.TOUCH_MOVE,this.updateDrag,this),this.stage.removeEventListener(egret.TouchEvent.TOUCH_END,this.stopDrag,this)},t.prototype.onClickNext=function(){this.changePage(1)},t.prototype.onClickPrior=function(){this.changePage(-1)},t.prototype.onClickReset=function(){delete this.hl[this.page],this.updateList(),this.GX5()},t.prototype.onClickSave=function(){App.CM.apF(O6.HeroBattle,P4.CROSS_HEROCOMP_SAVE_SQUAD_REQ,this.hl,1)},t.prototype.onClick=function(t){var s=this,e=App.VM.open(O7.HeroBattleHeroList,this.page,t.item.pos,this.hl,[t.item.id]);e&&e.setClickCallback(function(t,e,i){return s.switch_(t,e,i)})},t.prototype.switch_=function(t,n,a){var e=P7.copyTab(this.hl),i=e[t];i||(i=e[t]=[]);var h=!0;if(i.every(function(t,e,i){if(t.v!=a)return!0;if(t.k==n)return h=!1;for(var s=0,o=i;s<o.length;s++){var r=o[s];if(r.k==n){r.k=t.k;break}}return t.k=n,!1})){for(var s=void 0,o=3<=i.length,r=!1,p=0,l=i;p<l.length;p++){if((d=l[p]).k==n){r=!(o=!1),s=d.v,d.v=a;break}}if(o)return P18.sDP(O3.tr(8941));for(var c in r||i.push({k:n,v:a}),e)if(c!=t)for(var u=0;u<e[c].length;u++){var d;if((d=e[c][u]).v==a){s?d.v=s:e[c].splice(u,1);break}}}this.changed=h,this.hl=e,this.updateList(),this.GX5()},t.prototype.GX5=function(){var t=this.hl[this.page]?this.hl[this.page].length:0,e=0;for(var i in this.hl)e+=this.hl[i]?this.hl[i].length:0;this.labTitle.textFlow=O3.tr2(8942,M18.FF66(this.page),t,3),this.btnSave.touchEnabled=this.changed&&9<=e,P16.sGF(this.btnSave,!this.btnSave.touchEnabled)},t.prototype.updateList=function(){for(var t=this.dataSource.source||[],e=App.CM.gtM(O6.C12),i=N12.getBox(1),s=[2,3,4,7,8,9],o=0;o<6;o++)t[o]={id:0,name:"",icon:"v1_img_jiaqianse_png",bg:i,state:0,pos:s[o]};var r=this.hl[this.page];for(var o in r)if(r[o]){var n=t[s.indexOf(r[o].k)],a=e.heroList[r[o].v],h=a.id,p=a.icon,l=a.quality;a.name,a.power;n.bg=N12.getBox(l),n.icon=p,n.id=h}this.dataSource.source=t,this.GV29()},t.prototype.GV29=function(){var s=this,t=this.hl[this.page],o=App.CM.gtM(O6.C12),r=[];for(var e in t&&t.forEach(function(t){if(t.v){r.push(t.k);var e=o.heroList[t.v];if(s.heroAvatars[t.k]){if(s.heroAvatars[t.k].body.id==e.heroModel)return;s.heroAvatars[t.k].destory(),delete s.heroAvatars[t.k]}s.heroAvatars[t.k]=new FightGameObject;var i={id:e.heroModel,x:0,y:0,dir:Dir.tl,objType:P13.A6,bt:BehaviourType.Stand_u};s.heroAvatars[t.k].setData(i,s.gLine.getChildByName(t.k+""))}}),this.heroAvatars)0<=r.indexOf(parseInt(e))||(this.heroAvatars[e].destory(),delete this.heroAvatars[e])},t.prototype.removeAvatar=function(){var t=this.heroAvatars;for(var e in t)t[e]instanceof FightGameObject&&(t[e].destory(),delete t[e])},t.prototype.changePage=function(t,e){void 0===e&&(e=!1);var i=e?t:this.page+t;i<1||3<i||(this.page=i,this.updateChangeButton(),this.updateList(),this.GX5())},t.prototype.updateChangeButton=function(){this.btnPrior.touchEnabled=1<this.page,P16.sGF(this.btnPrior,!this.btnPrior.touchEnabled),this.btnNext.touchEnabled=this.page<3,P16.sGF(this.btnNext,!this.btnNext.touchEnabled)},t}(BaseEuiView);__reflect(HeroBattleLineupHeroAtkView.prototype,"HeroBattleLineupHeroAtkView");var HeroEquipView=function(s){function t(t,e){var i=s.call(this,t,e)||this;return i.skinName=HeroEquipSkin,i}return __extends(t,s),t.prototype.initUI=function(){s.prototype.initUI.call(this),this.btnEquip.label=O3.tr(3610),this.lbStr1.textFlow=M18.HTP.parse(O3.tr(4869)),this.lbCurTitle.textFlow=M18.HTP.parse(O3.tr(4870)),this.lbNextTitle.textFlow=M18.HTP.parse(O3.tr(4871)),this.cbAutoSmelt.label=O3.tr(4872)},t.prototype.open=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];s.prototype.open.call(this),this.sGN("release_heroequip"),this.btnEquip.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickEquip,this),this.btnPack.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickPack,this);var i=App.CM.gtM(O6.B26);i.setCurPos(),this.initSlot(i),this.GY15()},t.prototype.GY15=function(){var t={id:THH1.FE4(),x:0,y:0,dir:Dir.br,objType:P13.A6,bt:BehaviourType.Attack_d,sr:1};this.heroObj&&(this.imgHero.removeChildren(),this.heroObj.destory(),this.heroObj=null),this.heroObj=new FightGameObject,this.heroObj.setData(t,this.imgHero),this.heroObj.action=Action.Stand},t.prototype.initSlot=function(t){this.slotList=[];for(var e=1;e<=10;e++){var i=this["gpPos"+e],s=new HeroEquipIcon;i.addChild(s),this.slotList[e]=s}},t.prototype.ZO78=function(t){for(var e in this.slotList){this.slotList[e].data={equipData:t.equipSlots[e],viewType:this.currentState}}var i=0;switch(this.currentState){case"sand":i=E1.A1;break;case"upStar":i=E1.A5;break;case"break":i=E1.A2;break;case"awaken":i=E1.A3}this.lbPowerTop.text=TE88.FA70(i).toString(),this.btnEquip.visible=t.isCanEquip,t.isCanEquip?(this.btnEquip.visible=!0,P7.FD53(this.btnEquip,1)):this.btnEquip.visible=!1},t.prototype.setAttrLabel=function(t){var e=1;for(var i in t.curData){var s=t.curData[i];this["lbCurAttr"+e].textFlow=M18.HTP.parse(O3.tr(3611,s.name,s.value)),this["lbCurAttr"+e].visible=!0,e++}for(;e<=4;e++)this["lbCurAttr"+e].visible=!1;if(t.nextData){for(var i in e=1,t.nextData){s=t.nextData[i];this["lbNextAttr"+e].textFlow=M18.HTP.parse(O3.tr(3612,s.name,s.value)),this["lbNextAttr"+e].visible=!0,e++}for(;e<=4;e++)this["lbNextAttr"+e].visible=!1;this.lbMaxLv.visible=!1,this.gpNextAttr.visible=!0}else this.gpNextAttr.visible=!1,this.lbMaxLv.visible=!0,this.lbMaxLv.textFlow=M18.FG71(O3.tr(910))},t.prototype.showEffect=function(t,e){App.THH32.rEf(this.gpEff,"wdsg_cgtx_s1_002"),App.THH32.rEf(this.gpEff,"wdsg_tpsb_s2_001"),App.THH32.aUE(this.gpEff,t,this.gpEff.width/2,this.gpEff.height/2,1,null,null,null,this.endEffect.bind(this,t),e)},t.prototype.endEffect=function(t){App.THH32.rEf(this.gpEff,t)},t.prototype.onClickEquip=function(){App.CM.apF(O6.B26,G14.A3)},t.prototype.onClickPack=function(){App.CM.apF(O6.C11,O14.A9,O7.E38)},t.prototype.close=function(){this.btnEquip.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickEquip,this),this.btnPack.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickPack,this)},t}(BaseEuiView);__reflect(HeroEquipView.prototype,"HeroEquipView");var MasterOnlineRewardItem=function(i){function t(){var t=i.call(this)||this;return t.skinName="MasterOnlineItemSkin",t}return __extends(t,i),t.prototype.childrenCreated=function(){i.prototype.childrenCreated.call(this),this.addEventListener(egret.Event.REMOVED_FROM_STAGE,this.remove,this),this.btnGet.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClick,this)},t.prototype.dataChanged=function(){i.prototype.dataChanged.call(this);var t=N12.gID(this.data.data.reward.k),e=TF59.FC9(t.quality);this.itemicon.data={itemData:{data:t,ct:this.data.data.reward.v},texiao:e,isBottom:!1},this.labTitle.textFlow=O3.tr2(7368,this.data.data.seconds/60),this.btnGet.touchEnabled=this.data.state==J13.A3,this.btnGet.bgStr=this.btnGet.touchEnabled?"v1_btn_yellow_1_png":"v1_btn_greenh_1a_png",this.btnGet.imgNew.visible=this.data.state===J13.A3,this.imgGet.visible=this.data.state==J13.A2,this.btnGet.visible=!this.imgGet.visible,this.btnGet.label=this.data.state==J13.A3?O3.tr(7367):O3.tr(7371)},t.prototype.remove=function(){this.removeEventListener(egret.Event.REMOVED_FROM_STAGE,this.remove,this),this.btnGet.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClick,this)},t.prototype.onClick=function(){App.CM.apF(O6.B92,M1.A23,2,this.data.aid,this.data.data.seconds)},t}(eui.ItemRenderer);__reflect(MasterOnlineRewardItem.prototype,"MasterOnlineRewardItem");var MonarchLegionRankView=function(s){function t(t,e){var i=s.call(this,t,e)||this;return i.type=1,i.skinName="MonarchTestSingleRankSkin",i}return __extends(t,s),Object.defineProperty(t.prototype,"model",{get:function(){return App.CM.gtM(O6.A93)},enumerable:!0,configurable:!0}),t.prototype.initUI=function(){this.type=1;O3.tr(610);this.rankData=[],this.list=new CommonListBase({render:MonarchRankItemView,gap:5,width:this.gList.width,height:this.gList.height}),this.gList.addChild(this.list),this.labTips.textFlow=O3.tr2(7905)},t.prototype.open=function(t){s.prototype.open.call(this),this.list.open(),this.GX5(this.model),this.updateList(),App.K16.doTimer(300,1,this.loadRank,this)},t.prototype.close=function(){this.list.close(),s.prototype.close.call(this)},t.prototype.uBM=function(t,e,i){if(t instanceof MonarchTest.Model&&(this.GX5(t),1==this.type&&e==P4.D29||2==this.type&&e==P4.D31)){for(var s=0,o=i;s<o.length;s++){var r=o[s];this.rankData[r.r-1]={name:r.sa+"."+r.n,r:r.r,d:r.d}}this.updateList()}},t.prototype.loadRank=function(){if(1==this.type){for(var t=this.conf,e=3,i=t.length-1;0<=i;i--){var s=t[i];if(s.b==s.e){e=s.b;break}}App.CM.apF(O6.A93,P4.D28,1,e)}},t.prototype.GX5=function(t){this.labRank.textFlow=O3.tr2(7880,t.mlr<=0?O3.tr(7892):t.mlr)},t.prototype.updateList=function(){var o=this;1!=this.type&&2!=this.type||this.list.rfL(this.conf.map(function(t){var e=o.rankData[t.b-1],i=e?e.name:O3.tr(610),s=e?e.d:0;return{reward:t.reward,role:{rank:t.b,rend:t.e,name:i,damage:s},type:o.type}}))},Object.defineProperty(t.prototype,"conf",{get:function(){return 1==this.type?MonarchTest.Config.rankingreward:MonarchTest.Config.personalreward},enumerable:!0,configurable:!0}),t}(BaseEuiView);__reflect(MonarchLegionRankView.prototype,"MonarchLegionRankView");var P12=function(){function t(){}return t.A22=1,t.A29=2,t.A13=3,t.A23=4,t.A30=5,t.A31=6,t.A5=7,t.A24=8,t.A25=9,t.A17=10,t.A14=11,t.A26=12,t.A2=13,t.A18=14,t.A19=15,t.A32=16,t.A20=17,t.A15=18,t.A9=19,t.A21=20,t.A8=21,t.A10=22,t.A27=23,t.A16=24,t.A6=25,t.A28=26,t.A11=27,t.A7=28,t.A4=29,t.A1=30,t.A12=31,t.A3=32,t.HEROBATTLE_SHOP=33,t}();__reflect(P12.prototype,"P12");var ItemSocial=function(e){function t(){var t=e.call(this)||this;return t.skinName=ItemSocialSkin,t.addEventListener(egret.Event.ADDED_TO_STAGE,t.open,t),t.addEventListener(egret.Event.REMOVED_FROM_STAGE,t.close,t),t}return __extends(t,e),t.prototype.open=function(){this.addEventListener(egret.TouchEvent.TOUCH_TAP,this.oCI,this),this.lbStateTip.text=O3.tr(5886)},t.prototype.close=function(){this.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.oCI,this)},t.prototype.childrenCreated=function(){e.prototype.createChildren.call(this)},t.prototype.dataChanged=function(){this.lbName.text=this.data.sName;var t=this.lbName.$getWidth();this.imgV.$setX(121+t),this.lbLv.text=O3.tr(2620)+this.data.nLv,this.lbPower.text=O3.tr(2621)+this.data.nPower;var e="";0==this.data.bOnlineState?(e=O3.tr(2622),this.lbState.textColor=parseInt("0xff0000")):(e=O3.tr(2623),this.lbState.textColor=parseInt("0x0090ff")),this.imgIcon.$setY(0),this.imgBg.$setY(-4),this.imgStar.$setVisible(!0),1==this.data.bStarState?this.imgStar.source="v1_img_star_1_png":0==this.data.bStarState?this.imgStar.source="v1_img_star3_png":(this.imgIcon.$setY(10),this.imgBg.$setY(6),this.imgStar.$setVisible(!1)),this.lbState.text=e,this.imgIcon.source=this.data.ic},t.prototype.oCI=function(){App.CM.gtM(O6.B84).isBlack||(App.CM.apF(O6.B84,L14.A20,this.data),TG40.playClickEffect())},t}(eui.ItemRenderer);__reflect(ItemSocial.prototype,"ItemSocial");var SocialContentView=function(s){function t(t,e){var i=s.call(this,t,e)||this;return i.list=[],i.allData=[],i.pageNum=1,i.pageSize=5,i.reqName=0,i.skinName=SocialContentSkin,i.dataSource=new eui.ArrayCollection,i.listView.dataProvider=i.dataSource,i}return __extends(t,s),t.prototype.initUI=function(){s.prototype.initUI.call(this)},t.prototype.initData=function(){s.prototype.initData.call(this)},t.prototype.open=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.curPageNum=1,s.prototype.open.call(this,t),this.btnLeft.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickLeft,this),this.btnRight.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickRight,this),this.ZM92()},t.prototype.ZM7=function(){if(App.CM.gtM(O6.B84).isBlack){var t={size:5,page:this.curPageNum};App.CM.apF(O6.B84,L14.A14,t)}},t.prototype.ZT21=function(){if(App.CM.gtM(O6.B84).isBlack)this.list=this.allData;else{var t=5*(this.curPageNum-1),e=Math.min(t+5,this.allData.length);this.list=this.allData.slice(t,e),this.pageNum=Math.ceil(this.allData.length/5)}},t.prototype.createList=function(t){this.listView.itemRenderer=t},t.prototype.updateList=function(){this.ZT21(),this.dataSource.replaceAll(this.list),this.ZM92()},t.prototype.ZM92=function(){0==this.pageNum&&(this.pageNum=1),this.lbNum.textFlow=M18.HTP.parse(O3.tr(3997,this.curPageNum,this.pageNum))},t.prototype.onClickLeft=function(){1!=this.curPageNum&&(this.curPageNum=this.curPageNum-1,App.CM.gtM(O6.B84).isBlack?this.ZM7():this.updateList())},t.prototype.onClickRight=function(){this.curPageNum!=this.pageNum&&(this.curPageNum=this.curPageNum+1,App.CM.gtM(O6.B84).isBlack?this.ZM7():this.updateList())},t.prototype.close=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];s.prototype.close.call(this,t),this.btnLeft.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickLeft,this),this.btnRight.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickRight,this),this.dataSource.removeAll()},t}(BaseEuiView);__reflect(SocialContentView.prototype,"SocialContentView");var WxBasePanelView=function(s){function t(t,e){var i=s.call(this,t,e)||this;return i.skinName="skins.WxBasePanelSkin",i}return __extends(t,s),t.prototype.open=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];s.prototype.open.apply(this,t),this.bgMask.addEventListener(egret.TouchEvent.TOUCH_TAP,this.closeSelf,this),this.closeBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.closeSelf,this),this.inviteShop.addEventListener(egret.TouchEvent.TOUCH_TAP,this.ZT87,this)},t.prototype.close=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];s.prototype.close.call(this,t),this.content.removeChildren(),this.bgMask.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.closeSelf,this),this.closeBtn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.closeSelf,this),this.inviteShop.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.ZT87,this)},t.prototype.ZU50=function(){var t=THH27.FE33();this.inviteShop.imgNew.visible=0<t},t.prototype.ZT87=function(){window.authButton&&window.authButton.destroy(),App.VM.open(O7.HH98,O7.I3,P12.A21)},t.prototype.closeSelf=function(){App.VM.GY64(this)},t}(BaseEuiView);__reflect(WxBasePanelView.prototype,"WxBasePanelView");var Achievement,TC97=function(i){function t(t){var e=i.call(this,t)||this;return e.openState=!1,e.redNum=0,e}return __extends(t,i),t.prototype.ZC13=function(t){t&&(null!=this.actData?this.actData.updateData(t):this.actData=new HolidayExchangeData(t),this.updateRed())},t.prototype.updateRed=function(){this.redNum=this.FL35()},t.prototype.FL35=function(){for(var t=0,e=this.actData.exchangeList;t<e.length;t++){var i=e[t];if(N12.FL6(i.n)&&i.l-(this.actData.exchangeCount[i.eid]||0))return 1}return 0},t.prototype.notify=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];i.prototype.notifyView.apply(this,[this].concat(t))},t}(TG79);__reflect(TC97.prototype,"TC97"),function(t){var e=function(){function t(){}return t.OpenMainView=0,t.CloseMainView=1,t.SelectTitle=2,t.Load=3,t.Load_Res=4,t.Get_Reward=5,t.Get_Reward_Res=6,t.Update_Push=7,t.OpenTips=8,t.CloseTips=9,t}();t.Const=e,__reflect(e.prototype,"Achievement.Const")}(Achievement||(Achievement={})),function(n){var t=function(e){function t(){var t=e.call(this)||this;return new n.Model(t),t.proxy=new n.Proxy(t),App.VM.register(O7.F68,"AchievementMainView",t,K17.UI_Main_TOP),t.rgF(n.Const.OpenMainView,t.GT93,t),t.rgF(n.Const.SelectTitle,t.GW87,t),App.VM.register(O7.C74,"AchivementTipsView",t,K17.UI_Popup),t.rgF(n.Const.OpenTips,t.GT92,t),t.rgF(n.Const.CloseTips,t.GR90,t),t.model.aLV(O7.I64),t.model.aLV(O7.I39),t.model.aLV(O7.B93),t.model.aLV(O7.C74),t.model.aLV(O7.F68),t.rgF(n.Const.Load,t.proxy.load,t.proxy),t.rgF(n.Const.Load_Res,t.loadRes,t),t.rgF(n.Const.Get_Reward,t.proxy.FL67,t.proxy),t.rgF(n.Const.Get_Reward_Res,t.GT91,t),t.rgF(n.Const.Update_Push,t.GW86,t),t}return __extends(t,e),Object.defineProperty(t.prototype,"model",{get:function(){return this.gtM()},enumerable:!0,configurable:!0}),t.prototype.loadRes=function(t){if(200==t.head.state){var e=t.body;this.model.ZD48(e),this.model.notify(P4.F44)}else App.CM.apF(O6.B87,L10.A4,t)},t.prototype.GT91=function(t){if(200==t.head.state){var e=t.body;this.model.ZD48(e),this.model.notify(P4.F44),P5.sIs(t.body.ob)}else 248!==t.head.status&&App.CM.apF(O6.B87,L10.A4,t)},t.prototype.GW86=function(t){if(200==t.head.state){for(var e=t.body,i=App.CM.gtM(O6.B82),s=0,o=e.achs;s<o.length;s++){var r=o[s];if(null!=i.avatarInfo&&i.avatarInfo.l>=n.openLv&&0===r.w&&1===r.f){n.popTips(r.i);break}}this.model.ZD48(e),this.model.notify(P4.K58)}else App.CM.apF(O6.B87,L10.A4,t)},t.prototype.GT92=function(t){App.VM.setAutoClose(O7.C74,!1),App.VM.open(O7.C74,t)},t.prototype.GR90=function(){App.VM.setAutoClose(O7.C74,!0),App.VM.close(O7.C74)},t.prototype.GT93=function(){App.VM.open(O7.B93)},t.prototype.GW87=function(t){var e=App.VM.gOV(O7.B93);e&&t&&e.select(t)},t}(TE11);n.Controller=t,__reflect(t.prototype,"Achievement.Controller")}(Achievement||(Achievement={})),function(s){var t=function(i){function t(t){var e=i.call(this,t)||this;return e.data=new s.Vo({}),e}return __extends(t,i),t.prototype.ZD48=function(t){this.data.updateData(t)},t.prototype.updateRed=function(){},t.prototype.FL35=function(){return s.hasDot()?1:0},t.prototype.notify=function(t){i.prototype.notifyView.call(this,this,t)},t}(TG79);s.Model=t,__reflect(t.prototype,"Achievement.Model")}(Achievement||(Achievement={})),function(e){var t=function(i){function t(t){var e=i.call(this,t)||this;return e.rSM(P4.Q75,e.loadResponse,e),e.rSM(P4.K58,e.ZQ20,e),e.rSM(P4.F44,e.ZHH62,e),e}return __extends(t,i),t.prototype.load=function(){var t={type:P4.Q74,body:{}};this.sSM(t)},t.prototype.FL67=function(t,e){var i={type:P4.F43,body:{id:t,s:e}};this.sSM(i)},t.prototype.loadResponse=function(t){this.apF(e.Const.Load_Res,t)},t.prototype.ZHH62=function(t){this.apF(e.Const.Get_Reward_Res,t)},t.prototype.ZQ20=function(t){this.apF(e.Const.Update_Push,t)},t}(TG80);e.Proxy=t,__reflect(t.prototype,"Achievement.Proxy")}(Achievement||(Achievement={})),function(a){var h;function e(t){var e=a.achievementData[t];if(e)for(var i=App.CM.gtM(O6.A84),s=0,o=e;s<o.length;s++){var r=o[s],n=i.data.getStatus(r.id);if(1===n||2===n)return!0}return!1}a.achievementData={},a.openLv=255,a.shareBonus=1,a.FK35=function(t){var e=t.achievement_init,i=t.achievement_achievement;for(var s in e&&(a.openLv=parseInt(e.openLv.value),a.shareBonus=parseInt(e.shareBonus.value)),h=i){var o=i[s];a.achievementData[o.mode]||(a.achievementData[o.mode]=[]),a.achievementData[o.mode].push(o)}function r(t,e){return t.id-e.id}for(var n in a.achievementData)a.achievementData[n].sort(r)},a.getTask=function(t){return h[t]},a.canGetByType=e,a.hasDot=function(){for(var t in a.achievementData)if(e(parseInt(t)))return!0;return!1},a.canShare=function(){return"P0004896"!=platform.gameId&&"P0004901"!=platform.gameId};var i={};a.popTips=function(t){i[t]||1!==h[t].ispopup||(App.CM.apF(O6.A84,a.Const.OpenTips,t),i[t]=1)}}(Achievement||(Achievement={})),function(e){var t=function(){function t(t){this.achievementVo={},this.updateData(t)}return t.prototype.updateData=function(t){if(t){if(t.achs)for(var e=0,i=t.achs;e<i.length;e++){var s=i[e];this.achievementVo[s.i]=s}t.ach&&(this.achievementVo[t.ach.i]=t.ach)}},t.prototype.getProgress=function(t){var e=this.achievementVo[t];return e?e.p:0},t.prototype.isFinish=function(t){var e=this.achievementVo[t];return!!e&&(1===e.f&&1===e.w&&1===e.t)},t.prototype.canGet=function(t){var e=this.achievementVo[t],i=!!e&&0===e.w,s=!!e&&1===e.f;return i&&s},t.prototype.canGet2=function(t){var e=this.achievementVo[t],i=!!e&&0===e.t,s=!!e&&1===e.f;return i&&s},t.prototype.getStatus=function(t){return this.isFinish(t)?4:this.canGet(t)?1:this.canGet2(t)?e.canShare()?2:4:3},t}();e.Vo=t,__reflect(t.prototype,"Achievement.Vo")}(Achievement||(Achievement={}));var AchievementDailyShareView=function(s){function t(t,e){var i=s.call(this,t,e)||this;return i.selectTypeIndex=1,i.canShare=!1,i.skinName="DailyShareViewSkin",i}return __extends(t,s),t.prototype.initUI=function(){this.dgTaskList=new CommonListBase({render:AchievementTaskListItem,gap:5,width:this.dgTask.width,height:this.dgTask.height,arrowScale:1}),this.dgTask.addChild(this.dgTaskList),this.dgTitleList=new CommonListBase({render:AchievementMenuListItem,gap:5,width:this.dgTitle.width,height:this.dgTitle.height,arrowScale:1}),this.dgTitle.addChild(this.dgTitleList),this.canShare=Achievement.canShare(),this.GX5()},t.prototype.open=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];s.prototype.open.apply(this,t),this.dgTitleList.open(),this.dgTaskList.open(),this.imgBanner.source=this.canShare?"v1_fonts_chengjiu_png":"v1_fonts_chengjiu01_png"},t.prototype.close=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];s.prototype.close.call(this,t),this.dgTitleList.close(),this.dgTaskList.close()},t.prototype.uBM=function(t){t instanceof Achievement.Model&&this.GX5()},t.prototype.select=function(t){this.selectTypeIndex=t,this.dgTaskList.ZQ18(0),this.GX5()},t.prototype.GX5=function(){this.updateMenu(),this.ZQ21()},t.prototype.ZQ21=function(){var r=this,t=Achievement.achievementData[this.selectTypeIndex];if(t){var n=App.CM.gtM(O6.A84),e=t.map(function(t){var e,i=n.data.getProgress(t.id),s=n.data.getStatus(t.id),o=23===t.mode?O3.tr(4302,M18.FF65(i),M18.FF65(t.needcount)):O3.tr(4302,i,t.needcount);return e=27===t.mode?i?i<=t.needcount?2987793:14164514:2987793:i>=t.needcount?2987793:14164514,{id:t.id,title:t.taskdes,progress_color:e,progress:o,type:t.mode,subclass:t.subclass,award:t.award,status:s,canShare:r.canShare,ftlink:t.ftlink}}).sort(function(t,e){var i=Math.max(t.status,e.status)<=2;return t.status==e.status||i?t.id-e.id:t.status-e.status});this.dgTaskList.rfL(e)}},t.prototype.updateMenu=function(){var t=[];App.CM.gtM(O6.A84);for(var e in Achievement.achievementData){var i=Achievement.achievementData[e][1],s=Achievement.canGetByType(i.mode);"PM001109"==platform.gameId&&"2"==window.isPayType&&"VIP"==i.page||t.push({title:i.page,type:i.mode,index:i.id,selected:this.selectTypeIndex===i.mode,dot:s,sort:i.sort+(s?-255:0)})}t.sort(function(t,e){return t.sort-e.sort}),this.dgTitleList.rfL(t)},t}(BaseEuiView);__reflect(AchievementDailyShareView.prototype,"AchievementDailyShareView");var AchievementMainView=function(s){function t(t,e){var i=s.call(this,t,e)||this;return i.skinName="AchievementMainViewSkin",i.sGN("release_achievement"),App.VM.rgS(O7.F68,O7.B93,"AchievementDailyShareView",i.content),i.viewdatas=[{view:O7.B93,name:O3.tr(4300),openLv:Achievement.openLv}],i.btnList=new ButtonList(i.viewdatas.map(function(t){return t.name}),i.viewdatas.map(function(t){return t.view}),i.ZQ23.bind(i)),i.btnList.init(WxTabView),i.btnList.setListGap(3),i.btnList.ZE62(),i.btnGroup.addChild(i.btnList),i}return __extends(t,s),t.prototype.initUI=function(){s.prototype.initUI.call(this)},t.prototype.uBM=function(t){t instanceof Achievement.Model&&this.btnList.ZHH58(O7.B93,t.FL35())},t.prototype.ZQ23=function(t){for(var e=0,i=this.viewdatas;e<i.length;e++){var s=i[e];if(s.view===t){if(App.CM.gtM(O6.B82).avatarInfo.l>=s.openLv)this.btnList.ZM66(s.view);else{var o=K18.init.commonDesc1.value;P18.sDP(M18.format(o,[s.openLv]))}return!0}}return!1},t.prototype.open=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(s.prototype.open.apply(this,t),this.btnClose.addEventListener(egret.TouchEvent.TOUCH_TAP,this.oCC,this),this.backBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.oCC,this),this.viewdatas.length){var i=t[0];if(this.ZQ23(i||this.viewdatas[0].view))return void this.uBM(App.CM.gtM(O6.A84))}App.K16.doFrame(1,1,this.oCC,this)},t.prototype.close=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];s.prototype.close.apply(this,t),this.btnClose.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.oCC,this),this.backBtn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.oCC,this)},t.prototype.oCC=function(){App.VM.GY64(this)},t}(BaseEuiView);__reflect(AchievementMainView.prototype,"AchievementMainView");var AchivementTipsView=function(s){function t(t,e){var i=s.call(this,t,e)||this;return i.skinName="AchievementTipsSkin",i}return __extends(t,s),t.prototype.initUI=function(){s.prototype.initUI.call(this),this.btnGet.label=O3.tr(4968)},t.prototype.open=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];void 0!==t?(this.taskId=t,this.bgMask.addEventListener(egret.TouchEvent.TOUCH_TAP,this.closeSelf,this),this.btnGet.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClick,this),this.collection||(this.collection=new eui.ArrayCollection,this.dgReward.itemRenderer=ItemIcon,this.dgReward.dataProvider=this.collection),this.GX5()):App.K16.doFrame(1,1,this.closeSelf,this)},t.prototype.uBM=function(t){t instanceof Achievement.Model&&this.GX5(t)},t.prototype.GX5=function(t){var e=this;t=t||App.CM.gtM(O6.A84),this.btnGet.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClick,this),this.btnGet.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickShare,this);var i=Achievement.canShare();this.labTips.visible=i;var s=this.taskId,o=t.data.getStatus(s);if(2===o?P7.FG69()?this.btnGet.label=O3.tr(4969,Achievement.shareBonus):(this.btnGet.label=O3.tr(8465),this.btnStatu=!1):this.btnGet.label=O3.tr(4968),this.btnGet.addEventListener(egret.TouchEvent.TOUCH_TAP,2===o?this.onClickShare:this.onClick,this),!i&&2===o||4==o)var r=App.K16.doFrame(1,1,function(){e.closeSelf(),App.K16.rBH(r),r=null},this);var n=Achievement.getTask(s);this.labItem.text=n.taskdes,this.nameBg.width=this.labItem.width+30,this.labTips.textFlow=M18.HTP.parse(O3.tr(4925,Achievement.shareBonus)),this.labTips.visible=2===o,this.collection.source=n.award.split(",").map(function(t){var e=t.split(":"),i=e[0],s=e[1];return{itemData:{data:N12.gID(parseInt(i)),ct:parseInt(s)},isBottom:!0}})},t.prototype.close=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];delete this.taskId,this.collection&&this.collection.removeAll(),this.bgMask.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.closeSelf,this),this.btnGet.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClick,this),this.btnGet.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickShare,this)},t.prototype.closeSelf=function(){App.CM.apF(O6.A84,Achievement.Const.CloseTips)},t.prototype.onClickShare=function(){var t=this;if(P7.FG69()){var e=App.CM.gtM(O6.B82);e.avatarInfo.isShare?App.CM.apF(O6.A84,Achievement.Const.Get_Reward,this.taskId,1):platform.share(e.avatarInfo.id,function(){e.avatarInfo.isShare=!0,App.CM.apF(O6.A84,Achievement.Const.Get_Reward,t.taskId,1),t.closeSelf()},this)}else this.btnStatu?App.CM.apF(O6.A84,Achievement.Const.Get_Reward,this.taskId,1):(this.btnGet.label=O3.tr(4969,Achievement.shareBonus),this.btnStatu=!0)},t.prototype.onClick=function(){App.CM.apF(O6.A84,Achievement.Const.Get_Reward,this.taskId,0)},t}(BaseEuiView);__reflect(AchivementTipsView.prototype,"AchivementTipsView");var AchievementMenuListItem=function(i){function t(){var t=i.call(this)||this;return t.skinName="AchievementTitleListItemSkin",t}return __extends(t,i),t.prototype.childrenCreated=function(){var t=this;i.prototype.createChildren.call(this),this.btn.addEventListener(egret.Event.CHANGE,function(){App.CM.apF(O6.A84,Achievement.Const.SelectTitle,t.data.type)},void 0);var e=this.btn.labelDisplay;P7.FM14()?e.size=20:e.size=22,e.strokeColor=9063459,e.stroke=2},t}(eui.ItemRenderer);__reflect(AchievementMenuListItem.prototype,"AchievementMenuListItem");var AchievementTaskListItem=function(e){function t(){var t=e.call(this)||this;return t.skinName="AchievementTaskListItemSkin",t}return __extends(t,e),t.prototype.childrenCreated=function(){e.prototype.createChildren.call(this),this.collection||(this.collection=new eui.ArrayCollection,this.dgReward.itemRenderer=ItemIcon,this.dgReward.dataProvider=this.collection)},t.prototype.dataChanged=function(){this.collection.source=this.data.award.split(",").map(function(t){var e=t.split(":"),i=e[0],s=e[1];return{itemData:{data:N12.gID(parseInt(i)),ct:parseInt(s)},isBottom:!1}}),this.bg.width=this.title.width+20;var t=this.data.status;2===t?(P7.FG69()?(this.btnGet.label=O3.tr(4969,Achievement.shareBonus),this.shareLb.visible=!1):(this.btnGet.label=O3.tr(8465),this.btnStatu=!1,this.shareLb.visible=!0,this.shareLb.textFlow=O3.tr2(8466)),this.data.canShare||(t=4)):(this.btnGet.label=O3.tr(4968),this.shareLb.visible=!1),this.btnGet.touchEnabled=1===t||2===t,P16.sGF(this.btnGet,!this.btnGet.touchEnabled),this.btnGet.visible=4!==t,this.imgGet.visible=4===t,this.btnGet.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClick,this),this.btnGet.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickShare,this),this.btnGet.addEventListener(egret.TouchEvent.TOUCH_TAP,1===t?this.onClick:this.onClickShare,this)},t.prototype.onClickShare=function(){var t=this;Log.trace("试图调用成就分享接口.");var e=App.CM.gtM(O6.B82);P7.FG69()?e.avatarInfo.isShare?App.CM.apF(O6.A84,Achievement.Const.Get_Reward,this.data.id,1):"fth5"===platform.name||"japan"===platform.name||"english"===platform.name||"wakool"===platform.name||"freetop"===platform.name||"ft7477"===platform.name||"youle"===platform.name||"my1737"===platform.name||"huanyu"===platform.name||"militop"===platform.name||"btgame"===platform.name||"sdw"===platform.name||"gaga"===platform.name?platform.share(e.avatarInfo.id,function(){e.avatarInfo.isShare=!0,App.CM.apF(O6.A84,Achievement.Const.Get_Reward,t.data.id,1)},this,this.data.ftlink):platform.share(e.avatarInfo.id,function(){e.avatarInfo.isShare=!0,App.CM.apF(O6.A84,Achievement.Const.Get_Reward,t.data.id,1)},this):this.btnStatu?App.CM.apF(O6.A84,Achievement.Const.Get_Reward,this.data.id,1):(this.btnGet.label=O3.tr(4969,Achievement.shareBonus),this.btnStatu=!0,this.shareLb.visible=!1)},t.prototype.onClick=function(){App.CM.apF(O6.A84,Achievement.Const.Get_Reward,this.data.id,0)},t}(eui.ItemRenderer);__reflect(AchievementTaskListItem.prototype,"AchievementTaskListItem");var TE12=function(){function i(){}return i.FK35=function(t){i.init=t.activity_init,i.template=t.activity_template,i.loop=t.activity_loop,i.AdvanceSystemTypeText[E5.A11]=O3.tr(7732),i.AdvanceSystemTypeText[E5.A12]=O3.tr(7735),i.AdvanceSystemTypeText[E5.A13]=O3.tr(7733),i.AdvanceSystemTypeText[E5.A9]=O3.tr(7734),i.AdvanceSystemTypeText[E5.A14]=O3.tr(7752),i.AdvanceSystemTypeText[E5.A6]=O3.tr(7753),i.AdvanceSystemTypeText[E5.A7]=O3.tr(7754),i.AdvanceSystemTypeText[E5.A8]=O3.tr(7755),i.AdvanceSystemTypeText[E5.A5]=O3.tr(7756),i.AdvanceSystemTypeText[E5.A3]=O3.tr(7757),i.AdvanceSystemTypeText[E5.A10]=O3.tr(7758),i.AdvanceSystemTypeText[E5.A1]=O3.tr(7759),i.AdvanceSystemTypeText[E5.A2]=O3.tr(7760),i.AdvanceSystemTypeText[E5.A4]=O3.tr(7761)},i.gIV=function(t){var e=O3.tr(5190);return i.init&&i.init[t]&&(e=i.init[t].value),e},i.FA79=function(t){if(t){var e=[];for(var i in ActivityEntrance){var s=ActivityEntrance[i];s.type==t&&e.push(s)}return e}},i.FC8=function(t){if(t){var e=[];for(var i in TG69.category){var s=TG69.category[i];s.type==t&&e.push(s)}return e}},i.AdvanceSystemTypeText={},i}();__reflect(TE12.prototype,"TE12");var I17=function(){function t(){}return t.A1=10001,t.A2=10002,t.A5=10003,t.A7=10004,t.A4=10005,t.A6=10006,t.A3=10007,t}();__reflect(I17.prototype,"I17");var F17=function(){function t(){}return t.A2=1,t.A4=2,t.A3=3,t.A8=4,t.A6=5,t.A9=6,t.A5=7,t.A1=8,t.A7=9,t}();__reflect(F17.prototype,"F17");var J13=function(){function t(){}return t.A3=1,t.A1=2,t.A2=3,t}();__reflect(J13.prototype,"J13");var F7=function(){function t(){}return t.B10=1001,t.A86=1002,t.B29=1003,t.A70=1004,t.A87=1005,t.A54=1006,t.A38=1007,t.A55=1008,t.A56=1009,t.A1=1010,t.A39=1011,t.A40=1012,t.A13=1013,t.A71=1014,t.A22=1015,t.A57=1016,t.A14=1017,t.A10=1018,t.B11=1019,t.A41=1020,t.A11=1021,t.A12=1022,t.A15=1023,t.A72=1024,t.A6=1025,t.A3=1026,t.A58=1027,t.A59=1028,t.A97=1029,t.A73=1030,t.A42=1031,t.A60=1032,t.A43=1033,t.A74=1034,t.A61=1035,t.A75=1037,t.A28=1038,t.A62=1039,t.A4=1040,t.A29=1041,t.B21=1042,t.B12=1043,t.A98=1044,t.A99=1045,t.A44=1046,t.A76=1047,t.A30=1048,t.A31=1049,t.A16=1050,t.B1=1051,t.B22=1101,t.A23=1201,t.B2=1052,t.A77=1053,t.A17=1054,t.A45=1055,t.B23=1056,t.A46=1057,t.B24=1058,t.A63=1102,t.A78=1059,t.B3=1060,t.A64=1061,t.A7=1301,t.A32=1063,t.B4=1064,t.A79=1065,t.A8=1071,t.A24=1068,t.A2=1067,t.A18=1070,t.A65=1069,t.A19=1072,t.A33=1073,t.A47=1066,t.A88=1080,t.B5=1082,t.A66=1074,t.A89=1075,t.A90=1081,t.A80=1091,t.B30=1090,t.B13=1092,t.A9=1077,t.A81=1076,t.B6=1093,t.A20=1078,t.B14=1079,t.A48=1094,t.B33=1095,t.A34=1096,t.B25=1097,t.B34=1098,t.B15=1103,t.A49=1099,t.A50=1100,t.A25=1104,t.A91=1106,t.A21=1105,t.B26=1107,t.A26=1110,t.A5=1108,t.A35=1109,t.A92=1111,t.A36=1112,t.B31=1114,t.A51=1113,t.A67=1115,t.A82=1116,t.B7=1118,t.A83=1120,t.B16=1121,t.B17=1117,t.B18=1118,t.A93=1119,t.A68=1122,t.A69=1123,t.A37=1124,t.B8=1126,t.A84=1125,t.A52=1127,t.A94=1128,t.A85=1129,t.B19=1131,t.B32=1132,t.B20=1134,t.A95=1135,t.B9=1133,t.B27=1136,t.B28=1137,t.A27=1138,t.A53=1139,t.A96=1140,t.ONCERECHARGE_REBATE1=1142,t}();__reflect(F7.prototype,"F7");var ActivityEntrance=((_a={})[0]={id:F7.A70,type:F17.A3},_a[1]={id:F7.A55,type:F17.A3},_a[2]={id:F7.A56,type:F17.A8},_a[3]={id:F7.A1,type:F17.A3},_a[4]={id:F7.A39,type:F17.A3},_a[5]={id:F7.A40,type:F17.A3},_a[6]={id:F7.A71,type:F17.A3},_a[7]={id:F7.A22,type:F17.A3},_a[8]={id:F7.A57,type:F17.A3},_a[9]={id:F7.A14,type:F17.A8},_a[10]={id:F7.A10,type:F17.A8},_a[11]={id:F7.B11,type:F17.A3},_a[12]={id:F7.A41,type:F17.A3},_a[13]={id:F7.A12,type:F17.A3},_a[14]={id:F7.A15,type:F17.A3},_a[15]={id:F7.A72,type:F17.A3},_a[16]={id:F7.A6,type:F17.A4},_a[17]={id:F7.A3,type:F17.A6},_a[18]={id:F7.A58,type:F17.A3},_a[19]={id:F7.A59,type:F17.A3},_a[20]={id:F7.A97,type:F17.A3},_a[21]={id:F7.A73,type:F17.A3},_a[22]={id:F7.A42,type:F17.A3},_a[23]={id:F7.A60,type:F17.A3},_a[24]={id:F7.A43,type:F17.A4},_a[25]={id:F7.A74,type:F17.A4},_a[26]={id:F7.A61,type:F17.A3},_a[27]={id:F7.A75,type:F17.A3},_a[28]={id:F7.A28,type:F17.A3},_a[29]={id:F7.A62,type:F17.A3},_a[30]={id:F7.B22,type:F17.A4},_a[31]={id:F7.A29,type:F17.A4},_a[32]={id:F7.B21,type:F17.A6},_a[33]={id:F7.B12,type:F17.A3},_a[34]={id:F7.A98,type:F17.A3},_a[35]={id:F7.A99,type:F17.A3},_a[36]={id:F7.A44,type:F17.A6},_a[37]={id:F7.A30,type:F17.A2},_a[38]={id:F7.B1,type:F17.A3},_a[39]={id:F7.A23,type:F17.A4},_a[40]={id:F7.A31,type:F17.A5},_a[41]={id:F7.B2,type:F17.A5},_a[42]={id:F7.A77,type:F17.A5},_a[43]={id:F7.A17,type:F17.A5},_a[44]={id:F7.A63,type:F17.A4},_a[45]={id:F7.A78,type:F17.A4},_a[46]={id:F7.A46,type:F17.A3},_a[48]={id:F7.A64,type:F17.A3},_a[49]={id:F7.A7,type:F17.A4},_a[50]={id:F7.A8,type:F17.A1},_a[51]={id:F7.A24,type:F17.A1},_a[52]={id:F7.A2,type:F17.A1},_a[53]={id:F7.A18,type:F17.A1},_a[54]={id:F7.A65,type:F17.A1},_a[55]={id:F7.A19,type:F17.A1},_a[56]={id:F7.A89,type:F17.A2},_a[57]={id:F7.A90,type:F17.A5},_a[58]={id:F7.A80,type:F17.A6},_a[59]={id:F7.B30,type:F17.A4},_a[60]={id:F7.A9,type:F17.A4},_a[61]={id:F7.A81,type:F17.A1},_a[62]={id:F7.A20,type:F17.A1},_a[63]={id:F7.B14,type:F17.A3},_a[64]={id:F7.A48,type:F17.A4},_a[65]={id:F7.B33,type:F17.A4},_a[67]={id:F7.B25,type:F17.A4},_a[68]={id:F7.B34,type:F17.A5},_a[69]={id:F7.A49,type:F17.A6},_a[70]={id:F7.A50,type:F17.A6},_a[71]={id:F7.A25,type:F17.A5},_a[72]={id:F7.A91,type:F17.A6},_a[73]={id:F7.A21,type:F17.A5},_a[74]={id:F7.A26,type:F17.A6},_a[75]={id:F7.A5,type:F17.A5},_a[76]={id:F7.A35,type:F17.A6},_a[77]={id:F7.A92,type:F17.A6},_a[78]={id:F7.A36,type:F17.A6},_a[79]={id:F7.A51,type:F17.A4},_a[80]={id:F7.B31,type:F17.A6},_a[81]={id:F7.A67,type:F17.A3},_a[82]={id:F7.A82,type:F17.A6},_a[83]={id:F7.B16,type:F17.A4},_a[84]={id:F7.A93,type:F17.A4},_a[85]={id:F7.B17,type:F17.A4},_a[86]={id:F7.A68,type:F17.A3},_a[87]={id:F7.A69,type:F17.A3},_a[88]={id:F7.A37,type:F17.A3},_a[89]={id:F7.B8,type:F17.A5},_a[90]={id:F7.A84,type:F17.A5},_a[91]={id:F7.A52,type:F17.A6},_a[92]={id:F7.A94,type:F17.A5},_a[93]={id:F7.A85,type:F17.A5},_a[94]={id:F7.B19,type:F17.A4},_a[95]={id:F7.B32,type:F17.A4},_a[96]={id:F7.A95,type:F17.A6},_a[97]={id:F7.B9,type:F17.A8},_a[98]={id:F7.B20,type:F17.A6},_a[99]={id:F7.B27,type:F17.A5},_a[100]={id:F7.A96,type:F17.A4},_a[101]={id:F7.A27,type:F17.A4},_a[102]={id:F7.ONCERECHARGE_REBATE1,type:F17.A3},_a),E5=function(){function t(){}return t.A11=1,t.A12=2,t.A13=3,t.A9=4,t.A14=5,t.A6=6,t.A7=7,t.A8=8,t.A5=9,t.A3=10,t.A10=11,t.A1=12,t.A2=13,t.A4=14,t}();__reflect(E5.prototype,"E5");var TB85=function(i){function t(){var t=i.call(this)||this;t.activityProxy=new TF5(t);var e=new TF4(t);return e.aLV(O7.I64),e.aLV(O7.D33),e.aLV(O7.C32),e.aLV(O7.HH94),e.aLV(O7.D12),e.aLV(O7.D86),e.aLV(O7.HH30),t.rgF(I17.A1,t.GD10,t),t.rgF(I17.A2,t.GD11,t),t.rgF(I17.A5,t.GK36,t),t.rgF(I17.A7,t.GO15,t),t.rgF(I17.A4,t.GI41,t),t.rgF(I17.A6,t.GK37,t),t.rgF(I17.A3,t.GG56,t),t}return __extends(t,i),t.prototype.GD10=function(){return this.activityProxy.GD10()},t.prototype.GD11=function(t){if(200==t.head.state){var e=t.body,i=this.gtM();1==e.tl&&O4.updateAddState(),i.ZJ82(e,P4.HH78),e.es&&(i.es=e.es),i.notify()}else App.CM.apF(O6.B87,L10.A4,t)},t.prototype.GK36=function(t){var e=t.body,i=this.gtM();i.addAct(e,P4.R37),i.notify(P4.R37)},t.prototype.GO15=function(t){var e=t.body,i=this.gtM();i.ZG8(e,P4.U30),i.notify(P4.U30)},t.prototype.GI41=function(t){var e=t.body,i=this.gtM();i.removeAct(e.id,P4.P76),i.notify(P4.P76)},t.prototype.GK37=function(t){var e=t.body,i=this.gtM();i.ZJ82(e,P4.R38),i.notify(P4.R38),O4.updateAddState()},t.prototype.GG56=function(t){var e=t.body,i=this.gtM();i.ZG8(e,P4.N58),i.notify(P4.N58)},t}(TE11);__reflect(TB85.prototype,"TB85");var TF4=function(i){function t(t){var e=i.call(this,t)||this;return e.actList=[],e.firstLogin=1,e.serOpenDay=0,e.zt=0,e}return __extends(t,i),t.prototype.ZJ82=function(t,e){var i=t.list;if(null!=t.tl&&(this.firstLogin=t.tl),null!=t.serOpenDay&&(this.serOpenDay=t.serOpenDay),null!=t.zt&&(this.zt=t.zt),this.lastRefresh=P6.getTime(!0),null!=(i=TF59.FG75(i))&&0<i.length)for(var s=0;s<i.length;s++){this.ZG7(i[s],e,!0,!0)}App.CM.apF(O6.B87,L10.A1)},t.prototype.ZG7=function(t,e,i,s){if(t&&t.id){var o=TF59.FB15(t.id);o&&(o.ZC13(t),o.ZHH50(t),o.actid&&o.aLV(TF59.FA34(o.actid)),null!=i&&(o.openState=i,null!=o.firstLoginRedNum&&(s?(1!=o.tips&&2!=o.tips||(o.firstLoginRedNum=1),3==o.tips&&1==this.firstLogin&&(o.firstLoginRedNum=1)):1!=i||0!=o.tips&&2!=o.tips?o.firstLoginRedNum=0:o.firstLoginRedNum=1),o.ZQ35&&o.ZQ35()),o.updateRed(),o.notify(e))}},t.prototype.ZG8=function(t,e){if(t)switch(e){case P4.U30:this.ZG7(t,e,!1);break;case P4.N58:this.ZG7(t,e)}},t.prototype.addAct=function(t,e){t&&t.id&&this.ZG7(t,e,!0)},t.prototype.removeAct=function(t,e){if(t){var i={id:t};this.ZG7(i,e,!1)}},t.prototype.notify=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];i.prototype.notifyView.apply(this,[this].concat(t))},t}(TG79);__reflect(TF4.prototype,"TF4");var TF5=function(i){function t(t){var e=i.call(this,t)||this;return e.rSM(P4.R37,e.GK36,e),e.rSM(P4.U30,e.GO15,e),e.rSM(P4.P76,e.GI41,e),e.rSM(P4.R38,e.GK37,e),e.rSM(P4.N58,e.GG56,e),e}return __extends(t,i),t.prototype.GD10=function(){var s=this;return new Promise(function(e,t){var i={type:P4.HH77,body:{}};s.rSMO(P4.HH78,function(t){s.apF(I17.A2,t),e("加载运营活动数据完成")},s),s.sSM(i)})},t.prototype.GK36=function(t){this.apF(I17.A5,t)},t.prototype.GO15=function(t){this.apF(I17.A7,t)},t.prototype.GI41=function(t){this.apF(I17.A4,t)},t.prototype.GK37=function(t){this.apF(I17.A6,t)},t.prototype.GG56=function(t){this.apF(I17.A3,t)},t}(TG80);__reflect(TF5.prototype,"TF5");var activity_datas=((_a={})[F7.A87]={ctrl:O6.A96,view:{id:O7.G84,view:"SevenLoginView"}},_a[F7.A38]={ctrl:O6.A44,view:{id:O7.E14,view:"FirstRechargeView"}},_a[F7.A54]={ctrl:O6.A57,view:{id:O7.F3,view:"RechargeGiftView"}},_a[F7.A56]={ctrl:O6.C24,view:{id:O7.E16,view:"DialLuckyView"}},_a[F7.B5]={ctrl:O6.B32,view:{id:O7.HH75,view:"FaBaoDrawView"}},_a[F7.B10]={ctrl:O6.B44,view:{id:O7.I18,view:"GrowFundView"}},_a[F7.A86]={ctrl:O6.B93,view:{id:O7.I68,view:"InvestView"}},_a[F7.B29]={ctrl:O6.B67,view:{id:O7.I46,view:"ShootupView"}},_a[F7.A70]={ctrl:O6.A75,view:{id:O7.G5,view:"AdvanceRankView"}},_a[F7.A14]={ctrl:O6.B45,view:{id:O7.A87,view:"DialSearchTreasureView"}},_a[F7.A55]={ctrl:O6.A58,view:{id:O7.F10,view:"ChapterBreakView"}},_a[F7.A10]={ctrl:O6.B12,view:{id:O7.B30,view:"DialPickHeroStageView"}},_a[F7.A57]={ctrl:O6.A59,view:{id:O7.F7,view:"DiscountShopView"}},_a[F7.A40]={ctrl:O6.A45,view:{id:O7.E21,view:"PeopleUpgradeView"}},_a[F7.A39]={ctrl:O6.A46,view:{id:O7.E22,view:"PeopleAdvanceView"}},_a[F7.A1]={ctrl:O6.A3,view:{id:O7.A40,view:"FirstRechargeGrouponView"}},_a[F7.A71]={ctrl:O6.B13,view:{id:O7.HH54,view:"RankUpAwdView"}},_a[F7.A60]={ctrl:O6.A97,view:{id:O7.G86,view:"RankUpAwd2View"}},_a[F7.A22]={ctrl:O6.A77,view:{id:O7.G11,view:"RechargeSumView"}},_a[F7.B11]={ctrl:O6.B46,view:{id:O7.I20,view:"GodTrialView"}},_a[F7.A72]={ctrl:O6.A76,view:{id:O7.G6,view:"BargainShopView"}},_a[F7.A13]={ctrl:O6.A13,view:{id:O7.B80,view:"EverydayRechargeView"}},_a[F7.A41]={ctrl:O6.A47,view:{id:O7.E23,view:"ConsumeRebateView"}},_a[F7.A12]={ctrl:O6.A7,view:{id:O7.B32,view:"RechargeTurntableView"}},_a[F7.A11]={ctrl:O6.A8,view:{id:O7.B33,view:"RechargeBackawardView"}},_a[F7.A15]={ctrl:O6.A14,view:{id:O7.B81,view:"ConsumeTurntableView"}},_a[F7.A6]={ctrl:O6.A5,view:{id:O7.A88,view:"OnceRechargeRebateView"}},_a[F7.A59]={ctrl:O6.A78,view:{id:O7.C61,view:"WomanAdvanceActView"}},_a[F7.A3]={ctrl:O6.A2,view:{id:O7.A4,view:"AccumulativeRechargeGiftView"}},_a[F7.A42]={ctrl:O6.A15,view:{id:O7.B82,view:"MaterialFubenActView"}},_a[F7.A73]={ctrl:O6.A79,view:{id:O7.G12,view:"CutDownStarView"}},_a[F7.A97]={ctrl:O6.B14,view:{id:O7.HH57,view:"RingMatchView"}},_a[F7.A58]={ctrl:O6.A61,view:{id:O7.F15,view:"MysticalShopView"}},_a[F7.A43]={ctrl:O6.A48,view:{id:O7.E26,view:"FestivalLoginView"}},_a[F7.A74]={ctrl:O6.A30,view:{id:O7.D36,view:"ConsumeRankActView"}},_a[F7.A61]={ctrl:O6.A16,view:{id:O7.B84,view:"SkinDiscountShopView"}},_a[F7.A75]={ctrl:O6.A80,view:{id:O7.G14,view:"MarriageActView"}},_a[F7.A28]={ctrl:O6.A31,view:{id:O7.D38,view:"LegionDiscountView"}},_a[F7.A62]={ctrl:O6.A63,view:{id:O7.F18,view:"RedEnvelopesView"}},_a[F7.A4]={ctrl:O6.A4,view:{id:O7.A41,view:"FirstRechargePackageView"}},_a[F7.B22]={ctrl:O6.B69,view:{id:O7.G91,view:"GiftBoxView"}},_a[F7.A29]={ctrl:O6.A32,view:{id:O7.E27,view:"DoubleTreasureView"}},_a[F7.B21]={ctrl:O6.B70,view:{id:O7.G92,view:"OpenBoxView"}},_a[F7.B12]={ctrl:O6.B47,view:{id:O7.I23,view:"HeroComeView"}},_a[F7.A98]={ctrl:O6.B17,view:{id:O7.HH60,view:"HeroTrainView"}},_a[F7.A99]={ctrl:O6.B19,view:{id:O7.HH61,view:"CatchFishView"}},_a[F7.A44]={ctrl:O6.A49,view:{id:O7.E29,view:"RechargeResetView"}},_a[F7.A30]={ctrl:O6.A33,view:{id:O7.D39,view:"RechargeSeriesView"}},_a[F7.A76]={ctrl:O6.A81,view:{id:O7.G15,view:"FreePackageView"}},_a[F7.B1]={ctrl:O6.B20,view:{id:O7.HH62,view:"SpendGiftView"}},_a[F7.B23]={ctrl:O6.B71,view:{id:O7.I48,view:"GiftBagView"}},_a[F7.B24]={ctrl:O6.B72,view:{id:O7.I49,view:"BigGiftView"}},_a[F7.A16]={ctrl:O6.A23,view:{id:O7.C65,view:"RechargeSumGiftView"}},_a[F7.A23]={ctrl:O6.A22,view:{id:O7.C64,view:"ConsumerSummaryView"}},_a[F7.A31]={ctrl:O6.A34,view:{id:O7.D40,view:"SingleRechargeView"}},_a[F7.B2]={ctrl:O6.B21,view:{id:O7.HH63,view:"LimitShopView"}},_a[F7.A77]={ctrl:O6.A82,view:{id:O7.G16,view:"EvenFillingView"}},_a[F7.A17]={ctrl:O6.A17,view:{id:O7.B88,view:"FortuneTurntableView"}},_a[F7.A45]={ctrl:O6.A50,view:{id:O7.E30,view:"DoubleFortuneView"}},_a[F7.A63]={ctrl:O6.A66,view:{id:O7.F19,view:"FestivalShopView"}},_a[F7.A78]={ctrl:O6.A67,view:{id:O7.F20,view:"TimeDiscountShopView"}},_a[F7.B3]={ctrl:O6.B23,view:{id:O7.HH64,view:"DoubleMatView"}},_a[F7.A46]={ctrl:O6.A51,view:{id:O7.E37,view:"CrazyTacticalView"}},_a[F7.A64]={ctrl:O6.A68,view:{id:O7.F21,view:"RechargeRankView"}},_a[F7.A7]={ctrl:O6.A9,view:{id:O7.B34,view:"OverFlowMonthCardView"}},_a[F7.A32]={ctrl:O6.A24,view:{id:O7.C66,view:"HolidayExchangeView"}},_a[F7.B4]={ctrl:O6.B25,view:{id:O7.HH66,view:"DailyGiftView"}},_a[F7.A79]={ctrl:O6.A83,view:{id:O7.G94,view:"BlackFridayView"}},_a[F7.A8]={ctrl:O6.A10,view:{id:O7.B37,view:"RechargeRankView2"}},_a[F7.A24]={ctrl:O6.A25,view:{id:O7.C73,view:"MysticalShopView2"}},_a[F7.A2]={ctrl:O6.A1,view:{id:O7.A2,view:"AccumulativeRechargeGiftView2"}},_a[F7.A18]={ctrl:O6.A18,view:{id:O7.B94,view:"FestivalLoginView2"}},_a[F7.A65]={ctrl:O6.A69,view:{id:O7.F23,view:"RingMatchView2"}},_a[F7.A19]={ctrl:O6.A19,view:{id:O7.B95,view:"RechargeResetView2"}},_a[F7.A33]={ctrl:O6.A35,view:{id:O7.D46,view:"FreePackageView2"}},_a[F7.A47]={ctrl:O6.B29,view:{id:O7.HH69,view:"InvestView2"}},_a[F7.A88]={ctrl:O6.A52,view:{id:O7.E42,view:"WorthLimitBuyView"}},_a[F7.A66]={ctrl:O6.A36,view:{id:O7.D47,view:"ScoreUpRankActView"}},_a[F7.A89]={ctrl:O6.B2,view:{id:O7.G97,view:"CrossCraftView"}},_a[F7.A90]={ctrl:O6.B1,view:{id:O7.G98,view:"ExpendGiftView"}},_a[F7.A80]={ctrl:O6.A86,view:{id:O7.G21,view:"CrossBattleView"}},_a[F7.A9]={ctrl:O6.A11,view:{id:O7.B39,view:"FestivalRedPacketView"}},_a[F7.B30]={ctrl:O6.B75,view:{id:O7.G22,view:"SnowmanView"}},_a[F7.B13]={ctrl:O6.B30,view:{id:O7.HH71,view:"ChristmasView"}},_a[F7.A81]={ctrl:O6.A70,view:{id:O7.F24,view:"RecruitMoneyView"}},_a[F7.B6]={ctrl:O6.B31,view:{id:O7.HH73,view:"BringLuckView"}},_a[F7.A20]={ctrl:O6.A26,view:{id:O7.C77,view:"MergeServerBossView"}},_a[F7.B14]={ctrl:O6.B50,view:{id:O7.I26,view:"HappyBoxView"}},_a[F7.A48]={ctrl:O6.A53,view:{id:O7.B44,view:"SwornBrothersBaseView"}},_a[F7.B33]={ctrl:O6.C26,view:{id:O7.I29,view:"NianView"}},_a[F7.A34]={ctrl:O6.A37,view:{id:O7.D57,view:"TimePreferenceView"}},_a[F7.B25]={ctrl:O6.B77,view:{id:O7.I51,view:"GoldPigView"}},_a[F7.B34]={ctrl:O6.C27,view:{id:O7.I91,view:"TdtnView"}},_a[F7.B15]={ctrl:O6.B52,view:{id:O7.I28,view:"SuperVipView"}},_a[F7.A49]={ctrl:O6.A71,view:{id:O7.F36,view:"CrossBattlePView"}},_a[F7.A50]={ctrl:O6.A72,view:{id:O7.F37,view:"CrossBattleRView"}},_a[F7.A25]={ctrl:O6.B33,view:{id:O7.HH79,view:"TurnTableView"}},_a[F7.A91]={ctrl:O6.B4,view:{id:O7.HH6,view:"HappySmashView"}},_a[F7.A21]={ctrl:O6.A20,view:{id:O7.C11,view:"RechargeDiscountView"}},_a[F7.B26]={ctrl:O6.B79,view:{id:O7.I54,view:"NewGiftView"}},_a[F7.A26]={ctrl:O6.A38,view:{id:O7.D63,view:"DoubleRingDrawView"}},_a[F7.A5]={ctrl:O6.A6,view:{id:O7.C12,view:"SingleRechargeGiftView"}},_a[F7.A35]={ctrl:O6.A39,view:{id:O7.D65,view:"LuxuryRechargeView"}},_a[F7.A36]={ctrl:O6.A40,view:{id:O7.D67,view:"HightFaBaoDrawView"}},_a[F7.A92]={ctrl:O6.B6,view:{id:O7.HH8,view:"ShootRangeView"}},_a[F7.B31]={ctrl:O6.B96,view:{id:O7.I71,view:"RedBoxView"}},_a[F7.A51]={ctrl:O6.A54,view:{id:O7.E55,view:"LuxuryConsumeView"}},_a[F7.A67]={ctrl:O6.A88,view:{id:O7.F41,view:"NewGodTrialView"}},_a[F7.A82]={ctrl:O6.A91,view:{id:O7.G30,view:"BattleFieldView"}},_a[F7.A83]={ctrl:O6.A90,view:{id:O7.G28,view:"CollectWordView"}},_a[F7.B16]={ctrl:O6.B55,view:{id:O7.I31,view:"DianRankView"}},_a[F7.A93]={ctrl:O6.B7,view:{id:O7.HH11,view:"PreferGiftView"}},_a[F7.B18]={ctrl:O6.B36,view:{id:O7.HH83,view:"CheapGiftView"}},_a[F7.B17]={ctrl:O6.B37,view:{id:O7.HH82,view:"WishHouseView"}},_a[F7.A68]={ctrl:O6.A73,view:{id:O7.F42,view:"RechargeTimeView"}},_a[F7.A69]={ctrl:O6.A74,view:{id:O7.F44,view:"PeerlessHeroView"}},_a[F7.A37]={ctrl:O6.A41,view:{id:O7.D73,view:"AnecdoteRecordView"}},_a[F7.B8]={ctrl:O6.B38,view:{id:O7.HH84,view:"BuyRebateView"}},_a[F7.A84]={ctrl:O6.B57,view:{id:O7.I33,view:"LuckFlopView"}},_a[F7.A52]={ctrl:O6.B9,view:{id:O7.HH16,view:"JubaoArrayView"}},_a[F7.A94]={ctrl:O6.A92,view:{id:O7.G32,view:"TopUpDinnerView"}},_a[F7.A85]={ctrl:O6.A55,view:{id:O7.E62,view:"ConsumeDinneView"}},_a[F7.B19]={ctrl:O6.B39,view:{id:O7.HH86,view:"MoneyTreeView"}},_a[F7.B32]={ctrl:O6.C8,view:{id:O7.I81,view:"BigRMView"}},_a[F7.A95]={ctrl:O6.A94,view:{id:O7.D8,view:"ArtRecoveryView"}},_a[F7.B9]={ctrl:O6.C9,view:{id:O7.HH89,view:"PolyFairyView"}},_a[F7.B20]={ctrl:O6.B40,view:{id:O7.HH91,view:"FaBaoHelpView"}},_a[F7.B27]={ctrl:O6.B62,view:{id:O7.F62,view:"SevenDayView"}},_a[F7.B28]={ctrl:O6.B61,view:{id:O7.F63,view:"ShiWTurnView"}},_a[F7.A53]={ctrl:O6.A56,view:{id:O7.E67,view:"PeerlessHero1View"}},_a[F7.A96]={ctrl:O6.B11,view:{id:O7.HH21,view:"ActiveTaskView"}},_a[F7.A27]={ctrl:O6.A27,view:{id:O7.D9,view:"RebateTurntableView"}},_a[F7.ONCERECHARGE_REBATE1]={ctrl:O6.OnceRechargeRebate1,view:{id:O7.OnceRechargeRebate1,view:"OnceRechargeRebate1View"}},_a),TF59=function(){function c(){}return c.FB15=function(t){if(t&&activity_datas[t])return App.CM.gtM(activity_datas[t].ctrl)},c.FB46=function(t){return activity_datas[t]&&activity_datas[t].view},c.FA2=function(t){for(var e=[],i=c.FA3(t),s=0;s<i.length;s++){var o=i[s];if(o==F7.A70){var r=App.CM.gtM(O6.A75);e.push({actid:F7.A70,view:O7.G5,type:"v1_fonts_shengjiepaihang_png",icon:r.advanceRankData.icon,red:r.FL35(),model:r,order:r.advanceRankData.order,name:r.advanceRankData.name})}else if(o==F7.A55){(r=App.CM.gtM(O6.A58)).chapterBreakData.ZQ26(),e.push({actid:F7.A55,view:O7.F10,type:"v1_fonts_qumintongguan_png",icon:r.chapterBreakData.icon,red:r.FL35(),model:r,order:r.chapterBreakData.order,name:r.chapterBreakData.name})}else if(o==F7.A1){r=App.CM.gtM(O6.A3);e.push({actid:F7.A1,view:O7.A40,type:"v1_fonts_qumintuangou_png",icon:r.firstRechargeGrouponData.icon,red:r.FL35(),model:r,order:r.firstRechargeGrouponData.order,name:r.firstRechargeGrouponData.name})}else if(o==F7.A39){r=App.CM.gtM(O6.A46);e.push({actid:F7.A39,view:O7.E22,type:"v1_fonts_quminjinjie_png",icon:r.peopleAdvanceData.icon,red:r.FL35(),model:r,order:r.peopleAdvanceData.order,name:r.peopleAdvanceData.name})}else if(o==F7.A40){(r=App.CM.gtM(O6.A45)).peopleUpgradeData.ZQ26(),e.push({actid:F7.A40,view:O7.E21,type:"v1_fonts_quminchongji_png",icon:r.peopleUpgradeData.icon,red:r.FL35(),model:r,order:r.peopleUpgradeData.order,name:r.peopleUpgradeData.name})}else if(o==F7.A71){r=App.CM.gtM(O6.B13);e.push({actid:F7.A71,view:O7.HH54,type:r.actData.title,icon:r.actData.icon,red:r.FL35(),model:r,order:r.actData.order,name:r.actData.name})}else if(o==F7.A22){r=App.CM.gtM(O6.A77);e.push({actid:F7.A22,view:O7.G11,type:"v1_fonts_lj_png",icon:r.rechargeSumData.icon,red:r.FL35(),model:r,order:r.rechargeSumData.order,name:r.rechargeSumData.name})}else if(o==F7.A57){r=App.CM.gtM(O6.A59);e.push({actid:F7.A57,view:O7.F7,type:"v1_fonts_shek_png",icon:r.discountShopData.icon,red:r.FL35(),model:r,order:r.discountShopData.order,name:r.discountShopData.name})}else if(o==F7.B11){r=App.CM.gtM(O6.B46);e.push({actid:F7.B11,view:O7.I20,type:r.godTrialData.title,icon:r.godTrialData.icon,red:r.FL35(),model:r,order:r.godTrialData.order,name:r.godTrialData.name})}else if(o==F7.A41){r=TC34.gtM();e.push({actid:F7.A41,view:O7.E23,type:"v1_fonts_xiaofei_png",icon:r.consumeRebateData.icon,red:r.FL35(),model:r,order:r.consumeRebateData.order,name:r.consumeRebateData.name})}else if(o==F7.A12){r=App.CM.gtM(O6.A7);e.push({actid:F7.A12,view:O7.B32,type:"v1_fonts_congzhizhuanp_png",icon:r.tData.icon,red:r.FL35(),model:r,order:r.tData.order,name:r.tData.name})}else if(o==F7.A15){r=App.CM.gtM(O6.A14);e.push({actid:F7.A15,view:O7.B81,type:"v1_fonts_xiaofeizhuanp_png",icon:r.tData.icon,red:r.FL35(),model:r,order:r.tData.order,name:r.tData.name})}else if(o==F7.A72){r=App.CM.gtM(O6.A76);e.push({actid:F7.A72,view:O7.G6,type:"v1_fonts_tjtshangdian_png",icon:r.bargainShopData.icon,red:r.FL35(),model:r,order:r.bargainShopData.order,name:r.bargainShopData.name})}else if(o==F7.A6){r=TA62.gtM();e.push({actid:F7.A6,view:O7.A88,type:"v1_fonts_dbiczhi_png",icon:r.data.icon,red:r.FL35(),model:r,order:r.data.order,name:r.data.name})}else if(o==F7.A59){r=TB54.gtM();e.push({actid:F7.A59,view:O7.C61,type:"v1_fonts_jgjj_png",icon:r.tData.icon,red:r.FL35(),model:r,order:r.tData.order,name:r.tData.name})}else if(o==F7.A3){r=App.CM.gtM(O6.A2);e.push({actid:F7.A3,view:O7.A4,type:"v1_fonts_leichongyl_png",icon:r.actData.icon,red:r.FL35(),model:r,order:r.actData.order,name:r.actData.name})}else if(o==F7.A42){r=App.CM.gtM(O6.A15);e.push({actid:F7.A42,view:O7.B82,type:"v1_fonts_cailifuben_png",icon:r.actData.icon,red:r.FL35(),model:r,order:r.actData.order,name:r.actData.name})}else if(o==F7.A73){r=App.CM.gtM(O6.A79);e.push({actid:F7.A73,view:O7.G12,type:"v1_fonts_zhanjianxinji_png",icon:r.curDownStarData.icon,red:r.FL35(),model:r,order:r.curDownStarData.order,name:r.curDownStarData.name})}else if(o==F7.A97){r=App.CM.gtM(O6.B14);e.push({actid:F7.A97,view:O7.HH57,type:"v1_fonts_leitbw_png",icon:r.actData.icon,red:r.FL35(),model:r,order:r.actData.order,name:r.actData.name})}else if(o==F7.A58){r=App.CM.gtM(O6.A61);e.push({actid:F7.A58,view:O7.F15,type:"v1_fonts_shenmishd_png",icon:r.actData.icon,red:r.FL35(),model:r,order:r.actData.order,name:r.actData.name})}else if(o==F7.A43){r=App.CM.gtM(O6.A48);e.push({actid:F7.A43,view:O7.E26,type:"v1_fonts_jridl_png",icon:r.actData.icon,red:r.FL35(),model:r,order:r.actData.order,name:r.actData.name})}else if(o==F7.A60){r=App.CM.gtM(O6.A97);e.push({actid:F7.A60,view:O7.G86,type:r.actData.title,icon:r.actData.icon,red:r.FL35(),model:r,order:r.actData.order,name:r.actData.name})}else if(o==F7.A74){r=App.CM.gtM(O6.A30);e.push({actid:F7.A74,view:O7.D36,type:"v1_fonts_xiaofpaihang_png",icon:r.actData.icon,red:r.FL35(),model:r,order:r.actData.order,name:r.actData.name})}else if(o==F7.A61){r=App.CM.gtM(O6.A16);e.push({actid:F7.A61,view:O7.B84,type:"v1_fonts_zhuangbanshekou_png",icon:r.data.icon,red:r.FL35(),model:r,order:r.data.order,name:r.data.name})}else if(o==F7.A75){r=App.CM.gtM(O6.A80);e.push({actid:F7.A75,view:O7.G14,type:"v1_fonts_jiaoufianch_png",icon:r.actData.icon,red:r.FL35(),model:r,order:r.actData.order,name:r.actData.name})}else if(o==F7.A28){r=App.CM.gtM(O6.A31);e.push({actid:F7.A28,view:O7.D38,type:"v1_fonts_zhaobinmaima_png",icon:r.actData.icon,red:r.FL35(),model:r,order:r.actData.order,name:r.actData.name})}else if(o==F7.A62){r=App.CM.gtM(O6.A63);e.push({actid:F7.A62,view:O7.F18,type:"tianjianghongbao_font_png",icon:r.actData.icon,red:r.FL35(),model:r,order:r.actData.order,name:r.actData.name})}else if(o==F7.B22){r=App.CM.gtM(O6.B69);e.push({actid:F7.B22,view:O7.G91,type:"v1_fonts_jierilihe_png",icon:r.actData.icon,red:r.FL35(),model:r,order:r.actData.order,name:r.actData.name})}else if(o==F7.A29){r=App.CM.gtM(O6.A32);e.push({actid:F7.A29,view:O7.E27,type:"v1_fonts_xbaofb_png",icon:r.actData.icon,red:r.FL35(),model:r,order:r.actData.order,name:r.actData.name})}else if(o==F7.B21){r=App.CM.gtM(O6.B70);e.push({actid:F7.B21,view:O7.G92,type:"v1_fonts_keilkexi_png",icon:r.actData.icon,red:r.FL35(),model:r,order:r.actData.order,name:r.actData.name})}else if(o==F7.B12){r=App.CM.gtM(O6.B47);e.push({actid:F7.B12,view:O7.I23,type:"v1_fonts_sjlx_png",icon:r.actData.icon,red:r.FL35(),model:r,order:r.actData.order,name:r.actData.name})}else if(o==F7.A98){r=App.CM.gtM(O6.B17);e.push({actid:F7.A98,view:O7.HH60,type:"v1_fonts_wjxl_png",icon:r.actData.icon,red:r.FL35(),model:r,order:r.actData.order,name:r.actData.name})}else if(o==F7.A99){r=App.CM.gtM(O6.B19);e.push({actid:F7.A99,view:O7.HH61,type:"v1_fonts_jangdon_png",icon:r.actData.icon,red:r.FL35(),model:r,order:r.actData.order,name:r.actData.name})}else if(o==F7.A44){r=App.CM.gtM(O6.A49);e.push({actid:F7.A44,view:O7.E29,type:"v1_fonts_shouchongchzh_png",icon:r.actData.icon,red:r.FL35(),model:r,order:r.actData.order,name:r.actData.name})}else if(o==F7.A30){r=App.CM.gtM(O6.A33);e.push({actid:F7.A30,view:O7.D39,type:"v1_fonts_lxcz_png",icon:r.rechargeSeriesData.icon,red:r.FL35(),model:r,order:r.rechargeSeriesData.order,name:r.rechargeSeriesData.name})}else if(o==F7.A76){r=App.CM.gtM(O6.A81);e.push({actid:F7.A76,view:O7.G15,type:"v1_fonts_lianxxf_png",icon:r.actData.icon,red:r.FL35(),model:r,order:r.actData.order,name:r.actData.name})}else if(o==F7.B1){r=App.CM.gtM(O6.B20);e.push({actid:F7.B1,view:O7.HH62,type:"v1_fonts_swn_png",icon:r.spendGiftData.icon,red:r.FL35(),model:r,order:r.spendGiftData.order,name:r.spendGiftData.name})}else if(o==F7.B23){r=App.CM.gtM(O6.B71);e.push({actid:F7.B23,view:O7.I48,type:r.giftBagData.title,icon:r.giftBagData.icon,red:r.FL35(),model:r,order:r.giftBagData.order,name:r.giftBagData.name})}else if(o==F7.B24){r=App.CM.gtM(O6.B72);e.push({actid:F7.B24,view:O7.I49,type:r.bigGiftData.title,icon:r.bigGiftData.icon,red:r.FL35(),model:r,order:r.bigGiftData.order,name:r.bigGiftData.name})}else if(o==F7.A16){r=App.CM.gtM(O6.A23);e.push({actid:F7.A16,view:O7.C65,type:r.actData.title,icon:r.actData.icon,red:r.FL35(),model:r,order:r.actData.order,name:r.actData.name})}else if(o==F7.A23){r=App.CM.gtM(O6.A22);e.push({actid:F7.A23,view:O7.C64,type:"v1_fonts_lianxxf_png",icon:r.actData.icon,red:r.FL35(),model:r,order:r.actData.order,name:r.actData.name})}else if(o==F7.A31){r=App.CM.gtM(O6.A34);e.push({actid:F7.A31,view:O7.D40,type:"v1_fonts_dbiczhi_png",icon:r.actData.icon,red:r.FL35(),model:r,order:r.actData.order,name:r.actData.name})}else if(o==F7.B2){r=App.CM.gtM(O6.B21);e.push({actid:F7.B2,view:O7.HH63,type:"v1_fonts_xgsc_png",icon:r.actData.icon,red:r.FL35(),model:r,order:r.actData.order,name:r.actData.name})}else if(o==F7.A77){r=App.CM.gtM(O6.A82);e.push({actid:F7.A77,view:O7.G16,type:"v1_fonts_lchl_png",icon:r.evenFillingData.icon,red:r.FL35(),model:r,order:r.evenFillingData.order,name:r.evenFillingData.name})}else if(o==F7.A17){r=App.CM.gtM(O6.A17);e.push({actid:F7.A17,view:O7.B88,type:r.actData.title,icon:r.actData.icon,red:r.FL35(),model:r,order:r.actData.order,name:r.actData.name})}else if(o==F7.A45){r=App.CM.gtM(O6.A50);e.push({actid:F7.A45,view:O7.E30,type:r.actData.title,icon:r.actData.icon,red:r.FL35(),model:r,order:r.actData.order,name:r.actData.name})}else if(o==F7.A63){r=App.CM.gtM(O6.A66);e.push({actid:F7.A63,view:O7.F19,type:r.actData.title,icon:r.actData.icon,red:r.FL35(),model:r,order:r.actData.order,name:r.actData.name})}else if(o==F7.A78){r=App.CM.gtM(O6.A67);e.push({actid:F7.A78,view:O7.F20,type:"v1_fonts_xianshizhekou_png",icon:r.actData.icon,red:r.FL35(),model:r,order:r.actData.order,name:r.actData.name})}else if(o==F7.B3){r=App.CM.gtM(O6.B23);e.push({actid:F7.B3,view:O7.HH64,type:r.actData.title,icon:r.actData.icon,red:r.FL35(),model:r,order:r.actData.order,name:r.actData.name})}else if(o==F7.A46){r=App.CM.gtM(O6.A51);e.push({actid:F7.A46,view:O7.E37,type:"v1_fonts_fkzf_png",icon:r.actData.icon,red:r.FL35(),model:r,order:r.actData.order,name:r.actData.name})}else if(o==F7.A64){r=App.CM.gtM(O6.A68);e.push({actid:F7.A64,view:O7.F21,type:r.actData.title,icon:r.actData.icon,red:r.FL35(),model:r,order:r.actData.order,name:r.actData.name})}else if(o==F7.A7){r=App.CM.gtM(O6.A9);e.push({actid:F7.A7,view:O7.B34,type:r.actData.title,icon:r.actData.icon,red:r.FL35(),model:r,order:r.actData.order,name:r.actData.name})}else if(o==F7.A32){r=App.CM.gtM(O6.A24);e.push({actid:F7.A32,view:O7.C66,type:r.actData.title,icon:r.actData.icon,red:r.FL35(),model:r,order:r.actData.order,name:r.actData.name})}else if(o==F7.B4){r=App.CM.gtM(O6.B25);e.push({actid:F7.B4,view:O7.HH66,type:r.actData.title,icon:r.actData.icon,red:r.FL35(),model:r,order:r.actData.order,name:r.actData.name})}else if(o==F7.A79){r=App.CM.gtM(O6.A83);e.push({actid:F7.A79,view:O7.G94,type:r.actData.title,icon:r.actData.icon,red:r.FL35(),model:r,order:r.actData.order,name:r.actData.name})}else if(o==F7.A8){r=App.CM.gtM(O6.A10);e.push({actid:F7.A8,view:O7.B37,type:r.actData.title,icon:r.actData.icon,red:r.FL35(),model:r,order:r.actData.order,name:r.actData.name})}else if(o==F7.A24){r=App.CM.gtM(O6.A25);e.push({actid:F7.A24,view:O7.C73,type:r.actData.title,icon:r.actData.icon,red:r.FL35(),model:r,order:r.actData.order,name:r.actData.name})}else if(o==F7.A2){r=App.CM.gtM(O6.A1);e.push({actid:F7.A2,view:O7.A2,type:r.actData.title,icon:r.actData.icon,red:r.FL35(),model:r,order:r.actData.order,name:r.actData.name})}else if(o==F7.A18){r=App.CM.gtM(O6.A18);e.push({actid:F7.A18,view:O7.B94,type:r.actData.title,icon:r.actData.icon,red:r.FL35(),model:r,order:r.actData.order,name:r.actData.name})}else if(o==F7.A65){r=App.CM.gtM(O6.A69);e.push({actid:F7.A65,view:O7.F23,type:r.actData.title,icon:r.actData.icon,red:r.FL35(),model:r,order:r.actData.order,name:r.actData.name})}else if(o==F7.A88){r=App.CM.gtM(O6.A52);e.push({actid:F7.A88,view:O7.E42,type:r.actData.title,icon:r.actData.icon,red:r.FL35(),model:r,order:r.actData.order,name:r.actData.name})}else if(o==F7.A19){r=App.CM.gtM(O6.A19);e.push({actid:F7.A19,view:O7.B95,type:r.actData.title,icon:r.actData.icon,red:r.FL35(),model:r,order:r.actData.order,name:r.actData.name})}else if(o==F7.A33){r=App.CM.gtM(O6.A35);e.push({actid:F7.A33,view:O7.D46,type:r.actData.title,icon:r.actData.icon,red:r.FL35(),model:r,order:r.actData.order,name:r.actData.name})}else if(o==F7.A66){r=App.CM.gtM(O6.A36);e.push({actid:F7.A66,view:O7.D47,type:r.actData.title,icon:r.actData.icon,red:r.FL35(),model:r,order:r.actData.order,name:r.actData.name})}else if(o==F7.A89){r=App.CM.gtM(O6.B2);e.push({actid:F7.A89,view:O7.G97,type:r.actData.title,icon:r.actData.icon,red:r.FL35(),model:r,order:r.actData.order,name:r.actData.name})}else if(o==F7.A90){r=App.CM.gtM(O6.B1);e.push({actid:F7.A90,view:O7.G98,type:"v1_fonts_lxhl_png",icon:r.expendGiftData.icon,red:r.FL35(),model:r,order:r.expendGiftData.order,name:r.expendGiftData.name})}else if(o==F7.A80){r=App.CM.gtM(O6.A86);e.push({actid:F7.A80,view:O7.G21,type:r.actData.title,icon:r.actData.icon,red:r.FL35(),model:r,order:r.actData.order,name:r.actData.name})}else if(o==F7.A9){r=App.CM.gtM(O6.A11);e.push({actid:F7.A9,view:O7.B39,type:r.data.title,icon:r.data.icon,red:r.FL35(),model:r,order:r.data.order,name:r.data.name})}else if(o==F7.B30){r=App.CM.gtM(O6.B75);e.push({actid:F7.B30,view:O7.G22,type:r.actData.title,icon:r.actData.icon,red:r.FL35(),model:r,order:r.actData.order,name:r.actData.name})}else if(o==F7.A4){r=App.CM.gtM(O6.A4);e.push({actid:F7.A4,view:O7.A41,type:"v1_fonts_wjxl_png",icon:r.actData.icon,red:r.FL35(),model:r,order:r.actData.order,name:r.actData.name})}else if(o==F7.A81){r=App.CM.gtM(O6.A70);e.push({actid:F7.A81,view:O7.F24,type:r.actData.title,icon:r.actData.icon,red:r.FL35(),model:r,order:r.actData.order,name:r.actData.name})}else if(o==F7.B6){r=App.CM.gtM(O6.B31);e.push({actid:F7.B6,view:O7.HH73,type:r.actData.title,icon:r.actData.icon,red:r.FL35(),model:r,order:r.actData.order,name:r.actData.name})}else if(o==F7.A20){r=App.CM.gtM(O6.A26);e.push({actid:F7.A20,view:O7.C77,type:r.actData.title,icon:r.actData.icon,red:r.FL35(),model:r,order:r.actData.order,name:r.actData.name})}else if(o==F7.A67){r=App.CM.gtM(O6.A88);e.push({actid:F7.A67,view:O7.F41,type:r.godTrialData.title,icon:r.godTrialData.icon,red:r.FL35(),model:r,order:r.godTrialData.order,name:r.godTrialData.name})}else if(o==F7.B18){r=App.CM.gtM(O6.B36);e.push({actid:F7.B18,view:O7.HH83,type:r.actData.title,icon:r.actData.icon,red:r.FL35(),model:r,order:r.actData.order,name:r.actData.name})}else if(activity_datas[o]){if((r=App.CM.gtM(activity_datas[o].ctrl)).actData){var n=r.actData,a=n.order,h=n.title,p=n.icon,l=n.name;e.push({actid:o,view:activity_datas[o].view.id,type:h,icon:p,red:r.FL35(),model:r,order:a,name:l})}else Log.trace("model中不存在actData",o)}else Log.trace("可能不存在的活动",o)}return e.sort(function(t,e){return t.order==e.order?t.actid-e.actid:t.order-e.order}),e},c.FA34=function(t){var e=TG69.category[t+""];if(!e)return-1;switch(e.type){case F17.A3:return O7.C32;case F17.A4:return O7.D12;case F17.A8:return O7.HH94;case F17.A2:return O7.D33;case F17.A6:return O7.D86;case F17.A9:return O7.F67;case F17.A5:return O7.C33;case F17.A1:return O7.F69}return-1},c.FE54=function(t){if(t){var e=c.FA34(t),i=c.FB46(t);-1==e?App.VM.open(i.id):App.VM.open(e,i.id,!0)}},c.openShop=function(){App.CM.apF(O6.C29,P8.A7)},c.FD61=function(t){var e=c.FA34(t),i=c.FB46(t);-1==e?App.VM.close(i.id):App.VM.close(e)},c.FJ22=function(t,e,i){switch(t){case O7.B32:case O7.B81:e.visible=!0,i.visible=!1;break;case O7.G21:i.visible=!0;var s=App.VM.gOV(O7.G21);i.height=s.ZU32()+42;break;case O7.HH21:case O7.I33:e.visible=!0,i.visible=!1;break;default:e.visible=!0,i.visible=!0}},c.FB47=function(t){var e=0,i=c.FB15(F7.A54).rechargeGiftData.cost,s=M18.FL28(i,"|",",");for(var o in s)parseInt(s[o][0])==t&&(e=parseFloat(s[o][1]));return e},c.FB48=function(){var t=0,e=c.FA3(F17.A2);if(0==e.length)return t;for(var i in e){var s=c.FB15(e[i]);if(s.updateRed(),0<s.redNum){t+=1;break}}return t},c.FD62=function(){var t=0,e=c.FA3(F17.A5);if(0==e.length)return t;for(var i in e){var s=c.FB15(e[i]);if(s.updateRed(),0<s.redNum){t+=1;break}}return t},c.FC76=function(){var t=0,e=c.FA3(F17.A3);if(0==e.length)return t;for(var i in e){var s=c.FB15(e[i]);if(s.updateRed(),0<s.redNum){t+=1;break}}return t},c.FF68=function(){var t=0,e=c.FA3(F17.A1);if(0==e.length)return t;for(var i in e){var s=c.FB15(e[i]);if(s.updateRed(),0<s.redNum){t+=1;break}}return t},c.FG73=function(){var t=0,e=c.FA3(F17.A8);if(0==e.length)return t;for(var i in e){var s=c.FB15(e[i]);if(s.updateRed(),0<s.redNum){t+=1;break}}return t},c.FE55=function(){var t=0,e=c.FA3(F17.A6);if(0==e.length)return t;for(var i in e){var s=c.FB15(e[i]);if(s.updateRed(),0<s.redNum){t+=1;break}}return t},c.FG74=function(){var t=0,e=c.FA3(F17.A9);if(0==e.length)return t;for(var i in e){var s=c.FB15(e[i]);if(s.updateRed(),0<s.redNum){t+=1;break}}return t},c.FD63=function(){var t=0,e=c.FA3(F17.A4);if(0==e.length)return t;for(var i in e){var s=c.FB15(e[i]);if(s.updateRed(),0<s.redNum){t+=1;break}}return t},c.FA3=function(t){var e=[],i=TE12.FC8(t);if(0==i.length)return e;for(var s=0;s<i.length;s++){var o=i[s].id,r=c.FB15(o);null!=r&&1==r.openState&&e.push(o)}return e},c.FC9=function(t,e,i){void 0===e&&(e=-50),void 0===i&&(i=-50);var s=void 0;if(!(t<4)){switch(t){case 4:s="square_zi";break;case 5:s="square_cheng";break;case 6:s="square_hong"}return{teName:s,x:e,y:i}}},c.FG75=function(t){if(P7.FG67()){var e=new Array;if(!t||t.length<=0)return e;for(var i=[1035,1006,1007,1003,1010,1013,1048,1015,1040,1021,1022,1026,1046,1049,1050,1051,1053,1056,1058,1025,1061,1301,1064,1039,1096,1100,1109,1105,1108,1071,1067,1076,1072,1080,1118,1119,1123,1126,1128,1122,1136,1137,1139,1142],s=0;s<t.length;s++){var o=t[s].id;-1===i.indexOf(o)&&e.push(t[s])}return e}return t},c.FL36=function(){var t=App.CM.gtM(O6.B43),e=P6.getTime(!0)-t.lastRefresh,i=t.zt-e;return 0<i?i:0},c}();__reflect(TF59.prototype,"TF59");var TB86=function(){function s(){}return s.FK35=function(t){s.base=t.hall_base},s.FG72=function(t){for(var e in this.base){var i=this.base[e];if(i.type==t)return i}},s.FE53=function(t){var e=0,i=s.FG72(t);return i&&(e=i.openlv),e},s}();__reflect(TB86.prototype,"TB86");var D17=function(){function t(){}return t.A2=0,t.A1=1,t}();__reflect(D17.prototype,"D17");var ActivityHallType=function(){function t(){}return t.ANSWER=1,t.ESCORT=2,t.INVADER=3,t.CLIMB=4,t.CROSS_CAMP=5,t.CROSS_TEAM=6,t.CROSS_BOSS=7,t.CROSS_DUEL=8,t.CROSS_FISH=9,t.CROSS_FIELD=10,t.BOATRACE=11,t.CROSS_CLIFF=12,t.CROSS_WORLD_BOSS=13,t.CROSS_SURVIVAL=14,t}();__reflect(ActivityHallType.prototype,"ActivityHallType");var TA50=function(e){function t(){var t=e.call(this)||this;return new TC31(t).aLV(O7.I64),App.VM.register(O7.B64,"ActivityHallMainView",t,K17.UI_Main),t.rgF(D17.A2,t.GB43,t),t.rgF(D17.A1,t.GB2,t),t}return __extends(t,e),t.prototype.GB43=function(t){App.VM.open(O7.B64,t)},t.prototype.GB2=function(){App.VM.close(O7.B64)},t}(TE11);__reflect(TA50.prototype,"TA50");var TC31=function(i){function t(t){var e=i.call(this,t)||this;return e.red={},e.redNum=0,e}return __extends(t,i),t.prototype.uBM=function(t){if(t instanceof THH11){if(t.nType!=RankType.answer)return;var e=t.rankList;null==e||e.length<=0?this.no1=void 0:(this.no1={obj:void 0,name:""},this.no1.obj=e[0].obj,this.no1.name=e[0].sName)}this.updateRed()},t.prototype.updateRed=function(){this.redNum=0,this.red={};var t=App.CM.gtM(O6.B94);0!=t.s||0<t.FL35()?(this.redNum++,this.red[ActivityHallType.ANSWER]=1):this.red[ActivityHallType.ANSWER]=0,0<TG61.getReNum()?(this.redNum++,this.red[ActivityHallType.ESCORT]=1):this.red[ActivityHallType.ESCORT]=0,0<App.CM.gtM(O6.C23).isHong?(this.redNum++,this.red[ActivityHallType.CROSS_TEAM]=1):this.red[ActivityHallType.CROSS_TEAM]=0},t.prototype.notify=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];i.prototype.notifyView.apply(this,[this].concat(t))},t}(TG79);__reflect(TC31.prototype,"TC31");var TC90=function(){function e(){}return e.FJ21=function(t){var e=new Array,i=TB86.base;for(var s in i){var o=i[s];if(o.page==t){var r=!0,n=0;switch(o.type){case ActivityHallType.CROSS_TEAM:case ActivityHallType.ANSWER:break;case ActivityHallType.ESCORT:-1==App.CM.gtM(O6.B86).st&&(r=!1);break;case ActivityHallType.CLIMB:-1==(a=App.CM.gtM(O6.C6)).climbState&&(r=!1),n=a.isOpen?1:0;break;case ActivityHallType.CROSS_CAMP:case ActivityHallType.CROSS_CAMP:-1==(a=App.CM.gtM(O6.B22)).state&&(r=!1),n=a.isOpen?1:0;break;case ActivityHallType.CROSS_BOSS:-1==(a=App.CM.gtM(O6.B16)).state&&(r=!1),n=a.isOpen?1:0;break;case ActivityHallType.CROSS_FISH:-1==(a=App.CM.gtM(O6.B28)).state&&(r=!1),n=a.isOpen?1:0;break;case ActivityHallType.CROSS_DUEL:-1==(a=App.CM.gtM(O6.B24)).state&&(r=!1),n=1==a.state?1:0;break;case ActivityHallType.CROSS_CLIFF:-1==(a=App.CM.gtM(O6.B8)).state&&(r=!1),n=1<=a.state?1:0;break;case ActivityHallType.CROSS_FIELD:-1==(a=App.CM.gtM(O6.A99)).state&&(r=!1);break;case ActivityHallType.BOATRACE:-1==App.CM.gtM(O6.B53).st&&(r=!1);break;case ActivityHallType.CROSS_WORLD_BOSS:-1==App.CM.gtM(O6.A93).st&&(r=!1);break;case ActivityHallType.CROSS_SURVIVAL:var a;-1==(a=App.CM.gtM(O6.SurvivalChallenge)).st&&(r=!1),n=1<=a.to?1:0;break;default:r=!1}if(r){var h=this.fillItems(o);h.isTodayOpen=n,e.push(h)}}}return e.sort(function(t,e){if(t.isTodayOpen!=e.isTodayOpen)return e.isTodayOpen-t.isTodayOpen;e.sequence,t.sequence}),e},e.fillItems=function(t){var e={};return e.type=t.type,e.sequence=t.sequence,e.banner=t.banner,e.time=t.time,e.rewards=null==t.reward?void 0:t.reward.split(","),e.dlgIndex=t.dlgindex,e.help=t.help,e.openlv=t.openlv,e.red=this.FL35(t.type),e=this.fillContent(t,e)},e.fillContent=function(t,e){var i=App.CM.gtM(O6.B82);switch(t.type){case ActivityHallType.ANSWER:var s=this.gtM();e.content=s.no1;break;case ActivityHallType.ESCORT:if(t.openlv>i.avatarInfo.l)e.content=O3.tr(3281,t.openlv);else{var o=App.CM.gtM(O6.B86),r=L7.gIV("escortNum"),n=o.en;e.content=O3.tr(3279,null==n?r-0:r-n,r)}}return e},e.getContent=function(t,e){var i=App.CM.gtM(O6.B82);switch(t){case ActivityHallType.ANSWER:return this.gtM().no1;case ActivityHallType.ESCORT:if(e>i.avatarInfo.l)return O3.tr(3281,e);var s=App.CM.gtM(O6.B86),o=L7.gIV("escortNum"),r=s.en;return O3.tr(3271,null==r?o-0:o-r,o);default:return}},e.FL35=function(t){return e.gtM().red[t]},e.hasRed=function(){var t=e.gtM();return t.updateRed(),t.redNum},e.getHelp=function(t){switch(t){case ActivityHallType.ANSWER:return{title:O3.tr(5546),content:TF78.gIV("help")};case ActivityHallType.ESCORT:return{title:O3.tr(1202),content:L7.gIV("escortHelp")};case ActivityHallType.CLIMB:return{title:O3.tr(600),content:M16.gIV("help")};case ActivityHallType.CROSS_CAMP:return{title:O3.tr(826),content:G10.gIV("help")};case ActivityHallType.CROSS_BOSS:return{title:G9.gIV("tipsTitle"),content:G9.gIV("tipsTex")};case ActivityHallType.CROSS_DUEL:return{title:TD91.gIV("tipsTitle"),content:TD91.gIV("tipsTex")};case ActivityHallType.CROSS_FISH:return{title:TD91.gIV("tipsTitle"),content:O3.tr(4588)};case ActivityHallType.CROSS_FIELD:return{title:O3.tr(6e3),content:O3.tr(6001)};case ActivityHallType.BOATRACE:return{title:O3.tr(6773),content:Boatrace.Config.help};case ActivityHallType.CROSS_WORLD_BOSS:return{title:O3.tr(7934),content:O3.tr(7803)};case ActivityHallType.CROSS_SURVIVAL:return{title:O3.tr(9028),content:O3.tr(9029)};default:return{title:"",content:""}}},e.gtM=function(){return App.CM.gtM(O6.A60)},e}();__reflect(TC90.prototype,"TC90");var ActivityHallItemsView=function(e){function t(){var t=e.call(this)||this;return t.skinName="ActivityHallItemSkin",t.addEventListener(egret.Event.ADDED_TO_STAGE,t.open,t),t.addEventListener(egret.Event.REMOVED_FROM_STAGE,t.close,t),t}return __extends(t,e),t.prototype.childrenCreated=function(){e.prototype.createChildren.call(this),this.initUI()},t.prototype.initUI=function(){this.listContent.itemRenderer=ItemIcon,this.dataSource=new eui.ArrayCollection,this.listContent.dataProvider=this.dataSource,this.awardsSc.viewport=this.listContent,this.awardsSc.scrollPolicyH=eui.ScrollPolicy.OFF,this.awardsSc.scrollPolicyV=eui.ScrollPolicy.OFF},t.prototype.open=function(){this.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onBegin,this),this.getBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickBtn,this),this.bannerGrp.addEventListener(egret.TouchEvent.TOUCH_TAP,this.ZU16,this),this.helpBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickHelp,this),this.btnRanking.addEventListener(egret.TouchEvent.TOUCH_TAP,this.openSumView,this)},t.prototype.close=function(){this.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onBegin,this),this.getBtn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickBtn,this),this.bannerGrp.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.ZU16,this),this.helpBtn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickHelp,this),this.btnRanking.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.openSumView,this),this.objGroup.removeChildren(),this.objModel&&(this.objModel.destory(),this.objModel=null)},t.prototype.onBegin=function(){TG40.playClickEffect()},t.prototype.dataChanged=function(){e.prototype.dataChanged.call(this),this.objGroup.removeChildren(),this.objModel&&(this.objModel.destory(),this.objModel=null),this.bannerImg.source=this.data.banner,this.timeLb.textFlow=M18.HTP.parser(this.data.time),this.imgNew.visible=0<this.data.red,this.ZJ81(this.data.rewards),this.fillItem(this.data.type)},t.prototype.openSumView=function(){switch(this.data.type){case ActivityHallType.CLIMB:App.CM.apF(O6.C6,N5.A20);break;case ActivityHallType.CROSS_CAMP:App.CM.apF(O6.B22,G12.A36);break;case ActivityHallType.BOATRACE:App.VM.open(O7.C8);break;case ActivityHallType.CROSS_FISH:App.CM.apF(O6.B28,HH1.A1);break;case ActivityHallType.CROSS_BOSS:App.VM.open(O7.B86);break;case ActivityHallType.CROSS_WORLD_BOSS:App.VM.open(O7.A74);break;case ActivityHallType.CROSS_SURVIVAL:App.CM.apF(O6.SurvivalChallenge,SurvivalConst.CROSS_SURVIVAL_LOADRANK_REQ,1,15)}},t.prototype.fillItem=function(t){switch(this.contentImg.visible=!1,this.helpBtn.visible=!0,this.helpBtn.touchEnabled=!0,this.invaderGrp.visible=!1,this.invaderGrp.touchEnabled=!1,this.getBtn.visible=!1,this.bannerGrp.touchEnabled=!0,this.btnRanking.visible=!1,this.contentLb1.visible=!0,t){case ActivityHallType.ANSWER:this.parent.setChildIndex(this,0);var e=O3.tr(4333);null!=this.data.content&&(this.GY15(this.data.content.obj),e=O3.tr(4334,this.data.content.name)),this.contentLb1.textFlow=M18.HTP.parser(e),this.contentImg.visible=!0;break;case ActivityHallType.ESCORT:P7.FM14()?this.contentLb1.verticalCenter=-8:this.contentLb1.verticalCenter=-11,this.contentLb1.horizontalCenter=6,this.contentLb1.textFlow=M18.HTP.parser(this.data.content);break;case ActivityHallType.CLIMB:this.getBtn.label=O3.tr(3358),this.getBtn.visible=!0,this.btnRanking.visible=!0,this.contentLb1.visible=!1;break;case ActivityHallType.CROSS_CLIFF:this.getBtn.label=O3.tr(3358),this.getBtn.visible=!0,this.btnRanking.visible=!1,this.contentLb1.visible=!1;break;case ActivityHallType.CROSS_CAMP:this.btnRanking.visible=!0,this.getBtn.label=O3.tr(3358),this.getBtn.visible=!0,this.contentLb1.visible=!1;break;case ActivityHallType.CROSS_TEAM:this.getBtn.label=O3.tr(3358),this.getBtn.visible=!0,this.contentLb1.visible=!1;break;case ActivityHallType.CROSS_BOSS:this.getBtn.label=O3.tr(3358),this.getBtn.visible=!0,this.contentLb1.visible=!1,this.btnRanking.visible=!0;break;case ActivityHallType.CROSS_DUEL:this.getBtn.label=O3.tr(3358),this.getBtn.visible=!0,this.contentLb1.visible=!1;break;case ActivityHallType.CROSS_FISH:this.getBtn.label=O3.tr(3358),this.getBtn.visible=!0,this.contentLb1.visible=!1,this.btnRanking.visible=!0;break;case ActivityHallType.CROSS_FIELD:this.getBtn.label=O3.tr(3358),this.getBtn.visible=!0,this.contentLb1.visible=!1;break;case ActivityHallType.BOATRACE:this.getBtn.label=O3.tr(6739),this.getBtn.visible=this.btnRanking.visible=!0,this.contentLb1.visible=!1;break;case ActivityHallType.CROSS_WORLD_BOSS:this.getBtn.label=O3.tr(3358),this.getBtn.visible=this.btnRanking.visible=!0,this.contentLb1.visible=!1;break;case ActivityHallType.CROSS_SURVIVAL:this.getBtn.label=O3.tr(3358),this.getBtn.visible=!0,this.btnRanking.visible=!0,this.contentLb1.visible=!1,this.gpTip.x=290}t==ActivityHallType.CROSS_CAMP||t==ActivityHallType.CLIMB||t==ActivityHallType.ESCORT||t==ActivityHallType.CROSS_DUEL||t==ActivityHallType.CROSS_BOSS||t==ActivityHallType.CROSS_FIELD||t==ActivityHallType.CROSS_FISH||t==ActivityHallType.CROSS_CLIFF||t==ActivityHallType.CROSS_WORLD_BOSS||t==ActivityHallType.BOATRACE||t==ActivityHallType.CROSS_SURVIVAL?(this.gpTip.visible=!0,this.lbTip.text=O3.tr(4477)):this.gpTip.visible=!1;var i=TC90.getHelp(this.data.type);this.helpBtn.visible=""!=i.content},t.prototype.ZQ22=function(){var t=new Date,e=0,i=0,s=parseInt(L4.gIV("monsterDuration"));s=60*s*1e3;var o=L4.gIV("monsterOpening"),r=M18.FL28(o,";");for(var n in r){e++,i--;var a=M18.FL28(r[n],","),h=new Date;h.setHours(parseInt(a[0])),h.setMinutes(parseInt(a[1]));var p=h.getTime(),l=p+s;if(t.getTime()>=p&&t.getTime()<=l)return e;if(t.getTime()<p)return i}return-1},t.prototype.onClickBtn=function(){switch(this.data.type){case ActivityHallType.ANSWER:case ActivityHallType.ESCORT:case ActivityHallType.CLIMB:case ActivityHallType.CROSS_CAMP:case ActivityHallType.CROSS_TEAM:case ActivityHallType.CROSS_BOSS:case ActivityHallType.CROSS_WORLD_BOSS:case ActivityHallType.CROSS_DUEL:case ActivityHallType.CROSS_FISH:case ActivityHallType.CROSS_FIELD:case ActivityHallType.CROSS_CLIFF:case ActivityHallType.CROSS_CAMP:case ActivityHallType.BOATRACE:case ActivityHallType.CROSS_SURVIVAL:this.ZU16()}},t.prototype.ZJ81=function(t){var e=[];for(var i in t){var s={itemData:{data:N12.gID(t[i]),ct:1},isBottom:!1};e.push(s)}this.dataSource.replaceAll(e)},t.prototype.GY15=function(t){this.objGroup.removeChildren();var e={x:0,y:0,dir:Dir.br,objType:P13.A6};this.objModel=new FightGameObject,this.objModel.action=Action.Stand,this.objModel.setBaseData(e),t.bt=BehaviourType.Stand_d,this.objModel.setData(t,this.objGroup),this.objGroup.$setScaleX(.8),this.objGroup.$setScaleY(.8)},t.prototype.ZU16=function(){if(App.CM.gtM(O6.B82).avatarInfo.l<this.data.openlv){var t=K18.init.commonDesc1.value;P18.sDP(M18.format(t,[this.data.openlv]))}else 0<this.data.dlgIndex&&TG84.FM16(this.data.dlgIndex)},t.prototype.onClickHelp=function(){var t=this.data.type,e=TC90.getHelp(t);App.CM.apF(O6.C18,O10.A24,e)},t}(eui.ItemRenderer);__reflect(ActivityHallItemsView.prototype,"ActivityHallItemsView");var ActivityHallMainView=function(s){function t(t,e){var i=s.call(this,t,e)||this;return App.VM.rgS(O7.B64,O7.E25,"ActivityHallViewL",i.content),App.VM.rgS(O7.B64,O7.E50,"ActivityHallViewD",i.content),i}return __extends(t,s),t.prototype.initUI=function(){s.prototype.initUI.call(this),this.title=O3.tr(4332);var t=[O3.tr(6587),O3.tr(6586)],e=[O7.E50,O7.E25];this.dealWithIOS(t,e),this.btnList=new ButtonList(t,e,this.ZQ23.bind(this)),this.btnList.init(),this.btnGroup.addChild(this.btnList)},t.prototype.dealWithIOS=function(t,e){"wxgame"!==platform.name||platform.sp||(t.splice(1,1),e.splice(1,1))},t.prototype.open=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];s.prototype.open.call(this);var i=t[0]||O7.E50;this.ZQ23(i)},t.prototype.uBM=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];s.prototype.uBM.apply(this,[t].concat(e))},t.prototype.ZQ23=function(t){switch(t){case O7.E25:case O7.E50:this.btnList.ZM66(t)}},t}(BasePanelView);__reflect(ActivityHallMainView.prototype,"ActivityHallMainView");var ActivityHallViewD=function(s){function t(t,e){var i=s.call(this,t,e)||this;return i.sGN("release_acthall"),i.skinName="ActivityHallSkin",i}return __extends(t,s),t.prototype.initUI=function(){s.prototype.initUI.call(this);var t={render:ActivityHallItemsView,gap:8,width:this.listGroup.width,height:this.listGroup.height,arrowScale:1};this.listView=new CommonListBase(t),this.listGroup.addChild(this.listView)},t.prototype.ZU17=function(){var t={type:RankType.answer,currPage:1,size:1};App.CM.apF(O6.C19,O18.A5,t)},t.prototype.open=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];s.prototype.open.call(this),this.listView.open(),this.ZU17(),this.GX5()},t.prototype.uBM=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];s.prototype.uBM.apply(this,[t].concat(e)),t instanceof THH11&&(this.ZHH63(t),this.GX5()),t instanceof TG17&&this.GX5(),t instanceof TG20&&this.GX5()},t.prototype.ZHH63=function(t){TC90.gtM().uBM(t)},t.prototype.GX5=function(){TC90.gtM().redNum=0;var t=TC90.FJ21(0);this.listView.rfL(t)},t.prototype.close=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];s.prototype.close.call(this),this.listView.close()},t}(BaseEuiView);__reflect(ActivityHallViewD.prototype,"ActivityHallViewD");var ActivityHallViewL=function(s){function t(t,e){var i=s.call(this,t,e)||this;return i.sGN("release_acthall"),i.skinName="ActivityHallSkin",i}return __extends(t,s),t.prototype.initUI=function(){s.prototype.initUI.call(this);var t={render:ActivityHallItemsView,gap:8,width:this.listGroup.width,height:this.listGroup.height,arrowScale:1};this.listView=new CommonListBase(t),this.listGroup.addChild(this.listView)},t.prototype.ZU17=function(){var t={type:RankType.answer,currPage:1,size:1};App.CM.apF(O6.C19,O18.A5,t)},t.prototype.open=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];s.prototype.open.call(this),this.listView.open(),this.ZU17(),this.GX5()},t.prototype.uBM=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];s.prototype.uBM.apply(this,[t].concat(e)),t instanceof THH11&&(this.ZHH63(t),this.GX5()),t instanceof TG17&&this.GX5(),t instanceof TG20&&this.GX5()},t.prototype.ZHH63=function(t){TC90.gtM().uBM(t)},t.prototype.GX5=function(){TC90.gtM().redNum=0;var t=TC90.FJ21(1);this.listView.rfL(t)},t.prototype.close=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];s.prototype.close.call(this),this.listView.close()},t}(BaseEuiView);__reflect(ActivityHallViewL.prototype,"ActivityHallViewL");var I1=function(){function t(){}return t.A4=0,t.A3=1,t.A1=2,t.A2=3,t}();__reflect(I1.prototype,"I1");var TB36=function(i){function t(){var t=i.call(this)||this,e=new TE13(t);return e.aLV(O7.D12),e.aLV(O7.HH84),t.proxy=new TE14(t),t.rgF(I1.A1,t.GV53,t),t.rgF(I1.A2,t.GV54,t),t}return __extends(t,i),t.prototype.GV53=function(t){this.proxy.GF1(t)},t.prototype.GV54=function(t){if(200==t.head.state){var e=this.gtM();e.actData.updateData(t.body),t.body.ob&&P5.sIs(t.body.ob),e.notify(I1.A2)}else App.CM.apF(O6.B87,L10.A4,t)},t}(TE11);__reflect(TB36.prototype,"TB36");var TE13=function(i){function t(t){var e=i.call(this,t)||this;return e.openState=!1,e.redNum=0,e.firstLoginRedNum=1,e}return __extends(t,i),t.prototype.ZC13=function(t){t&&(null!=this.actData?this.actData.updateData(t):(this.actData=new BuyRebateVo(t),this.tips=this.actData.tips),this.updateRed())},t.prototype.updateRed=function(){this.redNum=this.FL35()},t.prototype.FL35=function(){var t=0;return t+=this.firstLoginRedNum,1==this.actData.t&&t++,t},t.prototype.notify=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];i.prototype.notifyView.apply(this,[this].concat(t))},t}(TG79);__reflect(TE13.prototype,"TE13");var TE14=function(e){function t(t){return e.call(this,t)||this}return __extends(t,e),t.prototype.GF1=function(t){var e=this,i={type:P4.F70,body:{day:t,cid:platform.channel}};this.rSMO(P4.F71,function(t){e.apF(I1.A2,t)},this),this.sSM(i)},t}(TG80);__reflect(TE14.prototype,"TE14");var BuyRebateView=function(o){function t(t,e){var i=o.call(this,t,e)||this;return i.sGN("release_act1126"),i.skinName="BuyRebateSkin",i}return __extends(t,o),t.prototype.initUI=function(){o.prototype.initUI.call(this);var t=App.CM.gtM(O6.B38).actData;this.rebateNum.text=100*Number(t.cost)+"%",this.listContent.itemRenderer=ItemIcon,this.dataSource=new eui.ArrayCollection,this.listContent.dataProvider=this.dataSource,this.awardsSc.viewport=this.listContent,this.awardsSc.scrollPolicyH=eui.ScrollPolicy.OFF,this.awardsSc.scrollPolicyV=eui.ScrollPolicy.OFF,this.goBtn0.label=O3.tr(3241),this.goBtn1.label=O3.tr(3337),this.title.textFlow=M18.HTP.parser(O3.tr(7705))},t.prototype.open=function(){for(var e=this,t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];o.prototype.open.call(this,t),this.goBtn0.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickBtn,this),this.goBtn1.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onReceiveBtn,this);var s=App.CM.gtM(O6.B38);this.initInfo(s.actData.reward);this.GX5(s),App.K16.doFrame(1,1,function(){var t=App.VM.gOV(TF59.FA34(F7.B8));t&&t.autoOut&&(e.autoOutVis=t.autoOut.visible,t.autoOut.visible=!1)},this)},t.prototype.close=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];o.prototype.close.call(this,t),this.dataSource.removeAll();var i=App.VM.gOV(TF59.FA34(F7.B8));i&&i.autoOut&&(i.autoOut.visible=this.autoOutVis)},t.prototype.initInfo=function(t){var e=t.split(","),i=e.splice(0,1)[0].split("-");this.moneyLb.text=i[1],this.allDayNum=Number(i[0]);for(var s=[],o=e[0].split(";"),r=0;r<o.length;r++){var n=o[r].split(":"),a={data:N12.gID(n[0]),ct:n[1]};s.push({itemData:a,isBottom:!1})}this.dataSource.replaceAll(s)},t.prototype.uBM=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];o.prototype.uBM.call(this,t,e),t instanceof TE13&&this.GX5(t)},t.prototype.onClickBtn=function(){App.VM.open(O7.F72)},t.prototype.onReceiveBtn=function(){App.CM.apF(O6.B38,I1.A1)},t.prototype.GX5=function(t){if(!this._timerHandler){this.leftCD=t.actData.ZHH64();var e=P6.FJ11(1e3*this.leftCD,5);this.cdLb.textFlow=M18.HTP.parser(O3.tr(3329,e)),this._timerHandler=App.K16.doTimer(1e3,this.leftCD,this.GY14,this)}this.scheduleLb.text=(t.actData.d>this.allDayNum?this.allDayNum:t.actData.d)+"/"+this.allDayNum,this.dayNumLb.text=this.allDayNum+"",this.cdLb0.text=this.allDayNum+"",1==t.actData.t?this.goBtn1.enabled=!0:(2==t.actData.t&&(this.goBtn1.label=O3.tr(5751)),this.goBtn1.enabled=!1),P16.sGF(this.goBtn1,!this.goBtn1.enabled)},t.prototype.GY14=function(){this.leftCD--;var t=O3.tr(3253,P6.FJ11(1e3*this.leftCD,5));this.cdLb.textFlow=M18.HTP.parser(t),this.leftCD<=0&&(this.cdLb.text="")},t}(BaseEuiView);__reflect(BuyRebateView.prototype,"BuyRebateView");var BuyRebateVo=function(i){function t(t){var e=i.call(this,t)||this;return e.d=0,e.updateData(t),e}return __extends(t,i),t.prototype.updateData=function(t){if(t&&this.ZU63(t),t.atmp){var e=t.atmp;this.cost=e.cost,this.order=e.order,this.paramVer=e.paramVer,this.reward=e.reward}this.d=0<=t.d?t.d:this.d,this.t=0<=t.t?t.t:this.t,this.parVer=t.parVer?t.parVer:this.parVer,this.ob=t.ob?t.ob:this.ob},t.prototype.ZHH64=function(){var t=P6.getTime(!0)-this.lastRefreshTime,e=this.rs-t;return 0<e?e:0},t.prototype.FL35=function(){},t}(ActivityVo);__reflect(BuyRebateVo.prototype,"BuyRebateVo");var TA74=function(e){function t(){var t=e.call(this)||this;return App.VM.register(O7.C32,"CarnivalActBaseView",t,K17.UI_Main),t}return __extends(t,e),t}(TE11);__reflect(TA74.prototype,"TA74");var C6=function(){function t(){}return t.A3=0,t.A4=1,t.A1=2,t.A2=3,t}();__reflect(C6.prototype,"C6");var TA26=function(e){function t(){var t=e.call(this)||this;return t.Proxy=new TB38(t),new TB37(t).aLV(O7.D73),t.rgF(C6.A3,t.GK38,t),t.rgF(C6.A4,t.GK39,t),t.rgF(C6.A1,t.GI42,t),t.rgF(C6.A2,t.GI43,t),t}return __extends(t,e),t.prototype.GK38=function(t){this.Proxy.ZB20(t)},t.prototype.GK39=function(t){var e=this.gtM();200==t.head.state?(P5.sIs(t.body.ob),e.ZC13(t.body),e.notify()):App.CM.apF(O6.B87,L10.A4,t)},t.prototype.GI42=function(t){this.Proxy.ZA86(t)},t.prototype.GI43=function(t){var e=this.gtM();200==t.head.state?(P5.sIs(t.body.ob),e.ZC13(t.body),e.notify()):App.CM.apF(O6.B87,L10.A4,t)},t}(TE11);__reflect(TA26.prototype,"TA26");var TB37=function(i){function t(t){var e=i.call(this,t)||this;return e.openState=!1,e.redNum=0,e.firstLoginRedNum=0,e}return __extends(t,i),t.prototype.ZC13=function(t){t&&(null!=this.actData?this.actData.updateData(t):(this.actData=new AnecdoteRecordData(t),this.tips=this.actData.tips),this.updateRed())},t.prototype.updateRed=function(){this.redNum=this.FL35()},t.prototype.FL35=function(){var t=0;return t+=this.firstLoginRedNum+this.actData.FL35()+this.actData.getFKRedNum()},t.prototype.notify=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];i.prototype.notifyView.apply(this,[this].concat(t))},t}(TG79);__reflect(TB37.prototype,"TB37");var TB38=function(e){function t(t){return e.call(this,t)||this}return __extends(t,e),t.prototype.ZB20=function(t){var e={type:P4.L10,body:{index:Number(t)}};this.rSMO(P4.L11,this.ZQ24,this),this.sSM(e)},t.prototype.ZQ24=function(t){this.apF(C6.A4,t)},t.prototype.ZA86=function(t){var e={type:P4.C65,body:{num:Number(t)}};this.rSMO(P4.C66,this.ZM74,this),this.sSM(e)},t.prototype.ZM74=function(t){this.apF(C6.A2,t)},t}(TG80);__reflect(TB38.prototype,"TB38");var AnecdoteColItem=function(e){function t(){var t=e.call(this)||this;return t.skinName="AnecdoteItemColSkin",t.addEventListener(egret.Event.ADDED_TO_STAGE,t.open,t),t.addEventListener(egret.Event.REMOVED_FROM_STAGE,t.close,t),t}return __extends(t,e),t.prototype.open=function(){this.getBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickGet,this)},t.prototype.close=function(){this.getBtn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickGet,this),this.itemCollection.removeAll()},t.prototype.childrenCreated=function(){e.prototype.createChildren.call(this),this.itemCollection=new eui.ArrayCollection,this.listContent.dataProvider=this.itemCollection,this.listContent.itemRenderer=ItemIcon,this.awardsSc.scrollPolicyV=eui.ScrollPolicy.OFF,this.getBtn.label=O3.tr(3813)},t.prototype.dataChanged=function(){var t=this.data.listdata.split(","),e=t[0].split("-");this.rewordId=e[0],this.rewordCount=e[1],this.fabaoImg.source=["","com_qiwenlibaoxt_png","com_qiwenzhuanjia_png","com_qiwendashi_png","com_qiwenzongshi_png","com_qiwentgshjiang_png"][e[0]],this.fabaoCon.text=O3.tr(7696,e[1]),this.isGetR(this.rewordId,this.data.yew)?(this.getBtn.visible=!1,this.colLb.visible=!1,this.getImg.visible=!0):(this.getBtn.visible=!0,this.getImg.visible=!1,this.data.count>=this.rewordCount?(this.colLb.visible=!1,this.getBtn.label=O3.tr(7697),this.getBtn.imgNew.visible=!0,this.getBtn.bgStr="v1_btn_yellow_1_png"):(this.colLb.visible=!0,this.colLb.textFlow=M18.HTP.parser(O3.tr(1602,this.data.count,this.rewordCount)),this.getBtn.label=O3.tr(7698),this.getBtn.imgNew.visible=!1,this.getBtn.bgStr="v1_btn_green_1_png"));var i=[],s=t[1].split(";");for(var o in s){var r=s[o].split(":"),n={data:N12.gID(r[0]),ct:r[1]};i.push({itemData:n,isBottom:!1,scale:1})}this.itemCollection.replaceAll(i)},t.prototype.onClickGet=function(){this.data.count>=this.rewordCount?App.CM.apF(O6.A41,C6.A3,this.rewordId):this.isOpenFabao(!0)&&TG84.FM16(3902)},t.prototype.isGetR=function(t,e){for(var i=0,s=e;i<s.length;i++){if(s[i]==t)return!0}return!1},t.prototype.isOpenFabao=function(t){var e=O4.getLv(),i=TD66.openLv;if(e<i){var s=K18.init.commonDesc1.value;return t&&P18.sDP(M18.format(s,[i])),!1}var o=App.CM.gtM(O6.B43),r=TD66.openDay;return!(o.serOpenDay+1<r)||(t&&P18.sDP(O3.tr(5055,r)),!1)},t}(eui.ItemRenderer);__reflect(AnecdoteColItem.prototype,"AnecdoteColItem");var AnecdoteFkItem=function(e){function t(){var t=e.call(this)||this;return t.skinName="AnecdoteItemFkSkin",t.addEventListener(egret.Event.ADDED_TO_STAGE,t.open,t),t.addEventListener(egret.Event.REMOVED_FROM_STAGE,t.close,t),t}return __extends(t,e),t.prototype.open=function(){this.getBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickGet,this)},t.prototype.close=function(){this.getBtn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickGet,this),this.itemCollection.removeAll()},t.prototype.childrenCreated=function(){e.prototype.createChildren.call(this),this.itemCollection=new eui.ArrayCollection,this.listContent.dataProvider=this.itemCollection,this.listContent.itemRenderer=ItemIcon,this.awardsSc.scrollPolicyV=eui.ScrollPolicy.OFF,this.getBtn.label=O3.tr(3813)},t.prototype.dataChanged=function(){var t=this.data.listdata.split(","),e=Number(this.data.count)>Number(t[0])?t[0]+"/"+t[0]:this.data.count+"/"+t[0];this.data.getState==J13.A2?(this.getBtn.visible=!1,this.getImg.visible=!0,this.fkNumLb.textFlow=O3.tr2(8581," "+e+" ","")):this.data.getState==J13.A3?(this.getBtn.visible=!0,this.getImg.visible=!1,this.getBtn.label=O3.tr(8582),this.getBtn.imgNew.visible=!0,this.getBtn.bgStr="v1_btn_yellow_1_png",this.fkNumLb.textFlow=O3.tr2(8581," "+e+" ","")):(this.getBtn.visible=!0,this.getImg.visible=!1,this.getBtn.label=O3.tr(7698),this.getBtn.imgNew.visible=!1,this.getBtn.bgStr="v1_btn_green_1_png",this.fkNumLb.textFlow=O3.tr2(8581,""," "+e+" "));var i=[],s=t[1].split(";");for(var o in s){var r=s[o].split(":"),n={data:N12.gID(r[0]),ct:r[1]};i.push({itemData:n,isBottom:!1,scale:1})}this.itemCollection.replaceAll(i)},t.prototype.onClickGet=function(){var t=this.data.listdata.split(",");Number(this.data.count)>=Number(t[0])?App.CM.apF(O6.A41,C6.A1,t[0]):this.isOpenFabao(!0)&&TG84.FM16(3902)},t.prototype.isOpenFabao=function(t){var e=O4.getLv(),i=TD66.openLv;if(e<i){var s=K18.init.commonDesc1.value;return t&&P18.sDP(M18.format(s,[i])),!1}var o=App.CM.gtM(O6.B43),r=TD66.openDay;return!(o.serOpenDay+1<r)||(t&&P18.sDP(O3.tr(5055,r)),!1)},t}(eui.ItemRenderer);__reflect(AnecdoteFkItem.prototype,"AnecdoteFkItem");var AnecdoteRankItem=function(e){function t(){var t=e.call(this)||this;return t.skinName="AnecdoteItemRankSkin",t.addEventListener(egret.Event.ADDED_TO_STAGE,t.open,t),t.addEventListener(egret.Event.REMOVED_FROM_STAGE,t.close,t),t}return __extends(t,e),t.prototype.open=function(){},t.prototype.close=function(){this.itemCollection.removeAll()},t.prototype.childrenCreated=function(){e.prototype.createChildren.call(this),this.itemCollection=new eui.ArrayCollection,this.listContent.dataProvider=this.itemCollection,this.listContent.itemRenderer=ItemIcon,this.awardsSc.scrollPolicyV=eui.ScrollPolicy.OFF},t.prototype.dataChanged=function(){var t=["v1_fonts_di1m_png","v1_fonts_2nd_png","v1_fonts_di3m_png"],e=this.data.listdata.split(",");if(1<e[0].split("-").length)this.NoName.visible=!0,this.haveName.visible=!1,this.noNameTit.text=O3.tr(7692,e[0]);else{this.NoName.visible=!1,this.haveName.visible=!0,t[e[0]-1]?(this.titleImg.visible=!0,this.lbTitle.visible=!1,this.titleImg.source=t[e[0]-1]):(this.titleImg.visible=!1,this.lbTitle.visible=!0,this.lbTitle.text=O3.tr(7692,e[0]));var i=this.getLocalRank(e[0],this.data.asRank);if(i)this.namelb.text=O3.tr(7693,i.sName),this.numlb.text=O3.tr(7694,i.fbc);else{this.namelb.text=O3.tr(7695);var s=this.getLocalCost(Number(e[0])-1,this.data.costlist);this.numlb.text=s?O3.tr(7694,s):""}}var o=[],r=e[1].split(";");for(var n in r){var a=r[n].split(":"),h={data:N12.gID(a[0]),ct:a[1]};o.push({itemData:h,isBottom:!1,scale:1})}this.itemCollection.replaceAll(o)},t.prototype.getLocalRank=function(t,e){for(var i in e)if(t==e[i].nRank)return e[i];return null},t.prototype.getLocalCost=function(t,e){return t<e.length?e[t].split(":")[1]:null},t}(eui.ItemRenderer);__reflect(AnecdoteRankItem.prototype,"AnecdoteRankItem");var AnecdoteRecordView=function(o){function t(t,e){var i=o.call(this,t,e)||this;return i.sGN("release_act1124"),i.skinName="AnecdoteRecordSkin",i}return __extends(t,o),t.prototype.initUI=function(){o.prototype.initUI.call(this);var t={render:AnecdoteRankItem,gap:5,width:this.rankListGroup.width,height:this.rankListGroup.height,arrowScale:1};this.ranklistView=new CommonListBase(t),this.rankListGroup.addChild(this.ranklistView),this.ranklistView.verticalCenter=0,this.ranklistView.horizontalCenter=0;var e={render:AnecdoteColItem,gap:5,width:this.colListGroup.width,height:this.colListGroup.height,arrowScale:1};this.collistView=new CommonListBase(e),this.colListGroup.addChild(this.collistView),this.collistView.verticalCenter=0,this.collistView.horizontalCenter=0;var i={render:AnecdoteFkItem,gap:5,width:this.colListGroup.width,height:this.colListGroup.height,arrowScale:1};this.fklistView=new CommonListBase(i),this.fkListGroup.addChild(this.fklistView),this.fklistView.verticalCenter=0,this.fklistView.horizontalCenter=0,this.rankbtn.label=O3.tr(7688),this.colbtn.label=O3.tr(7689),this.goBtn.label=O3.tr(7690)},t.prototype.open=function(){for(var e=this,t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];o.prototype.open.call(this),this.rankbtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.rankbtnEvent,this),this.colbtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.colbtnEvent,this),this.thbtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.thbtnEvent,this),this.fkbtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.fkbtnEvent,this),this.goBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.gobtnEvent,this),this.goLBBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.getbtnEvent,this),this.ranklistView.open(),this.collistView.open(),this.fklistView.open(),this.rankbtnEvent();var s=App.CM.gtM(O6.A41);this.ZA6(s),this.loadListData(),App.K16.doFrame(1,1,function(){var t=App.VM.gOV(TF59.FA34(F7.A37));t&&t.autoOut&&(e.autoOutVis=t.autoOut.visible,t.autoOut.visible=!1)},this)},t.prototype.uBM=function(t,e){o.prototype.uBM.call(this,t,e),t instanceof TB37&&this.ZA6(t),t instanceof THH11&&this.updateViews()},t.prototype.updateViews=function(){var t=App.CM.gtM(O6.C19),e=App.CM.gtM(O6.A41),i=t.myRankList,s=t.rankList,o=e.actData.cost.split("|")[0].split(","),r=e.actData.reward.split("|"),n=this.ZM75(r,s,o);this.ranklistView.rfL(n),this.myRankLb.textFlow=M18.HTP.parser(O3.tr(7686,this.getRankLb(i))),this.myStarLb.textFlow=M18.HTP.parser(O3.tr(7687,e.actData.star))},t.prototype.ZA6=function(t){this.ZU18(t),this.updataFKView(t),this.updataTHView(t)},t.prototype.ZU18=function(t){var e=t.actData;this.leftCD=t.actData.ZHH64();var i=P6.FJ11(1e3*this.leftCD,5);this.cdLb.textFlow=M18.HTP.parser(O3.tr(3253,i)),this._timerHandler=App.K16.doTimer(1e3,this.leftCD,this.GY14,this);var s=t.actData.more.split("|"),o=this.ZQ25(s,t);o.sort(function(t,e){return t.getState-e.getState}),this.collistView.rfL(o),this.colbtn.imgNew.visible=!!e.FL35()},t.prototype.updataTHView=function(t){var e=t.actData.cost.split("|")[1].split(";")[0].split(":"),i=e[0].split(","),s=Number(i[1])-Number(i[0])+1;if(this.thStrLb0.text=O3.tr(8579,s),this.thStrLb1.text=O3.tr(8578,e[1]),t.actData.td<Number(i[0])){var o=Number(i[0])-t.actData.td;this.thbtn.label=O3.tr(8577,o)}else this.thbtn.label=O3.tr(8575);t.actData.ZU21(1)?this.goLBBtn.label=O3.tr(8580):this.goLBBtn.label=O3.tr(8605)},t.prototype.updataFKView=function(t){var e=t.actData,i=P6.FJ11(1e3*this.leftCD,5);this.cdLb.textFlow=M18.HTP.parser(O3.tr(8584,i)),this._timerHandler=App.K16.doTimer(1e3,this.leftCD,this.GY14,this);var s=t.actData.rank.split("|"),o=this.ZU19(s,t);o.sort(function(t,e){return t.getState-e.getState}),this.fklistView.rfL(o);var r=t.actData.cost.split("|")[1].split(";")[1].split(",");if(t.actData.td<Number(r[0])){var n=Number(r[0])-t.actData.td;this.fkbtn.label=O3.tr(8577,n)}else this.fkbtn.label=O3.tr(8576);this.fkbtn.imgNew.visible=!!e.getFKRedNum()},t.prototype.getRankLb=function(t){return t.nRank?t.nRank:O3.tr(7691)},t.prototype.ZQ25=function(t,e){for(var i in t){var s={listdata:t[i],count:e.actData.count,yew:e.actData.yet,getState:e.actData.getState(Number(i))};t[i]=s}return t},t.prototype.ZU19=function(t,e){for(var i in t){var s={listdata:t[i],count:e.actData.cn,yew:e.actData.cyet,getState:e.actData.getFkState(Number(i))};t[i]=s}return t},t.prototype.ZM75=function(t,e,i){var s=[];for(var o in t){var r={listdata:t[o],asRank:e,costlist:i};s[o]=r}return s},t.prototype.loadListData=function(){App.CM.apF(O6.C19,O18.A5,{type:39,currPage:1,size:5})},t.prototype.GY14=function(){if(0<this.leftCD){this.leftCD--;var t=P6.FJ11(1e3*this.leftCD,5);this.cdLb.textFlow=M18.HTP.parser(O3.tr(8584,t))}else switch(this.cdIdx){case 0:this.cdLb.textFlow=O3.tr2(8583);break;case 1:var e=(s=App.CM.gtM(O6.A41)).actData.cost.split("|")[1].split(";")[0].split(":")[0].split(",");if(s.actData.td<Number(e[0])){var i=Number(e[0])-s.actData.td;this.cdLb.text=O3.tr(8577,i)}else this.cdLb.textFlow=O3.tr2(8583);break;case 2:var s;e=(s=App.CM.gtM(O6.A41)).actData.cost.split("|")[1].split(";")[1].split(",");if(s.actData.td<Number(e[0])){i=Number(e[0])-s.actData.td;this.cdLb.text=O3.tr(8577,i)}else this.cdLb.textFlow=O3.tr2(8583)}},t.prototype.cTH=function(){null!=this._timerHandler&&(App.K16.rBH(this._timerHandler),this._timerHandler=null)},t.prototype.scrollToGet=function(){var t=this.ranklistView.getListData();for(var e in t)if(t[e].state==J13.A3){this.ranklistView.ZQ18(parseInt(e));break}},t.prototype.rankbtnEvent=function(){var t=App.CM.gtM(O6.A41);this.leftCD=t.actData.ZU21(0),this.ZU20(0),this.rankGroup.visible=!0,this.cdIdx=0},t.prototype.colbtnEvent=function(){var t=App.CM.gtM(O6.A41);this.leftCD=t.actData.ZU21(0),this.ZU20(1),this.rankGroup.visible=!1,this.cdIdx=0},t.prototype.thbtnEvent=function(){var t=App.CM.gtM(O6.A41),e=t.actData.cost.split("|")[1].split(";")[0].split(":")[0].split(",");if(t.actData.td<Number(e[0])){var i=Number(e[0])-t.actData.td,s=O3.tr(8577,i);P18.sDP(s,!1)}else this.leftCD=t.actData.ZU21(1),this.ZU20(2),this.rankGroup.visible=!1,this.cdIdx=1},t.prototype.fkbtnEvent=function(){var t=App.CM.gtM(O6.A41),e=t.actData.cost.split("|")[1].split(";")[1].split(",");if(t.actData.td<Number(e[0])){var i=Number(e[0])-t.actData.td,s=O3.tr(8577,i);P18.sDP(s,!1)}else this.leftCD=t.actData.ZU21(2),this.ZU20(3),this.rankGroup.visible=!1,this.cdIdx=2},t.prototype.ZU20=function(t){var e=[this.rankbtn,this.colbtn,this.thbtn,this.fkbtn],i=[this.rankListGroup,this.colListGroup,this.thGroup,this.fkListGroup];for(var s in e)e[s].bgStr="v1_btn_green_1_png",i[s].visible=!1;e[t].bgStr="v1_btn_yellow_1_png",i[t].visible=!0},t.prototype.gobtnEvent=function(){TG84.FM16(1095)},t.prototype.getbtnEvent=function(){if(App.CM.gtM(O6.A41).actData.ZU21(1))TG84.FM16(3902);else{var t=O3.tr(8606);P18.sDP(t,!1)}},t.prototype.close=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];o.prototype.close.call(this),this.ranklistView.close(),this.collistView.close(),this.fklistView.close(),this.rankbtn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.rankbtnEvent,this),this.colbtn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.colbtnEvent,this),this.goBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.colbtnEvent,this),this.cTH();var i=App.VM.gOV(TF59.FA34(F7.A69));i&&i.autoOut&&(i.autoOut.visible=this.autoOutVis)},t}(BaseEuiView);__reflect(AnecdoteRecordView.prototype,"AnecdoteRecordView");var AnecdoteRecordData=function(i){function t(t){var e=i.call(this,t)||this;return e.yet={},e.updateData(t),e}return __extends(t,i),t.prototype.updateData=function(t){t&&(this.cost=null!=t.cost?t.cost:this.cost,this.yet=null!=t.yet?t.yet:this.yet,this.more=null!=t.more?t.more:this.more,this.reward=null!=t.reward?t.reward:this.reward,this.count=null!=t.count?t.count:this.count,this.star=null!=t.star?t.star:this.star,this.rank=null!=t.rank?t.rank:this.rank,this.td=null!=t.td?t.td:this.td,this.sd=null!=t.sd?t.sd:this.sd,this.dcd=null!=t.dcd?t.dcd:this.dcd,this.ccd=null!=t.ccd?t.ccd:this.ccd,this.cyet=null!=t.cyet?t.cyet:this.cyet,this.cn=null!=t.cn?t.cn:this.cn),this.ZU63(t)},t.prototype.FL35=function(){var t=this.more.split("|");for(var e in t){var i=t[e].split(","),s=i[0].split("-")[0],o=i[0].split("-")[1];if(this.count>=Number(o)){var r=-1==this.yet.indexOf(Number(s))?1:0;if(r)return r}}return 0},t.prototype.getState=function(t){var e=this.more.split("|")[t].split(","),i=e[0].split("-")[0],s=e[0].split("-")[1];return this.count>=Number(s)?(-1==this.yet.indexOf(Number(i))?1:0)?J13.A3:J13.A2:J13.A1},t.prototype.getFKRedNum=function(){if(0==this.ZU21(2))return 0;var t=this.rank.split("|");for(var e in t){var i=t[e].split(",")[0];if(this.cn>=Number(i)){var s=-1==this.cyet.indexOf(Number(i))?1:0;if(s)return s}}return 0},t.prototype.getFkState=function(t){var e=this.rank.split("|")[t].split(",")[0];return this.cn>=Number(e)?(-1==this.cyet.indexOf(Number(e))?1:0)?J13.A3:J13.A2:J13.A1},t.prototype.ZU21=function(t){var e=[this.rs,this.dcd,this.ccd][t]-(P6.getTime(!0)-this.lastRefreshTime);return 0<e?e:0},t}(ActivityVo);__reflect(AnecdoteRecordData.prototype,"AnecdoteRecordData");var AnecdoteRecordVo=function(){function t(t){this.updateData(t)}return t.prototype.updateData=function(t){for(var e in t){var i=t[e];switch(e){case"aw":this.award=t.aw;break;case"t":this.target=i}}},t}();__reflect(AnecdoteRecordVo.prototype,"AnecdoteRecordVo");var E12=function(){function t(){}return t.A4=10001,t.A1=10002,t.A2=10003,t.A3=10004,t}();__reflect(E12.prototype,"E12");var TA75=function(i){function t(){var t=i.call(this)||this,e=new TC91(t);return e.aLV(O7.G6),e.aLV(O7.C32),e.aLV(O7.I64),App.VM.register(O7.G6,"BargainShopView",t,K17.UI_Main),t.rgF(E12.A4,t.GG57,t),t.rgF(E12.A1,t.GE98,t),t.bargainShopProxy=new TC92(t),t.rgF(E12.A2,t.GK40,t),t.rgF(E12.A3,t.GK41,t),t}return __extends(t,i),t.prototype.GK40=function(t){this.bargainShopProxy.GK40(t)},t.prototype.GK41=function(t){if(200==t.head.state){var e=t.body,i=this.gtM();i.ZC13(e),i.notify(),P5.sIs(t.body.ob)}else 215==t.head.state?P7.FA78():App.CM.apF(O6.B87,L10.A4,t)},t.prototype.GG57=function(){App.VM.open(O7.G6);var t=App.CM.gtM(O6.A76);t.firstLoginRedNum=0,t.notify()},t.prototype.GE98=function(){App.VM.close(O7.G6)},t}(TE11);__reflect(TA75.prototype,"TA75");var TC91=function(i){function t(t){var e=i.call(this,t)||this;return e.openState=!1,e.redNum=0,e.firstLoginRedNum=0,e}return __extends(t,i),t.prototype.ZC13=function(t){t&&(null!=this.bargainShopData?this.bargainShopData.updateData(t):(this.bargainShopData=new BargainShopData(t),this.tips=this.bargainShopData.tips),this.updateRed())},t.prototype.updateRed=function(){this.redNum=this.FL35()},t.prototype.FL35=function(){var t=0;return t+=this.firstLoginRedNum},t.prototype.notify=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];i.prototype.notifyView.call(this,this,t)},t}(TG79);__reflect(TC91.prototype,"TC91");var TC92=function(i){function t(t){var e=i.call(this,t)||this;return e.rSM(P4.P80,e.GK41,e),e}return __extends(t,i),t.prototype.GK40=function(t){var e={type:P4.P79,body:{id:t}};this.sSM(e)},t.prototype.GK41=function(t){this.apF(E12.A3,t)},t}(TG80);__reflect(TC92.prototype,"TC92");var TD52=function(){};__reflect(TD52.prototype,"TD52");var BargainShopView=function(s){function t(t,e){var i=s.call(this,t,e)||this;return i.listData=[],i.skinName=DiscountShopSkin,i}return __extends(t,s),t.prototype.initUI=function(){s.prototype.initUI.call(this),this.createList()},t.prototype.createList=function(){var t={render:BargainItem,width:this.listGroup.width,height:this.listGroup.height,arrowScale:1,tileLayout:!0,verticalGap:10,horizontalGap:8};this.listView=new CommonListBase(t),this.listGroup.addChild(this.listView),this.listView.verticalCenter=0,this.listView.horizontalCenter=0},t.prototype.updateList=function(){this.listData=this.bargainShopData.ZM76(),this.listView.rfL(this.listData)},t.prototype.open=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];s.prototype.open.call(this),this.listView.open()},t.prototype.uBM=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];s.prototype.uBM.apply(this,[t].concat(e)),t instanceof TC91&&this.ZB21(t)},t.prototype.ZB21=function(t){if(this.bargainShopData=t.bargainShopData,this.updateList(),null==this.timerHandler)if(0<this.bargainShopData.zeroCD){this.leftCD=this.bargainShopData.getZeroCD();var e=O3.tr(3253,P6.FJ11(1e3*this.leftCD,5));this.leftCdLb.textFlow=M18.HTP.parser(e),this.timerHandler=App.K16.doTimer(1e3,this.leftCD,this.GY14,this)}else this.leftCdLb.text=""},t.prototype.GY14=function(){this.leftCD--;var t=O3.tr(3253,P6.FJ11(1e3*this.leftCD,5));this.leftCdLb.textFlow=M18.HTP.parser(t),this.leftCD<=0&&(this.cTH(),this.leftCdLb.text="")},t.prototype.cTH=function(){null!=this.timerHandler&&(App.K16.rBH(this.timerHandler),this.timerHandler=null)},t.prototype.close=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];s.prototype.close.call(this),this.cTH(),this.listView.close()},t}(BaseEuiView);__reflect(BargainShopView.prototype,"BargainShopView");var BargainItem=function(e){function t(){var t=e.call(this)||this;return t.skinName=DiscountItemSkin,t.addEventListener(egret.Event.ADDED_TO_STAGE,t.open,t),t.addEventListener(egret.Event.REMOVED_FROM_STAGE,t.close,t),t}return __extends(t,e),t.prototype.open=function(){this.buyBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.clickBuy,this)},t.prototype.close=function(){this.buyBtn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.clickBuy,this)},t.prototype.childrenCreated=function(){e.prototype.createChildren.call(this),this.initUI()},t.prototype.initUI=function(){App.CM.gtM(O6.A76).bargainShopData;this.itemIcon=new ItemIcon,this.iconGp.addChild(this.itemIcon),this.lblyuanjia.textFlow=M18.HTP.parse(O3.tr(3759)),this.lblxianjia.textFlow=M18.HTP.parse(O3.tr(3761))},t.prototype.dataChanged=function(){this.nameLb.text=this.data.itemData.data.name,O5.FB13(this.nameLb,this.data.itemData.data.name,this.data.itemData.data.quality),this.discountLb.text=O3.tr(3254,this.data.discount),this.limitBuyLb.text=O3.tr(3255,this.data.hasBuy,this.data.limitBuy),this.oldPriceImg.source=N12.FJ86(this.data.oldPrice.k),this.oldPriceLb.textFlow=M18.HTP.parse(O3.tr(3760,this.data.oldPrice.v)),this.nowPriceImg.source=N12.FJ86(this.data.nowPrice.k),this.nowPriceLb.textFlow=M18.HTP.parse(O3.tr(3762,this.data.nowPrice.v));var t={itemData:this.data.itemData,isBottom:!1};this.itemIcon.data=t;var e=App.CM.gtM(O6.A76).bargainShopData,i=P7.FB44(parseInt(e.cost));i.lv>=this.data.rank?(this.lockLb.text="",this.buyBtn.$setVisible(!0),this.limitBuyLb.$setVisible(!0),this.data.hasBuy>=this.data.limitBuy?(P16.sGF(this.buyBtn,!0),this.buyBtn.$setEnabled(!1),this.buyBtn.label=O3.tr(3295)):(P16.sGF(this.buyBtn,!1),this.buyBtn.$setEnabled(!0),this.buyBtn.label=O3.tr(3294))):(this.lockLb.text=O3.tr(3256,i.name,this.data.rank),this.buyBtn.$setVisible(!1),this.limitBuyLb.$setVisible(!1))},t.prototype.clickBuy=function(){App.CM.apF(O6.A76,E12.A2,this.data.id)},t}(eui.ItemRenderer);__reflect(BargainItem.prototype,"BargainItem");var BargainShopData=function(i){function t(t){var e=i.call(this,t)||this;return e.zeroCD=0,e.updateData(t),e}return __extends(t,i),t.prototype.updateData=function(t){if(t){if(this.hasBuyList=t.yb||this.hasBuyList,this.zeroCD=null==t.cd?this.zeroCD:t.cd,t.cd&&(this.lastLoadTime=P6.getTime(!0)),t.cf){null!=this.bargainShopConfVo&&0<this.bargainShopConfVo.length&&this.bargainShopConfVo.splice(0,this.bargainShopConfVo.length),this.bargainShopConfVo=[];for(var e=0;e<t.cf.length;e++){var i=new DiscountShopConfVo(t.cf[e]);this.bargainShopConfVo.push(i)}this.bargainShopConfVo.sort(function(t,e){return t.id-e.id})}if(0<this.hasBuyList.length)for(e=0;e<this.hasBuyList.length;e++)for(var s=0;s<this.bargainShopConfVo.length;s++)if(this.hasBuyList[e].k==this.bargainShopConfVo[s].id){this.bargainShopConfVo[s].hasBuy=this.hasBuyList[e].v;break}this.initActData(t),this.ZU63(t)}},t.prototype.initActData=function(t){t.atmp&&(this.initialed=!1),i.prototype.initActData.call(this,t)},t.prototype.ZM76=function(){for(var t,e=[],i=P7.FB44(parseInt(this.cost)),s=0;s<this.bargainShopConfVo.length;s++){var o=this.bargainShopConfVo[s];if(i.lv==o.rank&&e.push(o),null!=t&&o.rank>t)break;o.rank>i.lv&&(e.push(o),t=o.rank)}return e},t.prototype.getZeroCD=function(){var t=P6.getTime(!0)-this.lastLoadTime,e=this.zeroCD-t;return 0<e?e:0},t}(ActivityVo);__reflect(BargainShopData.prototype,"BargainShopData");var E18=function(){function t(){}return t.A7=10001,t.A8=10002,t.A5=10003,t.A6=10004,t.A4=20001,t.A3=20002,t.A2=20003,t.A1=20004,t}();__reflect(E18.prototype,"E18");var B7=function(){function t(){}return t.HIDE=0,t.TRAIN=1,t.CHARGE=2,t}();__reflect(B7.prototype,"B7");var A3=function(){function t(){}return t.SUPER=1,t.SENIOR=2,t.LOWER=3,t}();__reflect(A3.prototype,"A3");var TA76=function(i){function t(){var t=i.call(this)||this,e=new TC93(t);return e.aLV(O7.G30),e.aLV(O7.G30),e.aLV(O7.D86),e.aLV(O7.I64),e.aLV(O7.I39),e.aLV(O7.I39),t.proxy=new TC94(t),t.rgF(E18.A7,t.trainReq,t),t.rgF(E18.A8,t.trainRes,t),t.rgF(E18.A5,t.GW88,t),t.rgF(E18.A6,t.GW89,t),App.VM.register(O7.C89,"BattleFieldBaseView",t,K17.UI_Main_TOP),t.rgF(E18.A4,t.GC22,t),t.rgF(E18.A3,t.GB44,t),App.VM.register(O7.A52,"BattleFieldChargeAuiView",t,K17.UI_Tips),t.rgF(E18.A2,t.GA32,t),t.rgF(E18.A1,t.GA19,t),t}return __extends(t,i),t.prototype.trainReq=function(t){this.proxy.trainReq(t)},t.prototype.trainRes=function(t){var e=this.gtM();200==t.head.state?(e.ZC13(t.body),e.actData.lastTime=P6.getTime(!0),e.actData.isTraining=!0,e.notify(P4.U15)):App.CM.apF(O6.B87,L10.A4,t)},t.prototype.GW88=function(){this.proxy.GW88()},t.prototype.GW89=function(t){var e=this.gtM();200==t.head.state?(e.ZC13(t.body),e.actData.isTraining=!1,P5.sIs(e.actData.ob),e.notify(P4.Q98)):App.CM.apF(O6.B87,L10.A4,t)},t.prototype.GC22=function(){App.VM.open(O7.C89)},t.prototype.GB44=function(){App.VM.close(O7.C89)},t.prototype.GA32=function(){App.VM.open(O7.A52)},t.prototype.GA19=function(){App.VM.close(O7.A52)},t}(TE11);__reflect(TA76.prototype,"TA76");var TC93=function(i){function t(t){var e=i.call(this,t)||this;return e.openState=!1,e.redNum=0,e.firstLoginRedNum=0,e.canClick=!0,e}return __extends(t,i),t.prototype.ZC13=function(t){t&&(null!=this.actData?this.actData.updateData(t):(this.actData=new BattleFieldData(t),this.tips=this.actData.tips),this.updateRed())},t.prototype.updateRed=function(){this.openState&&(this.redNum=this.FL35())},t.prototype.FL35=function(){var t=0;return t+=this.firstLoginRedNum,t+=this.actData.chargeNum},t.prototype.notify=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];i.prototype.notifyView.apply(this,[this].concat(t))},t}(TG79);__reflect(TC93.prototype,"TC93");var TC94=function(e){function t(t){return e.call(this,t)||this}return __extends(t,e),t.prototype.trainReq=function(t){var e={type:P4.U14,body:{pos:t}};this.rSMO(P4.U15,this.trainRes,this),this.sSM(e)},t.prototype.trainRes=function(t){this.apF(E18.A8,t)},t.prototype.GW88=function(){var t={type:P4.Q97,body:{}};this.rSMO(P4.Q98,this.GW89,this),this.sSM(t)},t.prototype.GW89=function(t){this.apF(E18.A6,t)},t}(TG80);__reflect(TC94.prototype,"TC94");var TC95=function(){function t(){}return Object.defineProperty(t,"model",{get:function(){return App.CM.gtM(O6.A91)},enumerable:!0,configurable:!0}),t.getMoveLeftCD=function(){return this.model.actData.getMoveLeftCD()},t}();__reflect(TC95.prototype,"TC95");var BattleFieldBaseView=function(s){function t(t,e){var i=s.call(this,t,e)||this;return i.set(O7.C89,O3.tr(7433)).rgS(O7.C88,"BattleFieldRankView",O3.tr(7433),0).rgS(O7.B51,"BattleFieldRewardView",O3.tr(7448),0),i}return __extends(t,s),t}(BasePanelViewX);__reflect(BattleFieldBaseView.prototype,"BattleFieldBaseView");var BattleFieldChargeAuiView=function(s){function t(t,e){var i=s.call(this,t,e)||this;return i.skinName=BattleFieldChargeAuiSkin,i}return __extends(t,s),t.prototype.open=function(){s.prototype.open.call(this),this.startTween()},t.prototype.removeEff=function(){App.THH32.rEf(this.grp,"wdsg_faqicf_001"),egret.Tween.removeTweens(this.img1),egret.Tween.removeTweens(this.img2),egret.Tween.removeTweens(this.img3)},t.prototype.startTween=function(){var t=this;egret.Tween.get(this.img1).to({alpha:1},145).wait(170).to({alpha:0},185),egret.Tween.get(this.img2).to({x:203},145).to({x:200},20).to({x:202},40).wait(150).to({alpha:0},95),egret.Tween.get(this.img3).to({x:295},145).call(function(){App.THH32.aUE(t.grp,"wdsg_faqicf_001",t.grp.width/2,t.grp.height/2,-1)},this).to({x:298},20).to({x:296},40).wait(150).to({alpha:0},95).call(function(){t.closeSelf()},this)},t.prototype.close=function(){s.prototype.close.call(this),this.removeEff()},t.prototype.closeSelf=function(){App.CM.apF(O6.A91,E18.A1)},t}(BaseEuiView);__reflect(BattleFieldChargeAuiView.prototype,"BattleFieldChargeAuiView");var BattleFieldRankItemView=function(o){function t(){var t=o.call(this)||this;return t.skinName=BattleFieldRankItemSkin,t}return __extends(t,o),t.prototype.dataChanged=function(){o.prototype.dataChanged.call(this);var t=this.data,e=t.nRank,i=t.sName,s=t.hc;this.imgBg.visible=this.itemIndex%2==0,this.data&&(this.labName.text=i,this.labRank.text=e+"",this.labScore.text=s+"")},t}(eui.ItemRenderer);__reflect(BattleFieldRankItemView.prototype,"BattleFieldRankItemView");var BattleFieldRankRoleView=function(i){function t(t){var e=i.call(this)||this;return e.index=t,e.skinName=WelfareRoleView,e.initUI(),e.addEventListener(egret.Event.REMOVED_FROM_STAGE,e.close,e),e}return __extends(t,i),t.prototype.initUI=function(){this.setRankImg()},t.prototype.close=function(){this.objBoss&&(this.objBoss.destory(),this.objBoss=null),this.grpBossArm.removeChildren()},t.prototype.setData=function(t){this.lbPlayerName.textFlow=M18.HTP.parse(O3.tr(3840,t.name)),this.lbPlayerLv.textFlow=M18.HTP.parse(O3.tr(7443,t.hc)),this.showBoss(t.u)},t.prototype.showBoss=function(t){if(this.objBoss&&(this.objBoss.destory(),this.objBoss=null),this.grpBossArm.removeChildren(),null!=t){this.objBoss=new FightGameObject,this.objBoss.action=Action.Stand;var e={x:0,y:0,dir:Dir.br,objType:P13.A6};this.objBoss.setBaseData(e),t.bt=BehaviourType.Attack_d,t.sr=1,this.objBoss.setData(t,this.grpBossArm)}},t.prototype.setRankImg=function(){switch(this.index){case 0:this.imgStar.source="v1_img_first_png";break;case 1:this.imgStar.source="v1_img_scend_png";break;case 2:this.imgStar.source="v1_img_third_png"}},t}(eui.Component);__reflect(BattleFieldRankRoleView.prototype,"BattleFieldRankRoleView");var BattleFieldRankView=function(s){function t(t,e){var i=s.call(this,t,e)||this;return i.roles=[],i.skinName=BattleFieldRankSkin,i}return __extends(t,s),t.prototype.initUI=function(){s.prototype.initUI.call(this),this.lbStr1.textFlow=M18.HTP.parser(O3.tr(7436)),this.lbStr2.textFlow=M18.HTP.parser(O3.tr(7437)),this.lbStr3.textFlow=M18.HTP.parser(O3.tr(7438)),this.lbStr4.textFlow=M18.HTP.parser(O3.tr(7444)),this.list=new CommonListBase({render:BattleFieldRankItemView,gap:0,width:this.listGroup.width,height:this.listGroup.height}),this.listGroup.addChild(this.list);for(var t=0;t<this.gRoles.numChildren;t++){var e=this.gRoles.getChildAt(t),i=new BattleFieldRankRoleView(t);this.roles.push(i),e.addChild(i)}},t.prototype.open=function(){s.prototype.open.call(this),this.list.open(),this.loadRankData()},t.prototype.loadRankData=function(){var t={type:RankType.BattleField,currPage:1,size:TG75.rank[RankType.BattleField].count};App.CM.apF(O6.C19,O18.A5,t)},t.prototype.uBM=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];t instanceof THH11&&this.update(t,e[0])},t.prototype.update=function(t,e){if(e==P4.X79){if(t.nType!=RankType.BattleField)return;this.list.rfL(t.rankList);var i=t.myRankList.nRank>TG75.rank[RankType.BattleField].count?-1:t.myRankList.nRank;this.labRank.textFlow=i<=0?M18.HTP.parser(O3.tr(7442)):M18.HTP.parser(O3.tr(7441,i)),this.labNum.textFlow=O3.tr2(7443,t.myRankList.hc);for(var s=0;s<3;s++){var o=t.rankList[s];this.roles[s].lbPlayerLv.visible=o?(this.roles[s].setData({hc:o.hc,name:o.sName,u:o.u}),!0):(this.roles[s].setData({hc:0,name:O3.tr(610),u:null}),!1)}}else P4.R72},t.prototype.close=function(){this.list.close(),s.prototype.close.call(this)},t}(BaseEuiView);__reflect(BattleFieldRankView.prototype,"BattleFieldRankView");var BattleFieldRewardItemView=function(e){function t(){var t=e.call(this)||this;return t.skinName=BattleFieldRewardItemSkin,t}return __extends(t,e),t.prototype.childrenCreated=function(){e.prototype.childrenCreated.call(this),this.addEventListener(egret.Event.REMOVED_FROM_STAGE,this.onDestroy,this),this.dgItem.dataProvider=this.dataSource=new eui.ArrayCollection,this.dgItem.itemRenderer=ItemIcon},t.prototype.dataChanged=function(){e.prototype.dataChanged.call(this),this.data&&(this.labPower.text=O3.tr(7084,this.data.r),this.dataSource.source=this.data.rw.map(function(t){return{itemData:{data:N12.gID(t.k),ct:t.v},isBottom:!1}}))},t.prototype.onDestroy=function(){this.removeEventListener(egret.Event.REMOVED_FROM_STAGE,this.onDestroy,this),this.dataSource.removeAll()},t}(eui.ItemRenderer);__reflect(BattleFieldRewardItemView.prototype,"BattleFieldRewardItemView");var BattleFieldRewardView=function(s){function t(t,e){var i=s.call(this,t,e)||this;return i.skinName=BattleFieldRewardSkin,i}return __extends(t,s),t.prototype.initUI=function(){s.prototype.initUI.call(this),this.list=new CommonListBase({render:BattleFieldRewardItemView,gap:5,width:this.listGroup.width,height:this.listGroup.height}),this.listGroup.addChild(this.list),this.labTips.textFlow=O3.tr2(7446)},Object.defineProperty(t.prototype,"model",{get:function(){return App.CM.gtM(O6.A91)},enumerable:!0,configurable:!0}),t.prototype.open=function(){s.prototype.open.call(this),this.list.open();var t=this.model.actData.rankData.map(function(t){return{r:t.b==t.e?t.b+"":t.b+"-"+t.e,rw:t.rw}});this.list.rfL(t),this.GX5(this.model)},t.prototype.uBM=function(t){t instanceof TC93&&this.GX5(t)},t.prototype.GX5=function(t){var e=t.actData.rk;this.labRank.textFlow=e<=0?M18.HTP.parser(O3.tr(7442)):M18.HTP.parser(O3.tr(7441,e))},t.prototype.close=function(){this.list.close(),s.prototype.close.call(this)},t}(BaseEuiView);__reflect(BattleFieldRewardView.prototype,"BattleFieldRewardView");var BattleFieldView=function(o){function t(t,e){var i=o.call(this,t,e)||this;return i.sGN("release_act1116"),i.skinName=BattleFieldSkin,i}return __extends(t,o),t.prototype.initUI=function(){o.prototype.initUI.call(this),this.touchEnabled=!1,this.grpState.visible=!1,this.btnRank.label=O3.tr(7433),this.lbStr1.textFlow=M18.HTP.parser(O3.tr(7449));var t=this.model.actData;this.grpUp.width=this.grpDown.width=t.fileNum*t.oneFileWed,this.grpDown.x=-this.grpDown.width,this.grpDown.y=this.grpBattle.height-40;for(var e=0;e<t.fileNum;e++){var i=new eui.Group;i.width=t.oneFileWed,i.x=t.oneFileWed*e/1.2,this.grpUp.addChild(i)}},Object.defineProperty(t.prototype,"model",{get:function(){return App.CM.gtM(O6.A91)},enumerable:!0,configurable:!0}),t.prototype.open=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];o.prototype.open.call(this),this.btnRank.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickRank,this),this.grpBattle.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickGrp,this),this.dealTweenEnd(),this.countdown(),this.a=900,App.K16.doTimer(1e3,0,this.countdown,this)},t.prototype.countdown=function(){var t=this.model.actData.ZHH64();t=t<=0?0:1e3*t;var e=O3.tr(3253,P6.FJ11(t,5));this.labTime.textFlow=M18.HTP.parser(e)},t.prototype.dealTweenEnd=function(){var t=App.CM.gtM(O6.A91);t.actData.state=1,this.grpBattle.touchEnabled=!0,this.ZB22(),this.clearHandler(),this.startState(),this.lbTime.textFlow=M18.HTP.parser(O3.tr(7429,t.actData.moveTime))},t.prototype.openHander=function(){var t=this;if(!this.handler){var e=this.model;this.lbTime.textFlow=M18.HTP.parser(O3.tr(7429,e.actData.moveTime)),this.handler=App.K16.doTimer(1e3,e.actData.getMoveLeftCD(),function(){t.lbTime.textFlow=M18.HTP.parser(O3.tr(7429,e.actData.getMoveLeftCD()))},this,function(){t.startAssAult()})}},t.prototype.startState=function(){var t=this.model;switch(this.grpStart.visible=!0,t.actData.state){case B7.TRAIN:t.actData.chargeNum?this.lbTips.textFlow=M18.HTP.parser(O3.tr(7427)):this.grpStart.visible=!1;break;case B7.CHARGE:this.lbTips.textFlow=M18.HTP.parser(O3.tr(7434));break;case B7.HIDE:this.grpStart.visible=!1}},t.prototype.startAssAult=function(){this.clearHandler(),egret.Tween.removeTweens(this.grpUp),egret.Tween.removeTweens(this.grpDown),App.CM.apF(O6.A91,E18.A5)},t.prototype.clearHandler=function(){var t=this.model;this.lbTime.textFlow=M18.HTP.parser(O3.tr(7429,t.actData.moveTime)),this.handler&&(App.K16.rBH(this.handler),this.handler=null)},t.prototype.onClickGrp=function(){var t=this;switch(this.model.actData.state){case B7.TRAIN:this.grpStart.touchEnabled=!1;var e=this.grpUp.width/2+Math.floor((this.grpBattle.width-this.grpUp.width)*Math.random());this.grpUp.x=e,App.CM.apF(O6.A91,E18.A7,e),egret.Tween.get(this).wait(1e3).call(function(){t.grpStart.touchEnabled=!0},this);break;case B7.CHARGE:this.grpDown.width/2<=this.grpDown.x&&this.grpDown.x<=this.grpBattle.width-this.grpDown.width/2&&(this.startAssAult(),this.grpBattle.touchEnabled=!1)}},t.prototype.startAui=function(){var t=this;this.resetEnemy();var e=this.model.actData,i=this.grpBattle.width-e.totalFileWed/2,s=this.grpBattle.width-e.totalFileWed;e.isBallistic&&(P18.sDP(O3.tr(7435)),this.grpUp.scaleX=1.2,egret.Tween.get(this.grpUp).to({x:i},(i-this.grpUp.x)/e.pixelNum*1e3).call(function(){t.grpUp.scaleX=-1.2,egret.Tween.get(t.grpUp,{loop:!0}).to({x:t.grpUp.width/2},s/e.pixelNum*1e3).call(function(){t.grpUp.scaleX=1.2}).to({x:i},s/e.pixelNum*1e3).call(function(){t.grpUp.scaleX=-1.2})},this)),e.chargeNum%2?(this.grpDown.x=-this.grpDown.width/2,this.grpDown.scaleX=1.2,egret.Tween.get(this.grpDown).to({x:i},this.grpBattle.width/e.pixelNum*1e3).call(function(){t.grpDown.scaleX=-1.2,egret.Tween.get(t.grpDown,{loop:!0}).to({x:t.grpDown.width/2},s/e.pixelNum*1e3).call(function(){t.grpDown.scaleX=1.2}).to({x:i},s/e.pixelNum*1e3).call(function(){t.grpDown.scaleX=-1.2})},this)):(this.grpDown.scaleX=-1.2,this.grpDown.x=this.grpBattle.width+this.grpDown.width/2,egret.Tween.get(this.grpDown).to({x:this.grpDown.width/2},this.grpBattle.width/e.pixelNum*1e3).call(function(){t.grpDown.scaleX=1.2,egret.Tween.get(t.grpDown,{loop:!0}).to({x:i},s/e.pixelNum*1e3).call(function(){t.grpDown.scaleX=-1.2}).to({x:t.grpDown.width/2},s/e.pixelNum*1e3).call(function(){t.grpDown.scaleX=1.2})},this))},t.prototype.onClickRank=function(){App.CM.apF(O6.A91,E18.A4)},t.prototype.doAssAult=function(){var t=this.model;t.actData;egret.Tween.removeTweens(this.grpUp),egret.Tween.removeTweens(this.grpDown),this.grpUp.x=t.actData.enemyX,this.grpDown.x=t.actData.myX;for(var e=0;e<this.grpUp.numChildren;e++){var i=this.grpUp.getChildAt(e);App.THH33.rEf(i,"scdb_foe_stop"),App.THH33.rEf(i,"scdb_foe_run"),App.THH33.aUE(i,"scdb_foe_charge",0,9),egret.Tween.get(i).to({y:200},1e3)}App.THH33.rEf(this.grpDown,"scdb_my_run"),App.THH33.aUE(this.grpDown,"scdb_my_charge",0,9),App.THH32.aUE(this.grpDown,"wdsg_chongf_sc_001",this.grpDown.width/2-20,30),this.grpDown.scaleX=1.2,this.grpUp.scaleX=1.2,egret.Tween.get(this.grpDown).to({y:200},1e3).call(this.ZU22,this)},t.prototype.resetEnemy=function(){for(var t=this.model.actData,e=0;e<this.grpUp.numChildren;e++){var i=this.grpUp.getChildAt(e);App.THH32.rEf(i,"scdb_foe_charge"),App.THH32.rEf(i,"scdb_foe_die"),i.y=0,i.alpha=1,e||(t.isBallistic?App.THH33.aUE(i,"scdb_foe_run",0,9):App.THH33.aUE(i,"scdb_foe_stop",0,9))}this.grpUp.y=0,App.THH33.aUE(this.grpDown,"scdb_my_run",0,9),App.THH32.rEf(this.grpDown,"wdsg_chongf_sc_001"),App.THH33.rEf(this.grpDown,"scdb_my_charge"),this.grpDown.y=this.grpBattle.height-40,this.grpDown.alpha=1,this.grpDown.scaleX=1.2,this.grpUp.scaleX=1.2},t.prototype.ZU22=function(){var t,e,i=this,s=this.model,o=s.actData,r=Math.abs(this.grpUp.x-this.grpDown.x);switch(r>=this.grpUp.width&&(t=0),null==t&&(e=Math.floor(Math.abs((this.grpUp.width-r)/s.actData.oneFileWed)),t=this.grpUp.x<=this.grpDown.x?2:1),t){case 0:for(var n=0;n<this.grpUp.numChildren;n++){var a=this.grpUp.getChildAt(n);egret.Tween.get(a).to({alpha:0,y:300},1e3)}break;case 1:for(n=0;n<this.grpUp.numChildren;n++){a=this.grpUp.getChildAt(n);0<e?(e--,App.THH33.rEf(a,"scdb_foe_charge"),App.THH33.aUE(a,"scdb_foe_die",0,9,1)):egret.Tween.get(a).to({alpha:0,y:300},1e3)}break;case 2:for(n=this.grpUp.numChildren-1;0<=n;n--){a=this.grpUp.getChildAt(n);0<e?(e--,App.THH33.rEf(a,"scdb_foe_charge"),App.THH33.aUE(a,"scdb_foe_die",0,9,1)):egret.Tween.get(a).to({alpha:0,y:300},1e3)}}var h="com_wudxb_png";switch(o.chargeState){case A3.SUPER:h="com_wudxb_png";break;case A3.SENIOR:h="com_xiaoyong_png";break;case A3.LOWER:h="com_caobing_png"}this.grpState.visible=!0,this.imgStr.source=h,this.grpState.scaleX=this.grpState.scaleY=0,egret.Tween.get(this.grpState).to({scaleX:1,scaleY:1,alpha:1},600,egret.Ease.backOut).to({alpha:0,scaleX:.95,scaleY:.95},400).call(function(){egret.Tween.removeTweens(i.grpState),i.grpState.visible=!1}),this.lbNum.text=o.chargeState==A3.SUPER?"x"+o.hitNum:"",egret.Tween.get(this.grpDown).to({alpha:0,y:100},1e3).call(function(){App.THH33.aUE(i.grpDown,"scdb_my_charge"),i.dealTweenEnd()},this)},t.prototype.uBM=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];o.prototype.uBM.call(this,t,e);var s=e[0];if(t instanceof TC93){switch(s){case P4.Q98:this.doAssAult(),t.actData.state=0,App.CM.apF(O6.A91,E18.A2);break;case P4.U15:t.actData.state=2,this.openHander(),this.startAui(),this.ZB22();break;default:this.ZB22()}this.startState()}},t.prototype.ZB22=function(){var t=App.CM.gtM(O6.A91).actData;this.lbFre.textFlow=M18.HTP.parser(O3.tr(7428,t.chargeNum)),this.lbHit.textFlow=M18.HTP.parser(O3.tr(7430,t.hitNum)),t.rk<=0?this.lbRank.textFlow=M18.HTP.parser(O3.tr(7432)):this.lbRank.textFlow=M18.HTP.parser(O3.tr(7431,t.rk))},t.prototype.close=function(){o.prototype.close.call(this),this.btnRank.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickRank,this),this.grpBattle.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickGrp,this);var t=this.model;App.K16.removeAll(this),t.actData.isTraining&&this.startAssAult(),this.clearHandler();for(var e=this.grpUp.numChildren-1;0<=e;e--){var i=this.grpUp.getChildAt(e);App.THH33.rEf(i,"scdb_my_charge"),App.THH33.rEf(i,"scdb_foe_die"),App.THH33.rEf(i,"scdb_my_run")}App.THH33.rEf(this.grpDown,"scdb_my_charge"),App.THH33.rEf(this.grpDown,"scdb_my_run"),App.THH32.rEf(this.grpDown,"wdsg_chongf_sc_001"),egret.Tween.removeTweens(this),egret.Tween.removeTweens(this.grpDown),egret.Tween.removeTweens(this.grpUp),this.grpUp.removeChildren(),this.grpDown.removeChildren()},t}(BaseEuiView);__reflect(BattleFieldView.prototype,"BattleFieldView");var BattleFieldData=function(n){function t(t){var e=n.call(this,t)||this;e.pixelNum=30,e.lastTime=0,e.rankData=[],e.updateData(t),!e.rankData.length&&t.atmp&&(e.rankData=t.atmp.rank.split(",").map(function(t){var e=t.split("|"),i=e[0],s=e[1],o=P7.str2kv1(i,"-"),r=P7.str2kv(s,";");return{b:o.k,e:o.v,rw:r}}));var i=M18.FL28(e.cost,";"),s=M18.FL28(i[0],","),o=M18.FL28(i[1],"|",":",",");for(var r in e.fileNum=parseInt(s[0]),e.oneFileWed=parseInt(s[1]),e.moveTime=parseInt(s[2]),e.totalFileWed=e.fileNum*e.oneFileWed,e.hitAny={},o)e.hitAny[o[r][0]]=parseFloat(o[r][1]);return e.setSpeed(),e}return __extends(t,n),t.prototype.setSpeed=function(){for(var t in this.hitAny){if(parseInt(t)>=this.hitNum){this.speed=this.hitAny[t];break}}if(null==this.speed)for(var t in this.hitAny)this.speed=this.hitAny[t];this.pixelNum=30*this.speed},t.prototype.updateData=function(t){t&&this.ZU63(t),null!=t.hc&&(this.hitNum=t.hc,this.hitAny&&this.setSpeed()),null!=t.ac&&(this.chargeNum=parseInt(this.more)-t.ac),this.rk=null==t.rk?this.rk:t.rk,this.isBallistic=null==t.s?this.isBallistic:!!t.s,this.chargeState=null==t.r?this.chargeState:t.r,this.enemyX=null==t.opos?this.enemyX:t.opos,this.myX=null==t.spos?this.myX:t.spos,t.ob&&(this.ob=t.ob)},t.prototype.getMoveLeftCD=function(){var t=P6.getTime(!0)-this.lastTime,e=this.moveTime-t;return 0<e?e:0},t}(ActivityVo);__reflect(BattleFieldData.prototype,"BattleFieldData");var HH7=function(){function t(){}return t.A1=0,t.A2=1,t.A3=2,t.A4=3,t.A7=4,t.A8=5,t.A5=6,t.A6=7,t}();__reflect(HH7.prototype,"HH7");var TB39=function(i){function t(){var t=i.call(this)||this;t.catchFishProxy=new TE16(t);var e=new TE15(t);return e.aLV(O7.HH61),e.aLV(O7.C63),e.aLV(O7.C32),t.rgF(HH7.A3,t.GK42,t),t.rgF(HH7.A4,t.GK43,t),t.rgF(HH7.A1,t.GR91,t),t.rgF(HH7.A2,t.GR92,t),App.VM.register(O7.C63,"CatchFishRewardView",t,K17.UI_Main_TOP),t.rgF(HH7.A7,t.GM12,t),t.rgF(HH7.A8,t.GM13,t),App.VM.register(O7.A97,"CatchFishShowAwardView",t,K17.UI_Main_TOP),t.rgF(HH7.A5,t.GG58,t),t.rgF(HH7.A6,t.GG59,t),t}return __extends(t,i),t.prototype.GK42=function(t){this.catchFishProxy.ZC84(t)},t.prototype.GK43=function(t){this.GQ12(t)&&this.gtM().notify(P4.R42,t.body)},t.prototype.GR91=function(t){this.catchFishProxy.ZHH65(t)},t.prototype.GR92=function(t){this.GQ12(t)&&(P5.sIs(t.body.ob),this.gtM().notify(P4.N68))},t.prototype.GQ12=function(t){var e=this.gtM();return 200!=t.head.state?(App.CM.apF(O6.B87,L10.A4,t),!1):(e.ZC13(t.body),!0)},t.prototype.GM12=function(){App.VM.open(O7.C63)},t.prototype.GM13=function(){App.VM.close(O7.C63)},t.prototype.GG58=function(t){App.VM.open(O7.A97,t)},t.prototype.GG59=function(){App.VM.close(O7.A97)},t}(TE11);__reflect(TB39.prototype,"TB39");var TE15=function(i){function t(t){var e=i.call(this,t)||this;return e.openState=!1,e.redNum=0,e.firstLoginRedNum=0,e}return __extends(t,i),t.prototype.ZC13=function(t){t&&(null!=this.actData?this.actData.updateData(t):(this.actData=new CatchFishData(t),this.tips=this.actData.tips),this.updateRed())},t.prototype.updateRed=function(){this.redNum=this.FL35()},t.prototype.FL35=function(){var t=0;return t+=this.firstLoginRedNum,0<this.actData.getRestTime()&&(t+=1),t+=this.actData.ZM79()},t.prototype.notify=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];i.prototype.notifyView.apply(this,[this].concat(t))},t}(TG79);__reflect(TE15.prototype,"TE15");var TE16=function(i){function t(t){var e=i.call(this,t)||this;return e.rSM(P4.R42,e.GK43,e),e.rSM(P4.N68,e.GR92,e),e}return __extends(t,i),t.prototype.ZC84=function(t){var e={type:P4.R41,body:{num:t}};this.sSM(e)},t.prototype.GK43=function(t){this.apF(HH7.A4,t)},t.prototype.ZHH65=function(t){var e={type:P4.N67,body:{target:t}};this.sSM(e)},t.prototype.GR92=function(t){this.apF(HH7.A2,t)},t}(TG80);__reflect(TE16.prototype,"TE16");var CatchFishRewardView=function(s){function t(t,e){var i=s.call(this,t,e)||this;return i.skinName=CatchFishRewardSkin,i}return __extends(t,s),t.prototype.initUI=function(){s.prototype.initUI.call(this);var t={render:ItemCatchFishReward,width:this.gpList.width,height:this.gpList.height,gap:5};this.myListView=new CommonListBase(t),this.gpList.addChild(this.myListView),this.dlg.ZM69(this.closeSelf.bind(this),this),this.dlg.title=O3.tr(5547)},t.prototype.open=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];s.prototype.open.call(this),this.myListView.open();var i=App.CM.gtM(O6.B19);this.ZA69(i)},t.prototype.uBM=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];s.prototype.uBM.call(this,t,e),t instanceof TE15&&this.ZA69(t)},t.prototype.ZA69=function(t){this.lbCatchNum.textFlow=(new egret.HtmlTextParser).parser(O3.tr(3326,t.actData.getPlayNum()));var e=t.actData.getViewList();this.myListView.rfL(e)},t.prototype.close=function(){s.prototype.close.call(this),this.myListView.close()},t.prototype.closeSelf=function(){App.CM.apF(O6.B19,HH7.A8)},t}(BaseEuiView);__reflect(CatchFishRewardView.prototype,"CatchFishRewardView");var CatchFishShowAwardView=function(s){function t(t,e){var i=s.call(this,t,e)||this;return i.closeCD=10,i.confList=[],i.skinName="CatchRewardSkin",i}return __extends(t,s),t.prototype.initUI=function(){s.prototype.initUI.call(this),this.dgRewards.dataProvider=this.rewardsCollection=new eui.ArrayCollection,this.dgRewards.itemRenderer=ItemIcon,this.gpItem1.visible=!1,this.gpItem2.visible=!1,this.lbBuy1.visible=!1,this.lbBuy2.visible=!1,this.grplucky1.visible=!1,this.grplucky2.visible=!1,this.btn1.label=O3.tr(3792),this.btn2.label=O3.tr(3793),this.btnFifty.label=O3.tr(8058),this.btnOk.label=O3.tr(4249)},t.prototype.open=function(t){this.params=t,this.bgMask.addEventListener(egret.TouchEvent.TOUCH_TAP,this.closeSelf,this),this.btnOk.addEventListener(egret.TouchEvent.TOUCH_TAP,this.closeSelf,this),this.btn1.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickOne,this),this.btn2.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickTen,this),this.btnFifty.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickFifty,this),this.updateViews()},t.prototype.close=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];s.prototype.close.call(this),this.bRegSkipTimer=!1,this.bgMask.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.closeSelf,this),this.btnOk.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.closeSelf,this),this.btn1.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickOne,this),this.btn2.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickTen,this),this.btnFifty.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickFifty,this),App.K16.remove(this.ZU23,this),this.rewardsCollection.removeAll()},t.prototype.updateViews=function(){this.ZJ83(),this.ZU24()},t.prototype.doFishing=function(t){var e=App.CM.gtM(O6.B19);e.actData.getRestTime()>=t?(e.curNum=t,App.CM.apF(O6.B19,HH7.A3,t),this.closeSelf()):P18.sDP(O3.tr(3339))},t.prototype.onClickOne=function(){this.doFishing(1)},t.prototype.onClickTen=function(){this.doFishing(10)},t.prototype.onClickFifty=function(){this.doFishing(50)},t.prototype.ZM77=function(){App.CM.gtM(O6.C24).moving=!0},t.prototype.ZJ83=function(){this.closeCD=10,this.ZU23(),this.bRegSkipTimer||(this.bRegSkipTimer=!0,App.K16.doTimer(1e3,this.closeCD,this.ZU23,this))},t.prototype.ZU23=function(){this.closeCD--,this.closeCD<=0?this.closeSelf(!0):this.lbTime.textFlow=M18.HTP.parser(O3.tr(6435,this.closeCD))},t.prototype.ZU24=function(){var t=[],e=!0;if(P7.FM14()&&(e=!1),this.params&&this.params.ob&&0<this.params.ob.length){var i=this.params.ob;for(var s in i){var o=i[s],r=N12.gID(o.k);if(r){var n={itemData:{data:r,ct:o.v},isBottom:e};t.push(n)}}}this.rewardsCollection.replaceAll(t)},t.prototype.closeSelf=function(t){this.apF(HH7.A6)},t}(BaseEuiView);__reflect(CatchFishShowAwardView.prototype,"CatchFishShowAwardView");var CatchFishView=function(s){function t(t,e){var i=s.call(this,t,e)||this;return i.sGN("release_act1045"),i.skinName=CatchFishSkin,i}return __extends(t,s),t.prototype.initUI=function(){this.itemCollection=new eui.ArrayCollection,this.rewardContent.dataProvider=this.itemCollection,this.rewardContent.itemRenderer=ItemIcon,this.scReward.viewport=this.rewardContent,this.scReward.scrollPolicyV=eui.ScrollPolicy.OFF,this.itemCollection2=new eui.ArrayCollection,this.rewardContent1.dataProvider=this.itemCollection2,this.rewardContent1.itemRenderer=ItemIcon,this.scTimeReward.viewport=this.rewardContent1,this.scTimeReward.scrollPolicyV=eui.ScrollPolicy.OFF,this.btnOne.label=O3.tr(3792),this.btnTen.label=O3.tr(3793),this.btnFifty.label=O3.tr(8058),this.btnReward.label=O3.tr(3794),this.btnGet.label=O3.tr(1563),this.lbljipin.textFlow=M18.HTP.parse(O3.tr(3795))},t.prototype.open=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];s.prototype.open.call(this),this.btnOne.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickOne,this),this.btnTen.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickTen,this),this.btnFifty.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickFifty,this),this.btnReward.addEventListener(egret.TouchEvent.TOUCH_TAP,this.ZU27,this),this.btnGet.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickGet,this);var i=App.CM.gtM(O6.B19);this.ZA69(i),this.fishAction()},t.prototype.uBM=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];s.prototype.uBM.call(this,t,e),t instanceof TE15&&(e[0]==P4.R42?(this.obj=e[1],1==t.curNum?this.ZG9():10<=t.curNum&&this.ZG11()):this.ZA69(t))},t.prototype.ZA69=function(t){var e=t.actData,i=[],s=M18.FL28(e.more,";",":");for(var o in s){var r={data:N12.gID(s[o][0]),ct:s[o][1]};i.push({itemData:r,isBottom:!1,scale:1})}this.itemCollection.replaceAll(i),this.lbRest.textFlow=M18.HTP.parser(O3.tr(3322,e.getRestTime())),this.lbTotalCost.textFlow=M18.HTP.parser(O3.tr(3323,e.getCostGold())),this.lbTip.text=O3.tr(3324,e.getPrice()),this.leftCD=t.actData.ZHH64();var n=P6.FJ11(1e3*this.leftCD,5);this.lbTime.textFlow=M18.HTP.parser(O3.tr(3325,n)),this._timerHandler=App.K16.doTimer(1e3,this.leftCD,this.GY14,this);var a,h,p,l=e.getViewList();for(var o in l){var c=l[o];if(c.state==J13.A3&&null==a){a=o;break}c.state==J13.A1&&null==h?h=o:c.state==J13.A2&&(p=o)}var u=l[a||(h||p)],d=[];for(var v in u.conf.rewardList){r={data:N12.gID(u.conf.rewardList[v].k),ct:u.conf.rewardList[v].v};d.push({itemData:r,isBottom:!1,scale:.8})}this.itemCollection2.replaceAll(d),this.lbRewardTime.textFlow=M18.HTP.parser(O3.tr(5495,u.conf.target)),a?(this.btnGet.label=O3.tr(1563),this.curTarget=u.conf.target,P7.FD53(this.btnGet,1)):(this.btnGet.label=O3.tr(4320),P7.FD53(this.btnGet,0),this.curTarget=null),P7.FD53(this.btnOne,e.getRestTime()),P7.FD53(this.btnTen,e.getRestTime()-9),P7.FD53(this.btnFifty,e.getRestTime()-49)},t.prototype.fishAction=function(){App.THH32.aUE(this.gpRiver,"wdsg_jdby_hd_02",this.gpRiver.width/2,this.gpRiver.height/2,null,null,null,null)},t.prototype.ZM78=function(){App.THH32.rEf(this.gpRiver,"wdsg_jdby_hd_02")},t.prototype.ZG9=function(){App.THH32.aUE(this.gpRiver1,"wdsg_jdby_hd_01",this.gpRiver1.width/2,this.gpRiver1.height/2,1,null,null,null,this.ZU25.bind(this),"bf_1")},t.prototype.ZG10=function(){App.THH32.rEf(this.gpRiver1,"wdsg_jdby_hd_01")},t.prototype.ZU25=function(t){"cftk_03"==t.frameLabel&&this.dealTweenEnd()},t.prototype.dealTweenEnd=function(){this.obj&&this.obj.ob&&App.CM.apF(O6.B19,HH7.A5,this.obj),this.setBtnEnable(!0);var t=App.CM.gtM(O6.B19);t.curNum=null,this.ZA69(t)},t.prototype.ZG11=function(){App.THH32.aUE(this.gpRiver,"wdsg_jdby_hd_01",this.gpRiver.width/2,this.gpRiver.height/2,1,null,null,null,this.ZU26.bind(this),"bf_2")},t.prototype.ZG12=function(){App.THH32.rEf(this.gpRiver,"wdsg_jdby_hd_01")},t.prototype.ZU26=function(t){"cftk_02"==t.frameLabel&&this.dealTweenEnd()},t.prototype.GY14=function(){this.leftCD--;var t=P6.FJ11(1e3*this.leftCD,5);this.lbTime.textFlow=M18.HTP.parser(O3.tr(3325,t)),this.leftCD<=0&&(this.cTH(),this.lbTime.text="")},t.prototype.cTH=function(){null!=this._timerHandler&&(App.K16.rBH(this._timerHandler),this._timerHandler=null)},t.prototype.setBtnEnable=function(t){this.btnOne.enabled=t,this.btnTen.enabled=t,this.btnFifty.enabled=t,P16.sGF(this.btnOne,!t),P16.sGF(this.btnTen,!t),P16.sGF(this.btnFifty,!t),t||(P7.FD53(this.btnOne,0),P7.FD53(this.btnTen,0),P7.FD53(this.btnFifty,0))},t.prototype.doFishing=function(t){var e=App.CM.gtM(O6.B19);e.actData.getRestTime()>=t?(e.curNum=t,App.CM.apF(O6.B19,HH7.A3,t),this.setBtnEnable(!1)):P18.sDP(O3.tr(3339))},t.prototype.onClickGet=function(){this.curTarget?App.CM.apF(O6.B19,HH7.A1,this.curTarget):App.CM.apF(O6.B19,HH7.A7)},t.prototype.onClickOne=function(){this.doFishing(1)},t.prototype.onClickTen=function(){this.doFishing(10)},t.prototype.onClickFifty=function(){this.doFishing(50)},t.prototype.ZU27=function(){App.CM.apF(O6.B19,HH7.A7)},t.prototype.close=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];s.prototype.close.call(this),this.btnOne.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickOne,this),this.btnTen.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickTen,this),this.btnGet.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickGet,this),this.btnFifty.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickFifty,this),this.btnReward.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.ZU27,this),this.cTH(),this.ZM78(),App.CM.gtM(O6.B19).curNum=null},t}(BaseEuiView);__reflect(CatchFishView.prototype,"CatchFishView");var ItemCatchFishReward=function(e){function t(){var t=e.call(this)||this;return t.skinName=ItemCatchFishRewardSkin,t.addEventListener(egret.Event.ADDED_TO_STAGE,t.open,t),t.addEventListener(egret.Event.REMOVED_FROM_STAGE,t.close,t),t}return __extends(t,e),t.prototype.open=function(){this.btnGet.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickGet,this),this.btnGet.label=O3.tr(1563)},t.prototype.close=function(){this.btnGet.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickGet,this),this.itemCollection.removeAll()},t.prototype.childrenCreated=function(){e.prototype.createChildren.call(this),this.itemCollection=new eui.ArrayCollection,this.listContent.dataProvider=this.itemCollection,this.listContent.itemRenderer=ItemIcon,this.awardsSc.scrollPolicyV=eui.ScrollPolicy.OFF},t.prototype.dataChanged=function(){switch(this.lbTitle.textFlow=(new egret.HtmlTextParser).parser(O3.tr(3327,this.data.conf.target)),this.imgTitle.width=this.lbTitle.width+55,this.btnGet.imgNew.visible=!1,this.data.state){case J13.A3:this.btnGet.imgNew.visible=!0,this.btnGet.visible=!0,this.imgGot.visible=!1,P16.sGF(this.btnGet,!1),this.btnGet.enabled=!0;break;case J13.A1:this.btnGet.visible=!0,this.btnGet.enabled=!1,this.imgGot.visible=!1,P16.sGF(this.btnGet,!0);break;case J13.A2:this.btnGet.visible=!1,this.imgGot.visible=!0}var t=[];for(var e in this.data.conf.rewardList){var i={data:N12.gID(this.data.conf.rewardList[e].k),ct:this.data.conf.rewardList[e].v};t.push({itemData:i,isBottom:!1,scale:1})}this.itemCollection.replaceAll(t)},t.prototype.onClickGet=function(){App.CM.apF(O6.B19,HH7.A1,this.data.conf.target)},t}(eui.ItemRenderer);__reflect(ItemCatchFishReward.prototype,"ItemCatchFishReward");var CatchFishData=function(i){function t(t){var e=i.call(this,t)||this;return e.updateData(t),e}return __extends(t,i),t.prototype.updateData=function(t){if(t.rwl)for(var e in this.rewardList=[],t.rwl){var i=t.rwl[e],s=new FinishConfVo(i);this.rewardList.push(s)}this.gotList=null!=t.ag?t.ag:this.gotList,this.playNum=null!=t.fn?t.fn:this.playNum,this.price=null!=t.c?t.c:this.price,this.costGold=null!=t.cg?t.cg:this.costGold,this.ZU63(t)},t.prototype.ZU28=function(t){for(var e in this.gotList)if(t==this.gotList[e])return J13.A2;for(var e in this.rewardList){var i=this.rewardList[e].getTarget();if(i==t)return i<=this.playNum?J13.A3:J13.A1}},t.prototype.getRestTime=function(){return Math.floor(this.costGold/this.price)-this.playNum},t.prototype.getViewList=function(){var t=[];for(var e in this.rewardList){var i=this.rewardList[e],s={conf:i};s.state=this.ZU28(i.getTarget()),t.push(s)}return t.sort(function(t,e){return t.state!=e.state?t.state-e.state:t.conf.target-e.conf.target}),t},t.prototype.FG82=function(){return this.rewardList},t.prototype.getCostGold=function(){return this.costGold},t.prototype.getPrice=function(){return this.price},t.prototype.getPlayNum=function(){return this.playNum},t.prototype.ZM79=function(){var t=this.getViewList();for(var e in t)if(t[e].state==J13.A3)return 1;return 0},t}(ActivityVo);__reflect(CatchFishData.prototype,"CatchFishData");var D13=function(){function t(){}return t.A4=0,t.A3=1,t.A1=2,t.A2=3,t.A5=802,t.A7=803,t.A6=804,t}();__reflect(D13.prototype,"D13");var TA51=function(i){function t(){var t=i.call(this)||this,e=new TC32(t);return e.aLV(O7.F10),e.aLV(O7.C32),e.aLV(O7.I64),App.VM.register(O7.F10,"ChapterBreakView",t,K17.UI_Main),t.rgF(D13.A4,t.GE99,t),t.rgF(D13.A3,t.GE8,t),t.chapterBreakProxy=new TC33(t),t.rgF(D13.A1,t.GB45,t),t.rgF(D13.A2,t.GB46,t),t}return __extends(t,i),t.prototype.GB45=function(t){this.chapterBreakProxy.ZB60(t)},t.prototype.GB46=function(t){if(200==t.head.state){var e=t.body,i=this.gtM();i.ZC13(e),i.notify(),t.body.ob&&P5.sIs(t.body.ob)}else App.CM.apF(O6.B87,L10.A4,t)},t.prototype.GE99=function(t){App.VM.open(O7.F10,t);var e=App.CM.gtM(O6.A58);e.firstLoginRedNum=0,e.notify()},t.prototype.GE8=function(){App.VM.close(O7.F10)},t}(TE11);__reflect(TA51.prototype,"TA51");var TC32=function(i){function t(t){var e=i.call(this,t)||this;return e.openState=!1,e.redNum=0,e.firstLoginRedNum=0,e}return __extends(t,i),t.prototype.ZC13=function(t){t&&(null!=this.chapterBreakData?this.chapterBreakData.updateData(t):(this.chapterBreakData=new ChapterBreakData(t),this.tips=this.chapterBreakData.tips),this.updateRed())},t.prototype.updateRed=function(){this.openState&&(this.chapterBreakData.ZQ26(),this.redNum=this.FL35())},t.prototype.FL35=function(){var t=0;t+=this.firstLoginRedNum,this.chapterBreakData.ZQ26();var e=this.chapterBreakData.confs;for(var i in e)if(e[i].getState==J13.A3){t+=1;break}return t},t.prototype.notify=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];i.prototype.notifyView.apply(this,[this].concat(t))},t}(TG79);__reflect(TC32.prototype,"TC32");var TC33=function(i){function t(t){var e=i.call(this,t)||this;return e.rSM(P4.B84,e.ZB61,e),e}return __extends(t,i),t.prototype.ZB60=function(t){var e={type:P4.B83,body:{id:t}};this.sSM(e)},t.prototype.ZB61=function(t){this.apF(D13.A2,t)},t}(TG80);__reflect(TC33.prototype,"TC33");var TC96=function(){function t(){}return t.FHH85=function(){var t=new Array,e=App.CM.gtM(O6.A58).chapterBreakData;e.ZQ26();var i=e.confs;for(var s in i){var o=i[s],r={};r.cid=o.cid,r.title=this.FF69(e.type,o.cid),r.getState=o.getState,r.rewards=o.award,t.push(r)}return t},t.gtM=function(){return App.CM.gtM(O6.A58)},t.FF69=function(t,e){return this.getName(t,e,0)},t.getName=function(t,e,i){if(0==e)return"";switch(t){case ChapterBreakType.CHAPTER:var s=J15.FK56(e),o=s.chapterid,r=J15.FK55(o),n=J15.FC82(e);return 0==i?O3.tr(3341,n.name,r.order,s.order):n.name+" "+r.order+"-"+s.order;case ChapterBreakType.THROUGH:var a=L1.FG8(e);return 0==i?O3.tr(3342,a.chapter):O3.tr(5924,a.name);case ChapterBreakType.SHUDAO:var h=L1.FHH13(e);return 0==i?O3.tr(5923,h.name):O3.tr(5925,h.name);case ChapterBreakType.TONGQUE:var p=L1.FK72(e);return 0==i?O3.tr(3343,p.number):O3.tr(3344,p.number);default:return}},t.FK36=function(t,e){return this.getName(t,e,1)},t.FG76=function(t){var e=App.CM.gtM(O6.B85);switch(t){case ChapterBreakType.CHAPTER:return App.CM.gtM(O6.B64).chData.o;case ChapterBreakType.THROUGH:return e.ZB3();case ChapterBreakType.SHUDAO:return e.ZB37();case ChapterBreakType.TONGQUE:return e.ZD5();default:return 0}},t.goView=function(t){switch(t){case ChapterBreakType.CHAPTER:App.VM.open(O7.B24);break;case ChapterBreakType.THROUGH:TG84.FM16(D13.A5);break;case ChapterBreakType.SHUDAO:TG84.FM16(D13.A7);break;case ChapterBreakType.TONGQUE:TG84.FM16(D13.A6)}},t}();__reflect(TC96.prototype,"TC96");var ChapterBreakType=function(){function t(){}return t.CHAPTER=1,t.THROUGH=2,t.SHUDAO=3,t.TONGQUE=4,t}();__reflect(ChapterBreakType.prototype,"ChapterBreakType");var ChapterAwardsView=function(e){function t(){var t=e.call(this)||this;return t.skinName=ChapterBreakItemSkin,t.addEventListener(egret.Event.ADDED_TO_STAGE,t.open,t),t.addEventListener(egret.Event.REMOVED_FROM_STAGE,t.close,t),t}return __extends(t,e),t.prototype.open=function(){this.getBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.ZU29,this)},t.prototype.close=function(){this.getBtn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.ZU29,this),this.dataSource.removeAll()},t.prototype.childrenCreated=function(){e.prototype.createChildren.call(this),this.initUI()},t.prototype.initUI=function(){this.listContent.itemRenderer=ItemIcon,this.dataSource=new eui.ArrayCollection,this.listContent.dataProvider=this.dataSource,this.awardsSc.viewport=this.listContent,this.awardsSc.scrollPolicyH=eui.ScrollPolicy.OFF,this.awardsSc.scrollPolicyV=eui.ScrollPolicy.OFF,this.getImg.$setVisible(!1)},t.prototype.dataChanged=function(){e.prototype.dataChanged.call(this),this.titleLb.textFlow=M18.HTP.parse(this.data.title),this.titleBgImg.width=this.titleLb.width+55,this.getBtn.imgNew.visible=!1,this.data.getState==J13.A1?(this.getBtn.bgStr="v1_btn_green_1_png",this.getBtn.label=O3.tr(3235),this.getBtn.$setVisible(!0),this.getImg.$setVisible(!1)):this.data.getState==J13.A3?(this.getBtn.colour=_ccBtn.brown,this.getBtn.bgStr="v1_btn_yellow_1_png",this.getBtn.label=O3.tr(3232),this.getBtn.$setVisible(!0),this.getImg.$setVisible(!1),this.getBtn.imgNew.visible=!0):(this.getBtn.$setVisible(!1),this.getImg.$setVisible(!0)),this.ZJ81(this.data.rewards)},t.prototype.ZJ81=function(t){var e=[];for(var i in t){var s={itemData:{data:N12.gID(t[i].k),ct:t[i].v},isBottom:!1};e.push(s)}this.dataSource.replaceAll(e)},t.prototype.ZU29=function(){var t=TC96.gtM().chapterBreakData.type;this.data.getState==J13.A1?TC96.goView(t):this.data.getState==J13.A3&&App.CM.apF(O6.A58,D13.A1,this.data.cid)},t}(eui.ItemRenderer);__reflect(ChapterAwardsView.prototype,"ChapterAwardsView");var ChapterBreakView=function(s){function t(t,e){var i=s.call(this,t,e)||this;return i.sGN("release_act1008"),i.skinName=ChapterBreakSkin,i}return __extends(t,s),t.prototype.initUI=function(){s.prototype.initUI.call(this);var t={render:ChapterAwardsView,gap:5,width:this.listGroup.width,height:this.listGroup.height,arrowScale:1};this.listView=new CommonListBase(t),this.listGroup.addChild(this.listView),this.listView.verticalCenter=0,this.listView.horizontalCenter=0,this.goBtn.label=O3.tr(3773)},t.prototype.open=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];s.prototype.open.call(this),this.goBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickGoBtn,this),this.listView.open(),this.GX5()},t.prototype.uBM=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];s.prototype.uBM.call(this,t,e),TC96.gtM().openState&&(t instanceof TC32&&this.GX5(),t instanceof TF80&&e[0]==P4.R60&&this.GX5(),t instanceof TG15&&this.GX5())},t.prototype.GX5=function(){var t=TC96.gtM(),e=t.chapterBreakData.type,i=TC96.FG76(e),s=O3.tr(3236,TC96.FK36(e,i));this.missionLb.textFlow=M18.HTP.parser(s),this.leftCD=t.chapterBreakData.ZHH64();var o=P6.FJ11(1e3*this.leftCD,5);this.cdLb.textFlow=M18.HTP.parser(O3.tr(3253,o)),this._timerHandler=App.K16.doTimer(1e3,this.leftCD,this.GY14,this);var r=TC96.FHH85();this.listView.rfL(r)},t.prototype.GY14=function(){this.leftCD--;var t=P6.FJ11(1e3*this.leftCD,5);this.cdLb.textFlow=M18.HTP.parser(O3.tr(3253,t)),this.leftCD<=0&&(this.cTH(),this.cdLb.text="")},t.prototype.cTH=function(){null!=this._timerHandler&&(App.K16.rBH(this._timerHandler),this._timerHandler=null)},t.prototype.close=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];s.prototype.close.call(this),this.cTH(),this.goBtn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickGoBtn,this),this.listView.close()},t.prototype.onClickGoBtn=function(){var t=TC96.gtM().chapterBreakData.type;TC96.goView(t)},t}(BaseEuiView);__reflect(ChapterBreakView.prototype,"ChapterBreakView");var ChapterBreakConfVo=function(t){this.award=[],this.getState=J13.A1,t&&(this.cid=t.cid,this.award=t.award)};__reflect(ChapterBreakConfVo.prototype,"ChapterBreakConfVo");var ChapterBreakData=function(i){function t(t){var e=i.call(this,t)||this;return e.confs=[],e.yaw=[],e.type=0,e.updateData(t),e}return __extends(t,i),t.prototype.updateData=function(t){if(t){if(this.yaw=t.yaw||this.yaw,this.type=t.type||this.type,t.confs){var e=t.confs;for(var i in this.confs=[],e){var s=new ChapterBreakConfVo(e[i]);this.confs.push(s)}}for(var i in this.confs){if(this.confs[i].getState=J13.A1,0<this.yaw.length)for(var o in this.yaw)if(this.confs[i].cid==this.yaw[o]){this.confs[i].getState=J13.A2;break}this.isPass(this.type,this.confs[i].cid)&&this.confs[i].getState!=J13.A2&&(this.confs[i].getState=J13.A3)}this.confs.sort(function(t,e){return t.getState==e.getState?t.cid-e.cid:t.getState-e.getState})}this.ZU63(t)},t.prototype.isPass=function(t,e){var i=App.CM.gtM(O6.B85);switch(t){case ChapterBreakType.CHAPTER:var s=App.CM.gtM(O6.B64);return s.chData.o>e||s.chData.o==e&&1==s.chData.p;case ChapterBreakType.THROUGH:return e<=i.ZB3();case ChapterBreakType.SHUDAO:return e<=i.ZB37();case ChapterBreakType.TONGQUE:return e<=i.ZD5();default:return!1}},t.prototype.ZQ26=function(){for(var t in this.confs){if(0<this.yaw.length)for(var e in this.yaw)this.confs[t].cid==this.yaw[e]&&(this.confs[t].getState=J13.A2);this.isPass(this.type,this.confs[t].cid)&&this.confs[t].getState!=J13.A2&&(this.confs[t].getState=J13.A3)}this.confs.sort(function(t,e){return t.getState==e.getState?t.cid-e.cid:t.getState-e.getState})},t}(ActivityVo);__reflect(ChapterBreakData.prototype,"ChapterBreakData");var HH18=function(){function t(){}return t.A4=0,t.A3=1,t.A1=2,t.A2=3,t}();__reflect(HH18.prototype,"HH18");var TB40=function(i){function t(){var t=i.call(this)||this,e=new TE17(t);return e.aLV(O7.D12),e.aLV(O7.I64),e.aLV(O7.HH83),t.proxy=new TE18(t),App.VM.register(O7.HH83,"CheapGiftView",t,K17.UI_Main_TOP),t.rgF(HH18.A1,t.GF1,t),t.rgF(HH18.A2,t.GF2,t),t}return __extends(t,i),t.prototype.GF1=function(t){this.proxy.GF1(t)},t.prototype.GF2=function(t){if(200==t.head.state){var e=t.body,i=this.gtM();i.ZC13(e),i.notify(),P5.sIs(t.body.ob)}else App.CM.apF(O6.B87,L10.A4,t)},t}(TE11);__reflect(TB40.prototype,"TB40");var TE17=function(i){function t(t){var e=i.call(this,t)||this;return e.openState=!1,e.redNum=0,e.firstLoginRedNum=1,e}return __extends(t,i),t.prototype.ZC13=function(t){t&&(null!=this.actData?this.actData.updateData(t):(this.actData=new CheapGiftData(t),this.tips=this.actData.tips),this.updateRed())},t.prototype.updateRed=function(){this.redNum=this.FL35()},t.prototype.FL35=function(){var t=0;this.actData.buy||(t+=this.firstLoginRedNum);var e=this.actData.rewardArr;for(var i in e)e[i].getState==J13.A3&&t++;return t},t.prototype.notify=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];i.prototype.notifyView.apply(this,[this].concat(t))},t}(TG79);__reflect(TE17.prototype,"TE17");var TF6=function(){function t(){}return t.FHH85=function(){return this.gtM().actData.rewardArr},t.gtM=function(){return App.CM.gtM(O6.B36)},t.FB49=function(t){return K18.recharge[t]},t}();__reflect(TF6.prototype,"TF6");var CheapGiftItem=function(e){function t(){var t=e.call(this)||this;return t.skinName=ChapterBreakItemSkin,t.addEventListener(egret.Event.ADDED_TO_STAGE,t.open,t),t.addEventListener(egret.Event.REMOVED_FROM_STAGE,t.close,t),t}return __extends(t,e),t.prototype.open=function(){this.getBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.ZU29,this)},t.prototype.close=function(){this.getBtn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.ZU29,this),this.dataSource.removeAll()},t.prototype.childrenCreated=function(){e.prototype.createChildren.call(this),this.initUI()},t.prototype.initUI=function(){this.listContent.itemRenderer=ItemIcon,this.dataSource=new eui.ArrayCollection,this.listContent.dataProvider=this.dataSource,this.awardsSc.viewport=this.listContent,this.awardsSc.scrollPolicyH=eui.ScrollPolicy.OFF,this.awardsSc.scrollPolicyV=eui.ScrollPolicy.OFF,this.getImg.$setVisible(!1)},t.prototype.dataChanged=function(){e.prototype.dataChanged.call(this);var t=P7.FB45(Number(this.data.index));this.titleLb.text=O3.tr(3296,t),this.titleBgImg.width=this.titleLb.width+55,this.getBtn.imgNew.visible=!1,this.data.getState==J13.A1?(this.getBtn.enabled=!1,P16.sGF(this.getBtn,!0),this.getBtn.label=O3.tr(3232),this.getBtn.$setVisible(!0),this.getImg.$setVisible(!1)):this.data.getState==J13.A3?(this.getBtn.enabled=!0,P16.sGF(this.getBtn,!1),this.getBtn.colour=_ccBtn.brown,this.getBtn.bgStr="v1_btn_yellow_1_png",this.getBtn.label=O3.tr(3232),this.getBtn.$setVisible(!0),this.getImg.$setVisible(!1),this.getBtn.imgNew.visible=!0):(this.getBtn.$setVisible(!1),this.getImg.$setVisible(!0)),this.ZJ81(this.data.rewards)},t.prototype.ZJ81=function(t){var e=[];for(var i in t){var s={itemData:{data:N12.gID(t[i].k),ct:t[i].v},isBottom:!1};e.push(s)}this.dataSource.replaceAll(e)},t.prototype.ZU29=function(){this.data.getState==J13.A3&&App.CM.apF(O6.B36,HH18.A1,this.data.index)},t}(eui.ItemRenderer);__reflect(CheapGiftItem.prototype,"CheapGiftItem");var CheapGiftView=function(r){function t(t,e){var i=r.call(this,t,e)||this;return i.sGN("release_act1118"),i.skinName="cheapGiftSkin",i}return __extends(t,r),t.prototype.initUI=function(){r.prototype.initUI.call(this),this.banner.source="com_banner_jip_jpg";var t={render:CheapGiftItem,gap:5,width:this.listGroup.width,height:this.listGroup.height,arrowScale:1};this.listView=new CommonListBase(t),this.listGroup.addChild(this.listView),this.listView.verticalCenter=0,this.listView.horizontalCenter=0,this.missionLb.textFlow=M18.HTP.parser(O3.tr(7702))},t.prototype.initData=function(){r.prototype.initData.call(this)},t.prototype.open=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];r.prototype.open.call(this,t);var i=TF6.gtM();this.ZA34(i),this.listView.open(),this.goBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickBtn,this);var s=i.actData.price;this.Oldp.text=s;var o=TF6.FB49(i.actData.publicCost);this.NowP.text=o.price+""},t.prototype.onClickBtn=function(){var t=TF6.gtM().actData;App.CM.apF(O6.C29,P8.A1,t.publicCost)},t.prototype.close=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];r.prototype.close.call(this,t),this.cTH(),this.listView.close(),this.goBtn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickBtn,this)},t.prototype.uBM=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];r.prototype.uBM.call(this,t,e),t instanceof TE17&&this.ZA34(t)},t.prototype.ZA34=function(t){this.leftCD=t.actData.ZHH64();var e=P6.FJ11(1e3*this.leftCD,5);this.cdLb.textFlow=M18.HTP.parser(O3.tr(3253,e)),this._timerHandler||(this._timerHandler=App.K16.doTimer(1e3,this.leftCD,this.GY14,this)),t.actData.buy?(this.goBtn.label=O3.tr(3223),this.goBtn.enabled=!1,P16.sGF(this.goBtn,!0)):(this.goBtn.label=O3.tr(7586),this.goBtn.enabled=!0,P16.sGF(this.goBtn,!1));var i=TF6.FHH85(),s=[];for(var o in i)i[o].getState==J13.A3&&s.push(i[o]);for(var o in i)i[o].getState==J13.A1&&s.push(i[o]);for(var o in i)i[o].getState==J13.A2&&s.push(i[o]);this.listView.rfL(s)},t.prototype.GY14=function(){this.leftCD--;var t=P6.FJ11(1e3*this.leftCD,5);this.cdLb.textFlow=M18.HTP.parser(O3.tr(3253,t)),this.leftCD<=0&&(this.cTH(),this.cdLb.text="")},t.prototype.cTH=function(){null!=this._timerHandler&&(App.K16.rBH(this._timerHandler),this._timerHandler=null)},t.prototype.closeSelf=function(){App.VM.GY64(this)},t}(BaseEuiView);__reflect(CheapGiftView.prototype,"CheapGiftView");var CheapGiftData=function(i){function t(t){var e=i.call(this,t)||this;return e.reds=[],e.yet=[],e.updateData(t),e}return __extends(t,i),t.prototype.updateData=function(t){if(t&&this.ZU63(t),this.reward=t.atmp&&t.atmp.reward?t.atmp.reward:this.reward,this.cost=t.atmp&&t.atmp.cost?t.atmp.cost:this.cost,this.buy=t.buy?t.buy:this.buy,this.ob=t.ob?t.ob:this.ob,this.yet=t.yet?t.yet:this.yet,this.parVer=t.parVer?t.parVer:this.parVer,this.day=0<=t.day?t.day:this.day,this.rewardArr){if(this.buy)for(var e in this.rewardArr){o=(n=this.rewardArr[e]).index;this.yet.length&&-1<this.yet.indexOf(Number(o))?n.getState=J13.A2:Number(o)<=Number(this.day)+1?n.getState=J13.A3:n.getState=J13.A1}}else{this.rewardArr=[];var i=this.reward.split("|");for(var e in i){var s=i[e].split("-")[1],o=i[e].split("-")[0],r=s.split(";"),n={index:o,getState:0,rewards:[]};for(var a in this.buy?this.yet.length&&-1<this.yet.indexOf(Number(o))?n.getState=J13.A2:Number(o)<=Number(this.day)+1?n.getState=J13.A3:n.getState=J13.A1:n.getState=J13.A1,r){var h=r[a].split(":"),p={k:Number(h[0]),v:Number(h[1])};n.rewards.push(p)}this.rewardArr.push(n)}}if(!this.publicCost){var l=[];this.price=this.cost.split("|")[1];var c=this.cost.split("|")[0];for(var e in l=-1<c.indexOf(",")?c.split(","):[c]){(s=l[e].split(":"))[0]==platform.channel&&(this.publicCost=s[1])}if(!this.publicCost||0==this.publicCost.length)for(var e in l){"0"==(s=l[e].split(":"))[0]&&(this.publicCost=s[1])}}},t.prototype.ZHH64=function(){var t=P6.getTime(!0)-this.lastRefreshTime,e=this.rs-t;return 0<e?e:0},t}(ActivityVo);__reflect(CheapGiftData.prototype,"CheapGiftData");var TE18=function(i){function t(t){var e=i.call(this,t)||this;return e.rSM(P4.W93,e.GF2,e),e}return __extends(t,i),t.prototype.GF1=function(t){var e={type:P4.W92,body:{day:t,cid:platform.channel}};this.sSM(e)},t.prototype.GF2=function(t){this.apF(HH18.A2,t)},t}(TG80);__reflect(TE18.prototype,"TE18");var E19=function(){function t(){}return t.A1=10001,t.A2=10002,t}();__reflect(E19.prototype,"E19");var TA77=function(i){function t(){var t=i.call(this)||this;App.VM.register(O7.G28,"CollectWordView",t,K17.UI_Main);var e=new TC97(t);return e.aLV(O7.G28),e.aLV(O7.I64),t.proxy=new TC98(t),t.rgF(E19.A1,t.proxy.exchange,t.proxy),t.rgF(E19.A2,t.GM14,t),t}return __extends(t,i),t.prototype.GM14=function(t){if(200==t.head.state){var e=t.body,i=this.gtM();i.ZC13(e),i.notify(),P5.sIs(t.body.ob)}else App.CM.apF(O6.B87,L10.A4,t)},t}(TE11);__reflect(TA77.prototype,"TA77");var TC98=function(e){function t(t){return e.call(this,t)||this}return __extends(t,e),t.prototype.exchange=function(t){var e={type:P4.Q99,body:{eid:t}};this.rSMO(P4.R1,this.receive,this),this.sSM(e)},t.prototype.receive=function(t){this.apF(E19.A2,t)},t}(TG80);__reflect(TC98.prototype,"TC98");var CollectWordItem=function(e){function t(){var t=e.call(this)||this;return t.skinName="CollectWordItemSkin",t.addEventListener(egret.Event.ADDED_TO_STAGE,t.open,t),t.addEventListener(egret.Event.REMOVED_FROM_STAGE,t.close,t),t}return __extends(t,e),t.prototype.open=function(){this.btnGet.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClick,this)},t.prototype.close=function(){this.btnGet.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClick,this),this.ndc.removeAll(),this.gvc.removeAll()},t.prototype.onClick=function(){App.CM.apF(O6.A90,E19.A1,this.data.eid)},t.prototype.childrenCreated=function(){e.prototype.createChildren.call(this),this.initUI()},t.prototype.initUI=function(){this.ndc=new eui.ArrayCollection,this.rwN.dataProvider=this.ndc,this.rwN.itemRenderer=HolidayExchangeListItem,this.gvc=new eui.ArrayCollection,this.rwG.dataProvider=this.gvc,this.rwG.itemRenderer=HolidayExchangeListItem,this.btnGet.label=O3.tr(5888)},t.prototype.dataChanged=function(){var t=this.data,e=t.max,i=t.count,s=t.reset,o=t.needs,r=t.gives,n=0<e-i&&N12.FL6(o);this.btnGet.$setEnabled(n),P16.sGF(this.btnGet,!n),this.btnGet.imgNew.visible=n,this.labTips.text=s?O3.tr(3504):O3.tr(3503),this.labCount.textFlow=(new egret.HtmlTextParser).parser(O3.tr(3505,e-i,e)),3<o.length?this.scItem.width=280:(this.scItem.width=void 0,this.scItem.viewport.scrollH=0);var a=o.map(function(t){return{itemData:{data:N12.gID(t.k),ct:{nc:t.v,oc:N12.giC(t.k)}},isBottom:!1,scale:.9}}),h=r.map(function(t){return{itemData:{data:N12.gID(t.k),ct:t.v},isBottom:!1,scale:.9}});this.ndc.replaceAll(a),this.gvc.replaceAll(h)},t}(eui.ItemRenderer);__reflect(CollectWordItem.prototype,"CollectWordItem");var CollectWordView=function(s){function t(t,e){var i=s.call(this,t,e)||this;return i.sGN("release_act1120"),i.skinName="HolidayExchangeSkin",i}return __extends(t,s),t.prototype.initUI=function(){s.prototype.initUI.call(this),this.imgBanner.source="com_banner_zhounian1_jpg";var t={render:CollectWordItem,gap:5,width:this.gList.width,height:this.gList.height,arrowScale:1};this.listView=new CommonListBase(t),this.listView.verticalCenter=0,this.listView.horizontalCenter=0,this.gList.addChild(this.listView),this.btnDetails.addEventListener(egret.TouchEvent.TOUCH_TAP,this.ZQ27,this)},t.prototype.open=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];s.prototype.open.apply(this,t),this.listView.open()},t.prototype.close=function(){this.listView.close(),this.cTH(),this.btnDetails.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.ZQ27,this)},t.prototype.uBM=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];if(t instanceof TC97){var a=t.actData,h=[];if(a.exchangeList.forEach(function(t){var e=t.eid,i=t.l,s=t.r,o=t.n,r=t.g,n=a.exchangeCount[e]||0;h.push({max:i,needs:o,gives:r,reset:1==s,eid:e,count:n})}),this.listView.rfL(h),null==this.timerHandler)if(0<a.rs){this.leftCD=a.ZHH64();var s=O3.tr(3253,P6.FJ11(1e3*this.leftCD,5));this.leftCdLb.textFlow=(new egret.HtmlTextParser).parse(s),this.timerHandler=App.K16.doTimer(1e3,this.leftCD,this.GY14,this)}else this.leftCdLb.text=""}},t.prototype.GY14=function(){this.leftCD--;var t=O3.tr(3253,P6.FJ11(1e3*this.leftCD,5));this.leftCdLb.textFlow=(new egret.HtmlTextParser).parse(t),this.leftCD<=0&&(this.cTH(),this.leftCdLb.text="")},t.prototype.cTH=function(){null!=this.timerHandler&&(App.K16.rBH(this.timerHandler),this.timerHandler=null)},t.prototype.ZQ27=function(){var t=App.CM.gtM(O6.A90),e={title:O3.tr(5773),content:t.actData.desc};App.VM.open(O7.I8,e)},t}(BaseEuiView);__reflect(CollectWordView.prototype,"CollectWordView");var C12=function(){function t(){}return t.A4=0,t.A3=1,t.A1=2,t.A2=3,t}();__reflect(C12.prototype,"C12");var TA36=function(i){function t(){var t=i.call(this)||this,e=new TB87(t);return e.aLV(O7.E23),e.aLV(O7.C32),e.aLV(O7.I64),App.VM.register(O7.E23,"ConsumeRebateView",t,K17.UI_Main),t.rgF(C12.A4,t.GE9,t),t.rgF(C12.A3,t.GD12,t),t.consumeRebateProxy=new TB88(t),t.rgF(C12.A1,t.GB3,t),t.rgF(C12.A2,t.GB4,t),t}return __extends(t,i),t.prototype.GB3=function(t){this.consumeRebateProxy.ZB23(t)},t.prototype.GB4=function(t){if(200==t.head.state){var e=t.body,i=this.gtM();i.ZC13(e),i.notify(),t.body.ob&&P5.sIs(t.body.ob)}else App.CM.apF(O6.B87,L10.A4,t)},t.prototype.GE9=function(t){App.VM.open(O7.E23,t);var e=App.CM.gtM(O6.A47);e.firstLoginRedNum=0,e.notify()},t.prototype.GD12=function(){App.VM.close(O7.E23)},t}(TE11);__reflect(TA36.prototype,"TA36");var TB87=function(i){function t(t){var e=i.call(this,t)||this;return e.openState=!1,e.redNum=0,e.firstLoginRedNum=0,e}return __extends(t,i),t.prototype.ZC13=function(t){t&&(null!=this.consumeRebateData?this.consumeRebateData.updateData(t):(this.consumeRebateData=new ConsumeRebateData(t),this.tips=this.consumeRebateData.tips),this.updateRed())},t.prototype.updateRed=function(){this.redNum=this.FL35()},t.prototype.FL35=function(){var t=0;t+=this.firstLoginRedNum;var e=this.consumeRebateData.confs;for(var i in e)if(e[i].getState==J13.A3){t+=1;break}return t},t.prototype.notify=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];i.prototype.notifyView.apply(this,[this].concat(t))},t}(TG79);__reflect(TB87.prototype,"TB87");var TB88=function(i){function t(t){var e=i.call(this,t)||this;return e.rSM(P4.B20,e.ZB24,e),e}return __extends(t,i),t.prototype.ZB23=function(t){var e={type:P4.B19,body:{index:t}};this.sSM(e)},t.prototype.ZB24=function(t){this.apF(D13.A2,t)},t}(TG80);__reflect(TB88.prototype,"TB88");var TC34=function(){function t(){}return t.FHH85=function(){var t=new Array,e=this.gtM().consumeRebateData.confs;for(var i in e){var s=e[i],o={};o.index=s.index,o.cost=s.cost,o.getState=s.getState,o.rewards=s.aw,t.push(o)}return t},t.gtM=function(){return App.CM.gtM(O6.A47)},t}();__reflect(TC34.prototype,"TC34");var ConsumeRebateItemsView=function(e){function t(){var t=e.call(this)||this;return t.skinName=ChapterBreakItemSkin,t.addEventListener(egret.Event.ADDED_TO_STAGE,t.open,t),t.addEventListener(egret.Event.REMOVED_FROM_STAGE,t.close,t),t}return __extends(t,e),t.prototype.open=function(){this.getBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.ZU29,this)},t.prototype.close=function(){this.getBtn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.ZU29,this),this.dataSource.removeAll()},t.prototype.childrenCreated=function(){e.prototype.createChildren.call(this),this.initUI()},t.prototype.initUI=function(){this.listContent.itemRenderer=ItemIcon,this.dataSource=new eui.ArrayCollection,this.listContent.dataProvider=this.dataSource,this.awardsSc.viewport=this.listContent,this.awardsSc.scrollPolicyH=eui.ScrollPolicy.OFF,this.awardsSc.scrollPolicyV=eui.ScrollPolicy.OFF,this.getImg.$setVisible(!1)},t.prototype.dataChanged=function(){e.prototype.dataChanged.call(this),this.titleLb.textFlow=M18.HTP.parse(O3.tr(3245,this.data.cost)),this.titleBgImg.width=this.titleLb.width+55,this.getBtn.imgNew.visible=!1,this.data.getState==J13.A1?(this.getBtn.enabled=!1,P16.sGF(this.getBtn,!0),this.getBtn.label=O3.tr(3232),this.getBtn.$setVisible(!0),this.getImg.$setVisible(!1)):this.data.getState==J13.A3?(this.getBtn.enabled=!0,P16.sGF(this.getBtn,!1),this.getBtn.colour=_ccBtn.brown,this.getBtn.bgStr="v1_btn_yellow_1_png",this.getBtn.label=O3.tr(3232),this.getBtn.$setVisible(!0),this.getImg.$setVisible(!1),this.getBtn.imgNew.visible=!0):(this.getBtn.$setVisible(!1),this.getImg.$setVisible(!0)),this.ZJ81(this.data.rewards)},t.prototype.ZJ81=function(t){var e=[];for(var i in t){var s={itemData:{data:N12.gID(t[i].k),ct:t[i].v},isBottom:!1};e.push(s)}this.dataSource.replaceAll(e)},t.prototype.ZU29=function(){this.data.getState==J13.A1?App.CM.apF(O6.C29,P8.A7):this.data.getState==J13.A3&&App.CM.apF(O6.A47,C12.A1,this.data.index)},t}(eui.ItemRenderer);__reflect(ConsumeRebateItemsView.prototype,"ConsumeRebateItemsView");var ConsumeRebateView=function(s){function t(t,e){var i=s.call(this,t,e)||this;return i.sGN("release_act1020"),i.skinName=ChapterBreakSkin,i}return __extends(t,s),t.prototype.initUI=function(){s.prototype.initUI.call(this),this.banner.source="v1_bg_qumindaofl5_jpg";var t={render:ConsumeRebateItemsView,gap:5,width:this.listGroup.width,height:this.listGroup.height,arrowScale:1};this.listView=new CommonListBase(t),this.listGroup.addChild(this.listView),this.listView.verticalCenter=0,this.listView.horizontalCenter=0},t.prototype.open=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];s.prototype.open.call(this),this.goBtn.$setVisible(!1),this.listView.open(),this.GX5()},t.prototype.uBM=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];s.prototype.uBM.call(this,t,e),t instanceof TB87&&this.GX5()},t.prototype.GX5=function(){var t=TC34.gtM(),e=O3.tr(3246,t.consumeRebateData.costNum);this.missionLb.textFlow=M18.HTP.parser(e),this.leftCD=t.consumeRebateData.ZHH64();var i=P6.FJ11(1e3*this.leftCD,5);this.cdLb.textFlow=M18.HTP.parser(O3.tr(3253,i)),this._timerHandler=App.K16.doTimer(1e3,this.leftCD,this.GY14,this);var s=TC34.FHH85();this.listView.rfL(s)},t.prototype.GY14=function(){this.leftCD--;var t=P6.FJ11(1e3*this.leftCD,5);this.cdLb.textFlow=M18.HTP.parser(O3.tr(3253,t)),this.leftCD<=0&&(this.cTH(),this.cdLb.text="")},t.prototype.cTH=function(){null!=this._timerHandler&&(App.K16.rBH(this._timerHandler),this._timerHandler=null)},t.prototype.close=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];s.prototype.close.call(this),this.cTH(),this.listView.close()},t}(BaseEuiView);__reflect(ConsumeRebateView.prototype,"ConsumeRebateView");var ConsumeRebateConfVo=function(t){this.aw=[],this.getState=J13.A1,t&&(this.index=t.index,this.cost=t.cost,this.aw=t.aw)};__reflect(ConsumeRebateConfVo.prototype,"ConsumeRebateConfVo");var ConsumeRebateData=function(i){function t(t){var e=i.call(this,t)||this;return e.confs=[],e.costNum=0,e.yaw=[],e.updateData(t),e}return __extends(t,i),t.prototype.updateData=function(t){if(t){if(this.yaw=t.yaw||this.yaw,this.costNum=null==t.cost?this.costNum:t.cost,t.confs){var e=t.confs;for(var i in this.confs=[],e){var s=new ConsumeRebateConfVo(e[i]);this.confs.push(s)}}for(var i in this.confs){if(this.confs[i].getState=J13.A1,0<this.yaw.length)for(var o in this.yaw)if(this.confs[i].index==this.yaw[o]){this.confs[i].getState=J13.A2;break}this.costNum>=this.confs[i].cost&&this.confs[i].getState!=J13.A2&&(this.confs[i].getState=J13.A3)}this.confs.sort(function(t,e){return t.getState==e.getState?t.index-e.index:t.getState-e.getState})}this.ZU63(t)},t}(ActivityVo);__reflect(ConsumeRebateData.prototype,"ConsumeRebateData");var A19=function(){function t(){}return t.A1=10001,t.A2=10002,t.A4=10003,t.A3=10004,t}();__reflect(A19.prototype,"A19");var TA16=function(i){function t(){var t=i.call(this)||this,e=new TA78(t);return e.aLV(O7.B81),e.aLV(O7.C32),e.aLV(O7.I64),t.proxy=new TA79(t),t.rgF(A19.A1,t.huntReq,t),t.rgF(A19.A2,t.huntRes,t),t}return __extends(t,i),t.prototype.huntReq=function(t){this.proxy.huntReq(t)},t.prototype.huntRes=function(t){var e=this.gtM();if(200!=t.head.state)return App.CM.apF(O6.B87,L10.A4,t),void App.VM.gOV(O7.B81).ZM80();e.ZC13(t.body),e.notify(P4.A55,t.body)},t}(TE11);__reflect(TA16.prototype,"TA16");var TA78=function(i){function t(t){var e=i.call(this,t)||this;return e.openState=!1,e.redNum=0,e.firstLoginRedNum=0,e}return __extends(t,i),t.prototype.ZC13=function(t){t&&(null!=this.tData?this.tData.updateData(t):(this.tData=new ConsumeTurntableData(t),this.tips=this.tData.tips),this.updateRed())},t.prototype.updateRed=function(){this.redNum=this.FL35()},t.prototype.FL35=function(){var t=0;return t+=this.firstLoginRedNum,null!=this.tData.cu&&0<this.tData.cu&&(t+=1),t},t.prototype.notify=function(t,e){void 0===t&&(t=void 0),void 0===e&&(e=void 0),i.prototype.notifyView.call(this,this,t,e)},t.prototype.FJ28=function(t){if(!this.tData||!this.tData.confs||this.tData.confs.length<=0)return null;for(var e=this.tData.confs,i=0;i<e.length;i++)if(t==e[i].index)return e[i].awards[0];return null},t}(TG79);__reflect(TA78.prototype,"TA78");var TA79=function(e){function t(t){return e.call(this,t)||this}return __extends(t,e),t.prototype.huntReq=function(t){var e={type:P4.A54,body:t};this.rSMO(P4.A55,this.huntRes,this),this.sSM(e)},t.prototype.huntRes=function(t){this.apF(A19.A2,t)},t}(TG80);__reflect(TA79.prototype,"TA79");var TB8=function(){};__reflect(TB8.prototype,"TB8");var ConsumeItemView=function(e){function t(){var t=e.call(this)||this;return t.skinName=RechargeItemSkin,t}return __extends(t,e),t.prototype.setImgTxVis=function(t){this.imgTx.visible=t},t.prototype.setData=function(t,e,i){this.itemID=t,this.imgShow.source=N12.FJ86(t),this.lbCt.$setText(e),this.imgTx.visible=!1,this.imgJp.visible=1==i,this.imgShow.addEventListener(egret.TouchEvent.TOUCH_TAP,this.openProsView,this)},t.prototype.destroy=function(){this.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.openProsView,this)},t.prototype.openProsView=function(t){var e=N12.gID(this.itemID);P5.FC75(e),TG40.playClickEffect()},t}(eui.Component);__reflect(ConsumeItemView.prototype,"ConsumeItemView");var ConsumeTurntableView=function(s){function t(t,e){var i=s.call(this,t,e)||this;return i.skinName=RechargeTurntableSkin,i}return __extends(t,s),t.prototype.initUI=function(){s.prototype.initUI.call(this),this.lblchoujiang.textFlow=M18.HTP.parse(O3.tr(3785)),this.btnUse.label=O3.tr(3788)},t.prototype.open=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];s.prototype.open.call(this,t),this.ZM80(),this.btnUse.addEventListener(egret.TouchEvent.TOUCH_TAP,this.ZU30,this),this.grpDi.addEventListener(egret.TouchEvent.TOUCH_TAP,this.stopTween,this),this.GX5(),this.ZQ28(),this.openCutTimer()},t.prototype.openCutTimer=function(){var t=App.CM.gtM(O6.A14);if(t&&(this._cd=t.tData.ZHH64(),0<this._cd)){var e=O3.tr(3253,P6.FJ11(1e3*this._cd,5));this.lbTime.textFlow=M18.HTP.parse(e),this.cdHandler=App.K16.doTimer(1e3,this._cd,this.cdCut,this)}},t.prototype.close=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.btnUse.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.ZU30,this),this.grpDi.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.stopTween,this),null!=this.handler&&(App.K16.rBH(this.handler),this.handler=null),null!=this.cdHandler&&(App.K16.rBH(this.cdHandler),this.cdHandler=null);for(var i=0;i<12;i++){var s=this.grpTruns.getChildAt(i);s&&s.destroy()}this.removeTimer(),this.closeBaGua(),this.obj=null,this._cd=null,this.index=null,this.loc=null},t.prototype.cdCut=function(){this._cd--;var t=O3.tr(3253,P6.FJ11(1e3*this._cd,5));this.lbTime.textFlow=M18.HTP.parse(t)},t.prototype.removeTimer=function(){App.K16.remove(this.cdCut,this)},t.prototype.uBM=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];s.prototype.uBM.apply(this,[t].concat(e)),t instanceof TA78&&(e[0]==P4.A55&&(this.obj=e[1],this.startTween()),this.GX5())},t.prototype.startTween=function(){this.startBagua(),this.initTxShow(),this.index=-1,this.loc=this.obj.loc[0],this.handler=App.K16.doTimer(80,0,this.updateImtT.bind(this),this)},t.prototype.startBagua=function(){App.THH32.aUE(this.grpBaGua,"lg_cjzp_01_5",this.grpBaGua.width/2,this.grpBaGua.height/2,1,null,null,null,this.frameEvent.bind(this))},t.prototype.closeBaGua=function(){App.THH32.rEf(this.grpBaGua,"lg_cjzp_01_5")},t.prototype.stopTween=function(){this.btnUse.touchEnabled||this.dealTweenEnd()},t.prototype.frameEvent=function(t){null!=this.handler&&"cftk_01"==t.frameLabel&&this.dealTweenEnd()},t.prototype.dealTweenEnd=function(){if(this.obj&&this.obj.ob){var t=this.obj;App.CM.apF(O6.B12,G16.A4,t)}this.ZQ28(),this.ZM80(),this.handler&&(App.K16.rBH(this.handler),this.handler=null),this.initTxShow();var e=(this.loc-1)%12;this.grpTruns.getChildAt(e).setImgTxVis(!0),this.obj=null,this.closeBaGua()},t.prototype.getIndexPlus=function(){return this.index++%12},t.prototype.getIndex=function(){return this.index%12},t.prototype.ZQ28=function(){for(var t=App.CM.gtM(O6.A14).tData.ls,e=1;e<=12;e++){var i=this.grpTruns.getChildAt(e-1);-1!=t.indexOf(e)?P16.sGF(i.imgShow,!0):P16.sGF(i.imgShow,!1)}},t.prototype.ZM80=function(){this.btnUse.touchEnabled=!0},t.prototype.ZJ84=function(){this.btnUse.touchEnabled=!1},t.prototype.updateImtT=function(){var t=this.getIndexPlus(),e=this.getIndex();t<0&&(t=0),this.grpTruns.getChildAt(t).setImgTxVis(!1),this.grpTruns.getChildAt(e).setImgTxVis(!0)},t.prototype.GX5=function(){var t=App.CM.gtM(O6.A14);if(t){for(var e=t.tData,i=e.money,s=0;s<e.cm.length;s++){e.cm[s]<=i&&0}this.lbTurnTiems.textFlow=M18.HTP.parse(O3.tr(3786,e.cu+""));var o=-1,r=-1;for(s=0;s<e.cm.length;s++)if(i<(o=e.cm[s])){r=o;break}var n=1;this.lbDesc.text=-1==r?(this.lbPro.textFlow=M18.HTP.parse(O3.tr(3787,o+"/"+o)),""):(n=i/r,this.lbPro.textFlow=M18.HTP.parse(O3.tr(3787,i+"/"+r)),O3.tr(3278,r+"")),-1==r&&0==e.cu?(P16.sGF(this.btnUse,!0),this.btnUse.enabled=!1):(P16.sGF(this.btnUse,!1),this.btnUse.enabled=!0);var a=Math.ceil(this.imgZone.width*n);this.imgPro.$setWidth(a),0<e.cu?this.btnUse.imgNew.visible=!0:this.btnUse.imgNew.visible=!1,this.initShowItem(t)}},t.prototype.initTxShow=function(){for(var t=0;t<12;t++){this.grpTruns.getChildAt(t).setImgTxVis(!1)}},t.prototype.initShowItem=function(t){for(var e=t.tData.show,i=0;i<12;i++){var s=this.grpTruns.getChildAt(i);s.setImgTxVis(!1);var o=t.FJ28(i+1);-1==e.indexOf(i+1)?s.setData(o.k,o.v,0):s.setData(o.k,o.v,1)}},t.prototype.ZU30=function(){if(App.CM.gtM(O6.A14).tData.cu<=0)P18.sDP(O3.tr(5648));else{this.ZJ84();App.CM.apF(O6.A14,A19.A1,{num:1})}},t}(BaseEuiView);__reflect(ConsumeTurntableView.prototype,"ConsumeTurntableView");var ConsumeTurntableConfVo=function(){this.awards=[]};__reflect(ConsumeTurntableConfVo.prototype,"ConsumeTurntableConfVo");var ConsumeTurntableData=function(i){function t(t){var e=i.call(this,t)||this;return e.money=0,e.cu=0,e.loc=[],e.show=[],e.cm=[],e.ls=[],e.confs=[],e.updateData(t),e}return __extends(t,i),t.prototype.updateData=function(t){t&&(this.money=null==t.money?this.money:t.money,this.cu=null==t.cu?this.cu:t.cu,this.show=t.show||this.show,this.cm=t.cm||this.cm,this.confs=t.confs||this.confs,this.ls=t.ls||this.ls,this.ZU63(t))},t}(ActivityVo);__reflect(ConsumeTurntableData.prototype,"ConsumeTurntableData");var C11=function(){function t(){}return t.A1=0,t.A2=1,t.A3=2,t.A4=3,t}();__reflect(C11.prototype,"C11");var TA37=function(i){function t(){var t=i.call(this)||this;t.proxy=new TB90(t);var e=new TB89(t);return e.aLV(O7.C32),e.aLV(O7.E37),t.rgF(C11.A1,t.GO16,t),t.rgF(C11.A2,t.GO17,t),t.rgF(C11.A3,t.GM15,t),t.rgF(C11.A4,t.GM16,t),t}return __extends(t,i),t.prototype.GD13=function(t){return 200!=t.head.state?(App.CM.apF(O6.B87,L10.A4,t),!1):(this.gtM().ZC13(t.body),P5.sIs(t.body.ob),!0)},t.prototype.GO16=function(t){this.proxy.ZE64(t)},t.prototype.GM15=function(t){this.proxy.ZD49(t)},t.prototype.GO17=function(t){this.GD13(t)&&this.gtM().notify(P4.HH90)},t.prototype.GM16=function(t){this.GD13(t)&&this.gtM().notify(P4.HH92)},t}(TE11);__reflect(TA37.prototype,"TA37");var TB89=function(i){function t(t){var e=i.call(this,t)||this;return e.openState=!1,e.redNum=0,e.firstLoginRedNum=0,e}return __extends(t,i),t.prototype.ZC13=function(t){t&&(null!=this.actData?this.actData.updateData(t):(this.actData=new CrazyTacticalData(t),this.tips=this.actData.tips),this.updateRed())},t.prototype.updateRed=function(){this.redNum=this.FL35()},t.prototype.FL35=function(){return 0<this.firstLoginRedNum?this.firstLoginRedNum:0<this.actData.FL35(1)?1:0<this.actData.FL35(2)?1:0},t.prototype.notify=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];i.prototype.notifyView.apply(this,[this].concat(t))},t}(TG79);__reflect(TB89.prototype,"TB89");var TB90=function(i){function t(t){var e=i.call(this,t)||this;return e.rSM(P4.HH90,e.GO16,e),e.rSM(P4.HH92,e.GM15,e),e}return __extends(t,i),t.prototype.ZE64=function(t){var e={type:P4.HH89,body:{id:t}};this.sSM(e)},t.prototype.GO16=function(t){this.apF(C11.A2,t)},t.prototype.ZD49=function(t){var e={type:P4.HH91,body:{id:t}};this.sSM(e)},t.prototype.GM15=function(t){this.apF(C11.A4,t)},t}(TG80);__reflect(TB90.prototype,"TB90");var TC35=function(){function t(){}return t.FHH85=function(){var t=new Array,e=App.CM.gtM(O6.A46).peopleAdvanceData.confs;for(var i in e){var s=e[i],o={},r=P7.FB44(s.sys);o.id=s.id,o.title=O3.tr(3244,r.name,s.lv,s.needPeople,e[i].np,e[i].needPeople),o.getState=s.getState,o.rewards=s.award,o.sys=s.sys,t.push(o)}return t},t.gtM=function(){return App.CM.gtM(O6.A46)},t}();__reflect(TC35.prototype,"TC35");var CrazyTacticalView=function(s){function t(t,e){var i=s.call(this,t,e)||this;return i.sGN("release_act1057"),i.skinName=ChapterBreakSkin,i}return __extends(t,s),t.prototype.initUI=function(){s.prototype.initUI.call(this),this.banner.source="v1_bg_banner_fkzf_jpg";var t={render:ItemCrazyTacticalView,gap:5,width:this.listGroup.width,height:this.listGroup.height,arrowScale:1};this.listView=new CommonListBase(t),this.listGroup.addChild(this.listView),this.listView.verticalCenter=0,this.listView.horizontalCenter=0,this.cdLb.y=this.cdLb.y-2,this.goBtn.visible=!1},t.prototype.open=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];s.prototype.open.call(this),this.listView.open();var i=App.CM.gtM(O6.A51);this.ZA16(i)},t.prototype.uBM=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];s.prototype.uBM.call(this,t,e),t instanceof TB89&&this.ZA16(t)},t.prototype.ZA16=function(t){this.missionLb.visible=!1,this.leftCD=t.actData.ZHH64();var e=P6.FJ11(1e3*this.leftCD,5);this.cdLb.textFlow=M18.HTP.parser(O3.tr(3253,e)),this._timerHandler||(this._timerHandler=App.K16.doTimer(1e3,0,this.GY14,this));this.listView.rfL([1,2])},t.prototype.GY14=function(){this.leftCD--;var t=P6.FJ11(1e3*this.leftCD,5);this.cdLb.textFlow=M18.HTP.parser(O3.tr(3253,t)),this.leftCD<=0&&(this.cTH(),this.cdLb.text="")},t.prototype.cTH=function(){null!=this._timerHandler&&(App.K16.rBH(this._timerHandler),this._timerHandler=null)},t.prototype.close=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];s.prototype.close.call(this),this.listView.close(),this.cTH()},t}(BaseEuiView);__reflect(CrazyTacticalView.prototype,"CrazyTacticalView");var ItemCrazyTacticalView=function(e){function t(){var t=e.call(this)||this;return t.skinName=ItemCrazyTacticalViewSkin,t.addEventListener(egret.Event.ADDED_TO_STAGE,t.open,t),t.addEventListener(egret.Event.REMOVED_FROM_STAGE,t.close,t),t}return __extends(t,e),t.prototype.open=function(){this.scItem.addEventListener(eui.UIEvent.CHANGE_END,this.touchEnd,this),this.listContent.addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.touchBegin,this),this.listContent.addEventListener(egret.TouchEvent.TOUCH_MOVE,this.touchMove,this);var t=this.listContent.layout;this.gap=t.gap},t.prototype.close=function(){this.pagePoints=null,this.scItem.removeEventListener(eui.UIEvent.CHANGE_END,this.touchEnd,this),this.listContent.removeEventListener(egret.TouchEvent.TOUCH_BEGIN,this.touchBegin,this),this.listContent.removeEventListener(egret.TouchEvent.TOUCH_MOVE,this.touchMove,this),this.itemCollection.removeAll(),this.disX=null,this.curPage=null,this.maxPage=null,this.startX=null,this.gap=null},t.prototype.childrenCreated=function(){e.prototype.createChildren.call(this),this.itemCollection=new eui.ArrayCollection,this.listContent.dataProvider=this.itemCollection,this.listContent.itemRenderer=ItemCrazyTactical,this.scItem.scrollPolicyV=eui.ScrollPolicy.OFF},t.prototype.touchBegin=function(t){this.startX=t.stageX,this.disX=0},t.prototype.touchMove=function(t){this.disX=t.stageX-this.startX},t.prototype.touchEnd=function(t){if(100<Math.abs(this.disX))if(this.pagePoints[this.curPage].source="v1_img_qyd_fkzf_png",0<this.disX){var e=this.curPage-1;this.curPage=Math.max(e,0)}else{e=this.curPage+1;this.curPage=Math.min(this.maxPage-1,e)}0!=this.disX&&this.changePage(400),this.disX=0},t.prototype.changePage=function(t){var e=(this.listContent.contentWidth-(this.maxPage-1)*this.gap)/this.maxPage;0==t?this.listContent.scrollH=(e+this.gap)*this.curPage:egret.Tween.get(this.listContent).to({scrollH:(e+this.gap)*this.curPage},t),this.pagePoints[this.curPage].source="v1_img_qyxz_fkzf_png"},t.prototype.dataChanged=function(){var t=App.CM.gtM(O6.A51).actData;if(this.maxPage=t.getRewardNum(this.data),!this.pagePoints){this.pagePoints=[];for(var e=0;e<this.maxPage;e++){var i=new eui.Image;i.source="v1_img_qyd_fkzf_png",this.gpPoints.addChild(i),this.pagePoints.push(i)}}var s=[];for(e=0;e<this.maxPage;e++){var o={type:this.data,index:e};s.push(o)}this.itemCollection.replaceAll(s);var r=t.ZQ31(this.data);r!=this.curPage&&(null==this.curPage&&(this.curPage=r),this.pagePoints[this.curPage].source="v1_img_qyd_fkzf_png",this.curPage=r),this.changePage(0)},t}(eui.ItemRenderer);__reflect(ItemCrazyTacticalView.prototype,"ItemCrazyTacticalView");var ItemCrazyTactical=function(e){function t(){var t=e.call(this)||this;return t.skinName=ItemCrazyTacticalSkin,t.addEventListener(egret.Event.ADDED_TO_STAGE,t.open,t),t.addEventListener(egret.Event.REMOVED_FROM_STAGE,t.close,t),t}return __extends(t,e),t.prototype.open=function(){this.btnGo.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickGo,this)},t.prototype.close=function(){this.btnGo.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickGo,this),this.itemCollection.removeAll(),this.curPage=null,this.maxNum=null,this.state=null,this.id=null},t.prototype.childrenCreated=function(){e.prototype.createChildren.call(this),this.itemCollection=new eui.ArrayCollection,this.listContent.dataProvider=this.itemCollection,this.listContent.itemRenderer=ItemIcon,this.awardsSc.scrollPolicyV=eui.ScrollPolicy.OFF},t.prototype.dataChanged=function(){var t=App.CM.gtM(O6.A51).actData;this.maxNum=t.getRewardNum(this.data.type);var e,i=t.FHH10(this.data.type,this.data.index);switch(this.id=i.times,this.state=t.ZQ30(i.times,this.data.type),this.state){case J13.A3:this.btnGo.imgNew.visible=!0,this.btnGo.visible=!0,this.imgGet.visible=!1,this.btnGo.label=O3.tr(926),this.btnGo.bgStr="v1_btn_yellow_1_png";break;case J13.A1:this.btnGo.imgNew.visible=!1,this.btnGo.visible=!0,this.btnGo.label=O3.tr(908),this.imgGet.visible=!1,this.btnGo.bgStr="v1_btn_green_1_png";break;case J13.A2:this.btnGo.visible=!1,this.imgGet.visible=!0}switch(this.data.type){case 1:this.imgBg.source="v1_img_zfsj_fkzf_jpg",e=3404;break;case 2:this.imgBg.source="v1_img_zfzy_fkzf_jpg",e=3405}this.lbTitle.textFlow=M18.HTP.parser(O3.tr(e,i.times,t.getNum(this.data.type),i.times));var s=[];for(var o in i.rwd){var r={data:N12.gID(i.rwd[o].k),ct:i.rwd[o].v};s.push({itemData:r,isBottom:!1,scale:1})}this.itemCollection.replaceAll(s)},t.prototype.onClickGo=function(){switch(this.state){case J13.A3:1==this.data.type?App.CM.apF(O6.A51,C11.A1,this.id):2==this.data.type&&App.CM.apF(O6.A51,C11.A3,this.id);break;case J13.A1:1==this.data.type?TG84.FM16(2302):2==this.data.type&&TG84.FM16(2303)}},t}(eui.ItemRenderer);__reflect(ItemCrazyTactical.prototype,"ItemCrazyTactical");var CrazyTacticalData=function(i){function t(t){var e=i.call(this,t)||this;return e.updateData(t),e}return __extends(t,i),t.prototype.updateData=function(t){t.lvRw&&this.ZQ29(t.lvRw,1),t.ivRw&&this.ZQ29(t.ivRw,2),this.lvUpNum=null!=t.lt?t.lt:this.lvUpNum,this.studyNum=null!=t.it?t.it:this.studyNum,this.lvUpGetList=null!=t.lg?t.lg:this.lvUpGetList,this.studyGetList=null!=t.ig?t.ig:this.studyGetList,this.ZU63(t)},t.prototype.ZQ29=function(t,e){var i=[];for(var s in t){var o=t[s].v;i.push(o)}switch(i.sort(function(t,e){return t.times-e.times}),e){case 1:this.lvUpReward=i;break;case 2:this.studyReward=i}},t.prototype.ZQ30=function(t,e){var i,s;switch(e){case 1:i=this.lvUpNum,s=this.lvUpGetList;break;case 2:i=this.studyNum,s=this.studyGetList}var o=J13.A3;if(t<=i){for(var r in s)if(t==s[r]){o=J13.A2;break}}else o=J13.A1;return o},t.prototype.FL35=function(t){var e;switch(t){case 1:e=this.lvUpReward;break;case 2:e=this.studyReward}for(var i in e)if(this.ZQ30(e[i].times,t)==J13.A3)return 1},t.prototype.FHH10=function(t,e){switch(t){case 1:return this.lvUpReward[e];case 2:return this.studyReward[e]}},t.prototype.getRewardNum=function(t){switch(t){case 1:return this.lvUpReward.length;case 2:return this.studyReward.length}},t.prototype.getNum=function(t){switch(t){case 1:return this.lvUpNum;case 2:return this.studyNum}},t.prototype.ZQ31=function(t){var e,i,s;switch(t){case 1:e=this.lvUpReward;break;case 2:e=this.studyReward}for(var o in e){var r=this.ZQ30(e[o].times,t);if(r==J13.A3&&null==i){i=parseInt(o);break}r==J13.A1&&null==s&&(s=parseInt(o))}return null!=i?i:null!=s?s:0},t}(ActivityVo);__reflect(CrazyTacticalData.prototype,"CrazyTacticalData");var CrazyTacticalVo=function(t){t&&(this.id=t.grade,this.cost=t.cost,this.discount=t.discount)};__reflect(CrazyTacticalVo.prototype,"CrazyTacticalVo");var E16=function(){function t(){}return t.A5=1,t.A6=2,t.A11=3,t.A12=4,t.A7=5,t.A8=6,t.A9=7,t.A10=8,t.A1=9,t.A2=10,t.A3=11,t.A4=12,t}();__reflect(E16.prototype,"E16");var CrossBattleType={power:1,recharge:2,consume:3},TA80=function(i){function t(){var t=i.call(this)||this,e=new TC99(t);return e.aLV(O7.G21),e.aLV(O7.D86),e.aLV(O7.I64),e.aLV(O7.B38),t.proxy=new TD1(t),t.rgF(E16.A5,t.GV55,t),t.rgF(E16.A6,t.GV54,t),App.VM.register(O7.B38,"CrossBattleRewardView",t,K17.UI_Main_TOP),t.rgF(E16.A11,t.GQ13,t),t.rgF(E16.A12,t.GQ14,t),t}return __extends(t,i),t.prototype.GV55=function(t){this.proxy.GV55(t)},t.prototype.GV54=function(t){if(200==t.head.state){var e=this.gtM();e.ZC13(t.body),e.notify(),t.body.ob&&P5.sIs(t.body.ob)}else App.CM.apF(O6.B87,L10.A4,t)},t.prototype.GQ13=function(t){App.VM.open(O7.B38,t)},t.prototype.GQ14=function(){App.VM.close(O7.B38)},t}(TE11);__reflect(TA80.prototype,"TA80");var TC99=function(i){function t(t){var e=i.call(this,t)||this;return e.openState=!1,e.redNum=0,e.firstLoginRedNum=0,e}return __extends(t,i),t.prototype.ZC13=function(t){t&&(null!=this.actData?this.actData.updateData(t):(this.actData=new CrossBattleData(t),this.tips=this.actData.tips),this.updateRed())},t.prototype.updateRed=function(){this.openState&&(this.redNum=this.FL35())},t.prototype.FL35=function(){return 0<this.firstLoginRedNum?1:this.actData.ZU34()?1:0},t.prototype.notify=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];i.prototype.notifyView.apply(this,[this].concat(t))},t}(TG79);__reflect(TC99.prototype,"TC99");var TA52=function(i){function t(){var t=i.call(this)||this,e=new TC99(t);return e.aLV(O7.F36),e.aLV(O7.D86),e.aLV(O7.I64),e.aLV(O7.B4),t.proxy=new TC36(t),t.rgF(E16.A1,t.GV55,t),t.rgF(E16.A2,t.GV54,t),App.VM.register(O7.B4,"CrossBattleRewardView",t,K17.UI_Main_TOP),t.rgF(E16.A7,t.GQ13,t),t.rgF(E16.A8,t.GQ14,t),t}return __extends(t,i),t.prototype.GV55=function(t){this.proxy.GV55(t)},t.prototype.GV54=function(t){if(200==t.head.state){var e=this.gtM();e.ZC13(t.body),e.notify(),t.body.ob&&P5.sIs(t.body.ob)}else App.CM.apF(O6.B87,L10.A4,t)},t.prototype.GQ13=function(t){App.VM.open(O7.B4,t)},t.prototype.GQ14=function(){App.VM.close(O7.B4)},t}(TE11);__reflect(TA52.prototype,"TA52");var TC36=function(i){function t(t){var e=i.call(this,t)||this;return e.rSM(P4.F12,e.GV54,e),e}return __extends(t,i),t.prototype.GV55=function(t){var e={type:P4.F11,body:{id:t}};this.sSM(e)},t.prototype.GV54=function(t){this.apF(E16.A2,t)},t}(TG80);__reflect(TC36.prototype,"TC36");var TD1=function(i){function t(t){var e=i.call(this,t)||this;return e.rSM(P4.G77,e.GV54,e),e}return __extends(t,i),t.prototype.GV55=function(t){var e={type:P4.G76,body:{id:t}};this.sSM(e)},t.prototype.GV54=function(t){this.apF(E16.A6,t)},t}(TG80);__reflect(TD1.prototype,"TD1");var TA53=function(i){function t(){var t=i.call(this)||this,e=new TC99(t);return e.aLV(O7.F37),e.aLV(O7.D86),e.aLV(O7.I64),e.aLV(O7.B5),t.proxy=new TC37(t),t.rgF(E16.A3,t.GV55,t),t.rgF(E16.A4,t.GV54,t),App.VM.register(O7.B5,"CrossBattleRewardView",t,K17.UI_Main_TOP),t.rgF(E16.A9,t.GQ13,t),t.rgF(E16.A10,t.GQ14,t),t}return __extends(t,i),t.prototype.GV55=function(t){this.proxy.GV55(t)},t.prototype.GV54=function(t){if(200==t.head.state){var e=this.gtM();e.ZC13(t.body),e.notify(),t.body.ob&&P5.sIs(t.body.ob)}else App.CM.apF(O6.B87,L10.A4,t)},t.prototype.GQ13=function(t){App.VM.open(O7.B5,t)},t.prototype.GQ14=function(){App.VM.close(O7.B5)},t}(TE11);__reflect(TA53.prototype,"TA53");var TC37=function(i){function t(t){var e=i.call(this,t)||this;return e.rSM(P4.F14,e.GV54,e),e}return __extends(t,i),t.prototype.GV55=function(t){var e={type:P4.F13,body:{id:t}};this.sSM(e)},t.prototype.GV54=function(t){this.apF(E16.A4,t)},t}(TG80);__reflect(TC37.prototype,"TC37");var TD53=function(){};__reflect(TD53.prototype,"TD53");var CrossBattlePView=function(s){function t(t,e){var i=s.call(this,t,e)||this;return i.maxCount=5,i.sGN("release_act1091"),i.skinName=CrossBattleSkin,i}return __extends(t,s),t.prototype.initUI=function(){s.prototype.initUI.call(this);var t={render:ItemCrossBattleRank,gap:5,width:this.listGroup.width,height:this.listGroup.height,arrowScale:1};this.listView=new CommonListBase(t),this.listGroup.addChild(this.listView),this.listView.verticalCenter=0,this.listView.horizontalCenter=0,this.lbDesc.text=O3.tr(5311)},t.prototype.open=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];s.prototype.open.call(this),this.listView.open();var i=App.CM.gtM(O6.A71);this.curPage=i.actData.ZQ31(),this.ZM81(i),this.btnLeft.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickLeft,this),this.btnRight.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickRight,this),this.gpUp.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickUp,this),this.ZU31()},t.prototype.uBM=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];s.prototype.uBM.call(this,t,e),t instanceof TC99&&this.ZM81(t)},t.prototype.ZM81=function(t){var e=t.actData;this.gpUp.visible=e.ZU34(),this.gpUp.visible&&(this.imgUpRed.visible=0<e.getUpRedNum()),this.leftCD=e.ZHH64();var i=P6.FJ11(1e3*this.leftCD,5);this.cdLb.textFlow=M18.HTP.parser(O3.tr(3253,i)),this._timerHandler=App.K16.doTimer(1e3,this.leftCD,this.GY14,this);var s=e.getRankList(this.curPage,this.maxCount);this.listView.rfL(s),this.totalPage=Math.ceil(e.rankList.length/this.maxCount);var o,r,n,a=M18.FL28(e.cost,"|",",");o=parseInt(a[0][1])/1e4,r=1e4<=e.mySelf.value?(e.mySelf.value/1e4).toFixed(1):e.mySelf.value,n=1e4<=e.mySelf.value?5331:5491,this.imgType.source="v1_fonts_tishengzhanli_png",this.lbDesc1.text=O3.tr(5302,o),this.lbUp.textFlow=M18.HTP.parser(O3.tr(5305)),0<e.mySelf.rank?this.lbMyRank.textFlow=M18.HTP.parser(O3.tr(5334,e.mySelf.rank)):this.lbMyRank.textFlow=M18.HTP.parser(O3.tr(5330)),this.lbMyValue.textFlow=M18.HTP.parser(O3.tr(n,r))},t.prototype.GY14=function(){this.leftCD--;var t=P6.FJ11(1e3*this.leftCD,5);this.cdLb.textFlow=M18.HTP.parser(O3.tr(3253,t)),this.leftCD<=0&&(this.cTH(),this.cdLb.text="")},t.prototype.cTH=function(){null!=this._timerHandler&&(App.K16.rBH(this._timerHandler),this._timerHandler=null)},t.prototype.onClickLeft=function(){var t=this.curPage-1;this.curPage=Math.max(t,0);var e=App.CM.gtM(O6.A71);this.ZM81(e),this.ZU31()},t.prototype.onClickRight=function(){var t=this.curPage+1;this.curPage=Math.min(t,this.totalPage-1);var e=App.CM.gtM(O6.A71);this.ZM81(e),this.ZU31()},t.prototype.ZU31=function(){this.curPage==this.totalPage-1?this.btnRight.visible=!1:this.btnRight.visible=!0,0==this.curPage?this.btnLeft.visible=!1:this.btnLeft.visible=!0,0==this.totalPage&&(this.btnLeft.visible=!1,this.btnRight.visible=!1)},t.prototype.onClickUp=function(){App.CM.apF(O6.A71,E16.A7,F7.A49)},t.prototype.ZU32=function(){return this.listGroup.height},t.prototype.close=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];s.prototype.close.call(this),this.cTH(),this.listView.close()},t}(BaseEuiView);__reflect(CrossBattlePView.prototype,"CrossBattlePView");var CrossBattleRewardView=function(o){function t(t,e){var i=o.call(this,t,e)||this;return i.skinName=CrossBattleRewardSkin,i}return __extends(t,o),t.prototype.initUI=function(){o.prototype.initUI.call(this),this.dlg.title=O3.tr(5312);var t={render:ItemCrossBattleAward,width:this.gpList.width,height:this.gpList.height,gap:5};this.myListView=new CommonListBase(t),this.gpList.addChild(this.myListView),this.dlg.ZM69(this.closeSelf.bind(this),this)},t.prototype.open=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];o.prototype.open.call(this);var i=0;switch(this.curAct=t[0],t[0]){case F7.A80:i=O6.A86;break;case F7.A50:i=O6.A72;break;case F7.A49:i=O6.A71}this.myListView.open();var s=App.CM.gtM(i);this.ZM81(s)},t.prototype.uBM=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];o.prototype.uBM.call(this,t,e),t instanceof TC99&&this.ZM81(t)},t.prototype.ZM81=function(t){var e=t.actData.ZM83();this.myListView.rfL(e)},t.prototype.close=function(){o.prototype.close.call(this),this.myListView.close()},t.prototype.closeSelf=function(){switch(this.curAct){case F7.A80:App.CM.apF(O6.A86,E16.A12);break;case F7.A50:App.CM.apF(O6.A72,E16.A10);break;case F7.A49:App.CM.apF(O6.A71,E16.A8)}},t}(BaseEuiView);__reflect(CrossBattleRewardView.prototype,"CrossBattleRewardView");var CrossBattleRView=function(s){function t(t,e){var i=s.call(this,t,e)||this;return i.maxCount=5,i.sGN("release_act1091"),i.skinName=CrossBattleSkin,i}return __extends(t,s),t.prototype.initUI=function(){s.prototype.initUI.call(this);var t={render:ItemCrossBattleRank,gap:5,width:this.listGroup.width,height:this.listGroup.height,arrowScale:1};this.listView=new CommonListBase(t),this.listGroup.addChild(this.listView),this.listView.verticalCenter=0,this.listView.horizontalCenter=0,this.lbDesc.text=O3.tr(5311)},t.prototype.open=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];s.prototype.open.call(this),this.listView.open();var i=App.CM.gtM(O6.A72);this.curPage=i.actData.ZQ31(),this.ZM81(i),this.btnLeft.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickLeft,this),this.btnRight.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickRight,this),this.gpUp.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickUp,this),this.ZU31()},t.prototype.uBM=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];s.prototype.uBM.call(this,t,e),t instanceof TC99&&this.ZM81(t)},t.prototype.ZM81=function(t){var e=t.actData;this.gpUp.visible=e.ZU34(),this.gpUp.visible&&(this.imgUpRed.visible=0<e.getUpRedNum()),this.leftCD=e.ZHH64();var i=P6.FJ11(1e3*this.leftCD,5);this.cdLb.textFlow=M18.HTP.parser(O3.tr(3253,i)),this._timerHandler=App.K16.doTimer(1e3,this.leftCD,this.GY14,this);var s=e.getRankList(this.curPage,this.maxCount);this.listView.rfL(s),this.totalPage=Math.ceil(e.rankList.length/this.maxCount);var o,r,n=M18.FL28(e.cost,"|",",");o=parseInt(n[0][1]),r=e.mySelf.value,this.imgType.source="v1_fonts_chongzhijine_png",this.lbDesc1.text=O3.tr(5303,o),this.lbUp.textFlow=M18.HTP.parser(O3.tr(5306)),0<e.mySelf.rank?this.lbMyRank.textFlow=M18.HTP.parser(O3.tr(5334,e.mySelf.rank)):this.lbMyRank.textFlow=M18.HTP.parser(O3.tr(5330)),this.lbMyValue.textFlow=M18.HTP.parser(O3.tr(5332,r))},t.prototype.GY14=function(){this.leftCD--;var t=P6.FJ11(1e3*this.leftCD,5);this.cdLb.textFlow=M18.HTP.parser(O3.tr(3253,t)),this.leftCD<=0&&(this.cTH(),this.cdLb.text="")},t.prototype.cTH=function(){null!=this._timerHandler&&(App.K16.rBH(this._timerHandler),this._timerHandler=null)},t.prototype.onClickLeft=function(){var t=this.curPage-1;this.curPage=Math.max(t,0);var e=App.CM.gtM(O6.A72);this.ZM81(e),this.ZU31()},t.prototype.onClickRight=function(){var t=this.curPage+1;this.curPage=Math.min(t,this.totalPage-1);var e=App.CM.gtM(O6.A72);this.ZM81(e),this.ZU31()},t.prototype.ZU31=function(){this.curPage==this.totalPage-1?this.btnRight.visible=!1:this.btnRight.visible=!0,0==this.curPage?this.btnLeft.visible=!1:this.btnLeft.visible=!0,0==this.totalPage&&(this.btnLeft.visible=!1,this.btnRight.visible=!1)},t.prototype.onClickUp=function(){App.CM.apF(O6.A72,E16.A9,F7.A50)},t.prototype.ZU32=function(){return this.listGroup.height},t.prototype.close=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];s.prototype.close.call(this),this.cTH(),this.listView.close()},t}(BaseEuiView);__reflect(CrossBattleRView.prototype,"CrossBattleRView");var CrossBattleView=function(s){function t(t,e){var i=s.call(this,t,e)||this;return i.maxCount=5,i.sGN("release_act1091"),i.skinName=CrossBattleSkin,i}return __extends(t,s),t.prototype.initUI=function(){s.prototype.initUI.call(this);var t={render:ItemCrossBattleRank,gap:5,width:this.listGroup.width,height:this.listGroup.height,arrowScale:1};this.listView=new CommonListBase(t),this.listGroup.addChild(this.listView),this.listView.verticalCenter=0,this.listView.horizontalCenter=0,this.lbDesc.text=O3.tr(5311)},t.prototype.open=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];s.prototype.open.call(this),this.listView.open();var i=App.CM.gtM(O6.A86);this.curPage=i.actData.ZQ31(),this.ZM81(i),this.btnLeft.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickLeft,this),this.btnRight.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickRight,this),this.gpUp.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickUp,this),this.ZU31()},t.prototype.uBM=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];s.prototype.uBM.call(this,t,e),t instanceof TC99&&this.ZM81(t)},t.prototype.ZM81=function(t){var e=t.actData;this.gpUp.visible=e.ZU34(),this.gpUp.visible&&(this.imgUpRed.visible=0<e.getUpRedNum()),this.leftCD=e.ZHH64();var i=P6.FJ11(1e3*this.leftCD,5);this.cdLb.textFlow=M18.HTP.parser(O3.tr(3253,i)),this._timerHandler=App.K16.doTimer(1e3,this.leftCD,this.GY14,this);var s=e.getRankList(this.curPage,this.maxCount);this.listView.rfL(s),this.totalPage=Math.ceil(e.rankList.length/this.maxCount);var o,r,n=M18.FL28(e.cost,"|",",");o=parseInt(n[0][1])/1e4,r=e.mySelf.value,this.imgType.source="v1_fonts_xiaofaiyuanbao_png",this.lbDesc1.text=O3.tr(5304,o),this.lbUp.textFlow=M18.HTP.parser(O3.tr(5307)),0<e.mySelf.rank?this.lbMyRank.textFlow=M18.HTP.parser(O3.tr(5334,e.mySelf.rank)):this.lbMyRank.textFlow=M18.HTP.parser(O3.tr(5330)),this.lbMyValue.textFlow=M18.HTP.parser(O3.tr(5333,r))},t.prototype.GY14=function(){this.leftCD--;var t=P6.FJ11(1e3*this.leftCD,5);this.cdLb.textFlow=M18.HTP.parser(O3.tr(3253,t)),this.leftCD<=0&&(this.cTH(),this.cdLb.text="")},t.prototype.cTH=function(){null!=this._timerHandler&&(App.K16.rBH(this._timerHandler),this._timerHandler=null)},t.prototype.onClickLeft=function(){var t=this.curPage-1;this.curPage=Math.max(t,0);var e=App.CM.gtM(O6.A86);this.ZM81(e),this.ZU31()},t.prototype.onClickRight=function(){var t=this.curPage+1;this.curPage=Math.min(t,this.totalPage-1);var e=App.CM.gtM(O6.A86);this.ZM81(e),this.ZU31()},t.prototype.ZU31=function(){this.curPage==this.totalPage-1?this.btnRight.visible=!1:this.btnRight.visible=!0,0==this.curPage?this.btnLeft.visible=!1:this.btnLeft.visible=!0,0==this.totalPage&&(this.btnLeft.visible=!1,this.btnRight.visible=!1)},t.prototype.onClickUp=function(){App.CM.apF(O6.A86,E16.A11,F7.A80)},t.prototype.ZU32=function(){return this.listGroup.height},t.prototype.close=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];s.prototype.close.call(this),this.cTH(),this.listView.close()},t}(BaseEuiView);__reflect(CrossBattleView.prototype,"CrossBattleView");var ItemCrossBattleAward=function(e){function t(){var t=e.call(this)||this;return t.skinName=ItemCrossBattleRewardSkin,t.addEventListener(egret.Event.ADDED_TO_STAGE,t.open,t),t.addEventListener(egret.Event.REMOVED_FROM_STAGE,t.close,t),t}return __extends(t,e),t.prototype.open=function(){this.btnGet.addEventListener(egret.TouchEvent.TOUCH_TAP,this.ZU29,this)},t.prototype.close=function(){this.btnGet.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.ZU29,this),this.dataSource.removeAll()},t.prototype.childrenCreated=function(){e.prototype.createChildren.call(this),this.initUI()},t.prototype.initUI=function(){this.listContent.itemRenderer=ItemIcon,this.dataSource=new eui.ArrayCollection,this.listContent.dataProvider=this.dataSource,this.awardsSc.viewport=this.listContent,this.awardsSc.scrollPolicyV=eui.ScrollPolicy.OFF,this.awardsSc.scrollPolicyV=eui.ScrollPolicy.OFF,this.imgGot.visible=!1,this.btnGet.label=O3.tr(3813)},t.prototype.dataChanged=function(){var t,e;switch(parseInt(this.data.type)){case F7.A49:t=5308,e=this.data.data.id/1e4;break;case F7.A50:t=5309,e=this.data.data.id;break;case F7.A80:t=5310,e=this.data.data.id/1e4}this.lbTitle.textFlow=M18.HTP.parse(O3.tr(t,e)),this.imgTitle.width=this.lbTitle.width+55,this.btnGet.imgNew.visible=!1,this.data.state==J13.A1?(this.btnGet.visible=!0,this.imgGot.visible=!1,this.btnGet.enabled=!1,P16.sGF(this.btnGet,!0)):this.data.state==J13.A3?(this.btnGet.visible=!0,this.imgGot.visible=!1,this.btnGet.enabled=!0,P16.sGF(this.btnGet,!1),this.btnGet.imgNew.visible=!0):(this.btnGet.visible=!1,this.imgGot.visible=!0);var i=[];for(var s in this.data.data.reward){var o={data:N12.gID(this.data.data.reward[s].k),ct:this.data.data.reward[s].v};i.push({itemData:o,isBottom:!1,scale:1})}this.dataSource.replaceAll(i)},t.prototype.ZU29=function(){if(this.data.state==J13.A3)switch(parseInt(this.data.type)){case F7.A49:App.CM.apF(O6.A71,E16.A1,this.data.data.id);break;case F7.A50:App.CM.apF(O6.A72,E16.A3,this.data.data.id);break;case F7.A80:App.CM.apF(O6.A86,E16.A5,this.data.data.id)}},t}(eui.ItemRenderer);__reflect(ItemCrossBattleAward.prototype,"ItemCrossBattleAward");var ItemCrossBattleRank=function(e){function t(){var t=e.call(this)||this;return t.skinName=ItemCrossBattleSkin,t.addEventListener(egret.Event.ADDED_TO_STAGE,t.open,t),t.addEventListener(egret.Event.REMOVED_FROM_STAGE,t.close,t),t}return __extends(t,e),t.prototype.open=function(){},t.prototype.close=function(){this.dataSource.removeAll()},t.prototype.childrenCreated=function(){e.prototype.createChildren.call(this),this.initUI()},t.prototype.initUI=function(){this.listContent.itemRenderer=ItemIcon,this.dataSource=new eui.ArrayCollection,this.listContent.dataProvider=this.dataSource,this.awardsSc.viewport=this.listContent,this.awardsSc.scrollPolicyV=eui.ScrollPolicy.OFF,this.lbMy.text=O3.tr(5490)},t.prototype.dataChanged=function(){var t=[],e=this.data.data;for(var i in e.reward){var s=e.reward[i],o=N12.gID(s.k),r=0<=this.data.spItem.indexOf(s.k.toString())?TF59.FC9(o.quality):void 0,n={data:o,ct:s.v,texiao:r};t.push({itemData:n,isBottom:!1,scale:1})}this.dataSource.replaceAll(t);var a=O4.getAid();switch(this.gpMy.visible=e.id==a,this.lbName.text=0!=e.id?e.name+"."+e.sname:e.name,this.imgRank.visible=0<e.rank&&e.rank<=3,this.lbRank.visible=!this.imgRank.visible,e.rank){case 1:this.imgRank.source="v1_fonts_di1m_png";break;case 2:this.imgRank.source="v1_fonts_2nd_png";break;case 3:this.imgRank.source="v1_fonts_di3m_png";break;default:this.lbRank.text=O3.tr(5319,e.rank)}if(this.data.isShowNum){var h=void 0;switch(parseInt(this.data.type)){case CrossBattleType.power:h=1e4<=e.value?(e.value/1e4).toFixed(1):e.value,this.lbPower.textFlow=M18.HTP.parser(O3.tr(5363,h));break;case CrossBattleType.recharge:h=e.value,this.lbPower.textFlow=M18.HTP.parser(O3.tr(6926,h));break;case CrossBattleType.consume:h=1e4<=e.value?(e.value/1e4).toFixed(1):e.value,this.lbPower.textFlow=M18.HTP.parser(O3.tr(5363,h))}}else this.lbPower.text="?????"},t}(eui.ItemRenderer);__reflect(ItemCrossBattleRank.prototype,"ItemCrossBattleRank");var CrossBattleData=function(i){function t(t){var e=i.call(this,t)||this;return e.updateData(t),e.spItem=M18.FL28(e.reward,","),e}return __extends(t,i),t.prototype.updateData=function(t){if(t.rw)for(var e in this.rewardList=[],t.rw){var i=t.rw[e],s={};s.start=i.rs,s.end=i.re,s.reward=i.rw,this.rewardList.push(s)}if(t.r){this.rankList=[];var o=0,r=this.rewardList[this.rewardList.length-1].end;for(var e in t.r)if(o<r){o++;i=t.r[e];(a={}).id=i.id,a.name=i.name,a.rank=i.r,a.value=i.v,a.reward=this.ZU33(i.r),a.sname=i.sname,this.rankList.push(a)}this.rankList.sort(function(t,e){return t.rank-e.rank})}if(t.uw)for(var e in this.upRewardList=[],t.uw){i=t.uw[e];var n={};n.id=i.id,n.reward=i.re,this.upRewardList.push(n)}var a;(this.rankType=null!=t.t?t.t:this.rankType,t.me)&&((a={}).id=t.me.id,a.name=t.me.name,a.rank=t.me.r,a.value=t.me.v,a.sname=t.me.sname,this.mySelf=a);this.gotList=null!=t.yaw?t.yaw:this.gotList,this.rewardList&&this.ZM82(),this.ZU63(t)},t.prototype.getRankList=function(t,e){if(this.rankList){var i=this.rewardList[this.rewardList.length-1].end,s=this.rankList.slice(t*e,(t+1)*e),o=[];for(var r in s){var n=s[r],a=0!=n.id&&((n.rank==this.mySelf.rank||n.rank+1==this.mySelf.rank||n.rank-1==this.mySelf.rank)&&0<this.mySelf.rank);a=!(n.rank!=i||0==n.id||0<this.mySelf.rank)||a;var h={data:n,type:this.note,isShowNum:a,spItem:this.spItem};o.push(h)}return o}},t.prototype.ZM82=function(){var t=1;this.rankList&&0<this.rankList.length&&(t=this.rankList[this.rankList.length-1].rank+1);for(var e=this.rewardList[this.rewardList.length-1].end,i=M18.FL28(this.cost,"|",","),s=parseInt(i[0][1]),o=t;o<=e;o++){var r={id:0};r.name=O3.tr(610),r.rank=o,r.value=s,r.reward=this.ZU33(o),this.rankList.push(r)}},t.prototype.ZU33=function(t){for(var e in this.rewardList){var i=this.rewardList[e];if(i.start<=t&&i.end>=t)return i.reward}},t.prototype.ZU28=function(t){for(var e in this.gotList)if(t==this.gotList[e])return J13.A2;for(var e in this.upRewardList){if(t==this.upRewardList[e].id)return t<=this.mySelf.value?J13.A3:J13.A1}},t.prototype.ZM83=function(){var t=[];for(var e in this.upRewardList){var i=this.upRewardList[e],s={data:i,state:this.ZU28(i.id),type:this.id};t.push(s)}return t.sort(function(t,e){return t.state!=e.state?t.state-e.state:t.data.id-e.data.id}),t},t.prototype.ZU34=function(){return 0<this.upRewardList.length},t.prototype.getUpRedNum=function(){for(var t in this.upRewardList){var e=this.upRewardList[t];if(this.ZU28(e.id)==J13.A3)return 1}return 0},t.prototype.ZQ31=function(){if(!this.mySelf.rank)return 0;for(var t in this.rankList){if(this.rankList[t].rank==this.mySelf.rank)return Math.floor(parseInt(t)/5)}},t}(ActivityVo);__reflect(CrossBattleData.prototype,"CrossBattleData");var CrossBattleVo=function(t){this.award=[],this.getState=J13.A1,t&&(this.cid=t.cid,this.award=t.award)};__reflect(CrossBattleVo.prototype,"CrossBattleVo");var F15=function(){function t(){}return t.A1=1,t.A2=2,t}();__reflect(F15.prototype,"F15");var CrossCraftSysType={crossCilmb:1,crossCamp:2,crossFish:3,crossBoss:4},TB9=function(i){function t(){var t=i.call(this)||this,e=new TD54(t);return e.aLV(O7.G97),e.aLV(O7.F69),e.aLV(O7.I64),t.proxy=new TD55(t),t.rgF(F15.A1,t.GV55,t),t.rgF(F15.A2,t.GV54,t),t}return __extends(t,i),t.prototype.GV55=function(t,e){this.proxy.GV55(t,e)},t.prototype.GV54=function(t){if(200==t.head.state){var e=this.gtM();e.ZC13(t.body),e.notify(),t.body.ob&&P5.sIs(t.body.ob)}else App.CM.apF(O6.B87,L10.A4,t)},t}(TE11);__reflect(TB9.prototype,"TB9");var TD54=function(i){function t(t){var e=i.call(this,t)||this;return e.openState=!1,e.redNum=0,e.firstLoginRedNum=0,e}return __extends(t,i),t.prototype.ZC13=function(t){t&&(null!=this.actData?this.actData.updateData(t):(this.actData=new CrossCraftData(t),this.tips=this.actData.tips),this.updateRed())},t.prototype.updateRed=function(){this.openState&&(this.redNum=this.FL35())},t.prototype.getBtnRedNum=function(t){var e=this.actData.ZQ33(t);for(var i in e)if(e[i].state==J13.A3)return 1;return 0},t.prototype.FL35=function(){if(0<this.firstLoginRedNum)return 1;for(var t in CrossCraftSysType)if(0<this.getBtnRedNum(CrossCraftSysType[t]))return 1;return 0},t.prototype.notify=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];i.prototype.notifyView.apply(this,[this].concat(t))},t}(TG79);__reflect(TD54.prototype,"TD54");var TD55=function(i){function t(t){var e=i.call(this,t)||this;return e.rSM(P4.A64,e.GV54,e),e}return __extends(t,i),t.prototype.GV55=function(t,e){var i={type:P4.A63,body:{sys:t,p:e}};this.sSM(i)},t.prototype.GV54=function(t){this.apF(F15.A2,t)},t}(TG80);__reflect(TD55.prototype,"TD55");var TE19=function(){};__reflect(TE19.prototype,"TE19");var CrossCraftView=function(s){function t(t,e){var i=s.call(this,t,e)||this;return i.sGN("release_act1075"),i.skinName=CrossCraftSkin,i}return __extends(t,s),t.prototype.initUI=function(){s.prototype.initUI.call(this),this.banner.source="v1_bg_qumindaofl15_jpg",this.btnCollection=new eui.ArrayCollection(this.btnData),this.btnList.dataProvider=this.btnCollection,this.btnList.itemRenderer=ItemCrossCraftBtn,this.initBtn();var t={render:ItemCrossCraft,gap:5,width:this.listGroup.width,height:this.listGroup.height,arrowScale:1};this.listView=new CommonListBase(t),this.listGroup.addChild(this.listView),this.listView.verticalCenter=0,this.listView.horizontalCenter=0},t.prototype.open=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];s.prototype.open.call(this),this.listView.open(),this.btnList.addEventListener(eui.ItemTapEvent.ITEM_TAP,this.onClickBtn,this),this.btnList.selectedIndex=0;var i=App.CM.gtM(O6.B2);i.actData.ZQ32(),this.btnList.selectedIndex=i.actData.curSys-1,this.ZM84(i)},t.prototype.initBtn=function(){var t=[O3.tr(5264),O3.tr(5265),O3.tr(5266),O3.tr(5267)];for(var e in this.btnData=[],CrossCraftSysType){var i={id:CrossCraftSysType[e],name:t[CrossCraftSysType[e]-1]};this.btnData.push(i)}this.btnCollection.replaceAll(this.btnData)},t.prototype.onClickBtn=function(t){var e=App.CM.gtM(O6.B2);e.actData.curSys=this.btnList.selectedIndex+1,e.notify(),TG40.playClickEffect()},t.prototype.uBM=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];s.prototype.uBM.call(this,t,e),t instanceof TD54&&this.ZM84(t)},t.prototype.ZM84=function(t){this.leftCD=t.actData.ZHH64();var e=P6.FJ11(1e3*this.leftCD,5);this.cdLb.textFlow=M18.HTP.parser(O3.tr(3253,e)),this._timerHandler=App.K16.doTimer(1e3,this.leftCD,this.GY14,this);var i=t.actData.ZQ33();for(var s in this.btnData){var o=t.getBtnRedNum(this.btnData[s].id);o!=this.btnData[s].isShowRed&&(this.btnData[s].isShowRed=o,this.btnCollection.itemUpdated(this.btnData[s]))}i.sort(function(t,e){return t.state!=e.state?t.state-e.state:t.conf.target-e.conf.target}),this.listView.rfL(i,!0)},t.prototype.GY14=function(){this.leftCD--;var t=P6.FJ11(1e3*this.leftCD,5);this.cdLb.textFlow=M18.HTP.parser(O3.tr(3253,t)),this.leftCD<=0&&(this.cTH(),this.cdLb.text="")},t.prototype.cTH=function(){null!=this._timerHandler&&(App.K16.rBH(this._timerHandler),this._timerHandler=null)},t.prototype.close=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];s.prototype.close.call(this),this.cTH(),this.listView.close()},t}(BaseEuiView);__reflect(CrossCraftView.prototype,"CrossCraftView");var ItemCrossCraftBtn=function(e){function t(){var t=e.call(this)||this;return t.skinName=SocialTabSkin,t}return __extends(t,e),t.prototype.dataChanged=function(){this.lbName.text=this.data.name,this.imgRedPoint.visible=0<this.data.isShowRed},t}(eui.ItemRenderer);__reflect(ItemCrossCraftBtn.prototype,"ItemCrossCraftBtn");var ItemCrossCraft=function(e){function t(){var t=e.call(this)||this;return t.skinName=ItemCrossCraftSkin,t.addEventListener(egret.Event.ADDED_TO_STAGE,t.open,t),t.addEventListener(egret.Event.REMOVED_FROM_STAGE,t.close,t),t}return __extends(t,e),t.prototype.open=function(){this.getBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.ZU29,this)},t.prototype.close=function(){this.getBtn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.ZU29,this),this.dataSource.removeAll()},t.prototype.childrenCreated=function(){e.prototype.createChildren.call(this),this.initUI()},t.prototype.initUI=function(){this.listContent.itemRenderer=ItemIcon,this.dataSource=new eui.ArrayCollection,this.listContent.dataProvider=this.dataSource,this.awardsSc.viewport=this.listContent,this.awardsSc.scrollPolicyV=eui.ScrollPolicy.OFF,this.getBtn.label=O3.tr(3813)},t.prototype.dataChanged=function(){var t,e=this.data.conf.target>this.data.progress?_cc.red:_cc.yellow3;switch(this.data.id){case CrossCraftSysType.crossCilmb:t=5268;break;case CrossCraftSysType.crossCamp:t=5269;break;case CrossCraftSysType.crossFish:t=5270;break;case CrossCraftSysType.crossBoss:t=5271}var i=O3.tr(t,this.data.conf.target,e,this.data.progress,this.data.conf.target);this.titleLb.textFlow=M18.HTP.parser(i),this.titleBgImg.width=this.titleLb.width+55;var s=[];for(var o in this.data.conf.reward){var r={data:N12.gID(this.data.conf.reward[o].k),ct:this.data.conf.reward[o].v};s.push({itemData:r,isBottom:!1,scale:1})}switch(this.dataSource.replaceAll(s),P7.FD53(this.getBtn,this.data.state==J13.A3?1:0),this.data.state){case J13.A3:this.getBtn.visible=!0,this.getImg.visible=!1,P16.sGF(this.getBtn,!1),this.getBtn.label=O3.tr(3813),this.getBtn.enabled=!0,this.getBtn.bgStr="v1_btn_yellow_1_png";break;case J13.A1:this.getBtn.visible=!0,this.getBtn.enabled=!1,this.getImg.visible=!1,this.getBtn.label=O3.tr(3347),this.getBtn.bgStr="v1_btn_green_1_png";break;case J13.A2:this.getBtn.visible=!1,this.getImg.visible=!0}},t.prototype.ZU29=function(){this.data.state==J13.A3&&App.CM.apF(O6.B2,F15.A1,this.data.id,this.data.conf.target)},t}(eui.ItemRenderer);__reflect(ItemCrossCraft.prototype,"ItemCrossCraft");var CrossCraftData=function(i){function t(t){var e=i.call(this,t)||this;return e.updateData(t),e.ZQ29(),e}return __extends(t,i),t.prototype.updateData=function(t){this.gotList=null!=t.alGet?t.alGet:this.gotList,this.progressList=null!=t.p?t.p:this.progressList,this.ZU63(t)},t.prototype.ZQ29=function(){if(this.reward){var t=M18.FL28(this.reward,"@");for(var e in this.rewardList={},t){var i=new CrossCraftVo(t[e]);this.rewardList[i.id]=i}}},t.prototype.ZU28=function(t,e,i){if(i<e)return J13.A1;for(var s in this.gotList)if(t==parseInt(s))for(var o in this.gotList[s]){if(this.gotList[s][o]==e)return J13.A2}return t!=CrossCraftSysType.crossCamp&&t!=CrossCraftSysType.crossBoss||e==i?J13.A3:J13.A1},t.prototype.ZQ32=function(){this.curSys=CrossCraftSysType.crossCilmb},t.prototype.ZQ33=function(t){var e=null!=t?t:this.curSys,i=this.rewardList[e],s=[];for(var o in i.award){var r=null!=this.progressList[e]?this.progressList[e]:0,n={id:i.id,conf:i.award[o],progress:r,state:this.ZU28(e,i.award[o].target,r)};s.push(n)}return s},t}(ActivityVo);__reflect(CrossCraftData.prototype,"CrossCraftData");var CrossCraftVo=function(t){if(t){var e=M18.FL28(t,",");this.id=parseInt(e[0]);var i=M18.FL28(e[2],"|","&");for(var s in this.award=[],i){var o=M18.FL28(i[s][1],";",":"),r=[];for(var n in o){var a={k:o[n][0],v:o[n][1]};r.push(a)}var h={target:parseInt(i[s][0]),reward:r};this.award.push(h)}}};__reflect(CrossCraftVo.prototype,"CrossCraftVo");var TA81=function(i){function t(){var t=i.call(this)||this,e=new TD2(t);return e.aLV(O7.G12),e.aLV(O7.C32),e.aLV(O7.I64),App.VM.register(O7.G12,"CutDownItemView",t,K17.UI_Main),t.rgF(K10.A4,t.GG62,t),t.rgF(K10.A3,t.GF3,t),t.cutDownStarProxy=new TD3(t),t.rgF(K10.A1,t.GG60,t),t.rgF(K10.A2,t.GG61,t),t}return __extends(t,i),t.prototype.GG60=function(t){this.cutDownStarProxy.ZC14(t)},t.prototype.GG61=function(t){if(200==t.head.state){var e=t.body,i=this.gtM();i.ZC13(e),i.notify(),t.body.ob&&P5.sIs(t.body.ob)}else App.CM.apF(O6.B87,L10.A4,t)},t.prototype.GG62=function(t){App.VM.open(O7.G12,t);var e=App.CM.gtM(O6.A79);e.firstLoginRedNum=0,e.notify()},t.prototype.GF3=function(){App.VM.close(O7.G12)},t}(TE11);__reflect(TA81.prototype,"TA81");var K10=function(){function t(){}return t.A4=0,t.A3=1,t.A1=2,t.A2=3,t}();__reflect(K10.prototype,"K10");var TD2=function(i){function t(t){var e=i.call(this,t)||this;return e.openState=!1,e.redNum=0,e.firstLoginRedNum=0,e}return __extends(t,i),t.prototype.ZC13=function(t){t&&(null!=this.curDownStarData?this.curDownStarData.updateData(t):(this.curDownStarData=new CutDownStarData(t),this.tips=this.curDownStarData.tips),this.updateRed())},t.prototype.ZJ85=function(){null!=this.curDownStarData&&this.curDownStarData.ZE65(),this.updateRed()},t.prototype.updateRed=function(){this.redNum=this.FL35()},t.prototype.FL35=function(){var t=0;t+=this.firstLoginRedNum;var e=this.curDownStarData.confs;for(var i in e)if(e[i].getState==J13.A3){t+=1;break}return t},t.prototype.notify=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];i.prototype.notifyView.apply(this,[this].concat(t))},t}(TG79);__reflect(TD2.prototype,"TD2");var TD3=function(i){function t(t){var e=i.call(this,t)||this;return e.rSM(P4.B22,e.ZC15,e),e}return __extends(t,i),t.prototype.ZC14=function(t){var e={type:P4.B21,body:{index:t}};this.sSM(e)},t.prototype.ZC15=function(t){this.apF(K10.A2,t)},t}(TG80);__reflect(TD3.prototype,"TD3");var TD56=function(){function t(){}return t.FHH85=function(){var t=new Array,e=App.CM.gtM(O6.A79).curDownStarData.confs;for(var i in e){var s=e[i],o={};o.id=s.id,o.title=O3.tr(3289,s.count),o.getState=s.getState,o.rewards=s.award,t.push(o)}return t},t.gtM=function(){return App.CM.gtM(O6.A79)},t}();__reflect(TD56.prototype,"TD56");var CutDownItemView=function(e){function t(){var t=e.call(this)||this;return t.skinName=ChapterBreakItemSkin,t.addEventListener(egret.Event.ADDED_TO_STAGE,t.open,t),t.addEventListener(egret.Event.REMOVED_FROM_STAGE,t.close,t),t}return __extends(t,e),t.prototype.open=function(){this.getBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.ZU29,this)},t.prototype.close=function(){this.getBtn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.ZU29,this),this.dataSource.removeAll()},t.prototype.childrenCreated=function(){e.prototype.createChildren.call(this),this.initUI()},t.prototype.initUI=function(){this.listContent.itemRenderer=ItemIcon,this.dataSource=new eui.ArrayCollection,this.listContent.dataProvider=this.dataSource,this.awardsSc.viewport=this.listContent,this.awardsSc.scrollPolicyH=eui.ScrollPolicy.OFF,this.awardsSc.scrollPolicyV=eui.ScrollPolicy.OFF,this.getImg.$setVisible(!1)},t.prototype.dataChanged=function(){e.prototype.dataChanged.call(this),this.titleLb.textFlow=M18.HTP.parser(this.data.title),this.titleBgImg.width=this.titleLb.width+55,this.getBtn.imgNew.visible=!1,this.data.getState==J13.A1?(this.getBtn.bgStr="v1_btn_green_1_png",this.getBtn.label=O3.tr(3235),this.getBtn.$setVisible(!0),this.getImg.$setVisible(!1)):this.data.getState==J13.A3?(this.getBtn.colour=_ccBtn.brown,this.getBtn.bgStr="v1_btn_yellow_1_png",this.getBtn.label=O3.tr(3232),this.getBtn.$setVisible(!0),this.getImg.$setVisible(!1),this.getBtn.imgNew.visible=!0):(this.getBtn.$setVisible(!1),this.getImg.$setVisible(!0)),this.ZJ81(this.data.rewards)},t.prototype.ZJ81=function(t){var e=[];for(var i in t){var s={itemData:{data:N12.gID(t[i].k),ct:t[i].v},isBottom:!1};e.push(s)}this.dataSource.replaceAll(e)},t.prototype.ZU29=function(){this.data.getState==J13.A1?App.CM.apF(O6.B85,L15.A42,O7.D97):this.data.getState==J13.A3&&App.CM.apF(O6.A79,K10.A1,this.data.id)},t}(eui.ItemRenderer);__reflect(CutDownItemView.prototype,"CutDownItemView");var CutDownStarView=function(s){function t(t,e){var i=s.call(this,t,e)||this;return i.skinName=ChapterBreakSkin,i}return __extends(t,s),t.prototype.initUI=function(){s.prototype.initUI.call(this),this.banner.source="v1_bg_qumindaofl7_jpg";var t={render:CutDownItemView,gap:5,width:this.listGroup.width,height:this.listGroup.height,arrowScale:1};this.listView=new CommonListBase(t),this.listGroup.addChild(this.listView),this.listView.verticalCenter=0,this.listView.horizontalCenter=0,this.goBtn.label=O3.tr(3776)},t.prototype.open=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];s.prototype.open.call(this),this.goBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickGoBtn,this),this.listView.open(),this.GX5()},t.prototype.uBM=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];s.prototype.uBM.call(this,t,e),t instanceof TD2&&this.GX5()},t.prototype.GX5=function(){var t=TD56.gtM(),e=App.CM.gtM(O6.B85).ZB39(),i=O3.tr(3288,e);this.missionLb.textFlow=M18.HTP.parser(i),this.leftCD=t.curDownStarData.ZHH64();var s=P6.FJ11(1e3*this.leftCD,5);this.cdLb.textFlow=M18.HTP.parser(O3.tr(3253,s)),this._timerHandler=App.K16.doTimer(1e3,this.leftCD,this.GY14,this);var o=TD56.FHH85();this.listView.rfL(o)},t.prototype.GY14=function(){this.leftCD--;var t=P6.FJ11(1e3*this.leftCD,5);this.cdLb.textFlow=M18.HTP.parser(O3.tr(3253,t)),this.leftCD<=0&&(this.cTH(),this.cdLb.text="")},t.prototype.cTH=function(){null!=this._timerHandler&&(App.K16.rBH(this._timerHandler),this._timerHandler=null)},t.prototype.close=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];s.prototype.close.call(this),this.listView.close(),this.goBtn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickGoBtn,this),this.cTH()},t.prototype.onClickGoBtn=function(){App.CM.apF(O6.B85,L15.A42,O7.D97)},t}(BaseEuiView);__reflect(CutDownStarView.prototype,"CutDownStarView");var CutDownStarConfVo=function(t){this.award=[],this.getState=J13.A1,t&&(this.id=t.index,this.count=t.count,this.award=t.award)};__reflect(CutDownStarConfVo.prototype,"CutDownStarConfVo");var CutDownStarData=function(i){function t(t){var e=i.call(this,t)||this;return e.confs=[],e.yaw=[],e.updateData(t),e}return __extends(t,i),t.prototype.ZE65=function(){var t=App.CM.gtM(O6.B85).ZB39();for(var e in this.confs){if(0<this.yaw.length)for(var i in this.yaw)if(this.confs[e].id==this.yaw[i]){this.confs[e].getState=J13.A2;break}J13.A2!=this.confs[e].getState&&(t>=this.confs[e].count?this.confs[e].getState=J13.A3:this.confs[e].getState=J13.A1)}},t.prototype.updateData=function(t){if(t){if(this.yaw=t.yaw||this.yaw,t.confs){var e=t.confs;for(var i in e){var s=new CutDownStarConfVo(e[i]);this.confs.push(s)}}this.ZE65()}this.confs.sort(function(t,e){return t.getState==e.getState?t.id-e.id:t.getState-e.getState}),this.ZU63(t)},t}(ActivityVo);__reflect(CutDownStarData.prototype,"CutDownStarData");var HH8=function(){function t(){}return t.A2=0,t.A1=1,t.A3=2,t.A4=3,t}();__reflect(HH8.prototype,"HH8");var TB41=function(i){function t(){var t=i.call(this)||this,e=new TE20(t);return e.aLV(O7.HH66),e.aLV(O7.I64),App.VM.register(O7.HH66,"DailyGiftView",t,K17.UI_Main),t.rgF(HH8.A2,t.ZHH66,t),t.rgF(HH8.A1,t.ZG13,t),t.proxy=new TE21(t),t.rgF(HH8.A3,t.proxy.getGift,t.proxy),t.rgF(HH8.A4,t.GO20,t),t}return __extends(t,i),t.prototype.GO20=function(t){if(200==t.head.state){var e=t.body,i=this.gtM();i.ZC13(e),i.notify(P4.D49),P5.sIs(t.body.ob),this.apF(HH8.A1)}else App.CM.apF(O6.B87,L10.A4,t)},t.prototype.ZHH66=function(){App.VM.open(O7.HH66)},t.prototype.ZG13=function(){App.VM.close(O7.HH66)},t}(TE11);__reflect(TB41.prototype,"TB41");var TE20=function(i){function t(t){var e=i.call(this,t)||this;return e.openState=!1,e.isOpenView=!1,e}return __extends(t,i),t.prototype.ZC13=function(t){t&&(null!=this.actData?this.actData.ZU63(t):this.actData=new DailyGiftData(t))},t.prototype.updateRed=function(){},t.prototype.FL35=function(){return this.canGet()?1:0},t.prototype.notify=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];i.prototype.notifyView.apply(this,[this].concat(t))},t.prototype.canGet=function(){return this.openState&&this.actData.money>=this.actData.cm},t}(TG79);__reflect(TE20.prototype,"TE20");var TE21=function(i){function t(t){var e=i.call(this,t)||this;return e.rSM(P4.B34,e.ZQ34,e),e}return __extends(t,i),t.prototype.getGift=function(){var t={type:P4.B33,body:{}};this.sSM(t)},t.prototype.ZQ34=function(t){this.apF(HH8.A4,t)},t}(TG80);__reflect(TE21.prototype,"TE21");var DailyGiftView=function(a){function t(t,e){var i=a.call(this,t,e)||this;return i.sGN("release_act1064"),i.skinName="DailyGiftSkin",i}return __extends(t,a),t.prototype.open=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];a.prototype.open.apply(this,t);var i=App.CM.gtM(O6.B25);this.currentState=2<i.actData.rewardList.length/3?"row3":"row2",this.validateNow(),this.btnClose.addEventListener(egret.TouchEvent.TOUCH_TAP,this.oCC,this),this.imgBg.addEventListener(egret.TouchEvent.TOUCH_TAP,this.oCC,this),this.btnGo.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClick,this),this.arrayCollection=new eui.ArrayCollection,this.gReward.dataProvider=this.arrayCollection,this.gReward.itemRenderer=DailyGiftItem,"freetop"!=platform.name&&"wakool"!=platform.name||(this.priceGp.x=480),this.priceLb.text=i.actData.cost,this.uBM(i)},t.prototype.close=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];a.prototype.close.apply(this,t),this.btnClose.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.oCC,this),this.imgBg.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.oCC,this),this.arrayCollection.removeAll(),this.timer&&(this.timer.removeEventListener(egret.Event.CHANGE,this.GX42,this),this.timer.destory(),this.timer=null)},t.prototype.uBM=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];if(a.prototype.uBM.apply(this,[t].concat(e)),t instanceof TE20){var s=t.actData,o=s.rewardList,r=s.money,n=(s.r,s.cm,o.map(function(t,e){var i=N12.gID(t.k);return{itemData:{texiao:0==e?TF59.FC9(i.quality):void 0,data:i,ct:t.v},isBottom:!1}}));this.arrayCollection.replaceAll(n),this.timer=this.timer||new ActivityTimer(this),this.timer.addEventListener(egret.Event.CHANGE,this.GX42,this),this.timer.set(t.actData),this.labTips.textFlow=M18.HTP.parse(O3.tr(3613,r)),this.btnGo.label=t.canGet()?O3.tr(3726):O3.tr(3727),this.btnGo.imgNew.visible=t.canGet(),this.labName.textFlow=M18.HTP.parse(O3.tr(3728))}},t.prototype.GX42=function(){var t=App.CM.gtM(O6.B25),e=O3.tr(3614,P6.FJ11(1e3*t.actData.getZeroCD(),5));this.labTime.textFlow=M18.HTP.parse(e)},t.prototype.oCC=function(){this.apF(HH8.A1)},t.prototype.onClick=function(){App.CM.gtM(O6.B25).canGet()?this.apF(HH8.A3):App.CM.apF(O6.C29,P8.A7)},t}(BaseEuiView);__reflect(DailyGiftView.prototype,"DailyGiftView");var ActivityTimer=function(s){function t(t,e){var i=s.call(this)||this;return i.root=t,i.root.addEventListener(egret.Event.ADDED_TO_STAGE,i.onDisplay,i),i.root.addEventListener(egret.Event.REMOVED_FROM_STAGE,i.onUnDisplay,i),e&&i.set(e),i}return __extends(t,s),t.prototype.onDisplay=function(){this.actData?this.timerHandler||(0<this.actData.rs&&(this.timerHandler=App.K16.doTimer(1e3,0,this.update,this)),this.dispatchEventWith(egret.Event.CHANGE)):this.onUnDisplay()},t.prototype.onUnDisplay=function(){this.cTH()},t.prototype.update=function(){this.leftCD<=0&&this.cTH(),this.dispatchEventWith(egret.Event.CHANGE)},t.prototype.cTH=function(){null!=this.timerHandler&&(App.K16.rBH(this.timerHandler),this.timerHandler=null)},Object.defineProperty(t.prototype,"leftCD",{get:function(){return this.actData.ZHH64()},enumerable:!0,configurable:!0}),t.prototype.set=function(t,e){return void 0===e&&(e=!1),this.actData=t,this.onDisplay(),this},t.prototype.destory=function(){this.onUnDisplay(),this.root.removeEventListener(egret.Event.ADDED_TO_STAGE,this.onDisplay,this),this.root.removeEventListener(egret.Event.REMOVED_FROM_STAGE,this.onUnDisplay,this),this.actData=null},t}(egret.EventDispatcher);__reflect(ActivityTimer.prototype,"ActivityTimer");var DailyGiftItem=function(i){function t(){return null!==i&&i.apply(this,arguments)||this}return __extends(t,i),t.prototype.setBottom=function(t){if(i.prototype.setBottom.call(this,t),!t){var e=this.getChildAt(0);this.height=e.height=80}},t}(ItemIcon);__reflect(DailyGiftItem.prototype,"DailyGiftItem");var DailyGiftData=function(i){function t(t){var e=i.call(this,t)||this;return e.rewardList=[],e.money=0,e.cm=0,e.r=!1,e.zeroCD=0,e.lastLoadTime=0,e.ZU63(t),e}return __extends(t,i),t.prototype.ZU63=function(t){i.prototype.ZU63.call(this,t),this.money=null!=t.money?t.money:this.money,this.r=null!=t.r?!!t.r:this.r;var e=t.conf||{};this.rewardList=e.award||this.rewardList,this.cm=e.cm||this.cm,this.zeroCD=null==t.cd?this.zeroCD:t.cd,t.cd&&(this.lastLoadTime=P6.getTime(!0))},t.prototype.getZeroCD=function(){var t=P6.getTime(!0)-this.lastLoadTime,e=this.zeroCD-t;return 0<e?e:0},t}(ActivityVo);__reflect(DailyGiftData.prototype,"DailyGiftData");var D14=function(){function t(){}return t.A4=10001,t.A1=10002,t.A2=10003,t.A3=10004,t}();__reflect(D14.prototype,"D14");var TA54=function(i){function t(){var t=i.call(this)||this,e=new TC38(t);return e.aLV(O7.F7),e.aLV(O7.C32),e.aLV(O7.I64),App.VM.register(O7.F7,"DiscountShopView",t,K17.UI_Main),t.rgF(D14.A4,t.GF4,t),t.rgF(D14.A1,t.GE10,t),t.discountShopProxy=new TC39(t),t.rgF(D14.A2,t.GB47,t),t.rgF(D14.A3,t.GB48,t),t}return __extends(t,i),t.prototype.GB47=function(t){this.discountShopProxy.ZG14(t)},t.prototype.GB48=function(t){if(200==t.head.state){var e=t.body,i=this.gtM();i.ZC13(e),i.notify(),P5.sIs(t.body.ob)}else 215==t.head.state?P7.FA78():App.CM.apF(O6.B87,L10.A4,t)},t.prototype.GF4=function(){App.VM.open(O7.F7);var t=App.CM.gtM(O6.A59);t.firstLoginRedNum=0,t.notify()},t.prototype.GE10=function(){App.VM.close(O7.F7)},t}(TE11);__reflect(TA54.prototype,"TA54");var TC38=function(i){function t(t){var e=i.call(this,t)||this;return e.openState=!1,e.redNum=0,e.firstLoginRedNum=0,e}return __extends(t,i),t.prototype.ZC13=function(t){t&&(null!=this.discountShopData?this.discountShopData.updateData(t):(this.discountShopData=new DiscountShopData(t),this.tips=this.discountShopData.tips),this.updateRed())},t.prototype.updateRed=function(){this.redNum=this.FL35()},t.prototype.FL35=function(){var t=0;return t+=this.firstLoginRedNum},t.prototype.notify=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];i.prototype.notifyView.call(this,this,t)},t}(TG79);__reflect(TC38.prototype,"TC38");var TC39=function(i){function t(t){var e=i.call(this,t)||this;return e.rSM(P4.N62,e.ZG15,e),e}return __extends(t,i),t.prototype.ZG14=function(t){var e={type:P4.N61,body:{id:t}};this.sSM(e)},t.prototype.ZG15=function(t){this.apF(D14.A3,t)},t}(TG80);__reflect(TC39.prototype,"TC39");var TD4=function(){};__reflect(TD4.prototype,"TD4");var DiscountShopView=function(s){function t(t,e){var i=s.call(this,t,e)||this;return i.listData=[],i.skinName=DiscountShopSkin,i}return __extends(t,s),t.prototype.initUI=function(){s.prototype.initUI.call(this),this.createList()},t.prototype.createList=function(){var t={render:DiscountItem,width:this.listGroup.width,height:this.listGroup.height,arrowScale:1,tileLayout:!0,verticalGap:10,horizontalGap:8};this.listView=new CommonListBase(t),this.listGroup.addChild(this.listView),this.listView.verticalCenter=0,this.listView.horizontalCenter=0},t.prototype.updateList=function(){this.listData=this.discountShopData.ZM76(),this.listView.rfL(this.listData)},t.prototype.open=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];s.prototype.open.call(this),this.listView.open();var i=App.CM.gtM(O6.A59);this.ZA87(i)},t.prototype.uBM=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];s.prototype.uBM.call(this,t,e),t instanceof TC38&&this.ZA87(t)},t.prototype.ZA87=function(t){if(this.discountShopData=t.discountShopData,this.updateList(),null==this.timerHandler)if(0<this.discountShopData.zeroCD){this.leftCD=this.discountShopData.getZeroCD();var e=O3.tr(3253,P6.FJ11(1e3*this.leftCD,5));this.leftCdLb.textFlow=M18.HTP.parser(e),this.timerHandler=App.K16.doTimer(1e3,this.leftCD,this.GY14,this)}else this.leftCdLb.text=""},t.prototype.GY14=function(){this.leftCD--;var t=O3.tr(3253,P6.FJ11(1e3*this.leftCD,5));this.leftCdLb.textFlow=M18.HTP.parser(t),this.leftCD<=0&&(this.cTH(),this.leftCdLb.text="")},t.prototype.cTH=function(){null!=this.timerHandler&&(App.K16.rBH(this.timerHandler),this.timerHandler=null)},t.prototype.close=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];s.prototype.close.call(this),this.cTH(),this.listView.close()},t}(BaseEuiView);__reflect(DiscountShopView.prototype,"DiscountShopView");var DiscountItem=function(e){function t(){var t=e.call(this)||this;return t.skinName=DiscountItemSkin,t}return __extends(t,e),t.prototype.childrenCreated=function(){e.prototype.createChildren.call(this),this.initUI()},t.prototype.initUI=function(){this.buyBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.clickBuy,this);App.CM.gtM(O6.A59).discountShopData;this.itemIcon=new ItemIcon,this.iconGp.addChild(this.itemIcon),this.lblyuanjia.textFlow=M18.HTP.parse(O3.tr(3755)),this.lblxianjia.textFlow=M18.HTP.parse(O3.tr(3757))},t.prototype.dataChanged=function(){this.nameLb.textFlow=this.data.itemData.data.name,O5.FB13(this.nameLb,this.data.itemData.data.name,this.data.itemData.data.quality),this.discountLb.text=O3.tr(3254,this.data.discount),this.limitBuyLb.text=O3.tr(3255,this.data.hasBuy,this.data.limitBuy),this.oldPriceImg.source=N12.FJ86(this.data.oldPrice.k),this.oldPriceLb.textFlow=M18.HTP.parse(O3.tr(3756,this.data.oldPrice.v)),this.nowPriceImg.source=N12.FJ86(this.data.nowPrice.k),this.nowPriceLb.textFlow=M18.HTP.parse(O3.tr(3758,this.data.nowPrice.v));var t={itemData:this.data.itemData,isBottom:!1};this.itemIcon.data=t;var e=App.CM.gtM(O6.A59).discountShopData,i=P7.FB44(parseInt(e.cost));i.lv>=this.data.rank?(this.lockLb.text="",this.buyBtn.$setVisible(!0),this.limitBuyLb.$setVisible(!0),this.data.hasBuy>=this.data.limitBuy?(P16.sGF(this.buyBtn,!0),this.buyBtn.$setEnabled(!1),this.buyBtn.label=O3.tr(3295)):(P16.sGF(this.buyBtn,!1),this.buyBtn.$setEnabled(!0),this.buyBtn.label=O3.tr(3294))):(this.lockLb.text=O3.tr(3256,i.name,this.data.rank),this.buyBtn.$setVisible(!1),this.limitBuyLb.$setVisible(!1))},t.prototype.clickBuy=function(){App.CM.apF(O6.A59,D14.A2,this.data.id)},t}(eui.ItemRenderer);__reflect(DiscountItem.prototype,"DiscountItem");var DiscountShopConfVo=function(){function t(t){this.items=[],this.hasBuy=0,this.initData(t)}return t.prototype.initData=function(t){if(t){this.id=t.id,this.rank=t.r,this.oldPrice=t.op,this.nowPrice=t.cp,this.discount=t.d,this.limitBuy=t.l,this.items=t.it;var e=N12.gID(String(this.items[0].k));this.itemData={data:e,ct:this.items[0].v}}},t}();__reflect(DiscountShopConfVo.prototype,"DiscountShopConfVo");var DiscountShopData=function(i){function t(t){var e=i.call(this,t)||this;return e.zeroCD=0,e.updateData(t),e}return __extends(t,i),t.prototype.updateData=function(t){if(t){if(this.hasBuyList=t.yb||this.hasBuyList,this.zeroCD=null==t.cd?this.zeroCD:t.cd,t.cd&&(this.lastLoadTime=P6.getTime(!0)),t.cf){null!=this.discountShopConfVo&&0<this.discountShopConfVo.length&&this.discountShopConfVo.splice(0,this.discountShopConfVo.length),this.discountShopConfVo=[];for(var e=0;e<t.cf.length;e++){var i=new DiscountShopConfVo(t.cf[e]);this.discountShopConfVo.push(i)}this.discountShopConfVo.sort(function(t,e){return t.id-e.id})}if(0<this.hasBuyList.length)for(e=0;e<this.hasBuyList.length;e++)for(var s=0;s<this.discountShopConfVo.length;s++)if(this.hasBuyList[e].k==this.discountShopConfVo[s].id){this.discountShopConfVo[s].hasBuy=this.hasBuyList[e].v;break}this.initActData(t),this.ZU63(t)}},t.prototype.initActData=function(t){t.atmp&&(this.initialed=!1),i.prototype.initActData.call(this,t)},t.prototype.ZM76=function(){for(var t,e=[],i=P7.FB44(parseInt(this.cost)),s=0;s<this.discountShopConfVo.length;s++){var o=this.discountShopConfVo[s];if(i.lv==o.rank&&e.push(o),null!=t&&o.rank>t)break;o.rank>i.lv&&(e.push(o),t=o.rank)}return e},t.prototype.getZeroCD=function(){var t=P6.getTime(!0)-this.lastLoadTime,e=this.zeroCD-t;return 0<e?e:0},t}(ActivityVo);__reflect(DiscountShopData.prototype,"DiscountShopData");var B1=function(){function t(){}return t.A2=10001,t.A1=10002,t}();__reflect(B1.prototype,"B1");var TA38=function(i){function t(){var t=i.call(this)||this,e=new TB91(t);return e.aLV(O7.E30),e.aLV(O7.D12),e.aLV(O7.I64),App.VM.register(O7.E30,"DoubleFortuneView",t,K17.UI_Main),t.rgF(B1.A2,t.GE11,t),t.rgF(B1.A1,t.GD14,t),t}return __extends(t,i),t.prototype.GE11=function(t){App.VM.open(O7.E30,t);var e=App.CM.gtM(O6.A50);e.firstLoginRedNum=0,e.notify()},t.prototype.GD14=function(){App.VM.close(O7.E30)},t}(TE11);__reflect(TA38.prototype,"TA38");var TB91=function(i){function t(t){var e=i.call(this,t)||this;return e.openState=!1,e.redNum=0,e.firstLoginRedNum=0,e}return __extends(t,i),t.prototype.ZC13=function(t){t&&(null!=this.actData?this.actData.updateData(t):(this.actData=new DoubleFortuneData(t),this.tips=this.actData.tips),this.updateRed())},t.prototype.updateRed=function(){this.redNum=this.FL35()},t.prototype.FL35=function(){var t=0;return t+=this.firstLoginRedNum},t.prototype.ZQ35=function(){},t.prototype.notify=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];i.prototype.notifyView.call(this,this,t)},t}(TG79);__reflect(TB91.prototype,"TB91");var DoubleFortuneView=function(s){function t(t,e){var i=s.call(this,t,e)||this;return i.sGN("release_act1055"),i.skinName="DoubleTreasureSkin",i}return __extends(t,s),t.prototype.initUI=function(){s.prototype.initUI.call(this),this.btnGo.label=O3.tr(3818)},t.prototype.open=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];s.prototype.open.call(this),this.bgImg.source="v1_bg_honglihe5_jpg",this.descGrp.y=576,this.descLb.textFlow=M18.HTP.parse(O3.tr(3359)),this.descLb2.textAlign="center",this.descLb2.textFlow=M18.HTP.parse(O3.tr(3360)),this.btnGo.addEventListener(egret.TouchEvent.TOUCH_TAP,this.clickBtnGo,this)},t.prototype.clickBtnGo=function(){TG84.goToDlg({sLink:2404})},t.prototype.uBM=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];s.prototype.uBM.call(this,t,e),t instanceof TB91&&this.ZA70(t)},t.prototype.ZA70=function(t){if(null==this.timerHandler)if(0<t.actData.rs){this.leftCD=t.actData.ZHH64();var e=O3.tr(3253,P6.FJ11(1e3*this.leftCD,5));this.leftCdLb.textFlow=M18.HTP.parse(e),this.timerHandler=App.K16.doTimer(1e3,this.leftCD,this.GY14,this)}else this.leftCdLb.text=""},t.prototype.GY14=function(){this.leftCD--;var t=O3.tr(3253,P6.FJ11(1e3*this.leftCD,5));this.leftCdLb.textFlow=M18.HTP.parse(t),this.leftCD<=0&&(this.cTH(),this.leftCdLb.text="")},t.prototype.cTH=function(){null!=this.timerHandler&&(App.K16.rBH(this.timerHandler),this.timerHandler=null)},t.prototype.close=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];s.prototype.close.call(this),this.cTH(),this.btnGo.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.clickBtnGo,this)},t}(BaseEuiView);__reflect(DoubleFortuneView.prototype,"DoubleFortuneView");var DoubleFortuneData=function(i){function t(t){var e=i.call(this,t)||this;return e.updateData(t),e}return __extends(t,i),t.prototype.updateData=function(t){t&&this.ZU63(t)},t}(ActivityVo);__reflect(DoubleFortuneData.prototype,"DoubleFortuneData"),function(s){var t=function(i){function t(){var t=i.call(this)||this,e=new s.Model(t);return e.aLV(O7.HH91),e.aLV(O7.G38),App.VM.register(O7.HH91,"FaBaoHelpView",t,K17.UI_Main),App.VM.register(O7.G38,"FaBaoHelpAdView",t,K17.UI_Main),App.VM.register(O7.B20,"FaBaoHelpSkillTipsView",t,K17.UI_Popup),t.proxy=new s.Proxy(t),t.rgF(P4.HH40,t.proxy.activity,t.proxy),t}return __extends(t,i),t.prototype.GV56=function(t){if(200!=t.head.state)App.CM.apF(O6.B87,L10.A4,t);else{if(this.gtM().ZC13(t.body,!0),t.body.fid){var e={objData:{id:TG19.aidfabao[t.body.fid].skin,x:0,y:-50,dir:Dir.br,objType:P13.A6},titleImg:"v1_fonts_fbyz_png"};App.VM.open(O7.G69,e)}P5.sIs(t.body.ob)}},t}(TE11);s.Controller=t,__reflect(t.prototype,"FaBaoHelp.Controller")}(FaBaoHelp||(FaBaoHelp={})),function(o){var t=function(i){function t(){var t=null!==i&&i.apply(this,arguments)||this;return t.openState=!1,t.redNum=0,t.firstLoginRedNum=0,t}return __extends(t,i),t.prototype.ZC13=function(t,e){void 0===e&&(e=!0);for(var i=[],s=2;s<arguments.length;s++)i[s-2]=arguments[s];P7.isEmpty(t)||(this.actData=this.actData?this.actData.update(t):new o.ActData(t)),this.updateRed(),e&&this.notify.apply(this,i)},t.prototype.updateRed=function(){this.redNum=0},t.prototype.FL35=function(){return this.updateRed(),this.redNum},t.prototype.notify=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];i.prototype.notifyView.apply(this,[this].concat(t))},t}(TG79);o.Model=t,__reflect(t.prototype,"FaBaoHelp.Model")}(FaBaoHelp||(FaBaoHelp={})),function(t){var e=function(){};(FaBaoHelp||(FaBaoHelp={})).Utils=e,__reflect(e.prototype,"FaBaoHelp.Utils")}(),function(t){var e=function(e){function t(t){return e.call(this,t)||this}return __extends(t,e),t.prototype.activity=function(t){var e={type:P4.HH40,body:{fid:t}};this.rSMO(P4.HH41,this.GV56,this),this.sSM(e)},t.prototype.GV56=function(t){this._controller.GV56(t)},t}(TG80);t.Proxy=e,__reflect(e.prototype,"FaBaoHelp.Proxy")}(FaBaoHelp||(FaBaoHelp={}));var FaBaoHelpAdView=function(s){function t(t,e){var i=s.call(this,t,e)||this;return i.skinName="FaBaoHelpAdSkin",i}return __extends(t,s),t.prototype.initUI=function(){var e=this;this.btn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClick,this),this.btnClose.addEventListener(egret.TouchEvent.TOUCH_TAP,this.oCC,this),this.bgMask.addEventListener(egret.TouchEvent.TOUCH_TAP,this.oCC,this),this.gSkills.$children.forEach(function(t){return t.addEventListener(egret.TouchEvent.TOUCH_TAP,e.onClickSkill,e)}),this.btn.label=O3.tr(8455)},t.prototype.close=function(){for(var e=this,t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];s.prototype.close.apply(this,t),this.gSkills.$children.forEach(function(t){return t.removeEventListener(egret.TouchEvent.TOUCH_TAP,e.onClickSkill,e)}),this.btn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClick,this),this.btnClose.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.oCC,this),this.bgMask.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.oCC,this)},t.prototype.onClick=function(){TF59.FE54(F7.B20),this.oCC()},t.prototype.onClickSkill=function(t){var e=App.CM.gtM(O6.B40),i=t.currentTarget.name;App.VM.open(O7.B20,parseInt(i),e.actData.lv)},t.prototype.oCC=function(){App.VM.GY64(this)},t}(BaseEuiView);__reflect(FaBaoHelpAdView.prototype,"FaBaoHelpAdView");var FabaoHelpItemIconView=function(i){function t(){var t=i.call(this)||this;return t.skinName="FabaoHelpItemIconSkin",t}return __extends(t,i),t.prototype.childrenCreated=function(){var e=this;i.prototype.childrenCreated.call(this),this.touchEnabled=this.touchChildren=!1,this.animes.play(0),this.animes.items.forEach(function(t){return t.addEventListener(egret.Event.COMPLETE,e.complete_,e)})},t.prototype.setIcon=function(t){this.icon.source=this.icon2.source=t},t.prototype.remove=function(){var e=this;this.animes.items.forEach(function(t){t.removeEventListener(egret.Event.COMPLETE,e.complete_,e),t.stop()})},t.prototype.complete_=function(t){t.currentTarget.play(0)},t}(eui.Component);__reflect(FabaoHelpItemIconView.prototype,"FabaoHelpItemIconView");var FaBaoHelpItemView=function(r){function t(){var t=r.call(this)||this;return t.skinName="FaBaoHelpItemSkin",t}return __extends(t,r),t.prototype.childrenCreated=function(){r.prototype.childrenCreated.call(this),this.once(egret.Event.REMOVED_FROM_STAGE,this.remove,this),this.skill.addEventListener(egret.TouchEvent.TOUCH_TAP,this.openTips,this),this.animation=new FabaoHelpItemIconView,this.gIcon.addChild(this.animation)},t.prototype.dataChanged=function(){r.prototype.dataChanged.call(this);var t=App.CM.gtM(O6.C7);this.select.visible=this.data.select,this.imgOwn.visible=this.data.own;var e=t.skinList[this.data.fabaoId];this.animation.setIcon(e.iconbg),this.skill.source=e.getSkillIcon();var i=e.getHightSkillName().split(" "),s=i[0],o=i[1];this.labSkillName.text=s,this.labLv.text=o},t.prototype.openTips=function(){App.VM.open(O7.B20,this.data.fabaoId,this.data.lv)},t.prototype.remove=function(){this.skill.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.openTips,this),this.animation.remove()},t}(eui.ItemRenderer);__reflect(FaBaoHelpItemView.prototype,"FaBaoHelpItemView");var FaBaoHelpSkillItem=function(t){function e(){return t.call(this)||this}return __extends(e,t),e.prototype.childrenCreated=function(){t.prototype.createChildren.call(this),this.skinName="FaBaoSkillItemSkin"},e.prototype.dataChanged=function(){this.lbDesc.textFlow=M18.HTP.parser(O3.tr(7061,this.data.info.desc)),this.data.info.needupgrade<=this.data.lv?this.lbName.textFlow=M18.HTP.parser(O3.tr(7058,this.data.info.name)):this.lbName.textFlow=M18.HTP.parser(O3.tr(7060,this.data.info.name,this.data.info.needupgrade))},e}(eui.ItemRenderer);__reflect(FaBaoHelpSkillItem.prototype,"FaBaoHelpSkillItem");var FaBaoHelpSkillTipsView=function(s){function t(t,e){var i=s.call(this,t,e)||this;return i.skinName="FaBaoHelpSkillTipsSkin",i}return __extends(t,s),t.prototype.initUI=function(){s.prototype.initUI.call(this);var t={render:FaBaoHelpSkillItem,gap:14,width:this.listGrp.width,height:this.listGrp.height};this.listView=new CommonListBase(t),this.listGrp.addChild(this.listView),this.listView.verticalCenter=0,this.listView.horizontalCenter=0,this.skill.enabled=!1},t.prototype.open=function(t,e){s.prototype.open.call(this),this.listView.open();var i=App.CM.gtM(O6.C7);this.skillData=i.skinList[t].getSkillInfo(e),this.addEventListener(egret.TouchEvent.TOUCH_TAP,this.closeSelf,this),this.updataUI()},t.prototype.updataUI=function(){this.lbName.textFlow=M18.HTP.parser(O3.tr(7058,this.skillData.name)),this.listView.rfL([{lv:this.skillData.needupgrade,info:this.skillData}]),this.skill.imgIcon.source=this.skillData.icon},t.prototype.closeSelf=function(){App.VM.GY64(this)},t.prototype.close=function(){s.prototype.close.call(this),this.listView.close(),this.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.closeSelf,this)},t}(BaseEuiView);__reflect(FaBaoHelpSkillTipsView.prototype,"FaBaoHelpSkillTipsView");var FaBaoHelp,FaBaoHelpView=function(r){function t(t,e){var i=r.call(this,t,e)||this;return i.skinName="FaBaoHelpSkin",i.sGN("release_act1134"),i}return __extends(t,r),Object.defineProperty(t.prototype,"model",{get:function(){return App.CM.gtM(O6.B40)},enumerable:!0,configurable:!0}),t.prototype.initUI=function(){this.labTr8452.textFlow=O3.tr2(8452),this.labDesc.textFlow=O3.tr2(8454),this.labDesc.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickTips,this),this.btn.label=O3.tr(8453),this.btn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClick,this),this.dgRw1.itemRenderer=this.dgRw2.itemRenderer=ItemIcon,this.dgRw1.dataProvider=this.eaRw1=new eui.ArrayCollection,this.dgRw2.dataProvider=this.eaRw2=new eui.ArrayCollection,this.dgList.itemRenderer=FaBaoHelpItemView,this.dgList.dataProvider=this.eaFabao=new eui.ArrayCollection,this.dgList.addEventListener(eui.ItemTapEvent.ITEM_TAP,this.ZU35,this)},t.prototype.open=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];r.prototype.open.apply(this,t),this.timer=this.timer||App.K16.doTimer(1e3,0,this.GX42,this),this.GX42();var i=this.model,s=i.actData.fid;if(!s)for(var o in i.actData.rw){s=parseInt(o);break}this.id=s,this.GX5(i)},t.prototype.close=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];r.prototype.close.apply(this,t),this.btn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClick,this),this.dgList.removeEventListener(eui.ItemTapEvent.ITEM_TAP,this.ZU35,this),this.labDesc.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickTips,this),App.K16.rBH(this.timer),delete this.timer,this.eaRw1.removeAll(),this.eaRw2.removeAll(),this.eaFabao.removeAll()},t.prototype.GX42=function(){this.labTime.textFlow=O3.tr2(3253,P6.FJ11(1e3*this.model.actData.ZHH64(),5))},t.prototype.uBM=function(t,e){t instanceof FaBaoHelp.Model&&(e==P4.HH41&&(this.id=t.actData.fid),this.GX5(t))},t.prototype.GX5=function(t){var e=[];for(var i in t.actData.rw){var s=parseInt(i);t.actData.rw[s];e.push({select:s==this.id,own:s==t.actData.fid,fabaoId:s,lv:t.actData.lv})}this.eaFabao.source=e,this.updateReward(t),P16.FL31(this.gConsu,t.actData.consume.k,t.actData.consume.v,{textTemplate:"<font color=#75c01a>$1</font>",lackTextTemplate:"<font color=#d82222>$1</font>"}),this.btn.touchEnabled=!t.actData.fid,this.gConsu.visible=this.btn.touchEnabled,P16.sGF(this.btn,!this.btn.touchEnabled),this.btn.label=this.btn.touchEnabled?O3.tr(8453):O3.tr(8505)},t.prototype.updateReward=function(t){this.id&&(this.eaRw1.source=t.actData.rw[this.id].rws.map(function(t){return{itemData:{data:N12.gID(t.k),ct:t.v},isBottom:!1}}),this.eaRw2.source=t.actData.rw[this.id].last.map(function(t){return{itemData:{data:N12.gID(t.k),ct:t.v},isBottom:!1}}))},t.prototype.onClick=function(){var t=this,e=this.model;if(e.actData.fid)P18.sDP(O3.tr(8505));else if(N12.FK6(e.actData.consume)){var i=N12.FK5(e.actData.consume.k),s=TG19.aidfabao[this.id].name,o={handler:function(){App.CM.apF(O6.B40,P4.HH40,t.id)},cost:e.actData.consume.v,costTp:P10.A2,content:O3.tr(8461,i,e.actData.consume.v,s)};App.VM.open(O7.C54,o)}else P7.FA78()},t.prototype.ZU35=function(t){var e=this.eaFabao.source[t.itemIndex],i=this.model;e&&!i.actData.fid&&(this.id=e.fabaoId,this.GX5(i))},t.prototype.onClickTips=function(){var t={title:O3.tr(8456),content:O3.tr(8457)};App.CM.apF(O6.C18,O10.A24,t)},t}(BaseEuiView);__reflect(FaBaoHelpView.prototype,"FaBaoHelpView"),function(t){var e=function(i){function t(t){var e=i.call(this,null)||this;return e.rw={},e.lv=5,e.update(t),e}return __extends(t,i),t.prototype.update=function(t){var n=this;if(this.ZU63(t),this.fid=P7.getValue(t.fid,this.fid),t.atmp&&(t.atmp.reward&&(this.rw={},t.atmp.reward.split("|").forEach(function(t){var e=t.split("-"),i=e[0],s=e[1].split(","),o=s[0],r=s[1];n.rw[i]={last:P7.str2kv(o),rws:P7.str2kv(r)}})),t.atmp.cost)){var e=t.atmp.cost.split(","),i=(e[0],e[1]),s=e[2];this.lv=parseInt(i),this.consume=P7.str2kv1(s)}return this},t}(ActivityVo);t.ActData=e,__reflect(e.prototype,"FaBaoHelp.ActData")}(FaBaoHelp||(FaBaoHelp={}));var C13=function(){function t(){}return t.A4=10001,t.A3=10002,t.A1=10003,t.A2=10004,t}();__reflect(C13.prototype,"C13");var TA39=function(i){function t(){var t=i.call(this)||this,e=new TB92(t);return e.aLV(O7.E26),e.aLV(O7.D12),e.aLV(O7.I64),App.VM.register(O7.E26,"FestivalLoginView",t,K17.UI_Main),t.rgF(C13.A4,t.GE12,t),t.rgF(C13.A3,t.GD15,t),t.festivalLoginProxy=new TB93(t),t.rgF(C13.A1,t.GA51,t),t.rgF(C13.A2,t.GA52,t),t}return __extends(t,i),t.prototype.GA51=function(t){this.festivalLoginProxy.GA51(t)},t.prototype.GA52=function(t){if(200==t.head.state){var e=t.body,i=this.gtM();i.ZC13(e),i.notify(),P5.sIs(t.body.ob)}else App.CM.apF(O6.B87,L10.A4,t)},t.prototype.GE12=function(){App.VM.open(O7.E26);var t=App.CM.gtM(O6.A48);t.firstLoginRedNum=0,t.notify()},t.prototype.GD15=function(){App.VM.close(O7.HH54)},t}(TE11);__reflect(TA39.prototype,"TA39");var TB92=function(i){function t(t){var e=i.call(this,t)||this;return e.openState=!1,e.redNum=0,e.firstLoginRedNum=0,e}return __extends(t,i),t.prototype.ZC13=function(t){t&&(null!=this.actData?this.actData.updateData(t):(this.actData=new FestivalLoginData(t),this.tips=this.actData.tips),this.updateRed())},t.prototype.updateRed=function(){this.redNum=this.FL35()},t.prototype.FL35=function(){var t=0;t+=this.firstLoginRedNum;var e=this.actData.festivalLoginConfVo;for(var i in e)if(e[i].getState==J13.A3){t+=1;break}return t},t.prototype.notify=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];i.prototype.notifyView.call(this,this,t)},t}(TG79);__reflect(TB92.prototype,"TB92");var TB93=function(i){function t(t){var e=i.call(this,t)||this;return e.rSM(P4.B24,e.GA52,e),e}return __extends(t,i),t.prototype.GA51=function(t){var e={type:P4.B23,body:{index:t}};this.sSM(e)},t.prototype.GA52=function(t){this.apF(C13.A2,t)},t}(TG80);__reflect(TB93.prototype,"TB93");var TC40=function(){};__reflect(TC40.prototype,"TC40");var FestivalLoginView=function(s){function t(t,e){var i=s.call(this,t,e)||this;return i.sGN("release_act1033"),i.skinName=DiscountShopSkin,i}return __extends(t,s),t.prototype.initUI=function(){s.prototype.initUI.call(this),this.imgBg.source="v1_bg_qumindaofl9_jpg";var t={render:FestivalLoginItemView,gap:5,width:this.listGroup.width,height:this.listGroup.height,arrowScale:1};this.listView=new CommonListBase(t),this.listGroup.addChild(this.listView),this.listView.verticalCenter=0,this.listView.horizontalCenter=0},t.prototype.open=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];s.prototype.open.call(this),this.listView.open()},t.prototype.uBM=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];s.prototype.uBM.call(this,t,e),t instanceof TB92&&this.ZA71(t)},t.prototype.ZA71=function(t){if(this.actData=t.actData,null==this.timerHandler)if(0<this.actData.rs){this.leftCD=this.actData.ZHH64();var e=O3.tr(3253,P6.FJ11(1e3*this.leftCD,5));this.leftCdLb.textFlow=M18.HTP.parser(e),this.timerHandler=App.K16.doTimer(1e3,this.leftCD,this.GY14,this)}else this.leftCdLb.text="";var i=this.actData.festivalLoginConfVo;this.listView.rfL(i)},t.prototype.GY14=function(){this.leftCD--;var t=O3.tr(3253,P6.FJ11(1e3*this.leftCD,5));this.leftCdLb.textFlow=M18.HTP.parser(t),this.leftCD<=0&&(this.cTH(),this.leftCdLb.text="")},t.prototype.cTH=function(){null!=this.timerHandler&&(App.K16.rBH(this.timerHandler),this.timerHandler=null)},t.prototype.close=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];s.prototype.close.call(this),this.cTH(),this.listView.close()},t}(BaseEuiView);__reflect(FestivalLoginView.prototype,"FestivalLoginView");var FestivalLoginItemView=function(i){function t(){var t=i.call(this)||this;return t.skinName=ChapterBreakItemSkin,t.addEventListener(egret.Event.ADDED_TO_STAGE,t.open,t),t.addEventListener(egret.Event.REMOVED_FROM_STAGE,t.close,t),t}return __extends(t,i),t.prototype.open=function(){this.getBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickBtn,this)},t.prototype.close=function(){this.getBtn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickBtn,this),this.dataSource.removeAll()},t.prototype.childrenCreated=function(){i.prototype.createChildren.call(this),this.initUI()},t.prototype.initUI=function(){this.listContent.itemRenderer=ItemIcon,this.dataSource=new eui.ArrayCollection,this.listContent.dataProvider=this.dataSource,this.awardsSc.viewport=this.listContent,this.awardsSc.scrollPolicyH=eui.ScrollPolicy.OFF,this.awardsSc.scrollPolicyV=eui.ScrollPolicy.OFF,this.getBtn.labelDisplay.text=O3.tr(3232)},t.prototype.dataChanged=function(){i.prototype.dataChanged.call(this);var t=App.CM.gtM(O6.A48),e=P7.FB45(this.data.day);this.titleLb.text=O3.tr(3296,e),this.titleBgImg.width=this.titleLb.width+55,this.ZJ81(this.data.awd),P7.FD53(this.getBtn,0),this.data.getState==J13.A2?(this.getBtn.$setVisible(!1),this.tomorrowImg.$setVisible(!1),this.getImg.$setVisible(!0)):(this.getImg.$setVisible(!1),this.data.day==t.actData.openDay+1?(this.getBtn.$setVisible(!1),this.tomorrowImg.$setVisible(!0)):(this.getBtn.$setVisible(!0),this.tomorrowImg.$setVisible(!1),this.data.getState==J13.A3?(P16.sGF(this.getBtn,!1),this.getBtn.$setEnabled(!0),P7.FD53(this.getBtn,1)):(P16.sGF(this.getBtn,!0),this.getBtn.$setEnabled(!1))))},t.prototype.ZJ81=function(t){var e=[];for(var i in t){var s={itemData:{data:N12.gID(t[i].k),ct:t[i].v},isBottom:!1};e.push(s)}this.dataSource.replaceAll(e)},t.prototype.onClickBtn=function(){this.data.getState==J13.A3&&App.CM.apF(O6.A48,C13.A1,this.data.id)},t}(eui.ItemRenderer);__reflect(FestivalLoginItemView.prototype,"FestivalLoginItemView");var FestivalLoginConfVo=function(){function t(t){this.getState=J13.A1,this.initData(t)}return t.prototype.initData=function(t){t&&(this.id=t.index,this.day=t.unlockDay,this.awd=t.award)},t}();__reflect(FestivalLoginConfVo.prototype,"FestivalLoginConfVo");var FestivalLoginData=function(i){function t(t){var e=i.call(this,t)||this;return e.festivalLoginConfVo=[],e.hasGotList=[],e.openDay=0,e.updateData(t),e}return __extends(t,i),t.prototype.updateData=function(t){if(t){if(this.hasGotList=t.yaw||this.hasGotList,this.openDay=null==t.days?this.openDay:t.days,t.confs){null!=this.festivalLoginConfVo&&0<this.festivalLoginConfVo.length&&this.festivalLoginConfVo.splice(0,this.festivalLoginConfVo.length),this.festivalLoginConfVo=[];for(var e=0;e<t.confs.length;e++){var i=new FestivalLoginConfVo(t.confs[e]);this.festivalLoginConfVo.push(i)}}if(0<this.hasGotList.length)for(var e in this.festivalLoginConfVo)for(var s in this.hasGotList)this.festivalLoginConfVo[e].id==this.hasGotList[s]&&(this.festivalLoginConfVo[e].getState=J13.A2);for(var s in this.festivalLoginConfVo){var o=this.festivalLoginConfVo[s];this.openDay>=o.day&&o.getState!=J13.A2&&(this.festivalLoginConfVo[s].getState=J13.A3)}this.festivalLoginConfVo.sort(function(t,e){return t.getState==e.getState?t.id-e.id:t.getState-e.getState}),this.ZU63(t)}},t}(ActivityVo);__reflect(FestivalLoginData.prototype,"FestivalLoginData");var D15=function(){function t(){}return t.A4=10001,t.A3=10002,t.A1=10003,t.A2=10004,t}();__reflect(D15.prototype,"D15");var TA55=function(i){function t(){var t=i.call(this)||this,e=new TC41(t);return e.aLV(O7.F19),e.aLV(O7.C32),e.aLV(O7.I64),App.VM.register(O7.F19,"FestivalShopView",t,K17.UI_Main),t.rgF(D15.A4,t.GF5,t),t.rgF(D15.A3,t.GE13,t),t.festivalShopProxy=new TC42(t),t.rgF(D15.A1,t.GA20,t),t.rgF(D15.A2,t.GA21,t),t}return __extends(t,i),t.prototype.GA20=function(t,e){this.festivalShopProxy.GA20(t,e)},t.prototype.GA21=function(t){if(200==t.head.state){var e=t.body,i=this.gtM();i.ZC13(e),i.notify(),P5.sIs(t.body.ob)}else 215==t.head.state?P7.FA78():App.CM.apF(O6.B87,L10.A4,t)},t.prototype.GF5=function(){App.VM.open(O7.F19);var t=App.CM.gtM(O6.A66);t.firstLoginRedNum=0,t.notify()},t.prototype.GE13=function(){App.VM.close(O7.F19)},t}(TE11);__reflect(TA55.prototype,"TA55");var TC41=function(i){function t(t){var e=i.call(this,t)||this;return e.openState=!1,e.redNum=0,e.firstLoginRedNum=0,e}return __extends(t,i),t.prototype.ZC13=function(t){t&&(null!=this.actData?this.actData.updateData(t):(this.actData=new FestivalShopData(t),this.tips=this.actData.tips),this.updateRed())},t.prototype.updateRed=function(){this.redNum=this.FL35()},t.prototype.FL35=function(){var t=0;return t+=this.firstLoginRedNum},t.prototype.notify=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];i.prototype.notifyView.apply(this,[this].concat(t))},t}(TG79);__reflect(TC41.prototype,"TC41");var TC42=function(i){function t(t){var e=i.call(this,t)||this;return e.rSM(P4.A59,e.GA21,e),e}return __extends(t,i),t.prototype.GA20=function(t,e){var i={type:P4.A58,body:{index:t,num:e}};this.sSM(i)},t.prototype.GA21=function(t){this.apF(D15.A2,t)},t}(TG80);__reflect(TC42.prototype,"TC42");var TD5=function(){function t(){}return t.hasSkin=function(t,e){if(App.TG81.inRange(65200,65249,t)&&THH23.isActivityWomenByItemId(t))return!0;if(e){if(App.CM.gtM(O6.C11).has(t))return!0;for(var i=0,s=e?e.split(",").map(function(t){return parseInt(t)}):[];i<s.length;i++){var o=s[i];if(THH28.haveSkin(o))return!0}}return!1},t}();__reflect(TD5.prototype,"TD5");var FestivalShopView=function(s){function t(t,e){var i=s.call(this,t,e)||this;return i.listData=[],i.skinName="MysticalShopSkin",i}return __extends(t,s),t.prototype.initUI=function(){s.prototype.initUI.call(this),this.createList(),this.resetLb.textFlow=M18.HTP.parse(O3.tr(5758))},t.prototype.createList=function(){var t={render:FestivalItem,width:this.listGroup.width,height:this.listGroup.height,arrowScale:1,tileLayout:!0,verticalGap:10,horizontalGap:10};this.listView=new CommonListBase(t),this.listGroup.addChild(this.listView),this.listView.verticalCenter=0,this.listView.horizontalCenter=0},t.prototype.updateList=function(){this.listData=this.actData.confVo,this.listView.rfL(this.listData)},t.prototype.open=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];s.prototype.open.call(this),this.listView.open();var i=App.CM.gtM(O6.A66);this.ZA88(i)},t.prototype.uBM=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];s.prototype.uBM.call(this,t,e),t instanceof TC41&&this.ZA88(t)},t.prototype.ZA88=function(t){if(this.actData=t.actData,this.updateList(),null==this.timerHandler)if(0<this.actData.rs){this.leftCD=this.actData.ZHH64();var e=O3.tr(3253,P6.FJ11(1e3*this.leftCD,5));this.leftCdLb.textFlow=(new egret.HtmlTextParser).parse(e),this.timerHandler=App.K16.doTimer(1e3,this.leftCD,this.GY14,this)}else this.leftCdLb.text=""},t.prototype.GY14=function(){this.leftCD--;var t=O3.tr(3253,P6.FJ11(1e3*this.leftCD,5));this.leftCdLb.textFlow=(new egret.HtmlTextParser).parse(t),this.leftCD<=0&&(this.cTH(),this.leftCdLb.text="")},t.prototype.cTH=function(){null!=this.timerHandler&&(App.K16.rBH(this.timerHandler),this.timerHandler=null)},t.prototype.close=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];s.prototype.close.call(this),this.cTH(),this.listView.close()},t}(BaseEuiView);__reflect(FestivalShopView.prototype,"FestivalShopView");var FestivalItem=function(e){function t(){var t=e.call(this)||this;return t.skinName="MysticalShopItemSkin",t.addEventListener(egret.Event.ADDED_TO_STAGE,t.open,t),t.addEventListener(egret.Event.REMOVED_FROM_STAGE,t.close,t),t}return __extends(t,e),t.prototype.open=function(){this.buyBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.clickBuy,this)},t.prototype.close=function(){this.buyBtn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.clickBuy,this)},t.prototype.childrenCreated=function(){e.prototype.createChildren.call(this),this.initUI()},t.prototype.hasSkin=function(t,e){return TD5.hasSkin(t,e)},t.prototype.initUI=function(){App.CM.gtM(O6.A66).actData;this.itemIcon=new ItemIcon,this.iconGp.addChild(this.itemIcon),this.lblyuanjia.textFlow=M18.HTP.parse(O3.tr(3823)),this.lblxianjia.textFlow=M18.HTP.parse(O3.tr(3825))},t.prototype.dataChanged=function(){var t=this.data.itemData.data,e=t.name,i=t.quality,s=t.skinid,o=t.id;this.nameLb.text=e,O5.FB13(this.nameLb,e,i),this.discountLb.text=O3.tr(3254,this.data.discount),this.limitBuyLb.text=O3.tr(3255,this.data.hasBuy,this.data.limitBuy),this.oldPriceLb.textFlow=M18.HTP.parse(O3.tr(3824,this.data.oldPrice)),this.nowPriceLb.textFlow=M18.HTP.parse(O3.tr(3826,this.data.nowPrice));var r={itemData:this.data.itemData,isBottom:!1};this.itemIcon.data=r,this.data.hasBuy>=this.data.limitBuy?(P16.sGF(this.buyBtn,!0),this.buyBtn.$setEnabled(!1),this.buyBtn.label=O3.tr(3295)):!App.TG81.inRange(66900,66999,parseInt(o),!0)&&this.hasSkin(o,s)?(P16.sGF(this.buyBtn,!0),this.buyBtn.$setEnabled(!1),this.buyBtn.label=O3.tr(3827)):(P16.sGF(this.buyBtn,!1),this.buyBtn.$setEnabled(!0),this.buyBtn.label=O3.tr(3294)),this.notResetImg.$setVisible(0==this.data.reset)},t.prototype.clickBuy=function(){var t={};t.controllerConst=O6.A66,t.reqConst=D15.A1,t.id=this.data.index;var e=this.data.commodity.k,i=this.data.commodity.v;t.itemname=N12.FK5(e),t.bg=N12.FL5(e),t.icon=N12.FJ86(e),t.itemid=Number(e),t.itemnum=Number(i);var s=N12.gID(e);t.desc=s.desc;var o=pack.I11.GOLD,r=this.data.nowPrice;t.costIcon=N12.FJ86(o),t.costNum=Number(r),t.costId=Number(o),t.cost="x"+r,t.limitnum=this.data.limitBuy,t.batchnum=this.data.limitBuy,t.buyTime=this.data.hasBuy,this.data.hasBuy<this.data.limitBuy?(t.soldout=0,t.txt=O3.tr(2508,this.data.hasBuy,this.data.limitBuy),App.VM.open(O7.I45,t)):P18.sDP(O3.tr(5649)),TG40.playClickEffect()},t}(eui.ItemRenderer);__reflect(FestivalItem.prototype,"FestivalItem");var FestivalShopConfVo=function(){function t(t){this.hasBuy=0,this.initData(t)}return t.prototype.initData=function(t){if(t){this.index=t.index,this.oldPrice=t.originalPrice,this.nowPrice=t.presentPrice,this.discount=t.discount,this.limitBuy=t.limit,this.reset=t.reset,this.commodity=t.commodity;var e=N12.gID(String(this.commodity.k));this.itemData={data:e,ct:this.commodity.v}}},t}();__reflect(FestivalShopConfVo.prototype,"FestivalShopConfVo");var FestivalShopData=function(i){function t(t){var e=i.call(this,t)||this;return e.updateData(t),e}return __extends(t,i),t.prototype.updateData=function(t){if(t){if(this.hasBuyList=t.rb||this.hasBuyList,t.confs){null!=this.confVo&&0<this.confVo.length&&this.confVo.splice(0,this.confVo.length),this.confVo=[];for(var e=0;e<t.confs.length;e++){var i=new FestivalShopConfVo(t.confs[e]);this.confVo.push(i)}}if(null!=t.rb)for(e=0;e<this.confVo.length;e++)this.confVo[e].hasBuy=0;if(0<this.hasBuyList.length)for(e=0;e<this.hasBuyList.length;e++)for(var s=0;s<this.confVo.length;s++)if(this.confVo[s].index==this.hasBuyList[e].k){this.confVo[s].hasBuy=this.hasBuyList[e].v;break}this.ZU63(t)}},t}(ActivityVo);__reflect(FestivalShopData.prototype,"FestivalShopData");var A4=function(){function t(){}return t.A4=0,t.A3=1,t.A1=2,t.A2=3,t}();__reflect(A4.prototype,"A4");var TA3=function(i){function t(){var t=i.call(this)||this,e=new TA20(t);return e.aLV(O7.A40),e.aLV(O7.C32),e.aLV(O7.I64),App.VM.register(O7.A40,"FirstRechargeGrouponView",t,K17.UI_Main),t.rgF(A4.A4,t.GA33,t),t.rgF(A4.A3,t.GA22,t),t.firstRechargeGrouponProxy=new TA21(t),t.rgF(A4.A1,t.GA6,t),t.rgF(A4.A2,t.GA7,t),t}return __extends(t,i),t.prototype.GA6=function(t,e){this.firstRechargeGrouponProxy.ZA7(t,e)},t.prototype.GA7=function(t){if(200==t.head.state){var e=t.body,i=this.gtM();i.ZC13(e),i.notify(),t.body.ob&&P5.sIs(t.body.ob)}else App.CM.apF(O6.B87,L10.A4,t)},t.prototype.GA33=function(t){App.VM.open(O7.A40,t);var e=App.CM.gtM(O6.A3);e.firstLoginRedNum=0,e.notify()},t.prototype.GA22=function(){App.VM.close(O7.A40)},t}(TE11);__reflect(TA3.prototype,"TA3");var TA20=function(i){function t(t){var e=i.call(this,t)||this;return e.openState=!1,e.redNum=0,e.firstLoginRedNum=0,e}return __extends(t,i),t.prototype.ZC13=function(t){t&&(null!=this.firstRechargeGrouponData?this.firstRechargeGrouponData.updateData(t):(this.firstRechargeGrouponData=new FirstRechargeGrouponData(t),this.tips=this.firstRechargeGrouponData.tips),this.updateRed())},t.prototype.updateRed=function(){this.redNum=this.FL35()},t.prototype.FL35=function(){var t=0;t+=this.firstLoginRedNum;this.firstRechargeGrouponData;var e=this.firstRechargeGrouponData.confs;for(var i in e){var s=e[i].awards;for(var o in s)if(s[o].getState==J13.A3)return t+=1}return t},t.prototype.notify=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];i.prototype.notifyView.apply(this,[this].concat(t))},t}(TG79);__reflect(TA20.prototype,"TA20");var TA21=function(i){function t(t){var e=i.call(this,t)||this;return e.rSM(P4.A13,e.ZA8,e),e}return __extends(t,i),t.prototype.ZA7=function(t,e){var i={type:P4.A12,body:{gid:t,awId:e}};this.sSM(i)},t.prototype.ZA8=function(t){this.apF(A4.A2,t)},t}(TG80);__reflect(TA21.prototype,"TA21");var TA27=function(){function t(){}return t.FF70=function(){var t=[],e=App.CM.gtM(O6.A3).firstRechargeGrouponData.confs;for(var i in e){var s=e[i];t.push(O3.tr(5837,s.people))}return t},t.FF71=function(){var t=[],e=App.CM.gtM(O6.A3).firstRechargeGrouponData.confs;for(var i in e)t.push(e[i].gid);return t},t.FD64=function(t){var e=new Array,i=App.CM.gtM(O6.A3),s=i.firstRechargeGrouponData,o=i.firstRechargeGrouponData.confs;for(var r in o){var n=o[r];if(n.gid==t){var a=n.awards;for(var h in a){var p={};p.awId=a[h].awId,p.gid=n.gid,p.people=n.people,p.money=n.money,p.np=s.np,p.getState=a[h].getState,p.rewards=a[h].award,e.push(p)}}}return e},t.gtM=function(){return App.CM.gtM(O6.A3)},t}();__reflect(TA27.prototype,"TA27");var FirstRechargeGrouponItemsView=function(e){function t(){var t=e.call(this)||this;return t.skinName=FirstRechargeGrouponItemSkin,t.addEventListener(egret.Event.ADDED_TO_STAGE,t.open,t),t.addEventListener(egret.Event.REMOVED_FROM_STAGE,t.close,t),t}return __extends(t,e),t.prototype.open=function(){this.getBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.ZU29,this)},t.prototype.close=function(){this.getBtn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.ZU29,this),this.dataSource.removeAll()},t.prototype.childrenCreated=function(){e.prototype.createChildren.call(this),this.initUI()},t.prototype.initUI=function(){this.listContent.itemRenderer=ItemIcon,this.dataSource=new eui.ArrayCollection,this.listContent.dataProvider=this.dataSource,this.awardsSc.viewport=this.listContent,this.awardsSc.scrollPolicyH=eui.ScrollPolicy.OFF,this.awardsSc.scrollPolicyV=eui.ScrollPolicy.OFF,this.getImg.$setVisible(!1)},t.prototype.dataChanged=function(){e.prototype.dataChanged.call(this),this.titleLb.textFlow=M18.HTP.parse(O3.tr(3772,"("+this.data.np+"/"+this.data.people+")")),this.titleBgImg.width=this.titleLb.width+55,this.getBtn.imgNew.visible=!1,this.data.getState==J13.A1?(this.getBtn.bgStr="v1_btn_green_1_png",this.getBtn.label=O3.tr(3235),this.getBtn.$setVisible(!0),this.getImg.$setVisible(!1)):this.data.getState==J13.A3?(this.getBtn.colour=_ccBtn.brown,this.getBtn.bgStr="v1_btn_yellow_1_png",this.getBtn.label=O3.tr(3232),this.getBtn.$setVisible(!0),this.getImg.$setVisible(!1),this.getBtn.imgNew.visible=!0):(this.getBtn.$setVisible(!1),this.getImg.$setVisible(!0)),this.conditionLb.textFlow=M18.HTP.parse(this.ZM85(this.data.awId)),this.ZJ81(this.data.rewards)},t.prototype.ZM85=function(t){switch(this.data.awId%3){case 1:return O3.tr(3273,this.data.people);case 2:return O3.tr(3274,this.data.people);case 0:return O3.tr(3275,this.data.people,this.data.money)}return""},t.prototype.ZJ81=function(t){var e=[];if(0<t.length){var i={itemData:{data:N12.gID(t[0].k),ct:t[0].v},isBottom:!1};e.push(i)}this.dataSource.replaceAll(e)},t.prototype.ZU29=function(){this.data.getState==J13.A1?App.CM.apF(O6.C29,P8.A7):this.data.getState==J13.A3&&App.CM.apF(O6.A3,A4.A1,this.data.gid,this.data.awId)},t}(eui.ItemRenderer);__reflect(FirstRechargeGrouponItemsView.prototype,"FirstRechargeGrouponItemsView");var FirstRechargeGrouponView=function(s){function t(t,e){var i=s.call(this,t,e)||this;return i.views=[],i.sGN("release_act1010"),i.skinName=FirstRechargeGrouponSkin,i}return __extends(t,s),t.prototype.initUI=function(){s.prototype.initUI.call(this);var t={render:FirstRechargeGrouponItemsView,gap:5,width:this.listGroup.width,height:this.listGroup.height,arrowScale:1};this.listView=new CommonListBase(t),this.listGroup.addChild(this.listView),this.listView.verticalCenter=0,this.listView.horizontalCenter=0;var e=TA27.FF70();this.views=TA27.FF71(),this.btnList=new ButtonList(e,this.views,this.ZQ23.bind(this)),this.btnList.init(BtnTab,F4.A1),this.btnList.setListGap(-10),this.btnList.$setY(-6),this.btnList.setBtnScale(.9),this.btnList.$setWidth(this.btnGroup.width),this.btnGroup.addChild(this.btnList),this.goBtn.label=O3.tr(3771)},t.prototype.ZQ23=function(t){var e=TA27.FD64(t);this.listView.rfL(e),this.btnList.setCurView(t),this.ZHH67()},t.prototype.ZHH67=function(){var t=TA27.gtM().firstRechargeGrouponData.confs;for(var e in t){var i=t[e],s=i.awards;for(var o in s){if(s[o].getState==J13.A3){this.btnList.ZHH58(i.gid,1);break}this.btnList.ZHH58(i.gid,0)}}},t.prototype.open=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];s.prototype.open.call(this),this.listView.open(),this.goBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickGoBtn,this),this.btnList.setCurView(this.views[0]),this.GX5()},t.prototype.uBM=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];s.prototype.uBM.call(this,t,e),t instanceof TA20&&this.GX5()},t.prototype.GX5=function(){var t=TA27.gtM();if(t.openState){this.ZQ23(this.btnList.getCurView());var e=O3.tr(3306,t.firstRechargeGrouponData.money.toString());this.missionLb.textFlow=M18.HTP.parser(e),this.leftCD=t.firstRechargeGrouponData.ZHH64();var i=O3.tr(3253,P6.FJ11(1e3*this.leftCD,5));this.cdLb.textFlow=M18.HTP.parser(i),this._timerHandler=App.K16.doTimer(1e3,this.leftCD,this.GY14,this)}},t.prototype.GY14=function(){this.leftCD--;var t=O3.tr(3253,P6.FJ11(1e3*this.leftCD,5));this.cdLb.textFlow=M18.HTP.parser(t),this.leftCD<=0&&(this.cTH(),this.cdLb.text="")},t.prototype.cTH=function(){null!=this._timerHandler&&(App.K16.rBH(this._timerHandler),this._timerHandler=null)},t.prototype.close=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];s.prototype.close.call(this),this.cTH(),this.goBtn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickGoBtn,this),this.listView.close()},t.prototype.onClickGoBtn=function(){App.CM.apF(O6.C29,P8.A7)},t}(BaseEuiView);__reflect(FirstRechargeGrouponView.prototype,"FirstRechargeGrouponView");var FirstRechargeGrouponAwardVo=function(t){this.getState=J13.A1,t&&(this.awId=t.k,this.award=t.v)};__reflect(FirstRechargeGrouponAwardVo.prototype,"FirstRechargeGrouponAwardVo");var FirstRechargeGrouponConfVo=function(t){if(t)for(var e in this.gid=t.gid,this.people=t.people,this.money=t.money,this.awards=[],t.award)this.awards.push(new FirstRechargeGrouponAwardVo(t.award[e]))};__reflect(FirstRechargeGrouponConfVo.prototype,"FirstRechargeGrouponConfVo");var FirstRechargeGrouponData=function(i){function t(t){var e=i.call(this,t)||this;return e.confs=[],e.money=0,e.np=0,e.yaw=[],e.updateData(t),e}return __extends(t,i),t.prototype.updateData=function(t){if(t){if(this.yaw=t.yaw||this.yaw,this.money=null!=t.money?t.money:this.money,this.np=null!=t.np?t.np:this.np,t.confs){var e=t.confs;for(var i in this.confs=[],e){var s=new FirstRechargeGrouponConfVo(e[i]);this.confs.push(s)}}for(var i in this.confs.sort(function(t,e){return t.gid-e.gid}),this.confs){e=this.confs[i];var o=this.confs[i].awards;for(var r in o){if(o[r].getState=J13.A1,0<this.yaw.length)for(var n in this.yaw)if(o[r].awId==this.yaw[n]){o[r].getState=J13.A2;break}switch(o[r].awId%3){case 1:this.np>=e.people&&o[r].getState!=J13.A2&&(o[r].getState=J13.A3);break;case 2:this.np>=e.people&&0<this.money&&o[r].getState!=J13.A2&&(o[r].getState=J13.A3);break;case 0:this.np>=e.people&&this.money>=e.money&&o[r].getState!=J13.A2&&(o[r].getState=J13.A3)}}}}},t}(ActivityVo);__reflect(FirstRechargeGrouponData.prototype,"FirstRechargeGrouponData");var K11=function(){function t(){}return t.A1=10001,t.A2=10002,t.A8=10003,t.A7=10004,t.A6=10005,t.A5=10006,t.A4=10007,t.A3=10008,t}();__reflect(K11.prototype,"K11");var TC43=function(i){function t(){var t=i.call(this)||this,e=new TA82(t);return e.aLV(O7.B88),e.aLV(O7.G17),e.aLV(O7.D41),e.aLV(O7.I64),App.VM.register(O7.B88,"FortuneTurntableView",t,K17.UI_Main),t.rgF(K11.A8,t.GO18,t),t.rgF(K11.A7,t.GM17,t),t.proxy=new TF60(t),t.rgF(K11.A1,t.huntReq,t),t.rgF(K11.A2,t.huntRes,t),App.VM.register(O7.D41,"FortuneRewardView",t,K17.UI_Popup),t.rgF(K11.A4,t.GD16,t),t.rgF(K11.A3,t.GC23,t),App.VM.register(O7.G17,"FortuneDescView",t,K17.UI_Popup),t.rgF(K11.A6,t.GG63,t),t.rgF(K11.A5,t.GF6,t),t}return __extends(t,i),t.prototype.huntReq=function(t){this.proxy.huntReq(t)},t.prototype.huntRes=function(t){var e=this.gtM();if(200!=t.head.state)return App.CM.apF(O6.B87,L10.A4,t),e.moving=!1,void(e.isTween=!0);e.ZC13(t.body),e.notify(P4.E75,t.body)},t.prototype.GR93=function(t){if(200==t.head.state){var e=this.gtM();e.ZC13(t.body),e.notify(P4.N58,t.body)}else App.CM.apF(O6.B87,L10.A4,t)},t.prototype.GG63=function(){App.VM.open(O7.G17)},t.prototype.GF6=function(){App.VM.close(O7.G17)},t.prototype.GD16=function(t){App.VM.open(O7.D41,t)},t.prototype.GC23=function(){App.VM.close(O7.D41)},t.prototype.GO18=function(t){App.VM.open(O7.B88,t);var e=App.CM.gtM(O6.A17);e.firstLoginRedNum=0,e.notify()},t.prototype.GM17=function(){App.VM.close(O7.B88)},t}(TE11);__reflect(TC43.prototype,"TC43");var TF60=function(e){function t(t){return e.call(this,t)||this}return __extends(t,e),t.prototype.huntReq=function(t){var e={type:P4.E74,body:t};this.rSMO(P4.E75,this.huntRes,this),this.sSM(e)},t.prototype.huntRes=function(t){this.apF(K11.A2,t)},t}(TG80);__reflect(TF60.prototype,"TF60");var TA82=function(i){function t(t){var e=i.call(this,t)||this;return e.openState=!1,e.redNum=0,e.openRemind=!1,e.firstLoginRedNum=0,e}return __extends(t,i),t.prototype.ZC13=function(t){t&&(null!=this.actData?this.actData.updateData(t):(this.actData=new FortuneData(t),this.tips=this.actData.tips),this.updateRed())},t.prototype.updateRed=function(){this.redNum=this.FL35()},t.prototype.ZJ86=function(){var t=O4.getLv(),e=I8.init.pictureLevel.value,i=parseInt(M18.FL28(e,":")[0]),s=parseInt(M18.FL28(e,":")[1]);i<=t&&t<=s&&1==this.openState&&0<this.firstLoginRedNum?this.openRemind=!0:this.openRemind=!1},t.prototype.FL35=function(){var t=0;return t+=this.firstLoginRedNum},t.prototype.notify=function(t,e){void 0===t&&(t=void 0),void 0===e&&(e=void 0),i.prototype.notifyView.call(this,this,t,e)},t}(TG79);__reflect(TA82.prototype,"TA82");var FortuneDescView=function(s){function t(t,e){var i=s.call(this,t,e)||this;return i.skinName="DialDescSkin",i}return __extends(t,s),t.prototype.initUI=function(){s.prototype.initUI.call(this),this.lbStr1.textFlow=M18.HTP.parse(O3.tr(5187))},t.prototype.open=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];s.prototype.open.call(this),this.bgMask.addEventListener(egret.TouchEvent.TOUCH_TAP,this.closeSelf,this);var i=App.CM.gtM(O6.A17);this.ZE66(i)},t.prototype.uBM=function(t){s.prototype.uBM.call(this,t),t instanceof TA82&&this.ZE66(t)},t.prototype.initLb=function(t,e,i){for(var s=i.split(";"),o="",r="",n=0;n<s.length;n++){var a=s[n],h=a.split(":")[0],p=a.split(":")[1];o+=h+"\n",r+=O3.tr(5186)+THH24.FG77(p)+"\n"}o=o.substring(0,o.length-1),r=r.substring(0,r.length-1),t.$setText(o),e.$setText(r)},t.prototype.ZE66=function(t){this.lbTitle1.$setText(""),this.lbTitle2.$setText(""),this.lb1.text="",this.lb2.text="",this.lb3.text="",this.lb4.text="";for(var e=t.actData.desc.split("|"),i=0;i<e.length;i++){var s=e[i],o=Number(s.split(",")[0]),r=s.split(",")[1];2==o?(this.lbTitle1.$setText(O3.tr(4935)),this.initLb(this.lb1,this.lb2,r)):1==o&&(this.lbTitle2.$setText(O3.tr(4934)),this.initLb(this.lb3,this.lb4,r))}this.lbTitle1.parent.includeInLayout=""!=this.lbTitle1.text,this.lb1.parent.includeInLayout=""!=this.lb1.text},t.prototype.close=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];s.prototype.close.call(this),this.bgMask.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.closeSelf,this)},t.prototype.closeSelf=function(){this.apF(O19.A7)},t}(BaseEuiView);__reflect(FortuneDescView.prototype,"FortuneDescView");var FortuneRewardView=function(s){function t(t,e){var i=s.call(this,t,e)||this;return i.closeCD=10,i.confList=[],i.skinName=DialRewardSkin,i}return __extends(t,s),t.prototype.initUI=function(){s.prototype.initUI.call(this),this.dgRewards.dataProvider=this.rewardsCollection=new eui.ArrayCollection,this.dgRewards.itemRenderer=ItemIcon,this.btnOk.label=O3.tr(4249),this.lbBtn1.text=O3.tr(3809),this.lbBtn2.text=O3.tr(3809)},t.prototype.open=function(t){this.params=t,this.grplucky1.visible=!1,this.grplucky2.visible=!1,this.bgMask.addEventListener(egret.TouchEvent.TOUCH_TAP,this.closeSelf,this),this.btnOk.addEventListener(egret.TouchEvent.TOUCH_TAP,this.closeSelf,this),this.updateViews()},t.prototype.close=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];s.prototype.close.call(this),this.bRegSkipTimer=!1,this.bgMask.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.closeSelf,this),this.btnOk.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.closeSelf,this),1==this.buyItem1.visible&&this.btn1.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.ZU36,this),1==this.buyItem2.visible&&this.btn2.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.ZU37,this),App.K16.remove(this.ZU23,this),this.rewardsCollection.removeAll()},t.prototype.updateViews=function(){this.ZJ83(),this.ZU24(),this.updateBuyBtn()},t.prototype.updateBuyBtn=function(){this.buyItem1.$setVisible(!1),this.buyItem2.$setVisible(!1);for(var t=App.CM.gtM(O6.A17).actData.FD69(this.params.t),e=2<(this.confList=t).length?2:t.length,i=0;i<e;i++){var s=t[i];this.ZHH68(i,s)}1==e?(this.buyItem1.$setVisible(!0),this.buyItem2.$setVisible(!1)):2==e&&(this.buyItem1.$setVisible(!0),this.buyItem2.$setVisible(!0))},t.prototype.ZHH68=function(t,e){0==t?(this.imgItem1.source=N12.FJ86(e.itemId),this.lbMoney1.$setText(e.itemNum),this.btn1.addEventListener(egret.TouchEvent.TOUCH_TAP,this.ZU36,this),this.btn1.label=this.getBtnLabel(Number(e.id)),this.lbBuy1.visible=!1,2==Number(e.id)?this.FM13(this.btn1,O3.tr(3810)):this.FM13(this.btn1,O3.tr(3811))):1==t&&(this.imgItem2.source=N12.FJ86(e.itemId),this.lbMoney2.$setText(e.itemNum),this.btn2.addEventListener(egret.TouchEvent.TOUCH_TAP,this.ZU37,this),this.btn2.label=this.getBtnLabel(Number(e.id)),this.lbBuy2.visible=!1,2==Number(e.id)?this.FM13(this.btn2,O3.tr(4932)):this.FM13(this.btn2,O3.tr(4933)))},t.prototype.FM13=function(t,e){t.size=e?(t.label2=e,t.labelY="12","22"):(t.label2="",t.labelY="0","24")},t.prototype.getBtnLabel=function(t){return 1==t?O3.tr(3213):2==t?O3.tr(3214):3==t?O3.tr(3215):""},t.prototype.ZU36=function(){var t=this.confList[0];this.click(t)},t.prototype.ZU37=function(){var t=this.confList[1];this.click(t)},t.prototype.ZM77=function(){App.CM.gtM(O6.A17).moving=!0},t.prototype.click=function(t){if(1!=App.CM.gtM(O6.A17).moving)if(N12.giC(Number(t.itemId))<Number(t.itemNum))P7.FA78();else if(P7.FF59()){if(this.closeSelf(!1),this.params.id==F7.A17){var e={type:t.id};App.CM.apF(O6.A17,K11.A1,e)}this.ZM77()}},t.prototype.ZJ83=function(){this.closeCD=10,this.ZU23(),this.bRegSkipTimer||(this.bRegSkipTimer=!0,App.K16.doTimer(1e3,this.closeCD,this.ZU23,this))},t.prototype.ZU23=function(){this.closeCD--,this.closeCD<=0?this.closeSelf(!0):this.lbTime.textFlow=M18.HTP.parser(O3.tr(6435,this.closeCD))},t.prototype.ZU24=function(){var t=[],e=!0;if(P7.FM14()&&(e=!1),this.params&&this.params.ob&&0<this.params.ob.length){var i=this.params.ob;for(var s in i){var o=i[s],r=N12.gID(o.k);if(r){var n={itemData:{data:r,ct:o.v},isBottom:e};t.push(n)}}}this.rewardsCollection.replaceAll(t)},t.prototype.closeSelf=function(t){var e=App.CM.gtM(O6.A17);e.isTween=null==t||t,this.apF(K11.A3)},t}(BaseEuiView);__reflect(FortuneRewardView.prototype,"FortuneRewardView");var FortuneTurntableView=function(s){function t(t,e){var i=s.call(this,t,e)||this;return i.itemArray=[],i.index=1,i.baseTime=50,i.skinName=FortuneTurntableSkin,i}return __extends(t,s),t.prototype.initUI=function(){s.prototype.initUI.call(this),this.lbljilu.textFlow=M18.HTP.parse(O3.tr(3807))},t.prototype.initData=function(){},t.prototype.GX5=function(t){for(var e=t.actData,i=0;i<e.dis.length;i++){var s=e.dis[i].k,o=N12.gID(s),r=e.dis[i].v,n=i+1,a=0<=e.loc.indexOf(n),h={itemData:{data:o,ct:r,texiao:a?TF59.FC9(o.quality):void 0},isBottom:!1,scale:1,isJp:a};this["gpIconN"+n].data=h}},t.prototype.initItemView=function(){this.buyItem1.removeChildren(),this.buyItem2.removeChildren(),this.buyItem3.removeChildren(),this.itemArray=[];for(var t=1;t<4;t++){var e=new ItemFtBuyView(t);e.setData(t),this.itemArray.push(e)}this.buyItem1.addChild(this.itemArray[0]),this.buyItem2.addChild(this.itemArray[1]),this.buyItem3.addChild(this.itemArray[2])},t.prototype.uBM=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];if(s.prototype.uBM.call(this,t,e),t instanceof TA82){switch(e[0]){case P4.E75:this.obj=e[1],this.startTween(t);break;default:this.ZD50(t)}this.GX42(t)}},t.prototype.GX42=function(t){this.leftCD=t.actData.ZHH64();var e=P6.FJ11(1e3*this.leftCD,5);this.timeLb.textFlow=M18.HTP.parser(O3.tr(3253,e)),this._timerHandler=App.K16.doTimer(1e3,this.leftCD,this.GY14,this)},t.prototype.GY14=function(){this.leftCD--;var t=P6.FJ11(1e3*this.leftCD,5);this.timeLb.textFlow=M18.HTP.parser(O3.tr(3253,t)),this.leftCD<=0&&(this.cTH(),this.timeLb.text="")},t.prototype.cTH=function(){null!=this._timerHandler&&(App.K16.rBH(this._timerHandler),this._timerHandler=null)},t.prototype.stopTween=function(){0!=App.CM.gtM(O6.A17).moving&&this.dealTweenEnd()},t.prototype.dealTweenEnd=function(){this.obj&&this.obj.ob&&(App.CM.apF(O6.A17,K11.A4,this.obj),P5.sIs(this.obj.ob),this.obj),this.handler&&(App.K16.rBH(this.handler),this.handler=null);for(var t=App.CM.gtM(O6.A17),e=1;e<=t.actData.dis.length;e++)this["gpIconN"+e].imgEffect.visible=!1;this.ZHH69()},t.prototype.startTween=function(t){var e=this;if(t.isTween){this.index=-1;var i=App.K16.doTimer(this.baseTime,32,this.updateImtT.bind(this),item,function(){e.dealTweenEnd()});this.handler=i}else this.obj&&this.obj.ob&&(App.CM.apF(O6.A17,K11.A4,this.obj),P5.sIs(this.obj.ob)),this.ZHH69()},t.prototype.updateImtT=function(){var t=this.index++%12+1,e=this.index%12+1;t<1&&(t=1),this["gpIconN"+t].imgEffect.visible=!1,this["gpIconN"+e].imgEffect.visible=!0},t.prototype.ZD50=function(t){this.updateReport(t)},t.prototype.updateReport=function(t){for(var e=1;e<=9;e++)this["grp"+e].visible=!1;for(var i=t.actData.ar,s=M18.HTP.parser(O3.tr(3806)),o=0;o<i.length;o++){var r=o+1;this["lbName"+r].$setText(i[o].aName);var n=N12.gID(i[o].id),a=this["lbPru"+r],h=O5.FB43(Number(n.quality),2),p=n.name;a.textFlow=M18.HTP.parser(O3.tr(4931,h,p)),this["grp"+r].visible=!0,this["lblhoude"+r].textFlow=s}},t.prototype.open=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];s.prototype.open.call(this),this.initItemView();var i=App.CM.gtM(O6.A17);this.GX5(i),this.ZHH69(),this.searchGroup.addEventListener(egret.TouchEvent.TOUCH_TAP,this.stopTween,this),this.desBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.desClick,this),i.isTween=!0},t.prototype.close=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];s.prototype.close.call(this),this.searchGroup.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.stopTween,this),this.desBtn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.desClick,this),this.closeItemBuy(),this.handler&&(App.K16.rBH(this.handler),this.handler=null),this.cTH()},t.prototype.desClick=function(){App.CM.apF(O6.A17,K11.A6)},t.prototype.closeItemBuy=function(){for(var t=0;t<this.itemArray.length;t++){this.itemArray[t].GY64()}this.itemArray=[]},t.prototype.ZHH69=function(){App.CM.gtM(O6.A17).moving=!1},t}(BaseEuiView);__reflect(FortuneTurntableView.prototype,"FortuneTurntableView");var ItemFtBuyView=function(i){function t(t){var e=i.call(this)||this;return e.index=t,e.skinName=DialBuyItem,e}return __extends(t,i),t.prototype.setData=function(t){this.index=t;var e=App.CM.gtM(O6.A17).actData.btnConf[t];this.itemId=e.itemId,this.itemNeed=e.itemNum,this.imgItem.source=N12.FJ86(e.itemId),this.lbMoney.textFlow=M18.HTP.parse(O3.tr(3808,e.itemNum)),this.btn.label=this.getBtnLabel(),this.btn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickGet,this),this.btn.scaleX=.9,this.btn.scaleY=.9,this.lbBuy.visible=!1,2==this.index?this.FM13(O3.tr(3810)):this.FM13(O3.tr(3811)),this.lblxingyun.textFlow=M18.HTP.parse(O3.tr(3809))},t.prototype.FM13=function(t){this.btn.size=t?(this.btn.label2=t,this.btn.labelY="12","22"):(this.btn.label2="",this.btn.labelY="0","24")},t.prototype.getBtnLabel=function(){return 1==this.index?O3.tr(3213):2==this.index?O3.tr(3214):3==this.index?O3.tr(3215):""},t.prototype.onClickGet=function(){if(N12.giC(Number(this.itemId))<Number(this.itemNeed))P7.FA78();else if(1!=App.CM.gtM(O6.A17).moving&&P7.FF59()){var t={type:this.index};App.CM.apF(O6.A17,K11.A1,t),this.ZM77()}},t.prototype.GY64=function(){this.btn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickGet,this)},t.prototype.ZM77=function(){App.CM.gtM(O6.A17).moving=!0},t}(eui.Component);__reflect(ItemFtBuyView.prototype,"ItemFtBuyView");var FortuneData=function(i){function t(t){var e=i.call(this,t)||this;return e.btnConf={},e.loc=[],e.ar=[],e.updateData(t),e}return __extends(t,i),t.prototype.updateData=function(t){t&&(this.dealConf(t),this.loc=t.loc||this.loc,this.dis=t.dis||this.dis,this.dealAr(t),this.ZU63(t))},t.prototype.dealAr=function(t){if(t.ar&&!(t.ar.length<=0)){for(var e=t.ar,i=0;i<e.length;i++)this.ar.push(new FortuneReportVo(e[i]));var s=this.ar.length,o=[];if(9<s){for(var r=s-9;r<s;r++)o.push(this.ar[r]);this.ar=o}}},t.prototype.dealConf=function(t){if(t&&t.id&&t.parVer){this.btnConf={};for(var e=this.more.split("|")[0].split(";"),i=0;i<e.length;i++){var s=e[i].split(":"),o={id:s[0],itemId:s[1],itemNum:s[2]};this.btnConf[o.id]=o}}},t.prototype.FD69=function(t){for(var e=[],i=this.more.split("|")[1].split(";"),s=0;s<i.length;s++){var o=i[s].split(",")[0];if(t==Number(o))for(var r=i[s].split(",")[1].split("-"),n=0;n<r.length;n++)this.btnConf[r[n]]&&e.push(this.btnConf[r[n]])}return e.sort(function(t,e){return t.id-e.id}),e},t}(ActivityVo);__reflect(FortuneData.prototype,"FortuneData");var FortuneReportVo=function(t){this.aName=t.k,this.id=t.v};__reflect(FortuneReportVo.prototype,"FortuneReportVo");var I19=function(){function t(){}return t.A3=1,t.A4=2,t.A1=3,t.A2=4,t.A5=5,t.A6=6,t.A7=7,t.A8=8,t.A9=9,t.A10=10,t}();__reflect(I19.prototype,"I19");var TB94=function(e){function t(){var t=e.call(this)||this;return new TF7(t),t.model.aLV(O7.C32),t.model.aLV(O7.I26),t.model.aLV(O7.D56),App.VM.register(O7.D56,"HappyBoxRewardView",t,K17.UI_Popup),t.rgF(I19.A5,t.GM20,t),t.rgF(I19.A6,t.GM21,t),App.VM.register(O7.F28,"HappyBoxOpenView",t,K17.UI_Popup),t.rgF(I19.A7,t.GQ15,t),t.rgF(I19.A8,t.GQ16,t),App.VM.register(O7.F29,"HappyBoxDescView",t,K17.UI_Popup),t.rgF(I19.A9,t.GQ17,t),t.rgF(I19.A10,t.GQ18,t),t.rgF(I19.A3,t.GI44,t),t.rgF(I19.A4,t.GI45,t),t.rgF(I19.A1,t.GM18,t),t.rgF(I19.A2,t.GM19,t),t.proxy=new TF8(t),t}return __extends(t,e),Object.defineProperty(t.prototype,"model",{get:function(){return this.gtM()},enumerable:!0,configurable:!0}),t.prototype.GI44=function(t){this.proxy.GI44(t)},t.prototype.GI45=function(t){var e=this.model;200==t.head.state?(t.body.rwds&&this.GQ15(t.body.rwds),e.ZC13(t.body),e.notify(P4.K15)):App.CM.apF(O6.B87,L10.A4,t)},t.prototype.GM18=function(t){this.proxy.GM18(t)},t.prototype.GM19=function(t){var e=this.model;200==t.head.state?(P5.sIs(t.body.ob),e.ZC13(t.body),e.notify(P4.K15)):App.CM.apF(O6.B87,L10.A4,t)},t.prototype.GM20=function(t){App.VM.open(O7.D56,t)},t.prototype.GM21=function(){App.VM.close(O7.D56)},t.prototype.GQ15=function(t){App.VM.open(O7.F28,t)},t.prototype.GQ16=function(){App.VM.close(O7.F28)},t.prototype.GQ17=function(t){App.VM.open(O7.F29,t)},t.prototype.GQ18=function(){App.VM.close(O7.F29)},t}(TE11);__reflect(TB94.prototype,"TB94");var TF7=function(i){function t(t){var e=i.call(this,t)||this;return e.openState=!1,e.redNum=0,e.firstLoginRedNum=0,e.isAutoOpen=!1,e}return __extends(t,i),t.prototype.ZC13=function(t){t&&(null!=this.actData?this.actData.updateData(t):(this.actData=new HappyBoxData(t),this.tips=this.actData.tips))},t.prototype.updateRed=function(){},t.prototype.FL35=function(){this.updateRed();var t=this.actData.FG82();for(var e in t)if(t[e].state==J13.A3)return 1;return 0},t.prototype.notify=function(t){i.prototype.notifyView.call(this,this,t)},t}(TG79);__reflect(TF7.prototype,"TF7");var TF8=function(i){function t(t){var e=i.call(this,t)||this;return e.rSM(P4.K15,e.GI45,e),e.rSM(P4.F8,e.GM19,e),e}return __extends(t,i),t.prototype.GI44=function(t){var e={type:P4.K14,body:{id:t}};this.sSM(e)},t.prototype.GI45=function(t){this.apF(I19.A4,t)},t.prototype.GM18=function(t){var e={type:P4.F7,body:{id:t}};this.sSM(e)},t.prototype.GM19=function(t){this.apF(I19.A2,t)},t}(TG80);__reflect(TF8.prototype,"TF8");var HappyBoxDescView=function(s){function t(t,e){var i=s.call(this,t,e)||this;return i.skinName=HappyBoxDescSkin,i}return __extends(t,s),t.prototype.initUI=function(){s.prototype.initUI.call(this),this.lbStr1.textFlow=M18.HTP.parse(O3.tr(5187)),this.lbTitle1.text=O3.tr(6404)},t.prototype.open=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];s.prototype.open.call(this),this.param=t[0],this.bgMask.addEventListener(egret.TouchEvent.TOUCH_TAP,this.closeSelf,this),this.GX5()},t.prototype.GX5=function(){for(var t=M18.FL28(this.param.desc,";",":"),e=0;e<t.length;e++){var i=new eui.Label;i.size=20,i.textColor=9625076,i.text=t[e][0];var s=new eui.Label;s.size=20,s.textColor=16707295,s.text=O3.tr(4929,t[e][1]),this.gpItem.addChild(i),this.gpPre.addChild(s)}},t.prototype.close=function(){s.prototype.close.call(this),this.bgMask.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.closeSelf,this)},t.prototype.closeSelf=function(){App.CM.apF(O6.B50,I19.A10)},t}(BaseEuiView);__reflect(HappyBoxDescView.prototype,"HappyBoxDescView");var HappyBoxOpenView=function(s){function t(t,e){var i=s.call(this,t,e)||this;return i.openIndex=[],i.skinName=HappyBoxOpenSkin,i}return __extends(t,s),Object.defineProperty(t.prototype,"model",{get:function(){return App.CM.gtM(O6.B50)},enumerable:!0,configurable:!0}),t.prototype.initUI=function(){s.prototype.initUI.call(this)},t.prototype.open=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];s.prototype.open.call(this),this.ob=t[0],this.cbAuto.label=O3.tr(6403),this.bgMask.addEventListener(egret.TouchEvent.TOUCH_TAP,this.closeSelf,this),this.card1.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickCard,this),this.card2.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickCard,this),this.card3.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickCard,this),this.card4.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickCard,this),this.card5.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickCard,this),this.btnOpen.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickOpen,this),this.cbAuto.addEventListener(egret.Event.CHANGE,this.onChange,this),this.GX5()},t.prototype.GX5=function(){this.isAction1=!0;var t=this.model;this.cbAuto.selected=t.isAutoOpen,this.isOpen=!!t.isAutoOpen,this.cd=this.isOpen?5:10,this.btnOpen.label=O3.tr(6381,5),this.qualityEff=[];for(var e=0;e<this.ob.length;e++){switch(N12.gID(this.ob[e].k).quality){case 2:this.qualityEff.push("wdsg_bfld01_lv_kppz_12");break;case 3:this.qualityEff.push("wdsg_bfld01_lan_kppz_13");break;case 4:this.qualityEff.push("wdsg_bfld01_kppz_z_09");break;case 5:this.qualityEff.push("wdsg_bfld01_c_kppz_10");break;case 6:this.qualityEff.push("wdsg_bfld01_h_kppz_11")}}egret.Tween.get(this.bgMask).to({alpha:0},170).to({alpha:.5},210),egret.Tween.get(this).call(this.addCard,this,[this.qualityEff[0],this.gpCard1]).wait(100).call(this.addCard,this,[this.qualityEff[1],this.gpCard2]).wait(100).call(this.addCard,this,[this.qualityEff[2],this.gpCard3]).wait(100).call(this.addCard,this,[this.qualityEff[3],this.gpCard4]).wait(100).call(this.addCard,this,[this.qualityEff[4],this.gpCard5]).call(this.GY14,this)},t.prototype.GY14=function(){var t=this;this.timeHandler1||(this.timeHandler1=App.K16.doTimer(1e3,this.cd,function(){5==t.cd&&(t.isOpen=!0,t.openAllCard()),t.cd--,t.cd<=5?t.btnOpen.label=O3.tr(6382,t.cd):t.btnOpen.label=O3.tr(6381,t.cd-5),t.cd<=0&&(t.getAllCard(),t.ZHH70())},this,this.getAllCard,this))},t.prototype.openAllCard=function(){for(var t=1;t<=5;t++)this.turnCard(this["gpCard"+t],this.ob[t-1],t)},t.prototype.getAllCard=function(){P5.sIs(this.ob),this.closeSelf()},t.prototype.onChange=function(){this.model.isAutoOpen=this.cbAuto.selected,TG40.playClickEffect()},t.prototype.addCard=function(t,e){var i=this;App.THH32.aUE(e,"wdsg_bfldl_hb_002",e.width/2,e.height/2,1,null,null,null,null,null,!0),App.THH32.aUE(e,"wdsg_bfldl_kpdh_005",e.width/2,e.height/2,1,null,function(){App.THH32.aUE(e,t,e.width/2,e.height/2,-1,null,null,null,null,null,!0),e==i.gpCard5&&(i.isAction1=!1)})},t.prototype.onClickCard=function(t){switch(t.currentTarget.name){case"card1":this.turnCard(this.gpCard1,this.ob[0],1);break;case"card2":this.turnCard(this.gpCard2,this.ob[1],2);break;case"card3":this.turnCard(this.gpCard3,this.ob[2],3);break;case"card4":this.turnCard(this.gpCard4,this.ob[3],4);break;case"card5":this.turnCard(this.gpCard5,this.ob[4],5)}TG40.playClickEffect()},t.prototype.turnCard=function(t,e,i){var s=N12.gID(e.k),o={data:s,ct:e.v};if(this.openIndex.indexOf(i)<0){var r=new ItemHappyBoxOpen;r.setData({itemData:o,isBottom:!1,scale:1}),t.addChild(r),r.horizontalCenter=0,r.verticalCenter=0;var n=5<=s.quality?"wdsg_bfld3_kpdh_008":"wdsg_bfld3_kpdh_007";App.THH32.aUE(t,n,t.width/2,t.height/2,1,null,null,null,null,null,!0),this.openIndex.push(i)}},t.prototype.onClickOpen=function(){this.isAction1||(this.isOpen?this.getAllCard():(this.isOpen=!0,this.cd=5,this.openAllCard()))},t.prototype.ZHH70=function(){this.timeHandler1&&(App.K16.rBH(this.timeHandler1),this.timeHandler1=null)},t.prototype.close=function(){s.prototype.close.call(this),this.ZHH70(),this.bgMask.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.closeSelf,this);for(var t=1;t<=5;t++)App.THH32.rEf(this["gpCard"+t],this.qualityEff[t-1]);egret.Tween.removeTweens(this),egret.Tween.removeTweens(this.bgMask)},t.prototype.closeSelf=function(){App.CM.apF(O6.B50,I19.A8)},t}(BaseEuiView);__reflect(HappyBoxOpenView.prototype,"HappyBoxOpenView");var HappyBoxRewardView=function(s){function t(t,e){var i=s.call(this,t,e)||this;return i.skinName=HappyBoxRewardSkin,i}return __extends(t,s),t.prototype.initUI=function(){s.prototype.initUI.call(this),this.dlg.ZM69(this.closeSelf.bind(this),this),this.dlg.setOKHandler(this.onClickGet.bind(this),this,!1),this.dlg.title=O3.tr(6342),this.dlg.strBtnOK=O3.tr(3234),this.itemCollection=new eui.ArrayCollection,this.dgReward.dataProvider=this.itemCollection,this.dgReward.itemRenderer=ItemIcon},t.prototype.open=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];s.prototype.open.call(this),this.process=t[0];var i=App.CM.gtM(O6.B50);this.ZM86(i)},t.prototype.uBM=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];s.prototype.uBM.call(this,t,e),t instanceof TF7&&this.ZQ36(t.actData)},t.prototype.ZM86=function(t){var e=t.actData;for(var i in e.processList){var s=e.processList[i];if(e.processList[i].process==this.process){var o=[];for(var r in s.rewardList){var n=s.rewardList[r],a={data:N12.gID(n.k),ct:n.v};o.push({itemData:a,isBottom:!1,scale:1})}this.itemCollection.replaceAll(o)}}this.ZQ36(e)},t.prototype.ZQ36=function(t){var e=t.ZU28(this.process);this.dlg.setOKEnable(e==J13.A3)},t.prototype.onClickGet=function(){App.CM.apF(O6.B50,I19.A1,this.process)},t.prototype.close=function(){s.prototype.close.call(this)},t.prototype.closeSelf=function(){App.CM.apF(O6.B50,I19.A6)},t}(BaseEuiView);__reflect(HappyBoxRewardView.prototype,"HappyBoxRewardView");var HappyBoxView=function(s){function t(t,e){var i=s.call(this,t,e)||this;return i.skinName="HappyBoxSkin",i}return __extends(t,s),Object.defineProperty(t.prototype,"model",{get:function(){return App.CM.gtM(O6.B50)},enumerable:!0,configurable:!0}),t.prototype.open=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];s.prototype.open.apply(this,t),this.btnLeft.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickLeft,this),this.btnRight.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickRight,this),this.gpLeft.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickLeft,this),this.gpRight.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickRight,this),this.gBox.addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.touchBegin,this),this.gBox.addEventListener(egret.TouchEvent.TOUCH_MOVE,this.touchMove,this),this.gBox.addEventListener(egret.TouchEvent.TOUCH_END,this.touchEnd,this),this.initBox(),this.ZQ37(),this.ZM86()},t.prototype.touchBegin=function(t){this.startX=t.stageX,this.disX=0},t.prototype.touchMove=function(t){this.disX=t.stageX-this.startX},t.prototype.touchEnd=function(t){100<this.disX?this.onClickRight():this.disX<-100&&this.onClickLeft()},t.prototype.initUI=function(){s.prototype.initUI.call(this),this.lbDesc.text=O3.tr(6400)},t.prototype.initBox=function(t){for(var e=(t=t||this.model).actData,i=1;i<=3;i++){var s=this["box"+i];s.setData(e.boxInfos[i-1]),s.setIndex(i),this.setBoxIndex(i,s,1)}},t.prototype.uBM=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];s.prototype.uBM.apply(this,[t].concat(e));e&&0<e.length&&e[0];t instanceof TF7&&this.ZM86(t)},t.prototype.ZM86=function(t){for(var e=(t=t||this.model).actData,i=1;i<=3;i++){var s=(r=this["box"+i]).getId();r.setData(e.boxInfos[s-1])}var o=e.FG82();for(this.proBar.width,o.length,i=0;i<o.length;i++){var r;(r=this.rewardList[i]).setData(o[i])}this.proBar.maximum=e.maxProcess,this.proBar.value=e.total,this.lbNum.textFlow=M18.HTP.parser(O3.tr(6338,e.total)),this.leftCD=t.actData.ZHH64();var n=P6.FJ11(1e3*this.leftCD,5);this.lbCd.textFlow=M18.HTP.parser(O3.tr(3253,n)),this._timerHandler=App.K16.doTimer(1e3,this.leftCD,this.GY14,this)},t.prototype.ZQ37=function(){var t=this.model;this.rewardList=[];for(var e=t.actData.FG82(),i=this.proBar.width/e.length,s=0;s<e.length;s++){var o=new ItemHappyBoxAward;this.gpReward.addChild(o),o.verticalCenter=0;var r=(s+1)*i-o.width/2;o.x=r,o.setData(e[s]),this.rewardList.push(o)}},t.prototype.GY14=function(){this.leftCD--;var t=P6.FJ11(1e3*this.leftCD,5);this.lbCd.textFlow=M18.HTP.parser(O3.tr(3253,t)),this.leftCD<=0&&(this.cTH(),this.lbCd.text="")},t.prototype.cTH=function(){null!=this._timerHandler&&(App.K16.rBH(this._timerHandler),this._timerHandler=null)},t.prototype.switch=function(){this.gBox.getChildAt(0)},t.prototype.onClickLeft=function(){var t=this.model;this.model.isAction||(t.isAction=!0,this.boxAction(1))},t.prototype.onClickRight=function(){var t=this.model;this.model.isAction||(t.isAction=!0,this.boxAction(2))},t.prototype.boxAction=function(t){for(var e=1;e<=3;e++){var i=this["box"+e];i.takeAction(t);var s=i.getIndex();this.setBoxIndex(s,i,t)}},t.prototype.setBoxIndex=function(t,e,i){switch(t){case 1:this.gBox.setChildIndex(e,1==i?2:1);break;case 2:this.gBox.setChildIndex(e,3);break;case 3:this.gBox.setChildIndex(e,1==i?1:2)}},t.prototype.close=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];s.prototype.close.apply(this,t),this.btnLeft.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickLeft,this),this.btnRight.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickRight,this),this.gpLeft.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickLeft,this),this.gpRight.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickRight,this),this.gBox.removeEventListener(egret.TouchEvent.TOUCH_BEGIN,this.touchBegin,this),this.gBox.removeEventListener(egret.TouchEvent.TOUCH_MOVE,this.touchMove,this),this.gBox.removeEventListener(egret.TouchEvent.TOUCH_END,this.touchEnd,this)},t}(BaseEuiView);__reflect(HappyBoxView.prototype,"HappyBoxView");var ItemHappyBoxAward=function(e){function t(){var t=e.call(this)||this;return t.skinName=ItemHappyBoxAwardSkin,t.addEventListener(egret.Event.ADDED_TO_STAGE,t.open,t),t.addEventListener(egret.Event.REMOVED_FROM_STAGE,t.close,t),t}return __extends(t,e),t.prototype.open=function(){this.addEventListener(egret.TouchEvent.TOUCH_TAP,this.oCI,this)},t.prototype.close=function(){this.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.oCI,this)},t.prototype.childrenCreated=function(){e.prototype.createChildren.call(this),this.initUI()},t.prototype.initUI=function(){},t.prototype.setData=function(t){this.data=t,this.lbName.text=O3.tr(6341,this.data.num),this.imgRed.visible=this.data.state==J13.A3,this.imgBox.source=this.data.icon,P16.sGF(this.imgBox,this.data.state==J13.A2)},t.prototype.oCI=function(){App.CM.apF(O6.B50,I19.A5,this.data.num)},t}(eui.Component);__reflect(ItemHappyBoxAward.prototype,"ItemHappyBoxAward");var ItemHappyBoxOpen=function(e){function t(){var t=e.call(this)||this;return t.skinName=ItemHappyBoxOpenSkin,t.addEventListener(egret.Event.ADDED_TO_STAGE,t.open,t),t.addEventListener(egret.Event.REMOVED_FROM_STAGE,t.close,t),t}return __extends(t,e),t.prototype.open=function(){},t.prototype.close=function(){},t.prototype.childrenCreated=function(){e.prototype.createChildren.call(this)},t.prototype.setData=function(t){this.item||(this.item=new ItemIcon,this.item.horizontalCenter=0,this.item.verticalCenter=0,this.item.data=t,this.lbName.text=t.itemData.data.name,this.gpIcon.addChild(this.item))},t}(eui.Component);__reflect(ItemHappyBoxOpen.prototype,"ItemHappyBoxOpen");var ItemHappyBoxView=function(e){function t(){var t=e.call(this)||this;return t.skinName=HappyBoxItemSkin,t.addEventListener(egret.Event.ADDED_TO_STAGE,t.open,t),t.addEventListener(egret.Event.REMOVED_FROM_STAGE,t.close,t),t}return __extends(t,e),t.prototype.open=function(){this.btnOpen.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickBtn,this),this.btnInfo.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickInfo,this),this.isAction=!1},t.prototype.close=function(){this.btnOpen.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickBtn,this),this.btnInfo.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickInfo,this)},t.prototype.childrenCreated=function(){e.prototype.createChildren.call(this),this.initUI()},t.prototype.initUI=function(){},t.prototype.setData=function(t){this.data=t,this.lbName.text=t.name,this.lbDesc.text=t.desc,this.imgIcon.source=t.icon;var e=t.reset-t.todayNum;this.btnOpen.label=0<e?(this.gComsume.visible=!1,O3.tr(6339,e)):(this.gComsume.visible=!0,P16.FL31(this.gComsume,t.consume.k,t.consume.v,{tag:O3.tr(6337),textTemplate:"<font color=#75c01a>$1</font>",lackTextTemplate:"<font color=#d82222>$1</font>"}),O3.tr(6340))},t.prototype.getId=function(){return this.data.id},t.prototype.getIndex=function(){return this.index},t.prototype.setIndex=function(t){this.index=t,this.imgMask.visible=2!=this.index},t.prototype.ZM87=function(){switch(this.index){case 1:this.imgMask.visible=!0,egret.Tween.get(this).to({scaleX:.9,scaleY:.9,x:30},1e3).call(this.actionFinish,this);break;case 2:this.imgMask.visible=!1,egret.Tween.get(this).to({scaleX:1,scaleY:1,x:178},1e3).call(this.actionFinish,this);break;case 3:this.imgMask.visible=!0,egret.Tween.get(this).to({scaleX:.85,scaleY:.85,x:178},500).to({scaleX:.9,scaleY:.9,x:350},500).call(this.actionFinish,this)}},t.prototype.actionFinish=function(){App.CM.gtM(O6.B50).isAction=!1},t.prototype.ZJ87=function(){switch(this.index){case 1:this.imgMask.visible=!0,egret.Tween.get(this).to({scaleX:.85,scaleY:.85,x:178},500).to({scaleX:.9,scaleY:.9,x:30},500).call(this.actionFinish,this);break;case 2:this.imgMask.visible=!1,egret.Tween.get(this).to({scaleX:1,scaleY:1,x:178},1e3).call(this.actionFinish,this);break;case 3:this.imgMask.visible=!0,egret.Tween.get(this).to({scaleX:.9,scaleY:.9,x:350},1e3).call(this.actionFinish,this)}},t.prototype.takeAction=function(t){1==t&&(this.index--,this.index<=0&&(this.index=3),this.ZM87()),2==t&&(this.index++,4<=this.index&&(this.index=1),this.ZJ87())},t.prototype.onClickBtn=function(){App.CM.apF(O6.B50,I19.A3,this.data.id)},t.prototype.onClickInfo=function(){var t=App.CM.gtM(O6.B50);for(var e in t.actData.descList){var i=t.actData.descList[e];if(i.id==this.data.id){App.CM.apF(O6.B50,I19.A9,i);break}}},t}(eui.Component);__reflect(ItemHappyBoxView.prototype,"ItemHappyBoxView");var HappyBoxData=function(i){function t(t){var e=i.call(this,t)||this;return e.boxInfos=[],e.processList=[],e.descList=[],e.initBox(t.atmp),e.updateData(t),e}return __extends(t,i),t.prototype.initBox=function(t){this.boxInfos=t.cost.split("|").map(function(t,e){var i=t.split(";"),s=i[0],o=i[1],r=i[2],n=i[3],a=i[4],h=i[5],p=i[6],l=i[7];return{id:parseInt(s),name:o,icon:r,rewardId1:parseInt(n),rewardId2:parseInt(a),consume:P7.str2kv1(h),reset:parseInt(p),desc:l}}),this.processList=t.rank.split("|").map(function(t,e){var i=t.split(","),s=i[0],o=i[1],r=i[2];return{process:parseInt(s),rewardList:P7.str2kv(o),icon:r}}),this.descList=t.desc.split("|").map(function(t,e){var i=t.split(","),s=i[0],o=i[1];return{id:parseInt(s),desc:o}}),this.maxProcess=this.processList[this.processList.length-1].process},t.prototype.updateData=function(t){this.gotList=null!=t.yaw?t.yaw:this.gotList,this.todayNum=null!=t.time?t.time:this.todayNum,this.total=null!=t.total?t.total:this.total,this.ZU38(),this.ZU63(t)},t.prototype.ZU38=function(){for(var t in this.todayNum){var e=this.todayNum[t];for(var i in this.boxInfos)e.k==this.boxInfos[i].id&&(this.boxInfos[i].todayNum=e.v)}for(var t in this.boxInfos)this.boxInfos[t].todayNum=this.boxInfos[t].todayNum||0},t.prototype.FG82=function(){var t=[];for(var e in this.processList){var i=this.ZU28(this.processList[e].process),s={num:this.processList[e].process,state:i,icon:this.processList[e].icon};t.push(s)}return t},t.prototype.ZU28=function(t){for(var e in this.gotList)if(t==this.gotList[e])return J13.A2;for(var e in this.processList){var i=this.processList[e].process;if(i==t)return i<=this.total?J13.A3:J13.A1}},t}(ActivityVo);__reflect(HappyBoxData.prototype,"HappyBoxData");var G1=function(){function t(){}return t.A1=10001,t.A2=10002,t.A3=10003,t.A4=10004,t.A5=10005,t.A6=10006,t}();__reflect(G1.prototype,"G1");var TB10=function(i){function t(){var t=i.call(this)||this,e=new TD57(t);return e.aLV(O7.HH6),e.aLV(O7.D86),e.aLV(O7.I64),e.aLV(O7.I39),t.proxy=new TD58(t),App.VM.register(O7.D62,"HappySmashOpen",t,K17.UI_Popup),t.rgF(G1.A1,t.smashReq,t),t.rgF(G1.A2,t.smashRes,t),t.rgF(G1.A3,t.resetReq,t),t.rgF(G1.A4,t.resetRes,t),t.rgF(G1.A5,t.GW90,t),t.rgF(G1.A6,t.GW91,t),t}return __extends(t,i),t.prototype.smashReq=function(t){this.gtM().curId=t,this.proxy.smashReq(t)},t.prototype.smashRes=function(t){var e=this.gtM();if(200!=t.head.state)return e.canClick=!0,void App.CM.apF(O6.B87,L10.A4,t);e.ZC13(t.body),e.notify(P4.I47)},t.prototype.resetReq=function(){this.proxy.resetReq()},t.prototype.resetRes=function(t){var e=this.gtM();if(200!=t.head.state)return e.canClick=!0,void App.CM.apF(O6.B87,L10.A4,t);e.ZC13(t.body),e.notify()},t.prototype.GW90=function(t){App.VM.open(O7.D62,t)},t.prototype.GW91=function(){App.VM.close(O7.D62),this.gtM().notify("closeOpenView")},t}(TE11);__reflect(TB10.prototype,"TB10");var TD57=function(i){function t(t){var e=i.call(this,t)||this;return e.openState=!1,e.redNum=0,e.firstLoginRedNum=0,e}return __extends(t,i),t.prototype.ZC13=function(t){t&&(null!=this.actData?this.actData.updateData(t):(this.actData=new HappySmashData(t),this.tips=this.actData.tips),this.updateRed())},t.prototype.updateRed=function(){this.openState&&(this.redNum=this.FL35())},t.prototype.FL35=function(){var t=0;return t+=this.firstLoginRedNum,t+=this.actData.hammerNum},t.prototype.FJ24=function(){var t=P6.getTime(!0)-this.actData.lastLoadTime,e=this.actData.resCd-t;return 0<e?e:0},t.prototype.ZR77=function(){var t=this;this.canClick=!1,this.timerHandler||(this.timerHandler=App.K16.doTimer(1e3,3,function(){t.canClick=!0,App.K16.rBH(t.timerHandler),t.timerHandler=null},this))},t.prototype.setCanClick=function(){this.canClick=!0},t.prototype.notify=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];i.prototype.notifyView.apply(this,[this].concat(t))},t}(TG79);__reflect(TD57.prototype,"TD57");var TD58=function(e){function t(t){return e.call(this,t)||this}return __extends(t,e),t.prototype.smashReq=function(t){var e={type:P4.I46,body:{id:t}};this.rSMO(P4.I47,this.smashRes,this),this.sSM(e)},t.prototype.smashRes=function(t){this.apF(G1.A2,t)},t.prototype.resetReq=function(){var t={type:P4.I48,body:{}};this.rSMO(P4.I49,this.resetRes,this),this.sSM(t)},t.prototype.resetRes=function(t){this.apF(G1.A4,t)},t}(TG80);__reflect(TD58.prototype,"TD58");var TD59=function(){function t(){}return Object.defineProperty(t,"model",{get:function(){return App.CM.gtM(O6.B4)},enumerable:!0,configurable:!0}),t.FJ24=function(){return this.model.FJ24()},t.ZR77=function(){this.model.ZR77()},t.setCanClick=function(){this.model.setCanClick()},t.getEggsList=function(){var t=[],e=this.model;for(var i in e.actData.eggsList){var s=e.actData.eggsList[i];t.push(s)}return t},t.FJ21=function(){var t=[],e=this.model;for(var i in e.actData.itemList){var s=e.actData.itemList[i];t.push(s)}return t},t}();__reflect(TD59.prototype,"TD59");var HappySmashGourmetItemView=function(e){function t(){var t=e.call(this)||this;return t.skinName=HappySmashGourmetItemSkin,t.addEventListener(egret.Event.ADDED_TO_STAGE,t.onAddToStage,t),t.addEventListener(egret.Event.REMOVED_FROM_STAGE,t.onRemoveStage,t),t}return __extends(t,e),t.prototype.onAddToStage=function(){this.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickOpen,this)},t.prototype.onRemoveStage=function(){this.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickOpen,this)},t.prototype.onClickOpen=function(){if(!this.data.isOpen){var t=App.CM.gtM(O6.B4);t.canClick&&(1<=t.actData.hammerNum?(TD59.ZR77(),App.CM.apF(O6.B4,G1.A1,this.data.id)):P18.sDP(O3.tr(6955)))}},t.prototype.childrenCreated=function(){e.prototype.createChildren.call(this),this.itemIcon=new ItemIcon,this.grpIcon.addChild(this.itemIcon),this.itemIcon.touchEnabled=!1,this.itemIcon.touchChildren=!1},t.prototype.dataChanged=function(){if(e.prototype.dataChanged.call(this),this.data.isOpen&&!this.isAction){this.imgOpen.source="com_zadan2_png",this.itemIcon.visible=!0;var t={itemData:{data:this.data.itemData,ct:this.data.itemNum},isBottom:!1};this.itemIcon.data=t}else this.imgOpen.source="com_zadan1_png",this.itemIcon.visible=!1},t.prototype.playEff=function(){var t=this;this.isAction=!0,this.imgOpen.visible=!1,egret.Tween.get(this).call(function(){App.THH32.aUE(t.gpEff1,"wdsg_hlqd_xuqiu_003",t.gpEff1.width/2,t.gpEff1.height/2,1,null,null,null,null,"bf_1")}).wait(350).call(function(){N12.gID(75e3);var t={itemData:{data:this.data.itemData,ct:this.data.itemNum},isBottom:!0,nameBg:!0};App.CM.apF(O6.B4,G1.A5,t),this.imgOpen.visible=!0},this)},t.prototype.endEffect=function(){App.THH32.rEf(this.gpEff1,"wdsg_hlqd_xuqiu_003"),this.isAction=!1,this.dataChanged()},t}(eui.ItemRenderer);__reflect(HappySmashGourmetItemView.prototype,"HappySmashGourmetItemView");var HappySmashItemView=function(e){function t(){var t=e.call(this)||this;return t.skinName=HappySmashItemSkin,t}return __extends(t,e),t.prototype.childrenCreated=function(){e.prototype.createChildren.call(this),this.itemIcon=new ItemIcon,this.grpIcon.addChild(this.itemIcon)},t.prototype.dataChanged=function(){e.prototype.dataChanged.call(this);var t={itemData:{data:this.data.itemData,ct:this.data.itemNum},isBottom:!1};this.itemIcon.data=t,this.imgHave.visible=this.data.isHave},t}(eui.ItemRenderer);__reflect(HappySmashItemView.prototype,"HappySmashItemView");var HappySmashOpen=function(s){function t(t,e){var i=s.call(this,t,e)||this;return i.skinName=HappSmashOpenSkin,i}return __extends(t,s),t.prototype.initUI=function(){s.prototype.initUI.call(this),this.btnOk.label=O3.tr(4249),this.btnOk.label=O3.tr(4493,5)},t.prototype.open=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];s.prototype.open.call(this),this.btnOk.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickBtn,this),this.imgBg.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickBtn,this),this.item.data=t[0],this.playEff()},t.prototype.playEff=function(){var e=this;App.THH32.aUE(this.gpEff1,"wdsg_hlqd_xuqiu_003",this.gpEff1.width/2,this.gpEff1.height/2,1,null,function(){App.THH32.aUE(e.gpEff2,"wdsg_hlqd_xuqiu_003",e.gpEff2.width/2,e.gpEff2.height/2,-1,null,null,null,null,"bf_4",!0),App.THH32.aUE(e.gpEff3,"wdsg_hlqd_xuqiu_003",e.gpEff3.width/2,e.gpEff3.height/2,-1,null,null,null,null,"bf_5",!0),egret.Tween.get(e.item).to({alpha:.55}).to({alpha:1.2},80).to({alpha:.98},90).to({alpha:1},80).call(function(){egret.Tween.get(e.item,{loop:!0}).to({y:450},0).to({y:454},600).to({y:450},600),egret.Tween.get(e.btnOk).to({alpha:0},0).to({alpha:1},300).call(function(){var t=5;e.timerHandler=App.K16.doTimer(1e3,5,function(){t--,e.btnOk.label=O3.tr(4493,t)},e,e.onClickBtn,e)})})},null,null,"bf_2",!0),App.THH32.aUE(this.gpEff4,"wdsg_hlqd_xuqiu_003",this.gpEff4.width/2,this.gpEff4.height/2,1,null,null,null,null,"bf_3",!0)},t.prototype.onClickBtn=function(){App.CM.apF(O6.B4,G1.A6)},t.prototype.close=function(){s.prototype.close.call(this),this.btnOk.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickBtn,this),this.imgBg.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickBtn,this),App.THH32.rEf(this.gpEff1,"wdsg_hlqd_xuqiu_003"),App.THH32.rEf(this.gpEff2,"wdsg_hlqd_xuqiu_003"),App.THH32.rEf(this.gpEff3,"wdsg_hlqd_xuqiu_003"),App.THH32.rEf(this.gpEff4,"wdsg_hlqd_xuqiu_003"),this.timerHandler&&(App.K16.rBH(this.timerHandler),this.timerHandler=null),egret.Tween.removeTweens(this.item),egret.Tween.removeTweens(this.btnOk)},t}(BaseEuiView);__reflect(HappySmashOpen.prototype,"HappySmashOpen");var HappySmashView=function(o){function t(t,e){var i=o.call(this,t,e)||this;return i.skinName=HappySmashSkin,i}return __extends(t,o),t.prototype.initUI=function(){o.prototype.initUI.call(this),this.touchEnabled=!1,this.lbStr1.textFlow=M18.HTP.parser(O3.tr(6948)),this.btnShop.label=O3.tr(3882),this.btnReset.label=O3.tr(6952);var t={render:HappySmashItemView,gap:8,width:this.listGroup.width,height:this.listGroup.height,arrowScale:1,isFlat:!0};this.listView=new CommonListBase(t),this.listGroup.addChild(this.listView),this.listView.setLeftRightArrow(-8),this.listView.verticalCenter=0,this.listView.horizontalCenter=0,this.eggsData.itemRenderer=HappySmashGourmetItemView,this.eggsData.dataProvider=this.eggsCollection=new eui.ArrayCollection},t.prototype.open=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];o.prototype.open.call(this),this.listView.open(),this.btnShop.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickBtn,this),this.btnReset.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickReset,this);var i=App.CM.gtM(O6.B4);this.lbPayDesc.textFlow=M18.HTP.parser(O3.tr(6950,i.actData.payNum)),TD59.setCanClick(),this.ZB62(),this.leftCD=i.actData.ZHH64(),this.GY14(),this.atimerHandler=App.K16.doTimer(1e3,this.leftCD,this.GY14,this),this.openHandler()},t.prototype.dealEnd=function(){TD59.setCanClick(),this.ZB62()},t.prototype.openHandler=function(){var e=this,t=O3.tr(6954,P6.FJ11(1e3*TD59.FJ24(),1));this.lbReset.textFlow=M18.HTP.parser(t),this.timerHandler||(this.timerHandler=App.K16.doTimer(1e3,0,function(){if(0<TD59.FJ24()){var t=O3.tr(6954,P6.FJ11(1e3*TD59.FJ24(),1));e.lbReset.textFlow=M18.HTP.parser(t)}else e.lbReset.textFlow=null},this))},t.prototype.cTH=function(){this.timerHandler&&(App.K16.rBH(this.timerHandler),this.timerHandler=null)},t.prototype.onClickBtn=function(){TG84.FM16(1718)},t.prototype.onClickReset=function(){var t=App.CM.gtM(O6.B4);if(t.canClick){var e={handler:function(){App.CM.apF(O6.B4,G1.A3)},cost:t.actData.resNum,costTp:P10.A2,content:O3.tr(6956,t.actData.resNum)};App.VM.open(O7.C54,e)}},t.prototype.uBM=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];o.prototype.uBM.call(this,t,e);var s=e[0];if(t instanceof THH9)switch(s){case P4.V43:this.ZB62()}t instanceof TD57&&(s==P4.I47?this.playEff(t):"closeOpenView"==s&&this.endEff(),this.ZB62(),this.dealEnd())},t.prototype.ZB62=function(){var t=App.CM.gtM(O6.B4);if(t.canClick){var e=t.actData,i=TD59.FJ21();this.listView.rfL(i),this.eggsCollection.replaceAll(TD59.getEggsList()),this.lbNowPay.textFlow=M18.HTP.parser(O3.tr(6949,e.costNum)),e.hammerNum?this.lbOverNum.textFlow=M18.HTP.parser(O3.tr(6953,e.hammerNum)):this.lbOverNum.textFlow=M18.HTP.parser(O3.tr(6957,e.hammerNum))}},t.prototype.GY14=function(){this.leftCD--;var t=P6.FJ11(1e3*this.leftCD,5);this.lbOverTime.textFlow=M18.HTP.parser(O3.tr(3253,t)),this.leftCD<=0&&(this.ZG16(),this.lbOverTime.text="")},t.prototype.ZG16=function(){null!=this.atimerHandler&&(App.K16.rBH(this.atimerHandler),this.atimerHandler=null)},t.prototype.playEff=function(t){for(var e=0;e<this.eggsCollection.length;e++){var i=this.eggsData.getElementAt(e);if(i&&i.data.id==t.curId){i.playEff();break}}t.curId=null},t.prototype.endEff=function(){for(var t=0;t<this.eggsCollection.length;t++){var e=this.eggsData.getElementAt(t);if(e&&e.isAction){e.endEffect();break}}},t.prototype.close=function(){o.prototype.close.call(this),this.listView.close(),this.btnShop.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickBtn,this),this.btnReset.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickReset,this),this.cTH(),this.ZG16()},t}(BaseEuiView);__reflect(HappySmashView.prototype,"HappySmashView");var HappySmashData=function(s){function t(t){var e=s.call(this,t)||this;e.updateData(t);var i=M18.FL28(e.cost,";");return e.payNum=parseInt(i[0]),e.resNum=parseInt(i[1]),e}return __extends(t,s),t.prototype.updateData=function(t){if(this.costNum=null!=t.cs?t.cs:this.costNum,this.hammerNum=null!=t.remain?t.remain:this.hammerNum,null!=t.cd&&(this.lastLoadTime=P6.getTime(!0),this.resCd=t.cd),t.bl)for(var e in this.itemList={},t.bl)this.itemList[t.bl[e].id]=new HappySmashItemVo(t.bl[e]);if(t.el){this.eggsList={};for(var i=1;i<=9;i++)t.el[i]?this.eggsList[i]=new HappySmashEggsVo(t.el[i]):this.eggsList[i]=new HappySmashEggsVo({id:i})}t.eo&&this.eggsList[t.eo.id].updateData(t.eo),t.bg&&this.itemList[t.bg].updateData({g:1}),t&&this.ZU63(t)},t}(ActivityVo);__reflect(HappySmashData.prototype,"HappySmashData");var HappySmashEggsVo=function(){function t(t){this.updateData(t)}return t.prototype.updateData=function(t){this.id=void 0!==t.id?t.id:this.id,t.aw?(this.isOpen=!0,this.itemData=N12.gID(t.aw.k),this.itemNum=t.aw.v):this.isOpen=!1},t}();__reflect(HappySmashEggsVo.prototype,"HappySmashEggsVo");var HappySmashItemVo=function(){function t(t){this.updateData(t)}return t.prototype.updateData=function(t){this.id=void 0!==t.id?t.id:this.id,this.isHave=void 0!==t.g?!!t.g:this.isHave,t.aw&&(this.itemData=N12.gID(t.aw.k),this.itemNum=t.aw.v)},t}();__reflect(HappySmashItemVo.prototype,"HappySmashItemVo");var I15=function(){function t(){}return t.A1=0,t.A2=1,t}();__reflect(I15.prototype,"I15");var TB95=function(i){function t(){var t=i.call(this)||this;t.heroComeProxy=new TF10(t);var e=new TF9(t);return e.aLV(O7.I23),e.aLV(O7.C32),t.rgF(I15.A1,t.GG64,t),t.rgF(I15.A2,t.GG65,t),t}return __extends(t,i),t.prototype.GG64=function(t){this.heroComeProxy.ZG17(t)},t.prototype.GG65=function(t){var e=this.gtM();200==t.head.state?(P5.sIs(t.body.ob),e.ZC13(t.body),e.notify(P4.HH84)):App.CM.apF(O6.B87,L10.A4,t)},t}(TE11);__reflect(TB95.prototype,"TB95");var TF9=function(i){function t(t){var e=i.call(this,t)||this;return e.openState=!1,e.redNum=0,e.firstLoginRedNum=0,e}return __extends(t,i),t.prototype.ZC13=function(t){t&&(null!=this.actData?this.actData.updateData(t):(this.actData=new HeroComeData(t),this.tips=this.actData.tips),this.updateRed())},t.prototype.updateRed=function(){this.redNum=this.FL35()},t.prototype.FL35=function(){var t=0;t+=this.firstLoginRedNum;var e=this.actData.getConfList();for(var i in e)if(this.actData.ZU28(e[i].target)==J13.A3){t+=1;break}return t},t.prototype.notify=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];i.prototype.notifyView.apply(this,[this].concat(t))},t}(TG79);__reflect(TF9.prototype,"TF9");var TF10=function(i){function t(t){var e=i.call(this,t)||this;return e.rSM(P4.HH84,e.ZQ38,e),e}return __extends(t,i),t.prototype.ZG17=function(t){var e={type:P4.HH83,body:{index:t}};this.sSM(e)},t.prototype.ZQ38=function(t){this.apF(I15.A2,t)},t}(TG80);__reflect(TF10.prototype,"TF10");var HeroComeView=function(s){function t(t,e){var i=s.call(this,t,e)||this;return i.sGN("release_act1043"),i.skinName=ChapterBreakSkin,i}return __extends(t,s),t.prototype.initUI=function(){s.prototype.initUI.call(this),this.gpBannerLb.bottom=2,this.banner.source="v1_bg_banner_sj_png";var t={render:ItemHeroCome,gap:5,width:this.listGroup.width,height:this.listGroup.height,arrowScale:1};this.listView=new CommonListBase(t),this.listGroup.addChild(this.listView),this.listView.verticalCenter=0,this.listView.horizontalCenter=0,this.goBtn.label=O3.tr(3812)},t.prototype.open=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];s.prototype.open.call(this),this.goBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickGoBtn,this),this.listView.open();var i=App.CM.gtM(O6.B47);this.ZA89(i)},t.prototype.uBM=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];s.prototype.uBM.call(this,t,e),t instanceof TF9&&this.ZA89(t)},t.prototype.ZA89=function(t){var e=t.actData,i=O3.tr(3318,e.getCostNum());this.missionLb.textFlow=M18.HTP.parser(i),this.leftCD=t.actData.ZHH64();var s=P6.FJ11(1e3*this.leftCD,5);this.cdLb.textFlow=M18.HTP.parser(O3.tr(3253,s)),this._timerHandler=App.K16.doTimer(1e3,this.leftCD,this.GY14,this);var o=t.actData.getViewList();this.listView.rfL(o),this.scrollToGet()},t.prototype.GY14=function(){this.leftCD--;var t=P6.FJ11(1e3*this.leftCD,5);this.cdLb.textFlow=M18.HTP.parser(O3.tr(3253,t)),this.leftCD<=0&&(this.cTH(),this.cdLb.text="")},t.prototype.cTH=function(){null!=this._timerHandler&&(App.K16.rBH(this._timerHandler),this._timerHandler=null)},t.prototype.scrollToGet=function(){var t=this.listView.getListData();for(var e in t)if(t[e].state==J13.A3){this.listView.ZQ18(parseInt(e));break}},t.prototype.close=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];s.prototype.close.call(this),this.listView.close(),this.goBtn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickGoBtn,this),this.cTH()},t.prototype.onClickGoBtn=function(){TG84.FM16(2003)},t}(BaseEuiView);__reflect(HeroComeView.prototype,"HeroComeView");var ItemHeroCome=function(e){function t(){var t=e.call(this)||this;return t.skinName=ItemHeroComeSkin,t.addEventListener(egret.Event.ADDED_TO_STAGE,t.open,t),t.addEventListener(egret.Event.REMOVED_FROM_STAGE,t.close,t),t}return __extends(t,e),t.prototype.open=function(){this.btnGet.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickGet,this)},t.prototype.close=function(){this.btnGet.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickGet,this),this.itemCollection.removeAll()},t.prototype.childrenCreated=function(){e.prototype.createChildren.call(this),this.itemCollection=new eui.ArrayCollection,this.listContent.dataProvider=this.itemCollection,this.listContent.itemRenderer=ItemIcon,this.awardsSc.scrollPolicyV=eui.ScrollPolicy.OFF,this.btnGet.label=O3.tr(3813)},t.prototype.dataChanged=function(){switch(this.lbTitle.textFlow=M18.HTP.parser(O3.tr(3318,this.data.conf.target)),this.imgTitle.width=this.lbTitle.width+55,this.btnGet.imgNew.visible=!1,this.data.state){case J13.A3:this.btnGet.imgNew.visible=!0,this.btnGet.visible=!0,this.imgGot.visible=!1,P16.sGF(this.btnGet,!1),this.btnGet.enabled=!0;break;case J13.A1:this.btnGet.visible=!0,this.btnGet.enabled=!1,this.imgGot.visible=!1,P16.sGF(this.btnGet,!0);break;case J13.A2:this.btnGet.visible=!1,this.imgGot.visible=!0}var t=[];for(var e in this.data.conf.award){var i={data:N12.gID(this.data.conf.award[e].k),ct:this.data.conf.award[e].v};t.push({itemData:i,isBottom:!1,scale:1})}this.itemCollection.replaceAll(t)},t.prototype.onClickGet=function(){App.CM.apF(O6.B47,I15.A1,this.data.conf.target)},t}(eui.ItemRenderer);__reflect(ItemHeroCome.prototype,"ItemHeroCome");var HeroComeData=function(i){function t(t){var e=i.call(this,t)||this;return e.confs=[],e.gotList={},e.updateData(t),e}return __extends(t,i),t.prototype.updateData=function(t){if(t){if(t.cf){var e=t.cf;for(var i in this.confs=[],e){var s=new HeroComeVo(e[i]);this.confs.push(s)}}this.gotList=null!=t.yaw?t.yaw:this.gotList,this.costNum=null!=t.c?t.c:this.costNum}this.ZU63(t)},t.prototype.ZU28=function(t){for(var e in this.gotList)if(t==this.gotList[e])return J13.A2;for(var e in this.confs){var i=this.confs[e];if(i.target==t)return i.target<=this.costNum?J13.A3:J13.A1}},t.prototype.getCostNum=function(){return this.costNum},t.prototype.getViewList=function(){var t=[];for(var e in this.confs){var i=this.confs[e],s={conf:i};s.state=this.ZU28(i.target),t.push(s)}return t.sort(function(t,e){return t.state!=e.state?t.state-e.state:t.conf.target-e.conf.target}),t},t.prototype.getConfList=function(){return this.confs},t}(ActivityVo);__reflect(HeroComeData.prototype,"HeroComeData");var HeroComeVo=function(){function t(t){this.updateData(t)}return t.prototype.updateData=function(t){for(var e in t){var i=t[e];switch(e){case"aw":this.award=t.aw;break;case"t":this.target=i}}},t}();__reflect(HeroComeVo.prototype,"HeroComeVo");var HH9=function(){function t(){}return t.A4=0,t.A3=1,t.A1=2,t.A2=3,t}();__reflect(HH9.prototype,"HH9");var TB42=function(i){function t(){var t=i.call(this)||this,e=new TE22(t);return e.aLV(O7.HH60),e.aLV(O7.C32),e.aLV(O7.I64),e.aLV(O7.HH96),e.aLV(O7.A62),App.VM.register(O7.HH60,"HeroTrainView",t,K17.UI_Main),t.rgF(HH9.A4,t.GK44,t),t.rgF(HH9.A3,t.GI46,t),t.proxy=new TE23(t),t.rgF(HH9.A1,t.GE14,t),t.rgF(HH9.A2,t.GE15,t),t}return __extends(t,i),t.prototype.GE14=function(t){this.proxy.ZD51(t)},t.prototype.GE15=function(t){if(200==t.head.state){var e=t.body,i=this.gtM();i.ZC13(e),i.notify(),t.body.ob&&P5.sIs(t.body.ob)}else App.CM.apF(O6.B87,L10.A4,t)},t.prototype.GK44=function(t){App.VM.open(O7.HH60,t);var e=App.CM.gtM(O6.B17);e.firstLoginRedNum=0,e.notify()},t.prototype.GI46=function(){App.VM.close(O7.HH60)},t}(TE11);__reflect(TB42.prototype,"TB42");var TE22=function(i){function t(t){var e=i.call(this,t)||this;return e.openState=!1,e.redNum=0,e.firstLoginRedNum=0,e}return __extends(t,i),t.prototype.ZC13=function(t){t&&(null!=this.actData?this.actData.updateData(t):(this.actData=new HeroTrainData(t),this.tips=this.actData.tips),this.updateRed())},t.prototype.updateRed=function(){this.openState&&(this.redNum=this.FL35())},t.prototype.FL35=function(){var t=0;t+=this.firstLoginRedNum;var e=this.actData.confs,i=!0;for(var s in e)e[s].getState==J13.A3&&(t+=1),e[s].getState!=J13.A2&&(i=!1);return i&&(t=0),t},t.prototype.isGetAll=function(){var t=this.actData.confs,e=!0;for(var i in t)if(t[i].getState!=J13.A2){e=!1;break}return e},t.prototype.notify=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];i.prototype.notifyView.apply(this,[this].concat(t))},t}(TG79);__reflect(TE22.prototype,"TE22");var TE23=function(i){function t(t){var e=i.call(this,t)||this;return e.rSM(P4.J69,e.ZD52,e),e}return __extends(t,i),t.prototype.ZD51=function(t){var e={type:P4.J68,body:{target:t}};this.sSM(e)},t.prototype.ZD52=function(t){this.apF(HH9.A2,t)},t}(TG80);__reflect(TE23.prototype,"TE23");var TF11=function(){function t(){}return t.FHH85=function(){var t=new Array,e=App.CM.gtM(O6.B17).actData.confs;for(var i in e){var s=e[i],o={};o.t=s.t,o.getState=s.getState,o.rewards=s.rw,t.push(o)}return t},t.gtM=function(){return App.CM.gtM(O6.B17)},t}();__reflect(TF11.prototype,"TF11");var HeroTrainItemView=function(e){function t(){var t=e.call(this)||this;return t.skinName=ItemHeroComeSkin,t.addEventListener(egret.Event.ADDED_TO_STAGE,t.open,t),t.addEventListener(egret.Event.REMOVED_FROM_STAGE,t.close,t),t}return __extends(t,e),t.prototype.open=function(){this.btnGet.addEventListener(egret.TouchEvent.TOUCH_TAP,this.ZU29,this)},t.prototype.close=function(){this.btnGet.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.ZU29,this),this.dataSource.removeAll()},t.prototype.childrenCreated=function(){e.prototype.createChildren.call(this),this.initUI()},t.prototype.initUI=function(){this.listContent.itemRenderer=ItemIcon,this.dataSource=new eui.ArrayCollection,this.listContent.dataProvider=this.dataSource,this.awardsSc.viewport=this.listContent,this.awardsSc.scrollPolicyH=eui.ScrollPolicy.OFF,this.awardsSc.scrollPolicyV=eui.ScrollPolicy.OFF,this.imgGot.$setVisible(!1)},t.prototype.dataChanged=function(){e.prototype.dataChanged.call(this);var t=O3.tr(3319,this.data.t);this.lbTitle.textFlow=(new egret.HtmlTextParser).parse(t),this.imgTitle.width=this.lbTitle.width+55,this.btnGet.imgNew.visible=!1,this.data.getState==J13.A1?(this.btnGet.bgStr="v1_btn_green_1_png",this.btnGet.label=O3.tr(3235),this.btnGet.$setVisible(!0),this.imgGot.$setVisible(!1)):this.data.getState==J13.A3?(this.btnGet.colour="0xfeeedf",this.btnGet.bgStr="v1_btn_yellow_1_png",this.btnGet.label=O3.tr(3232),this.btnGet.$setVisible(!0),this.imgGot.$setVisible(!1),this.btnGet.imgNew.visible=!0):(this.btnGet.$setVisible(!1),this.imgGot.$setVisible(!0)),this.ZJ81(this.data.rewards)},t.prototype.ZJ81=function(t){var e=[];for(var i in t){var s={itemData:{data:N12.gID(t[i].k),ct:t[i].v},isBottom:!1};e.push(s)}this.dataSource.replaceAll(e)},t.prototype.ZU29=function(){this.data.getState==J13.A1?App.CM.apF(O6.C12,O8.A83,O7.A62):this.data.getState==J13.A3&&App.CM.apF(O6.B17,HH9.A1,this.data.t)},t}(eui.ItemRenderer);__reflect(HeroTrainItemView.prototype,"HeroTrainItemView");var HeroTrainView=function(s){function t(t,e){var i=s.call(this,t,e)||this;return i.sGN("release_act1044"),i.skinName=ChapterBreakSkin,i}return __extends(t,s),t.prototype.initUI=function(){s.prototype.initUI.call(this);var t={render:HeroTrainItemView,gap:5,width:this.listGroup.width,height:this.listGroup.height,arrowScale:1};this.listView=new CommonListBase(t),this.listGroup.addChild(this.listView),this.listView.verticalCenter=0,this.listView.horizontalCenter=0,this.banner.source="v1_bg_banner_wjxl_jpg",this.goBtn.label=O3.tr(3754)},t.prototype.open=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];s.prototype.open.call(this),this.goBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickGoBtn,this),this.listView.open(),this.GX5()},t.prototype.uBM=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];s.prototype.uBM.call(this,t,e),t instanceof TE22&&this.GX5()},t.prototype.GX5=function(){var t=TF11.gtM(),e=t.actData.tv,i=O3.tr(3320,e);this.missionLb.textFlow=M18.HTP.parser(i),this.leftCD=t.actData.ZHH64();var s=P6.FJ11(1e3*this.leftCD,5);this.cdLb.textFlow=M18.HTP.parser(O3.tr(3253,s)),this._timerHandler=App.K16.doTimer(1e3,this.leftCD,this.GY14,this);var o=TF11.FHH85();this.listView.rfL(o)},t.prototype.GY14=function(){this.leftCD--;var t=P6.FJ11(1e3*this.leftCD,5);this.cdLb.textFlow=M18.HTP.parser(O3.tr(3253,t)),this.leftCD<=0&&(this.cTH(),this.cdLb.text="")},t.prototype.cTH=function(){null!=this._timerHandler&&(App.K16.rBH(this._timerHandler),this._timerHandler=null)},t.prototype.close=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];s.prototype.close.call(this),this.cTH(),this.goBtn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickGoBtn,this),this.listView.close()},t.prototype.onClickGoBtn=function(){App.CM.apF(O6.C12,O8.A83,O7.A62)},t}(BaseEuiView);__reflect(HeroTrainView.prototype,"HeroTrainView");var HeroTrainConfVo=function(t){this.rw=[],this.getState=J13.A1,t&&(this.t=t.t,this.rw=t.rw)};__reflect(HeroTrainConfVo.prototype,"HeroTrainConfVo");var HeroTrainData=function(i){function t(t){var e=i.call(this,t)||this;return e.confs=[],e.ag=[],e.tv=0,e.d=0,e.updateData(t),e}return __extends(t,i),t.prototype.updateData=function(t){if(t){if(this.ag=t.ag||this.ag,this.tv=null!=t.tv?t.tv:this.tv,this.d=null!=t.d?t.d:this.d,t.rwl){var e=t.rwl;for(var i in this.confs=[],e){var s=new HeroTrainConfVo(e[i]);this.confs.push(s)}}for(var i in this.confs){if(this.confs[i].getState=J13.A1,0<this.ag.length)for(var o in this.ag)if(this.confs[i].t==this.ag[o]){this.confs[i].getState=J13.A2;break}this.tv>=this.confs[i].t&&this.confs[i].getState!=J13.A2&&(this.confs[i].getState=J13.A3)}this.confs.sort(function(t,e){return t.getState==e.getState?t.t-e.t:t.getState-e.getState})}this.ZU63(t)},t}(ActivityVo);__reflect(HeroTrainData.prototype,"HeroTrainData");var B9=function(){function t(){}return t.A1=10001,t.A2=10002,t}();__reflect(B9.prototype,"B9");var HolidayExchangeControl=function(i){function t(){var t=i.call(this)||this;App.VM.register(O7.C66,"HolidayExchangeView",t,K17.UI_Main);var e=new TB11(t);return e.aLV(O7.C66),e.aLV(O7.I64),t.proxy=new TB12(t),t.rgF(B9.A1,t.proxy.exchange,t.proxy),t.rgF(B9.A2,t.GM14,t),t}return __extends(t,i),t.prototype.GM14=function(t){if(200==t.head.state){var e=t.body,i=this.gtM();i.ZC13(e),i.notify(),P5.sIs(t.body.ob)}else App.CM.apF(O6.B87,L10.A4,t)},t}(TE11);__reflect(HolidayExchangeControl.prototype,"HolidayExchangeControl");var TB11=function(i){function t(t){var e=i.call(this,t)||this;return e.openState=!1,e.redNum=0,e}return __extends(t,i),t.prototype.ZC13=function(t){t&&(null!=this.actData?this.actData.updateData(t):this.actData=new HolidayExchangeData(t),this.updateRed())},t.prototype.updateRed=function(){this.redNum=this.FL35()},t.prototype.FL35=function(){for(var t=0,e=this.actData.exchangeList;t<e.length;t++){var i=e[t];if(N12.FL6(i.n)&&i.l-(this.actData.exchangeCount[i.eid]||0))return 1}return 0},t.prototype.notify=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];i.prototype.notifyView.apply(this,[this].concat(t))},t}(TG79);__reflect(TB11.prototype,"TB11");var TB12=function(i){function t(t){var e=i.call(this,t)||this;return e.rSM(P4.G23,e.receive,e),e}return __extends(t,i),t.prototype.exchange=function(t){var e={type:P4.G22,body:{eid:t}};this.sSM(e)},t.prototype.receive=function(t){this.apF(B9.A2,t)},t}(TG80);__reflect(TB12.prototype,"TB12");var HolidayExchangeRender=function(e){function t(){var t=e.call(this)||this;return t.skinName="HolidayExchangeListItemSkin",t.addEventListener(egret.Event.ADDED_TO_STAGE,t.open,t),t.addEventListener(egret.Event.REMOVED_FROM_STAGE,t.close,t),t}return __extends(t,e),t.prototype.open=function(){this.btnGet.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClick,this)},t.prototype.close=function(){this.btnGet.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClick,this),this.ndc.removeAll(),this.gvc.removeAll()},t.prototype.onClick=function(){App.CM.apF(O6.A24,B9.A1,this.data.eid)},t.prototype.childrenCreated=function(){e.prototype.createChildren.call(this),this.initUI()},t.prototype.initUI=function(){this.ndc=new eui.ArrayCollection,this.rwN.dataProvider=this.ndc,this.rwN.itemRenderer=HolidayExchangeListItem,this.gvc=new eui.ArrayCollection,this.rwG.dataProvider=this.gvc,this.rwG.itemRenderer=HolidayExchangeListItem,this.btnGet.label=O3.tr(5888)},t.prototype.dataChanged=function(){var t=this.data,e=t.max,i=t.count,s=t.reset,o=t.needs,r=t.gives,n=0<e-i&&N12.FL6(o);this.btnGet.$setEnabled(n),P16.sGF(this.btnGet,!n),this.btnGet.imgNew.visible=n,this.labTips.text=s?O3.tr(3504):O3.tr(3503),this.labCount.textFlow=(new egret.HtmlTextParser).parser(O3.tr(3505,e-i,e));var a=o.map(function(t){return{itemData:{data:N12.gID(t.k),ct:{nc:t.v,oc:N12.giC(t.k)}},isBottom:!1,scale:1}}),h=r.map(function(t){return{itemData:{data:N12.gID(t.k),ct:t.v},isBottom:!1,scale:1}});this.ndc.replaceAll(a),this.gvc.replaceAll(h)},t}(eui.ItemRenderer);__reflect(HolidayExchangeRender.prototype,"HolidayExchangeRender");var HolidayExchangeListItem=function(s){function t(){return null!==s&&s.apply(this,arguments)||this}return __extends(t,s),t.prototype.setBottom=function(t){if(s.prototype.setBottom.call(this,t),!t){var e=this.getChildAt(0);this.height=e.height=80}},t.prototype.initItem=function(){if(s.prototype.initItem.call(this),"object"==typeof this.itemData.ct){var t=this.itemData.ct,e=t.oc,i=t.nc;this.lbCt.text=M18.format("$0/$1",[e,i]),this.lbCt.textColor=e<i?_cc.red:_cc.green,this.gpCt.visible=!0,P16.sGF(this.imgIcon,e<i)}},t}(ItemIcon);__reflect(HolidayExchangeListItem.prototype,"HolidayExchangeListItem");var HolidayExchangeView=function(s){function t(t,e){var i=s.call(this,t,e)||this;return i.sGN("release_act1063"),i.skinName="HolidayExchangeSkin",i}return __extends(t,s),t.prototype.initUI=function(){s.prototype.initUI.call(this);var t={render:HolidayExchangeRender,gap:5,width:this.gList.width,height:this.gList.height,arrowScale:1};this.listView=new CommonListBase(t),this.listView.verticalCenter=0,this.listView.horizontalCenter=0,this.gList.addChild(this.listView),this.btnDetails.addEventListener(egret.TouchEvent.TOUCH_TAP,this.ZQ27,this)},t.prototype.open=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];s.prototype.open.apply(this,t),this.listView.open()},t.prototype.close=function(){this.listView.close(),this.cTH(),this.btnDetails.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.ZQ27,this)},t.prototype.uBM=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];if(t instanceof TB11){var a=t.actData,h=[];if(a.exchangeList.forEach(function(t){var e=t.eid,i=t.l,s=t.r,o=t.n,r=t.g,n=a.exchangeCount[e]||0;h.push({max:i,needs:o,gives:r,reset:1==s,eid:e,count:n})}),this.listView.rfL(h),null==this.timerHandler)if(0<a.rs){this.leftCD=a.ZHH64();var s=O3.tr(3253,P6.FJ11(1e3*this.leftCD,5));this.leftCdLb.textFlow=(new egret.HtmlTextParser).parse(s),this.timerHandler=App.K16.doTimer(1e3,this.leftCD,this.GY14,this)}else this.leftCdLb.text=""}},t.prototype.GY14=function(){this.leftCD--;var t=O3.tr(3253,P6.FJ11(1e3*this.leftCD,5));this.leftCdLb.textFlow=(new egret.HtmlTextParser).parse(t),this.leftCD<=0&&(this.cTH(),this.leftCdLb.text="")},t.prototype.cTH=function(){null!=this.timerHandler&&(App.K16.rBH(this.timerHandler),this.timerHandler=null)},t.prototype.ZQ27=function(){var t=App.CM.gtM(O6.A24),e={title:O3.tr(5773),content:t.actData.desc};App.VM.open(O7.I8,e)},t}(BaseEuiView);__reflect(HolidayExchangeView.prototype,"HolidayExchangeView");var HolidayExchangeData=function(i){function t(t){var e=i.call(this,t)||this;return e.exchangeList=[],e.exchangeCount={},e.updateData(t),e}return __extends(t,i),t.prototype.updateData=function(t){this.exchangeList=t.epl||this.exchangeList,this.exchangeCount=t.em||this.exchangeCount,t&&this.ZU63(t)},t}(ActivityVo);__reflect(HolidayExchangeData.prototype,"HolidayExchangeData");var B15=function(){function t(){}return t.A1=0,t.A2=1,t}();__reflect(B15.prototype,"B15");var TA28=function(i){function t(){var t=i.call(this)||this;t.legionDiscountProxy=new TB44(t);var e=new TB43(t);return e.aLV(O7.D38),e.aLV(O7.C32),t.rgF(B15.A1,t.GI47,t),t.rgF(B15.A2,t.GI48,t),t}return __extends(t,i),t.prototype.GI47=function(t){this.legionDiscountProxy.ZB25(t)},t.prototype.GI48=function(t){var e=this.gtM();200==t.head.state?(P5.sIs(t.body.ob),e.ZC13(t.body),e.notify(P4.N66)):App.CM.apF(O6.B87,L10.A4,t)},t}(TE11);__reflect(TA28.prototype,"TA28");var TB43=function(i){function t(t){var e=i.call(this,t)||this;return e.openState=!1,e.redNum=0,e.firstLoginRedNum=0,e}return __extends(t,i),t.prototype.ZC13=function(t){t&&(null!=this.actData?this.actData.updateData(t):(this.actData=new LegionDiscountData(t),this.tips=this.actData.tips),this.updateRed())},t.prototype.updateRed=function(){this.redNum=this.FL35()},t.prototype.FL35=function(){var t=0;t+=this.firstLoginRedNum;var e=this.actData.ZM88();for(var i in e)if(this.actData.ZU28(i)==J13.A3){t+=1;break}return t},t.prototype.notify=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];i.prototype.notifyView.apply(this,[this].concat(t))},t}(TG79);__reflect(TB43.prototype,"TB43");var TB44=function(i){function t(t){var e=i.call(this,t)||this;return e.rSM(P4.N66,e.ZD53,e),e}return __extends(t,i),t.prototype.ZB25=function(t){var e={type:P4.N65,body:{t:t}};this.sSM(e)},t.prototype.ZD53=function(t){this.apF(B15.A2,t)},t}(TG80);__reflect(TB44.prototype,"TB44");var TB96=function(){};__reflect(TB96.prototype,"TB96");var ItemLegionDiscount=function(e){function t(){var t=e.call(this)||this;return t.skinName=ItemLegionDiscountSkin,t.addEventListener(egret.Event.ADDED_TO_STAGE,t.open,t),t.addEventListener(egret.Event.REMOVED_FROM_STAGE,t.close,t),t}return __extends(t,e),t.prototype.open=function(){this.btnGet.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickGet,this)},t.prototype.close=function(){this.btnGet.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickGet,this),this.itemCollection.removeAll()},t.prototype.childrenCreated=function(){e.prototype.createChildren.call(this),this.itemCollection=new eui.ArrayCollection,this.listContent.dataProvider=this.itemCollection,this.listContent.itemRenderer=ItemIcon,this.awardsSc.scrollPolicyV=eui.ScrollPolicy.OFF},t.prototype.dataChanged=function(){var t=App.CM.gtM(O6.B89);switch(this.data.conf.type){case 1:this.lbType.text=O3.tr(1606),this.imgType.source="v1_fonts_zhaobimaimbti1_png",this.lbTitle.text=O3.tr(1608);break;case 2:this.lbType.text=O3.tr(1606),this.imgType.source="v1_fonts_zhaobimaimbti1_png",this.data.state==J13.A1?t.myLegion&&t.myLegion.legion?this.lbTitle.textFlow=M18.HTP.parse(O3.tr(1609,this.data.conf.target,this.data.num,this.data.conf.target)):this.lbTitle.textFlow=M18.HTP.parse(O3.tr(1612,this.data.conf.target)):this.lbTitle.textFlow=M18.HTP.parse(O3.tr(1614,this.data.conf.target));break;case 3:this.lbType.text=O3.tr(1607),this.imgType.source="v1_fonts_zhaobimaimbti2_png",this.data.state==J13.A1?!t.myLegion||!t.myLegion.legion&&this.data.state==J13.A1?this.lbTitle.textFlow=M18.HTP.parse(O3.tr(1613,this.data.conf.target)):this.lbTitle.textFlow=M18.HTP.parse(O3.tr(1610,this.data.conf.target,this.data.num,this.data.conf.target)):this.lbTitle.textFlow=M18.HTP.parse(O3.tr(1615,this.data.conf.target))}switch(this.imgTitle.width=this.lbTitle.width+55,this.data.state){case J13.A3:this.btnGet.visible=!0,this.imgGot.visible=!1,P16.sGF(this.btnGet,!1),this.btnGet.enabled=!0,P7.FD53(this.btnGet,1);break;case J13.A1:this.btnGet.visible=!0,this.btnGet.enabled=!1,this.imgGot.visible=!1,P16.sGF(this.btnGet,!0),P7.FD53(this.btnGet,0);break;case J13.A2:this.btnGet.visible=!1,this.imgGot.visible=!0}this.btnGet.label=O3.tr(3769);var e=[];for(var i in this.data.conf.award){var s={data:N12.gID(this.data.conf.award[i].k),ct:this.data.conf.award[i].v};e.push({itemData:s,isBottom:!1,scale:1})}this.itemCollection.replaceAll(e)},t.prototype.onClickGet=function(){App.CM.apF(O6.A31,B15.A1,this.data.conf.type)},t}(eui.ItemRenderer);__reflect(ItemLegionDiscount.prototype,"ItemLegionDiscount");var LegionDiscountView=function(s){function t(t,e){var i=s.call(this,t,e)||this;return i.sGN("release_act1038"),i.skinName=ChapterBreakSkin,i}return __extends(t,s),t.prototype.initUI=function(){s.prototype.initUI.call(this),this.banner.source="v1_bg_qiandaofl12_jpg";var t={render:ItemLegionDiscount,gap:5,width:this.listGroup.width,height:this.listGroup.height,arrowScale:1};this.listView=new CommonListBase(t),this.listGroup.addChild(this.listView),this.listView.verticalCenter=0,this.listView.horizontalCenter=0,this.cdLb.y=this.cdLb.y-12,this.goBtn.visible=!1;var e=new eui.Label;e.size=20,e.textColor=16707295,e.text=O3.tr(1611),this.addChild(e),e.top=700,e.left=15},t.prototype.open=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];s.prototype.open.call(this),this.goBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickGoBtn,this),this.listView.open();var i=App.CM.gtM(O6.A31);this.ZA9(i)},t.prototype.uBM=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];s.prototype.uBM.call(this,t,e),t instanceof TB43&&this.ZA9(t)},t.prototype.ZA9=function(t){this.missionLb.visible=!1,this.leftCD=t.actData.ZHH64();var e=P6.FJ11(1e3*this.leftCD,5);this.cdLb.textFlow=M18.HTP.parser(O3.tr(3253,e)),this._timerHandler=App.K16.doTimer(1e3,this.leftCD,this.GY14,this);var i=t.actData.getViewList();this.listView.rfL(i)},t.prototype.GY14=function(){this.leftCD--;var t=P6.FJ11(1e3*this.leftCD,5);this.cdLb.textFlow=M18.HTP.parser(O3.tr(3253,t)),this.leftCD<=0&&(this.cTH(),this.cdLb.text="")},t.prototype.cTH=function(){null!=this._timerHandler&&(App.K16.rBH(this._timerHandler),this._timerHandler=null)},t.prototype.close=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];s.prototype.close.call(this),this.listView.close(),this.goBtn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickGoBtn,this),this.cTH()},t.prototype.onClickGoBtn=function(){var t=TC46.gtM().peopleAdvanceData.confs[0].sys;P7.FC5(t)},t}(BaseEuiView);__reflect(LegionDiscountView.prototype,"LegionDiscountView");var LegionDiscountData=function(i){function t(t){var e=i.call(this,t)||this;return e.confs=[],e.processList={},e.updateData(t),e}return __extends(t,i),t.prototype.updateData=function(t){if(t){if(t.confs){var e=t.confs;for(var i in this.confs=[],e){var s=new LegionDiscountVo(e[i]);this.confs.push(s)}}if(t.ps)for(var o in t.ps)if(this.processList[o])this.processList[o].updateData(t.ps[o]);else{var r=new LegionDiscountProcessVo(t.ps[o]);this.processList[o]=r}}this.ZU63(t)},t.prototype.ZU28=function(t){var e=J13.A1;if(!this.processList||!this.processList[t])return e;if(1==this.processList[t].isGet)return e=J13.A2;for(var i in this.confs){var s=this.confs[i];if(this.confs[i].type==t&&s.target<=this.processList[t].num){e=J13.A3;break}}return e},t.prototype.getViewList=function(){var t=[];for(var e in this.confs){var i=this.confs[e],s={conf:i};this.processList&&this.processList[i.type]?s.num=this.processList[i.type].num:s.num=0,s.state=this.ZU28(i.type),t.push(s)}return t},t.prototype.ZM88=function(){return this.processList},t}(ActivityVo);__reflect(LegionDiscountData.prototype,"LegionDiscountData");var LegionDiscountProcessVo=function(){function t(t){this.updateData(t)}return t.prototype.updateData=function(t){for(var e in t){var i=t[e];switch(e){case"type":this.type=i;break;case"num":this.num=i;break;case"alGet":this.isGet=i}}},t}();__reflect(LegionDiscountProcessVo.prototype,"LegionDiscountProcessVo");var LegionDiscountVo=function(t){t&&(this.type=t.type,this.target=t.target,this.award=t.award)};__reflect(LegionDiscountVo.prototype,"LegionDiscountVo");var HH10=function(){function t(){}return t.A4=10001,t.A3=10002,t.A1=10003,t.A2=10004,t}();__reflect(HH10.prototype,"HH10");var TB45=function(i){function t(){var t=i.call(this)||this,e=new TE24(t);return e.aLV(O7.HH63),e.aLV(O7.C32),e.aLV(O7.I64),App.VM.register(O7.HH63,"LimitShopView",t,K17.UI_Main),t.rgF(HH10.A4,t.GK45,t),t.rgF(HH10.A3,t.GI49,t),t.limitShopProxy=new TE25(t),t.rgF(HH10.A1,t.GA72,t),t.rgF(HH10.A2,t.GA73,t),t}return __extends(t,i),t.prototype.GA72=function(t,e){this.limitShopProxy.GA72(t,e)},t.prototype.GA73=function(t){if(200==t.head.state){var e=t.body,i=this.gtM();i.ZC13(e),i.notify(),P5.sIs(t.body.ob)}else 215==t.head.state?P7.FA78():App.CM.apF(O6.B87,L10.A4,t)},t.prototype.GK45=function(){App.VM.open(O7.HH63);var t=App.CM.gtM(O6.B21);t.firstLoginRedNum=0,t.notify()},t.prototype.GI49=function(){App.VM.close(O7.HH63)},t}(TE11);__reflect(TB45.prototype,"TB45");var TE24=function(i){function t(t){var e=i.call(this,t)||this;return e.openState=!1,e.redNum=0,e.firstLoginRedNum=0,e}return __extends(t,i),t.prototype.ZC13=function(t){t&&(null!=this.actData?this.actData.updateData(t):(this.actData=new LimitShopData(t),this.tips=this.actData.tips),this.updateRed())},t.prototype.updateRed=function(){this.redNum=this.FL35()},t.prototype.FL35=function(){var t=0;return t+=this.firstLoginRedNum},t.prototype.notify=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];i.prototype.notifyView.apply(this,[this].concat(t))},t}(TG79);__reflect(TE24.prototype,"TE24");var TE25=function(i){function t(t){var e=i.call(this,t)||this;return e.rSM(P4.B88,e.GA73,e),e}return __extends(t,i),t.prototype.GA72=function(t,e){var i={type:P4.B87,body:{index:t,num:e}};this.sSM(i)},t.prototype.GA73=function(t){this.apF(HH10.A2,t)},t}(TG80);__reflect(TE25.prototype,"TE25");var TF12=function(){};__reflect(TF12.prototype,"TF12");var LimitShopView=function(s){function t(t,e){var i=s.call(this,t,e)||this;return i.listData=[],i.skinName="DiscountShopSkin",i}return __extends(t,s),t.prototype.initUI=function(){s.prototype.initUI.call(this),this.createList(),this.imgBg.source="v1_bg_banner_xsth_jpg"},t.prototype.createList=function(){var t={render:LimitItem,width:this.listGroup.width,height:this.listGroup.height,arrowScale:1,tileLayout:!0,verticalGap:10,horizontalGap:10};this.listView=new CommonListBase(t),this.listGroup.addChild(this.listView),this.listView.verticalCenter=0,this.listView.horizontalCenter=0},t.prototype.updateList=function(){this.listData=this.actData.confVo,this.listView.rfL(this.listData)},t.prototype.open=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];s.prototype.open.call(this),this.listView.open();var i=App.CM.gtM(O6.B21);this.ZC16(i)},t.prototype.uBM=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];s.prototype.uBM.call(this,t,e),t instanceof TE24&&this.ZC16(t)},t.prototype.ZC16=function(t){if(this.actData=t.actData,this.updateList(),null==this.timerHandler)if(0<this.actData.rs){this.leftCD=this.actData.ZHH64();var e=O3.tr(3253,P6.FJ11(1e3*this.leftCD,5));this.leftCdLb.textFlow=M18.HTP.parse(e),this.timerHandler=App.K16.doTimer(1e3,this.leftCD,this.GY14,this)}else this.leftCdLb.text=""},t.prototype.GY14=function(){this.leftCD--;var t=O3.tr(3253,P6.FJ11(1e3*this.leftCD,5));this.leftCdLb.textFlow=M18.HTP.parse(t),this.leftCD<=0&&(this.cTH(),this.leftCdLb.text="")},t.prototype.cTH=function(){null!=this.timerHandler&&(App.K16.rBH(this.timerHandler),this.timerHandler=null)},t.prototype.close=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];s.prototype.close.call(this),this.cTH(),this.listView.close()},t}(BaseEuiView);__reflect(LimitShopView.prototype,"LimitShopView");var LimitItem=function(e){function t(){var t=e.call(this)||this;return t.skinName="LimitShopItemSkin",t.addEventListener(egret.Event.ADDED_TO_STAGE,t.open,t),t.addEventListener(egret.Event.REMOVED_FROM_STAGE,t.close,t),t}return __extends(t,e),t.prototype.open=function(){this.buyBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.clickBuy,this)},t.prototype.close=function(){this.buyBtn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.clickBuy,this)},t.prototype.childrenCreated=function(){e.prototype.createChildren.call(this),this.initUI()},t.prototype.initUI=function(){},t.prototype.dataChanged=function(){O5.FB13(this.itemLb,this.data.itemData.data.name,this.data.itemData.data.quality);var t=O3.tr(3362,this.data.hasBuy,this.data.limitBuy);this.limitLb.textFlow=M18.HTP.parse(t);var e=this.data.oldPrice;this.yjLb.text=e+"";var i=this.data.nowPrice;this.xjLb.text=i+"";var s={itemData:this.data.itemData,isBottom:!1},o=new ItemIcon;o.iconData=s,this.itemGrp.removeChildren(),this.itemGrp.addChild(o),this.hxImg.width=this.yjLb.width+58+48+40,this.data.hasBuy>=this.data.limitBuy?(P16.sGF(this.buyBtn,!0),this.buyBtn.$setEnabled(!1),this.buyBtn.label=O3.tr(3295)):(P16.sGF(this.buyBtn,!1),this.buyBtn.$setEnabled(!0),this.buyBtn.label=O3.tr(3294))},t.prototype.clickBuy=function(){var t={};t.controllerConst=O6.B21,t.reqConst=HH10.A1,t.id=this.data.index;var e=this.data.commodity.k,i=this.data.commodity.v;t.itemname=N12.FK5(e),t.bg=N12.FL5(e),t.icon=N12.FJ86(e),t.itemid=Number(e),t.itemnum=Number(i);var s=N12.gID(e);t.desc=s.desc;var o=pack.I11.GOLD,r=this.data.nowPrice;t.costIcon=N12.FJ86(o),t.costNum=Number(r),t.costId=Number(o),t.cost="x"+r,t.limitnum=this.data.limitBuy,t.batchnum=this.data.limitBuy,t.buyTime=this.data.hasBuy,this.data.hasBuy<this.data.limitBuy?(t.soldout=0,t.txt=O3.tr(2508,this.data.hasBuy,this.data.limitBuy),App.VM.open(O7.I45,t)):P18.sDP(O3.tr(5649)),TG40.playClickEffect()},t}(eui.ItemRenderer);__reflect(LimitItem.prototype,"LimitItem");var LimitShopConfVo=function(){function t(t){this.hasBuy=0,this.initData(t)}return t.prototype.initData=function(t){if(t){this.index=t.index,this.oldPrice=t.originalPrice,this.nowPrice=t.presentPrice,this.discount=t.discount,this.limitBuy=t.limit,this.reset=t.reset,this.commodity=t.commodity;var e=N12.gID(String(this.commodity.k));this.itemData={data:e,ct:this.commodity.v}}},t}();__reflect(LimitShopConfVo.prototype,"LimitShopConfVo");var LimitShopData=function(i){function t(t){var e=i.call(this,t)||this;return e.updateData(t),e}return __extends(t,i),t.prototype.updateData=function(t){if(t){if(this.hasBuyList=t.rb||this.hasBuyList,t.confs){null!=this.confVo&&0<this.confVo.length&&this.confVo.splice(0,this.confVo.length),this.confVo=[];for(var e=0;e<t.confs.length;e++){var i=new LimitShopConfVo(t.confs[e]);this.confVo.push(i)}}if(null!=t.rb)for(e=0;e<this.confVo.length;e++)this.confVo[e].hasBuy=0;if(0<this.hasBuyList.length)for(e=0;e<this.hasBuyList.length;e++)for(var s=0;s<this.confVo.length;s++)if(this.confVo[s].index==this.hasBuyList[e].k){this.confVo[s].hasBuy=this.hasBuyList[e].v;break}this.confVo.sort(function(t,e){var i=t.hasBuy-t.limitBuy==0?1:0,s=e.hasBuy-e.limitBuy==0?1:0;return i==s?t.index-e.index:i-s}),this.ZU63(t)}},t}(ActivityVo);__reflect(LimitShopData.prototype,"LimitShopData");var E11=function(){function t(){}return t.A2=0,t.A1=1,t}();__reflect(E11.prototype,"E11");var TA83=function(e){function t(){var t=e.call(this)||this;return new TD6(t).aLV(O7.C32),t.rgF(E11.A2,t.GG66,t),t.rgF(E11.A1,t.GF7,t),t}return __extends(t,e),t.prototype.GG66=function(){App.VM.open(O7.G14);var t=App.CM.gtM(O6.A80);t.firstLoginRedNum=0,t.notify()},t.prototype.GF7=function(){App.VM.close(O7.G14)},t}(TE11);__reflect(TA83.prototype,"TA83");var TD6=function(i){function t(t){var e=i.call(this,t)||this;return e.openState=!1,e.redNum=0,e.firstLoginRedNum=0,e}return __extends(t,i),t.prototype.ZC13=function(t){t&&(null!=this.actData?this.actData.updateData(t):(this.actData=new MarriageActData(t),this.tips=this.actData.tips),this.updateRed())},t.prototype.updateRed=function(){this.redNum=this.FL35()},t.prototype.FL35=function(){var t=0;return t+=this.firstLoginRedNum},t.prototype.notify=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];i.prototype.notifyView.apply(this,[this].concat(t))},t}(TG79);__reflect(TD6.prototype,"TD6");var TD7=function(i){function t(t){var e=i.call(this,t)||this;return e.rSM(P4.B14,e.ZA50,e),e}return __extends(t,i),t.prototype.ZB26=function(t){var e={type:P4.B13,body:{id:t}};this.sSM(e)},t.prototype.ZA50=function(t){this.apF(C15.A2,t)},t}(TG80);__reflect(TD7.prototype,"TD7");var TD60=function(){function t(){}return t.FHH85=function(){var t=new Array,e=App.CM.gtM(O6.A46).peopleAdvanceData.confs;for(var i in e){var s=e[i],o={},r=P7.FB44(s.sys);o.id=s.id,o.title=O3.tr(3244,r.name,s.lv,s.needPeople,e[i].np,e[i].needPeople),o.getState=s.getState,o.rewards=s.award,o.sys=s.sys,t.push(o)}return t},t.gtM=function(){return App.CM.gtM(O6.A46)},t}();__reflect(TD60.prototype,"TD60");var ItemMarriageAct=function(e){function t(){var t=e.call(this)||this;return t.skinName=ItemMarriageActSkin,t.addEventListener(egret.Event.ADDED_TO_STAGE,t.open,t),t.addEventListener(egret.Event.REMOVED_FROM_STAGE,t.close,t),t}return __extends(t,e),t.prototype.open=function(){this.btnGo.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickGo,this)},t.prototype.close=function(){this.btnGo.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickGo,this),this.itemCollection.removeAll()},t.prototype.childrenCreated=function(){e.prototype.createChildren.call(this),this.itemCollection=new eui.ArrayCollection,this.listContent.dataProvider=this.itemCollection,this.listContent.itemRenderer=ItemIcon,this.awardsSc.scrollPolicyV=eui.ScrollPolicy.OFF},t.prototype.dataChanged=function(){switch(this.data.id){case 1:this.imgType.source="v1_fonts_jpjh_png",this.imgTitle.source="v1_fonts_jisanpu_png";break;case 2:this.imgType.source="v1_fonts_hhjh_png",this.imgTitle.source="v1_fonts_haohua_png";break;case 3:this.imgType.source="v1_fonts_dwjh_png",this.imgTitle.source="v1_fonts_diwang_png"}var t=I7.FB81(this.data.id,null,.9);this.itemCollection.replaceAll(t);var e=I7.FB80(this.data.id);this.lbCost1.textFlow=M18.HTP.parse(O3.tr(3766,e[1])),this.imgGood1.setData(N12.gID(e[0])),this.imgGood1.setImgSize({w:40,h:40}),this.lbCost2.textFlow=M18.HTP.parse(O3.tr(3768,this.data.cost[0].v)),this.imgGood2.setData(N12.gID(this.data.cost[0].k)),this.imgGood2.setImgSize({w:40,h:40}),this.btnGo.label=O3.tr(3765),this.lblyuanjia.textFlow=M18.HTP.parse(O3.tr(3764)),this.lblhuodong.textFlow=M18.HTP.parse(O3.tr(3767))},t.prototype.onClickGo=function(){TF83.FJ99()?App.CM.apF(O6.B42,I9.A24):App.CM.apF(O6.B42,I9.A21)},t}(eui.ItemRenderer);__reflect(ItemMarriageAct.prototype,"ItemMarriageAct");var MarriageActView=function(s){function t(t,e){var i=s.call(this,t,e)||this;return i.sGN("release_act1037"),i.skinName=ChapterBreakSkin,i}return __extends(t,s),t.prototype.initUI=function(){s.prototype.initUI.call(this),this.banner.source="v1_bg_qumindaofl11_jpg";var t={render:ItemMarriageAct,gap:5,width:this.listGroup.width,height:this.listGroup.height,arrowScale:1};this.listView=new CommonListBase(t),this.listGroup.addChild(this.listView),this.listView.verticalCenter=0,this.listView.horizontalCenter=0,this.cdLb.y=this.cdLb.y-2,this.goBtn.visible=!1},t.prototype.open=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];s.prototype.open.call(this),this.goBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickGoBtn,this),this.listView.open();var i=App.CM.gtM(O6.A80);this.ZA34(i)},t.prototype.uBM=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];s.prototype.uBM.call(this,t,e),t instanceof TD6&&this.ZA34(t)},t.prototype.ZA34=function(t){this.missionLb.visible=!1,this.leftCD=t.actData.ZHH64();var e=P6.FJ11(1e3*this.leftCD,5);this.cdLb.textFlow=M18.HTP.parser(O3.tr(3253,e)),this._timerHandler=App.K16.doTimer(1e3,this.leftCD,this.GY14,this);var i=t.actData.confs;this.listView.rfL(i)},t.prototype.GY14=function(){this.leftCD--;var t=P6.FJ11(1e3*this.leftCD,5);this.cdLb.textFlow=M18.HTP.parser(O3.tr(3253,t)),this.leftCD<=0&&(this.cTH(),this.cdLb.text="")},t.prototype.cTH=function(){null!=this._timerHandler&&(App.K16.rBH(this._timerHandler),this._timerHandler=null)},t.prototype.close=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];s.prototype.close.call(this),this.listView.close(),this.cTH(),this.goBtn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickGoBtn,this)},t.prototype.onClickGoBtn=function(){var t=TC46.gtM().peopleAdvanceData.confs[0].sys;P7.FC5(t)},t}(BaseEuiView);__reflect(MarriageActView.prototype,"MarriageActView");var MarriageActData=function(i){function t(t){var e=i.call(this,t)||this;return e.confs=[],e.updateData(t),e}return __extends(t,i),t.prototype.updateData=function(t){if(t&&t.confs){var e=t.confs;for(var i in this.confs=[],e){var s=new MarriageActVo(e[i]);this.confs.push(s)}}this.ZU63(t)},t.prototype.getConfData=function(t){for(var e in this.confs)if(this.confs[e].id==t)return this.confs[e]},t}(ActivityVo);__reflect(MarriageActData.prototype,"MarriageActData");var MarriageActVo=function(t){t&&(this.id=t.grade,this.cost=t.cost,this.discount=t.discount)};__reflect(MarriageActVo.prototype,"MarriageActVo");var B2=function(){function t(){}return t.A4=10001,t.A3=10002,t.A1=10003,t.A2=10004,t}();__reflect(B2.prototype,"B2");var TA17=function(i){function t(){var t=i.call(this)||this,e=new TA84(t);return e.aLV(O7.B82),e.aLV(O7.C32),e.aLV(O7.I64),App.VM.register(O7.B82,"MaterialFubenView",t,K17.UI_Main),t.rgF(B2.A4,t.GB49,t),t.rgF(B2.A3,t.GB5,t),t.materialFubenActProxy=new TA85(t),t.rgF(B2.A1,t.GA34,t),t.rgF(B2.A2,t.GA35,t),t}return __extends(t,i),t.prototype.GA34=function(t){this.materialFubenActProxy.GA34(t)},t.prototype.GA35=function(t){if(200==t.head.state){var e=t.body,i=this.gtM();i.ZC13(e),i.notify(),P5.sIs(t.body.ob)}else App.CM.apF(O6.B87,L10.A4,t)},t.prototype.GB49=function(){App.VM.open(O7.B82);var t=App.CM.gtM(O6.A15);t.firstLoginRedNum=0,t.notify()},t.prototype.GB5=function(){App.VM.close(O7.B82)},t}(TE11);__reflect(TA17.prototype,"TA17");var TA84=function(i){function t(t){var e=i.call(this,t)||this;return e.openState=!1,e.redNum=0,e.firstLoginRedNum=0,e}return __extends(t,i),t.prototype.ZC13=function(t){t&&(null!=this.actData?this.actData.updateData(t):(this.actData=new MaterialFubenActData(t),this.tips=this.actData.tips),this.updateRed())},t.prototype.updateRed=function(){this.redNum=this.FL35()},t.prototype.FL35=function(){var t=0;t+=this.firstLoginRedNum;var e=this.actData.confVo;for(var i in e)if(e[i].getState==J13.A3){t+=1;break}return t},t.prototype.notify=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];i.prototype.notifyView.apply(this,[this].concat(t))},t}(TG79);__reflect(TA84.prototype,"TA84");var TA85=function(i){function t(t){var e=i.call(this,t)||this;return e.rSM(P4.A78,e.GA35,e),e}return __extends(t,i),t.prototype.GA34=function(t){var e={type:P4.A77,body:{index:t}};this.sSM(e)},t.prototype.GA35=function(t){this.apF(B2.A2,t)},t}(TG80);__reflect(TA85.prototype,"TA85");var TB13=function(){};__reflect(TB13.prototype,"TB13");var MaterialFubenActView=function(s){function t(t,e){var i=s.call(this,t,e)||this;return i.skinName=ChapterBreakSkin,i}return __extends(t,s),t.prototype.initUI=function(){s.prototype.initUI.call(this),this.banner.source="v1_bg_qumindaofl7_jpg";var t={render:RechargeSumItemView,gap:5,width:this.listGroup.width,height:this.listGroup.height,arrowScale:1};this.listView=new CommonListBase(t),this.listGroup.addChild(this.listView),this.listView.verticalCenter=0,this.listView.horizontalCenter=0,this.goBtn.label=O3.tr(3777)},t.prototype.open=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];s.prototype.open.call(this),this.goBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickGoBtn,this),this.listView.open();var i=App.CM.gtM(O6.A15);this.ZA23(i)},t.prototype.uBM=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];s.prototype.uBM.call(this,t,e),t instanceof TA84&&this.ZA23(t)},t.prototype.ZA23=function(t){this.actData=t.actData;var e=O3.tr(3287,this.actData.hasChallenge);if(this.missionLb.textFlow=M18.HTP.parser(e),null==this.timerHandler)if(0<this.actData.rs){this.leftCD=this.actData.ZHH64();var i=O3.tr(3253,P6.FJ11(1e3*this.leftCD,5));this.cdLb.textFlow=M18.HTP.parser(i),this.timerHandler=App.K16.doTimer(1e3,this.leftCD,this.GY14,this)}else this.cdLb.text="";var s=this.actData.confVo;this.listView.rfL(s)},t.prototype.GY14=function(){this.leftCD--;var t=O3.tr(3253,P6.FJ11(1e3*this.leftCD,5));this.cdLb.textFlow=M18.HTP.parser(t),this.leftCD<=0&&(this.cTH(),this.cdLb.text="")},t.prototype.cTH=function(){null!=this.timerHandler&&(App.K16.rBH(this.timerHandler),this.timerHandler=null)},t.prototype.close=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];s.prototype.close.call(this),this.goBtn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickGoBtn,this),this.cTH(),this.listView.close()},t.prototype.onClickGoBtn=function(){App.CM.apF(O6.B85,L15.A42,O7.D14)},t}(BaseEuiView);__reflect(MaterialFubenActView.prototype,"MaterialFubenActView");var MaterialDragonActConfVo=function(){function t(t){this.getState=J13.A1,this.sLink=801,this.controllerConst=O6.A15,this.reqConst=B2.A1,this.initData(t)}return t.prototype.initData=function(t){t&&(this.id=t.index,this.tarCount=t.count,this.awd=t.award,this.title=O3.tr(3286,this.tarCount))},t}();__reflect(MaterialDragonActConfVo.prototype,"MaterialDragonActConfVo");var MaterialFubenActData=function(i){function t(t){var e=i.call(this,t)||this;return e.confVo=[],e.hasGotList=[],e.hasChallenge=0,e.updateData(t),e}return __extends(t,i),t.prototype.updateData=function(t){if(t){if(this.hasGotList=t.yaw||this.hasGotList,this.hasChallenge=null==t.ft?this.hasChallenge:t.ft,t.confs){null!=this.confVo&&0<this.confVo.length&&this.confVo.splice(0,this.confVo.length),this.confVo=[];for(var e=0;e<t.confs.length;e++){var i=new MaterialDragonActConfVo(t.confs[e]);this.confVo.push(i)}}if(0<this.hasGotList.length)for(var e in this.confVo)for(var s in this.hasGotList)this.confVo[e].id==this.hasGotList[s]&&(this.confVo[e].getState=J13.A2);for(var e in this.confVo){var o=this.confVo[e];this.hasChallenge>=o.tarCount&&o.getState!=J13.A2&&(this.confVo[e].getState=J13.A3)}this.confVo.sort(function(t,e){return t.getState==e.getState?t.id-e.id:t.getState-e.getState}),this.ZU63(t)}},t}(ActivityVo);__reflect(MaterialFubenActData.prototype,"MaterialFubenActData");var D9=function(){function t(){}return t.A4=10001,t.A3=10002,t.A1=10003,t.A2=10004,t}();__reflect(D9.prototype,"D9");var TA56=function(i){function t(){var t=i.call(this)||this,e=new TC44(t);return e.aLV(O7.F15),e.aLV(O7.C32),e.aLV(O7.I64),App.VM.register(O7.F15,"MysticalShopView",t,K17.UI_Main),t.rgF(D9.A4,t.GF8,t),t.rgF(D9.A3,t.GE16,t),t.mysticalShopProxy=new TC45(t),t.rgF(D9.A1,t.GA36,t),t.rgF(D9.A2,t.GA37,t),t}return __extends(t,i),t.prototype.GA36=function(t,e){this.mysticalShopProxy.GA36(t,e)},t.prototype.GA37=function(t){if(200==t.head.state){var e=t.body,i=this.gtM();i.ZC13(e),i.notify(),P5.sIs(t.body.ob)}else 215==t.head.state?P7.FA78():App.CM.apF(O6.B87,L10.A4,t)},t.prototype.GF8=function(){App.VM.open(O7.F15);var t=App.CM.gtM(O6.A61);t.firstLoginRedNum=0,t.notify()},t.prototype.GE16=function(){App.VM.close(O7.F15)},t}(TE11);__reflect(TA56.prototype,"TA56");var TC44=function(i){function t(t){var e=i.call(this,t)||this;return e.openState=!1,e.redNum=0,e.firstLoginRedNum=0,e}return __extends(t,i),t.prototype.ZC13=function(t){t&&(null!=this.actData?this.actData.updateData(t):(this.actData=new MysticalShopData(t),this.tips=this.actData.tips),this.updateRed())},t.prototype.updateRed=function(){this.redNum=this.FL35()},t.prototype.FL35=function(){var t=0;return t+=this.firstLoginRedNum},t.prototype.notify=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];i.prototype.notifyView.apply(this,[this].concat(t))},t}(TG79);__reflect(TC44.prototype,"TC44");var TC45=function(i){function t(t){var e=i.call(this,t)||this;return e.rSM(P4.A57,e.GA37,e),e}return __extends(t,i),t.prototype.GA36=function(t,e){var i={type:P4.A56,body:{index:t,num:e}};this.sSM(i)},t.prototype.GA37=function(t){this.apF(D14.A3,t)},t}(TG80);__reflect(TC45.prototype,"TC45");var TD8=function(){};__reflect(TD8.prototype,"TD8");var MysticalShopView=function(s){function t(t,e){var i=s.call(this,t,e)||this;return i.listData=[],i.skinName="MysticalShopSkin",i}return __extends(t,s),t.prototype.initUI=function(){s.prototype.initUI.call(this),this.createList(),this.resetLb.textFlow=M18.HTP.parse(O3.tr(3796))},t.prototype.createList=function(){var t={render:MysticalItem,width:this.listGroup.width,height:this.listGroup.height,arrowScale:1,tileLayout:!0,verticalGap:10,horizontalGap:10};this.listView=new CommonListBase(t),this.listGroup.addChild(this.listView),this.listView.verticalCenter=0,this.listView.horizontalCenter=0},t.prototype.updateList=function(){this.listData=this.actData.confVo,this.listView.rfL(this.listData)},t.prototype.open=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];s.prototype.open.call(this),this.listView.open();var i=App.CM.gtM(O6.A61);this.ZA90(i)},t.prototype.uBM=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];s.prototype.uBM.call(this,t,e),t instanceof TC44&&this.ZA90(t)},t.prototype.ZA90=function(t){if(this.actData=t.actData,this.updateList(),null==this.timerHandler)if(0<this.actData.rs){this.leftCD=this.actData.ZHH64();var e=O3.tr(3253,P6.FJ11(1e3*this.leftCD,5));this.leftCdLb.textFlow=M18.HTP.parse(e),this.timerHandler=App.K16.doTimer(1e3,this.leftCD,this.GY14,this)}else this.leftCdLb.text=""},t.prototype.GY14=function(){this.leftCD--;var t=O3.tr(3253,P6.FJ11(1e3*this.leftCD,5));this.leftCdLb.textFlow=M18.HTP.parse(t),this.leftCD<=0&&(this.cTH(),this.leftCdLb.text="")},t.prototype.cTH=function(){null!=this.timerHandler&&(App.K16.rBH(this.timerHandler),this.timerHandler=null)},t.prototype.close=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];s.prototype.close.call(this),this.cTH(),this.listView.close()},t}(BaseEuiView);__reflect(MysticalShopView.prototype,"MysticalShopView");var MysticalItem=function(e){function t(){var t=e.call(this)||this;return t.skinName="MysticalShopItemSkin",t.addEventListener(egret.Event.ADDED_TO_STAGE,t.open,t),t.addEventListener(egret.Event.REMOVED_FROM_STAGE,t.close,t),t}return __extends(t,e),t.prototype.open=function(){this.buyBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.clickBuy,this)},t.prototype.close=function(){this.buyBtn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.clickBuy,this)},t.prototype.childrenCreated=function(){e.prototype.createChildren.call(this),this.initUI()},t.prototype.initUI=function(){App.CM.gtM(O6.A61).actData;this.itemIcon=new ItemIcon,this.iconGp.addChild(this.itemIcon),this.lblyuanjia.textFlow=M18.HTP.parse(O3.tr(3797)),this.lblxianjia.textFlow=M18.HTP.parse(O3.tr(3799))},t.prototype.hasSkin=function(t,e){return TD5.hasSkin(t,e)},t.prototype.dataChanged=function(){var t=this.data.itemData.data,e=t.name,i=t.quality,s=t.skinid,o=t.id;this.nameLb.text=e,O5.FB13(this.nameLb,e,i),this.discountLb.text=O3.tr(3254,this.data.discount),this.limitBuyLb.text=O3.tr(3255,this.data.hasBuy,this.data.limitBuy),this.oldPriceLb.textFlow=M18.HTP.parse(O3.tr(3798,this.data.oldPrice)),this.nowPriceLb.textFlow=M18.HTP.parse(O3.tr(3800,this.data.nowPrice));var r={itemData:this.data.itemData,isBottom:!1};this.itemIcon.data=r,this.data.hasBuy>=this.data.limitBuy?(P16.sGF(this.buyBtn,!0),this.buyBtn.$setEnabled(!1),this.buyBtn.label=O3.tr(3295)):!App.TG81.inRange(66900,66999,parseInt(o),!0)&&this.hasSkin(o,s)?(P16.sGF(this.buyBtn,!0),this.buyBtn.$setEnabled(!1),this.buyBtn.label=O3.tr(3801)):(P16.sGF(this.buyBtn,!1),this.buyBtn.$setEnabled(!0),this.buyBtn.label=O3.tr(3294)),this.notResetImg.$setVisible(0==this.data.reset)},t.prototype.clickBuy=function(){var t={};t.controllerConst=O6.A61,t.reqConst=D9.A1,t.id=this.data.index;var e=this.data.commodity.k,i=this.data.commodity.v;t.itemname=N12.FK5(e),t.bg=N12.FL5(e),t.icon=N12.FJ86(e),t.itemid=Number(e),t.itemnum=Number(i);var s=N12.gID(e);t.desc=s.desc;var o=pack.I11.GOLD,r=this.data.nowPrice;t.costIcon=N12.FJ86(o),t.costNum=Number(r),t.costId=Number(o),t.cost="x"+r,t.limitnum=this.data.limitBuy,t.batchnum=this.data.limitBuy,t.buyTime=this.data.hasBuy,this.data.hasBuy<this.data.limitBuy?(t.soldout=0,t.txt=O3.tr(2508,this.data.hasBuy,this.data.limitBuy),App.VM.open(O7.I45,t)):P18.sDP(O3.tr(5649)),TG40.playClickEffect()},t}(eui.ItemRenderer);__reflect(MysticalItem.prototype,"MysticalItem");var MysticalShopConfVo=function(){function t(t){this.hasBuy=0,this.initData(t)}return t.prototype.initData=function(t){if(t){this.index=t.index,this.oldPrice=t.originalPrice,this.nowPrice=t.presentPrice,this.discount=t.discount,this.limitBuy=t.limit,this.reset=t.reset,this.commodity=t.commodity;var e=N12.gID(String(this.commodity.k));this.itemData={data:e,ct:this.commodity.v}}},t}();__reflect(MysticalShopConfVo.prototype,"MysticalShopConfVo");var NewGift,MysticalShopData=function(i){function t(t){var e=i.call(this,t)||this;return e.updateData(t),e}return __extends(t,i),t.prototype.updateData=function(t){if(t){if(this.hasBuyList=t.rb||this.hasBuyList,t.confs){null!=this.confVo&&0<this.confVo.length&&this.confVo.splice(0,this.confVo.length),this.confVo=[];for(var e=0;e<t.confs.length;e++){var i=new MysticalShopConfVo(t.confs[e]);this.confVo.push(i)}}if(null!=t.rb)for(e=0;e<this.confVo.length;e++)this.confVo[e].hasBuy=0;if(0<this.hasBuyList.length)for(e=0;e<this.hasBuyList.length;e++)for(var s=0;s<this.confVo.length;s++)if(this.confVo[s].index==this.hasBuyList[e].k){this.confVo[s].hasBuy=this.hasBuyList[e].v;break}this.ZU63(t)}},t}(ActivityVo);__reflect(MysticalShopData.prototype,"MysticalShopData"),function(t){var e=function(){function a(){}return a.FK35=function(t){var e=t.newgift_init,i=t.newgift_trigger,s=t.newgift_group,o=t.newgift_gift;a.gift=o,a.init=e,a.group=s,a.trigger=i,this.initGift()},a.initGift=function(){for(var t in a.gift){var e=a.gift[t],i=M18.FL28(e.bonus,";");for(var s in e.item=[],i){var o,r=M18.FL28(i[s],":"),n=M18.FL28(r[1],",");o={k:Number(r[0]),v:Number(n[0]),isSp:Number(n[1])},e.item.push(o)}}},a.gIV=function(t){return a.init[t].value},a.FB50=function(t){return a.group[t]},a.FE56=function(){return a.group},a.FF72=function(t){return a.gift[t]},a}();t.Config=e,__reflect(e.prototype,"NewGift.Config")}(NewGift||(NewGift={})),function(t){var e=function(){function t(){}return t.opNewGiftView=100,t.clNewGiftView=101,t.NEWGIFT_BUY_REQ=200,t.NEWGIFT_BUY_RES=201,t.giftType={bindGold:1,gold:2,recharge:3},t}();t.Const=e,__reflect(e.prototype,"NewGift.Const")}(NewGift||(NewGift={})),function(i){var t=function(e){function t(){var t=e.call(this)||this;return t.proxy=new i.Proxy(t),App.VM.register(O7.I54,"NewGiftView",t,K17.UI_Main_TOP),t.rgF(i.Const.opNewGiftView,t.GK46,t),t.rgF(i.Const.clNewGiftView,t.GK47,t),t.rgF(i.Const.NEWGIFT_BUY_REQ,t.proxy.buyReq,t.proxy),t.rgF(i.Const.NEWGIFT_BUY_RES,t.buyRes,t),new i.Model(t),t.model.aLV(O7.I54),t.model.aLV(O7.I64),t}return __extends(t,e),Object.defineProperty(t.prototype,"model",{get:function(){return this.gtM()},enumerable:!0,configurable:!0}),t.prototype.buyRes=function(t){200==t.head.state?(this.model.ZC13(t.body),P5.sIs(t.body.ob),this.model.notify(P4.W57)):App.CM.apF(O6.B87,L10.A4,t)},t.prototype.GK46=function(t){App.VM.open(O7.I54,t)},t.prototype.GK47=function(){App.VM.close(O7.I54)},t}(TE11);i.Controller=t,__reflect(t.prototype,"NewGift.Controller")}(NewGift||(NewGift={})),function(t){var e=function(i){function t(t){var e=i.call(this,t)||this;return e.openState=!1,e.redNum=0,e.firstLoginRedNum=0,e}return __extends(t,i),t.prototype.ZC13=function(t){if(t){if(null!=this.actData)this.actData.updateData(t);else{if(this.actData=new NewGiftData(t),this.actData.gifts)for(var e in this.openedId=[],this.removeId=[],this.actData.gifts){var i=this.actData.gifts[e];this.openedId.push(this.actData.gifts[e].id),i.gids.length!=i.hb.length&&0!=this.actData.getGiftCd(i)||this.removeId.push(i.id)}this.tips=this.actData.tips}this.updateRed()}},t.prototype.isShowEntre=function(){for(var t in this.actData.gifts){var e=this.actData.gifts[t];if(this.removeId.indexOf(e.id)<0)return!0}return!1},t.prototype.getFirstGift=function(){for(var t in this.actData.gifts){var e=this.actData.gifts[t];if(this.removeId.indexOf(e.id)<0)return e.id}},t.prototype.addRemoveId=function(){for(var t in this.removeId||(this.removeId=[]),this.actData.gifts){var e=this.actData.gifts[t];(e.gids.length==e.hb.length||0==this.actData.getGiftCd(e))&&this.removeId.indexOf(e.id)<0&&this.removeId.push(e.id)}},t.prototype.updateRed=function(){this.redNum=this.FL35()},t.prototype.FL35=function(){if(this.firstLoginRedNum)return 1;for(var t in this.actData.gifts)if(this.openedId.indexOf(this.actData.gifts[t].id)<0)return 1;return 0},t.prototype.notify=function(t){i.prototype.notifyView.call(this,this,t)},t}(TG79);t.Model=e,__reflect(e.prototype,"NewGift.Model")}(NewGift||(NewGift={})),function(e){var t=function(i){function t(t){var e=i.call(this,t)||this;return e.rSM(P4.W57,e.buyRes,e),e}return __extends(t,i),t.prototype.buyReq=function(t,e){var i={type:P4.W56,body:{id:e,gid:t}};this.sSM(i)},t.prototype.buyRes=function(t){this.apF(e.Const.NEWGIFT_BUY_RES,t)},t}(TG80);e.Proxy=t,__reflect(t.prototype,"NewGift.Proxy")}(NewGift||(NewGift={}));var NewGiftIcon=function(e){function t(){var t=e.call(this)||this;return t.skinName="IconWelfareSkin",t.texiao.$setVisible(!1),t.addEventListener(egret.Event.ADDED_TO_STAGE,t.open,t),t.addEventListener(egret.Event.REMOVED_FROM_STAGE,t.close,t),t}return __extends(t,e),t.prototype.open=function(){this.addEventListener(egret.TouchEvent.TOUCH_TAP,this.oCI,this)},t.prototype.close=function(){this.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.oCI,this)},t.prototype.childrenCreated=function(){e.prototype.createChildren.call(this)},t.prototype.dataChanged=function(){this.icon.source=this.data.icon,P7.FD57(this.data.name,this.lbName),this.red.visible=0<this.data.red,this.texiao.visible=this.data.select},t.prototype.changeState=function(t){this.data.select=t,this.texiao.visible=t},t.prototype.oCI=function(){TG40.playClickEffect();var t=App.CM.gtM(O6.B79);t.curId=this.data.id,0<this.data.red&&t.openedId.push(this.data.id),t.notify("changeGift")},t}(eui.ItemRenderer);__reflect(NewGiftIcon.prototype,"NewGiftIcon");var NewGiftView=function(o){function t(t,e){var i=o.call(this,t,e)||this;return i.itemNum=6,i.skinName="NewGiftSkin",i.sGN("release_act1107"),i}return __extends(t,o),Object.defineProperty(t.prototype,"model",{get:function(){return App.CM.gtM(O6.B79)},enumerable:!0,configurable:!0}),t.prototype.open=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];o.prototype.open.apply(this,t),this.dlg.ZM69(this.closeSelf,this);var i=this.model;this.dlg.title=i.actData.title,i.firstLoginRedNum=0,this.curId=t[0]||i.getFirstGift(),i.curId=this.curId,this.leftGroup.addEventListener(egret.TouchEvent.TOUCH_TAP,this.ZQ40,this),this.rightGroup.addEventListener(egret.TouchEvent.TOUCH_TAP,this.ZM90,this),this.topScroller.addEventListener(eui.UIEvent.CHANGE_END,this.endScroller,this),this.btn1.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickLeft,this),this.btn2.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickRight,this),this.ZM89(),this.ZU39(),this.endScroller()},t.prototype.initUI=function(){o.prototype.initUI.call(this),this.itemCollection1=new eui.ArrayCollection,this.dg1.dataProvider=this.itemCollection1,this.dg1.itemRenderer=ItemIcon,this.itemCollection2=new eui.ArrayCollection,this.dg2.dataProvider=this.itemCollection2,this.dg2.itemRenderer=ItemIcon,this.topData=new eui.ArrayCollection,this.topList.dataProvider=this.topData,this.topList.itemRenderer=NewGiftIcon,this.lbStr1.textFlow=O3.tr2(6969),this.lbStr3.textFlow=O3.tr2(6969),this.imgGoodL1.setImgSize({w:40,h:40}),this.imgGoodL2.setImgSize({w:40,h:40}),this.imgGoodR1.setImgSize({w:40,h:40}),this.imgGoodR2.setImgSize({w:40,h:40}),this.btn1.label=O3.tr(6973),this.btn2.label=O3.tr(6973),this.lbTip.text=O3.tr(6971),this.topScroller.scrollPolicyV=eui.ScrollPolicy.OFF},t.prototype.uBM=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];o.prototype.uBM.apply(this,[t].concat(e));var s=e&&0<e.length?e[0]:null;t instanceof NewGift.Model&&("changeGift"==s?(this.curId=t.curId,this.ZQ39()):this.ZU39(),this.ZM89(t))},t.prototype.ZU39=function(t){var e=(t=t||this.model).actData,i=[];for(var s in e.gifts){var o=e.gifts[s];if(!(0==e.getGiftCd(o)||0<=t.removeId.indexOf(o.id))){var r=NewGift.Config.FB50(o.id),n={id:o.id,icon:r.icon,name:r.icontext,red:0<=t.openedId.indexOf(o.id)?0:1,select:this.curId==o.id};i.push(n)}}0==i.length&&this.closeSelf(),this.topData.replaceAll(i)},t.prototype.ZQ39=function(){for(var t=0;t<this.topData.length;t++){var e=this.topList.getElementAt(t);e&&e.changeState(this.curId==e.data.id)}},t.prototype.ZM89=function(t){var e=(t=t||this.model).actData;for(var i in e.gifts)if(e.gifts[i].id==this.curId){this.curGift=e.gifts[i];break}if(this.curGift){var s=NewGift.Config.FB50(this.curGift.id);this.imgBanner.source=s.bannertext,this.imgBanner1.source=s.banner,this.leftCD=t.actData.getGiftCd(this.curGift);var o=P6.FJ11(1e3*this.leftCD,5);this.lbCd.textFlow=M18.HTP.parser(O3.tr(3253,o)),this._timerHandler=App.K16.doTimer(1e3,this.leftCD,this.GY14,this);var r=NewGift.Config.FF72(this.curGift.gids[0]);if(this.imgTitle1.source=this.getImgTitle(r.pricetype),this.setItem(this.itemCollection1,r.item),this.setCostItem(this.imgGoodL1,this.lbCostGoodL1,r.value),r.pricetype!=NewGift.Const.giftType.recharge)this.lbStr2.textFlow=O3.tr2(6987),this.setCostItem(this.imgGoodL2,this.lbCostGoodL2,r.price),this.gpGoodYb2.visible=this.gpGoodYb2.includeInLayout=!0;else this.lbStr2.text=O3.tr(5913),(n=K18.FE65(r.price))&&(this.lbStr2.textFlow=O3.tr2(6970,n.price),this.gpGoodYb2.visible=this.gpGoodYb2.includeInLayout=!1);this.lbTitle1.textFlow=O3.tr2(6977,r.upgrade);var n,a=NewGift.Config.FF72(this.curGift.gids[1]);if(this.imgTitle2.source=this.getImgTitle(a.pricetype),this.setItem(this.itemCollection2,a.item),this.setCostItem(this.imgGoodR1,this.lbCostGoodR1,a.value),a.pricetype!=NewGift.Const.giftType.recharge)this.lbStr4.textFlow=O3.tr2(6987),this.setCostItem(this.imgGoodR2,this.lbCostGoodR2,a.price),this.gpGoodYb3.visible=this.gpGoodYb3.includeInLayout=!0;else(n=K18.FE65(a.price))&&(this.lbStr4.textFlow=O3.tr2(6970,n.price),this.gpGoodYb3.visible=this.gpGoodYb3.includeInLayout=!1);this.lbTitle2.textFlow=O3.tr2(6977,a.upgrade);var h=0<=this.curGift.hb.indexOf(r.id),p=0<=this.curGift.hb.indexOf(a.id);P16.sGF(this.btn1,h),P16.sGF(this.btn2,p),this.btn1.enabled=!h,this.btn2.enabled=!p,this.btn1.label=h?O3.tr(3223):O3.tr(6973),this.btn2.label=p?O3.tr(3223):O3.tr(6973)}},t.prototype.setCostItem=function(t,e,i){var s=P7.str2kv1(i);t.setData(N12.gID(s.k)),e.text=s.v.toString()},t.prototype.setItem=function(t,e){var i=[];for(var s in e){var o=N12.gID(e[s].k),r=1==e[s].isSp?TF59.FC9(o.quality):void 0,n={data:o,ct:e[s].v,texiao:r};i.push({itemData:n,isBottom:!1,scale:.9,isJp:1==e[s].isSp})}t.replaceAll(i)},t.prototype.getImgTitle=function(t){switch(t){case NewGift.Const.giftType.bindGold:return"com_pyuanlibao_png";case NewGift.Const.giftType.gold:return"com_yuanbaolibao_png";case NewGift.Const.giftType.recharge:return"com_czhilibao_png"}},t.prototype.GY14=function(){this.leftCD--;var t=P6.FJ11(1e3*this.leftCD,5);if(this.lbCd.textFlow=M18.HTP.parser(O3.tr(3253,t)),this.leftCD<=0){this.cTH(),this.lbCd.text="";var e=this.model;this.curId=e.getFirstGift(),this.ZU39(e),this.ZM89(e)}},t.prototype.cTH=function(){null!=this._timerHandler&&(App.K16.rBH(this._timerHandler),this._timerHandler=null)},t.prototype.buyGift=function(t){var e=this,i=NewGift.Config.FF72(t);if(i.pricetype!=NewGift.Const.giftType.recharge){var s=M18.FL28(i.price,":"),o=Number(s[1]),r=N12.giC(s[0]),n=N12.giC(N12.itemId.gold);if(o<=r)if(i.pricetype==NewGift.Const.giftType.gold){var a=function(){App.CM.apF(O6.B79,NewGift.Const.NEWGIFT_BUY_REQ,t,e.curGift.id)};App.VM.open(O7.HH38,M18.FG71(O3.tr(6972,o)),this,a)}else i.pricetype==NewGift.Const.giftType.bindGold&&App.CM.apF(O6.B79,NewGift.Const.NEWGIFT_BUY_REQ,t,this.curGift.id);else if(i.pricetype==NewGift.Const.giftType.bindGold){a=function(){o-r<=n?App.CM.apF(O6.B79,NewGift.Const.NEWGIFT_BUY_REQ,t,e.curGift.id):P7.FA78()};App.VM.open(O7.HH38,M18.FG71(O3.tr(3406)),this,a)}else i.pricetype==NewGift.Const.giftType.gold&&P7.FA78()}else App.CM.apF(O6.C29,P8.A1,i.price)},t.prototype.onClickLeft=function(){this.buyGift(this.curGift.gids[0])},t.prototype.onClickRight=function(){this.buyGift(this.curGift.gids[1])},t.prototype.endScroller=function(){if(this.topScroller.validateNow(),this.leftGroup.visible=!(this.topScroller.viewport.scrollH<=0),this.topScroller.viewport.contentWidth<=this.topScroller.width)this.rightGroup.visible=!1;else{this.topScroller.width+this.topScroller.viewport.scrollH>=this.topScroller.viewport.contentWidth?this.rightGroup.visible=!1:this.rightGroup.visible=!0,this.redLeft.visible=!1,this.redRight.visible=!1;for(var t=this.topScroller.viewport.scrollH,e=0;93<=t;)t-=93,e++;var i=e+this.itemNum-1,s=this.topData.getItemAt(this.topData.length-1);if(i>s.index&&(i=s.index),this.leftGroup.visible)for(var o=0;o<this.topData.length;o++){var r=this.topData.getItemAt(o);if(!(e<=o)&&0<r.red){this.redLeft.visible=!0;break}}if(this.rightGroup.visible)for(o=0;o<this.topData.length;o++){var n=this.topData.getItemAt(o);if(!(o<=i)&&0<n.red){this.redRight.visible=!0;break}}}},t.prototype.ZQ40=function(){var t=this.topScroller.viewport.scrollH-559;this.topScroller.viewport.scrollH=t<0?0:t,this.endScroller(),TG40.playClickEffect()},t.prototype.ZM90=function(){var t=this.topScroller.viewport.scrollH+559;t+this.topScroller.width>=this.topScroller.viewport.contentWidth?this.topScroller.viewport.scrollH=this.topScroller.viewport.contentWidth-this.topScroller.width:this.topScroller.viewport.scrollH=t,this.endScroller(),TG40.playClickEffect()},t.prototype.closeSelf=function(){App.CM.apF(O6.B79,NewGift.Const.clNewGiftView)},t.prototype.close=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];o.prototype.close.apply(this,t),this.btn1.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickLeft,this),this.btn2.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickRight,this),this.leftGroup.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.ZQ40,this),this.rightGroup.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.ZM90,this),this.topScroller.removeEventListener(eui.UIEvent.CHANGE_END,this.endScroller,this),this.model.addRemoveId(),this.model.notify(),this.curId=null,this.curGift=null,this.itemNum=null},t}(BaseEuiView);__reflect(NewGiftView.prototype,"NewGiftView");var NewGiftData=function(i){function t(t){var e=i.call(this,t)||this;return e.updateData(t),e}return __extends(t,i),t.prototype.updateData=function(e){if(this.gifts=null!=e.gifts?e.gifts:this.gifts,e.gifts)for(var t in this.gifts=e.gifts,this.gifts)this.gifts[t].loadTime=P6.getTime(!0);if(e.g){var i=!1;for(var t in this.gifts)if(this.gifts[t].id==e.g.id){i=!0,this.gifts[t]=e.g,this.gifts[t].loadTime=P6.getTime(!0);break}i||(this.gifts.push(e.g),this.gifts[this.gifts.length-1].loadTime=P6.getTime(!0),App.K16.doTimer(500,1,function(){if(!App.VM.isOpen(O7.I54)){var t=App.CM.gtM(O6.B79);App.CM.gtM(O6.B99).isFighting&&t.openedId.indexOf(e.g.id)<0?(t.toOpenId||(t.toOpenId=[]),t.toOpenId.push(e.g.id)):t.openedId.indexOf(e.g.id)<0&&(App.CM.apF(O6.B79,NewGift.Const.opNewGiftView,e.g.id),t.openedId.push(e.g.id))}},this))}this.ZU63(e)},t.prototype.getGiftCd=function(t){var e=P6.getTime(!0),i=t.cd-(e-t.loadTime);return 0<i?i:0},t}(ActivityVo);__reflect(NewGiftData.prototype,"NewGiftData"),function(t){var e=function(){function t(){}return t.OpenDetailsView=10002,t.CloseDetailsView=10003,t.ATTACK_REQ=20001,t.ATTACK_RES=20002,t}();t.Const=e,__reflect(e.prototype,"Nian.Const")}(Nian||(Nian={})),function(s){var t=function(i){function t(){var t=i.call(this)||this,e=new s.Model(t);return e.aLV(O7.A61),e.aLV(O7.C81),e.aLV(O7.I29),e.aLV(O7.C32),e.aLV(O7.I64),App.VM.register(O7.I29,"NianView",t,K17.UI_Main),App.VM.register(O7.A61,"NianDetailsMainView",t,K17.UI_Main_TOP),t.rgF(s.Const.OpenDetailsView,t.GV57,t),t.rgF(s.Const.CloseDetailsView,t.GT94,t),t.proxy=new s.Proxy(t),t.rgF(s.Const.ATTACK_REQ,t.proxy.attackReq,t.proxy),t.rgF(s.Const.ATTACK_RES,t.GY4,t),t}return __extends(t,i),Object.defineProperty(t.prototype,"model",{get:function(){return this.gtM()},enumerable:!0,configurable:!0}),t.prototype.GV57=function(){for(var t,e=[],i=0;i<arguments.length;i++)e[i]=arguments[i];(t=App.VM).open.apply(t,[O7.A61,O7.C81].concat(e))},t.prototype.GT94=function(){App.VM.close(O7.A61)},t.prototype.GY4=function(t){var e=this;if(200==t.head.state)if(t.body.cd_)P7.fightCoolingCD(t.body.cd_);else{var i=P7.isGetView(O7.I29);this.model.ZC13(t.body),t.body.fr&&App.CM.apF(O6.B99,N1.A11,t.body.fr,{rewards:t.body.ob,needResult:!1,type:P15.A47,isAuto:i},function(){var t=e.model.challengeId;t&&(App.VM.open(TF59.FA34(F7.B33),O7.I29),e.GV57(t),delete e.model.challengeId)},this),t.body.upme&&t.body.upme.cd&&(this.model._atkCd=P6.getTime(!0)+Math.ceil(t.body.upme.cd/1e3))}else App.CM.apF(O6.B87,L10.A4,t)},t}(TE11);s.Controller=t,__reflect(t.prototype,"Nian.Controller")}(Nian||(Nian={})),function(e){var t=function(i){function t(t){var e=i.call(this,t)||this;return e.openState=!1,e.redNum=0,e.firstLoginRedNum=0,e}return __extends(t,i),t.prototype.ZC13=function(t){null!=this.actData?this.actData.ZU63(t):this.actData=new e.SnowmanAct(t),this.updateRed(),this.notify()},t.prototype.updateRed=function(){this.redNum=this.FL35()},t.prototype.FL35=function(){var t=0;if(this.actData)for(var e=0,i=this.actData.sms;e<i.length;e++){var s=i[e];if(1===this.actData.getStatus(s.id)){t+=1;break}}return t+=this.firstLoginRedNum},t.prototype.notify=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];i.prototype.notifyView.call(this,this,t)},t.prototype.getCountdown=function(t){return Math.max(0,(this._atkCd||0)-P6.getTime(!0))},t.prototype.attack=function(t){this.challengeId=t},t}(TG79);e.Model=t,__reflect(t.prototype,"Nian.Model")}(Nian||(Nian={})),function(e){var t=function(i){function t(t){var e=i.call(this,t)||this;return e.rSM(P4.U79,e.GY4,e),e}return __extends(t,i),t.prototype.attackReq=function(t){this.sSM({type:P4.U78,body:{id:t}})},t.prototype.GY4=function(t){this.apF(e.Const.ATTACK_RES,t)},t}(TG80);e.Proxy=t,__reflect(t.prototype,"Nian.Proxy")}(Nian||(Nian={}));var NianDetailsMainView=function(s){function t(t,e){var i=s.call(this,t,e)||this;return i.set(O7.A61,"年兽来袭").rgS(O7.C81,"NianDetailsView",""),i}return __extends(t,s),t.prototype.initUI=function(){s.prototype.initUI.call(this),this.btnList.visible=!1,this.content.addEventListener("changeName",this.onChangeName,this)},t.prototype.onChangeName=function(t){this.title=t.data},t}(BasePanelViewX);__reflect(NianDetailsMainView.prototype,"NianDetailsMainView");var NianDetailsView=function(s){function t(t,e){var i=s.call(this,t,e)||this;return i.skinName="NianDetailsSkin",i}return __extends(t,s),t.prototype.open=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];s.prototype.open.apply(this,[t].concat(e)),this.createList(),this.listView.open(),this.pBarPro.slideDuration=0,this.id=t,this.cRank.lab0.text=O3.tr(5442),this.cRank.lab1.text=O3.tr(5440),this.cRank.lab2.text=O3.tr(5441),this.labTips.text=O3.tr(5444),this.updateList(),this.updateRank(),this.GX5(),this.GX42(),this.btnAtk.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClick,this)},t.prototype.createList=function(){var t={render:NianRewardListItem,width:this.listGroup.width,height:this.listGroup.height,arrowScale:1,tileLayout:!0,verticalGap:10,horizontalGap:10};this.listView=new CommonListBase(t),this.listGroup.addChild(this.listView),this.listView.verticalCenter=0,this.listView.horizontalCenter=0},t.prototype.GX5=function(t){var e=(t=t||App.CM.gtM(O6.C26)).actData.FF93(this.id);if(e){this.imgName.source=["v1_fonts_nsou_png","v1_fonts_dansou_png","v1_fonts_nsouwen_png"][e.t-1];var i=t.actData.getStatus(this.id);switch(this.imgStatus.visible=!(1===i)&&-1!==t.actData.rc,i){case 3:this.imgStatus.source="v1_fonts_yitoazou_png";break;case 2:this.imgStatus.source="v1_fonts_yijc_png"}this.pBarPro.maximum=e.thp,this.pBarPro.value=e.hp;var s=O3.tr(7137);12010031==e.npc?s=O3.tr(7138):12010032==e.npc&&(s=O3.tr(7139)),this.myParent&&this.myParent.dispatchEventWith("changeName",!1,s)}},t.prototype.uBM=function(t){t instanceof Nian.Model&&(this.updateList(),this.updateRank(),this.GX5(),this.GX42())},t.prototype.updateList=function(){var t=App.CM.gtM(O6.C26),e=t.actData.FF93(this.id).t-1,i=[];2===e&&i.push({awd:P7.str2kv(t.actData.reward,";",":"),rank:0});for(var s=Object.keys(t.actData.rankData[e]).map(function(t){return parseInt(t)}).sort(function(t,e){return e-t})[0],o=1;o<=s;o++)i.push({awd:t.actData.FL67(e,o),rank:o});this.listView.rfL(i)},t.prototype.updateRank=function(t){t=t||App.CM.gtM(O6.C26);var e=App.CM.gtM(O6.B82),i=t.actData.r[this.id],s=this.cRank.gMe;if(i&&0<i.length){for(var o=0;o<5;o++){var r=i[o],n=this.cRank.gList.getChildAt(o);s.visible=n.visible=!0;var a=n.getChildAt(0),h=n.getChildAt(1);r&&r.aid?(a.text=r.rank+". "+r.name,h.text=r.value.toString()):(a.text="",h.text="")}this.cRank.lab2.visible=!1}else this.cRank.gList.visible=!1,this.cRank.lab2.visible=!0;var p=s.getChildAt(0),l=t.actData.me[this.id],c=M18.FG71(O3.tr(5443,"#d82222",O3.tr(5436),e.avatarInfo.n)),u=0;l&&(c=M18.FG71(O3.tr(5443,p.textColor.toString(),l.rank,e.avatarInfo.n)),u=l.killHp);var d=s.getChildAt(1);p.textFlow=c,d.text=u.toString()},t.prototype.GX42=function(){this.timer=this.timer||App.K16.doTimer(1e3,0,this.GX42,this);var t=App.CM.gtM(O6.C26),e=t.actData.getStatus(this.id),i="";switch(e){case 3:case 2:i=t.actData.haveNext()?O3.tr(5438,Snowman.Utils.dateFormat(t.actData.nc)):O3.tr(5548);break;case 1:default:i=O3.tr(5439,Snowman.Utils.dateFormat(t.actData.rc))}this.labTime.text=i;var s=t.getCountdown(this.id);this.btnAtk.touchEnabled=s<=0,this.btnAtk.visible=1===e,this.btnAtk.visible&&P16.sGF(this.btnAtk,!this.btnAtk.touchEnabled),this.btnAtk.label=s?O3.tr(5447,s):O3.tr(5446)},t.prototype.onClick=function(){var t=App.CM.gtM(O6.C26),e=t.actData.getStatus(this.id);3===e||2===e||(t&&t.attack(this.id),App.CM.apF(O6.C26,Nian.Const.ATTACK_REQ,this.id))},t.prototype.close=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];App.K16.removeAll(this),this.listView.close(),this.btnAtk.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClick,this),s.prototype.close.apply(this,t)},t}(BaseEuiView);__reflect(NianDetailsView.prototype,"NianDetailsView");var NianMonsterView=function(){function t(t){this.root=t,this.root.pBarPro.slideDuration=0,this.root.pBarPro.labelFunction=function(t,e){return Math.floor(t/e*100)+"%"}}return t.prototype.update=function(t){this.showObj&&this.showObj.destory(),this.id=t.id;var e={id:N17.FF93(t.npc).image,x:0,y:0,dir:Dir.br,objType:P13.A6,bt:BehaviourType.Stand_d};this.showObj=new FightGameObject,this.showObj.action=Action.Stand,this.showObj.setData(e,this.root.pos),this.GX42()},t.prototype.GX5=function(){var t=App.CM.gtM(O6.C26),e=t.actData.FF93(this.id),i=t.actData.getStatus(this.id),s=2===i;switch(this.root.imgStatus.visible=1!==i&&-1!==t.actData.rc,i){case 3:this.root.imgStatus.source="v1_fonts_yitoazou_png";break;case 2:this.root.imgStatus.source="v1_fonts_yijc_png";break;case 1:default:this.root.pBarPro.maximum=e.thp,this.root.pBarPro.value=e.hp}this.root.cRank.visible=s,this.root.pBarPro.visible=1===i,s&&(this.root.cRank.visible=!0,this.updateRank()),this.root.pos.scaleY=this.root.pos.scaleX=1===e.t?1:1.2},t.prototype.GX42=function(){if(this.root.gTime.visible=!1,this.root.gCd.visible=!1,null!=this.id){var t=App.CM.gtM(O6.C26),e=t.actData.getStatus(this.id),i=void 0,s=t.getCountdown(this.id);switch(e){case 3:case 2:i=t.actData.haveNext()?O3.tr(5438,Snowman.Utils.dateFormat(t.actData.nc)):"";break;case 1:default:this.root.gCd.visible=0<s,this.root.labCd.text=s+"S",i=O3.tr(5439,Snowman.Utils.dateFormat(t.actData.rc))}i&&(this.root.gTime.visible=!0,this.root.labTime.text=i)}this.GX5()},t.prototype.updateRank=function(){for(var t=App.CM.gtM(O6.C26).actData.r[this.id]||[],e=0;e<3;e++){var i=this.root.cRank.getChildAt(e),s=t[e];if(i.visible=!!s,s)i.getChildByName("title").text=""+s.name}},t.prototype.close=function(){this.showObj&&this.showObj.destory()},t}();__reflect(NianMonsterView.prototype,"NianMonsterView");var NianRewardListItem=function(e){function t(){var t=e.call(this)||this;return t.skinName="SnowmanRewardListItemSkin",t.addEventListener(egret.Event.ADDED_TO_STAGE,t.open,t),t.addEventListener(egret.Event.REMOVED_FROM_STAGE,t.close,t),t}return __extends(t,e),t.prototype.open=function(){},t.prototype.close=function(){this.dataSource.removeAll()},t.prototype.childrenCreated=function(){e.prototype.createChildren.call(this),this.initUI()},t.prototype.initUI=function(){this.listContent.itemRenderer=ItemIcon,this.dataSource=new eui.ArrayCollection,this.listContent.dataProvider=this.dataSource,this.awardsSc.viewport=this.listContent,this.awardsSc.scrollPolicyH=eui.ScrollPolicy.OFF,this.awardsSc.scrollPolicyV=eui.ScrollPolicy.OFF},t.prototype.dataChanged=function(){e.prototype.dataChanged.call(this),this.imgRank.visible=this.data.rank<=3,this.gRank.visible=!this.imgRank.visible,this.data.rank<=0?this.imgRank.source="v1_fonts_jcBOSS_png":this.data.rank<=3?this.imgRank.source="v1_fonts_di"+this.data.rank+"ming_png":this.titleLb0.text=O3.tr(5445,this.data.rank),this.ZJ81(this.data.awd)},t.prototype.ZJ81=function(t){for(var e=[],i=0,s=t;i<s.length;i++){var o=s[i],r={itemData:{data:N12.gID(o.k),ct:o.v},isBottom:!1};e.push(r)}this.dataSource.replaceAll(e)},t}(eui.ItemRenderer);__reflect(NianRewardListItem.prototype,"NianRewardListItem");var Nian,NianView=function(o){function t(t,e){var i=o.call(this,t,e)||this;return i.snowmans=[],i.skinName="NianSkin",i}return __extends(t,o),Object.defineProperty(t.prototype,"model",{get:function(){return App.CM.gtM(O6.C26)},enumerable:!0,configurable:!0}),t.prototype.initUI=function(){o.prototype.initUI.call(this);for(var t=0;t<this.pMonster.numChildren;t++){var e=this.pMonster.getChildAt(t);e.name=t.toString(),e.addEventListener(egret.TouchEvent.TOUCH_TAP,this.ZQ27,this),this.snowmans.push(new NianMonsterView(e))}},t.prototype.open=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];o.prototype.open.apply(this,t),this.ZM91(),this.ZG18(),this.labDesc.text=this.model.actData.actTips,this.timer=this.timer||App.K16.doTimer(1e3,0,this.GX42,this)},t.prototype.uBM=function(t){t instanceof Nian.Model&&this.ZM91(t)},t.prototype.ZQ27=function(t){var e=parseInt(t.currentTarget.name),i=this.model;App.CM.apF(O6.C26,Nian.Const.OpenDetailsView,i.actData.sms[e].id)},t.prototype.ZM91=function(t){var s=this;(t=t||this.model).actData.sms.forEach(function(t,e){var i=O3.tr(7137);12010031==t.npc?i=O3.tr(7138):12010032==t.npc&&(i=O3.tr(7139)),s.snowmans[e].update(t),s.gNames.getChildAt(e).text=i})},t.prototype.GX42=function(){for(var t=0,e=this.snowmans;t<e.length;t++){e[t].GX42()}this.ZG18()},t.prototype.ZG18=function(){var t=P6.FJ11(1e3*this.model.actData.ZHH64(),5);this.labTime.textFlow=M18.HTP.parser(O3.tr(3253,t))},t.prototype.close=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];o.prototype.close.apply(this,t);for(var i=0,s=this.snowmans;i<s.length;i++){s[i].close()}App.K16.removeAll(this)},t}(BaseEuiView);__reflect(NianView.prototype,"NianView"),function(t){var e=function(f){function t(){return null!==f&&f.apply(this,arguments)||this}return __extends(t,f),t.prototype.ZU63=function(t){if(f.prototype.ZU63.call(this,t),this.timeDifference=P6.getTime(!0),t.atmp&&t.atmp.rank){var e=t.atmp.rank,n={};if(e.split("/").forEach(function(t,r){n[r]={},t.split("|").forEach(function(t){var e=t.split("#"),i=(e[0],e[1]),s=t.split("-").map(function(t){return parseInt(t)}),o=(s[0],s[1]);n[r][o]=P7.str2kv(i)})}),this.rankData=n,this.cost&&this.desc)try{var i=this.cost.split("|"),s=i[0].split(","),o=s[0],r=s[1],a=i[1].split("-")[0],h=o.split("-"),p=h[0],l=h[1],c=parseInt(r)/60;c=c===Math.floor(c)?c:parseFloat(c.toFixed(2)),this.actTips=M18.FM18(this.desc,p,l,c,a)}catch(l){Log.trace("error:",l)}}if(t.r)for(var u in this.r&&0!==Object.keys(t.r).length||(this.r={}),t.r)this.r[u]=t.r[u];if(this.sms=t.sms||this.sms,this.me=void 0!==t.me?t.me:this.me,null!=t.nc&&(this._nc=t.nc),null!=t.rc&&(this._rc=t.rc),t.sm&&this.sms)for(var d=0;d<this.sms.length;d++)if(this.sms[d].id===t.sm.id){for(var u in t.sm)this.sms[d][u]=t.sm[u];break}if(t.upme&&this.me){var v=!1;for(var d in this.me)if(this.me[d].id===t.upme.id){this.me[d]=t.upme,v=!0;break}v||(this.me[t.upme.id]=t.upme)}},t.prototype.haveNext=function(){return-1!==this.nc},Object.defineProperty(t.prototype,"rc",{get:function(){if(-1===this._rc)return this._rc;var t=P6.getTime(!0)-this.timeDifference;return Math.max(0,this._rc-1e3*t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"nc",{get:function(){if(-1===this._nc)return-1;var t=P6.getTime(!0)-this.timeDifference;return Math.max(0,this._nc-1e3*t)},enumerable:!0,configurable:!0}),t.prototype.FF93=function(t){for(var e=0,i=this.sms;e<i.length;e++){var s=i[e];if(s.id===t)return s}},t.prototype.getStatus=function(t){for(var e=0,i=this.sms;e<i.length;e++){var s=i[e];if(s.id===t)return s.hp<=0?2:this.rc<=0?3:1}return 0},t.prototype.FL67=function(t,e){var i=this.rankData[t],s=[];if(i)for(var o=Object.keys(i).reverse().map(function(t){return parseInt(t)}),r=0;r<o.length&&e<=o[r];r++)s=i[o[r]];return s},t}(ActivityVo);t.SnowmanAct=e,__reflect(e.prototype,"Nian.SnowmanAct")}(Nian||(Nian={}));var C15=function(){function t(){}return t.A4=0,t.A3=1,t.A1=2,t.A2=3,t}();__reflect(C15.prototype,"C15");var TA40=function(i){function t(){var t=i.call(this)||this,e=new TB97(t);return e.aLV(O7.E22),e.aLV(O7.C32),e.aLV(O7.I64),App.VM.register(O7.E22,"PeopleAdvanceView",t,K17.UI_Main),t.rgF(C15.A4,t.GE17,t),t.rgF(C15.A3,t.GD17,t),t.peopleAdvanceProxy=new TB98(t),t.rgF(C15.A1,t.GB6,t),t.rgF(C15.A2,t.GB7,t),t}return __extends(t,i),t.prototype.GB6=function(t){this.peopleAdvanceProxy.ZB26(t)},t.prototype.GB7=function(t){if(200==t.head.state){var e=t.body,i=this.gtM();i.ZC13(e),i.notify(),t.body.ob&&P5.sIs(t.body.ob)}else App.CM.apF(O6.B87,L10.A4,t)},t.prototype.GE17=function(t){App.VM.open(O7.E22,t);var e=App.CM.gtM(O6.A46);e.firstLoginRedNum=0,e.notify()},t.prototype.GD17=function(){App.VM.close(O7.E22)},t}(TE11);__reflect(TA40.prototype,"TA40");var TB97=function(i){function t(t){var e=i.call(this,t)||this;return e.openState=!1,e.redNum=0,e.firstLoginRedNum=0,e}return __extends(t,i),t.prototype.ZC13=function(t){t&&(null!=this.peopleAdvanceData?this.peopleAdvanceData.updateData(t):(this.peopleAdvanceData=new PeopleAdvanceData(t),this.tips=this.peopleAdvanceData.tips),this.updateRed())},t.prototype.updateRed=function(){this.redNum=this.FL35()},t.prototype.FL35=function(){var t=0;t+=this.firstLoginRedNum;var e=this.peopleAdvanceData.confs;for(var i in e)if(e[i].getState==J13.A3){t+=1;break}return t},t.prototype.notify=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];i.prototype.notifyView.apply(this,[this].concat(t))},t}(TG79);__reflect(TB97.prototype,"TB97");var TB98=function(i){function t(t){var e=i.call(this,t)||this;return e.rSM(P4.B14,e.ZA50,e),e}return __extends(t,i),t.prototype.ZB26=function(t){var e={type:P4.B13,body:{id:t}};this.sSM(e)},t.prototype.ZA50=function(t){this.apF(C15.A2,t)},t}(TG80);__reflect(TB98.prototype,"TB98");var TC46=function(){function t(){}return t.FHH85=function(){var t=new Array,e=App.CM.gtM(O6.A46).peopleAdvanceData.confs;for(var i in e){var s=e[i],o={},r=P7.FB44(s.sys);o.id=s.id,o.title=O3.tr(3244,r.name,s.lv,s.needPeople,e[i].np,e[i].needPeople),o.getState=s.getState,o.rewards=s.award,o.sys=s.sys,t.push(o)}return t},t.gtM=function(){return App.CM.gtM(O6.A46)},t}();__reflect(TC46.prototype,"TC46");var PeopleAdvanceItemsView=function(e){function t(){var t=e.call(this)||this;return t.skinName=ChapterBreakItemSkin,t.addEventListener(egret.Event.ADDED_TO_STAGE,t.open,t),t.addEventListener(egret.Event.REMOVED_FROM_STAGE,t.close,t),t}return __extends(t,e),t.prototype.open=function(){this.getBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.ZU29,this)},t.prototype.close=function(){this.getBtn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.ZU29,this),this.dataSource.removeAll()},t.prototype.childrenCreated=function(){e.prototype.createChildren.call(this),this.initUI()},t.prototype.initUI=function(){this.listContent.itemRenderer=ItemIcon,this.dataSource=new eui.ArrayCollection,this.listContent.dataProvider=this.dataSource,this.awardsSc.viewport=this.listContent,this.awardsSc.scrollPolicyH=eui.ScrollPolicy.OFF,this.awardsSc.scrollPolicyV=eui.ScrollPolicy.OFF,this.getImg.$setVisible(!1)},t.prototype.dataChanged=function(){e.prototype.dataChanged.call(this),this.titleLb.textFlow=M18.HTP.parser(this.data.title),this.titleBgImg.width=this.titleLb.width+55,this.getBtn.imgNew.visible=!1,this.data.getState==J13.A1?(this.getBtn.bgStr="v1_btn_green_1_png",this.getBtn.label=O3.tr(3235),this.getBtn.$setVisible(!0),this.getImg.$setVisible(!1)):this.data.getState==J13.A3?(this.getBtn.colour=_ccBtn.brown,this.getBtn.bgStr="v1_btn_yellow_1_png",this.getBtn.label=O3.tr(3232),this.getBtn.$setVisible(!0),this.getImg.$setVisible(!1),this.getBtn.imgNew.visible=!0):(this.getBtn.$setVisible(!1),this.getImg.$setVisible(!0)),this.ZJ81(this.data.rewards)},t.prototype.ZJ81=function(t){var e=[];for(var i in t){var s={itemData:{data:N12.gID(t[i].k),ct:t[i].v},isBottom:!1};e.push(s)}this.dataSource.replaceAll(e)},t.prototype.ZU29=function(){if(this.data.getState==J13.A1){var t=TC46.gtM().peopleAdvanceData.confs[0].sys;P7.FC5(t)}else this.data.getState==J13.A3&&App.CM.apF(O6.A46,C15.A1,this.data.id)},t}(eui.ItemRenderer);__reflect(PeopleAdvanceItemsView.prototype,"PeopleAdvanceItemsView");var PeopleAdvanceView=function(s){function t(t,e){var i=s.call(this,t,e)||this;return i.sGN("release_act1011"),i.skinName=ChapterBreakSkin,i}return __extends(t,s),t.prototype.initUI=function(){s.prototype.initUI.call(this),this.banner.source="v1_bg_qumindaofl1_jpg";var t={render:PeopleAdvanceItemsView,gap:5,width:this.listGroup.width,height:this.listGroup.height,arrowScale:1};this.listView=new CommonListBase(t),this.listGroup.addChild(this.listView),this.listView.verticalCenter=0,this.listView.horizontalCenter=0,this.goBtn.label=O3.tr(3770)},t.prototype.open=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];s.prototype.open.call(this),this.goBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickGoBtn,this),this.listView.open(),this.GX5()},t.prototype.uBM=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];s.prototype.uBM.call(this,t,e),t instanceof TB97&&this.GX5()},t.prototype.GX5=function(){var t=TC46.gtM(),e=t.peopleAdvanceData.confs[0].sys,i=P7.FB44(e),s=O3.tr(3237,i.lv);this.missionLb.textFlow=M18.HTP.parser(s),this.leftCD=t.peopleAdvanceData.ZHH64();var o=P6.FJ11(1e3*this.leftCD,5);this.cdLb.textFlow=M18.HTP.parser(O3.tr(3253,o)),this.cTH(),this._timerHandler=App.K16.doTimer(1e3,this.leftCD,this.GY14,this);var r=TC46.FHH85();this.listView.rfL(r)},t.prototype.GY14=function(){this.leftCD--;var t=P6.FJ11(1e3*this.leftCD,5);this.cdLb.textFlow=M18.HTP.parser(O3.tr(3253,t)),this.leftCD<=0&&(this.cTH(),this.cdLb.text="")},t.prototype.cTH=function(){null!=this._timerHandler&&(App.K16.rBH(this._timerHandler),this._timerHandler=null)},t.prototype.close=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];s.prototype.close.call(this),this.listView.close(),this.goBtn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickGoBtn,this),this.cTH()},t.prototype.onClickGoBtn=function(){var t=TC46.gtM().peopleAdvanceData.confs[0].sys;P7.FC5(t)},t}(BaseEuiView);__reflect(PeopleAdvanceView.prototype,"PeopleAdvanceView");var PeopleAdvanceConfVo=function(t){this.award=[],this.getState=J13.A1,t&&(this.id=t.index,this.lv=t.lv,this.sys=t.system,this.needPeople=t.needPeople,this.award=t.award)};__reflect(PeopleAdvanceConfVo.prototype,"PeopleAdvanceConfVo");var PeopleAdvanceData=function(i){function t(t){var e=i.call(this,t)||this;return e.confs=[],e.yaw=[],e.info=[],e.updateData(t),e}return __extends(t,i),t.prototype.updateData=function(t){if(t){if(this.yaw=t.yaw||this.yaw,this.info=t.info||this.info,t.confs){var e=t.confs;for(var i in this.confs=[],e){var s=new PeopleAdvanceConfVo(e[i]);this.confs.push(s)}}for(var i in this.confs){if(this.confs[i].getState=J13.A1,0<this.yaw.length)for(var o in this.yaw)if(this.confs[i].id==this.yaw[o]){this.confs[i].getState=J13.A2;break}if(0<this.info.length)for(var r in this.info)this.info[r].k==this.confs[i].id&&(this.confs[i].np=this.info[r].v,this.info[r].v>=this.confs[i].needPeople&&this.confs[i].getState!=J13.A2&&(this.confs[i].getState=J13.A3))}this.confs.sort(function(t,e){return t.getState==e.getState?t.id-e.id:t.getState-e.getState})}this.ZU63(t)},t}(ActivityVo);__reflect(PeopleAdvanceData.prototype,"PeopleAdvanceData");var C16=function(){function t(){}return t.A4=0,t.A3=1,t.A1=2,t.A2=3,t}();__reflect(C16.prototype,"C16");var TA41=function(i){function t(){var t=i.call(this)||this,e=new TB99(t);return e.aLV(O7.E21),e.aLV(O7.C32),e.aLV(O7.I64),App.VM.register(O7.E21,"PeopleUpgradeView",t,K17.UI_Main),t.rgF(C16.A4,t.GE18,t),t.rgF(C16.A3,t.GD18,t),t.peopleUpgradeProxy=new TC1(t),t.rgF(C16.A1,t.GB8,t),t.rgF(C16.A2,t.GB9,t),t}return __extends(t,i),t.prototype.GB8=function(t){this.peopleUpgradeProxy.ZB27(t)},t.prototype.GB9=function(t){if(200==t.head.state){var e=t.body,i=this.gtM();i.ZC13(e),i.notify(),t.body.ob&&P5.sIs(t.body.ob)}else App.CM.apF(O6.B87,L10.A4,t)},t.prototype.GE18=function(t){App.VM.open(O7.E21,t);var e=App.CM.gtM(O6.A45);e.firstLoginRedNum=0,e.notify()},t.prototype.GD18=function(){App.VM.close(O7.E21)},t}(TE11);__reflect(TA41.prototype,"TA41");var TB99=function(i){function t(t){var e=i.call(this,t)||this;return e.openState=!1,e.redNum=0,e.firstLoginRedNum=0,e}return __extends(t,i),t.prototype.ZC13=function(t){t&&(null!=this.peopleUpgradeData?this.peopleUpgradeData.updateData(t):(this.peopleUpgradeData=new PeopleUpgradeData(t),this.tips=this.peopleUpgradeData.tips),this.updateRed())},t.prototype.updateRed=function(){this.openState&&(this.peopleUpgradeData.ZQ26(),this.redNum=this.FL35())},t.prototype.FL35=function(){var t=0;t+=this.firstLoginRedNum;var e=this.peopleUpgradeData.confs;for(var i in e)if(e[i].getState==J13.A3){t+=1;break}return t},t.prototype.notify=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];i.prototype.notifyView.apply(this,[this].concat(t))},t}(TG79);__reflect(TB99.prototype,"TB99");var TC1=function(i){function t(t){var e=i.call(this,t)||this;return e.rSM(P4.B12,e.ZA51,e),e}return __extends(t,i),t.prototype.ZB27=function(t){var e={type:P4.B11,body:{id:t}};this.sSM(e)},t.prototype.ZA51=function(t){this.apF(C16.A2,t)},t}(TG80);__reflect(TC1.prototype,"TC1");var TC47=function(){function t(){}return t.FHH85=function(){var t=new Array,e=App.CM.gtM(O6.A45).peopleUpgradeData.confs;for(var i in e){var s=e[i],o={};o.id=s.id,o.title=O3.tr(3340,s.level),o.getState=s.getState,o.rewards=s.award,t.push(o)}return t},t.gtM=function(){return App.CM.gtM(O6.A45)},t}();__reflect(TC47.prototype,"TC47");var PeopleUpgradeItemsView=function(e){function t(){var t=e.call(this)||this;return t.skinName=ChapterBreakItemSkin,t.addEventListener(egret.Event.ADDED_TO_STAGE,t.open,t),t.addEventListener(egret.Event.REMOVED_FROM_STAGE,t.close,t),t}return __extends(t,e),t.prototype.open=function(){this.getBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.ZU29,this)},t.prototype.close=function(){this.getBtn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.ZU29,this),this.dataSource.removeAll()},t.prototype.childrenCreated=function(){e.prototype.createChildren.call(this),this.initUI()},t.prototype.initUI=function(){this.listContent.itemRenderer=ItemIcon,this.dataSource=new eui.ArrayCollection,this.listContent.dataProvider=this.dataSource,this.awardsSc.viewport=this.listContent,this.awardsSc.scrollPolicyH=eui.ScrollPolicy.OFF,this.awardsSc.scrollPolicyV=eui.ScrollPolicy.OFF,this.getImg.$setVisible(!1)},t.prototype.dataChanged=function(){e.prototype.dataChanged.call(this),this.titleLb.textFlow=M18.HTP.parse(this.data.title),this.titleBgImg.width=this.titleLb.width+55,this.getBtn.imgNew.visible=!1,this.data.getState==J13.A1?(this.getBtn.enabled=!1,P16.sGF(this.getBtn,!0),this.getBtn.label=O3.tr(3232),this.getBtn.$setVisible(!0),this.getImg.$setVisible(!1)):this.data.getState==J13.A3?(this.getBtn.enabled=!0,P16.sGF(this.getBtn,!1),this.getBtn.colour=_ccBtn.brown,this.getBtn.bgStr="v1_btn_yellow_1_png",this.getBtn.label=O3.tr(3232),this.getBtn.$setVisible(!0),this.getImg.$setVisible(!1),this.getBtn.imgNew.visible=!0):(this.getBtn.$setVisible(!1),this.getImg.$setVisible(!0)),this.ZJ81(this.data.rewards)},t.prototype.ZJ81=function(t){var e=[];for(var i in t){var s={itemData:{data:N12.gID(t[i].k),ct:t[i].v},isBottom:!1};e.push(s)}this.dataSource.replaceAll(e)},t.prototype.ZU29=function(){App.CM.apF(O6.A45,C16.A1,this.data.id)},t}(eui.ItemRenderer);__reflect(PeopleUpgradeItemsView.prototype,"PeopleUpgradeItemsView");var PeopleUpgradeView=function(o){function t(t,e){var i=o.call(this,t,e)||this;return i.sGN("release_act1012"),i.skinName=ChapterBreakSkin,i}return __extends(t,o),t.prototype.initUI=function(){o.prototype.initUI.call(this),this.banner.source="v1_bg_qumindaofl2_jpg";var t={render:PeopleUpgradeItemsView,gap:5,width:this.listGroup.width,height:this.listGroup.height,arrowScale:1};this.listView=new CommonListBase(t),this.listGroup.addChild(this.listView),this.listView.verticalCenter=0,this.listView.horizontalCenter=0},t.prototype.open=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];o.prototype.open.call(this),this.goBtn.$setVisible(!1),this.listView.open(),this.GX5()},t.prototype.uBM=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];o.prototype.uBM.call(this,t,e);var s=TC47.gtM();s.openState&&(t instanceof TB99&&this.GX5(),t instanceof TG12&&(s.peopleUpgradeData.ZQ26(),0<s.FL35()&&this.GX5()))},t.prototype.GX5=function(){var t=App.CM.gtM(O6.B82),e=O3.tr(3238,t.avatarInfo.l);this.missionLb.textFlow=M18.HTP.parser(e);var i=TC47.gtM();this.leftCD=i.peopleUpgradeData.ZHH64();var s=P6.FJ11(1e3*this.leftCD,5);this.cdLb.textFlow=M18.HTP.parser(O3.tr(3253,s)),this._timerHandler=App.K16.doTimer(1e3,this.leftCD,this.GY14,this);var o=TC47.FHH85();this.listView.rfL(o)},t.prototype.GY14=function(){this.leftCD--;var t=P6.FJ11(1e3*this.leftCD,5);this.cdLb.textFlow=M18.HTP.parser(O3.tr(3253,t)),this.leftCD<=0&&(this.cTH(),this.cdLb.text="")},t.prototype.cTH=function(){null!=this._timerHandler&&(App.K16.rBH(this._timerHandler),this._timerHandler=null)},t.prototype.close=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];o.prototype.close.call(this),this.listView.close(),this.cTH()},t}(BaseEuiView);__reflect(PeopleUpgradeView.prototype,"PeopleUpgradeView");var PeopleUpgradeConfVo=function(t){this.award=[],this.getState=J13.A1,t&&(this.id=t.index,this.level=t.level,this.award=t.award)};__reflect(PeopleUpgradeConfVo.prototype,"PeopleUpgradeConfVo");var PeopleUpgradeData=function(i){function t(t){var e=i.call(this,t)||this;return e.confs=[],e.yaw=[],e.updateData(t),e}return __extends(t,i),t.prototype.updateData=function(t){if(t){if(this.yaw=t.yaw||this.yaw,t.confs){var e=t.confs;for(var i in this.confs=[],e){var s=new PeopleUpgradeConfVo(e[i]);this.confs.push(s)}}for(var i in this.confs){if(this.confs[i].getState=J13.A1,0<this.yaw.length)for(var o in this.yaw)if(this.confs[i].id==this.yaw[o]){this.confs[i].getState=J13.A2;break}App.CM.gtM(O6.B82).avatarInfo.l>=this.confs[i].level&&this.confs[i].getState!=J13.A2&&(this.confs[i].getState=J13.A3)}this.confs.sort(function(t,e){return t.getState==e.getState?t.id-e.id:t.getState-e.getState})}this.ZU63(t)},t.prototype.ZQ26=function(){for(var t in this.confs){if(this.confs[t].getState=J13.A1,0<this.yaw.length)for(var e in this.yaw)this.confs[t].id==this.yaw[e]&&(this.confs[t].getState=J13.A2);App.CM.gtM(O6.B82).avatarInfo.l>=this.confs[t].level&&this.confs[t].getState!=J13.A2&&(this.confs[t].getState=J13.A3)}this.confs.sort(function(t,e){return t.getState==e.getState?t.id-e.id:t.getState-e.getState})},t}(ActivityVo);__reflect(PeopleUpgradeData.prototype,"PeopleUpgradeData");var HH11=function(){function t(){}return t.A4=10001,t.A3=10002,t.A1=10003,t.A2=10004,t}();__reflect(HH11.prototype,"HH11");var TB46=function(i){function t(){var t=i.call(this)||this,e=new TE26(t);return e.aLV(O7.HH54),e.aLV(O7.C32),e.aLV(O7.I64),e.aLV(O7.G43),e.aLV(O7.HH25),e.aLV(O7.I1),e.aLV(O7.HH96),App.VM.register(O7.HH54,"RankUpAwdView",t,K17.UI_Main),t.rgF(HH11.A4,t.GK50,t),t.rgF(HH11.A3,t.GI50,t),t.rankUpAwdProxy=new TE27(t),t.rgF(HH11.A1,t.GK48,t),t.rgF(HH11.A2,t.GK49,t),t}return __extends(t,i),t.prototype.GK48=function(t){this.rankUpAwdProxy.GK48(t)},t.prototype.GK49=function(t){if(200==t.head.state){var e=t.body,i=this.gtM();i.ZC13(e),i.notify(),P5.sIs(t.body.ob)}else App.CM.apF(O6.B87,L10.A4,t)},t.prototype.GK50=function(){App.VM.open(O7.HH54);var t=App.CM.gtM(O6.B13);t.firstLoginRedNum=0,t.notify()},t.prototype.GI50=function(){App.VM.close(O7.HH54)},t}(TE11);__reflect(TB46.prototype,"TB46");var TE26=function(i){function t(t){var e=i.call(this,t)||this;return e.openState=!1,e.redNum=0,e.firstLoginRedNum=0,e}return __extends(t,i),t.prototype.ZC13=function(t){t&&(null!=this.actData?this.actData.updateData(t):(this.actData=new RankUpAwdData(t),this.tips=this.actData.tips),this.updateRed())},t.prototype.updateRed=function(){this.redNum=this.FL35()},t.prototype.FL35=function(){var t=0;t+=this.firstLoginRedNum;var e=this.actData.rankUpAwdConfVo;for(var i in e)if(e[i].getState==J13.A3){t+=1;break}return t},t.prototype.notify=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];i.prototype.notifyView.call(this,this,t)},t}(TG79);__reflect(TE26.prototype,"TE26");var TE27=function(i){function t(t){var e=i.call(this,t)||this;return e.rSM(P4.N60,e.GK49,e),e}return __extends(t,i),t.prototype.GK48=function(t){var e={type:P4.N59,body:{id:t}};this.sSM(e)},t.prototype.GK49=function(t){this.apF(HH11.A2,t)},t}(TG80);__reflect(TE27.prototype,"TE27");var TF13=function(){function t(){}return t.FE57=function(t){var e=TF59.FB15(F7.A71),i=TF59.FB15(F7.A60);e.openState&&e.actData.tarSystem==t&&(e.ZC13(!0),e.notify()),i.openState&&i.actData.tarSystem==t&&(i.ZC13(!0),i.notify())},t}();__reflect(TF13.prototype,"TF13");var RankUpAwdItemView=function(i){function t(){var t=i.call(this)||this;return t.skinName=ChapterBreakItemSkin,t.addEventListener(egret.Event.ADDED_TO_STAGE,t.open,t),t.addEventListener(egret.Event.REMOVED_FROM_STAGE,t.close,t),t}return __extends(t,i),t.prototype.open=function(){this.getBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickBtn,this)},t.prototype.close=function(){this.getBtn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickBtn,this),this.dataSource.removeAll()},t.prototype.childrenCreated=function(){i.prototype.createChildren.call(this),this.initUI()},t.prototype.initUI=function(){this.listContent.itemRenderer=ItemIcon,this.dataSource=new eui.ArrayCollection,this.listContent.dataProvider=this.dataSource,this.awardsSc.viewport=this.listContent,this.awardsSc.scrollPolicyH=eui.ScrollPolicy.OFF,this.awardsSc.scrollPolicyV=eui.ScrollPolicy.OFF,this.getBtn.colour=_ccBtn.brown,this.getBtn.label=O3.tr(3746)},t.prototype.dataChanged=function(){i.prototype.dataChanged.call(this);var t=App.CM.gtM(O6.B13);this.tarSystem=t.actData.tarSystem;var e=P7.FB44(this.tarSystem);this.titleLb.textFlow=M18.HTP.parse(O3.tr(3270,e.name,this.data.tarLevel)),this.titleBgImg.width=this.titleLb.width+55,this.ZJ81(this.data.awd),P7.FD53(this.getBtn,0),this.data.getState==J13.A2?(this.getBtn.$setVisible(!1),this.getImg.$setVisible(!0)):(this.getImg.$setVisible(!1),this.getBtn.$setVisible(!0),this.data.getState==J13.A3?(this.getBtn.labelDisplay.text=O3.tr(3232),this.getBtn.bgStr="v1_btn_yellow_1_png",P7.FD53(this.getBtn,1)):(this.getBtn.labelDisplay.text=O3.tr(3235),this.getBtn.bgStr="v1_btn_green_1_png"))},t.prototype.ZJ81=function(t){var e=[];for(var i in t){var s={itemData:{data:N12.gID(t[i].k),ct:t[i].v},isBottom:!1};e.push(s)}this.dataSource.replaceAll(e)},t.prototype.onClickBtn=function(){this.data.getState==J13.A3?P7.FF59()&&App.CM.apF(O6.B13,HH11.A1,this.data.tarLevel):P7.FC5(this.tarSystem)},t}(eui.ItemRenderer);__reflect(RankUpAwdItemView.prototype,"RankUpAwdItemView");var RankUpAwdView=function(s){function t(t,e){var i=s.call(this,t,e)||this;return i.skinName=ChapterBreakSkin,i}return __extends(t,s),t.prototype.initUI=function(){s.prototype.initUI.call(this),this.banner.source="v1_bg_jinjiejiangli_jpg";var t={render:RankUpAwdItemView,gap:5,width:this.listGroup.width,height:this.listGroup.height,arrowScale:1};this.listView=new CommonListBase(t),this.listGroup.addChild(this.listView),this.listView.verticalCenter=0,this.listView.horizontalCenter=0,this.goBtn.label=O3.tr(5788)},t.prototype.open=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];s.prototype.open.call(this),this.goBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickGoBtn,this),this.listView.open()},t.prototype.uBM=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];s.prototype.uBM.call(this,t,e),t instanceof TE26&&this.ZC17(t)},t.prototype.ZC17=function(t){this.actData=t.actData;var e=O3.tr(3269,this.actData.level);if(this.missionLb.textFlow=M18.HTP.parser(e),null==this.timerHandler)if(0<this.actData.zeroCD){this.leftCD=this.actData.getZeroCD();var i=O3.tr(3253,P6.FJ11(1e3*this.leftCD,5));this.cdLb.textFlow=M18.HTP.parser(i),this.timerHandler=App.K16.doTimer(1e3,this.leftCD,this.GY14,this)}else this.cdLb.text="";var s=this.actData.rankUpAwdConfVo;this.listView.rfL(s)},t.prototype.GY14=function(){this.leftCD--;var t=O3.tr(3253,P6.FJ11(1e3*this.leftCD,5));this.cdLb.textFlow=M18.HTP.parser(t),this.leftCD<=0&&(this.cTH(),this.cdLb.text="")},t.prototype.cTH=function(){null!=this.timerHandler&&(App.K16.rBH(this.timerHandler),this.timerHandler=null)},t.prototype.close=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];s.prototype.close.call(this),this.goBtn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickGoBtn,this),this.cTH(),this.listView.close()},t.prototype.onClickGoBtn=function(){P7.FC5(this.actData.tarSystem)},t}(BaseEuiView);__reflect(RankUpAwdView.prototype,"RankUpAwdView");var RankUpAwdConfVo=function(){function t(t){this.getState=J13.A1,this.initData(t)}return t.prototype.initData=function(t){t&&(this.tarLevel=t.t,this.awd=t.aw)},t}();__reflect(RankUpAwdConfVo.prototype,"RankUpAwdConfVo");var RankUpAwdData=function(i){function t(t){var e=i.call(this,t)||this;return e.rankUpAwdConfVo=[],e.hasGotList=[],e.level=0,e.zeroCD=0,e.updateData(t),e}return __extends(t,i),t.prototype.updateData=function(t){if(t){if(this.hasGotList=t.yaw||this.hasGotList,this.tarSystem=t.tarSys||this.tarSystem,this.level=P7.FB44(this.tarSystem).lv,this.zeroCD=null==t.cd?this.zeroCD:t.cd,t.cd&&(this.lastLoadTime=P6.getTime(!0)),t.cf){null!=this.rankUpAwdConfVo&&0<this.rankUpAwdConfVo.length&&this.rankUpAwdConfVo.splice(0,this.rankUpAwdConfVo.length),this.rankUpAwdConfVo=[];for(var e=0;e<t.cf.length;e++){var i=new RankUpAwdConfVo(t.cf[e]);this.rankUpAwdConfVo.push(i)}}if(0<this.hasGotList.length)for(var e in this.rankUpAwdConfVo)for(var s in this.hasGotList)this.rankUpAwdConfVo[e].tarLevel==this.hasGotList[s]&&(this.rankUpAwdConfVo[e].getState=J13.A2);for(var s in this.rankUpAwdConfVo){var o=this.rankUpAwdConfVo[s];this.level>=o.tarLevel&&o.getState!=J13.A2&&(this.rankUpAwdConfVo[s].getState=J13.A3)}}this.rankUpAwdConfVo&&this.rankUpAwdConfVo.sort(function(t,e){return t.getState==e.getState?t.tarLevel-e.tarLevel:t.getState-e.getState}),this.ZU63(t)},t.prototype.getZeroCD=function(){var t=P6.getTime(!0)-this.lastLoadTime,e=this.zeroCD-t;return 0<e?e:0},t}(ActivityVo);__reflect(RankUpAwdData.prototype,"RankUpAwdData");var F19=function(){function t(){}return t.A4=10001,t.A3=10002,t.A1=10003,t.A2=10004,t}();__reflect(F19.prototype,"F19");var TB14=function(i){function t(){var t=i.call(this)||this,e=new TD61(t);return e.aLV(O7.G86),e.aLV(O7.C32),e.aLV(O7.I64),e.aLV(O7.G43),e.aLV(O7.HH25),e.aLV(O7.I1),e.aLV(O7.HH96),App.VM.register(O7.G86,"RankUpAwd2View",t,K17.UI_Main),t.rgF(F19.A4,t.GI53,t),t.rgF(F19.A3,t.GG67,t),t.rankUpAwd2Proxy=new TD62(t),t.rgF(F19.A1,t.GI51,t),t.rgF(F19.A2,t.GI52,t),t}return __extends(t,i),t.prototype.GI51=function(t){this.rankUpAwd2Proxy.GI51(t)},t.prototype.GI52=function(t){if(200==t.head.state){var e=t.body,i=this.gtM();i.ZC13(e),i.notify(),P5.sIs(t.body.ob)}else App.CM.apF(O6.B87,L10.A4,t)},t.prototype.GI53=function(){App.VM.open(O7.G86);var t=App.CM.gtM(O6.A97);t.firstLoginRedNum=0,t.notify()},t.prototype.GG67=function(){App.VM.close(O7.G86)},t}(TE11);__reflect(TB14.prototype,"TB14");var TD61=function(i){function t(t){var e=i.call(this,t)||this;return e.openState=!1,e.redNum=0,e.firstLoginRedNum=0,e}return __extends(t,i),t.prototype.ZC13=function(t){t&&(null!=this.actData?this.actData.updateData(t):(this.actData=new RankUpAwdData(t),this.tips=this.actData.tips),this.updateRed())},t.prototype.updateRed=function(){this.redNum=this.FL35()},t.prototype.FL35=function(){var t=0;t+=this.firstLoginRedNum;var e=this.actData.rankUpAwdConfVo;for(var i in e)if(e[i].getState==J13.A3){t+=1;break}return t},t.prototype.notify=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];i.prototype.notifyView.apply(this,[this].concat(t))},t}(TG79);__reflect(TD61.prototype,"TD61");var TD62=function(i){function t(t){var e=i.call(this,t)||this;return e.rSM(P4.L74,e.GI52,e),e}return __extends(t,i),t.prototype.GI51=function(t){var e={type:P4.L73,body:{id:t}};this.sSM(e)},t.prototype.GI52=function(t){this.apF(F19.A2,t)},t}(TG80);__reflect(TD62.prototype,"TD62");var RankUpAwd2View=function(s){function t(t,e){var i=s.call(this,t,e)||this;return i.skinName=ChapterBreakSkin,i}return __extends(t,s),t.prototype.initUI=function(){s.prototype.initUI.call(this),this.banner.source="v1_bg_jinjiejiangli_jpg";var t={render:RankUpAwd2ItemView,gap:5,width:this.listGroup.width,height:this.listGroup.height,arrowScale:1};this.listView=new CommonListBase(t),this.listGroup.addChild(this.listView),this.listView.verticalCenter=0,this.listView.horizontalCenter=0,this.goBtn.label=O3.tr(5788)},t.prototype.open=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];s.prototype.open.call(this),this.goBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickGoBtn,this),this.listView.open()},t.prototype.uBM=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];s.prototype.uBM.call(this,t,e),t instanceof TD61&&this.ZB63(t)},t.prototype.ZB63=function(t){this.actData=t.actData;var e=O3.tr(3269,this.actData.level);if(this.missionLb.textFlow=(new egret.HtmlTextParser).parser(e),null==this.timerHandler)if(0<this.actData.zeroCD){this.leftCD=this.actData.getZeroCD();var i=O3.tr(3253,P6.FJ11(1e3*this.leftCD,5));this.cdLb.textFlow=(new egret.HtmlTextParser).parser(i),this.timerHandler=App.K16.doTimer(1e3,this.leftCD,this.GY14,this)}else this.cdLb.text="";var s=this.actData.rankUpAwdConfVo;this.listView.rfL(s)},t.prototype.GY14=function(){this.leftCD--;var t=O3.tr(3253,P6.FJ11(1e3*this.leftCD,5));this.cdLb.textFlow=(new egret.HtmlTextParser).parser(t),this.leftCD<=0&&(this.cTH(),this.cdLb.text="")},t.prototype.cTH=function(){null!=this.timerHandler&&(App.K16.rBH(this.timerHandler),this.timerHandler=null)},t.prototype.close=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];s.prototype.close.call(this),this.goBtn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickGoBtn,this),this.cTH(),this.listView.close()},t.prototype.onClickGoBtn=function(){P7.FC5(this.actData.tarSystem)},t}(BaseEuiView);__reflect(RankUpAwd2View.prototype,"RankUpAwd2View");var RankUpAwd2ItemView=function(i){function t(){var t=i.call(this)||this;return t.skinName=ChapterBreakItemSkin,t.addEventListener(egret.Event.ADDED_TO_STAGE,t.open,t),t.addEventListener(egret.Event.REMOVED_FROM_STAGE,t.close,t),t}return __extends(t,i),t.prototype.open=function(){this.getBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickBtn,this)},t.prototype.close=function(){this.getBtn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickBtn,this),this.dataSource.removeAll()},t.prototype.childrenCreated=function(){i.prototype.createChildren.call(this),this.initUI()},t.prototype.initUI=function(){this.listContent.itemRenderer=ItemIcon,this.dataSource=new eui.ArrayCollection,this.listContent.dataProvider=this.dataSource,this.awardsSc.viewport=this.listContent,this.awardsSc.scrollPolicyH=eui.ScrollPolicy.OFF,this.awardsSc.scrollPolicyV=eui.ScrollPolicy.OFF,this.getBtn.colour="0xfeeedf"},t.prototype.dataChanged=function(){i.prototype.dataChanged.call(this);var t=App.CM.gtM(O6.A97);this.tarSystem=t.actData.tarSystem;var e=P7.FB44(this.tarSystem);this.titleLb.textFlow=(new egret.HtmlTextParser).parse(O3.tr(3270,e.name,this.data.tarLevel)),this.titleBgImg.width=this.titleLb.width+55,this.ZJ81(this.data.awd),P7.FD53(this.getBtn,0),this.data.getState==J13.A2?(this.getBtn.$setVisible(!1),this.getImg.$setVisible(!0)):(this.getImg.$setVisible(!1),this.getBtn.$setVisible(!0),this.data.getState==J13.A3?(this.getBtn.labelDisplay.text=O3.tr(3232),this.getBtn.bgStr="v1_btn_yellow_1_png",P7.FD53(this.getBtn,1)):(this.getBtn.labelDisplay.text=O3.tr(3235),this.getBtn.bgStr="v1_btn_green_1_png"))},t.prototype.ZJ81=function(t){var e=[];for(var i in t){var s={itemData:{data:N12.gID(t[i].k),ct:t[i].v},isBottom:!1};e.push(s)}this.dataSource.replaceAll(e)},t.prototype.onClickBtn=function(){this.data.getState==J13.A3?P7.FF59()&&App.CM.apF(O6.A97,F19.A1,this.data.tarLevel):P7.FC5(this.tarSystem)},t}(eui.ItemRenderer);__reflect(RankUpAwd2ItemView.prototype,"RankUpAwd2ItemView");var D10=function(){function t(){}return t.A2=10001,t.A1=10002,t}();__reflect(D10.prototype,"D10");var RechargeRankControl=function(i){function t(){var t=i.call(this)||this,e=new TC48(t);return e.aLV(O7.F21),e.aLV(O7.C32),e.aLV(O7.I64),App.VM.register(O7.F21,"RechargeRankView",t,K17.UI_Main),App.VM.register(O7.B90,"RechargeRankListView",t,K17.UI_Main_TOP),t.rgF(D10.A2,function(){return App.VM.open(O7.B90)},t),t.rgF(D10.A1,function(){return App.VM.close(O7.B90)},t),t.proxy=new TC49(t),t}return __extends(t,i),t}(TE11);__reflect(RechargeRankControl.prototype,"RechargeRankControl");var TC48=function(i){function t(t){var e=i.call(this,t)||this;return e.openState=!1,e}return __extends(t,i),t.prototype.ZC13=function(t){t&&(null!=this.actData?this.actData.updateData(t):this.actData=new RechargeRankData(t))},t.prototype.updateRed=function(){},t.prototype.FL35=function(){return 0},t.prototype.notify=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];i.prototype.notifyView.apply(this,[this].concat(t))},t}(TG79);__reflect(TC48.prototype,"TC48");var TC49=function(e){function t(t){return e.call(this,t)||this}return __extends(t,e),t}(TG80);__reflect(TC49.prototype,"TC49");var TD9=function(){function t(){}return t.FE58=function(t){var e=[];if(!t||0===t.length)return e;if(10<t[0].nRank)return t.map(function(t,e){return t.index=e,t});for(var i=App.CM.gtM(O6.A68),s=Number(i.actData.tipsParams[0]),o=s-1;0<=o;o-=1){var r=t[o],n=void 0;n=r&&r.nRank===o+1?{sName:r.sName,noPalyer:!1,rm:r.rm,index:r.nRank-1,nRank:r.nRank}:(s=o,{sName:O3.tr(3304),noPalyer:!0,rm:0,index:o,nRank:o+1}),e.unshift(n)}for(o=s;o<t.length;o+=1){var a=t[o];e.push({sName:a.sName,noPalyer:!1,rm:a.rm,index:e.length,nRank:a.nRank})}return e},t}();__reflect(TD9.prototype,"TD9");var RechargeRankListView=function(s){function t(t,e){var i=s.call(this,t,e)||this;return i.curIndex=0,i.pageNum=1,i.curPageNum=1,i.skinName="RechargeRankListSkin",i.dlg.ZU10().visible=!0,i}return __extends(t,s),t.prototype.initUI=function(){s.prototype.initUI.call(this);var t=App.CM.gtM(O6.A68);this.rankType=t.actData.rankType,this.dlg.title=O3.tr(6832),this.lbStr1.textFlow=M18.HTP.parser(O3.tr(6833)),this.lbStr2.textFlow=M18.HTP.parser(O3.tr(6834)),this.lbStr3.textFlow=M18.HTP.parser(O3.tr(6835));var e={render:RchargeRankListItem,gap:0,width:this.listGroup.width,height:this.listGroup.height};this.listView=new CommonListBase(e),this.listGroup.addChild(this.listView),this.listView.verticalCenter=0,this.listView.horizontalCenter=0},t.prototype.open=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.listView.open(),this.dlg.ZM69(this.oCC,this),this.dlg.ZQ14(this.oCC,this),this.btnLeft.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickLeft,this),this.btnRight.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickRight,this),this.updateMyrank(),this.curPageNum=1,this.loadListData()},t.prototype.uBM=function(t,e){s.prototype.uBM.call(this,t,e),t instanceof TC48&&(e==P4.U30||e==P4.P76?this.oCC():this.loadListData()),t instanceof THH11&&e==P4.X79&&this.updateViews()},t.prototype.updateMyrank=function(){var t=App.CM.gtM(O6.A68);this.actData=t.actData;var e=this.actData.mine.r||0;if(100<e||e<=0){var i=O3.tr(3299,O3.tr(3252));this.myRankLb.textFlow=(new egret.HtmlTextParser).parser(i)}else{i=O3.tr(3299,e);this.myRankLb.textFlow=(new egret.HtmlTextParser).parser(i)}},t.prototype.updateViews=function(){var t=App.CM.gtM(O6.C19);if(t.rankList&&0<t.rankList.length){var e=TD9.FE58(t.rankList);this.listView.rfL(e)}this.curPageNum=null!=t.nCurrentPage?t.nCurrentPage:1,this.pageNum=null!=t.nAllPage?t.nAllPage:1,this.ZM92()},t.prototype.loadListData=function(){var t={type:this.rankType,currPage:this.curPageNum,size:10};App.CM.apF(O6.C19,O18.A5,t)},t.prototype.ZM92=function(){this.pageLb.text=this.curPageNum+"/"+this.pageNum},t.prototype.onClickLeft=function(){1!=this.curPageNum&&(this.curPageNum=this.curPageNum-1,this.loadListData(),this.ZM92())},t.prototype.onClickRight=function(){this.curPageNum>=this.pageNum||(this.curPageNum=this.curPageNum+1,this.loadListData(),this.ZM92())},t.prototype.oCC=function(){App.CM.apF(O6.A68,D10.A1)},t.prototype.close=function(){this.curPageNum=null,this.listView.close(),this.btnLeft.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickLeft,this),this.btnRight.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickRight,this),this.actData=null},t}(BaseEuiView);__reflect(RechargeRankListView.prototype,"RechargeRankListView");var RchargeRankListItem=function(e){function t(){var t=e.call(this)||this;return t.skinName=ConsumeRankItemSkin,t}return __extends(t,e),t.prototype.dataChanged=function(){this.imgBg.visible=this.data.nRank%2!=0,this.lbRank.text=this.data.nRank,this.lbName.text=this.data.sName,this.lbConsumption.text="???";var t=App.CM.gtM(O6.A68).actData.mine.r,e=App.CM.gtM(O6.C19),i=TD9.FE58(e.rankList);if(null==t||100<t||0==t){var s=null!=e.nAllPage?e.nAllPage:1;e.nCurrentPage==s&&this.data.index==i.length-1&&(this.lbConsumption.text=Math.floor(100*this.data.rm)/100+"")}else this.data.nRank>=t-1&&this.data.nRank<=t+1&&(this.lbConsumption.text=Math.floor(100*this.data.rm)/100+"")},t}(eui.ItemRenderer);__reflect(RchargeRankListItem.prototype,"RchargeRankListItem");var RechargeRankView=function(s){function t(t,e){var i=s.call(this,t,e)||this;return i.sGN("release_act1061"),i.skinName="RechargeRankSkin",i.labChecked.addEventListener(egret.TouchEvent.TOUCH_TAP,i.ZE67,i),i}return __extends(t,s),t.prototype.initUI=function(){s.prototype.initUI.call(this),this.labChecked.textFlow=M18.HTP.parse(O3.tr(3821))},t.prototype.open=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];s.prototype.open.apply(this,t)},t.prototype.ZE67=function(){App.CM.apF(O6.A68,D10.A2)},t.prototype.uBM=function(t){for(var i=this,e=[],s=1;s<arguments.length;s++)e[s-1]=arguments[s];if(t instanceof TC48&&(this.actData=t.actData,this.actData.rewardList.forEach(function(t,e){return i.updateAPage(i["content"+(e+1)],t.rs,t.re,t.rw)}),this.GX5(t),this.showBoss(this.actData.u),null==this.timerHandler))if(0<this.actData.rs){this.leftCD=this.actData.ZHH64();var o=O3.tr(3253,P6.FJ11(1e3*this.leftCD,5));this.leftCdLb.textFlow=M18.HTP.parse(o),this.timerHandler=App.K16.doTimer(1e3,this.leftCD,this.GY14,this)}else this.leftCdLb.text=""},t.prototype.showBoss=function(t){if(this.objBoss&&(this.grpBossArm.removeChildren(),this.objBoss.destory(),this.objBoss=null),t){this.objBoss=new FightGameObject,this.objBoss.action=Action.Stand;var e={x:0,y:0,dir:Dir.br,objType:P13.A6};this.objBoss.setBaseData(e),t.bt=BehaviourType.Attack_d,t.sr=1,this.objBoss.setData(t,this.grpBossArm)}},t.prototype.GX5=function(t){var e=Math.floor(100*(t.actData.mine.v||0))/100,i=t.actData.mine.r||0;this.myAmount.textFlow=M18.HTP.parser(O3.tr(3501,e)),this.myRankLb.textFlow=M18.HTP.parser(O3.tr(3299,100<i||i<=0?O3.tr(3252):i)),this.labNameOne.text=this.labName.text=t.actData.roles[0]?t.actData.roles[0].name:O3.tr(3304),this.labNameTwo.text=t.actData.roles[1]?t.actData.roles[1].name:O3.tr(3304),this.tips.text=O3.tr.apply(O3,[3502].concat(this.actData.tipsParams))},t.prototype.updateAPage=function(t,e,i,s){var o=this,r=t.getChildByName("rank"),n=t.getChildByName("scReward").getChildAt(0);r.text=e-i?O3.tr(6710,e,i):O3.tr(6711,e);var a=new eui.ArrayCollection;n.dataProvider=a,n.itemRenderer=rechargeItem;var h=[];s.forEach(function(t){var e=N12.gID(t.k);h.push({itemData:{data:e,ct:t.v,texiao:o.actData.hasEffect(t.k)?TF59.FC9(e.quality):void 0},isBottom:!1,scale:.9})}),a.replaceAll(h)},t.prototype.GY14=function(){this.leftCD--;var t=O3.tr(3253,P6.FJ11(1e3*this.leftCD,5));this.leftCdLb.textFlow=M18.HTP.parse(t),this.leftCD<=0&&(this.cTH(),this.leftCdLb.text="")},t.prototype.cTH=function(){null!=this.timerHandler&&(App.K16.rBH(this.timerHandler),this.timerHandler=null)},t.prototype.close=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];s.prototype.close.call(this),this.labChecked.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.ZE67,this),this.actData=null,this.cTH(),this.grpBossArm.removeChildren(),this.objBoss&&(this.objBoss.destory(),this.objBoss=null)},t}(BaseEuiView);__reflect(RechargeRankView.prototype,"RechargeRankView");var rechargeItem=function(i){function t(){return null!==i&&i.apply(this,arguments)||this}return __extends(t,i),t.prototype.setBottom=function(t){if(i.prototype.setBottom.call(this,t),!t){var e=this.getChildAt(0);this.height=e.height=80}},t}(ItemIcon);__reflect(rechargeItem.prototype,"rechargeItem");var RechargeRankData=function(i){function t(t){var e=i.call(this,t)||this;return e.rewardList=[],e.roles=[],e.tipsParams=[],e.updateData(t),e.cost&&(e.tipsParams=e.cost.split("|")[0].split(",")),e}return __extends(t,i),t.prototype.updateData=function(t){this.rewardList=t.rw||this.rewardList,this.roles=t.r||this.roles,this.mine=t.me||this.mine,this.u=t.u||this.u,this.rankType=t.t||this.rankType,t&&this.ZU63(t)},t.prototype.hasEffect=function(t){return this.reward&&0<=this.reward.split(",").map(function(t){return parseInt(t)}).indexOf(t)},t}(ActivityVo);__reflect(RechargeRankData.prototype,"RechargeRankData");var B16=function(){function t(){}return t.A4=10001,t.A3=10002,t.A1=10003,t.A2=10004,t}();__reflect(B16.prototype,"B16");var TA29=function(i){function t(){var t=i.call(this)||this;t.rechargeSeriesProxy=new TB48(t);var e=new TB47(t);return e.aLV(O7.D39),e.aLV(O7.C32),e.aLV(O7.D86),e.aLV(O7.I64),App.VM.register(O7.D39,"RechargeSeriesView",t,K17.UI_Main),t.rgF(B16.A4,t.GD19,t),t.rgF(B16.A3,t.GC24,t),t.rgF(B16.A1,t.GT95,t),t.rgF(B16.A2,t.GT91,t),t}return __extends(t,i),t.prototype.GD19=function(){App.VM.open(O7.D39);var t=this.gtM();t.firstLoginRedNum=0,t.notify()},t.prototype.GC24=function(){App.VM.close(O7.D39)},t.prototype.GT95=function(t){this.rechargeSeriesProxy.GT95(t)},t.prototype.GT91=function(t){if(200==t.head.state){var e=t.body,i=this.gtM();i.ZC13(e),i.notify(),P5.sIs(t.body.ob)}else App.CM.apF(O6.B87,L10.A4,t)},t}(TE11);__reflect(TA29.prototype,"TA29");var TB47=function(i){function t(t){var e=i.call(this,t)||this;return e.openState=!1,e.redNum=0,e.firstLoginRedNum=0,e}return __extends(t,i),t.prototype.ZC13=function(t){t&&(null!=this.rechargeSeriesData?this.rechargeSeriesData.updateData(t):(this.rechargeSeriesData=new RechargeSeriesData(t),this.tips=this.rechargeSeriesData.tips),this.updateRed())},t.prototype.updateRed=function(){this.redNum=this.FL35()},t.prototype.FL35=function(){var t=0;t+=this.firstLoginRedNum;var e=this.rechargeSeriesData.rechargeSeriesConfVo;for(var i in e)if(e[i].getState==J13.A3){t+=1;break}return t},t.prototype.notify=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];i.prototype.notifyView.apply(this,[this].concat(t))},t}(TG79);__reflect(TB47.prototype,"TB47");var TB48=function(e){function t(t){return e.call(this,t)||this}return __extends(t,e),t.prototype.GT95=function(t){var e={type:P4.A38,body:{target:t}};this.rSMO(P4.A39,this.GT91,this),this.sSM(e)},t.prototype.GT91=function(t){this.apF(B16.A2,t)},t}(TG80);__reflect(TB48.prototype,"TB48");var RechargeSeriesItemView=function(i){function t(){var t=i.call(this)||this;return t.skinName=RechargeSeriesItemSkin,t.addEventListener(egret.Event.ADDED_TO_STAGE,t.open,t),t.addEventListener(egret.Event.REMOVED_FROM_STAGE,t.close,t),t}return __extends(t,i),t.prototype.open=function(){this.getBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickBtn,this)},t.prototype.close=function(){this.getBtn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickBtn,this),this.dataSource.removeAll()},t.prototype.childrenCreated=function(){i.prototype.createChildren.call(this),this.initUI()},t.prototype.initUI=function(){this.listContent.itemRenderer=ItemIcon,this.dataSource=new eui.ArrayCollection,this.listContent.dataProvider=this.dataSource,this.awardsSc.viewport=this.listContent,this.awardsSc.scrollPolicyH=eui.ScrollPolicy.ON,this.awardsSc.scrollPolicyV=eui.ScrollPolicy.OFF,this.getBtn.label=O3.tr(3744),this.lbNo.textFlow=M18.HTP.parse(O3.tr(3745))},t.prototype.dataChanged=function(){i.prototype.dataChanged.call(this);var t=App.CM.gtM(O6.A33).rechargeSeriesData.hasRecharge,e=O3.tr(3328,t,this.data.id);switch(this.lbDatas.textFlow=M18.HTP.parser(e),this.ZJ81(this.data.awd),this.lbNo.visible=!1,this.getBtn.visible=!1,this.getImg.visible=!1,this.data.getState){case J13.A3:this.getBtn.visible=!0,P7.FD53(this.getBtn,1);break;case J13.A1:this.lbNo.visible=!0;break;case J13.A2:this.getImg.visible=!0}},t.prototype.ZJ81=function(t){var e=[];for(var i in t){var s=N12.gID(t[i].k),o={itemData:{data:s,ct:t[i].v},isBottom:!1};if(0==parseInt(i)){var r=TF59.FC9(s.quality);r&&(o.itemData.texiao=r)}e.push(o)}this.dataSource.replaceAll(e)},t.prototype.onClickBtn=function(){this.data.getState==J13.A3&&App.CM.apF(this.data.controllerConst,this.data.reqConst,this.data.id)},t}(eui.ItemRenderer);__reflect(RechargeSeriesItemView.prototype,"RechargeSeriesItemView");var RechargeSeriesView=function(s){function t(t,e){var i=s.call(this,t,e)||this;return i.skinName=RechargeSeriesSkin,i}return __extends(t,s),t.prototype.initUI=function(){var t={render:RechargeSeriesItemView,gap:5,width:this.listGroup.width,height:this.listGroup.height,arrowScale:1};this.listView=new CommonListBase(t),this.listGroup.addChild(this.listView),this.listView.verticalCenter=0,this.listView.horizontalCenter=0,this.btnRecharge.label=O3.tr(3743)},t.prototype.open=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];s.prototype.open.call(this),this.btnRecharge.addEventListener(egret.TouchEvent.TOUCH_TAP,this.ZM93,this);var i=App.CM.gtM(O6.A33);this.ZA10(i)},t.prototype.uBM=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];s.prototype.uBM.call(this,t,e),t instanceof TB47&&this.ZA10(t)},t.prototype.ZM93=function(){App.CM.apF(O6.C29,P8.A7)},t.prototype.ZA10=function(t){if(this.rechargeSeriesData=t.rechargeSeriesData,!this.timerHandler){this.leftCD=t.rechargeSeriesData.ZHH64();var e=P6.FJ11(1e3*this.leftCD,5);this.lbTime.textFlow=M18.HTP.parser(O3.tr(3329,e)),this.timerHandler=App.K16.doTimer(1e3,this.leftCD,this.GY14,this)}var i=this.rechargeSeriesData.rechargeSeriesConfVo;this.listView.rfL(i)},t.prototype.GY14=function(){this.leftCD--;var t=P6.FJ11(1e3*this.leftCD,5);this.lbTime.textFlow=M18.HTP.parser(O3.tr(3329,t)),this.leftCD<=0&&(this.cTH(),this.lbTime.text="")},t.prototype.cTH=function(){this.timerHandler&&(App.K16.rBH(this.timerHandler),this.timerHandler=null)},t.prototype.close=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];s.prototype.close.call(this),this.btnRecharge.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.ZM93,this),this.cTH()},t}(BaseEuiView);__reflect(RechargeSeriesView.prototype,"RechargeSeriesView");var RechargeSeriesConfVo=function(){function t(t){this.getState=J13.A1,this.controllerConst=O6.A33,this.reqConst=B16.A1,this.initData(t)}return t.prototype.initData=function(t){t&&(this.id=t.t,this.awd=t.rw)},t}();__reflect(RechargeSeriesConfVo.prototype,"RechargeSeriesConfVo");var RechargeSeriesData=function(i){function t(t){var e=i.call(this,t)||this;return e.rechargeSeriesConfVo=[],e.hasGotList=[],e.hasRecharge=0,e.updateData(t),e}return __extends(t,i),t.prototype.updateData=function(t){if(t){if(this.hasGotList=t.alGet||this.hasGotList,this.hasRecharge=null==t.rd?this.hasRecharge:t.rd,t.rwl){null!=this.rechargeSeriesConfVo&&0<this.rechargeSeriesConfVo.length&&this.rechargeSeriesConfVo.splice(0,this.rechargeSeriesConfVo.length),this.rechargeSeriesConfVo=[];for(var e=0;e<t.rwl.length;e++){var i=new RechargeSeriesConfVo(t.rwl[e]);this.rechargeSeriesConfVo.push(i)}}if(0<this.hasGotList.length)for(var e in this.rechargeSeriesConfVo)for(var s in this.hasGotList)this.rechargeSeriesConfVo[e].id==this.hasGotList[s]&&(this.rechargeSeriesConfVo[e].getState=J13.A2);for(var e in this.rechargeSeriesConfVo){var o=this.rechargeSeriesConfVo[e];this.hasRecharge>=o.id&&o.getState!=J13.A2&&(this.rechargeSeriesConfVo[e].getState=J13.A3)}this.rechargeSeriesConfVo.sort(function(t,e){return t.getState==e.getState?t.id-e.id:t.getState-e.getState}),this.ZU63(t)}},t}(ActivityVo);__reflect(RechargeSeriesData.prototype,"RechargeSeriesData");var B10=function(){function t(){}return t.A4=10001,t.A3=10002,t.A1=10003,t.A2=10004,t}();__reflect(B10.prototype,"B10");var TA22=function(i){function t(){var t=i.call(this)||this,e=new TB15(t);return e.aLV(O7.C65),e.aLV(O7.I64),App.VM.register(O7.C65,"RechargeSumGiftView",t,K17.UI_Main),t.rgF(B10.A4,t.GC25,t),t.rgF(B10.A3,t.GB50,t),t.proxy=new TB16(t),t.rgF(B10.A1,t.GA74,t),t.rgF(B10.A2,t.GA75,t),t}return __extends(t,i),t.prototype.GA74=function(t){this.proxy.GA74(t)},t.prototype.GA75=function(t){if(200==t.head.state){var e=t.body,i=this.gtM();i.ZC13(e),i.notify(),P5.sIs(t.body.ob)}else App.CM.apF(O6.B87,L10.A4,t)},t.prototype.GC25=function(){App.VM.open(O7.C65);var t=App.CM.gtM(O6.A23);t.firstLoginRedNum=0,t.notify()},t.prototype.GB50=function(){App.VM.close(O7.C65)},t}(TE11);__reflect(TA22.prototype,"TA22");var TB15=function(i){function t(t){var e=i.call(this,t)||this;return e.openState=!1,e.redNum=0,e.firstLoginRedNum=0,e}return __extends(t,i),t.prototype.ZC13=function(t){t&&(null!=this.actData?this.actData.updateData(t):(this.actData=new RechargeSumGiftData(t),this.tips=this.actData.tips),this.updateRed())},t.prototype.updateRed=function(){this.redNum=this.FL35()},t.prototype.FL35=function(){var t=0;t+=this.firstLoginRedNum;var e=this.actData.confVo;for(var i in e)if(e[i].getState==J13.A3){t+=1;break}return t},t.prototype.notify=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];i.prototype.notifyView.call(this,this,t)},t}(TG79);__reflect(TB15.prototype,"TB15");var TB16=function(i){function t(t){var e=i.call(this,t)||this;return e.rSM(P4.A41,e.GA75,e),e}return __extends(t,i),t.prototype.GA74=function(t){var e={type:P4.A40,body:{target:t}};this.sSM(e)},t.prototype.GA75=function(t){this.apF(B10.A2,t)},t}(TG80);__reflect(TB16.prototype,"TB16");var TB49=function(){function t(){}return t.FK37=function(t){switch(t%=3){case 0:return"v1_img_gj_ljcz_jpg";case 1:return"v1_img_zj_ljcz_jpg";case 2:return"v1_img_dj_ljcz_jpg"}return"v1_img_gj_ljcz_jpg"},t}();__reflect(TB49.prototype,"TB49");var RechargeSumGiftView=function(s){function t(t,e){var i=s.call(this,t,e)||this;return i.skinName=RechargeSumGiftSkin,i}return __extends(t,s),t.prototype.initUI=function(){s.prototype.initUI.call(this);var t={render:RechargeSumItemGiftView,gap:5,width:this.listGroup.width,height:this.listGroup.height,arrowScale:1};this.listView=new CommonListBase(t),this.listGroup.addChild(this.listView),this.listView.verticalCenter=0,this.listView.horizontalCenter=0,this.btnRecharge.label=O3.tr(3881)},t.prototype.open=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];s.prototype.open.call(this),this.goBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickGoBtn,this),this.btnRecharge.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickGoBtn,this),this.listView.open();var i=App.CM.gtM(O6.A23);this.ZA35(i)},t.prototype.uBM=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];s.prototype.uBM.call(this,t,e),t instanceof TB15&&this.ZA35(t)},t.prototype.ZA35=function(t){var e=t.actData,i=O3.tr(3271,e.rm);if(this.missionLb.textFlow=M18.HTP.parser(i),null==this.timerHandler)if(0<e.rs){this.leftCD=e.ZHH64();var s=O3.tr(3253,P6.FJ11(1e3*this.leftCD,5));this.cdLb.textFlow=M18.HTP.parser(s),this.timerHandler=App.K16.doTimer(1e3,this.leftCD,this.GY14,this)}else this.cdLb.text="";var o=e.confVo;this.listView.rfL(o)},t.prototype.GY14=function(){this.leftCD--;var t=O3.tr(3253,P6.FJ11(1e3*this.leftCD,5));this.cdLb.textFlow=M18.HTP.parser(t),this.leftCD<=0&&(this.cTH(),this.cdLb.text="")},t.prototype.cTH=function(){null!=this.timerHandler&&(App.K16.rBH(this.timerHandler),this.timerHandler=null)},t.prototype.close=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];s.prototype.close.call(this),this.goBtn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickGoBtn,this),this.btnRecharge.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickGoBtn,this),this.cTH(),this.listView.close()},t.prototype.onClickGoBtn=function(){App.CM.apF(O6.C29,P8.A7)},t}(BaseEuiView);__reflect(RechargeSumGiftView.prototype,"RechargeSumGiftView");var RechargeSumItemGiftView=function(s){function t(){var t=s.call(this)||this;return t.skinName=RechargeSumGiftItemSkin,t.addEventListener(egret.Event.ADDED_TO_STAGE,t.open,t),t.addEventListener(egret.Event.REMOVED_FROM_STAGE,t.close,t),t}return __extends(t,s),t.prototype.open=function(){this.getBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickBtn,this)},t.prototype.close=function(){this.getBtn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickBtn,this),this.dataSource.removeAll()},t.prototype.childrenCreated=function(){s.prototype.createChildren.call(this),this.initUI()},t.prototype.initUI=function(){this.listContent.itemRenderer=ItemIcon,this.dataSource=new eui.ArrayCollection,this.listContent.dataProvider=this.dataSource,this.awardsSc.viewport=this.listContent,this.awardsSc.scrollPolicyH=eui.ScrollPolicy.OFF,this.awardsSc.scrollPolicyV=eui.ScrollPolicy.OFF},t.prototype.dataChanged=function(){s.prototype.dataChanged.call(this);var t=this.data.id;this.shuziLb.text=t+"",this.diImg.source=TB49.FK37(this.data.idx);var e=App.CM.gtM(O6.A23),i=this.data.id-e.actData.rm;(i=Math.floor(100*i)/100)<=0?this.recLb.visible=!1:(this.recLb.visible=!0,this.recLb.text=O3.tr(3357,i)),this.ZJ81(this.data.awd),P7.FD53(this.getBtn,0),this.data.getState==J13.A2?(this.getBtn.$setVisible(!1),this.getImg.$setVisible(!0)):this.data.getState==J13.A3?(this.getImg.$setVisible(!1),this.getBtn.$setVisible(!0),this.getBtn.colour=_ccBtn.brown,this.getBtn.labelDisplay.text=O3.tr(3232),this.getBtn.bgStr="v1_btn_yellow_1_png",P7.FD53(this.getBtn,1)):(this.getImg.$setVisible(!1),this.getBtn.$setVisible(!1))},t.prototype.ZJ81=function(t){var e=[];for(var i in t){var s={itemData:{data:N12.gID(t[i].k),ct:t[i].v},isBottom:!1};e.push(s)}this.dataSource.replaceAll(e)},t.prototype.onClickBtn=function(){this.data.getState==J13.A3?App.CM.apF(this.data.controllerConst,this.data.reqConst,this.data.id):null!=this.data.sLink&&TG84.goToDlg(this.data)},t}(eui.ItemRenderer);__reflect(RechargeSumItemGiftView.prototype,"RechargeSumItemGiftView");var RechargeSumGiftConfVo=function(){function t(t,e){this.getState=J13.A1,this.sLink=1802,this.controllerConst=O6.A23,this.reqConst=B10.A1,this.idx=t,this.initData(e)}return t.prototype.initData=function(t){t&&(this.id=t.t,this.awd=t.rw)},t}();__reflect(RechargeSumGiftConfVo.prototype,"RechargeSumGiftConfVo");var RechargeSumGiftData=function(i){function t(t){var e=i.call(this,t)||this;return e.confVo=[],e.alGet=[],e.rm=0,e.updateData(t),e}return __extends(t,i),t.prototype.updateData=function(t){if(t){if(this.alGet=t.alGet||this.alGet,this.rm=null==t.rm?this.rm:t.rm,t.rwl){null!=this.confVo&&0<this.confVo.length&&this.confVo.splice(0,this.confVo.length),this.confVo=[];for(var e=0;e<t.rwl.length;e++){var i=new RechargeSumGiftConfVo(e,t.rwl[e]);this.confVo.push(i)}}if(0<this.alGet.length)for(var e in this.confVo)for(var s in this.alGet)this.confVo[e].id==this.alGet[s]&&(this.confVo[e].getState=J13.A2);for(var e in this.confVo){var o=this.confVo[e];this.rm>=o.id&&o.getState!=J13.A2&&(this.confVo[e].getState=J13.A3)}this.confVo.sort(function(t,e){return t.getState==e.getState?t.id-e.id:t.getState-e.getState}),this.ZU63(t)}},t}(ActivityVo);__reflect(RechargeSumGiftData.prototype,"RechargeSumGiftData");var E13=function(){function t(){}return t.A4=10001,t.A3=10002,t.A1=10003,t.A2=10004,t}();__reflect(E13.prototype,"E13");var TA86=function(i){function t(){var t=i.call(this)||this,e=new TD10(t);return e.aLV(O7.G11),e.aLV(O7.C32),e.aLV(O7.I64),App.VM.register(O7.G11,"RechargeSumView",t,K17.UI_Main),t.rgF(E13.A4,t.GG68,t),t.rgF(E13.A3,t.GF9,t),t.rechargeSumProxy=new TD11(t),t.rgF(E13.A1,t.GA76,t),t.rgF(E13.A2,t.GA77,t),t}return __extends(t,i),t.prototype.GA76=function(t){this.rechargeSumProxy.GA76(t)},t.prototype.GA77=function(t){if(200==t.head.state){var e=t.body,i=this.gtM();i.ZC13(e),i.notify(),P5.sIs(t.body.ob)}else App.CM.apF(O6.B87,L10.A4,t)},t.prototype.GG68=function(){App.VM.open(O7.G11);var t=App.CM.gtM(O6.A77);t.firstLoginRedNum=0,t.notify()},t.prototype.GF9=function(){App.VM.close(O7.G11)},t}(TE11);__reflect(TA86.prototype,"TA86");var TD10=function(i){function t(t){var e=i.call(this,t)||this;return e.openState=!1,e.redNum=0,e.firstLoginRedNum=0,e}return __extends(t,i),t.prototype.ZC13=function(t){t&&(null!=this.rechargeSumData?this.rechargeSumData.updateData(t):(this.rechargeSumData=new RechargeSumData(t),this.tips=this.rechargeSumData.tips),this.updateRed())},t.prototype.updateRed=function(){this.redNum=this.FL35()},t.prototype.FL35=function(){var t=0;t+=this.firstLoginRedNum;var e=this.rechargeSumData.rechargeSumConfVo;for(var i in e)if(e[i].getState==J13.A3){t+=1;break}return t},t.prototype.notify=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];i.prototype.notifyView.call(this,this,t)},t}(TG79);__reflect(TD10.prototype,"TD10");var TD11=function(i){function t(t){var e=i.call(this,t)||this;return e.rSM(P4.B18,e.GA77,e),e}return __extends(t,i),t.prototype.GA76=function(t){var e={type:P4.B17,body:{id:t}};this.sSM(e)},t.prototype.GA77=function(t){this.apF(E13.A2,t)},t}(TG80);__reflect(TD11.prototype,"TD11");var TD63=function(){};__reflect(TD63.prototype,"TD63");var RechargeSumItemView=function(e){function t(){var t=e.call(this)||this;return t.skinName=ChapterBreakItemSkin,t.addEventListener(egret.Event.ADDED_TO_STAGE,t.open,t),t.addEventListener(egret.Event.REMOVED_FROM_STAGE,t.close,t),t}return __extends(t,e),t.prototype.open=function(){this.getBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickBtn,this)},t.prototype.close=function(){this.getBtn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickBtn,this),this.dataSource.removeAll()},t.prototype.childrenCreated=function(){e.prototype.createChildren.call(this),this.initUI()},t.prototype.initUI=function(){this.listContent.itemRenderer=ItemIcon,this.dataSource=new eui.ArrayCollection,this.listContent.dataProvider=this.dataSource,this.awardsSc.viewport=this.listContent,this.awardsSc.scrollPolicyH=eui.ScrollPolicy.OFF,this.awardsSc.scrollPolicyV=eui.ScrollPolicy.OFF},t.prototype.dataChanged=function(){e.prototype.dataChanged.call(this),this.titleLb.textFlow=M18.HTP.parse(this.data.title),this.titleBgImg.width=this.titleLb.width+55,this.ZJ81(this.data.awd),P7.FD53(this.getBtn,0),this.data.getState==J13.A2?(this.getBtn.$setVisible(!1),this.getImg.$setVisible(!0)):(this.getImg.$setVisible(!1),this.getBtn.$setVisible(!0),this.getBtn.colour=_ccBtn.brown,this.data.getState==J13.A3?(this.getBtn.labelDisplay.text=O3.tr(3232),this.getBtn.bgStr="v1_btn_yellow_1_png",P7.FD53(this.getBtn,1)):(this.getBtn.labelDisplay.text=O3.tr(3235),this.getBtn.bgStr="v1_btn_green_1_png"))},t.prototype.ZJ81=function(t){var e=[];for(var i in t){var s={itemData:{data:N12.gID(t[i].k),ct:t[i].v},isBottom:!1};e.push(s)}this.dataSource.replaceAll(e)},t.prototype.onClickBtn=function(){this.data.getState==J13.A3?App.CM.apF(this.data.controllerConst,this.data.reqConst,this.data.id):null!=this.data.sLink&&TG84.goToDlg(this.data)},t}(eui.ItemRenderer);__reflect(RechargeSumItemView.prototype,"RechargeSumItemView");var RechargeSumView=function(s){function t(t,e){var i=s.call(this,t,e)||this;return i.skinName=ChapterBreakSkin,i}return __extends(t,s),t.prototype.initUI=function(){s.prototype.initUI.call(this),this.banner.source="v1_bg_qumindaofl8_jpg";var t={render:RechargeSumItemView,gap:5,width:this.listGroup.width,height:this.listGroup.height,arrowScale:1};this.listView=new CommonListBase(t),this.listGroup.addChild(this.listView),this.listView.verticalCenter=0,this.listView.horizontalCenter=0,this.goBtn.label=O3.tr(3763)},t.prototype.open=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];s.prototype.open.call(this),this.goBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickGoBtn,this),this.listView.open();var i=App.CM.gtM(O6.A77);this.ZB28(i)},t.prototype.uBM=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];s.prototype.uBM.call(this,t,e),t instanceof TD10&&this.ZB28(t)},t.prototype.ZB28=function(t){this.rechargeSumData=t.rechargeSumData;var e=O3.tr(3271,this.rechargeSumData.hasRecharge);if(this.missionLb.textFlow=(new egret.HtmlTextParser).parser(e),null==this.timerHandler)if(0<this.rechargeSumData.zeroCD){this.leftCD=this.rechargeSumData.getZeroCD();var i=O3.tr(3253,P6.FJ11(1e3*this.leftCD,5));this.cdLb.textFlow=(new egret.HtmlTextParser).parser(i),this.timerHandler=App.K16.doTimer(1e3,this.leftCD,this.GY14,this)}else this.cdLb.text="";var s=this.rechargeSumData.rechargeSumConfVo;this.listView.rfL(s)},t.prototype.GY14=function(){this.leftCD--;var t=O3.tr(3253,P6.FJ11(1e3*this.leftCD,5));this.cdLb.textFlow=(new egret.HtmlTextParser).parser(t),this.leftCD<=0&&(this.cTH(),this.cdLb.text="")},t.prototype.cTH=function(){null!=this.timerHandler&&(App.K16.rBH(this.timerHandler),this.timerHandler=null)},t.prototype.close=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];s.prototype.close.call(this),this.goBtn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickGoBtn,this),this.cTH(),this.listView.close()},t.prototype.onClickGoBtn=function(){App.CM.apF(O6.C29,P8.A7)},t}(BaseEuiView);__reflect(RechargeSumView.prototype,"RechargeSumView");var RechargeSumConfVo=function(){function t(t){this.getState=J13.A1,this.sLink=1802,this.controllerConst=O6.A77,this.reqConst=E13.A1,this.initData(t)}return t.prototype.initData=function(t){t&&(this.id=t.id,this.tarRecharge=t.m,this.awd=t.aw,this.title=O3.tr(3272,this.tarRecharge))},t}();__reflect(RechargeSumConfVo.prototype,"RechargeSumConfVo");var RechargeSumData=function(i){function t(t){var e=i.call(this,t)||this;return e.rechargeSumConfVo=[],e.hasGotList=[],e.hasRecharge=0,e.zeroCD=0,e.updateData(t),e}return __extends(t,i),t.prototype.updateData=function(t){if(t){if(this.zeroCD=null==t.cd?this.zeroCD:t.cd,this.hasGotList=t.yaw||this.hasGotList,this.hasRecharge=null==t.m?this.hasRecharge:t.m,t.cd&&(this.lastLoadTime=P6.getTime(!0)),t.cf){null!=this.rechargeSumConfVo&&0<this.rechargeSumConfVo.length&&this.rechargeSumConfVo.splice(0,this.rechargeSumConfVo.length),this.rechargeSumConfVo=[];for(var e=0;e<t.cf.length;e++){var i=new RechargeSumConfVo(t.cf[e]);this.rechargeSumConfVo.push(i)}}if(0<this.hasGotList.length)for(var e in this.rechargeSumConfVo)for(var s in this.hasGotList)this.rechargeSumConfVo[e].id==this.hasGotList[s]&&(this.rechargeSumConfVo[e].getState=J13.A2);for(var e in this.rechargeSumConfVo){var o=this.rechargeSumConfVo[e];this.hasRecharge>=o.tarRecharge&&o.getState!=J13.A2&&(this.rechargeSumConfVo[e].getState=J13.A3)}this.rechargeSumConfVo.sort(function(t,e){return t.getState==e.getState?t.id-e.id:t.getState-e.getState}),this.ZU63(t)}},t.prototype.getZeroCD=function(){var t=P6.getTime(!0)-this.lastLoadTime,e=this.zeroCD-t;return 0<e?e:0},t}(ActivityVo);__reflect(RechargeSumData.prototype,"RechargeSumData");var E2=function(){function t(){}return t.A4=10001,t.A3=10002,t.A1=10003,t.A2=10004,t}();__reflect(E2.prototype,"E2");var TA57=function(i){function t(){var t=i.call(this)||this;t.proxy=new TC51(t);var e=new TC50(t);return e.aLV(O7.F42),e.aLV(O7.C32),e.aLV(O7.D86),e.aLV(O7.I64),App.VM.register(O7.F42,"RechargeTimeView",t,K17.UI_Main),t.rgF(E2.A4,t.GF10,t),t.rgF(E2.A3,t.GE19,t),t.rgF(E2.A1,t.GT95,t),t.rgF(E2.A2,t.GT91,t),t}return __extends(t,i),t.prototype.GF10=function(){App.VM.open(O7.F42);var t=this.gtM();t.firstLoginRedNum=0,t.notify()},t.prototype.GE19=function(){App.VM.close(O7.F42)},t.prototype.GT95=function(t){this.proxy.GT95(t)},t.prototype.GT91=function(t){if(200==t.head.state){var e=t.body,i=this.gtM();i.ZC13(e),i.notify(),P5.sIs(t.body.ob)}else App.CM.apF(O6.B87,L10.A4,t)},t}(TE11);__reflect(TA57.prototype,"TA57");var TC50=function(i){function t(t){var e=i.call(this,t)||this;return e.openState=!1,e.redNum=0,e.firstLoginRedNum=0,e}return __extends(t,i),t.prototype.ZC13=function(t){t&&(null!=this.actData?this.actData.updateData(t):(this.actData=new RechargeTimeData(t),this.tips=this.actData.tips),this.updateRed())},t.prototype.updateRed=function(){this.redNum=this.FL35()},t.prototype.FL35=function(){var t=0;t+=this.firstLoginRedNum;var e=this.actData.rechargeTimeConfVo;for(var i in e)if(e[i].getState==J13.A3){t+=1;break}return t},t.prototype.notify=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];i.prototype.notifyView.apply(this,[this].concat(t))},t}(TG79);__reflect(TC50.prototype,"TC50");var TC51=function(e){function t(t){return e.call(this,t)||this}return __extends(t,e),t.prototype.GT95=function(t){var e={type:P4.A8,body:{target:t}};this.rSMO(P4.A9,this.GT91,this),this.sSM(e)},t.prototype.GT91=function(t){this.apF(E2.A2,t)},t}(TG80);__reflect(TC51.prototype,"TC51");var RechargeTimeItemView=function(e){function t(){var t=e.call(this)||this;return t.skinName=RechargeTimeItemSkin,t.addEventListener(egret.Event.ADDED_TO_STAGE,t.open,t),t.addEventListener(egret.Event.REMOVED_FROM_STAGE,t.close,t),t}return __extends(t,e),t.prototype.open=function(){this.getBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickBtn,this)},t.prototype.close=function(){this.getBtn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickBtn,this),this.dataSource.removeAll()},t.prototype.childrenCreated=function(){e.prototype.createChildren.call(this),this.initUI()},t.prototype.initUI=function(){this.listContent.itemRenderer=ItemIcon,this.dataSource=new eui.ArrayCollection,this.listContent.dataProvider=this.dataSource,this.awardsSc.viewport=this.listContent,this.awardsSc.scrollPolicyH=eui.ScrollPolicy.ON,this.awardsSc.scrollPolicyV=eui.ScrollPolicy.OFF,this.getBtn.label=O3.tr(3744),this.lbNo.textFlow=M18.HTP.parse(O3.tr(3745))},t.prototype.dataChanged=function(){var t=App.CM.gtM(O6.A73).actData.hasRecharge,e=O3.tr(3328,t,this.data.id);switch(this.lbDatas.textFlow=M18.HTP.parser(e),this.ZJ81(this.data.awd),this.lbNo.visible=!1,this.getBtn.visible=!1,this.getImg.visible=!1,this.data.getState){case J13.A3:this.getBtn.visible=!0,P7.FD53(this.getBtn,1);break;case J13.A1:this.lbNo.visible=!0;break;case J13.A2:this.getImg.visible=!0}},t.prototype.ZJ81=function(t){var e=[];for(var i in t){var s=N12.gID(t[i].k),o={itemData:{data:s,ct:t[i].v},isBottom:!1};if(0==parseInt(i)){var r=TF59.FC9(s.quality);r&&(o.itemData.texiao=r)}e.push(o)}this.dataSource.replaceAll(e)},t.prototype.onClickBtn=function(){this.data.getState==J13.A3&&App.CM.apF(this.data.controllerConst,this.data.reqConst,this.data.id)},t}(eui.ItemRenderer);__reflect(RechargeTimeItemView.prototype,"RechargeTimeItemView");var RechargeTimeView=function(s){function t(t,e){var i=s.call(this,t,e)||this;return i.skinName=RechargeTimeSkin,i}return __extends(t,s),t.prototype.initUI=function(){var t={render:RechargeTimeItemView,gap:5,width:this.listGroup.width,height:this.listGroup.height,arrowScale:1};this.listView=new CommonListBase(t),this.listGroup.addChild(this.listView),this.listView.verticalCenter=0,this.listView.horizontalCenter=0,this.btnRecharge.label=O3.tr(3743)},t.prototype.open=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];s.prototype.open.call(this),this.btnRecharge.addEventListener(egret.TouchEvent.TOUCH_TAP,this.ZM93,this);var i=App.CM.gtM(O6.A73);this.ZA24(i)},t.prototype.uBM=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];s.prototype.uBM.call(this,t,e),t instanceof TC50&&this.ZA24(t)},t.prototype.ZM93=function(){App.CM.apF(O6.C29,P8.A7)},t.prototype.ZA24=function(t){if(this.actData=t.actData,!this.timerHandler){this.leftCD=t.actData.ZHH64();var e=P6.FJ11(1e3*this.leftCD,5);this.lbTime.textFlow=M18.HTP.parser(O3.tr(3329,e)),this.timerHandler=App.K16.doTimer(1e3,this.leftCD,this.GY14,this)}var i=this.actData.rechargeTimeConfVo;this.listView.rfL(i)},t.prototype.GY14=function(){this.leftCD--;var t=P6.FJ11(1e3*this.leftCD,5);this.lbTime.textFlow=M18.HTP.parser(O3.tr(3329,t)),this.leftCD<=0&&(this.cTH(),this.lbTime.text="")},t.prototype.cTH=function(){this.timerHandler&&(App.K16.rBH(this.timerHandler),this.timerHandler=null)},t.prototype.close=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];s.prototype.close.call(this),this.btnRecharge.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.ZM93,this),this.cTH()},t}(BaseEuiView);__reflect(RechargeTimeView.prototype,"RechargeTimeView");var RechargeTimeConfVo=function(){function t(t){this.getState=J13.A1,this.controllerConst=O6.A73,this.reqConst=E2.A1,this.initData(t)}return t.prototype.initData=function(t){t&&(this.id=t.t,this.awd=t.rw)},t}();__reflect(RechargeTimeConfVo.prototype,"RechargeTimeConfVo");var RechargeTimeData=function(i){function t(t){var e=i.call(this,t)||this;return e.rechargeTimeConfVo=[],e.hasGotList=[],e.hasRecharge=0,e.updateData(t),e}return __extends(t,i),t.prototype.updateData=function(t){if(t){if(this.hasGotList=t.alGet||this.hasGotList,this.hasRecharge=null==t.rd?this.hasRecharge:t.rd,t.rwl){null!=this.rechargeTimeConfVo&&0<this.rechargeTimeConfVo.length&&this.rechargeTimeConfVo.splice(0,this.rechargeTimeConfVo.length),this.rechargeTimeConfVo=[];for(var e=0;e<t.rwl.length;e++){var i=new RechargeTimeConfVo(t.rwl[e]);this.rechargeTimeConfVo.push(i)}}if(0<this.hasGotList.length)for(var e in this.rechargeTimeConfVo)for(var s in this.hasGotList)this.rechargeTimeConfVo[e].id==this.hasGotList[s]&&(this.rechargeTimeConfVo[e].getState=J13.A2);for(var e in this.rechargeTimeConfVo){var o=this.rechargeTimeConfVo[e];this.hasRecharge>=o.id&&o.getState!=J13.A2&&(this.rechargeTimeConfVo[e].getState=J13.A3)}this.rechargeTimeConfVo.sort(function(t,e){return t.getState==e.getState?t.id-e.id:t.getState-e.getState}),this.ZU63(t)}},t}(ActivityVo);__reflect(RechargeTimeData.prototype,"RechargeTimeData");var A13=function(){function t(){}return t.A1=10001,t.A2=10002,t.A4=10003,t.A3=10004,t}();__reflect(A13.prototype,"A13");var TA11=function(i){function t(){var t=i.call(this)||this,e=new TA58(t);return e.aLV(O7.B32),e.aLV(O7.C32),e.aLV(O7.I64),t.proxy=new TA59(t),t.rgF(A13.A1,t.huntReq,t),t.rgF(A13.A2,t.huntRes,t),t}return __extends(t,i),t.prototype.huntReq=function(t){this.proxy.huntReq(t)},t.prototype.huntRes=function(t){var e=this.gtM();if(200!=t.head.state)return App.CM.apF(O6.B87,L10.A4,t),void App.VM.gOV(O7.B32).ZM80();e.ZC13(t.body),e.notify(P4.A37,t.body)},t}(TE11);__reflect(TA11.prototype,"TA11");var TA58=function(i){function t(t){var e=i.call(this,t)||this;return e.openState=!1,e.redNum=0,e.firstLoginRedNum=0,e}return __extends(t,i),t.prototype.ZC13=function(t){t&&(null!=this.tData?this.tData.updateData(t):(this.tData=new RechargeTurntableData(t),this.tips=this.tData.tips),this.updateRed())},t.prototype.updateRed=function(){this.redNum=this.FL35()},t.prototype.FL35=function(){var t=0;return t+=this.firstLoginRedNum,null!=this.tData.cu&&0<this.tData.cu&&(t+=1),t},t.prototype.notify=function(t,e){void 0===t&&(t=void 0),void 0===e&&(e=void 0),i.prototype.notifyView.call(this,this,t,e)},t.prototype.FJ28=function(t){if(!this.tData||!this.tData.confs||this.tData.confs.length<=0)return null;for(var e=this.tData.confs,i=0;i<e.length;i++)if(t==e[i].index)return e[i].awards[0];return null},t}(TG79);__reflect(TA58.prototype,"TA58");var TA59=function(e){function t(t){return e.call(this,t)||this}return __extends(t,e),t.prototype.huntReq=function(t){var e={type:P4.A36,body:t};this.rSMO(P4.A37,this.huntRes,this),this.sSM(e)},t.prototype.huntRes=function(t){this.apF(A13.A2,t)},t}(TG80);__reflect(TA59.prototype,"TA59");var TA87=function(){};__reflect(TA87.prototype,"TA87");var RechargeItemView=function(e){function t(){var t=e.call(this)||this;return t.skinName="RechargeItemSkin",t}return __extends(t,e),t.prototype.setImgTxVis=function(t){this.imgTx.visible=t},t.prototype.updateEffect=function(t,e){var i=["","","","","circle_zi","circle_cheng","circle_hong"];this.rEf(),e&&t&&i[t.quality]&&(App.THH33.aUE(this.content,i[t.quality],-45,-45),this.effname=i[t.quality])},t.prototype.rEf=function(){this.effname&&(App.THH33.rEf(this.content,this.effname),this.effname=void 0)},t.prototype.setData=function(t,e,i){this.itemID=t,this.imgShow.source=N12.FJ86(t);var s=N12.gID(this.itemID);this.imgCir.source=N12.FL90(s.quality),this.lbCt.$setText(e),this.imgTx.visible=!1,this.imgJp.visible=1==i,this.updateEffect(s,1===i),this.imgShow.addEventListener(egret.TouchEvent.TOUCH_TAP,this.openProsView,this)},t.prototype.destroy=function(){this.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.openProsView,this),this.rEf()},t.prototype.openProsView=function(t){var e=N12.gID(this.itemID);P5.FC75(e)},t.prototype.sGF=function(t){P16.sGF(this.imgShow,t)},t}(eui.Component);__reflect(RechargeItemView.prototype,"RechargeItemView");var rtt,RechargeTurntableView=function(o){function t(t,e){var i=o.call(this,t,e)||this;return i.skinName="RechargeTurntableSkin",i}return __extends(t,o),t.prototype.initUI=function(){o.prototype.initUI.call(this),this.lblchoujiang.textFlow=M18.HTP.parse(O3.tr(3783)),this.btnUse.label=O3.tr(3790)},t.prototype.open=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];o.prototype.open.call(this,t),this.btnUse.addEventListener(egret.TouchEvent.TOUCH_TAP,this.ZU30,this),this.grpDi.addEventListener(egret.TouchEvent.TOUCH_TAP,this.stopTween,this),this.ZJ88(),this.updateIcon(),this.ZM80(),this.openCutTimer()},t.prototype.openCutTimer=function(){var t=App.CM.gtM(O6.A7);if(t&&(this._cd=t.tData.ZHH64(),0<this._cd)){var e=O3.tr(3253,P6.FJ11(1e3*this._cd,5));this.lbTime.textFlow=M18.HTP.parse(e),this.cdHandler=App.K16.doTimer(1e3,this._cd,this.cdCut,this)}},t.prototype.close=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];o.prototype.close.call(this),this.btnUse.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.ZU30,this),this.grpDi.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.stopTween,this);for(var i=0;i<12;i++){var s=this.grpTruns.getChildAt(i);s&&s.destroy()}this.handler&&(App.K16.rBH(this.handler),this.handler=null),this.cdHandler&&(App.K16.rBH(this.cdHandler),this.cdHandler=null),this.removeTimer(),this.closeBaGua(),this.cu=null,this.obj=null,this.index=null},t.prototype.cdCut=function(){this._cd--;var t=O3.tr(3253,P6.FJ11(1e3*this._cd,5));this.lbTime.textFlow=M18.HTP.parse(t)},t.prototype.removeTimer=function(){App.K16.remove(this.cdCut,this)},t.prototype.uBM=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];o.prototype.uBM.apply(this,[t].concat(e)),t instanceof TA58&&(e[0]==P4.A37&&(this.obj=e[1],this.startTween()),this.ZJ88())},t.prototype.clearTex=function(){for(var t=0;t<12;t++){this.grpTruns.getChildAt(t).setImgTxVis(!1)}},t.prototype.stopTween=function(){this.btnUse.touchEnabled||this.dealTweenEnd()},t.prototype.startTween=function(){this.startBagua(),this.clearTex(),this.index=-1;var t=App.K16.doTimer(80,0,this.updateImtT.bind(this),this);this.handler=t},t.prototype.startBagua=function(){App.THH32.aUE(this.grpBaGua,"lg_cjzp_01_5",this.grpBaGua.width/2,this.grpBaGua.height/2,1,null,null,null,this.frameEvent.bind(this))},t.prototype.closeBaGua=function(){App.THH32.rEf(this.grpBaGua,"lg_cjzp_01_5")},t.prototype.frameEvent=function(t){null!=this.handler&&"cftk_01"==t.frameLabel&&this.dealTweenEnd()},t.prototype.dealTweenEnd=function(){if(this.obj&&this.obj.ob){var t=P7.copyTab(this.obj);App.CM.apF(O6.B12,G16.A4,t)}this.handler&&(App.K16.rBH(this.handler),this.handler=null),this.updateIcon(),this.clearTex();var e=this.obj.loc[0];this.grpTruns.getChildAt(Number(e-1)).setImgTxVis(!0),this.obj=null,this.closeBaGua(),this.ZM80()},t.prototype.ZM80=function(){this.btnUse.touchEnabled=!0},t.prototype.ZJ84=function(){this.btnUse.touchEnabled=!1},t.prototype.updateImtT=function(){var t=this.index++%12,e=this.index%12;t<0&&(t=0),this.grpTruns.getChildAt(t).setImgTxVis(!1),this.grpTruns.getChildAt(e).setImgTxVis(!0)},t.prototype.ZJ88=function(){var t=App.CM.gtM(O6.A7);if(t){var e=t.tData,i=e.money;this.cu=e.cu,this.lbTurnTiems.textFlow=M18.HTP.parse(O3.tr(3784,e.cu+""));for(var s=-1,o=-1,r=0;r<e.rm.length;r++)if(i<(s=e.rm[r])){o=s;break}var n=1;if(-1==o){var a=Math.floor(100*s)/100+"/"+Math.floor(100*s)/100;this.lbPro.textFlow=M18.HTP.parse(O3.tr(3789,a)),this.lbDesc.text=""}else{n=i/o;a=Math.floor(100*i)/100+"/"+Math.floor(100*o)/100;this.lbPro.textFlow=M18.HTP.parse(O3.tr(3789,a)),this.lbDesc.text=O3.tr(3297,o+"")}-1==o&&0==e.cu?(P16.sGF(this.btnUse,!0),this.btnUse.enabled=!1):(P16.sGF(this.btnUse,!1),this.btnUse.enabled=!0);var h=Math.ceil(this.imgZone.width*n);this.imgPro.$setWidth(h),0<this.cu?this.btnUse.imgNew.visible=!0:this.btnUse.imgNew.visible=!1,this.initShowItem(t)}},t.prototype.initShowItem=function(t){for(var e=t.tData.show,i=0;i<12;i++){var s=this.grpTruns.getChildAt(i),o=t.FJ28(i+1);-1==e.indexOf(i+1)?s.setData(o.k,o.v,0):s.setData(o.k,o.v,1)}},t.prototype.ZU30=function(){if(this.cu<=0)P18.sDP(O3.tr(5648));else{this.ZJ84();App.CM.apF(O6.A7,A13.A1,{num:1})}},t.prototype.updateIcon=function(){var t=App.CM.gtM(O6.A7);if(t)for(var e=t.tData.ls,i=0;i<12;i++){var s=this.grpTruns.getChildAt(i);-1==e.indexOf(i+1)?s.sGF(!1):s.sGF(!0)}},t}(BaseEuiView);__reflect(RechargeTurntableView.prototype,"RechargeTurntableView"),function(t){var e=function(){this.awards=[]};(rtt||(rtt={})).RechargeTurntableConfVo=e,__reflect(e.prototype,"rtt.RechargeTurntableConfVo")}();var RechargeTurntableData=function(i){function t(t){var e=i.call(this,t)||this;return e.money=0,e.cu=0,e.loc=[],e.show=[],e.rm=[],e.confs=[],e.ls=[],e.updateData(t),e}return __extends(t,i),t.prototype.updateData=function(t){t&&(this.money=null==t.money?this.money:t.money,this.cu=null==t.cu?this.cu:t.cu,this.show=t.show||this.show,this.rm=t.rm||this.rm,this.confs=t.confs||this.confs,this.ls=t.ls||this.ls,this.ZU63(t))},t}(ActivityVo);__reflect(RechargeTurntableData.prototype,"RechargeTurntableData");var M8=function(){function t(){}return t.A3=10001,t.A4=10002,t.A1=10003,t.A5=20001,t.A2=20002,t.A7=20003,t.A6=20004,t.A9=20005,t.A8=20006,t}();__reflect(M8.prototype,"M8");var TD12=function(i){function t(){var t=i.call(this)||this,e=new TG1(t);return e.aLV(O7.I71),e.aLV(O7.D86),e.aLV(O7.I64),e.aLV(O7.I39),t.proxy=new TG2(t),t.rgF(M8.A3,t.GR94,t),t.rgF(M8.A4,t.GR95,t),t.rgF(M8.A1,t.huntPush,t),App.VM.register(O7.E54,"RedBoxPreviewView",t,K17.UI_Main_TOP),t.rgF(M8.A5,t.GK51,t),t.rgF(M8.A2,t.GI54,t),App.VM.register(O7.F39,"RedBoxRewardView",t,K17.UI_Main_TOP),t.rgF(M8.A7,t.GM22,t),t.rgF(M8.A6,t.GK52,t),App.VM.register(O7.HH9,"RedBoxOpenView",t,K17.UI_Main_TOP),t.rgF(M8.A9,t.GQ19,t),t.rgF(M8.A8,t.GO19,t),t}return __extends(t,i),t.prototype.GR94=function(t){this.proxy.GR94(t)},t.prototype.GR95=function(t){var e=this.gtM();if(200!=t.head.state)return e.canClick=!0,e.isTween=!1,void App.CM.apF(O6.B87,L10.A4,t);e.ZC13(t.body),e.isTween?this.GQ19():this.GM22()},t.prototype.huntPush=function(t){var e=this.gtM();200==t.head.state?(e.ZC13(t.body),e.notify(P4.U13)):App.CM.apF(O6.B87,L10.A4,t)},t.prototype.GK51=function(){App.VM.open(O7.E54)},t.prototype.GI54=function(){App.VM.close(O7.E54)},t.prototype.GM22=function(){App.VM.open(O7.F39)},t.prototype.GK52=function(){App.VM.close(O7.F39)},t.prototype.GQ19=function(){App.VM.open(O7.HH9)},t.prototype.GO19=function(){App.VM.close(O7.HH9)},t}(TE11);__reflect(TD12.prototype,"TD12");var TG1=function(i){function t(t){var e=i.call(this,t)||this;return e.openState=!1,e.redNum=0,e.firstLoginRedNum=0,e.canClick=!0,e}return __extends(t,i),t.prototype.ZC13=function(t){t&&(null!=this.actData?this.actData.updateData(t):(this.actData=new RedBoxData(t),this.tips=this.actData.tips),this.updateRed())},t.prototype.updateRed=function(){this.openState&&(this.redNum=this.FL35())},t.prototype.FL35=function(){var t=0;return t+=this.firstLoginRedNum},t.prototype.notify=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];i.prototype.notifyView.apply(this,[this].concat(t))},t}(TG79);__reflect(TG1.prototype,"TG1");var TG2=function(i){function t(t){var e=i.call(this,t)||this;return e.rSM(P4.U13,e.huntPush,e),e}return __extends(t,i),t.prototype.GR94=function(t){var e={type:P4.V18,body:{type:t}};this.rSMO(P4.V19,this.GR95,this),this.sSM(e)},t.prototype.GR95=function(t){this.apF(M8.A4,t)},t.prototype.huntPush=function(t){this.apF(M8.A1,t)},t}(TG80);__reflect(TG2.prototype,"TG2");var TG3=function(){function t(){}return Object.defineProperty(t,"model",{get:function(){return App.CM.gtM(O6.B96)},enumerable:!0,configurable:!0}),t.FJ21=function(){return this.model.actData.itemList},t.getWinData=function(){return this.model.actData.winList},t}();__reflect(TG3.prototype,"TG3");var RedBoxOpenView=function(s){function t(t,e){var i=s.call(this,t,e)||this;return i.skinName=RedBoxOpenSkin,i}return __extends(t,s),t.prototype.open=function(){s.prototype.open.call(this),this.startTween()},t.prototype.removeEff=function(){App.THH32.rEf(this.grp1,"wdsg_hongzhuangbaoxian_001"),App.THH32.rEf(this.grp2,"wdsg_hongzhuangbaoxian_001")},t.prototype.startTween=function(){App.THH32.aUE(this.grp1,"wdsg_hongzhuangbaoxian_001",this.grp1.width/2,this.grp1.height/2,1,null,null,null,null,"bf_1"),App.THH32.aUE(this.grp2,"wdsg_hongzhuangbaoxian_001",this.grp2.width/2,this.grp2.height/2,1,null,this.closeSelf.bind(this),null,null,"bf_2")},t.prototype.close=function(){s.prototype.close.call(this),this.removeEff()},t.prototype.closeSelf=function(){App.CM.apF(O6.B96,M8.A8),App.CM.apF(O6.B96,M8.A7),App.CM.gtM(O6.B96).notify("open")},t}(BaseEuiView);__reflect(RedBoxOpenView.prototype,"RedBoxOpenView");var RedBoxPreviewView=function(s){function t(t,e){var i=s.call(this,t,e)||this;return i.skinName=RedBoxPreviewSkin,i}return __extends(t,s),t.prototype.initUI=function(){s.prototype.initUI.call(this),this.touchEnabled=!1,this.lbStr1.textFlow=M18.HTP.parser(O3.tr(6792)),this.lbStr2.textFlow=M18.HTP.parser(O3.tr(6793)),this.lbStr3.textFlow=M18.HTP.parser(O3.tr(7157)),this.lbStr4.textFlow=M18.HTP.parser(O3.tr(7156))},t.prototype.open=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];s.prototype.open.call(this),this.bgMask.addEventListener(egret.TouchEvent.TOUCH_TAP,this.closeSelf,this)},t.prototype.close=function(){s.prototype.close.call(this),this.bgMask.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.closeSelf,this)},t.prototype.closeSelf=function(){this.aCF(O6.B96,M8.A2)},t}(BaseEuiView);__reflect(RedBoxPreviewView.prototype,"RedBoxPreviewView");var RedBoxRecordItemView=function(e){function t(){var t=e.call(this)||this;return t.skinName=RedBoxRecordItemSkin,t}return __extends(t,e),t.prototype.childrenCreated=function(){e.prototype.createChildren.call(this)},t.prototype.dataChanged=function(){e.prototype.dataChanged.call(this),this.lbName.textFlow=M18.HTP.parser(O3.tr(6477,this.data.name)),this.lbProbability.textFlow=M18.HTP.parser(O3.tr(6478,Math.floor(100*this.data.rate)))},t}(eui.ItemRenderer);__reflect(RedBoxRecordItemView.prototype,"RedBoxRecordItemView");var RedBoxRewardView=function(s){function t(t,e){var i=s.call(this,t,e)||this;return i.closeCD=10,i.skinName=RedBoxRewardSkin,i}return __extends(t,s),t.prototype.initUI=function(){s.prototype.initUI.call(this),this.dgRewards.dataProvider=this.rewardsCollection=new eui.ArrayCollection,this.dgRewards.itemRenderer=ItemIcon,this.btnOk.label=O3.tr(4249),this.btnMelt.label=O3.tr(6799);App.CM.gtM(O6.B96).actData;var t=N12.gID(N12.itemId.gold);this.imgMelt.setData(t)},t.prototype.open=function(){this.bgMask.addEventListener(egret.TouchEvent.TOUCH_TAP,this.closeSelf,this),this.btnOk.addEventListener(egret.TouchEvent.TOUCH_TAP,this.closeSelf,this),this.btnMelt.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickMelt,this),this.updateViews();var t=App.CM.gtM(O6.B96);t.canClick=!0;var e,i,s=t.actData;switch(P5.sIs(s.ob),s.gradeClick){case 1:e=s.oneSmokeNum,i=s.oneMeltGetNum;break;case 2:e=s.tenSmokeNum,i=s.tenMeltGetNum;break;case 3:e=s.fiftytSmokeNum,i=s.fiftytMeltGetNum}this.btnMelt.label=O3.tr(7150,e),P7.FM13(this.btnMelt,O3.tr(7153,M18.FM20(i,0,1e4)))},t.prototype.close=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];s.prototype.close.call(this),this.bRegSkipTimer=!1,this.bgMask.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.closeSelf,this),this.btnOk.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.closeSelf,this),this.btnMelt.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickMelt,this),App.K16.remove(this.ZU23,this),this.rewardsCollection.removeAll()},t.prototype.onClickMelt=function(){var t=App.CM.gtM(O6.B96);if(t.canClick){var e,i=t.actData;switch(i.gradeClick){case 1:e=i.oneMeltNum;break;case 2:e=i.tenMeltNum;break;case 3:e=i.fiftytMeltNum}N12.giC(N12.itemId.gold)<e?P7.FA78():(t.canClick=!1,App.CM.apF(O6.B96,HH15.A16,i.gradeClick),this.closeSelf())}},t.prototype.updateViews=function(){this.ZJ83(),this.ZU24()},t.prototype.ZJ83=function(){var t,e=App.CM.gtM(O6.B96).actData;switch(e.gradeClick){case 1:t=e.oneMeltNum;break;case 2:t=e.tenMeltNum;break;case 3:t=e.fiftytMeltNum}var i=t<=N12.giC(N12.itemId.gold)?7143:7151;this.lbMeltNum.textFlow=M18.HTP.parser(O3.tr(i,t)),this.closeCD=10,this.ZU23(),this.bRegSkipTimer||(this.bRegSkipTimer=!0,App.K16.doTimer(1e3,this.closeCD,this.ZU23,this))},t.prototype.ZU23=function(){this.closeCD--,this.closeCD<=0?this.closeSelf():this.lbTime.textFlow=M18.HTP.parser(O3.tr(6435,this.closeCD))},t.prototype.ZU24=function(){var t=[],e=App.CM.gtM(O6.B96).actData.ob,i=!0;for(var s in P7.FM14()&&(i=!1),e){var o=e[s],r=N12.gID(o.k);if(r){var n={itemData:{data:r,ct:o.v},isBottom:i};t.push(n)}}this.rewardsCollection.replaceAll(t)},t.prototype.closeSelf=function(){this.aCF(O6.B96,M8.A6)},t}(BaseEuiView);__reflect(RedBoxRewardView.prototype,"RedBoxRewardView");var RedBoxView=function(u){function t(t,e){var i=u.call(this,t,e)||this;return i.skinName=RedBoxSkin,i}return __extends(t,u),t.prototype.initUI=function(){u.prototype.initUI.call(this),this.touchEnabled=!1;var t=App.CM.gtM(O6.B96).actData;this.btnRecharge.label=O3.tr(7149),this.lbPreview.textFlow=M18.HTP.parser(O3.tr(7140)),this.lbStr2.textFlow=M18.HTP.parser(O3.tr(7141)),this.btnOneMelt.label=O3.tr(7150,t.oneSmokeNum),this.btnTenMelt.label=O3.tr(7150,t.tenSmokeNum),this.btnFiftytMelt.label=O3.tr(7150,t.fiftytSmokeNum),P7.FM13(this.btnOneMelt,O3.tr(7153,M18.FM20(t.oneMeltGetNum,0,1e4))),P7.FM13(this.btnTenMelt,O3.tr(7153,M18.FM20(t.tenMeltGetNum,0,1e4))),P7.FM13(this.btnFiftytMelt,O3.tr(7153,M18.FM20(t.fiftytMeltGetNum,0,1e4)));var e={render:RedBoxWinItemView,gap:6,width:this.listGroup.width,height:this.listGroup.height,arrowScale:1};this.listView=new CommonListBase(e),this.listGroup.addChild(this.listView),this.listView.verticalCenter=0,this.listView.horizontalCenter=0;var i=this.listView.itemList.layout;i instanceof eui.VerticalLayout&&(i.paddingTop=2);for(var s=TG3.FJ21(),o=0;o<s.length;o++){var r=this.grpItem.getChildAt(o),n=new ItemIcon,a=new eui.Image;a.name="img",a.visible=!1,a.source="v1_img_texi_png",a.width=92,a.height=90,a.horizontalCenter=3,a.verticalCenter=0;var h=new eui.Image;h.source="v1_fonts_jip_png",h.horizontalCenter=0,h.top=5,h.touchEnabled=!1;var p=TF59.FC9(s[o].itemData.quality),l={itemData:{data:s[o].itemData,ct:s[o].v,texiao:s[o].isEffect?p:null},isBottom:!1};n.data=l,r.addChild(n),r.addChild(a),s[o].isEffect?(r.addChild(h),r.scaleX=r.scaleY=1.2):r.scaleX=r.scaleY=1}var c=N12.gID(N12.itemId.gold);this.imgOneMelt.setData(c),this.imgTenMelt.setData(c),this.imgFiftytMelt.setData(c)},t.prototype.open=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];u.prototype.open.call(this),this.listView.open(),this.btnOneMelt.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickMelt,this),this.btnTenMelt.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickMelt,this),this.btnFiftytMelt.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickMelt,this),this.lbPreview.addEventListener(egret.TouchEvent.TOUCH_TAP,this.ZQ41,this),this.btnRecharge.addEventListener(egret.TouchEvent.TOUCH_TAP,TF59.openShop,this);var i=App.CM.gtM(O6.B96);i.canClick=!0,this.ZE68(),this.leftCD=i.actData.ZHH64(),this.GY14(),this.atimerHandler=App.K16.doTimer(1e3,this.leftCD,this.GY14,this)},t.prototype.dealTweenEnd=function(){var t=App.CM.gtM(O6.B96);t.canClick=!0,t.isTween=!1,this.ZE68(),this.clearHandler(),this.hideChoose()},t.prototype.showChoose=function(t){for(var e=0;e<this.grpItem.numChildren;e++){this.grpItem.getChildAt(e).getChildByName("img").visible=e==t}},t.prototype.hideChoose=function(){for(var t=0;t<this.grpItem.numChildren;t++){this.grpItem.getChildAt(t).getChildByName("img").visible=!1}},t.prototype.clearHandler=function(){this.handler&&(App.K16.rBH(this.handler),this.handler=null)},t.prototype.onClickMelt=function(t){var e=App.CM.gtM(O6.B96);if(e.canClick){var i=e.actData,s=N12.giC(N12.itemId.gold),o=i.oneMeltNum,r=1;t.currentTarget==this.btnTenMelt?(o=i.tenMeltNum,r=2):t.currentTarget==this.btnFiftytMelt&&(o=i.fiftytMeltNum,r=3),s<o?P7.FA78():(e.canClick=!1,e.isTween=!0,App.CM.apF(O6.B96,M8.A3,r),i.gradeClick=r)}},t.prototype.ZQ41=function(){App.CM.apF(O6.B96,M8.A5)},t.prototype.uBM=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];u.prototype.uBM.call(this,t,e);var s=e[0];if(t instanceof TG1)switch(s){case P4.V19:break;case"open":this.dealTweenEnd();break;default:this.ZE68()}},t.prototype.ZE68=function(){var t=App.CM.gtM(O6.B96);if(!t.isTween){var e,i=t.actData,s=N12.giC(N12.itemId.gold);e=s>=i.oneMeltNum?7143:7151,this.lbOneMeltNum.textFlow=M18.HTP.parser(O3.tr(e,i.oneMeltNum)),e=s>=i.tenMeltNum?7143:7151,this.lbTenMeltNum.textFlow=M18.HTP.parser(O3.tr(e,i.tenMeltNum)),e=s>=i.fiftytMeltNum?7143:7151,this.lbFiftytNum.textFlow=M18.HTP.parser(O3.tr(e,i.fiftytMeltNum));var o=TG3.getWinData();this.listView.rfL(o)}},t.prototype.GY14=function(){this.leftCD--;var t=P6.FJ11(1e3*this.leftCD,5);this.lbOverTime.textFlow=M18.HTP.parser(O3.tr(3253,t)),this.leftCD<=0&&(this.ZG16(),this.lbOverTime.text="")},t.prototype.ZG16=function(){null!=this.atimerHandler&&(App.K16.rBH(this.atimerHandler),this.atimerHandler=null)},t.prototype.close=function(){u.prototype.close.call(this),this.listView.close(),this.btnOneMelt.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickMelt,this),this.btnTenMelt.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickMelt,this),this.btnFiftytMelt.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickMelt,this),this.lbPreview.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.ZQ41,this),this.btnRecharge.removeEventListener(egret.TouchEvent.TOUCH_TAP,TF59.openShop,this),this.ZG16(),this.clearHandler(),App.CM.gtM(O6.B96).isTween=!1;for(var t=0;t<this.grpItem.numChildren;t++){this.grpItem.getChildAt(t).removeChildren()}},t}(BaseEuiView);__reflect(RedBoxView.prototype,"RedBoxView");var RedBoxWinItemView=function(e){function t(){var t=e.call(this)||this;return t.skinName=RedBoxRecordItemSkin,t}return __extends(t,e),t.prototype.childrenCreated=function(){e.prototype.createChildren.call(this)},t.prototype.dataChanged=function(){e.prototype.dataChanged.call(this);var t=O3.tr(6788,this.data.name,this.data.itemColor,this.data.itemName+"*"+this.data.num);this.lbRecord.textFlow=M18.HTP.parser(t)},t}(eui.ItemRenderer);__reflect(RedBoxWinItemView.prototype,"RedBoxWinItemView");var RedBoxData=function(h){function t(t){var e=h.call(this,t)||this;e.updateData(t);for(var i=M18.FL28(e.cost,";"),s=0;s<i.length;s++)switch(s){case 0:var o=M18.FL28(i[s],",")[2];o=M18.FL28(o,":"),e.oneSmokeNum=parseInt(o[1]),e.oneMeltNum=parseInt(o[2]),e.oneMeltGetNum=parseInt(o[3]);break;case 1:o=M18.FL28(i[s],":");e.tenSmokeNum=parseInt(o[1]),e.tenMeltNum=parseInt(o[2]),e.tenMeltGetNum=parseInt(o[3]);break;case 2:o=M18.FL28(i[s],":");e.fiftytSmokeNum=parseInt(o[1]),e.fiftytMeltNum=parseInt(o[2]),e.fiftytMeltGetNum=parseInt(o[3])}var r=M18.FL28(e.more,";",",");for(var n in e.itemList=[],r){var a=new RedBoxItemVo(r[n]);e.itemList.push(a)}return e}return __extends(t,h),t.prototype.updateData=function(t){if(t&&this.ZU63(t),this.timeNum=null!=t.c?t.c:this.timeNum,t.item&&(this.ob=t.item),t.ar){for(var e in this.winList||(this.winList=[]),t.ar){var i=new RedBoxWinVo(t.ar[e]);this.winList.push(i)}var s=this.winList.length-10;0<s&&(this.winList=this.winList.slice(s,this.winList.length))}},t}(ActivityVo);__reflect(RedBoxData.prototype,"RedBoxData");var RedBoxItemVo=function(t){this.id=parseInt(t[0]),this.isEffect=1==t[1],this.isGourmet=1==t[1];var e=t[2].split(":");this.k=parseInt(e[0]),this.v=parseInt(e[1]),this.itemData=N12.gID(this.k)};__reflect(RedBoxItemVo.prototype,"RedBoxItemVo");var RedBoxWinVo=function(t){if(this.name=void 0!==t.name?t.name:this.name,t.item){var e=N12.gID(t.item.k);this.itemName=e.name,this.itemColor=O5.FB43(e.quality,1),this.num=t.item.v}};__reflect(RedBoxWinVo.prototype,"RedBoxWinVo");var HH5=function(){function t(){}return t.A4=10001,t.A3=10002,t.A1=10003,t.A2=10004,t}();__reflect(HH5.prototype,"HH5");var TB50=function(i){function t(){var t=i.call(this)||this,e=new TE28(t);return e.aLV(O7.HH57),e.aLV(O7.C32),e.aLV(O7.I64),App.VM.register(O7.HH57,"RingMatchView",t,K17.UI_Main),t.rgF(HH5.A4,t.GK53,t),t.rgF(HH5.A3,t.GI55,t),t.ringMatchProxy=new TE29(t),t.rgF(HH5.A1,t.GF11,t),t.rgF(HH5.A2,t.GF12,t),t}return __extends(t,i),t.prototype.GF11=function(t){this.ringMatchProxy.GF11(t)},t.prototype.GF12=function(t){if(200==t.head.state){var e=t.body,i=this.gtM();i.ZC13(e),i.notify(),P5.sIs(t.body.ob)}else App.CM.apF(O6.B87,L10.A4,t)},t.prototype.GK53=function(){App.VM.open(O7.HH57);var t=App.CM.gtM(O6.B14);t.firstLoginRedNum=0,t.notify()},t.prototype.GI55=function(){App.VM.close(O7.HH57)},t}(TE11);__reflect(TB50.prototype,"TB50");var TE28=function(i){function t(t){var e=i.call(this,t)||this;return e.openState=!1,e.redNum=0,e.firstLoginRedNum=0,e}return __extends(t,i),t.prototype.ZC13=function(t){t&&(null!=this.actData?this.actData.updateData(t):(this.actData=new RingMatchData(t),this.tips=this.actData.tips))},t.prototype.updateRed=function(){this.redNum=this.FL35()},t.prototype.FL35=function(){var t=0;t+=this.firstLoginRedNum;var e=this.actData.confVo;for(var i in e)if(e[i].getState==J13.A3){t+=1;break}return t},t.prototype.notify=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];i.prototype.notifyView.apply(this,[this].concat(t))},t}(TG79);__reflect(TE28.prototype,"TE28");var TE29=function(i){function t(t){var e=i.call(this,t)||this;return e.rSM(P4.E73,e.GF12,e),e}return __extends(t,i),t.prototype.GF11=function(t){var e={type:P4.E72,body:{index:t}};this.sSM(e)},t.prototype.GF12=function(t){this.apF(HH5.A2,t)},t}(TG80);__reflect(TE29.prototype,"TE29");var RingMatchItemView=function(e){function t(){var t=e.call(this)||this;return t.skinName=ChapterBreakItemSkin,t.addEventListener(egret.Event.ADDED_TO_STAGE,t.open,t),t.addEventListener(egret.Event.REMOVED_FROM_STAGE,t.close,t),t}return __extends(t,e),t.prototype.open=function(){this.getBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.ZU29,this)},t.prototype.close=function(){this.getBtn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.ZU29,this),this.dataSource.removeAll()},t.prototype.childrenCreated=function(){e.prototype.createChildren.call(this),this.initUI()},t.prototype.initUI=function(){this.listContent.itemRenderer=ItemIcon,this.dataSource=new eui.ArrayCollection,this.listContent.dataProvider=this.dataSource,this.awardsSc.viewport=this.listContent,this.awardsSc.scrollPolicyH=eui.ScrollPolicy.OFF,this.awardsSc.scrollPolicyV=eui.ScrollPolicy.OFF,this.getImg.$setVisible(!1)},t.prototype.dataChanged=function(){e.prototype.dataChanged.call(this),this.titleLb.textFlow=M18.HTP.parser(this.data.title),this.titleBgImg.width=this.titleLb.width+55,this.getBtn.imgNew.visible=!1,this.data.getState==J13.A1?(this.getBtn.bgStr="v1_btn_green_1_png",this.getBtn.label=O3.tr(3235),this.getBtn.$setVisible(!0),this.getImg.$setVisible(!1)):this.data.getState==J13.A3?(this.getBtn.colour=_ccBtn.brown,this.getBtn.bgStr="v1_btn_yellow_1_png",this.getBtn.label=O3.tr(3232),this.getBtn.$setVisible(!0),this.getImg.$setVisible(!1),this.getBtn.imgNew.visible=!0):(this.getBtn.$setVisible(!1),this.getImg.$setVisible(!0)),this.ZJ81(this.data.award)},t.prototype.ZJ81=function(t){var e=[];for(var i in t){var s={itemData:{data:N12.gID(t[i].k),ct:t[i].v},isBottom:!1};e.push(s)}this.dataSource.replaceAll(e)},t.prototype.ZU29=function(){this.data.getState==J13.A1?App.CM.apF(O6.C4,N6.A31):this.data.getState==J13.A3&&App.CM.apF(O6.B14,HH5.A1,this.data.index)},t}(eui.ItemRenderer);__reflect(RingMatchItemView.prototype,"RingMatchItemView");var RingMatchView=function(s){function t(t,e){var i=s.call(this,t,e)||this;return i.skinName=ChapterBreakSkin,i}return __extends(t,s),t.prototype.initUI=function(){s.prototype.initUI.call(this),this.banner.source="v1_bg_qumindaofl7_jpg";var t={render:RingMatchItemView,gap:5,width:this.listGroup.width,height:this.listGroup.height,arrowScale:1};this.listView=new CommonListBase(t),this.listGroup.addChild(this.listView),this.listView.verticalCenter=0,this.listView.horizontalCenter=0,this.goBtn.label=O3.tr(3775)},t.prototype.open=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];s.prototype.open.call(this),this.goBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickGoBtn,this),this.listView.open();var i=App.CM.gtM(O6.B14);this.ZC18(i)},t.prototype.onClickGoBtn=function(){App.CM.apF(O6.C4,N6.A31)},t.prototype.ZC18=function(t){if(t.actData){this.actData=t.actData;var e=this.actData.getTopRank(),i=void 0;if(0<e){var s=O3.tr(3291,e);i=O3.tr(3290,s)}else i=O3.tr(3290,O3.tr(3292));if(this.missionLb.textFlow=M18.HTP.parser(i),null==this.timerHandler)if(0<this.actData.rs){this.leftCD=this.actData.ZHH64();var o=O3.tr(3253,P6.FJ11(1e3*this.leftCD,5));this.cdLb.textFlow=M18.HTP.parser(o),this.timerHandler=App.K16.doTimer(1e3,this.leftCD,this.GY14,this)}else this.cdLb.text="";var r=this.actData.confVo;this.listView.rfL(r)}},t.prototype.uBM=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];s.prototype.uBM.call(this,t,e),t instanceof TE28&&this.ZC18(t)},t.prototype.GY14=function(){this.leftCD--;var t=O3.tr(3253,P6.FJ11(1e3*this.leftCD,5));this.cdLb.textFlow=M18.HTP.parser(t),this.leftCD<=0&&(this.cTH(),this.cdLb.text="")},t.prototype.cTH=function(){null!=this.timerHandler&&(App.K16.rBH(this.timerHandler),this.timerHandler=null)},t.prototype.close=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];s.prototype.close.call(this),this.goBtn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickGoBtn,this),this.cTH(),this.listView.close()},t}(BaseEuiView);__reflect(RingMatchView.prototype,"RingMatchView");var ArenaRankActResConfVo=function(){function t(t){this._title="",this.getState=J13.A1,this.initData(t)}return t.prototype.initData=function(t){t&&(this.index=t.index,this.rank=t.rank,this.award=t.award,this.title=O3.tr(3293,this.rank))},Object.defineProperty(t.prototype,"getState",{get:function(){return this._getState},set:function(t){this._getState=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"title",{get:function(){return this._title},set:function(t){this._title=t},enumerable:!0,configurable:!0}),t}();__reflect(ArenaRankActResConfVo.prototype,"ArenaRankActResConfVo");var RingMatchData=function(i){function t(t){var e=i.call(this,t)||this;return e.confVo=[],e.hasGotList=[],e.nTopRank=0,e.updateData(t),e}return __extends(t,i),t.prototype.updateData=function(t){if(t){this.hasGotList=t.yaw||this.hasGotList;var e=App.CM.gtM(O6.C4);if(e&&(this.nTopRank=e.nTopRank),t.confs){null!=this.confVo&&0<this.confVo.length&&this.confVo.splice(0,this.confVo.length),this.confVo=[];for(var i=0;i<t.confs.length;i++){var s=new ArenaRankActResConfVo(t.confs[i]);this.confVo.push(s)}}if(0<this.hasGotList.length)for(var i in this.confVo)for(var o in this.hasGotList)if(this.confVo[i].index==this.hasGotList[o]){this.confVo[i].getState=J13.A2;break}for(var i in this.confVo){var r=this.confVo[i];0<this.nTopRank&&this.nTopRank<=r.rank&&r.getState!=J13.A2&&(this.confVo[i].getState=J13.A3)}this.confVo.sort(function(t,e){return t.getState==e.getState?t.index-e.index:t.getState-e.getState}),this.ZU63(t)}},t.prototype.getTopRank=function(){return this.nTopRank},t}(ActivityVo);__reflect(RingMatchData.prototype,"RingMatchData");var B17=function(){function t(){}return t.A1=0,t.A2=1,t}();__reflect(B17.prototype,"B17");var TA30=function(i){function t(){var t=i.call(this)||this;t.proxy=new TB52(t);var e=new TB51(t);return e.aLV(O7.D40),e.aLV(O7.C33),t.rgF(B17.A1,t.GB10,t),t.rgF(B17.A2,t.GB11,t),t}return __extends(t,i),t.prototype.GB10=function(t){this.proxy.ZA25(t)},t.prototype.GB11=function(t){var e=this.gtM();200==t.head.state?(P5.sIs(t.body.ob),e.ZC13(t.body),e.notify(P4.B86)):App.CM.apF(O6.B87,L10.A4,t)},t}(TE11);__reflect(TA30.prototype,"TA30");var TB51=function(i){function t(t){var e=i.call(this,t)||this;return e.openState=!1,e.redNum=0,e.firstLoginRedNum=0,e}return __extends(t,i),t.prototype.ZC13=function(t){t&&(null!=this.actData?this.actData.updateData(t):(this.actData=new SingleRechargeData(t),this.tips=this.actData.tips),this.updateRed())},t.prototype.updateRed=function(){this.redNum=this.FL35()},t.prototype.FL35=function(){var t=0;if(0<(t+=this.firstLoginRedNum))return t;var e=this.actData.getViewList();for(var i in e)if(e[i].bn>e[i].tn){t+=1;break}return t},t.prototype.notify=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];i.prototype.notifyView.apply(this,[this].concat(t))},t}(TG79);__reflect(TB51.prototype,"TB51");var TB52=function(i){function t(t){var e=i.call(this,t)||this;return e.rSM(P4.B86,e.GB11,e),e}return __extends(t,i),t.prototype.ZA25=function(t){var e={type:P4.B85,body:{target:t}};this.sSM(e)},t.prototype.GB11=function(t){this.apF(B17.A2,t)},t}(TG80);__reflect(TB52.prototype,"TB52");var ItemSingleRecharge=function(e){function t(){var t=e.call(this)||this;return t.skinName=SingleRechargeItemSkin,t.addEventListener(egret.Event.ADDED_TO_STAGE,t.open,t),t.addEventListener(egret.Event.REMOVED_FROM_STAGE,t.close,t),t}return __extends(t,e),t.prototype.open=function(){this.btnGet.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickGet,this)},t.prototype.close=function(){this.btnGet.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickGet,this),this.itemCollection.removeAll()},t.prototype.childrenCreated=function(){e.prototype.createChildren.call(this),this.itemCollection=new eui.ArrayCollection,this.listContent.dataProvider=this.itemCollection,this.listContent.itemRenderer=ItemIcon,this.awardsSc.scrollPolicyV=eui.ScrollPolicy.OFF},t.prototype.dataChanged=function(){this.lbTitle.textFlow=M18.FG71(O3.tr(3914,this.data.conf.momey)),this.btnGet.imgNew.visible=!1,this.data.bn>this.data.tn?(this.rechLb.text=O3.tr(3414,this.data.bn-this.data.tn),this.btnGet.imgNew.visible=!0,this.btnGet.bgStr="v1_btn_yellow_1_png",this.btnGet.label=O3.tr(1563),this.btnGet.visible=!0,this.imgGot.visible=!1):(this.rechLb.text=0<this.data.conf.limit?O3.tr(3412,this.data.bn,this.data.conf.limit):O3.tr(3413),this.data.conf.limit<=0||this.data.bn<this.data.conf.limit?(this.btnGet.visible=!0,this.btnGet.imgNew.visible=!1,this.btnGet.bgStr="v1_btn_green_1_png",this.btnGet.label=O3.tr(3203),this.imgGot.visible=!1):(this.btnGet.visible=!1,this.imgGot.visible=!0));var t=[];for(var e in this.data.conf.rewardList){var i={data:N12.gID(this.data.conf.rewardList[e].k),ct:this.data.conf.rewardList[e].v};t.push({itemData:i,isBottom:!1,scale:1})}this.itemCollection.replaceAll(t),this.labRebate.text=O3.tr(3913,Math.floor(100*this.data.conf.r))},t.prototype.onClickGet=function(){this.data.bn>this.data.tn?App.CM.apF(O6.A34,B17.A1,this.data.conf.target):App.CM.apF(O6.C29,P8.A7)},t}(eui.ItemRenderer);__reflect(ItemSingleRecharge.prototype,"ItemSingleRecharge");var SingleRechargeView=function(o){function t(t,e){var i=o.call(this,t,e)||this;return i.skinName=SingleRechargeSkin,i}return __extends(t,o),t.prototype.initUI=function(){o.prototype.initUI.call(this);var t={render:ItemSingleRecharge,horizontalGap:10,verticalGap:10,width:this.listGroup.width,height:this.listGroup.height,arrowScale:1,tileLayout:!0};this.listView=new CommonListBase(t),this.listGroup.addChild(this.listView),this.listView.verticalCenter=0,this.listView.horizontalCenter=0,this.tips.textFlow=M18.FG71(O3.tr(3912))},t.prototype.open=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];o.prototype.open.call(this),this.listView.open();var i=App.CM.gtM(O6.A34);this.ZA11(i);var s=App.VM.gOV(TF59.FA34(F7.A31));s&&s.autoOut&&(s.autoOut.visible=!1)},t.prototype.uBM=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];o.prototype.uBM.call(this,t,e),t instanceof TB51&&this.ZA11(t)},t.prototype.ZA11=function(t){t.actData;this.leftCD=t.actData.ZHH64();var e=P6.FJ11(1e3*this.leftCD,5);this.cdLb.textFlow=M18.HTP.parser(O3.tr(3253,e)),this._timerHandler=App.K16.doTimer(1e3,this.leftCD,this.GY14,this);var i=t.actData.getViewList();this.listView.rfL(i),this.scrollToGet()},t.prototype.GY14=function(){this.leftCD--;var t=P6.FJ11(1e3*this.leftCD,5);this.cdLb.textFlow=M18.HTP.parser(O3.tr(3253,t)),this.leftCD<=0&&(this.cTH(),this.cdLb.text="")},t.prototype.cTH=function(){null!=this._timerHandler&&(App.K16.rBH(this._timerHandler),this._timerHandler=null)},t.prototype.scrollToGet=function(){var t=this.listView.getListData();for(var e in t)if(t[e].state==J13.A3){this.listView.ZQ18(parseInt(e));break}},t.prototype.close=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];o.prototype.close.call(this);var i=App.VM.gOV(TF59.FA34(F7.A31));i&&i.autoOut&&(i.autoOut.visible=!0),this.listView.close(),this.cTH()},t}(BaseEuiView);__reflect(SingleRechargeView.prototype,"SingleRechargeView");var SingleRechargeData=function(i){function t(t){var e=i.call(this,t)||this;return e.updateData(t),e}return __extends(t,i),t.prototype.updateData=function(t){if(t.rwl)for(var e in this.rewardList=[],t.rwl){var i=t.rwl[e],s=new FinishConfVo(i);this.rewardList.push(s)}this.buy=null!=t.tb?t.tb:this.buy,this.take=null!=t.tt?t.tt:this.take,this.ZU63(t)},t.prototype.getViewList=function(){var t=[];for(var e in this.rewardList){var i=this.rewardList[e],s={conf:i},o=this.buy[i.getTarget()];s.bn=null==o?0:o;var r=this.take[i.getTarget()];s.tn=null==r?0:r,t.push(s)}return t.sort(function(t,e){var i=0<t.bn-t.tn?1:0,s=0<e.bn-e.tn?1:0,o=t.bn==t.conf.getLimit()?1:0,r=e.bn==e.conf.getLimit()?1:0;return i==s?o==r?t.conf.getTarget()-e.conf.getTarget():o-r:s-i}),t},t}(ActivityVo);__reflect(SingleRechargeData.prototype,"SingleRechargeData");var B3=function(){function t(){}return t.A4=10001,t.A1=10002,t.A5=10003,t.A6=10004,t.A2=10005,t.A3=10006,t}();__reflect(B3.prototype,"B3");var TA18=function(i){function t(){var t=i.call(this)||this,e=new TA88(t);return e.aLV(O7.B84),e.aLV(O7.C32),e.aLV(O7.I64),App.VM.register(O7.B84,"SkinDiscountShopView",t,K17.UI_Main),t.rgF(B3.A4,t.GF13,t),t.rgF(B3.A1,t.GE20,t),t.rgF(B3.A5,t.GT96,t),t.proxy=new TA89(t),t.rgF(B3.A2,t.GI56,t),t.rgF(B3.A3,t.GI57,t),t}return __extends(t,i),t.prototype.GT96=function(t){this.gtM().notify(B3.A6,t)},t.prototype.GI56=function(t){this.proxy.ZC19(t)},t.prototype.GI57=function(t){if(200==t.head.state){var e=t.body,i=this.gtM();i.ZC13(e),i.notify(),P5.sIs(t.body.ob)}else 215==t.head.state?P7.FA78():App.CM.apF(O6.B87,L10.A4,t)},t.prototype.GF13=function(){App.VM.open(O7.B84);var t=App.CM.gtM(O6.A16);t.firstLoginRedNum=0,t.notify()},t.prototype.GE20=function(){App.VM.close(O7.B84)},t}(TE11);__reflect(TA18.prototype,"TA18");var TA88=function(i){function t(t){var e=i.call(this,t)||this;return e.openState=!1,e.redNum=0,e.firstLoginRedNum=0,e}return __extends(t,i),t.prototype.ZC13=function(t){t&&(null!=this.data?this.data.updateData(t):(this.data=new SkinDiscountShopData(t),this.tips=this.data.tips),this.updateRed())},t.prototype.updateRed=function(){this.redNum=this.FL35()},t.prototype.FL35=function(){var t=0;return t+=this.firstLoginRedNum},t.prototype.notify=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];i.prototype.notifyView.call(this,this,t)},t}(TG79);__reflect(TA88.prototype,"TA88");var TA89=function(i){function t(t){var e=i.call(this,t)||this;return e.rSM(P4.N64,e.ZC20,e),e}return __extends(t,i),t.prototype.ZC19=function(t){var e={type:P4.N63,body:{index:t,num:1}};this.sSM(e)},t.prototype.ZC20=function(t){this.apF(B3.A3,t)},t}(TG80);__reflect(TA89.prototype,"TA89");var TB17=function(){function t(){}return t.FJ23=function(){var t=App.CM.gtM(O6.C14).getShopData(P12.A24),e=App.CM.gtM(O6.A16).data.confs,i=[];for(var s in e){var o=e[s],r=N15.skin[o.id],n={};for(var a in n.id=o.id,n.sequence=r.sequence,n.price=r.price.split(":")[1],n.discount=o.discount.v,n.hasBuy=0,t.buyNum)if(t.buyNum[a].k==o.id){n.hasBuy=t.buyNum[a].v;break}n.limitBuy=r.limitnum,n.isSuit=o.isSuit;var h=String(r.goods).split(":"),p=N12.gID(h[0]);n.itemData={data:p,ct:h[1]},n.showid=o.showid,i.push(n)}return i.sort(function(t,e){return t.hasBuy>=t.limitBuy&&e.hasBuy>=e.limitBuy?t.sequence-e.sequence:t.hasBuy<t.limitBuy&&e.hasBuy<e.limitBuy?t.sequence-e.sequence:t.hasBuy<t.limitBuy&&e.hasBuy>=e.limitBuy?-1:1}),i},t.FK38=function(t,e){var i=O1.init[t],s=App.CM.gtM(O6.B82).avatarInfo.us[J11.A7];if(e.data.preview=P7.copyTab(s),e.data.preview.n=void 0,(e.data.preview.t=null)==e.data.preview.h&&(e.data.preview.h=12801),0!=t)switch(i.type){case"body":e.data.preview.id=t;break;case"horses":e.data.preview.h=t;break;case"wing":e.data.preview.wi=t;break;case"magicthing":e.data.preview.f=t;break;case"weapon":e.data.preview.we=t;break;case"formation":e.data.preview.fi=t;break;case"name":e.data.preview.gi=t;break;case"spirit":e.data.preview.asps=t;break;case"soul":e.data.preview.ass=t;break;case"title":e.data.preview={},e.data.preview.id=s.id,e.data.preview.t=t}},t}();__reflect(TB17.prototype,"TB17");var SkinDiscountShopView=function(s){function t(t,e){var i=s.call(this,t,e)||this;return i.listData=[],i.sGN("release_act1035"),i.skinName="SkinDiscountShopSkin",i}return __extends(t,s),t.prototype.initUI=function(){s.prototype.initUI.call(this),this.createList()},t.prototype.createList=function(){var t={render:SkinDiscountItem,width:this.listGroup.width,height:this.listGroup.height,arrowScale:1,tileLayout:!0,verticalGap:10,horizontalGap:8};this.listView=new CommonListBase(t),this.listGroup.addChild(this.listView),this.listView.verticalCenter=0,this.listView.horizontalCenter=0},t.prototype.updateList=function(){this.listData=TB17.FJ23(),this.listView.rfL(this.listData)},t.prototype.open=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];s.prototype.open.call(this),this.listView.open();var i=App.CM.gtM(O6.A16);this.GY15(i,0),this.ZA91(i)},t.prototype.GY15=function(t,e){var i=TB17.FJ23(),s=e;0==e&&i&&0<i.length&&(s=i[0].showid),TB17.FK38(s,t);var o=t.data.confs;for(var r in o){var n=o[r];if(n.showid==s){this.scoreLb.textFlow=M18.HTP.parser(O3.tr(3729,n.score)),this.nameLb.text=n.name;break}}this.objGrp.removeChildren(),this.showObj&&this.showObj.destory();var a={x:0,y:0,dir:Dir.br,objType:P13.A6};this.showObj=new FightGameObject,this.showObj.action=Action.Stand,this.showObj.setBaseData(a);var h=O1.init[s],p=t.data.preview;if("animal"==h.suittype&&(p={id:t.data.preview.id}),p.bt=BehaviourType.Stand_d,this.showObj.setData(p,this.objGrp),"title"==h.suittype){var l=this.objGrp.getChildAt(0);for(r=0;r<l.numChildren;r++){var c=l.getChildAt(r);c.fight_st&&"t"!=c.fight_st&&(c.visible=!1)}this.objGrp.y=270,this.objGrp.scaleX=this.objGrp.scaleY=1}else this.objGrp.y=152,this.objGrp.scaleX=this.objGrp.scaleY=.8},t.prototype.uBM=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];s.prototype.uBM.call(this,t,e),t instanceof TA88&&(e[0]&&e[0][0]==B3.A6?this.GY15(t,e[0][1]):this.ZA91(t))},t.prototype.ZA91=function(t){var e=t.data;if(this.updateList(),null==this.timerHandler)if(0<e.ZHH64()){this.leftCD=e.ZHH64();var i=O3.tr(3253,P6.FJ11(1e3*this.leftCD,5));this.leftCdLb.textFlow=M18.HTP.parser(i),this.timerHandler=App.K16.doTimer(1e3,this.leftCD,this.GY14,this)}else this.leftCdLb.text=""},t.prototype.GY14=function(){this.leftCD--;var t=O3.tr(3253,P6.FJ11(1e3*this.leftCD,5));this.leftCdLb.textFlow=M18.HTP.parser(t),this.leftCD<=0&&(this.cTH(),this.leftCdLb.text="")},t.prototype.cTH=function(){null!=this.timerHandler&&(App.K16.rBH(this.timerHandler),this.timerHandler=null)},t.prototype.close=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];s.prototype.close.call(this),this.cTH(),this.listView.close(),this.showObj&&this.showObj.destory()},t}(BaseEuiView);__reflect(SkinDiscountShopView.prototype,"SkinDiscountShopView");var SkinDiscountItem=function(e){function t(){var t=e.call(this)||this;return t.skinName="SkinDiscountItemSkin",t.addEventListener(egret.Event.ADDED_TO_STAGE,t.open,t),t.addEventListener(egret.Event.REMOVED_FROM_STAGE,t.close,t),t}return __extends(t,e),t.prototype.open=function(){this.buyBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.clickBuy,this),this.previewBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.clickPreview,this)},t.prototype.close=function(){this.buyBtn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.clickBuy,this),this.previewBtn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.clickPreview,this)},t.prototype.childrenCreated=function(){e.prototype.createChildren.call(this),this.initUI()},t.prototype.initUI=function(){App.CM.gtM(O6.A16).data;this.itemIcon=new ItemIcon,this.iconGp.addChild(this.itemIcon),this.lbltaozhuang.textFlow=M18.HTP.parse(O3.tr(3730)),this.lblyuanjia.textFlow=M18.HTP.parse(O3.tr(3731)),this.lblxianjia.textFlow=M18.HTP.parse(O3.tr(3733)),this.buyBtn.label=O3.tr(3735),this.previewBtn.label=O3.tr(3736)},t.prototype.dataChanged=function(){this.nameLb.text=this.data.itemData.data.name,O5.FB13(this.nameLb,this.data.itemData.data.name,this.data.itemData.data.quality),this.limitBuyLb.text=O3.tr(3255,this.data.hasBuy,this.data.limitBuy),this.oldPriceLb.textFlow=M18.HTP.parse(O3.tr(3732,this.data.price)),this.nowPriceLb.textFlow=M18.HTP.parse(O3.tr(3734,this.data.discount)),this.isSuitGrp.visible=0<this.data.isSuit;var t={itemData:this.data.itemData,isBottom:!1};this.itemIcon.data=t,P16.sGF(this.buyBtn,this.data.hasBuy>=this.data.limitBuy),this.buyBtn.enabled=this.data.hasBuy<this.data.limitBuy},t.prototype.clickBuy=function(){App.CM.apF(O6.A16,B3.A2,this.data.id)},t.prototype.clickPreview=function(){App.CM.apF(O6.A16,B3.A5,this.data.showid)},t}(eui.ItemRenderer);__reflect(SkinDiscountItem.prototype,"SkinDiscountItem");var SkinDiscountShopConfVo=function(t){this.id=t.id,this.discount=t.discount,this.isSuit=t.isSuit,this.showid=t.showid,this.score=t.score,this.name=t.name};__reflect(SkinDiscountShopConfVo.prototype,"SkinDiscountShopConfVo");var SkinDiscountShopData=function(i){function t(t){var e=i.call(this,t)||this;return e.score=0,e.updateData(t),e}return __extends(t,i),t.prototype.updateData=function(t){if(t){if(0<this.ZHH64()&&(this.lastLoadTime=P6.getTime(!0)),t.confs){for(var e in null!=this.confs&&0<this.confs.length&&this.confs.splice(0,this.confs.length),this.confs=[],t.confs){var i=new SkinDiscountShopConfVo(t.confs[e]);this.confs.push(i)}this.confs.sort(function(t,e){return t.id-e.id})}this.ZU63(t)}},t}(ActivityVo);__reflect(SkinDiscountShopData.prototype,"SkinDiscountShopData"),function(t){var e=function(){function t(){}return t.OpenDetailsView=10002,t.CloseDetailsView=10003,t.ATTACK_REQ=20001,t.ATTACK_RES=20002,t}();t.Const=e,__reflect(e.prototype,"Snowman.Const")}(Snowman||(Snowman={})),function(s){var t=function(i){function t(){var t=i.call(this)||this,e=new s.Model(t);return e.aLV(O7.A12),e.aLV(O7.A95),e.aLV(O7.G22),e.aLV(O7.C32),e.aLV(O7.I64),App.VM.register(O7.G22,"SnowmanView",t,K17.UI_Main),App.VM.register(O7.A12,"SnowmanDetailsMainView",t,K17.UI_Main_TOP),t.rgF(s.Const.OpenDetailsView,t.GV57,t),t.rgF(s.Const.CloseDetailsView,t.GT94,t),t.proxy=new s.Proxy(t),t.rgF(s.Const.ATTACK_REQ,t.proxy.attackReq,t.proxy),t.rgF(s.Const.ATTACK_RES,t.GY4,t),t}return __extends(t,i),Object.defineProperty(t.prototype,"model",{get:function(){return this.gtM()},enumerable:!0,configurable:!0}),t.prototype.GV57=function(){for(var t,e=[],i=0;i<arguments.length;i++)e[i]=arguments[i];(t=App.VM).open.apply(t,[O7.A12,O7.A95].concat(e))},t.prototype.GT94=function(){App.VM.close(O7.A12)},t.prototype.GY4=function(t){var e=this;if(200==t.head.state)if(t.body.cd_)P7.fightCoolingCD(t.body.cd_);else{var i=P7.isGetView(O7.G22);this.model.ZC13(t.body),t.body.fr&&App.CM.apF(O6.B99,N1.A11,t.body.fr,{rewards:t.body.ob,needResult:!1,type:P15.A42,isAuto:i},function(){var t=e.model.challengeId;t&&(App.VM.open(TF59.FA34(F7.B30),O7.G22),e.GV57(t),delete e.model.challengeId)},this),t.body.upme&&t.body.upme.cd&&(this.model._atkCd=P6.getTime(!0)+Math.ceil(t.body.upme.cd/1e3))}else App.CM.apF(O6.B87,L10.A4,t)},t}(TE11);s.Controller=t,__reflect(t.prototype,"Snowman.Controller")}(Snowman||(Snowman={})),function(e){var t=function(i){function t(t){var e=i.call(this,t)||this;return e.openState=!1,e.redNum=0,e.firstLoginRedNum=0,e}return __extends(t,i),t.prototype.ZC13=function(t){null!=this.actData?this.actData.ZU63(t):this.actData=new e.SnowmanAct(t),this.updateRed(),this.notify()},t.prototype.updateRed=function(){this.redNum=this.FL35()},t.prototype.FL35=function(){var t=0;if(this.actData)for(var e=0,i=this.actData.sms;e<i.length;e++){var s=i[e];if(1===this.actData.getStatus(s.id)){t+=1;break}}return t+=this.firstLoginRedNum},t.prototype.notify=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];i.prototype.notifyView.call(this,this,t)},t.prototype.getCountdown=function(t){return Math.max(0,(this._atkCd||0)-P6.getTime(!0))},t.prototype.attack=function(t){this.challengeId=t},t}(TG79);e.Model=t,__reflect(t.prototype,"Snowman.Model")}(Snowman||(Snowman={})),function(e){var t=function(i){function t(t){var e=i.call(this,t)||this;return e.rSM(P4.W55,e.GY4,e),e}return __extends(t,i),t.prototype.attackReq=function(t){this.sSM({type:P4.W54,body:{id:t}})},t.prototype.GY4=function(t){this.apF(e.Const.ATTACK_RES,t)},t}(TG80);e.Proxy=t,__reflect(t.prototype,"Snowman.Proxy")}(Snowman||(Snowman={})),function(t){var e=function(){function t(){}return t.dateFormat=function(t){return P6.FJ11(t,1)},t}();t.Utils=e,__reflect(e.prototype,"Snowman.Utils")}(Snowman||(Snowman={}));var SnowmanDetailsMainView=function(s){function t(t,e){var i=s.call(this,t,e)||this;return i.set(O7.A12,"捣乱雪人").rgS(O7.A95,"SnowmanDetailsView",""),i}return __extends(t,s),t.prototype.initUI=function(){s.prototype.initUI.call(this),this.btnList.visible=!1,this.content.addEventListener("changeName",this.onChangeName,this)},t.prototype.onChangeName=function(t){this.title=t.data},t}(BasePanelViewX);__reflect(SnowmanDetailsMainView.prototype,"SnowmanDetailsMainView");var SnowmanDetailsView=function(s){function t(t,e){var i=s.call(this,t,e)||this;return i.skinName="SnowmanDetailsSkin",i}return __extends(t,s),t.prototype.open=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];s.prototype.open.apply(this,[t].concat(e)),this.createList(),this.listView.open(),this.pBarPro.slideDuration=0,this.id=t,this.cRank.lab0.text=O3.tr(5442),this.cRank.lab1.text=O3.tr(5440),this.cRank.lab2.text=O3.tr(5441),this.labTips.text=O3.tr(5444),this.updateList(),this.updateRank(),this.GX5(),this.GX42(),this.btnAtk.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClick,this)},t.prototype.createList=function(){var t={render:SnowmanRewardListItem,width:this.listGroup.width,height:this.listGroup.height,arrowScale:1,tileLayout:!0,verticalGap:10,horizontalGap:10};this.listView=new CommonListBase(t),this.listGroup.addChild(this.listView),this.listView.verticalCenter=0,this.listView.horizontalCenter=0},t.prototype.GX5=function(t){var e=(t=t||App.CM.gtM(O6.B75)).actData.FF93(this.id);if(e){this.imgName.source=["v1_fonts_xiaoxeuren_png","v1_fonts_daxeuren_png","v1_fonts_xeurenwang_png"][e.t-1];var i=t.actData.getStatus(this.id);switch(this.imgStatus.visible=!(1===i)&&-1!==t.actData.rc,i){case 3:this.imgStatus.source="v1_fonts_yitoazou_png";break;case 2:this.imgStatus.source="v1_fonts_yijc_png"}this.pBarPro.maximum=e.thp,this.pBarPro.value=e.hp;var s=O3.tr(7128);12010003==e.npc?s=O3.tr(7129):12010004==e.npc&&(s=O3.tr(7130)),this.myParent&&this.myParent.dispatchEventWith("changeName",!1,s)}},t.prototype.uBM=function(t){t instanceof Snowman.Model&&(this.updateList(),this.updateRank(),this.GX5(),this.GX42())},t.prototype.updateList=function(){var t=App.CM.gtM(O6.B75),e=t.actData.FF93(this.id).t-1,i=[];2===e&&i.push({awd:M18.FL28(t.actData.reward,";",":"),rank:0}),t.actData.rankData[e].forEach(function(t,e){return i.push({awd:t,rank:e+1})}),this.listView.rfL(i)},t.prototype.updateRank=function(t){t=t||App.CM.gtM(O6.B75);var e=App.CM.gtM(O6.B82),i=t.actData.r[this.id],s=this.cRank.gMe;if(i&&0<i.length){for(var o=0;o<5;o++){var r=i[o],n=this.cRank.gList.getChildAt(o);s.visible=n.visible=!0;var a=n.getChildAt(0),h=n.getChildAt(1);r&&r.aid?(a.text=r.rank+". "+r.name,h.text=r.value.toString()):(a.text="",h.text="")}this.cRank.lab2.visible=!1}else this.cRank.gList.visible=!1,this.cRank.lab2.visible=!0;var p=s.getChildAt(0),l=t.actData.me[this.id],c=M18.FG71(O3.tr(5443,"#d82222",O3.tr(5436),e.avatarInfo.n)),u=0;l&&(c=M18.FG71(O3.tr(5443,p.textColor.toString(),l.rank,e.avatarInfo.n)),u=l.killHp);var d=s.getChildAt(1);p.textFlow=c,d.text=u.toString()},t.prototype.GX42=function(){this.timer=this.timer||App.K16.doTimer(1e3,0,this.GX42,this);var t=App.CM.gtM(O6.B75),e=t.actData.getStatus(this.id),i="";switch(e){case 3:case 2:i=t.actData.haveNext()?O3.tr(5438,Snowman.Utils.dateFormat(t.actData.nc)):O3.tr(5548);break;case 1:default:i=O3.tr(5439,Snowman.Utils.dateFormat(t.actData.rc))}this.labTime.text=i;var s=t.getCountdown(this.id);this.btnAtk.touchEnabled=s<=0,this.btnAtk.visible=1===e,this.btnAtk.visible&&P16.sGF(this.btnAtk,!this.btnAtk.touchEnabled),this.btnAtk.label=s?O3.tr(5447,s):O3.tr(5446)},t.prototype.onClick=function(){var t=App.CM.gtM(O6.B75),e=t.actData.getStatus(this.id);3===e||2===e||(t&&t.attack(this.id),App.CM.apF(O6.B75,Snowman.Const.ATTACK_REQ,this.id))},t.prototype.close=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];App.K16.removeAll(this),this.listView.close(),this.btnAtk.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClick,this),s.prototype.close.apply(this,t)},t}(BaseEuiView);__reflect(SnowmanDetailsView.prototype,"SnowmanDetailsView");var SnowmanMonsterView=function(){function t(t){this.root=t,this.root.pBarPro.slideDuration=0,this.root.pBarPro.labelFunction=function(t,e){return Math.floor(t/e*100)+"%"}}return t.prototype.update=function(t){this.showObj&&this.showObj.destory(),this.id=t.id;var e={id:N17.FF93(t.npc).image,x:0,y:0,dir:Dir.br,objType:P13.A6,bt:BehaviourType.Stand_d};this.showObj=new FightGameObject,this.showObj.action=Action.Stand,this.showObj.setData(e,this.root.pos),this.GX42(),this.GX5()},t.prototype.GX5=function(){var t=App.CM.gtM(O6.B75),e=t.actData.FF93(this.id),i=t.actData.getStatus(this.id),s=2===i;switch(this.root.imgStatus.visible=1!==i&&-1!==t.actData.rc,i){case 3:this.root.imgStatus.source="v1_fonts_yitoazou_png";break;case 2:this.root.imgStatus.source="v1_fonts_yijc_png";break;case 1:default:this.root.pBarPro.maximum=e.thp,this.root.pBarPro.value=e.hp}this.root.cRank.visible=s,this.root.pBarPro.visible=1===i,s&&(this.root.cRank.visible=!0,this.updateRank()),this.root.pos.scaleY=this.root.pos.scaleX=1===e.t?1:1.2},t.prototype.GX42=function(){if(this.root.gTime.visible=!1,null!=this.id){var t=App.CM.gtM(O6.B75),e=void 0;switch(t.actData.getStatus(this.id)){case 3:case 2:e=t.actData.haveNext()?O3.tr(5438,Snowman.Utils.dateFormat(t.actData.nc)):"";break;case 1:default:e=O3.tr(5439,Snowman.Utils.dateFormat(t.actData.rc))}e&&(this.root.gTime.visible=!0,this.root.labTime.text=e)}this.GX5()},t.prototype.updateRank=function(){for(var t=App.CM.gtM(O6.B75).actData.r[this.id]||[],e=0;e<3;e++){var i=this.root.cRank.getChildAt(e),s=t[e];if(i.visible=!!s,s)i.getChildByName("title").text=""+s.name}},t.prototype.close=function(){this.showObj&&this.showObj.destory()},t}();__reflect(SnowmanMonsterView.prototype,"SnowmanMonsterView");var SnowmanRewardListItem=function(e){function t(){var t=e.call(this)||this;return t.skinName="SnowmanRewardListItemSkin",t.addEventListener(egret.Event.ADDED_TO_STAGE,t.open,t),t.addEventListener(egret.Event.REMOVED_FROM_STAGE,t.close,t),t}return __extends(t,e),t.prototype.open=function(){},t.prototype.close=function(){this.dataSource.removeAll()},t.prototype.childrenCreated=function(){e.prototype.createChildren.call(this),this.initUI()},t.prototype.initUI=function(){this.listContent.itemRenderer=ItemIcon,this.dataSource=new eui.ArrayCollection,this.listContent.dataProvider=this.dataSource,this.awardsSc.viewport=this.listContent,this.awardsSc.scrollPolicyH=eui.ScrollPolicy.OFF,this.awardsSc.scrollPolicyV=eui.ScrollPolicy.OFF},t.prototype.dataChanged=function(){e.prototype.dataChanged.call(this),this.imgRank.visible=this.data.rank<=3,this.gRank.visible=!this.imgRank.visible,this.data.rank<=0?this.imgRank.source="v1_fonts_jcBOSS_png":this.data.rank<=3?this.imgRank.source="v1_fonts_di"+this.data.rank+"ming_png":this.titleLb0.text=O3.tr(5445,this.data.rank),this.ZJ81(this.data.awd)},t.prototype.ZJ81=function(t){var e=[];for(var i in t){var s={itemData:{data:N12.gID(parseInt(t[i][0])),ct:parseInt(t[i][1])},isBottom:!1};e.push(s)}this.dataSource.replaceAll(e)},t}(eui.ItemRenderer);__reflect(SnowmanRewardListItem.prototype,"SnowmanRewardListItem");var Snowman,SnowmanView=function(o){function t(t,e){var i=o.call(this,t,e)||this;return i.snowmans=[],i.sGN("release_act1090"),i.skinName="SnowmanSkin",i}return __extends(t,o),Object.defineProperty(t.prototype,"model",{get:function(){return App.CM.gtM(O6.B75)},enumerable:!0,configurable:!0}),t.prototype.initUI=function(){o.prototype.initUI.call(this);for(var t=0;t<this.pMonster.numChildren;t++){var e=this.pMonster.getChildAt(t);e.name=t.toString(),e.addEventListener(egret.TouchEvent.TOUCH_TAP,this.ZQ27,this),this.snowmans.push(new SnowmanMonsterView(e))}},t.prototype.open=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];o.prototype.open.apply(this,t),this.ZM91(),this.ZG18(),this.labDesc.text=this.model.actData.actTips,this.timer=this.timer||App.K16.doTimer(1e3,0,this.GX42,this)},t.prototype.uBM=function(t){t instanceof Snowman.Model&&this.ZM91(t)},t.prototype.ZQ27=function(t){var e=parseInt(t.currentTarget.name),i=this.model;App.CM.apF(O6.B75,Snowman.Const.OpenDetailsView,i.actData.sms[e].id)},t.prototype.ZM91=function(t){var s=this;(t=t||this.model).actData.sms.forEach(function(t,e){var i=O3.tr(7128);12010003==t.npc?i=O3.tr(7129):12010004==t.npc&&(i=O3.tr(7130)),s.snowmans[e].update(t),s.gNames.getChildAt(e).text=i})},t.prototype.GX42=function(){for(var t=0,e=this.snowmans;t<e.length;t++){e[t].GX42()}this.ZG18()},t.prototype.ZG18=function(){var t=P6.FJ11(1e3*this.model.actData.ZHH64(),5);this.labTime.textFlow=M18.HTP.parser(O3.tr(3253,t))},t.prototype.close=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];o.prototype.close.apply(this,t);for(var i=0,s=this.snowmans;i<s.length;i++){s[i].close()}App.K16.removeAll(this)},t}(BaseEuiView);__reflect(SnowmanView.prototype,"SnowmanView"),function(t){var e=function(v){function t(){return null!==v&&v.apply(this,arguments)||this}return __extends(t,v),t.prototype.ZU63=function(t){if(v.prototype.ZU63.call(this,t),this.timeDifference=P6.getTime(!0),t.atmp&&t.atmp.rank){var e=t.atmp.rank;if(this.rankData=M18.FL28(e,"/","|",";",":"),this.cost&&this.desc)try{var i=this.cost.split("|"),s=i[0].split(","),o=s[0],r=s[1],n=i[1].split("-")[0],a=o.split("-"),h=a[0],p=a[1],l=parseInt(r)/60;l=l===Math.floor(l)?l:parseFloat(l.toFixed(2)),this.actTips=M18.FM18(this.desc,h,p,l,n)}catch(p){Log.trace("error:",p)}}if(t.r)for(var c in this.r&&0!==Object.keys(t.r).length||(this.r={}),t.r)this.r[c]=t.r[c];if(this.sms=t.sms||this.sms,this.me=void 0!==t.me?t.me:this.me,null!=t.nc&&(this._nc=t.nc),null!=t.rc&&(this._rc=t.rc),t.sm&&this.sms)for(var u=0;u<this.sms.length;u++)if(this.sms[u].id===t.sm.id){for(var c in t.sm)this.sms[u][c]=t.sm[c];break}if(t.upme&&this.me){var d=!1;for(var u in this.me)if(this.me[u].id===t.upme.id){this.me[u]=t.upme,d=!0;break}d||(this.me[t.upme.id]=t.upme)}},t.prototype.haveNext=function(){return-1!==this.nc},Object.defineProperty(t.prototype,"rc",{get:function(){if(-1===this._rc)return this._rc;var t=P6.getTime(!0)-this.timeDifference;return Math.max(0,this._rc-1e3*t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"nc",{get:function(){if(-1===this._nc)return-1;var t=P6.getTime(!0)-this.timeDifference;return Math.max(0,this._nc-1e3*t)},enumerable:!0,configurable:!0}),t.prototype.FF93=function(t){for(var e=0,i=this.sms;e<i.length;e++){var s=i[e];if(s.id===t)return s}},t.prototype.getStatus=function(t){for(var e=0,i=this.sms;e<i.length;e++){var s=i[e];if(s.id===t)return s.hp<=0?2:this.rc<=0?3:1}return 0},t}(ActivityVo);t.SnowmanAct=e,__reflect(e.prototype,"Snowman.SnowmanAct")}(Snowman||(Snowman={}));var B4=function(){function t(){}return t.A4=10001,t.A3=10002,t.A1=10003,t.A2=10004,t}();__reflect(B4.prototype,"B4");var TA19=function(i){function t(){var t=i.call(this)||this,e=new TA90(t);return e.aLV(O7.F20),e.aLV(O7.C32),e.aLV(O7.I64),App.VM.register(O7.F20,"TimeDiscountShopView",t,K17.UI_Main),t.rgF(B4.A4,t.GB51,t),t.rgF(B4.A3,t.GB12,t),t.timeDiscountShopProxy=new TA91(t),t.rgF(B4.A1,t.GA3,t),t.rgF(B4.A2,t.GA4,t),t}return __extends(t,i),t.prototype.GA3=function(t,e){this.timeDiscountShopProxy.GA3(t,e)},t.prototype.GA4=function(t){if(200==t.head.state){var e=t.body,i=this.gtM();i.ZC13(e),i.notify(),P5.sIs(t.body.ob)}else 215==t.head.state?P7.FA78():App.CM.apF(O6.B87,L10.A4,t)},t.prototype.GB51=function(){App.VM.open(O7.F20);var t=App.CM.gtM(O6.A67);t.firstLoginRedNum=0,t.notify()},t.prototype.GB12=function(){App.VM.close(O7.F20)},t}(TE11);__reflect(TA19.prototype,"TA19");var TA90=function(i){function t(t){var e=i.call(this,t)||this;return e.openState=!1,e.redNum=0,e.firstLoginRedNum=0,e}return __extends(t,i),t.prototype.ZC13=function(t){t&&(null!=this.actData?this.actData.updateData(t):(this.actData=new TimeDiscountShopData(t),this.tips=this.actData.tips),this.updateRed())},t.prototype.updateRed=function(){this.redNum=this.FL35()},t.prototype.FL35=function(){var t=0;return t+=this.firstLoginRedNum},t.prototype.notify=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];i.prototype.notifyView.apply(this,[this].concat(t))},t}(TG79);__reflect(TA90.prototype,"TA90");var TA91=function(i){function t(t){var e=i.call(this,t)||this;return e.rSM(P4.B90,e.GA4,e),e}return __extends(t,i),t.prototype.GA3=function(t,e){var i={type:P4.B89,body:{index:t,num:e}};this.sSM(i)},t.prototype.GA4=function(t){this.apF(B4.A2,t)},t}(TG80);__reflect(TA91.prototype,"TA91");var TB18=function(){};__reflect(TB18.prototype,"TB18");var TimeDiscountShopView=function(s){function t(t,e){var i=s.call(this,t,e)||this;return i.listData=[],i.skinName=DiscountShopSkin,i}return __extends(t,s),t.prototype.initUI=function(){s.prototype.initUI.call(this),this.imgBg.source="v1_bg_banner_xszkczkm_png",this.createList()},t.prototype.createList=function(){var t={render:TimeDiscountItem,width:this.listGroup.width,height:this.listGroup.height,arrowScale:1,tileLayout:!0,verticalGap:10,horizontalGap:8};this.listView=new CommonListBase(t),this.listGroup.addChild(this.listView),this.listView.verticalCenter=0,this.listView.horizontalCenter=0},t.prototype.open=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];s.prototype.open.call(this),this.listView.open();var i=App.CM.gtM(O6.A67);this.ZA26(i)},t.prototype.uBM=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];s.prototype.uBM.call(this,t,e),t instanceof TA90&&this.ZA26(t)},t.prototype.ZA26=function(t){var e=t.actData;if(this.listView.rfL(e.confVo),null==this.timerHandler)if(0<e.ZHH64()){this.leftCD=e.ZHH64();var i=O3.tr(3253,P6.FJ11(1e3*this.leftCD,5));this.leftCdLb.textFlow=M18.HTP.parser(i),this.timerHandler=App.K16.doTimer(1e3,this.leftCD,this.GY14,this)}else this.leftCdLb.text=""},t.prototype.GY14=function(){this.leftCD--;var t=O3.tr(3253,P6.FJ11(1e3*this.leftCD,5));this.leftCdLb.textFlow=M18.HTP.parser(t),this.leftCD<=0&&(this.cTH(),this.leftCdLb.text="")},t.prototype.cTH=function(){null!=this.timerHandler&&(App.K16.rBH(this.timerHandler),this.timerHandler=null)},t.prototype.close=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];s.prototype.close.call(this),this.cTH(),this.listView.close()},t}(BaseEuiView);__reflect(TimeDiscountShopView.prototype,"TimeDiscountShopView");var TimeDiscountItem=function(e){function t(){var t=e.call(this)||this;return t.skinName=DiscountItemSkin,t}return __extends(t,e),t.prototype.childrenCreated=function(){e.prototype.createChildren.call(this),this.initUI()},t.prototype.initUI=function(){this.buyBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.clickBuy,this);App.CM.gtM(O6.A67).actData;this.lockLb.visible=!1,this.itemIcon=new ItemIcon,this.iconGp.addChild(this.itemIcon),this.lblyuanjia.textFlow=M18.HTP.parse(O3.tr(3830)),this.lblxianjia.textFlow=M18.HTP.parse(O3.tr(3832))},t.prototype.hasSkin=function(t,e){return TD5.hasSkin(t,e)},t.prototype.dataChanged=function(){var t=this.data.itemData.data,e=t.name,i=t.quality,s=t.skinid,o=t.id;this.nameLb.text=e,O5.FB13(this.nameLb,e,i),this.discountLb.text=O3.tr(3254,this.data.discount),this.limitBuyLb.text=O3.tr(3255,this.data.hasBuy,this.data.limitBuy),this.oldPriceImg.source=N12.FJ86(this.data.oldPrice.k),this.oldPriceLb.textFlow=M18.HTP.parse(O3.tr(3831,this.data.oldPrice.v)),this.nowPriceImg.source=N12.FJ86(this.data.nowPrice.k),this.nowPriceLb.textFlow=M18.HTP.parse(O3.tr(3833,this.data.nowPrice.v));var r={itemData:this.data.itemData,isBottom:!1};this.itemIcon.data=r,this.data.hasBuy>=this.data.limitBuy?(P16.sGF(this.buyBtn,!0),this.buyBtn.$setEnabled(!1),this.buyBtn.label=O3.tr(3295)):!App.TG81.inRange(66900,66999,parseInt(o),!0)&&this.hasSkin(o,s)?(P16.sGF(this.buyBtn,!0),this.buyBtn.$setEnabled(!1),this.buyBtn.label=O3.tr(3834)):(P16.sGF(this.buyBtn,!1),this.buyBtn.$setEnabled(!0),this.buyBtn.label=O3.tr(3294)),this.resetImg.$setVisible(0==this.data.reset)},t.prototype.clickBuy=function(){var t={};t.controllerConst=O6.A67,t.reqConst=B4.A1,t.id=this.data.index;var e=this.data.commodity.k,i=this.data.commodity.v;t.itemname=N12.FK5(e),t.bg=N12.FL5(e),t.icon=N12.FJ86(e),t.itemid=Number(e),t.itemnum=Number(i);var s=N12.gID(e);t.desc=s.desc;var o=this.data.nowPrice.k,r=this.data.nowPrice.v;t.costIcon=N12.FJ86(o),t.costNum=Number(r),t.costId=Number(o),t.cost="x"+r,t.limitnum=this.data.limitBuy,t.batchnum=this.data.limitBuy,t.buyTime=this.data.hasBuy,this.data.hasBuy<this.data.limitBuy?(t.soldout=0,t.txt=O3.tr(2508,this.data.hasBuy,this.data.limitBuy),App.VM.open(O7.I45,t)):P18.sDP(O3.tr(5649)),TG40.playClickEffect()},t}(eui.ItemRenderer);__reflect(TimeDiscountItem.prototype,"TimeDiscountItem");var TimeDiscountShopConfVo=function(){function t(t){this.hasBuy=0,this.initData(t)}return t.prototype.initData=function(t){if(t){this.index=t.index,this.oldPrice=t.originalPrice,this.nowPrice=t.presentPrice,this.discount=t.discount,this.limitBuy=t.limit,this.reset=t.reset,this.commodity=t.commodity;var e=N12.gID(String(this.commodity.k));this.itemData={data:e,ct:this.commodity.v}}},t}();__reflect(TimeDiscountShopConfVo.prototype,"TimeDiscountShopConfVo");var TimeDiscountShopData=function(i){function t(t){var e=i.call(this,t)||this;return e.updateData(t),e}return __extends(t,i),t.prototype.updateData=function(t){if(t){if(this.hasBuyList=t.rb||this.hasBuyList,t.confs){null!=this.confVo&&0<this.confVo.length&&this.confVo.splice(0,this.confVo.length),this.confVo=[];for(var e=0;e<t.confs.length;e++){var i=new TimeDiscountShopConfVo(t.confs[e]);this.confVo.push(i)}}if(null!=t.rb)for(e=0;e<this.confVo.length;e++)this.confVo[e].hasBuy=0;if(0<this.hasBuyList.length)for(e=0;e<this.hasBuyList.length;e++)for(var s=0;s<this.confVo.length;s++)if(this.confVo[s].index==this.hasBuyList[e].k){this.confVo[s].hasBuy=this.hasBuyList[e].v;break}this.ZU63(t)}},t}(ActivityVo);__reflect(TimeDiscountShopData.prototype,"TimeDiscountShopData");var HH16=function(){function t(){}return t.A3=10001,t.A4=10002,t.A1=10003,t.A2=10004,t.A6=20001,t.A5=20002,t.A8=20003,t.A7=20004,t}();__reflect(HH16.prototype,"HH16");var TB53=function(i){function t(){var t=i.call(this)||this,e=new TE30(t);return e.aLV(O7.HH79),e.aLV(O7.D86),e.aLV(O7.I64),e.aLV(O7.I39),t.proxy=new TE31(t),t.rgF(HH16.A3,t.GM23,t),t.rgF(HH16.A4,t.GM24,t),t.rgF(HH16.A1,t.GV58,t),t.rgF(HH16.A2,t.GV59,t),App.VM.register(O7.C9,"TurnTablePreviewView",t,K17.UI_Main_TOP),t.rgF(HH16.A6,t.GF14,t),t.rgF(HH16.A5,t.GE21,t),App.VM.register(O7.C82,"TurnTableRewardView",t,K17.UI_Main_TOP),t.rgF(HH16.A8,t.GG69,t),t.rgF(HH16.A7,t.GF15,t),t}return __extends(t,i),t.prototype.GM23=function(t){this.proxy.GM23(t)},t.prototype.GM24=function(t){var e=this.gtM();if(200!=t.head.state)return e.canClick=!0,e.isTween=!1,void App.CM.apF(O6.B87,L10.A4,t);e.ZC13(t.body),e.isTween?e.notify(P4.G79):this.GG69()},t.prototype.GV58=function(){this.proxy.GV58()},t.prototype.GV59=function(t){var e=this.gtM();200==t.head.state?(e.ZC13(t.body),P5.sIs(t.ob),e.notify(P4.C16)):App.CM.apF(O6.B87,L10.A4,t)},t.prototype.GF14=function(){App.VM.open(O7.C9)},t.prototype.GE21=function(){App.VM.close(O7.C9)},t.prototype.GG69=function(){App.VM.open(O7.C82)},t.prototype.GF15=function(){App.VM.close(O7.C82)},t}(TE11);__reflect(TB53.prototype,"TB53");var TE30=function(i){function t(t){var e=i.call(this,t)||this;return e.openState=!1,e.redNum=0,e.firstLoginRedNum=0,e.canClick=!0,e}return __extends(t,i),t.prototype.ZC13=function(t){t&&(null!=this.actData?this.actData.updateData(t):(this.actData=new TurnTableData(t),this.tips=this.actData.tips),this.updateRed())},t.prototype.updateRed=function(){this.openState&&(this.redNum=this.FL35())},t.prototype.FL35=function(){var t=0;return t+=this.firstLoginRedNum,t+=this.actData.haveNum,t+=this.actData.canPar},t.prototype.FJ24=function(){var t=P6.getTime(!0)-this.actData.lastLoadTime,e=this.actData.overCd-t;return 0<e?e:0},t.prototype.notify=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];i.prototype.notifyView.apply(this,[this].concat(t))},t}(TG79);__reflect(TE30.prototype,"TE30");var TE31=function(e){function t(t){return e.call(this,t)||this}return __extends(t,e),t.prototype.GM23=function(t){var e={type:P4.G78,body:{type:t}};this.rSMO(P4.G79,this.GM24,this),this.sSM(e)},t.prototype.GM24=function(t){this.apF(HH16.A4,t)},t.prototype.GV58=function(){var t={type:P4.C15,body:{}};this.rSMO(P4.C16,this.GV59,this),this.sSM(t)},t.prototype.GV59=function(t){this.apF(HH16.A2,t)},t}(TG80);__reflect(TE31.prototype,"TE31");var TE32=function(){function t(){}return Object.defineProperty(t,"model",{get:function(){return App.CM.gtM(O6.B33)},enumerable:!0,configurable:!0}),t.FJ21=function(){return this.model.actData.itemList},t.FJ25=function(){return this.model.actData.descList},t.getWinData=function(){return this.model.actData.winList},t.FJ24=function(){return this.model.FJ24()},t}();__reflect(TE32.prototype,"TE32");var TurnTablePreviewItemView=function(e){function t(){var t=e.call(this)||this;return t.skinName=TurnTablePreviewItemSkin,t}return __extends(t,e),t.prototype.childrenCreated=function(){e.prototype.createChildren.call(this)},t.prototype.dataChanged=function(){e.prototype.dataChanged.call(this),this.lbName.textFlow=M18.HTP.parser(O3.tr(6794,this.data.name)),this.lbProbability.textFlow=M18.HTP.parser(O3.tr(6795,this.data.chance))},t}(eui.ItemRenderer);__reflect(TurnTablePreviewItemView.prototype,"TurnTablePreviewItemView");var TurnTablePreviewView=function(s){function t(t,e){var i=s.call(this,t,e)||this;return i.skinName=TurnTablePreviewSkin,i}return __extends(t,s),t.prototype.initUI=function(){s.prototype.initUI.call(this),this.touchEnabled=!1;var t={render:TurnTablePreviewItemView,tileLayout:!0,verticalGap:4,horizontalGap:-10,width:this.listGroup.width,height:this.listGroup.height};this.listView=new CommonListBase(t),this.listGroup.addChild(this.listView),this.listView.verticalCenter=0,this.listView.horizontalCenter=0,this.lbStr1.textFlow=M18.HTP.parser(O3.tr(6792)),this.lbStr2.textFlow=M18.HTP.parser(O3.tr(6793))},t.prototype.open=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];s.prototype.open.call(this),this.bgMask.addEventListener(egret.TouchEvent.TOUCH_TAP,this.closeSelf,this),this.listView.open(),this.updateUI()},t.prototype.updateUI=function(){var t=TE32.FJ25();this.listView.rfL(t)},t.prototype.close=function(){s.prototype.close.call(this),this.listView.close(),this.bgMask.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.closeSelf,this)},t.prototype.closeSelf=function(){this.aCF(O6.B33,HH16.A5)},t}(BaseEuiView);__reflect(TurnTablePreviewView.prototype,"TurnTablePreviewView");var TurnTableRecordItemView=function(e){function t(){var t=e.call(this)||this;return t.skinName=TurnTableRecordItemSkin,t}return __extends(t,e),t.prototype.childrenCreated=function(){e.prototype.createChildren.call(this)},t.prototype.dataChanged=function(){e.prototype.dataChanged.call(this),this.lbName.textFlow=M18.HTP.parser(O3.tr(6477,this.data.name)),this.lbProbability.textFlow=M18.HTP.parser(O3.tr(6478,Math.floor(100*this.data.rate)))},t}(eui.ItemRenderer);__reflect(TurnTableRecordItemView.prototype,"TurnTableRecordItemView");var TurnTableRewardView=function(s){function t(t,e){var i=s.call(this,t,e)||this;return i.closeCD=10,i.skinName=TurnTableRewardSkin,i}return __extends(t,s),t.prototype.initUI=function(){s.prototype.initUI.call(this),this.dgRewards.dataProvider=this.rewardsCollection=new eui.ArrayCollection,this.dgRewards.itemRenderer=ItemIcon,this.btnOk.label=O3.tr(4249),this.lbFree.textFlow=M18.HTP.parser(O3.tr(6789)),this.btnOneMelt.label=O3.tr(6799),this.btnTenMelt.label=O3.tr(6800);var t=App.CM.gtM(O6.B33).actData;this.FM13(this.btnTenMelt,O3.tr(6988)),this.lbTenMelt.visible=!1;var e=N12.gID(t.oneMeltItem);this.imgOneMelt.setData(e),e=N12.gID(t.tenMeltItem),this.imgTenMelt.setData(e)},t.prototype.openHandler=function(){var e=this;this.lbOneMelt.visible=!0;var t=O3.tr(6809,P6.FJ11(1e3*TE32.FJ24(),1));this.lbOneMelt.textFlow=M18.HTP.parser(t),this.timerHandler=App.K16.doTimer(1e3,0,function(){if(0<TE32.FJ24()){var t=O3.tr(6809,P6.FJ11(1e3*TE32.FJ24(),1));e.lbOneMelt.textFlow=M18.HTP.parser(t)}else e.cTH()},this)},t.prototype.cTH=function(){this.lbOneMelt.visible=!0,this.FM13(this.btnOneMelt),this.lbOneMelt.textFlow=M18.HTP.parser(O3.tr(6468,TD66.copperOnce)),this.timerHandler&&(App.K16.rBH(this.timerHandler),this.timerHandler=null)},t.prototype.FM13=function(t,e){t.size=e?(t.label2=e,t.labelY="12","22"):(t.label2="",t.labelY="0","24")},t.prototype.open=function(){this.bgMask.addEventListener(egret.TouchEvent.TOUCH_TAP,this.closeSelf,this),this.btnOk.addEventListener(egret.TouchEvent.TOUCH_TAP,this.closeSelf,this),this.btnOneMelt.addEventListener(egret.TouchEvent.TOUCH_TAP,this.ZQ42,this),this.btnTenMelt.addEventListener(egret.TouchEvent.TOUCH_TAP,this.ZQ43,this),this.updateViews();var t=App.CM.gtM(O6.B33);t.canClick=!0;var e=t.actData;e.overCd&&this.openHandler(),P5.sIs(e.ob)},t.prototype.close=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];s.prototype.close.call(this),this.bRegSkipTimer=!1,this.bgMask.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.closeSelf,this),this.btnOk.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.closeSelf,this),this.btnOneMelt.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.ZQ42,this),this.btnTenMelt.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.ZQ43,this),App.K16.remove(this.ZU23,this),this.rewardsCollection.removeAll(),this.cTH()},t.prototype.ZQ42=function(){var t=App.CM.gtM(O6.B33);if(t.canClick){var e=t.actData,i=N12.giC(e.oneMeltItem);!e.haveNum&&i<e.oneMeltNum?P7.FA78():(t.canClick=!1,App.CM.apF(O6.B33,HH15.A16,1),this.closeSelf())}},t.prototype.ZQ43=function(){var t=App.CM.gtM(O6.B33);if(t.canClick){var e=t.actData;N12.giC(e.tenMeltItem)<e.tenMeltNum?P7.FA78():(t.canClick=!1,App.CM.apF(O6.B33,HH15.A16,2),this.closeSelf())}},t.prototype.updateViews=function(){this.ZJ83(),this.ZU24()},t.prototype.ZJ83=function(){var t=App.CM.gtM(O6.B33).actData;N12.FK5(t.oneMeltGetItem);this.FM13(this.btnOneMelt,O3.tr(3853)),this.lbOneMelt.visible=!1,t.haveNum?(this.lbFree.textFlow=M18.HTP.parser(O3.tr(6789,t.haveNum)),this.imgOneMelt.visible=this.lbOneMeltNum.visible=!1,this.lbFree.visible=!0,this.btnOneMelt.imgNew.visible=!0):(this.imgOneMelt.visible=this.lbOneMeltNum.visible=!0,this.lbFree.visible=!1,this.btnOneMelt.imgNew.visible=!1,this.lbOneMeltNum.textFlow=M18.HTP.parser(O3.tr(6790,t.oneMeltNum))),this.lbTenMeltNum.textFlow=M18.HTP.parser(O3.tr(6790,t.tenMeltNum)),this.closeCD=10,this.ZU23(),this.bRegSkipTimer||(this.bRegSkipTimer=!0,App.K16.doTimer(1e3,this.closeCD,this.ZU23,this))},t.prototype.ZU23=function(){this.closeCD--,this.closeCD<=0?this.closeSelf():this.lbTime.textFlow=M18.HTP.parser(O3.tr(6435,this.closeCD))},t.prototype.ZU24=function(){var t=[],e=App.CM.gtM(O6.B33).actData.ob,i=!0;for(var s in P7.FM14()&&(i=!1),e){var o=e[s],r=N12.gID(o.k);if(r){var n={itemData:{data:r,ct:o.v},isBottom:i};t.push(n)}}this.rewardsCollection.replaceAll(t)},t.prototype.closeSelf=function(){this.aCF(O6.B33,HH16.A7)},t}(BaseEuiView);__reflect(TurnTableRewardView.prototype,"TurnTableRewardView");var TurnTableView=function(d){function t(t,e){var i=d.call(this,t,e)||this;return i.skinName=TurnTableSkin,i}return __extends(t,d),t.prototype.initUI=function(){d.prototype.initUI.call(this),this.touchEnabled=!1,this.lbStr1.textFlow=M18.HTP.parser(O3.tr(6786)),this.lbStr2.textFlow=M18.HTP.parser(O3.tr(6787)),this.initLuckyPro(),this.btnOneMelt.label=O3.tr(6799),this.btnTenMelt.label=O3.tr(6800);var t={render:TurnTableWinItemView,gap:6,width:this.listGroup.width,height:this.listGroup.height,arrowScale:1};this.listView=new CommonListBase(t),this.listGroup.addChild(this.listView),this.listView.verticalCenter=0,this.listView.horizontalCenter=0;var e=this.listView.itemList.layout;e instanceof eui.VerticalLayout&&(e.paddingTop=2);for(var i=TE32.FJ21(),s=0;s<i.length;s++){var o=this.grpItem.getChildAt(s),r=new ItemIcon,n=new eui.Image;n.name="img",n.visible=!1,n.source="v1_img_texi_png",n.width=92,n.height=90,n.horizontalCenter=3,n.verticalCenter=0;var a=new eui.Image;a.source="v1_fonts_jip_png",a.horizontalCenter=0,a.top=5,a.touchEnabled=!1;var h={itemData:{data:i[s].itemData,ct:i[s].v},isBottom:!1};r.data=h,o.addChild(r),o.addChild(n),i[s].isGourmet?(o.addChild(a),o.scaleX=o.scaleY=1.2):o.scaleX=o.scaleY=1}var p=App.CM.gtM(O6.B33),l=N12.FK5(p.actData.parItem.k);this.lbldes.textFlow=M18.HTP.parser(O3.tr(6994,p.actData.parNum,l,p.actData.parItem.v));var c=p.actData;N12.FK5(c.tenMeltGetItem);this.FM13(this.btnTenMelt,O3.tr(6988)),this.lbTenMelt.visible=!1;var u=N12.gID(c.oneMeltItem);this.imgOneMelt.setData(u),u=N12.gID(c.tenMeltItem),this.imgTenMelt.setData(u)},t.prototype.open=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];d.prototype.open.call(this),this.listView.open(),this.btnOneMelt.addEventListener(egret.TouchEvent.TOUCH_TAP,this.ZQ42,this),this.btnTenMelt.addEventListener(egret.TouchEvent.TOUCH_TAP,this.ZQ43,this),this.grpPreview.addEventListener(egret.TouchEvent.TOUCH_TAP,this.ZQ41,this);var i=App.CM.gtM(O6.B33);i.canClick=!0,this.ZC21(),this.leftCD=i.actData.ZHH64(),this.GY14(),this.atimerHandler=App.K16.doTimer(1e3,this.leftCD,this.GY14,this),!i.actData.haveNum&&0<TE32.FJ24()&&this.openHandler()},t.prototype.initLuckyPro=function(){var t=App.CM.gtM(O6.B33),e=new eui.Image;e.source=N12.FJ86(t.actData.parItem.k),e.width=80,e.height=80,TG36.FK33(e,.5),TG36.FK34(e,.5),e.name=t.actData.parItem.k+"",e.scaleX=.8,e.scaleY=.8,e.right=-10,e.verticalCenter=0;var i=new eui.Image;i.source="v1_img_hongdiantishi_png",TG36.FK33(i,.5),TG36.FK34(i,.5),i.right=0,i.top=0,i.scaleX=.8,i.scaleY=.8,i.name="red",i.touchEnabled=!1,i.visible=!1,e.addEventListener(egret.TouchEvent.TOUCH_TAP,this.openProsView,this,!0),this.grplucky.addChild(e),this.grplucky.addChild(i)},t.prototype.openProsView=function(t){if(this.grplucky.getChildByName("red").visible)App.CM.apF(O6.B33,HH16.A1);else{var e=t.currentTarget.name,i=N12.gID(e);P5.FC75(i)}},t.prototype.dealTweenEnd=function(){App.CM.apF(O6.B33,HH16.A8);var t=App.CM.gtM(O6.B33);t.canClick=!0,t.isTween=!1,this.ZC21(),this.clearHandler(),this.hideChoose()},t.prototype.showChoose=function(t){for(var e=0;e<this.grpItem.numChildren;e++){this.grpItem.getChildAt(e).getChildByName("img").visible=e==t}},t.prototype.hideChoose=function(){for(var t=0;t<this.grpItem.numChildren;t++){this.grpItem.getChildAt(t).getChildByName("img").visible=!1}},t.prototype.startTween=function(){var e=this,i=0;this.handler=App.K16.doTimer(50,32,function(){var t=i%e.grpItem.numChildren;i++,e.showChoose(t)},item,function(){e.dealTweenEnd()})},t.prototype.openHandler=function(){var e=this;this.btnOneMelt.imgNew.visible=!1,this.lbOneMelt.visible=!0;var t=O3.tr(6809,P6.FJ11(1e3*TE32.FJ24(),1));this.lbOneMelt.textFlow=M18.HTP.parser(t),this.timerHandler||(this.timerHandler=App.K16.doTimer(1e3,0,function(){if(0<TE32.FJ24()){var t=O3.tr(6809,P6.FJ11(1e3*TE32.FJ24(),1));e.lbOneMelt.textFlow=M18.HTP.parser(t)}else e.cTH()},this))},t.prototype.cTH=function(){this.lbOneMelt.visible=!1,this.FM13(this.btnOneMelt),this.lbOneMelt.textFlow=M18.HTP.parser(O3.tr(6468,TD66.copperOnce)),this.timerHandler&&(App.K16.rBH(this.timerHandler),this.timerHandler=null)},t.prototype.FM13=function(t,e){t.size=e?(t.label2=e,t.labelY="12","22"):(t.label2="",t.labelY="0","24")},t.prototype.clearHandler=function(){this.handler&&(App.K16.rBH(this.handler),this.handler=null)},t.prototype.ZQ42=function(){var t=App.CM.gtM(O6.B33);if(t.canClick){var e=t.actData,i=N12.giC(e.oneMeltItem);!e.haveNum&&i<e.oneMeltNum?P7.FA78():(t.canClick=!1,t.isTween=!0,App.CM.apF(O6.B33,HH15.A16,1))}},t.prototype.ZQ43=function(){var t=App.CM.gtM(O6.B33);if(t.canClick){var e=t.actData;N12.giC(e.tenMeltItem)<e.tenMeltNum?P7.FA78():(t.canClick=!1,t.isTween=!0,App.CM.apF(O6.B33,HH15.A16,2))}},t.prototype.ZQ41=function(){App.CM.apF(O6.B33,HH16.A6)},t.prototype.uBM=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];d.prototype.uBM.call(this,t,e);var s=e[0];if(t instanceof THH9)switch(s){case P4.V43:this.ZC21()}if(t instanceof TE30){switch(s){case P4.G79:this.startTween();break;default:this.ZC21()}!t.actData.haveNum&&0<TE32.FJ24()&&this.openHandler()}},t.prototype.ZC21=function(){var t=App.CM.gtM(O6.B33);if(!t.isTween){var e=t.actData;N12.FK5(e.oneMeltGetItem);this.FM13(this.btnOneMelt,O3.tr(3853)),this.lblxingyunzhi.textFlow=M18.HTP.parser(O3.tr(6995,e.nowPar)),this.grplucky.getChildByName("red").visible=!!e.canPar,e.canPar?this.imgPro.width=this.imgDi.width:this.imgPro.width=this.imgDi.width*(e.nowPar/e.parNum),0<e.haveNum?(this.lbFree.textFlow=M18.HTP.parser(O3.tr(6789,e.haveNum)),this.imgOneMelt.visible=this.lbOneMeltNum.visible=!1,this.lbFree.visible=!0,this.btnOneMelt.imgNew.visible=!0,this.lbOneMelt.visible=!0):(this.lbOneMelt.visible=!1,this.imgOneMelt.visible=this.lbOneMeltNum.visible=!0,this.lbFree.visible=!1,this.btnOneMelt.imgNew.visible=!1,this.lbOneMeltNum.textFlow=M18.HTP.parser(O3.tr(6790,e.oneMeltNum))),this.lbTenMeltNum.textFlow=M18.HTP.parser(O3.tr(6790,e.tenMeltNum));M18.FF66(e.oneMeltGetNum);var i=TE32.getWinData();this.listView.rfL(i)}},t.prototype.GY14=function(){this.leftCD--;var t=P6.FJ11(1e3*this.leftCD,5);this.lbOverTime.textFlow=M18.HTP.parser(O3.tr(3253,t)),this.leftCD<=0&&(this.ZG16(),this.lbOverTime.text="")},t.prototype.ZG16=function(){null!=this.atimerHandler&&(App.K16.rBH(this.atimerHandler),this.atimerHandler=null)},t.prototype.close=function(){d.prototype.close.call(this),this.listView.close(),this.btnOneMelt.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.ZQ42,this),this.btnTenMelt.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.ZQ43,this),this.grpPreview.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.ZQ41,this),this.cTH(),this.ZG16(),this.clearHandler(),App.CM.gtM(O6.B33).isTween=!1;for(var t=0;t<this.grpItem.numChildren;t++){this.grpItem.getChildAt(t).removeChildren()}},t}(BaseEuiView);__reflect(TurnTableView.prototype,"TurnTableView");var TurnTableWinItemView=function(e){function t(){var t=e.call(this)||this;return t.skinName=TurnTableRecordItemSkin,t}return __extends(t,e),t.prototype.childrenCreated=function(){e.prototype.createChildren.call(this)},t.prototype.dataChanged=function(){e.prototype.dataChanged.call(this);var t=O3.tr(6788,this.data.name,this.data.itemColor,this.data.itemName+"*"+this.data.num);this.lbRecord.textFlow=M18.HTP.parser(t)},t}(eui.ItemRenderer);__reflect(TurnTableWinItemView.prototype,"TurnTableWinItemView");var TurnTableData=function(l){function t(t){var e=l.call(this,t)||this;e.overCd=0,e.lastLoadTime=0,e.updateData(t);for(var i=M18.FL28(e.cost,"|"),s=0;s<i.length;s++)switch(s){case 0:var o=M18.FL28(i[s],",",":");e.oneMeltItem=parseInt(o[0][0]),e.oneMeltNum=parseInt(o[0][1]),e.oneMeltGetItem=parseInt(o[1][0]),e.oneMeltGetNum=parseInt(o[1][1]);break;case 1:o=M18.FL28(i[s],",",":");e.tenMeltItem=parseInt(o[0][0]),e.tenMeltNum=parseInt(o[0][1]),e.tenMeltGetItem=parseInt(o[1][0]),e.tenMeltGetNum=parseInt(o[1][1]);break;case 2:e.conFreeNum=parseInt(i[s]),null==e.haveNum&&(e.haveNum=e.conFreeNum-e.overNum)}var r=M18.FL28(e.more,"|",",");for(var n in e.itemList=[],r){var a=new TurnTableItemVo(r[n]);e.itemList.push(a)}var h=M18.FL28(e.desc,";");for(var n in e.descList=[],h){var p=new TurnTableDescVo(h[n]);e.descList.push(p)}return e}return __extends(t,l),t.prototype.updateData=function(t){if(t&&this.ZU63(t),null!=t.ex&&(this.nowParNum=t.ex),null!=t.c&&(this.totalNum=t.c),null!=t.c||null!=t.ex){if(!this.parNum){var e=this.param.split("|");this.parNum=parseInt(e[0]);var i=e[1].split(":");this.parItem={k:parseInt(i[0]),v:parseInt(i[1])}}var s=this.totalNum-this.nowParNum*this.parNum;this.nowPar=s,this.canPar=s>=this.parNum?1:0}if(null!=t.cd&&(this.lastLoadTime=P6.getTime(!0),this.overCd=t.cd),t.ob&&(this.ob=t.ob),t.ar){for(var o in this.winList||(this.winList=[]),t.ar){var r=new TurnTableWinVo(t.ar[o]);this.winList.push(r)}0<(s=this.winList.length-10)&&(this.winList=this.winList.slice(s,this.winList.length))}null!=t.f&&(this.overNum=t.f,void 0!==this.conFreeNum&&(this.haveNum=this.conFreeNum-this.overNum))},t}(ActivityVo);__reflect(TurnTableData.prototype,"TurnTableData");var TurnTableDescVo=function(t){var e=M18.FL28(t,":");this.name=e[0],this.chance=e[1]};__reflect(TurnTableDescVo.prototype,"TurnTableDescVo");var TurnTableItemVo=function(t){this.id=parseInt(t[0]),this.isGourmet=1==t[2];var e=t[1].split(":");this.k=parseInt(e[0]),this.v=parseInt(e[1]),this.itemData=N12.gID(this.k)};__reflect(TurnTableItemVo.prototype,"TurnTableItemVo");var TurnTableWinVo=function(t){if(this.name=void 0!==t.aName?t.aName:this.name,t.item){var e=N12.gID(t.item.k);this.itemName=e.name,this.itemColor=O5.FB43(e.quality,1),this.num=t.item.v}};__reflect(TurnTableWinVo.prototype,"TurnTableWinVo");var E14=function(){function t(){}return t.A1=0,t.A2=1,t}();__reflect(E14.prototype,"E14");var TD13=function(i){function t(t){var e=i.call(this,t)||this;return e.rSM(P4.A76,e.GG71,e),e}return __extends(t,i),t.prototype.GG70=function(t){var e={type:P4.A75,body:{index:t}};this.sSM(e)},t.prototype.GG71=function(t){this.apF(E14.A2,t)},t}(TG80);__reflect(TD13.prototype,"TD13");var TB19=function(i){function t(t){var e=i.call(this,t)||this;return e.openState=!1,e.redNum=0,e.firstLoginRedNum=0,e}return __extends(t,i),t.prototype.ZC13=function(t){t&&(null!=this.tData?this.tData.updateData(t):this.tData=new WomanAdvanceActData(t),this.updateRed())},t.prototype.updateRed=function(){this.redNum=this.FL35()},t.prototype.ZQ26=function(){for(var t in this.tData.confs){if(0<this.tData.yaw.length)for(var e in this.tData.yaw)this.tData.confs[t].id==this.tData.yaw[e]&&(this.tData.confs[t].getState=J13.A2);THH23.FC69()>=this.tData.confs[t].lv&&this.tData.confs[t].getState!=J13.A2&&(this.tData.confs[t].getState=J13.A3)}this.tData.confs.sort(function(t,e){return t.getState==e.getState?t.id-e.id:t.getState-e.getState})},t.prototype.FL35=function(){var t=0;t+=this.firstLoginRedNum,this.ZQ26();var e=this.tData.confs;for(var i in e)if(e[i].getState==J13.A3){t+=1;break}return t},t.prototype.notify=function(t){i.prototype.notifyView.call(this,this,t)},t}(TG79);__reflect(TB19.prototype,"TB19");var TC2=function(i){function t(){var t=i.call(this)||this,e=new TB19(t);return e.aLV(O7.C61),e.aLV(O7.C32),e.aLV(O7.I64),t.womanAdvProxy=new TD13(t),t.rgF(E14.A1,t.GG70,t),t.rgF(E14.A2,t.GG71,t),t}return __extends(t,i),t.prototype.GG70=function(t){this.womanAdvProxy.GG70(t)},t.prototype.GG71=function(t){if(200==t.head.state){var e=t.body,i=this.gtM();i.ZC13(e),i.notify(),t.body.ob&&P5.sIs(t.body.ob)}else App.CM.apF(O6.B87,L10.A4,t)},t}(TE11);__reflect(TC2.prototype,"TC2");var WomanAdvanceActView=function(s){function t(t,e){var i=s.call(this,t,e)||this;return i.skinName=ChapterBreakSkin,i}return __extends(t,s),t.prototype.initUI=function(){s.prototype.initUI.call(this),this.banner.source="v1_bg_qumindaofl7_jpg";var t={render:CarnivalItemView,gap:5,width:this.listGroup.width,height:this.listGroup.height,arrowScale:1};this.listView=new CommonListBase(t),this.listGroup.addChild(this.listView),this.listView.verticalCenter=0,this.listView.horizontalCenter=0,this.goBtn.label=O3.tr(3774)},t.prototype.open=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];s.prototype.open.call(this),this.goBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickGoBtn,this),this.listView.open();var i=App.CM.gtM(O6.C3);this.uBM(i)},t.prototype.uBM=function(t,e){(s.prototype.uBM.call(this,t,e),t instanceof TG77)&&TB54.gtM().tData.ZQ26(t);this.GX5()},t.prototype.GX5=function(){var t=TB54.gtM(),e=THH23.FC69(),i=O3.tr(3283,e);this.missionLb.textFlow=(new egret.HtmlTextParser).parser(i),this.leftCD=t.tData.ZHH64();var s=P6.FJ11(1e3*this.leftCD,5);this.cdLb.textFlow=(new egret.HtmlTextParser).parser(O3.tr(3253,s)),this._timerHandler=App.K16.doTimer(1e3,this.leftCD,this.GY14,this);var o=TB54.FHH85();this.listView.rfL(o)},t.prototype.GY14=function(){this.leftCD--;var t=P6.FJ11(1e3*this.leftCD,5);this.cdLb.textFlow=(new egret.HtmlTextParser).parser(O3.tr(3253,t)),this.leftCD<=0&&(this.cTH(),this.cdLb.text="")},t.prototype.cTH=function(){null!=this._timerHandler&&(App.K16.rBH(this._timerHandler),this._timerHandler=null)},t.prototype.close=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];s.prototype.close.call(this),this.cTH(),this.goBtn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickGoBtn,this),this.listView.close()},t.prototype.onClickGoBtn=function(){TG84.goToDlg({sLink:501})},t}(BaseEuiView);__reflect(WomanAdvanceActView.prototype,"WomanAdvanceActView");var WomanAdvanceActData=function(i){function t(t){var e=i.call(this,t)||this;return e.confs=[],e.yaw=[],e.updateData(t),e}return __extends(t,i),t.prototype.updateData=function(t){if(t){if(this.yaw=t.yaw||this.yaw,t.confs){this.confs=[];var e=t.confs;for(var i in e){var s=new WomanAdvanceConfVo(e[i]);this.confs.push(s)}}for(var i in this.confs){if(0<this.yaw.length)for(var o in this.yaw)if(this.confs[i].id==this.yaw[o]){this.confs[i].getState=J13.A2;break}THH23.FC69()>=this.confs[i].lv&&this.confs[i].getState!=J13.A2&&(this.confs[i].getState=J13.A3)}this.confs.sort(function(t,e){return t.getState==e.getState?t.id-e.id:t.getState-e.getState})}this.ZU63(t)},t.prototype.ZQ26=function(t){for(var e in this.confs){if(0<this.yaw.length)for(var i in this.yaw)this.confs[e].id==this.yaw[i]&&(this.confs[e].getState=J13.A2);THH23.FC69()>=this.confs[e].lv&&this.confs[e].getState!=J13.A2&&(this.confs[e].getState=J13.A3)}this.confs.sort(function(t,e){return t.getState==e.getState?t.id-e.id:t.getState-e.getState})},t}(ActivityVo);__reflect(WomanAdvanceActData.prototype,"WomanAdvanceActData");var TB54=function(){function t(){}return t.FHH85=function(){var t=new Array,e=this.gtM().tData.confs;for(var i in e){var s=e[i],o={};o.cid=s.id,o.title=O3.tr(3282,s.lv),o.getState=s.getState,o.rewards=s.award,o.btnType=1,o.sLink=501,o.typeConst=O6.A78,o.reqConst=E14.A1,t.push(o)}return t},t.gtM=function(){return App.CM.gtM(O6.A78)},t}();__reflect(TB54.prototype,"TB54");var WomanAdvanceConfVo=function(t){this.award=[],this.getState=J13.A1,t&&(this.id=t.index,this.lv=t.lv,this.award=t.awards)};__reflect(WomanAdvanceConfVo.prototype,"WomanAdvanceConfVo");var CarnivalActBaseView=function(a){function t(t,e){var i=a.call(this,t,e)||this;i.actData=[],i.data=[],i.itemNum=6,i.skinName="CarnivalActBaseSkin";for(var s=TE12.FC8(F17.A3),o=0;o<s.length;o++){var r=s[o].id,n=TF59.FB46(r);null!=n&&App.VM.rgS(O7.C32,n.id,n.view,i.content)}return i}return __extends(t,a),t.prototype.initUI=function(){a.prototype.initUI.call(this),this.topScroller.viewport=this.topList,this.topScroller.scrollPolicyV=eui.ScrollPolicy.OFF,this.topCollection=new eui.ArrayCollection,this.topList.dataProvider=this.topCollection,this.topList.itemRenderer=CarnivalActIconView},t.prototype.initData=function(){a.prototype.initData.call(this)},t.prototype.open=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.title.text=THH26.FHH51(EntryIds.CarnivalActivity),this.lbDes.text="",a.prototype.open.call(this,t),this.curView=t[0]||this.actData[0]&&this.actData[0].view,this.ZU39(),App.VM.open(this.curView),this.curView==this.actData[0].view&&(this.topList.scrollH=0),t[1]&&App.K16.doFrame(1,1,this.delayCall,this),this.bgMask.addEventListener(egret.TouchEvent.TOUCH_TAP,this.closeSelf,this),this.closeBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.closeSelf,this),this.backBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.closeSelf,this),this.leftGroup.addEventListener(egret.TouchEvent.TOUCH_TAP,this.ZQ40,this),this.rightGroup.addEventListener(egret.TouchEvent.TOUCH_TAP,this.ZM90,this),this.topScroller.addEventListener(eui.UIEvent.CHANGE_END,this.endScroller,this),TF59.FJ22(this.curView,this.diImg,this.contentImg)},t.prototype.delayCall=function(){if(this.actData.length<=this.itemNum)this.topList.scrollH=0;else{var t=this.topList.contentWidth/this.actData.length,e=this.ZE69(this.curView);e>=this.actData.length-this.itemNum&&(e=this.actData.length-this.itemNum),this.topList.scrollH=e*t}},t.prototype.ZM94=function(e){for(var t=function(t){t==e?(i.data[t].texiao=1,i.data[t].model.firstLoginRedNum=0,App.K16.doTimer(100,1,function(){this.data[t].model.notify()},i)):i.data[t].texiao=0},i=this,s=0;s<this.actData.length;s++)t(s);this.topCollection.replaceAll(this.data)},t.prototype.uBM=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];a.prototype.uBM.call(this,t,e),this.title.text=THH26.FHH51(EntryIds.CarnivalActivity);var s=e&&e[0]&&0<e[0].length?e[0]:"";s==P4.R37||s==P4.U30||s==P4.P76?(this.ZU39(),App.VM.open(this.curView),App.K16.doFrame(1,1,this.delayCall,this)):this.ZQ44(t),this.endScroller()},t.prototype.ZU39=function(){var t=TF59.FA2(F17.A3);if(this.actData=t,0<this.data.length&&(this.data.splice(0,this.data.length),this.data=[]),0<this.actData.length){for(var e=0;e<this.actData.length;e++){var i={icon:this.actData[e].icon,type:this.actData[e].type,name:this.actData[e].name,red:this.actData[e].red,texiao:0,model:this.actData[e].model,subView:this.actData[e].view,mainView:O7.C32};this.data.push(i)}this.ZE69(this.curView)<0&&(this.curView=this.actData[0].view),this.ZM94(this.ZE69(this.curView))}else this.closeSelf()},t.prototype.ZQ44=function(t){var e;if(t.actid){var i=TF59.FB46(t.actid);-1!=i&&0<=(e=this.ZE69(i.id))&&(this.data[e].red=t.FL35())}this.topCollection.replaceAll(this.data)},t.prototype.endScroller=function(){if(this.topScroller.validateNow(),this.leftGroup.visible=!(this.topScroller.viewport.scrollH<=0),this.topScroller.viewport.contentWidth<=this.topScroller.width)this.rightGroup.visible=!1;else{this.topScroller.width+this.topScroller.viewport.scrollH>=this.topScroller.viewport.contentWidth?this.rightGroup.visible=!1:this.rightGroup.visible=!0,this.redLeft.visible=!1,this.redRight.visible=!1;for(var t=this.topScroller.viewport.scrollH,e=0;93<=t;)t-=93,e++;var i=e+this.itemNum-1,s=this.topCollection.getItemAt(this.topCollection.length-1);if(i>s.index&&(i=s.index),this.leftGroup.visible)for(var o=0;o<this.topCollection.length;o++){var r=this.topCollection.getItemAt(o);if(!(e<=o)&&0<r.red){this.redLeft.visible=!0;break}}if(this.rightGroup.visible)for(o=0;o<this.topCollection.length;o++){var n=this.topCollection.getItemAt(o);if(!(o<=i)&&0<n.red){this.redRight.visible=!0;break}}}},t.prototype.ZQ40=function(){var t=this.topScroller.viewport.scrollH-559;this.topScroller.viewport.scrollH=t<0?0:t,this.endScroller(),TG40.playClickEffect()},t.prototype.ZM90=function(){var t=this.topScroller.viewport.scrollH+559;t+this.topScroller.width>=this.topScroller.viewport.contentWidth?this.topScroller.viewport.scrollH=this.topScroller.viewport.contentWidth-this.topScroller.width:this.topScroller.viewport.scrollH=t,this.endScroller(),TG40.playClickEffect()},t.prototype.close=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];a.prototype.close.call(this,t),this.bgMask.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.closeSelf,this),this.closeBtn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.closeSelf,this),this.backBtn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.closeSelf,this),this.leftGroup.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.ZQ40,this),this.rightGroup.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.ZM90,this),this.topScroller.removeEventListener(eui.UIEvent.CHANGE_END,this.endScroller,this),this.curView=null,this.topCollection.removeAll()},t.prototype.closeSelf=function(){App.VM.GY64(this)},t.prototype.ZE69=function(t){var e=-1;if(null!=this.actData)for(var i=0;i<this.actData.length;i++)if(this.actData[i].view==t){e=i;break}return e},t.prototype.ZG19=function(t){var e=-1;if(null!=this.actData)for(var i=0;i<this.actData.length;i++)this.actData[i].view==t&&(e=i);return e},t}(BaseEuiView);__reflect(CarnivalActBaseView.prototype,"CarnivalActBaseView");var CarnivalActIconView=function(e){function t(){var t=e.call(this)||this;return t.skinName="IconWelfareSkin",t.texiao.$setVisible(!1),t.addEventListener(egret.Event.ADDED_TO_STAGE,t.open,t),t.addEventListener(egret.Event.REMOVED_FROM_STAGE,t.close,t),t}return __extends(t,e),t.prototype.open=function(){this.addEventListener(egret.TouchEvent.TOUCH_TAP,this.oCI,this)},t.prototype.close=function(){this.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.oCI,this)},t.prototype.childrenCreated=function(){e.prototype.createChildren.call(this)},t.prototype.dataChanged=function(){this.icon.source=this.data.icon,P7.FD57(this.data.name,this.lbName),this.red.$setVisible(0<this.data.red),this.texiao.$setVisible(this.data.texiao)},t.prototype.oCI=function(){TG40.playClickEffect(),null!=this.data.mainView&&null!=this.data.subView&&0<this.data.subView&&!this.data.texiao&&(App.VM.open(this.data.mainView,this.data.subView),this.data.model.firstLoginRedNum=0,this.data.model.notify())},t}(eui.ItemRenderer);__reflect(CarnivalActIconView.prototype,"CarnivalActIconView");var CarnivalItemView=function(e){function t(){var t=e.call(this)||this;return t.skinName=ChapterBreakItemSkin,t.addEventListener(egret.Event.ADDED_TO_STAGE,t.open,t),t.addEventListener(egret.Event.REMOVED_FROM_STAGE,t.close,t),t}return __extends(t,e),t.prototype.open=function(){this.getBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.ZU29,this)},t.prototype.close=function(){this.getBtn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.ZU29,this),this.dataSource.removeAll()},t.prototype.childrenCreated=function(){e.prototype.createChildren.call(this),this.initUI()},t.prototype.initUI=function(){this.listContent.itemRenderer=ItemIcon,this.dataSource=new eui.ArrayCollection,this.listContent.dataProvider=this.dataSource,this.awardsSc.viewport=this.listContent,this.awardsSc.scrollPolicyH=eui.ScrollPolicy.OFF,this.awardsSc.scrollPolicyV=eui.ScrollPolicy.OFF,this.getImg.$setVisible(!1)},t.prototype.dataChanged=function(){e.prototype.dataChanged.call(this),this.titleLb.textFlow=M18.HTP.parse(this.data.title),this.titleBgImg.width=this.titleLb.width+55,this.getBtn.imgNew.visible=!1,this.data.getState==J13.A1?(1==this.data.btnType?(this.getBtn.bgStr="v1_btn_green_1_png",this.getBtn.label=O3.tr(3235)):(this.getBtn.enabled=!1,P16.sGF(this.getBtn,!0),this.getBtn.label=O3.tr(3232)),this.getBtn.$setVisible(!0),this.getImg.$setVisible(!1)):this.data.getState==J13.A3?(this.getBtn.colour=_ccBtn.brown,this.getBtn.bgStr="v1_btn_yellow_1_png",this.getBtn.label=O3.tr(3232),this.getBtn.$setVisible(!0),this.getImg.$setVisible(!1),this.getBtn.imgNew.visible=!0):(this.getBtn.$setVisible(!1),this.getImg.$setVisible(!0)),this.ZJ81(this.data.rewards)},t.prototype.ZJ81=function(t){var e=[];for(var i in t){var s={itemData:{data:N12.gID(t[i].k),ct:t[i].v},isBottom:!1};e.push(s)}this.dataSource.replaceAll(e)},t.prototype.ZU29=function(){this.data.getState==J13.A1&&1==this.data.btnType?null!=this.data.sLink&&TG84.goToDlg(this.data):this.data.getState==J13.A3&&App.CM.apF(this.data.typeConst,this.data.reqConst,this.data.cid)},t}(eui.ItemRenderer);__reflect(CarnivalItemView.prototype,"CarnivalItemView");var K13=function(){function t(){}return t.A2=10001,t.A1=10002,t.A3=10003,t}();__reflect(K13.prototype,"K13");var TC52=function(e){function t(){var t=e.call(this)||this;return App.VM.register(O7.C33,"DayGiftBaseView",t,K17.UI_Main),t.rgF(K13.A2,t.GG72,t),t.rgF(K13.A1,t.GF16,t),t.rgF(K13.A3,t.GM25,t),t}return __extends(t,e),t.prototype.GG72=function(t){App.VM.open(O7.C33,t)},t.prototype.GF16=function(){App.VM.close(O7.C33)},t.prototype.GM25=function(){var t=App.CM.gtM(O6.B82),e=t.avatarInfo,i=TF59.FA3(F17.A5).length,s=TG69.FI64(EntryIds.DayGift+"").unlocklv;0==e.btj&&!t.hasOutTj&&0<i&&e.l>=Number(s)&&(t.hasOutTj=!0,App.VM.open(O7.C33))},t}(TE11);__reflect(TC52.prototype,"TC52");var K6=function(){function t(){}return t.A1=0,t.A2=1,t}();__reflect(K6.prototype,"K6");var TC53=function(i){function t(){var t=i.call(this)||this;t.bigGiftProxy=new TF62(t);var e=new TF61(t);return e.aLV(O7.D39),e.aLV(O7.C32),e.aLV(O7.D86),e.aLV(O7.C33),e.aLV(O7.I64),e.aLV(O7.I49),App.VM.register(O7.I49,"BigGiftView",t,K17.UI_Main),t.rgF(K6.A1,t.GT95,t),t.rgF(K6.A2,t.GT91,t),t}return __extends(t,i),t.prototype.GT95=function(){this.bigGiftProxy.GT95()},t.prototype.GT91=function(t){if(200==t.head.state){var e=t.body,i=this.gtM();i.ZC13(e),i.notify(),P5.sIs(t.body.ob)}else App.CM.apF(O6.B87,L10.A4,t)},t}(TE11);__reflect(TC53.prototype,"TC53");var TF61=function(i){function t(t){var e=i.call(this,t)||this;return e.openState=!1,e.redNum=0,e.firstLoginRedNum=0,e}return __extends(t,i),t.prototype.ZC13=function(t){t&&(null!=this.bigGiftData?this.bigGiftData.updateData(t):(this.bigGiftData=new BigGiftData(t),this.tips=this.bigGiftData.tips),this.updateRed())},t.prototype.updateRed=function(){this.redNum=this.FL35()},t.prototype.FL35=function(){var t=0;return t+=this.firstLoginRedNum,1==this.bigGiftData.sta&&(t+=1),t},t.prototype.notify=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];i.prototype.notifyView.apply(this,[this].concat(t))},t}(TG79);__reflect(TF61.prototype,"TF61");var TF62=function(i){function t(t){var e=i.call(this,t)||this;return e.rSM(P4.L78,e.GT91,e),e}return __extends(t,i),t.prototype.GT95=function(){var t={type:P4.L77,body:{}};this.sSM(t)},t.prototype.GT91=function(t){this.apF(K6.A2,t)},t}(TG80);__reflect(TF62.prototype,"TF62");var BigGiftView=function(s){function t(t,e){var i=s.call(this,t,e)||this;return i.sGN("release_act1058"),i.skinName="BigGiftSkin",i}return __extends(t,s),t.prototype.initUI=function(){s.prototype.initUI.call(this),this.itemCollection=new eui.ArrayCollection,this.dgItem.dataProvider=this.itemCollection,this.dgItem.itemRenderer=ItemIcon},t.prototype.open=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];s.prototype.open.call(this),this.btnShop.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickBtn,this);var i=App.CM.gtM(O6.B72);this.ZD54(i)},t.prototype.uBM=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];s.prototype.uBM.call(this,t,e),t instanceof TF61&&this.ZD54(t)},t.prototype.ZD54=function(t){var e=t.bigGiftData;if(!this.timerHandler){this.leftCD=t.bigGiftData.ZHH64();var i=P6.FJ11(1e3*this.leftCD,5);this.cdLb.textFlow=M18.HTP.parser(O3.tr(3329,i)),this.timerHandler=App.K16.doTimer(1e3,this.leftCD,this.GY14,this)}this.btnState=e.sta,this.lbTip.textFlow=M18.HTP.parser(O3.tr(3369,e.c)),this.powerLb.text=e.c.toString();for(var s=[],o=e.reward,r=0;r<o.length;r++){var n={data:N12.gID(o[r].k),ct:o[r].v};s.push({itemData:n,isBottom:!1})}this.itemCollection.replaceAll(s),this.ZQ36()},t.prototype.ZQ36=function(){0==this.btnState?(this.btnShop.visible=!0,this.imgGet.visible=!1,this.btnShop.label=O3.tr(3879),this.btnShop.imgNew.visible=!1):1==this.btnState?(this.btnShop.visible=!0,this.imgGet.visible=!1,this.btnShop.label=O3.tr(3880),this.btnShop.imgNew.visible=!0):(this.imgGet.visible=!0,this.btnShop.visible=!1)},t.prototype.GY14=function(){this.leftCD--;var t=O3.tr(3253,P6.FJ11(1e3*this.leftCD,5));this.cdLb.textFlow=M18.HTP.parser(t),this.leftCD<=0&&(this.cdLb.text="")},t.prototype.onClickBtn=function(){1!=this.btnState?App.CM.apF(O6.C29,P8.A7):App.CM.apF(O6.B72,K6.A1)},t.prototype.cTH=function(){null!=this.timerHandler&&(App.K16.rBH(this.timerHandler),this.timerHandler=null)},t.prototype.close=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];s.prototype.close.call(this),this.btnShop.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickBtn,this),this.cTH(),this.itemCollection&&this.itemCollection.removeAll()},t}(BaseEuiView);__reflect(BigGiftView.prototype,"BigGiftView");var BigGiftConfVo=function(){function t(t){this.getState=J13.A1,this.controllerConst=O6.B20,this.reqConst=HH3.A1,this.initData(t)}return t.prototype.initData=function(t){t&&(this.id=t.t,this.awd=t.rw)},t}();__reflect(BigGiftConfVo.prototype,"BigGiftConfVo");var BigGiftData=function(i){function t(t){var e=i.call(this,t)||this;return e.bigGiftConfVo=[],e.hasGotList=[],e.hasRecharge=0,e.updateData(t),e}return __extends(t,i),t.prototype.updateData=function(t){t&&(this.reward=null!=t.rw?t.rw:this.reward,this.sta=null!=t.sta?t.sta:this.sta,this.c=null!=t.c?t.c:this.c,this.ob=null!=t.ob?t.ob:this.ob,this.ZU63(t))},t}(ActivityVo);__reflect(BigGiftData.prototype,"BigGiftData");var D3=function(){function t(){}return t.A4=1,t.A3=2,t.A1=3,t.A2=4,t}();__reflect(D3.prototype,"D3");var TA42=function(s){function t(){var t=s.call(this)||this,e=new TC54(t),i=new TC3(t);return i.aLV(O7.C33),i.aLV(O7.E62),App.VM.register(O7.B52,"ConsumeDinneOpenView",t,K17.UI_Main_TOP),t.rgF(D3.A4,t.GG73,t),t.rgF(D3.A3,t.GF17,t),t.rgF(D3.A1,e.GW93,e),t.rgF(D3.A2,t.GW92,t),t}return __extends(t,s),t.prototype.GG73=function(){App.VM.open(O7.B52)},t.prototype.GF17=function(){App.VM.close(O7.B52)},t.prototype.GW92=function(t){var e=this.gtM();if(200!=t.head.state)return App.CM.apF(O6.B87,L10.A4,t),void(e.Lock=!1);e.ZC13(t.body),e.notify(D3.A2)},t}(TE11);__reflect(TA42.prototype,"TA42");var TC3=function(i){function t(t){var e=i.call(this,t)||this;return e.openState=!1,e.redNum=0,e.firstLoginRedNum=1,e}return __extends(t,i),t.prototype.ZC13=function(t){t&&(null!=this.actData?this.actData.updateData(t):(this.actData=new ConsumeDinneVo(t),this.tips=this.actData.tips),this.updateRed())},t.prototype.updateRed=function(){this.redNum=this.FL35()},t.prototype.setGameType=function(t){this.gameType=t},t.prototype.FL35=function(){var t=0;return t+=this.firstLoginRedNum,this.type&&t++,t},t.prototype.notify=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];i.prototype.notifyView.apply(this,[this].concat(t))},Object.defineProperty(t.prototype,"type",{get:function(){var t=this.actData,e=t.costArr,i=0,s=!1,o=0;for(var r in e){if(!((o+=e[r])<=t.g))break;i++}return t.alGet.length<i&&(s=!0),s},enumerable:!0,configurable:!0}),t}(TG79);__reflect(TC3.prototype,"TC3");var ConsumeDinneOpenView=function(s){function t(t,e){var i=s.call(this,t,e)||this;return i.skinName="TopUpDinnerOpenSkin",i}return __extends(t,s),Object.defineProperty(t.prototype,"model",{get:function(){return App.CM.gtM(O6.A55)},enumerable:!0,configurable:!0}),t.prototype.initUI=function(){s.prototype.initUI.call(this),this.bgMask.alpha=.7;var t=this.model.actData.ob,e={itemData:{data:N12.gID(t.k),ct:t.v},isBottom:!0,unified:!0};this.gpIconN0.data=e,this.btnFlop.label=O3.tr(1464)},t.prototype.open=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];s.prototype.open.call(this),this.isOpen=!0;this.model;this.btnFlop.addEventListener(egret.TouchEvent.TOUCH_TAP,this.closeSelf,this),this.mainGroup.addEventListener(egret.TouchEvent.TOUCH_TAP,this.closeSelf,this),App.THH32.aUE(this.gpEff1,"czdl_db_a_01",this.gpEff1.width/2,this.gpEff1.height/2,-1,null,null)},t.prototype.close=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];s.prototype.close.call(this,t),this.btnFlop.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.closeSelf,this),this.mainGroup.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.closeSelf,this),App.THH32.rEf(this.gpEff1,"czdl_db_a_01")},t.prototype.GX5=function(){},t.prototype.closeSelf=function(){this.isOpen&&(this.isOpen=!1,P5.sIs([this.model.actData.ob]),App.CM.apF(O6.A55,D3.A3))},t}(BaseEuiView);__reflect(ConsumeDinneOpenView.prototype,"ConsumeDinneOpenView");var ConsumeDinneView=function(n){function t(t,e){var i=n.call(this,t,e)||this;return i.gpIconArr=[],i.Lock=!1,i.inStart=!1,i.baseTime=300,i.speedNum=30,i.sGN("release_act1128"),i.skinName="TopUpDinnerSkin",i}return __extends(t,n),t.prototype.initUI=function(){var e=this;n.prototype.initUI.call(this),App.THH33.rEf(this.textGroup,"gpcj_mc_czdc_1"),App.THH33.aUE(this.textGroup,"gpcj_mc_czdc_1",72,58,-1),this.btnFlop.label=O3.tr(7924),this.goBtn.textFlow=M18.HTP.parse(O3.tr(7930)),this.leftCD=this.model.actData.ZHH64();var t=O3.tr(3253,P6.FJ11(1e3*this.leftCD,5));this.cdLb.textFlow=M18.HTP.parse(t),this.timerArrHandler=App.K16.doTimer(1e3,this.leftCD,this.GY14,this);var i=this.model.actData.chooseArr;for(var s in this.ActionImage.visible=!1,this.gpIconArr=[],i){var o=i[s],r={itemData:{data:N12.gID(o.k),ct:o.v},isBottom:!1,isJp:o.isJp};this["gpIconN"+s].data=r,this.gpIconArr.push(this["gpIconN"+s])}this.pBarPro1.slideDuration=0,this.model.actData.cp=-1,this.GX5(this.model),this.pBarPro1.slideDuration=100,this.gpIconN10.visible=!1;this.type;App.K16.doFrame(1,1,function(){var t=App.VM.gOV(TF59.FA34(F7.A85));t&&t.autoOut&&(e.autoOutVis=t.autoOut.visible,t.autoOut.visible=!1)},this)},t.prototype.open=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];n.prototype.open.call(this,t),this.btnFlop.addEventListener(egret.TouchEvent.TOUCH_TAP,this.openReset,this),this.goBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.UptopBtn,this),this.model.Lock=!1,this.inStart=!1},t.prototype.close=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];n.prototype.close.call(this,t),this.timerArrHandler&&(App.K16.rBH(this.timerArrHandler),this.timerArrHandler=null),App.THH33.rEf(this.textGroup,"gpcj_mc_czdc_1"),this.btnFlop.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.openReset,this),this.goBtn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.UptopBtn,this),this.handler&&(App.K16.rBH(this.handler),this.handler=null),this.inStart&&P5.sIs([this.model.actData.ob])},t.prototype.uBM=function(t,e){if(n.prototype.uBM.call(this,t,e),t instanceof TC3)switch(e){case D3.A2:this.runAction();break;case P4.N58:this.GX5(t)}},t.prototype.UptopBtn=function(){TG84.FM16(1718)},t.prototype.GX5=function(t){var e=t.actData,i=(e.alGet.length,e.costArr),s=0,o=0;for(var r in i)if(o+=i[r],e.g<o){s=Number(r),o-=i[r];break}for(var r in e.g&&e.g>=e.allNum?this.ZM95(i[i.length-1],i[i.length-1]):this.ZM95(e.g-o,i[s]),e.alGet)if(e.cp!=e.alGet[r]){var n=this.gpIconArr[e.alGet[r]-1];P16.sGF(n,!0)}this.btnFlop.enabled=this.type,P16.sGF(this.btnFlop,!this.btnFlop.enabled)},t.prototype.runAction=function(){this.baseTime=300,this.speedNum=30;this.model.actData;this.inStart=!0,this.runActionOne()},t.prototype.runActionOne=function(){var t=this.model.actData.cp-1;this.model.actData.cp=-1;this.zong=t+40,this.index=0;this.type;this.runUpSpeed()},t.prototype.runUpSpeed=function(){var t=this;if(this.inStart)if(6<this.index)this.runActionTow();else{var e=App.K16.doTimer(this.baseTime,1,this.updateImtT.bind(this),item,function(){t.runUpSpeed()});this.handler=e,this.baseTime-=this.speedNum}},t.prototype.runActionTow=function(){var t=this;if(this.inStart){var e=App.K16.doTimer(this.baseTime,this.zong-16,this.updateImtT.bind(this),item,function(){t.smoothDown()});this.handler=e}},t.prototype.updateImtT=function(){this.index++;var t=this.index%10;this.ActionImage.x=this.gpIconArr[t].x+43,this.ActionImage.y=this.gpIconArr[t].y+39,this.ActionImage.visible=!0,this.gpIconN10.visible=!0;var e=this.model.actData.chooseArr[t],i={itemData:{data:N12.gID(e.k),ct:e.v},isBottom:!1};this.gpIconN10.data=i},t.prototype.smoothDown=function(){var t=this;if(this.inStart)if(this.index!=this.zong){this.baseTime+=this.speedNum;var e=App.K16.doTimer(this.baseTime,1,this.updateImtT.bind(this),this,function(){t.smoothDown()});this.handler=e}else this.dealTweenEnd()},t.prototype.dealTweenEnd=function(){var t=this;egret.Tween.get(this.ActionImage).wait(100).to({alpha:0},200).to({alpha:1},200).to({alpha:0},200).to({alpha:1},200).call(function(){t.inStart=!1,t.gpIconN10.visible=!1,t.model.Lock=!1,t.ActionImage.visible=!1,t.GX5(t.model),App.CM.apF(O6.A55,D3.A4)},this)},t.prototype.openReset=function(){this.type&&(this.model.Lock||(this.model.Lock=!0,App.CM.apF(O6.A55,D3.A1)))},t.prototype.ZM95=function(t,e){this.pBarPro1.labelFunction=null,this.pBarPro1.minimum=0,this.pBarPro1.maximum=e,this.pBarPro1.value=t},t.prototype.GY14=function(){this.leftCD--;var t=O3.tr(3253,P6.FJ11(1e3*this.leftCD,5));this.cdLb.textFlow=M18.HTP.parser(t),this.leftCD<=0&&(this.cdLb.text="")},Object.defineProperty(t.prototype,"model",{get:function(){return App.CM.gtM(O6.A55)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"type",{get:function(){var t=this.model.actData,e=t.costArr,i=0,s=!1,o=0;for(var r in e){if(!((o+=e[r])<=t.g))break;i++}return t.alGet.length<i&&(s=!0),e.length==i?(this.titleShow.text=O3.tr(7928,e[e.length-1],e.length),this.titleShow.visible=!1):this.titleShow.text=O3.tr(7928,e[i],e.length),this.scheduleLb.text=O3.tr(7923,i-t.alGet.length),s},enumerable:!0,configurable:!0}),t}(BaseEuiView);__reflect(ConsumeDinneView.prototype,"ConsumeDinneView");var TC54=function(e){function t(t){return e.call(this,t)||this}return __extends(t,e),t.prototype.GW93=function(t){var e=this,i={type:P4.N6,body:{target:t}};this.rSMO(P4.N7,function(t){e.apF(D3.A2,t)},this),this.sSM(i)},t}(TG80);__reflect(TC54.prototype,"TC54");var ConsumeDinneVo=function(i){function t(t){var e=i.call(this,t)||this;return e.alGet=[],e.chooseArr=[],e.costArr=[],e.updateData(t),e}return __extends(t,i),t.prototype.updateData=function(t){if(t&&this.ZU63(t),this.g=0<=t.g?t.g:this.g,this.alGet=t.t?t.t:this.alGet,this.ob=t.ob,this.cp=t.cp,t.atmp){var e=t.atmp;this.cost=e.cost?e.cost:this.cost,this.more=e.more?e.more:this.more,this.param=e.param?e.param:this.param,this.rank=e.rank?e.rank:this.rank,this.reward=e.reward?e.reward:this.reward,e.reward&&(this.ZU40(e.reward),this.initCost(e.cost))}},t.prototype.ZU40=function(t){this.chooseArr=[];for(var e=t.split(";"),i=0;i<e.length;i++){var s=e[i].split("-"),o=s[1].split(",")[0].split(":");this.chooseArr.push({k:Number(o[0]),v:Number(o[1]),isJp:!!Number(s[1].split(",")[1])})}},t.prototype.initCost=function(t){this.costArr=[],this.allNum=0;var e=t.split(",");for(var i in e){var s=e[i].split(":");this.costArr.push(Number(s[1])),this.allNum+=Number(s[1])}},t}(ActivityVo);__reflect(ConsumeDinneVo.prototype,"ConsumeDinneVo");var E7=function(){function t(){}return t.A4=10001,t.A3=10002,t.A1=10003,t.A2=10004,t}();__reflect(E7.prototype,"E7");var TA92=function(i){function t(){var t=i.call(this)||this;t.evenFillingProxy=new TD15(t);var e=new TD14(t);return e.aLV(O7.D39),e.aLV(O7.C32),e.aLV(O7.D86),e.aLV(O7.C33),e.aLV(O7.I64),e.aLV(O7.G16),App.VM.register(O7.G16,"EvenFillingView",t,K17.UI_Main),t.rgF(E7.A4,t.GG74,t),t.rgF(E7.A3,t.GF18,t),t.rgF(E7.A1,t.GT95,t),t.rgF(E7.A2,t.GT91,t),t}return __extends(t,i),t.prototype.GG74=function(){App.VM.open(O7.G16);var t=this.gtM();t.firstLoginRedNum=0,t.notify()},t.prototype.GF18=function(){App.VM.close(O7.G16)},t.prototype.GT95=function(t){this.evenFillingProxy.GT95(t)},t.prototype.GT91=function(t){if(200==t.head.state){var e=t.body,i=this.gtM();i.ZC13(e),i.notify(),P5.sIs(t.body.ob)}else App.CM.apF(O6.B87,L10.A4,t)},t}(TE11);__reflect(TA92.prototype,"TA92");var TD14=function(i){function t(t){var e=i.call(this,t)||this;return e.openState=!1,e.redNum=0,e.firstLoginRedNum=0,e}return __extends(t,i),t.prototype.ZC13=function(t){t&&(null!=this.evenFillingData?this.evenFillingData.updateData(t):(this.evenFillingData=new EvenFillingData(t),this.tips=this.evenFillingData.tips),this.updateRed())},t.prototype.updateRed=function(){this.redNum=this.FL35()},t.prototype.FL35=function(){var t=0;t+=this.firstLoginRedNum;var e=this.evenFillingData.evenFillingConfVo;for(var i in e)if(e[i].getState==J13.A3){t+=1;break}return t},t.prototype.notify=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];i.prototype.notifyView.apply(this,[this].concat(t))},t}(TG79);__reflect(TD14.prototype,"TD14");var TD15=function(e){function t(t){return e.call(this,t)||this}return __extends(t,e),t.prototype.GT95=function(t){var e={type:P4.G20,body:{target:t}};this.rSMO(P4.G21,this.GT91,this),this.sSM(e)},t.prototype.GT91=function(t){this.apF(E7.A2,t)},t}(TG80);__reflect(TD15.prototype,"TD15");var EvenFillingItemView=function(i){function t(){var t=i.call(this)||this;return t.skinName=EvenFillingItemSkin,t.addEventListener(egret.Event.ADDED_TO_STAGE,t.open,t),t.addEventListener(egret.Event.REMOVED_FROM_STAGE,t.close,t),t}return __extends(t,i),t.prototype.open=function(){this.btnGet.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickBtn,this),this.btnRecharge.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickGoBtn,this)},t.prototype.onClickGoBtn=function(){App.CM.apF(O6.C29,P8.A7)},t.prototype.close=function(){this.btnGet.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickBtn,this),this.btnRecharge.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickGoBtn,this),this.dataSource.removeAll()},t.prototype.childrenCreated=function(){i.prototype.createChildren.call(this),this.initUI()},t.prototype.initUI=function(){this.listContent.itemRenderer=ItemIcon,this.dataSource=new eui.ArrayCollection,this.listContent.dataProvider=this.dataSource,this.awardsSc.viewport=this.listContent,this.awardsSc.scrollPolicyH=eui.ScrollPolicy.ON,this.awardsSc.scrollPolicyV=eui.ScrollPolicy.OFF,this.btnGet.label=O3.tr(3885),this.btnRecharge.label=O3.tr(3886)},t.prototype.dataChanged=function(){i.prototype.dataChanged.call(this),this.ZJ81(this.data.awd);var t,e=App.CM.gtM(O6.A82);switch(this.btnGet.visible=!1,this.getImg.visible=!1,this.btnRecharge.visible=!1,this.data.getState){case J13.A3:this.btnGet.visible=!0,P7.FD53(this.btnGet,1),this.titleBgImg.source="v1_img_dc_lchl_png",this.titleBgImg1.source="v1_bar_yellow_lxcz_png",t=O3.tr(3352,this.data.id,this.data.id),this.lbTarget.textFlow=M18.HTP.parser(t);break;case J13.A1:this.btnRecharge.visible=!0,this.titleBgImg.source="v1_img_wdc_lchl_png",this.titleBgImg1.source="v1_bar_b_lxcz_png",t=O3.tr(3356,e.evenFillingData.time,this.data.id),this.lbTarget.textFlow=M18.HTP.parser(t);break;case J13.A2:this.getImg.visible=!0,this.titleBgImg.source="v1_img_dc_lchl_png",this.titleBgImg1.source="v1_bar_yellow_lxcz_png",t=O3.tr(3352,this.data.id,this.data.id),this.lbTarget.textFlow=M18.HTP.parser(t)}},t.prototype.ZJ81=function(t){var e=[];for(var i in t){var s={itemData:{data:N12.gID(t[i].k),ct:t[i].v},isBottom:!1};e.push(s)}this.dataSource.replaceAll(e)},t.prototype.onClickBtn=function(){this.data.getState==J13.A3&&App.CM.apF(this.data.controllerConst,this.data.reqConst,this.data.id)},t}(eui.ItemRenderer);__reflect(EvenFillingItemView.prototype,"EvenFillingItemView");var EvenFillingView=function(s){function t(t,e){var i=s.call(this,t,e)||this;return i.skinName=EvenFillingSkin,i}return __extends(t,s),t.prototype.initUI=function(){s.prototype.initUI.call(this),this.banner.source="v1_bg_banner_lchl_jpg";var t={render:EvenFillingItemView,gap:5,width:this.listGroup.width,height:this.listGroup.height,arrowScale:1};this.listView=new CommonListBase(t),this.listGroup.addChild(this.listView),this.listView.verticalCenter=0,this.listView.horizontalCenter=0},t.prototype.open=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];s.prototype.open.call(this),this.listView.open();var i=App.CM.gtM(O6.A82);this.ZHH71(i)},t.prototype.uBM=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];s.prototype.uBM.call(this,t,e),t instanceof TD14&&this.ZHH71(t)},t.prototype.ZHH71=function(t){this.evenFillingData=t.evenFillingData;var e=O3.tr(3355,this.evenFillingData.hasRecharge,t.evenFillingData.nowRecharge);if(this.lbTarget.textFlow=M18.HTP.parser(e),this.missionLb.text=O3.tr(3353),this.cdTips.text=O3.tr(3354,t.evenFillingData.nowRecharge),!this.timerHandler){this.leftCD=t.evenFillingData.ZHH64();var i=P6.FJ11(1e3*this.leftCD,5);this.cdLb.textFlow=M18.HTP.parser(O3.tr(3329,i)),this.timerHandler=App.K16.doTimer(1e3,this.leftCD,this.GY14,this)}var s=this.evenFillingData.evenFillingConfVo;this.listView.rfL(s)},t.prototype.GY14=function(){this.leftCD--;var t=O3.tr(3253,P6.FJ11(1e3*this.leftCD,5));this.cdLb.textFlow=M18.HTP.parser(t),this.leftCD<=0&&(this.cTH(),this.cdLb.text="")},t.prototype.cTH=function(){null!=this.timerHandler&&(App.K16.rBH(this.timerHandler),this.timerHandler=null)},t.prototype.close=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];s.prototype.close.call(this),this.cTH(),this.listView.close()},t}(BaseEuiView);__reflect(EvenFillingView.prototype,"EvenFillingView");var EvenFillingConfVo=function(){function t(t){this.getState=J13.A1,this.controllerConst=O6.A82,this.reqConst=E7.A1,this.initData(t)}return t.prototype.initData=function(t){t&&(this.id=t.k,this.awd=t.v)},t}();__reflect(EvenFillingConfVo.prototype,"EvenFillingConfVo");var EvenFillingData=function(i){function t(t){var e=i.call(this,t)||this;return e.evenFillingConfVo=[],e.hasGotList=[],e.hasRecharge=0,e.nowRecharge=0,e.time=0,e.updateData(t),e}return __extends(t,i),t.prototype.updateData=function(t){if(t){if(this.hasGotList=t.yaw||this.hasGotList,this.hasRecharge=null==t.re?this.hasRecharge:t.re,this.time=null==t.t?this.time:t.t,t.cf){this.nowRecharge=null==t.cf.m?this.nowRecharge:t.cf.m,null!=this.evenFillingConfVo&&0<this.evenFillingConfVo.length&&this.evenFillingConfVo.splice(0,this.evenFillingConfVo.length),this.evenFillingConfVo=[];for(var e=0;e<t.cf.aw.length;e++){var i=new EvenFillingConfVo(t.cf.aw[e]);this.evenFillingConfVo.push(i)}}if(0<this.hasGotList.length)for(var e in this.evenFillingConfVo)for(var s in this.hasGotList)this.evenFillingConfVo[e].id==this.hasGotList[s]&&(this.evenFillingConfVo[e].getState=J13.A2);for(var e in this.evenFillingConfVo){var o=this.evenFillingConfVo[e];this.time>parseInt(e)&&o.getState!=J13.A2&&(this.evenFillingConfVo[e].getState=J13.A3)}this.evenFillingConfVo.sort(function(t,e){return t.id-e.id}),this.ZU63(t)}},t}(ActivityVo);__reflect(EvenFillingData.prototype,"EvenFillingData");var F16=function(){function t(){}return t.A4=10001,t.A3=10002,t.A1=10003,t.A2=10004,t}();__reflect(F16.prototype,"F16");var TB20=function(i){function t(){var t=i.call(this)||this;t.expendGiftProxy=new TD65(t);var e=new TD64(t);return e.aLV(O7.D39),e.aLV(O7.C32),e.aLV(O7.D86),e.aLV(O7.C33),e.aLV(O7.I64),e.aLV(O7.G98),App.VM.register(O7.G98,"ExpendGiftView",t,K17.UI_Main),t.rgF(F16.A4,t.GI58,t),t.rgF(F16.A3,t.GG75,t),t.rgF(F16.A1,t.GW93,t),t.rgF(F16.A2,t.GW92,t),t}return __extends(t,i),t.prototype.GI58=function(){App.VM.open(O7.G98);var t=this.gtM();t.firstLoginRedNum=0,t.notify()},t.prototype.GG75=function(){App.VM.close(O7.G98)},t.prototype.GW93=function(t){this.expendGiftProxy.GW93(t)},t.prototype.GW92=function(t){if(200==t.head.state){var e=t.body,i=this.gtM();i.ZC13(e),i.notify(),P5.sIs(t.body.ob)}else App.CM.apF(O6.B87,L10.A4,t)},t}(TE11);__reflect(TB20.prototype,"TB20");var TD64=function(i){function t(t){var e=i.call(this,t)||this;return e.openState=!1,e.redNum=0,e.firstLoginRedNum=0,e}return __extends(t,i),t.prototype.ZC13=function(t){t&&(null!=this.expendGiftData?this.expendGiftData.updateData(t):(this.expendGiftData=new ExpendGiftData(t),this.tips=this.expendGiftData.tips),this.updateRed())},t.prototype.updateRed=function(){this.redNum=this.FL35()},t.prototype.FL35=function(){var t=0;t+=this.firstLoginRedNum;var e=this.expendGiftData.expendGiftConfVo;for(var i in e)if(e[i].getState==J13.A3){t+=1;break}return t},t.prototype.notify=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];i.prototype.notifyView.apply(this,[this].concat(t))},t}(TG79);__reflect(TD64.prototype,"TD64");var TD65=function(i){function t(t){var e=i.call(this,t)||this;return e.rSM(P4.B36,e.GW92,e),e}return __extends(t,i),t.prototype.GW93=function(t){var e={type:P4.B35,body:{target:t}};this.sSM(e)},t.prototype.GW92=function(t){this.apF(F16.A2,t)},t}(TG80);__reflect(TD65.prototype,"TD65");var ExpendGiftItemView=function(i){function t(){var t=i.call(this)||this;return t.skinName=EvenFillingItemSkin,t.addEventListener(egret.Event.ADDED_TO_STAGE,t.open,t),t.addEventListener(egret.Event.REMOVED_FROM_STAGE,t.close,t),t}return __extends(t,i),t.prototype.open=function(){this.btnGet.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickBtn,this)},t.prototype.close=function(){this.btnGet.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickBtn,this),this.dataSource.removeAll()},t.prototype.childrenCreated=function(){i.prototype.createChildren.call(this),this.initUI()},t.prototype.initUI=function(){this.listContent.itemRenderer=ItemIcon,this.dataSource=new eui.ArrayCollection,this.listContent.dataProvider=this.dataSource,this.awardsSc.viewport=this.listContent,this.awardsSc.scrollPolicyH=eui.ScrollPolicy.ON,this.awardsSc.scrollPolicyV=eui.ScrollPolicy.OFF,this.btnRecharge.visible=!1,this.btnGet.label=O3.tr(3885)},t.prototype.dataChanged=function(){i.prototype.dataChanged.call(this),this.ZJ81(this.data.awd);var t,e=App.CM.gtM(O6.B1);switch(this.btnGet.visible=!1,this.getImg.visible=!1,this.lbExpend.visible=!1,this.data.getState){case J13.A3:this.btnGet.visible=!0,P7.FD53(this.btnGet,1),this.titleBgImg.source="v1_img_dc_lchl_png",this.titleBgImg1.source="v1_bar_yellow_lxcz_png",t=O3.tr(3352,this.data.id,this.data.id),this.lbTarget.textFlow=M18.HTP.parser(t);break;case J13.A1:this.lbExpend.visible=!0,this.lbExpend.textFlow=M18.HTP.parse(O3.tr(5318,this.data.expend)),this.titleBgImg.source="v1_img_wdc_lchl_png",this.titleBgImg1.source="v1_bar_b_lxcz_png",t=O3.tr(3356,e.expendGiftData.time,this.data.id),this.lbTarget.textFlow=M18.HTP.parser(t);break;case J13.A2:this.getImg.visible=!0,this.titleBgImg.source="v1_img_dc_lchl_png",this.titleBgImg1.source="v1_bar_yellow_lxcz_png",t=O3.tr(3352,this.data.id,this.data.id),this.lbTarget.textFlow=M18.HTP.parser(t)}},t.prototype.ZJ81=function(t){var e=[];for(var i in t){var s={itemData:{data:N12.gID(t[i].k),ct:t[i].v},isBottom:!1};e.push(s)}this.dataSource.replaceAll(e)},t.prototype.onClickBtn=function(){this.data.getState==J13.A3&&App.CM.apF(this.data.controllerConst,this.data.reqConst,this.data.id)},t}(eui.ItemRenderer);__reflect(ExpendGiftItemView.prototype,"ExpendGiftItemView");var ExpendGiftView=function(s){function t(t,e){var i=s.call(this,t,e)||this;return i.skinName=EvenFillingSkin,i}return __extends(t,s),t.prototype.initUI=function(){s.prototype.initUI.call(this),this.banner.source="v1_bg_banner_lxhl_jpg";var t={render:ExpendGiftItemView,gap:5,width:this.listGroup.width,height:this.listGroup.height,arrowScale:1};this.listView=new CommonListBase(t),this.listGroup.addChild(this.listView),this.listView.verticalCenter=0,this.listView.horizontalCenter=0,this.btnShop.visible=!0,this.btnShop.label=O3.tr(5317)},t.prototype.open=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];s.prototype.open.call(this),this.listView.open(),this.btnShop.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickBtn,this);var i=App.CM.gtM(O6.B1);this.ZHH71(i)},t.prototype.uBM=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];s.prototype.uBM.call(this,t,e),t instanceof TD64&&this.ZHH71(t)},t.prototype.ZHH71=function(t){this.expendGiftData=t.expendGiftData;var e=O3.tr(5316,this.expendGiftData.hasRecharge,t.expendGiftData.nowRecharge);if(this.lbTarget.textFlow=M18.HTP.parser(e),this.cdLb.textFlow=M18.HTP.parser(O3.tr(5313)),this.cdTips.textFlow=M18.HTP.parser(O3.tr(5315,t.expendGiftData.nowRecharge)),!this.timerHandler){this.leftCD=t.expendGiftData.ZHH64();var i=P6.FJ11(1e3*this.leftCD,5);this.missionLb.textFlow=M18.HTP.parser(O3.tr(5314,i)),this.timerHandler=App.K16.doTimer(1e3,this.leftCD,this.GY14,this)}for(var s=this.expendGiftData.expendGiftConfVo,o=t.expendGiftData.nowRecharge-this.expendGiftData.hasRecharge,r=!0,n=0;n<s.length;n++)s[n].getState==J13.A1&&(r&&0<o?(s[n].expend=o,r=!1):s[n].expend=t.expendGiftData.nowRecharge);this.listView.rfL(s)},t.prototype.GY14=function(){this.leftCD--;var t=O3.tr(5314,P6.FJ11(1e3*this.leftCD,5));this.missionLb.textFlow=M18.HTP.parser(t),this.leftCD<=0&&(this.cTH(),this.missionLb.text="")},t.prototype.cTH=function(){null!=this.timerHandler&&(App.K16.rBH(this.timerHandler),this.timerHandler=null)},t.prototype.onClickBtn=function(){TG84.FM16(1718)},t.prototype.close=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];s.prototype.close.call(this),this.cTH(),this.listView.close(),this.btnShop.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickBtn,this)},t}(BaseEuiView);__reflect(ExpendGiftView.prototype,"ExpendGiftView");var ExpendGiftConfVo=function(){function t(t){this.getState=J13.A1,this.controllerConst=O6.B1,this.reqConst=F16.A1,this.initData(t)}return t.prototype.initData=function(t){t&&(this.id=t.k,this.awd=t.v)},t}();__reflect(ExpendGiftConfVo.prototype,"ExpendGiftConfVo");var ExpendGiftData=function(i){function t(t){var e=i.call(this,t)||this;return e.expendGiftConfVo=[],e.hasGotList=[],e.hasRecharge=0,e.nowRecharge=0,e.time=0,e.updateData(t),e}return __extends(t,i),t.prototype.updateData=function(t){if(t){if(this.hasGotList=t.yaw||this.hasGotList,this.hasRecharge=null==t.g?this.hasRecharge:t.g,this.time=null==t.t?this.time:t.t,t.cf){this.nowRecharge=null==t.cf.g?this.nowRecharge:t.cf.g,null!=this.expendGiftConfVo&&0<this.expendGiftConfVo.length&&this.expendGiftConfVo.splice(0,this.expendGiftConfVo.length),this.expendGiftConfVo=[];for(var e=0;e<t.cf.aw.length;e++){var i=new ExpendGiftConfVo(t.cf.aw[e]);this.expendGiftConfVo.push(i)}}if(0<this.hasGotList.length)for(var e in this.expendGiftConfVo)for(var s in this.hasGotList)this.expendGiftConfVo[e].id==this.hasGotList[s]&&(this.expendGiftConfVo[e].getState=J13.A2);for(var e in this.expendGiftConfVo){var o=this.expendGiftConfVo[e];this.time>parseInt(e)&&o.getState!=J13.A2&&(this.expendGiftConfVo[e].getState=J13.A3)}this.expendGiftConfVo.sort(function(t,e){return t.id-e.id}),this.ZU63(t)}},t}(ActivityVo);__reflect(ExpendGiftData.prototype,"ExpendGiftData");var K5=function(){function t(){}return t.A1=0,t.A2=1,t}();__reflect(K5.prototype,"K5");var TC55=function(i){function t(){var t=i.call(this)||this;t.giftBagProxy=new TF64(t);var e=new TF63(t);return e.aLV(O7.D39),e.aLV(O7.C32),e.aLV(O7.D86),e.aLV(O7.C33),e.aLV(O7.I64),e.aLV(O7.I48),App.VM.register(O7.I48,"GiftBagView",t,K17.UI_Main),t.rgF(K5.A1,t.GT95,t),t.rgF(K5.A2,t.GT91,t),t}return __extends(t,i),t.prototype.GT95=function(){this.giftBagProxy.GT95()},t.prototype.GT91=function(t){if(200==t.head.state){var e=t.body,i=this.gtM();i.ZC13(e),i.notify(),P5.sIs(t.body.ob)}else App.CM.apF(O6.B87,L10.A4,t)},t}(TE11);__reflect(TC55.prototype,"TC55");var TF63=function(i){function t(t){var e=i.call(this,t)||this;return e.openState=!1,e.redNum=0,e.firstLoginRedNum=0,e}return __extends(t,i),t.prototype.ZC13=function(t){t&&(null!=this.giftBagData?this.giftBagData.updateData(t):(this.giftBagData=new GiftBagData(t),this.tips=this.giftBagData.tips),this.updateRed())},t.prototype.updateRed=function(){this.redNum=this.FL35()},t.prototype.FL35=function(){var t=0;return t+=this.firstLoginRedNum,1==this.giftBagData.sta&&(t+=1),t},t.prototype.notify=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];i.prototype.notifyView.apply(this,[this].concat(t))},t}(TG79);__reflect(TF63.prototype,"TF63");var TF64=function(e){function t(t){return e.call(this,t)||this}return __extends(t,e),t.prototype.GT95=function(){var t={type:P4.N69,body:{}};this.rSMO(P4.N70,this.GT91,this),this.sSM(t)},t.prototype.GT91=function(t){this.apF(K5.A2,t)},t}(TG80);__reflect(TF64.prototype,"TF64");var GiftBagView=function(s){function t(t,e){var i=s.call(this,t,e)||this;return i.sGN("release_act1056"),i.skinName="GiftBagSkin",i}return __extends(t,s),t.prototype.initUI=function(){s.prototype.initUI.call(this),this.itemCollection=new eui.ArrayCollection,this.dgItem.dataProvider=this.itemCollection,this.dgItem.itemRenderer=ItemIcon},t.prototype.open=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];s.prototype.open.call(this),this.btnShop.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickBtn,this);var i=App.CM.gtM(O6.B71);this.ZD55(i)},t.prototype.uBM=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];s.prototype.uBM.call(this,t,e),t instanceof TF63&&this.ZD55(t)},t.prototype.ZD55=function(t){var e=t.giftBagData;if(!this.timerHandler){this.leftCD=t.giftBagData.ZHH64();var i=P6.FJ11(1e3*this.leftCD,5);this.cdLb.textFlow=M18.HTP.parser(O3.tr(3329,i)),this.timerHandler=App.K16.doTimer(1e3,this.leftCD,this.GY14,this)}this.btnState=e.sta,this.lbTip.textFlow=M18.HTP.parser(O3.tr(3369,e.c)),this.powerLb.text=e.c.toString();for(var s=[],o=e.reward,r=0;r<o.length;r++){var n={data:N12.gID(o[r].k),ct:o[r].v};s.push({itemData:n,isBottom:!1})}this.itemCollection.replaceAll(s),this.ZQ36()},t.prototype.ZQ36=function(){0==this.btnState?(this.btnShop.visible=!0,this.imgGet.visible=!1,this.btnShop.label=O3.tr(3877),this.btnShop.imgNew.visible=!1):1==this.btnState?(this.btnShop.visible=!0,this.imgGet.visible=!1,this.btnShop.label=O3.tr(3878),this.btnShop.imgNew.visible=!0):(this.imgGet.visible=!0,this.btnShop.visible=!1)},t.prototype.GY14=function(){this.leftCD--;var t=O3.tr(3253,P6.FJ11(1e3*this.leftCD,5));this.cdLb.textFlow=M18.HTP.parser(t),this.leftCD<=0&&(this.cdLb.text="")},t.prototype.onClickBtn=function(){1!=this.btnState?App.CM.apF(O6.C29,P8.A7):App.CM.apF(O6.B71,K5.A1)},t.prototype.cTH=function(){null!=this.timerHandler&&(App.K16.rBH(this.timerHandler),this.timerHandler=null)},t.prototype.close=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];s.prototype.close.call(this),this.btnShop.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickBtn,this),this.cTH(),this.itemCollection&&this.itemCollection.removeAll()},t}(BaseEuiView);__reflect(GiftBagView.prototype,"GiftBagView");var GiftBagConfVo=function(){function t(t){this.getState=J13.A1,this.controllerConst=O6.B20,this.reqConst=HH3.A1,this.initData(t)}return t.prototype.initData=function(t){t&&(this.id=t.t,this.awd=t.rw)},t}();__reflect(GiftBagConfVo.prototype,"GiftBagConfVo");var GiftBagData=function(i){function t(t){var e=i.call(this,t)||this;return e.giftBagConfVo=[],e.hasGotList=[],e.hasRecharge=0,e.updateData(t),e}return __extends(t,i),t.prototype.updateData=function(t){t&&(this.reward=null!=t.rw?t.rw:this.reward,this.sta=null!=t.sta?t.sta:this.sta,this.c=null!=t.c?t.c:this.c,this.ob=null!=t.ob?t.ob:this.ob,this.ZU63(t))},t}(ActivityVo);__reflect(GiftBagData.prototype,"GiftBagData"),function(t){var e=function(){function t(){}return t.SELECT=1e3,t.GET_REWARD=20001,t.GET_REWARD_RES=20002,t.FIGHT=20003,t.FIGHT_RES=20004,t}();t.Const=e,__reflect(e.prototype,"PeerlessHero.Const")}(PeerlessHero||(PeerlessHero={})),function(o){var t=function(s){function t(){var t=s.call(this)||this;App.VM.register(O7.A73,"PeerlessHeroProfileView",t,K17.UI_Main_TOP);var e=new o.Model(t);e.aLV(O7.I39),e.aLV(O7.I64),e.aLV(TF59.FA34(e.actid)),e.aLV(O7.F44);var i=new o.Proxy(t);return t.rgF(o.Const.GET_REWARD,i.GT95,i),t.rgF(o.Const.GET_REWARD_RES,t.GT91,t),t.rgF(o.Const.FIGHT,i.fight,i),t.rgF(o.Const.FIGHT_RES,t.fightRes,t),t.rgF(o.Const.SELECT,t.onSelect,t),t}return __extends(t,s),t.prototype.gtM=function(){return s.prototype.gtM.call(this)},t.prototype.onSelect=function(t){var e=App.VM.gOV(O7.F44);e&&e.select(t)},t.prototype.GT91=function(t){200!=t.head.state?App.CM.apF(O6.B87,L10.A4,t):(this.gtM().ZC13(t.body).notify(),P5.sIs(t.body.ob))},t.prototype.fightRes=function(t){var e=this;200!=t.head.state?App.CM.apF(O6.B87,L10.A4,t):t.body.rst&&App.CM.apF(O6.B99,N1.A11,t.body.rst,{rewards:t.body.ob,needResult:!1,type:P15.A41},function(){TF59.FE54(e.gtM().actid)},this)},t}(TE11);o.Controller=t,__reflect(t.prototype,"PeerlessHero.Controller")}(PeerlessHero||(PeerlessHero={})),function(e){var t=function(i){function t(t){var e=i.call(this,t)||this;return e.openState=!1,e.redNum=0,e.firstLoginRedNum=0,e}return __extends(t,i),t.prototype.ZC13=function(t){return null!=this.actData?this.actData.updateData(t):this.actData=new e.ActData(t),this.updateRed(),this},t.prototype.updateRed=function(){this.redNum=this.FL35()},t.prototype.FL35=function(){if(this.redNum=0,this.actData)for(var t in this.actData.list)this.actData.getItemState(parseInt(t))==J13.A3&&(this.redNum+=1);return this.redNum},t.prototype.notify=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];i.prototype.notifyView.apply(this,[this].concat(t))},t}(TG79);e.Model=t,__reflect(t.prototype,"PeerlessHero.Model")}(PeerlessHero||(PeerlessHero={})),function(i){var t=function(e){function t(t){return e.call(this,t)||this}return __extends(t,e),t.prototype.GT95=function(t){var e={type:P4.W12,body:{index:t}};this.rSMO(P4.W13,this.GT91,this),this.sSM(e)},t.prototype.GT91=function(t){this.apF(i.Const.GET_REWARD_RES,t)},t.prototype.fight=function(){var t={type:P4.N4,body:{}};this.rSMO(P4.N5,this.fightRes,this),this.sSM(t)},t.prototype.fightRes=function(t){this.apF(i.Const.FIGHT_RES,t)},t}(TG80);i.Proxy=t,__reflect(t.prototype,"PeerlessHero.Proxy")}(PeerlessHero||(PeerlessHero={}));var PeerlessHeroItemView=function(s){function t(){var t=s.call(this)||this;return t.skinName="PeerlessHeroItemSkin",t.addEventListener(egret.Event.REMOVED_FROM_STAGE,t.remove,t),t}return __extends(t,s),t.prototype.childrenCreated=function(){s.prototype.childrenCreated.call(this),this.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClick,this)},t.prototype.dataChanged=function(){if(s.prototype.dataChanged.call(this),this.visible=!!this.data,this.data){var t=App.CM.gtM(O6.A74);this.imgNew.visible=t.actData.getItemState(this.itemIndex-1)==J13.A3,this.currentState=this.data.select?"selected":"normal";var e=this.data.reward[0];if(e){var i=N12.gID(e.k);this.imgIcon.source=i.icon,this.labName.text=i.name}}},t.prototype.remove=function(){this.removeEventListener(egret.Event.REMOVED_FROM_STAGE,this.remove,this),this.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClick,this)},t.prototype.onClick=function(){this.data&&App.CM.apF(O6.A74,PeerlessHero.Const.SELECT,this.itemIndex)},t}(eui.ItemRenderer);__reflect(PeerlessHeroItemView.prototype,"PeerlessHeroItemView");var PeerlessHeroProfileView=function(s){function t(t,e){var i=s.call(this,t,e)||this;return i.sGN("release_act1123_2"),i.skinName="PeerlessHeroProfileSkin",i}return __extends(t,s),t.prototype.initUI=function(){this.bgMask.addEventListener(egret.TouchEvent.TOUCH_TAP,this.oCC,this),this.closeBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.oCC,this),this.getBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickGo,this),this.getBtn.label=O3.tr(7704)},t.prototype.close=function(){this.bgMask.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.oCC,this),this.closeBtn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.oCC,this),this.getBtn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickGo,this),s.prototype.close.call(this)},t.prototype.onClickGo=function(){TF59.FE54(F7.A69),this.oCC()},t.prototype.oCC=function(){App.VM.GY64(this)},t}(BaseEuiView);__reflect(PeerlessHeroProfileView.prototype,"PeerlessHeroProfileView");var PeerlessHero,PeerlessHeroView=function(h){function t(t,e){var i=h.call(this,t,e)||this;return i.w=150,i.sGN("release_act1123"),i.skinName="PeerlessHeroSkin",i}return __extends(t,h),t.prototype.initUI=function(){this.btnFight.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickFight,this),this.btnInfo.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickInfo,this),this.btnShop.addEventListener(egret.TouchEvent.TOUCH_TAP,this.ZM93,this),this.gLeft.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickMove,this),this.gRight.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickMove,this),this.listItem.itemRenderer=PeerlessHeroItemView,this.listItem.dataProvider=this.dataSource=new eui.ArrayCollection,this.dgReward.itemRenderer=ItemIcon,this.dgReward.dataProvider=this.acReward=new eui.ArrayCollection;var t=this.model,e=t.actData.list.map(function(t){return P7.copyTab(t)});e.push(null),e.unshift(null),this.dataSource.source=e,this.sc.validateNow(),this.heroData=new HeroData(N14.FJ83()[t.actData.heroId]),this.labHeroName.text=this.heroData.name,this.sc.addEventListener(eui.UIEvent.CHANGE_START,this.onStart,this),this.sc.addEventListener(eui.UIEvent.CHANGE_END,this.onEnd,this)},Object.defineProperty(t.prototype,"model",{get:function(){return App.CM.gtM(O6.A74)},enumerable:!0,configurable:!0}),t.prototype.open=function(){for(var e=this,t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];h.prototype.open.apply(this,t),this.timer=App.K16.doTimer(1e3,0,this.GX42,this),this.GX42();var s=this.canGetIndex();if(!s)for(var o=this.model.actData,r=o.list.length,n=0,a=1;n<r;n++,a++){if(o.getItemState(n)==J13.A1){s=a;break}}this.select(s||1,!0),App.THH33.aUE(this.gImg,"front",-390,-400),App.THH33.aUE(this.gEff,"circle_hong",-45,-45),App.K16.doFrame(1,1,function(){var t=App.VM.gOV(TF59.FA34(F7.A69));t&&t.autoOut&&(e.autoOutVis=t.autoOut.visible,t.autoOut.visible=!1)},this)},t.prototype.canGetIndex=function(){for(var t,e=this.model.actData,i=e.list.length,s=0,o=1;s<i;s++,o++){if(e.getItemState(s)==J13.A3){t=o;break}}return t},t.prototype.close=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.btnFight.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickFight,this),this.btnInfo.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickInfo,this),this.btnShop.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.ZM93,this),this.gLeft.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickMove,this),this.gRight.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickMove,this),this.sc.removeEventListener(eui.UIEvent.CHANGE_START,this.onStart,this),this.sc.removeEventListener(eui.UIEvent.CHANGE_END,this.onEnd,this),this.listItem.removeEventListener(eui.PropertyEvent.PROPERTY_CHANGE,this.updateScroll,this),App.THH33.rEf(this.gImg,"front"),App.THH33.rEf(this.gEff,"circle_hong"),App.K16.rBH(this.timer),this.dataSource.removeAll();var i=App.VM.gOV(TF59.FA34(F7.A69));i&&i.autoOut&&(i.autoOut.visible=this.autoOutVis),delete this.heroData,h.prototype.close.call(this)},t.prototype.uBM=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];h.prototype.uBM.call(this,t,e),t instanceof PeerlessHero.Model&&this.GX5(t)},Object.defineProperty(t.prototype,"index",{get:function(){if(this._index){var t=this._index-1;return t<0?0:t>this.dataSource.length-3?this.dataSource.length-3:t}return 0},enumerable:!0,configurable:!0}),t.prototype.onStart=function(){this.listItem.addEventListener(eui.PropertyEvent.PROPERTY_CHANGE,this.updateScroll,this)},t.prototype.onEnd=function(){var t=this;this.listItem.removeEventListener(eui.PropertyEvent.PROPERTY_CHANGE,this.updateScroll,this);var e=this.w;egret.Tween.get(this.listItem).to({scrollH:Math.round(this.listItem.scrollH/e)*e},200).call(function(){return t.updateReward(t.model)})},t.prototype.updateScroll=function(t){if("scrollH"==t.property){for(var e=this.w,i=this.listItem.numChildren,s=0,o=Number.MAX_VALUE,r=0;r<i;r+=1){var n=this.listItem.getChildAt(r),a=n.itemIndex*e+e/2-this.listItem.scrollH;Math.abs(225-a)<o&&(s=n.itemIndex,o=Math.abs(225-a))}if(this._index!=s){var h=this.dataSource.source;for(r=0;r<this.dataSource.length;r++)h[r]&&(h[r].select=r==s);this.dataSource.replaceAll(h),this._index=s;var p=this.model;this.updateState(p),this.updateReward(p),this.ZJ89(p)}}},t.prototype.ZJ89=function(t){for(var e=t.actData,i=e.list.length,s=!1,o=!1,r=0;r<this.index-1;r++)if(e.getItemState(r)==J13.A3){s=!0;break}for(r=this.index+2;r<i;r++)if(e.getItemState(r)==J13.A3){o=!0;break}this.imgNewLeft.visible=s,this.imgNewRight.visible=o},t.prototype.GX5=function(t){this.labAmount.textFlow=O3.tr2(7617,t.actData.gold),this.updateList(),this.updateState(t),this.updateReward(t),this.ZJ89(t)},t.prototype.updateState=function(t){var e=t.actData.list[this.index];this.labConsu.textFlow=O3.tr2(7618,e.consume);var i=t.actData.getItemState(this.index);i==J13.A2?this.btnShop.label=O3.tr(903):i==J13.A3?this.btnShop.label=O3.tr(926):this.btnShop.label=O3.tr(7619),this.btnShop.imgNew.visible=i==J13.A3,this.btnShop.touchEnabled=!(i==J13.A2),P16.sGF(this.btnShop,!this.btnShop.touchEnabled)},t.prototype.GX42=function(){var t=this.model;this.labTime.textFlow=O3.tr2(7616,P6.FJ11(1e3*t.actData.ZHH64(),5))},t.prototype.updateList=function(){for(var t=0;t<this.dataSource.length;t++){var e=this.dataSource.source[t];e&&(e.select=this._index==t)}this.dataSource.replaceAll(this.dataSource.source)},t.prototype.updateReward=function(t){var e=t.actData.list[this.index];this.acReward.source=e.reward.map(function(t,e){var i=t.k,s=t.v,o=N12.gID(i),r=s;return{itemData:{texiao:0==e?TF59.FC9(o.quality):void 0,data:o,ct:r},isBottom:!1}})},t.prototype.ZM93=function(){var t=this.model,e=t.actData.getItemState(this.index);if(e==J13.A2)Log.trace("已领取");else if(e==J13.A3){var i=t.actData.list[this.index];App.CM.apF(O6.A74,PeerlessHero.Const.GET_REWARD,i.index)}else App.CM.apF(O6.C29,P8.A7)},t.prototype.onClickInfo=function(){this.heroData.jxLv=0,this.heroData.skillEvoType?App.CM.apF(O6.C12,O8.A82,this.heroData):App.CM.apF(O6.C12,O8.A62,this.heroData)},t.prototype.onClickFight=function(){App.CM.apF(O6.A74,PeerlessHero.Const.FIGHT)},t.prototype.onClickMove=function(t){var e=t.currentTarget,i=this._index+parseInt(e.name);0<i&&i<this.dataSource.length-1&&this.select(i)},t.prototype.select=function(t,e){var i=this;if(void 0===e&&(e=!1),this._index!=t){egret.Tween.removeTweens(this.listItem);var s=((this._index=t)-1)*this.w;egret.Tween.get(this.listItem).to({scrollH:s},e?1:200).call(function(){return i.GX5(i.model)})}},t}(BaseEuiView);__reflect(PeerlessHeroView.prototype,"PeerlessHeroView"),function(t){var e=function(i){function t(t){var e=i.call(this,t)||this;return e.gold=0,e.s=[],e.list=[],e.updateData(t),e}return __extends(t,i),t.prototype.updateData=function(t){if(t.atmp){var e=t.atmp,r=e.cost.split(",").map(function(t){return parseFloat(t)});e.reward&&(this.list=e.reward.split("|").map(function(t,e){var i=t.split(","),s=i[0],o=i[1];return{index:parseInt(s),reward:P7.str2kv(o,";"),consume:r[e]}})),e.rank&&(this.heroId=parseInt(e.rank))}this.gold=P7.getValue(t.gold,this.gold),this.s=P7.getValue(t.s,this.s)},t.prototype.getItemState=function(t){var e=this.list[t];return e?0<=this.s.indexOf(e.index)?J13.A2:this.gold>=e.consume?J13.A3:J13.A1:J13.A1},t}(ActivityVo);t.ActData=e,__reflect(e.prototype,"PeerlessHero.ActData")}(PeerlessHero||(PeerlessHero={})),function(t){var e=function(){function t(){}return t.SELECT=1e3,t.GET_REWARD=20001,t.GET_REWARD_RES=20002,t.FIGHT=20003,t.FIGHT_RES=20004,t}();t.Const=e,__reflect(e.prototype,"PeerlessHero1.Const")}(PeerlessHero1||(PeerlessHero1={})),function(o){var t=function(s){function t(){var t=s.call(this)||this;App.VM.register(O7.A59,"PeerlessHero1ProfileView",t,K17.UI_Main_TOP);var e=new o.Model(t);e.aLV(O7.I39),e.aLV(O7.I64),e.aLV(TF59.FA34(e.actid)),e.aLV(O7.E67);var i=new o.Proxy(t);return t.rgF(o.Const.GET_REWARD,i.GT95,i),t.rgF(o.Const.GET_REWARD_RES,t.GT91,t),t.rgF(o.Const.FIGHT,i.fight,i),t.rgF(o.Const.FIGHT_RES,t.fightRes,t),t.rgF(o.Const.SELECT,t.onSelect,t),t}return __extends(t,s),t.prototype.gtM=function(){return s.prototype.gtM.call(this)},t.prototype.onSelect=function(t){var e=App.VM.gOV(O7.E67);e&&e.select(t)},t.prototype.GT91=function(t){200!=t.head.state?App.CM.apF(O6.B87,L10.A4,t):(this.gtM().ZC13(t.body).notify(),P5.sIs(t.body.ob))},t.prototype.fightRes=function(t){var e=this;200!=t.head.state?App.CM.apF(O6.B87,L10.A4,t):t.body.rst&&App.CM.apF(O6.B99,N1.A11,t.body.rst,{rewards:t.body.ob,needResult:!1,type:P15.A41},function(){TF59.FE54(e.gtM().actid)},this)},t}(TE11);o.Controller=t,__reflect(t.prototype,"PeerlessHero1.Controller")}(PeerlessHero1||(PeerlessHero1={})),function(e){var t=function(i){function t(t){var e=i.call(this,t)||this;return e.openState=!1,e.redNum=0,e.firstLoginRedNum=0,e}return __extends(t,i),t.prototype.ZC13=function(t){return null!=this.actData?this.actData.updateData(t):this.actData=new e.ActData(t),this.updateRed(),this},t.prototype.updateRed=function(){this.redNum=this.FL35()},t.prototype.FL35=function(){if(this.redNum=0,this.actData)for(var t in this.actData.list)this.actData.getItemState(parseInt(t))==J13.A3&&(this.redNum+=1);return this.redNum},t.prototype.notify=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];i.prototype.notifyView.apply(this,[this].concat(t))},t}(TG79);e.Model=t,__reflect(t.prototype,"PeerlessHero1.Model")}(PeerlessHero1||(PeerlessHero1={})),function(i){var t=function(e){function t(t){return e.call(this,t)||this}return __extends(t,e),t.prototype.GT95=function(t){var e={type:P4.V30,body:{index:t}};this.rSMO(P4.V31,this.GT91,this),this.sSM(e)},t.prototype.GT91=function(t){this.apF(i.Const.GET_REWARD_RES,t)},t.prototype.fight=function(){var t={type:P4.L66,body:{}};this.rSMO(P4.L67,this.fightRes,this),this.sSM(t)},t.prototype.fightRes=function(t){this.apF(i.Const.FIGHT_RES,t)},t}(TG80);i.Proxy=t,__reflect(t.prototype,"PeerlessHero1.Proxy")}(PeerlessHero1||(PeerlessHero1={}));var PeerlessHero1ItemView=function(s){function t(){var t=s.call(this)||this;return t.skinName="PeerlessHeroItemSkin",t.addEventListener(egret.Event.REMOVED_FROM_STAGE,t.remove,t),t}return __extends(t,s),t.prototype.childrenCreated=function(){s.prototype.childrenCreated.call(this),this.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClick,this)},t.prototype.dataChanged=function(){if(s.prototype.dataChanged.call(this),this.visible=!!this.data,this.data){var t=App.CM.gtM(O6.A56);this.imgNew.visible=t.actData.getItemState(this.itemIndex-1)==J13.A3,this.currentState=this.data.select?"selected":"normal";var e=this.data.reward[0];if(e){var i=N12.gID(e.k);this.imgIcon.source=i.icon,this.labName.text=i.name}}},t.prototype.remove=function(){this.removeEventListener(egret.Event.REMOVED_FROM_STAGE,this.remove,this),this.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClick,this)},t.prototype.onClick=function(){this.data&&App.CM.apF(O6.A56,PeerlessHero1.Const.SELECT,this.itemIndex)},t}(eui.ItemRenderer);__reflect(PeerlessHero1ItemView.prototype,"PeerlessHero1ItemView");var PeerlessHero1ProfileView=function(s){function t(t,e){var i=s.call(this,t,e)||this;return i.sGN("release_act1123_2"),i.skinName="PeerlessHeroProfileSkin",i}return __extends(t,s),t.prototype.initUI=function(){this.bgMask.addEventListener(egret.TouchEvent.TOUCH_TAP,this.oCC,this),this.closeBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.oCC,this),this.getBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickGo,this),this.getBtn.label=O3.tr(7704),this.bgImg.source="com_banner_moshifx2_png"},t.prototype.close=function(){this.bgMask.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.oCC,this),this.closeBtn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.oCC,this),this.getBtn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickGo,this),s.prototype.close.call(this)},t.prototype.onClickGo=function(){TF59.FE54(F7.A53),this.oCC()},t.prototype.oCC=function(){App.VM.GY64(this)},t}(BaseEuiView);__reflect(PeerlessHero1ProfileView.prototype,"PeerlessHero1ProfileView");var PeerlessHero1,PeerlessHero1View=function(h){function t(t,e){var i=h.call(this,t,e)||this;return i.w=150,i.sGN("release_act1123"),i.skinName="PeerlessHeroSkin",i}return __extends(t,h),t.prototype.initUI=function(){this.btnFight.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickFight,this),this.btnInfo.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickInfo,this),this.btnShop.addEventListener(egret.TouchEvent.TOUCH_TAP,this.ZM93,this),this.gLeft.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickMove,this),this.gRight.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickMove,this),this.listItem.itemRenderer=PeerlessHero1ItemView,this.listItem.dataProvider=this.dataSource=new eui.ArrayCollection,this.dgReward.itemRenderer=ItemIcon,this.dgReward.dataProvider=this.acReward=new eui.ArrayCollection;var t=this.model,e=t.actData.list.map(function(t){return P7.copyTab(t)});e.push(null),e.unshift(null),this.dataSource.source=e,this.sc.validateNow(),this.heroData=new HeroData(N14.FJ83()[t.actData.heroId]),this.labHeroName.text=this.heroData.name,this.imgBg.source="com_banner_jsshiwua2_jpg",this.sc.addEventListener(eui.UIEvent.CHANGE_START,this.onStart,this),this.sc.addEventListener(eui.UIEvent.CHANGE_END,this.onEnd,this)},Object.defineProperty(t.prototype,"model",{get:function(){return App.CM.gtM(O6.A56)},enumerable:!0,configurable:!0}),t.prototype.open=function(){for(var e=this,t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];h.prototype.open.apply(this,t),this.timer=App.K16.doTimer(1e3,0,this.GX42,this),this.GX42();var s=this.canGetIndex();if(!s)for(var o=this.model.actData,r=o.list.length,n=0,a=1;n<r;n++,a++){if(o.getItemState(n)==J13.A1){s=a;break}}this.select(s||1,!0),App.THH33.aUE(this.gImg,"wj_mc_zm_mslb",-390,-400),App.THH33.aUE(this.gEff,"circle_hong",-45,-45),App.K16.doFrame(1,1,function(){var t=App.VM.gOV(TF59.FA34(F7.A69));t&&t.autoOut&&(e.autoOutVis=t.autoOut.visible,t.autoOut.visible=!1)},this)},t.prototype.canGetIndex=function(){for(var t,e=this.model.actData,i=e.list.length,s=0,o=1;s<i;s++,o++){if(e.getItemState(s)==J13.A3){t=o;break}}return t},t.prototype.close=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.btnFight.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickFight,this),this.btnInfo.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickInfo,this),this.btnShop.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.ZM93,this),this.gLeft.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickMove,this),this.gRight.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickMove,this),this.sc.removeEventListener(eui.UIEvent.CHANGE_START,this.onStart,this),this.sc.removeEventListener(eui.UIEvent.CHANGE_END,this.onEnd,this),this.listItem.removeEventListener(eui.PropertyEvent.PROPERTY_CHANGE,this.updateScroll,this),App.THH33.rEf(this.gImg,"front"),App.THH33.rEf(this.gEff,"circle_hong"),App.K16.rBH(this.timer),this.dataSource.removeAll();var i=App.VM.gOV(TF59.FA34(F7.A69));i&&i.autoOut&&(i.autoOut.visible=this.autoOutVis),delete this.heroData,h.prototype.close.call(this)},t.prototype.uBM=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];h.prototype.uBM.call(this,t,e),t instanceof PeerlessHero1.Model&&this.GX5(t)},Object.defineProperty(t.prototype,"index",{get:function(){if(this._index){var t=this._index-1;return t<0?0:t>this.dataSource.length-3?this.dataSource.length-3:t}return 0},enumerable:!0,configurable:!0}),t.prototype.onStart=function(){this.listItem.addEventListener(eui.PropertyEvent.PROPERTY_CHANGE,this.updateScroll,this)},t.prototype.onEnd=function(){var t=this;this.listItem.removeEventListener(eui.PropertyEvent.PROPERTY_CHANGE,this.updateScroll,this);var e=this.w;egret.Tween.get(this.listItem).to({scrollH:Math.round(this.listItem.scrollH/e)*e},200).call(function(){return t.updateReward(t.model)})},t.prototype.updateScroll=function(t){if("scrollH"==t.property){for(var e=this.w,i=this.listItem.numChildren,s=0,o=Number.MAX_VALUE,r=0;r<i;r+=1){var n=this.listItem.getChildAt(r),a=n.itemIndex*e+e/2-this.listItem.scrollH;Math.abs(225-a)<o&&(s=n.itemIndex,o=Math.abs(225-a))}if(this._index!=s){var h=this.dataSource.source;for(r=0;r<this.dataSource.length;r++)h[r]&&(h[r].select=r==s);this.dataSource.replaceAll(h),this._index=s;var p=this.model;this.updateState(p),this.updateReward(p),this.ZJ89(p)}}},t.prototype.ZJ89=function(t){for(var e=t.actData,i=e.list.length,s=!1,o=!1,r=0;r<this.index-1;r++)if(e.getItemState(r)==J13.A3){s=!0;break}for(r=this.index+2;r<i;r++)if(e.getItemState(r)==J13.A3){o=!0;break}this.imgNewLeft.visible=s,this.imgNewRight.visible=o},t.prototype.GX5=function(t){this.labAmount.textFlow=O3.tr2(7617,t.actData.gold),this.updateList(),this.updateState(t),this.updateReward(t),this.ZJ89(t)},t.prototype.updateState=function(t){var e=t.actData.list[this.index];this.labConsu.textFlow=O3.tr2(7618,e.consume);var i=t.actData.getItemState(this.index);i==J13.A2?this.btnShop.label=O3.tr(903):i==J13.A3?this.btnShop.label=O3.tr(926):this.btnShop.label=O3.tr(7619),this.btnShop.imgNew.visible=i==J13.A3,this.btnShop.touchEnabled=!(i==J13.A2),P16.sGF(this.btnShop,!this.btnShop.touchEnabled)},t.prototype.GX42=function(){var t=this.model;this.labTime.textFlow=O3.tr2(7616,P6.FJ11(1e3*t.actData.ZHH64(),5))},t.prototype.updateList=function(){for(var t=0;t<this.dataSource.length;t++){var e=this.dataSource.source[t];e&&(e.select=this._index==t)}this.dataSource.replaceAll(this.dataSource.source)},t.prototype.updateReward=function(t){var e=t.actData.list[this.index];this.acReward.source=e.reward.map(function(t,e){var i=t.k,s=t.v,o=N12.gID(i),r=s;return{itemData:{texiao:0==e?TF59.FC9(o.quality):void 0,data:o,ct:r},isBottom:!1}})},t.prototype.ZM93=function(){var t=this.model,e=t.actData.getItemState(this.index);if(e==J13.A2)Log.trace("已领取");else if(e==J13.A3){var i=t.actData.list[this.index];App.CM.apF(O6.A56,PeerlessHero1.Const.GET_REWARD,i.index)}else App.CM.apF(O6.C29,P8.A7)},t.prototype.onClickInfo=function(){this.heroData.jxLv=0,this.heroData.skillEvoType?App.CM.apF(O6.C12,O8.A82,this.heroData):App.CM.apF(O6.C12,O8.A62,this.heroData)},t.prototype.onClickFight=function(){App.CM.apF(O6.A56,PeerlessHero1.Const.FIGHT)},t.prototype.onClickMove=function(t){var e=t.currentTarget,i=this._index+parseInt(e.name);0<i&&i<this.dataSource.length-1&&this.select(i)},t.prototype.select=function(t,e){var i=this;if(void 0===e&&(e=!1),this._index!=t){egret.Tween.removeTweens(this.listItem);var s=((this._index=t)-1)*this.w;egret.Tween.get(this.listItem).to({scrollH:s},e?1:200).call(function(){return i.GX5(i.model)})}},t}(BaseEuiView);__reflect(PeerlessHero1View.prototype,"PeerlessHero1View"),function(t){var e=function(i){function t(t){var e=i.call(this,t)||this;return e.gold=0,e.s=[],e.list=[],e.updateData(t),e}return __extends(t,i),t.prototype.updateData=function(t){if(t.atmp){var e=t.atmp,r=e.cost.split(",").map(function(t){return parseFloat(t)});e.reward&&(this.list=e.reward.split("|").map(function(t,e){var i=t.split(","),s=i[0],o=i[1];return{index:parseInt(s),reward:P7.str2kv(o,";"),consume:r[e]}})),e.rank&&(this.heroId=parseInt(e.rank))}this.gold=P7.getValue(t.gold,this.gold),this.s=P7.getValue(t.s,this.s)},t.prototype.getItemState=function(t){var e=this.list[t];return e?0<=this.s.indexOf(e.index)?J13.A2:this.gold>=e.consume?J13.A3:J13.A1:J13.A1},t}(ActivityVo);t.ActData=e,__reflect(e.prototype,"PeerlessHero1.ActData")}(PeerlessHero1||(PeerlessHero1={})),function(t){var e=function(){function t(){}return t.BUY=2001,t.BUY_RES=2002,t}();t.Const=e,__reflect(e.prototype,"RechargeDiscount.Const")}(RechargeDiscount||(RechargeDiscount={})),function(s){var t=function(i){function t(){var t=i.call(this)||this;App.VM.register(O7.C11,"RechargeDiscountView",t,K17.UI_Main_TOP);var e=new s.Model(t);e.aLV(O7.C11),e.aLV(O7.C33),e.aLV(O7.I64);t.proxy=new s.Proxy(t);return t.rgF(s.Const.BUY,t.buy,t),t.rgF(s.Const.BUY_RES,t.buyRes,t),t}return __extends(t,i),Object.defineProperty(t.prototype,"model",{get:function(){return this.gtM()},enumerable:!0,configurable:!0}),t.prototype.buy=function(t,e){this.proxy.buy(t,e)},t.prototype.buyRes=function(t){200==t.head.state?(this.model.ZC13(t.body),this.model.notify(),P5.sIs(t.body.ob)):215==t.head.state?P7.FA78():App.CM.apF(O6.B87,L10.A4,t)},t}(TE11);s.Controller=t,__reflect(t.prototype,"RechargeDiscount.Controller")}(RechargeDiscount||(RechargeDiscount={})),function(e){var t=function(i){function t(t){var e=i.call(this,t)||this;return e.openState=!1,e.redNum=0,e.firstLoginRedNum=1,e}return __extends(t,i),t.prototype.ZC13=function(t){t&&(null!=this.actData?this.actData.updateData(t):this.actData=new e.ActData(t))},t.prototype.updateRed=function(){this.redNum=this.firstLoginRedNum},t.prototype.FL35=function(){return this.updateRed(),this.redNum},t.prototype.notify=function(t){i.prototype.notifyView.call(this,this,t)},t}(TG79);e.Model=t,__reflect(t.prototype,"RechargeDiscount.Model")}(RechargeDiscount||(RechargeDiscount={})),function(e){var t=function(i){function t(t){var e=i.call(this,t)||this;return e.rSM(P4.G81,e.buyRes,e),e}return __extends(t,i),t.prototype.buy=function(t,e){var i={type:P4.G80,body:{id:t,num:e}};this.sSM(i)},t.prototype.buyRes=function(t){this.apF(e.Const.BUY_RES,t)},t}(TG80);e.Proxy=t,__reflect(t.prototype,"RechargeDiscount.Proxy")}(RechargeDiscount||(RechargeDiscount={}));var RechargeDiscountItemView=function(e){function t(){var t=e.call(this)||this;return t.skinName="RechargeDiscountItemSkin",t}return __extends(t,e),t.prototype.childrenCreated=function(){e.prototype.createChildren.call(this),this.initUI(),this.addEventListener(egret.Event.REMOVED_FROM_STAGE,this.remove,this),this.itemIcon.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClick,this)},t.prototype.onClick=function(){P5.FC75(N12.gID(this.data.commodity.k)),TG40.playClickEffect()},t.prototype.remove=function(){this.itemIcon.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClick,this),this.removeEventListener(egret.Event.REMOVED_FROM_STAGE,this.remove,this)},t.prototype.initUI=function(){this.buyBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.clickBuy,this);App.CM.gtM(O6.A67).actData;this.lockLb.visible=!1,this.lblyuanjia.textFlow=M18.HTP.parse(O3.tr(3830)),this.lblxianjia.textFlow=M18.HTP.parse(O3.tr(3832))},t.prototype.hasSkin=function(t,e){return TD5.hasSkin(t,e)},t.prototype.dataChanged=function(){var t=N12.gID(this.data.commodity.k),e=t.id,i=t.name,s=t.skinid,o=t.quality;O5.FB13(this.nameLb,i,o),this.discountLb.text=this.data.discount<=0?O3.tr(6989):O3.tr(3254,this.data.discount),this.limitBuyLb.text=O3.tr(3255,this.data.hasBuy,this.data.limitBuy),this.oldPriceImg.source=N12.FJ86(this.data.oldPrice.k),this.oldPriceLb.textFlow=M18.HTP.parse(O3.tr(3831,this.data.oldPrice.v)),this.nowPriceImg.source=N12.FJ86(this.data.nowPrice.k),this.nowPriceLb.textFlow=M18.HTP.parse(O3.tr(3833,Math.ceil(this.data.oldPrice.v*(this.data.discount/10)))),P16.setIcon(this.itemIcon,t,this.data.commodity.v,{showName:!1}),this.data.hasBuy>=this.data.limitBuy?(P16.sGF(this.buyBtn,!0),this.buyBtn.$setEnabled(!1),this.buyBtn.label=O3.tr(3295)):!App.TG81.inRange(66900,66999,parseInt(e),!0)&&this.hasSkin(e,s)?(P16.sGF(this.buyBtn,!0),this.buyBtn.$setEnabled(!1),this.buyBtn.label=O3.tr(3834)):(P16.sGF(this.buyBtn,!1),this.buyBtn.$setEnabled(!0),this.buyBtn.label=O3.tr(3294)),this.resetImg.$setVisible(0==this.data.reset)},t.prototype.clickBuy=function(){var t={};t.controllerConst=O6.A20,t.reqConst=RechargeDiscount.Const.BUY,t.id=this.data.index;var e=this.data.commodity.k,i=this.data.commodity.v;t.itemname=N12.FK5(e),t.bg=N12.FL5(e),t.icon=N12.FJ86(e),t.itemid=Number(e),t.itemnum=Number(i);var s=N12.gID(e);t.desc=s.desc;var o=this.data.nowPrice.k,r=Math.ceil(this.data.oldPrice.v*(this.data.discount/10));t.costIcon=N12.FJ86(o),t.costNum=Number(r),t.costId=Number(o),t.cost="x"+r,t.limitnum=this.data.limitBuy,t.batchnum=this.data.limitBuy,t.buyTime=this.data.hasBuy,this.data.hasBuy<this.data.limitBuy?(t.soldout=0,t.txt=O3.tr(2508,this.data.hasBuy,this.data.limitBuy),App.VM.open(O7.I45,t)):P18.sDP(O3.tr(5649)),TG40.playClickEffect()},t}(eui.ItemRenderer);__reflect(RechargeDiscountItemView.prototype,"RechargeDiscountItemView");var RechargeDiscount,RechargeDiscountView=function(s){function t(t,e){var i=s.call(this,t,e)||this;return i.autoOutVis=!1,i.skinName="RechargeDiscountSkin",i}return __extends(t,s),t.prototype.createList=function(){var t={render:RechargeDiscountItemView,width:this.listGroup.width,height:this.listGroup.height,arrowScale:1,tileLayout:!0,verticalGap:10,horizontalGap:8};this.listView=new CommonListBase(t),this.listGroup.addChild(this.listView),this.listView.verticalCenter=0,this.listView.horizontalCenter=0},Object.defineProperty(t.prototype,"model",{get:function(){return App.CM.gtM(O6.A20)},enumerable:!0,configurable:!0}),t.prototype.initUI=function(){var r=this;s.prototype.initUI.call(this),this.createList(),this.btnGo.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClick,this),this.labTr6980.textFlow=O3.tr2(6980),this.labTr6984.textFlow=O3.tr2(6984),this.labTr6985.textFlow=O3.tr2(6985),this.btnGo.label=O3.tr(6979);var t=this.model;this.pbAmount.labelDisplay.visible=!1,t.actData.nodes.forEach(function(t,e){var i=r.gP.getChildAt(e+1),s=i.labDiscount,o=i.labAmount;s.text="减"+t.k,o.text=""+t.v})},t.prototype.open=function(){for(var e=this,t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];s.prototype.open.call(this),this.listView.open(),this.GX5(this.model),this.countdown(),App.K16.doTimer(1e3,0,this.countdown,this),App.K16.doFrame(1,1,function(){var t=App.VM.gOV(TF59.FA34(F7.A21));t&&t.autoOut&&(e.autoOutVis=t.autoOut.visible,t.autoOut.visible=!1)},this)},t.prototype.uBM=function(t){t instanceof RechargeDiscount.Model&&this.GX5(t)},t.prototype.close=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.btnGo.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClick,this),App.K16.removeAll(this);var i=App.VM.gOV(TF59.FA34(F7.A21));i&&i.autoOut&&(i.autoOut.visible=this.autoOutVis),this.listView.close(),s.prototype.close.call(this)},t.prototype.GX5=function(e){this.listView.rfL(e.actData.itemList.map(function(t){return{reset:t.reset,hasBuy:e.actData.getBuyCount(t.index),limitBuy:t.limit,index:t.index,discount:Math.max(0,t.discount-e.actData.discount),commodity:{k:t.itemid,v:t.count},oldPrice:{k:75e3,v:t.op},nowPrice:{k:75e3,v:t.cp}}})),this.updatePB(e)},t.prototype.updatePB=function(t){for(var e=[],i=1;i<=4;i++){var s=this.gP.getChildAt(i);e.push(s.x)}this.pbAmount.maximum=this.gP.width;var o,r=t.actData.g,n=t.actData.nodes,a=0;for(o=n.length-1;0<=o&&!(r>=n[o].v);o-=1);if(o>=e.length-1)a=this.pbAmount.maximum;else{var h=n[o]?n[o].v:0,p=e[o]?e[o]:0;a=p+(r-h)/(n[o+1].v-h)*(e[o+1]-p)}this.pbAmount.value=a,this.labAmount.textFlow=O3.tr2(6978,r);var l=n[o]?n[o].k:0,c=this.gDiscount.layout;if(this.labDiscount2.text="",l==Math.floor(l))c.gap=0,this.labDiscount1.text=l.toString();else{c.gap=-14;var u=l.toFixed(1).split("."),d=u[0],v=u[1];this.labDiscount1.text=d,this.labDiscount2.text="."+v}},t.prototype.countdown=function(){this.labTr6983.textFlow=O3.tr2(6983,P6.FJ11(1e3*this.model.actData.ZHH64(),5))},t.prototype.onClick=function(){App.CM.apF(O6.C29,P8.A7)},t}(BaseEuiView);__reflect(RechargeDiscountView.prototype,"RechargeDiscountView"),function(t){var e=function(i){function t(t){var e=i.call(this,t)||this;return e.itemList=[],e.nodes=[],e.b=[],e.g=0,e.discount=0,e.updateData(t),e}return __extends(t,i),t.prototype.initData=function(t){var l=this;t.atmp&&(this.itemList=[],t.atmp.reward.split("|").map(function(t){if(t){var e=t.split(","),i=e[0],s=e[1],o=e[2],r=e[3],n=e[4],a=e[5],h=e[6],p=P7.str2kv1(h,":");l.itemList.push({index:parseFloat(i),op:parseFloat(s),cp:parseFloat(o),discount:parseFloat(r),limit:parseFloat(n),reset:parseFloat(a),itemid:p.k,count:p.v})}}),this.nodes=P7.str2kv(t.atmp.cost,";",","))},t.prototype.updateData=function(t){if(t){this.initData(t),this.g=null==t.g?this.g:t.g,this.b=null==t.b?this.b:t.b,this.discount=0;for(var e=this.nodes.length-1;0<=e;e-=1)if(this.g>this.nodes[e].v){this.discount=this.nodes[e].k;break}}},t.prototype.getBuyCount=function(t){for(var e=0,i=this.b;e<i.length;e++){var s=i[e];if(s.k==t)return s.v}return 0},t}(ActivityVo);t.ActData=e,__reflect(e.prototype,"RechargeDiscount.ActData")}(RechargeDiscount||(RechargeDiscount={}));var TE33=function(){function e(){}return e.FK35=function(t){e.init=t.zhuanpan_init,e.jackpot=t.zhuanpan_jackpot,TE91.FC40()},e.gIV=function(t){var e;return this.init?e=this.init[t].value:e},e.FF73=function(){e.new_jackpot={}},e}();__reflect(TE33.prototype,"TE33");var J9=function(){function t(){}return t.A2=0,t.A1=1,t.A3=2,t.A4=3,t}();__reflect(J9.prototype,"J9");var TC4=function(i){function t(){var t=i.call(this)||this,e=new TF14(t);return e.aLV(O7.F63),e.aLV(O7.I64),App.VM.register(O7.F63,"ShiWTurnView",t,K17.UI_Main),t.rgF(J9.A2,t.GM26,t),t.rgF(J9.A1,t.GK54,t),t.proxy=new TF15(t),t.rgF(J9.A3,t.proxy.getGift,t.proxy),t.rgF(J9.A4,t.GO20,t),t}return __extends(t,i),t.prototype.GO20=function(t){if(200==t.head.state){var e=t.body,i=this.gtM();i.ZC13(e),i.notify(P4.G7)}else App.CM.apF(O6.B87,L10.A4,t)},t.prototype.GM26=function(){App.VM.open(O7.F63)},t.prototype.GK54=function(){App.VM.close(O7.F63)},t}(TE11);__reflect(TC4.prototype,"TC4");var TF14=function(i){function t(t){var e=i.call(this,t)||this;return e.openState=!1,e.isOpenView=!1,e}return __extends(t,i),t.prototype.ZC13=function(t){t&&(null!=this.actData?this.actData.ZU63(t):this.actData=new ShiWTurnData(t))},t.prototype.updateRed=function(){},t.prototype.FL35=function(){return this.canGet()?1:0},t.prototype.notify=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];i.prototype.notifyView.apply(this,[this].concat(t))},t.prototype.canGet=function(){return 0<this.actData.ln},t}(TG79);__reflect(TF14.prototype,"TF14");var TF15=function(e){function t(t){return e.call(this,t)||this}return __extends(t,e),t.prototype.getGift=function(){var t={type:P4.G6,body:{}};this.sSM(t),this.rSMO(P4.G7,this.ZQ34,this)},t.prototype.ZQ34=function(t){this.apF(J9.A4,t)},t}(TG80);__reflect(TF15.prototype,"TF15");var ShiWTurnRecordItem=function(s){function t(){var t=s.call(this)||this;return t.skinName="ShiWTurnRecordItemSkin",t}return __extends(t,s),t.prototype.childrenCreated=function(){s.prototype.childrenCreated.call(this)},t.prototype.dataChanged=function(){s.prototype.dataChanged.call(this);var t=this.data,e=N12.FK5(t.i.k),i=1==t.i.v?"":"*"+t.i.v;this.lbRecord.textFlow=O3.tr2(8688,t.sn,t.n,e+i)},t}(eui.ItemRenderer);__reflect(ShiWTurnRecordItem.prototype,"ShiWTurnRecordItem");var ShiWTurnView=function(s){function t(t,e){var i=s.call(this,t,e)||this;return i.skinName="ShiWTurnSkin",i}return __extends(t,s),t.prototype.initUI=function(){this.imgBrightS=[this.imgBright0,this.imgBright1,this.imgBright2,this.imgBright3,this.imgBright4,this.imgBright5,this.imgBright6,this.imgBright7],this.imgItemS=[this.imgItem0,this.imgItem1,this.imgItem2,this.imgItem3,this.imgItem4,this.imgItem5,this.imgItem6,this.imgItem7],this.grpNameS=[this.grpName0,this.grpName1,this.grpName2,this.grpName3,this.grpName4,this.grpName5,this.grpName6,this.grpName7],this.records.dataProvider=this.dataSource=new eui.ArrayCollection,this.records.itemRenderer=ShiWTurnRecordItem,this.lbstr.text=O3.tr(8692);var t=O3.tr(8691);this.wayBtn.textFlow=new Array({text:t,style:{underline:!0}})},t.prototype.open=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];s.prototype.open.call(this),this.brightIdx=0,this.isTurn=!1,this.isClick=!1,this.imgBright0.visible=!0,this.tweenHandler=App.K16.doTimer(1e3,0,this.tweenH,this);var i=App.CM.gtM(O6.B61);this.ZC22(i),this.ZQ45(i.actData.sl),this.bgMask.addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.ZU41,this),this.closeBtn.addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.ZU41,this),this.getBtn.addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.getBtnEvent,this),this.wayBtn.addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.wayBtnEvent,this)},t.prototype.close=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];s.prototype.close.call(this),this.dataSource.removeAll(),this.bgMask.removeEventListener(egret.TouchEvent.TOUCH_BEGIN,this.ZU41,this),this.closeBtn.removeEventListener(egret.TouchEvent.TOUCH_BEGIN,this.ZU41,this),this.getBtn.removeEventListener(egret.TouchEvent.TOUCH_BEGIN,this.getBtnEvent,this),this.wayBtn.removeEventListener(egret.TouchEvent.TOUCH_BEGIN,this.wayBtnEvent,this)},t.prototype.uBM=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];s.prototype.uBM.call(this,t,e),t instanceof TF14&&(e[0]==P4.G7&&(this.isClick=!1,this.getGiftEvent()),this.ZC22(t))},t.prototype.ZC22=function(t){if(this.lbTurnN.textFlow=O3.tr2(8689,t.actData.ln),this.dataSource.source=t.actData.rrl,null==this.timerHandler)if(0<t.actData.rs){this.leftCD=t.actData.ZHH64();var e=O3.tr(8690,P6.FJ11(1e3*this.leftCD,5));this.cdLb.textFlow=M18.HTP.parse(e),this.timerHandler=App.K16.doTimer(1e3,this.leftCD,this.GY14,this)}else this.cdLb.text=""},t.prototype.wayBtnEvent=function(){var t={title:O3.tr(8693),content:O3.tr(8694)};App.CM.apF(O6.C18,O10.A24,t)},t.prototype.getBtnEvent=function(){this.isClick||(this.isClick=!0,this.isTurn||App.CM.apF(O6.B61,J9.A3))},t.prototype.getGiftEvent=function(){if(!this.isTurn){var t=this.getTurnNum();this.isTurn=!0,this.turnHandler=App.K16.doTimer(50,t[0],this.turnH,this,this.turnFinish.bind(this,t[1]),this)}},t.prototype.turnFinish=function(t){var e=100*(this.turnF1-t)+50;0<t?this.turnHandler=App.K16.doTimer(e,1,this.turnH,this,this.turnFinish.bind(this,t-1),this):this.turnFinish1()},t.prototype.turnFinish1=function(){this.turnHandler=App.K16.doTimer(100,6,this.turnH1,this,this.turnWait,this)},t.prototype.turnWait=function(){var t=this,e=App.CM.gtM(O6.B61);App.VM.open(O7.B22,e.actData.ob),egret.Tween.get(this).wait(1e3).call(function(){null!=t.turnHandler&&(App.K16.rBH(t.turnHandler),t.turnHandler=null),t.isTurn=!1}).pause()},t.prototype.getTurnNum=function(){var t=App.CM.gtM(O6.B61),e=0;for(var i in t.actData.sl){t.actData.sl[i].id==t.actData.idx&&(e=Number(i))}var s=(e+8-this.brightIdx)%8,o=Math.floor(2*Math.random()+4),r=Math.floor(4*Math.random()+4),n=r;return[8*o-r+s,this.turnF1=n]},t.prototype.ZU41=function(){App.VM.close(O7.F63)},t.prototype.GY14=function(){this.leftCD--;var t=O3.tr(8690,P6.FJ11(1e3*this.leftCD,5));this.cdLb.textFlow=M18.HTP.parse(t),this.leftCD<=0&&(this.cTH(),this.cdLb.text="")},t.prototype.tweenH=function(){if(!this.isTurn){for(var t in this.imgBrightS)this.imgBrightS[t].visible=!1;this.brightIdx=(this.brightIdx+1)%this.imgBrightS.length,this.imgBrightS[this.brightIdx].visible=!0}},t.prototype.turnH=function(){if(this.isTurn){for(var t in this.imgBrightS)this.imgBrightS[t].visible=!1;this.brightIdx=(this.brightIdx+1)%this.imgBrightS.length,this.imgBrightS[this.brightIdx].visible=!0}},t.prototype.turnH1=function(){this.imgBrightS[this.brightIdx].visible=!this.imgBrightS[this.brightIdx].visible},t.prototype.cTH=function(){null!=this.timerHandler&&(App.K16.rBH(this.timerHandler),this.timerHandler=null),null!=this.turnHandler&&(App.K16.rBH(this.turnHandler),this.turnHandler=null)},t.prototype.ZQ45=function(t){for(var e in t){var i=N12.gID(t[e].i.k),s=i.name+"*"+t[e].i.v;this.setGrpName(s,this.grpNameS[e]),this.imgItemS[e].setData(i)}},t.prototype.setGrpName=function(t,e){var i=this.ZQ46(t),s=t.split("");for(var o in i){var r=new eui.Label;r.rotation=i[o],r.text=s[o],r.textColor=8667431,r.size=22;r.height=253;var n=s[o].match(/^[*-*]+$/)?15:10;r.y=253+n,r.anchorOffsetY=253,r.anchorOffsetX=r.width/2,r.touchEnabled=!1,e.addChild(r)}},t.prototype.ZQ46=function(t){t.length;var e,i=t.length,s=t.split(""),o=[];o[0]=0;for(var r=1;r<i;r++){var n=this.done(s[r])&&this.done(s[r-1])?3:this.done(s[r])||this.done(s[r-1])?4.5:5.5;o[r]=o[r-1]+n}for(var r in e=(o[0]+o[i-1])/2,o)o[r]-=e;return o},t.prototype.done=function(t){return!!t.match(/^[0-9A-Za-z*-*]+$/)},t}(BaseEuiView);__reflect(ShiWTurnView.prototype,"ShiWTurnView");var ShiWTurnData=function(i){function t(t){var e=i.call(this,t)||this;return e.ZU63(t),e}return __extends(t,i),t.prototype.ZU63=function(t){if(i.prototype.ZU63.call(this,t),this.sl=t.sl?t.sl:this.sl,this.ln=0<=t.ln?t.ln:this.ln,this.rrl=t.rrl?t.rrl:this.rrl,this.idx=0<=t.idx?t.idx:this.idx,this.ob=t.ob?t.ob:this.ob,this.s=0<=t.s?t.s:this.s,t.rrl)for(var e in this.rrl=[],t.rrl)this.rrl.unshift(t.rrl[e]);t.rr&&this.getrrlList(t.rr)},t.prototype.getrrlList=function(t){if(this.rrl){var e=this.rrl,i=t;e.unshift(i),e.length>this.s?this.rrl=e.slice(0,this.s):this.rrl=e}else this.rrl=[],this.rrl.push(t)},t}(ActivityVo);__reflect(ShiWTurnData.prototype,"ShiWTurnData"),function(t){var e=function(){function t(){}return t.GET=2001,t.GET_RES=2002,t}();t.Const=e,__reflect(e.prototype,"SingleRechargeGift.Const")}(SingleRechargeGift||(SingleRechargeGift={})),function(o){var t=function(s){function t(){var t=s.call(this)||this;App.VM.register(O7.C12,"SingleRechargeGiftView",t,K17.UI_Main_TOP);var e=new o.Model(t);e.aLV(O7.C12),e.aLV(O7.C33),e.aLV(O7.I64);var i=t.proxy=new o.Proxy(t);return t.rgF(o.Const.GET,i.get,i),t.rgF(o.Const.GET_RES,t.getRes,t),t}return __extends(t,s),Object.defineProperty(t.prototype,"model",{get:function(){return this.gtM()},enumerable:!0,configurable:!0}),t.prototype.getRes=function(t){200==t.head.state?(this.model.ZC13(t.body),this.model.notify(),P5.sIs(t.body.ob)):App.CM.apF(O6.B87,L10.A4,t)},t}(TE11);o.Controller=t,__reflect(t.prototype,"SingleRechargeGift.Controller")}(SingleRechargeGift||(SingleRechargeGift={})),function(e){var t=function(i){function t(t){var e=i.call(this,t)||this;return e.openState=!1,e.redNum=0,e.firstLoginRedNum=1,e}return __extends(t,i),t.prototype.ZC13=function(t){t&&(null!=this.actData?this.actData.updateData(t):this.actData=new e.ActData(t))},t.prototype.updateRed=function(){var e=this;this.redNum=this.firstLoginRedNum,this.actData&&this.actData.cf.forEach(function(t){1==e.actData.getState(t.index)&&(e.redNum+=1)})},t.prototype.FL35=function(){return this.updateRed(),this.redNum},t.prototype.notify=function(t){i.prototype.notifyView.call(this,this,t)},t}(TG79);e.Model=t,__reflect(t.prototype,"SingleRechargeGift.Model")}(SingleRechargeGift||(SingleRechargeGift={})),function(e){var t=function(i){function t(t){var e=i.call(this,t)||this;return e.rSM(P4.I51,e.getRes,e),e}return __extends(t,i),t.prototype.get=function(t){var e={type:P4.I50,body:{index:t}};this.sSM(e)},t.prototype.getRes=function(t){this.apF(e.Const.GET_RES,t)},t}(TG80);e.Proxy=t,__reflect(t.prototype,"SingleRechargeGift.Proxy")}(SingleRechargeGift||(SingleRechargeGift={}));var SingleRechargeGiftItemView=function(i){function t(){var t=i.call(this)||this;return t.skinName="SingleRechargeGiftItemSkin",t}return __extends(t,i),t.prototype.childrenCreated=function(){i.prototype.childrenCreated.call(this),this.addEventListener(egret.Event.REMOVED_FROM_STAGE,this.onDestroy,this),this.btn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClick,this),this.dgAward.dataProvider=this.dataSource=new eui.ArrayCollection,this.dgAward.itemRenderer=ItemIcon},t.prototype.dataChanged=function(){i.prototype.dataChanged.call(this),this.labTitle.textFlow=O3.tr2(7087,this.data.data.money),this.imgGetd.visible=this.gb.visible=!1,this.labTips.textFlow=O3.tr2(7030,this.data.data.limit-this.data.count,this.data.data.limit),3==this.data.state?this.imgGetd.visible=!0:(this.gb.visible=!0,this.btn.label=O3.tr(1==this.data.state?7028:7029),this.btn.imgNew.visible=1==this.data.state,1==this.data.state&&(this.labTips.textFlow=O3.tr2(7047,this.data.finishCount-this.data.count)));var e=!0;P7.FM14()&&(e=!1),this.dataSource.source=this.data.data.awards.map(function(t){return{itemData:{data:N12.gID(t.k),ct:t.v},isBottom:e}})},t.prototype.onDestroy=function(){this.dataSource.removeAll(),this.removeEventListener(egret.Event.REMOVED_FROM_STAGE,this.onDestroy,this),this.btn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClick,this)},t.prototype.onClick=function(){1==this.data.state?P7.FF59()&&App.CM.apF(O6.A6,SingleRechargeGift.Const.GET,this.data.data.index):P18.sDP(O3.tr(7048))},t}(eui.ItemRenderer);__reflect(SingleRechargeGiftItemView.prototype,"SingleRechargeGiftItemView");var SingleRechargeGift,SingleRechargeGiftView=function(s){function t(t,e){var i=s.call(this,t,e)||this;return i.skinName="SingleRechargeGiftSkin",i}return __extends(t,s),t.prototype.initUI=function(){s.prototype.initUI.call(this),this.list=new CommonListBase({render:SingleRechargeGiftItemView,gap:5,width:this.glist.width,height:this.glist.height,arrowScale:1}),this.glist.addChild(this.list),this.btn.label=O3.tr(7032),this.btn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClick,this)},Object.defineProperty(t.prototype,"model",{get:function(){return App.CM.gtM(O6.A6)},enumerable:!0,configurable:!0}),t.prototype.uBM=function(t){t instanceof SingleRechargeGift.Model&&this.updateList(t)},t.prototype.open=function(){for(var e=this,t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];s.prototype.open.apply(this,t),this.list.open(),this.updateList(this.model),this.countdown(),App.K16.doTimer(1e3,0,this.countdown,this),App.K16.doFrame(1,1,function(){var t=App.VM.gOV(TF59.FA34(F7.A5));t&&t.autoOut&&(e.autoOutVis=t.autoOut.visible,t.autoOut.visible=!1)},this)},t.prototype.close=function(){this.btn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClick,this),App.K16.removeAll(this);var t=App.VM.gOV(TF59.FA34(F7.A5));t&&t.autoOut&&(t.autoOut.visible=this.autoOutVis),this.list.close(),s.prototype.close.call(this)},t.prototype.updateList=function(r){this.list.rfL(r.actData.cf.map(function(t){var e=r.actData.getState(t.index),i=Math.min(t.limit,r.actData.getCount(t.index)),s=Math.min(t.limit,r.actData.ZQ47(t.index)),o=t.index;return 1==e?o-=15:3==e&&(o+=15),{w:o,state:e,data:t,finishCount:s,count:i}}).sort(function(t,e){return t.w-e.w}))},t.prototype.countdown=function(){var t=this.model.actData.ZHH64();this.labTime.textFlow=O3.tr2(3253,P6.FJ11(1e3*t,5))},t.prototype.onClick=function(){App.CM.apF(O6.C29,P8.A7)},t}(BaseEuiView);__reflect(SingleRechargeGiftView.prototype,"SingleRechargeGiftView"),function(t){var e=function(i){function t(t){var e=i.call(this,t)||this;return e.cf=[],e.gc={},e.rc={},e.updateData(t),e}return __extends(t,i),t.prototype.updateData=function(t){this.cf=null==t.cf?this.cf:t.cf,this.gc=null==t.gc?this.gc:t.gc,this.rc=null==t.rc?this.rc:t.rc},t.prototype.getState=function(t){var e=this.ZQ47(t);if(0==e)return 0;var i=this.getCount(t);return i>=this.getData(t).limit?3:i<e?1:2},t.prototype.getData=function(t){for(var e=0,i=this.cf;e<i.length;e++){var s=i[e];if(s.index==t)return s}},t.prototype.getCount=function(t){return this.gc[t]?this.gc[t]:0},t.prototype.ZQ47=function(t){return this.rc[t]?this.rc[t]:0},t}(ActivityVo);t.ActData=e,__reflect(e.prototype,"SingleRechargeGift.ActData")}(SingleRechargeGift||(SingleRechargeGift={}));var HH3=function(){function t(){}return t.A4=10001,t.A3=10002,t.A1=10003,t.A2=10004,t}();__reflect(HH3.prototype,"HH3");var TB55=function(i){function t(){var t=i.call(this)||this;t.spendGiftProxy=new TE35(t);var e=new TE34(t);return e.aLV(O7.D39),e.aLV(O7.C32),e.aLV(O7.D86),e.aLV(O7.C33),e.aLV(O7.I64),e.aLV(O7.HH62),App.VM.register(O7.HH62,"SpendGiftView",t,K17.UI_Main),t.rgF(HH3.A4,t.GK55,t),t.rgF(HH3.A3,t.GI59,t),t.rgF(HH3.A1,t.GT95,t),t.rgF(HH3.A2,t.GT91,t),t}return __extends(t,i),t.prototype.GK55=function(){App.VM.open(O7.HH62);var t=this.gtM();t.firstLoginRedNum=0,t.notify()},t.prototype.GI59=function(){App.VM.close(O7.HH62)},t.prototype.GT95=function(t){this.spendGiftProxy.GT95(t)},t.prototype.GT91=function(t){if(200==t.head.state){var e=t.body,i=this.gtM();i.ZC13(e),i.notify(),P5.sIs(t.body.ob)}else App.CM.apF(O6.B87,L10.A4,t)},t}(TE11);__reflect(TB55.prototype,"TB55");var TE34=function(i){function t(t){var e=i.call(this,t)||this;return e.openState=!1,e.redNum=0,e.firstLoginRedNum=0,e}return __extends(t,i),t.prototype.ZC13=function(t){t&&(null!=this.spendGiftData?this.spendGiftData.updateData(t):(this.spendGiftData=new SpendGiftData(t),this.tips=this.spendGiftData.tips),this.updateRed())},t.prototype.updateRed=function(){this.redNum=this.FL35()},t.prototype.FL35=function(){var t=0;t+=this.firstLoginRedNum;var e=this.spendGiftData.spendGiftConfVo;for(var i in e)if(e[i].getState==J13.A3){t+=1;break}return t},t.prototype.notify=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];i.prototype.notifyView.apply(this,[this].concat(t))},t}(TG79);__reflect(TE34.prototype,"TE34");var TE35=function(e){function t(t){return e.call(this,t)||this}return __extends(t,e),t.prototype.GT95=function(t){var e={type:P4.B29,body:{target:t}};this.rSMO(P4.B30,this.GT91,this),this.sSM(e)},t.prototype.GT91=function(t){this.apF(HH3.A2,t)},t}(TG80);__reflect(TE35.prototype,"TE35");var SpendGiftItemView=function(e){function t(){var t=e.call(this)||this;return t.skinName=SpendGiftItemSkin,t.addEventListener(egret.Event.ADDED_TO_STAGE,t.open,t),t.addEventListener(egret.Event.REMOVED_FROM_STAGE,t.close,t),t}return __extends(t,e),t.prototype.open=function(){this.getBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickBtn,this)},t.prototype.close=function(){this.getBtn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickBtn,this),this.dataSource.removeAll()},t.prototype.childrenCreated=function(){e.prototype.createChildren.call(this),this.initUI()},t.prototype.initUI=function(){this.listContent.itemRenderer=ItemIcon,this.dataSource=new eui.ArrayCollection,this.listContent.dataProvider=this.dataSource,this.awardsSc.viewport=this.listContent,this.awardsSc.scrollPolicyH=eui.ScrollPolicy.ON,this.awardsSc.scrollPolicyV=eui.ScrollPolicy.OFF,this.getBtn.label=O3.tr(3884)},t.prototype.dataChanged=function(){e.prototype.dataChanged.call(this);var t=App.CM.gtM(O6.B20).spendGiftData.hasRecharge;switch(this.lbNum.textFlow=M18.HTP.parse(O3.tr(3883,this.data.id+"")),this.ZJ81(this.data.awd),this.lbNo.visible=!1,this.getBtn.visible=!1,this.getImg.visible=!1,this.img.visible=(this.itemIndex+1)%2==0,this.data.getState){case J13.A3:this.getBtn.visible=!0,P7.FD53(this.getBtn,1);break;case J13.A1:this.lbNo.visible=!0,this.lbNum.textColor=15058860,this.lbNo.textFlow=M18.HTP.parse(O3.tr(3346,this.data.id-t));break;case J13.A2:this.getImg.visible=!0}},t.prototype.ZJ81=function(t){var e=[];for(var i in t){var s={itemData:{data:N12.gID(t[i].k),ct:t[i].v},isBottom:!1};e.push(s)}this.dataSource.replaceAll(e)},t.prototype.onClickBtn=function(){this.data.getState==J13.A3&&App.CM.apF(this.data.controllerConst,this.data.reqConst,this.data.id)},t}(eui.ItemRenderer);__reflect(SpendGiftItemView.prototype,"SpendGiftItemView");var SpendGiftView=function(s){function t(t,e){var i=s.call(this,t,e)||this;return i.skinName=SpendGiftSkin,i}return __extends(t,s),t.prototype.initUI=function(){s.prototype.initUI.call(this),this.banner.source="v1_bg_qiandaofl13_jpg",this.scContent.viewport=this.itemList,this.itemList.dataProvider=this.myCollection=new eui.ArrayCollection,this.itemList.itemRenderer=SpendGiftItemView,this.scContent.scrollPolicyH=eui.ScrollPolicy.OFF,this.upArrow.visible=!1,this.downArrow.visible=!1,this.proBar.slideDuration=0,this.btnShop.label=O3.tr(3882)},t.prototype.open=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];s.prototype.open.call(this),this.btnShop.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickBtn,this),this.upArrow.addEventListener(egret.TouchEvent.TOUCH_TAP,this.doUpArrow,this),this.downArrow.addEventListener(egret.TouchEvent.TOUCH_TAP,this.doDownArrow,this),this.scContent.addEventListener(eui.UIEvent.CHANGE_END,this.endScroller,this),this.scContent.addEventListener(eui.UIEvent.CHANGE,this.updateBar,this);var i=App.CM.gtM(O6.B20);this.ZC23(i)},t.prototype.uBM=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];s.prototype.uBM.call(this,t,e),t instanceof TE34&&this.ZC23(t)},t.prototype.ZC23=function(t){this.spendGiftData=t.spendGiftData;var e=O3.tr(3345,this.spendGiftData.hasRecharge);if(this.missionLb.textFlow=M18.HTP.parser(e),!this.timerHandler){this.leftCD=t.spendGiftData.ZHH64();var i=P6.FJ11(1e3*this.leftCD,5);this.cdLb.textFlow=M18.HTP.parser(O3.tr(3329,i)),this.timerHandler=App.K16.doTimer(1e3,this.leftCD,this.GY14,this)}var s=this.spendGiftData.spendGiftConfVo;this.myCollection.replaceAll(s),this.endScroller(),this.getProBarVal(t)},t.prototype.getProBarVal=function(t){var e=this.spendGiftData.spendGiftConfVo,i=e[e.length-1].id,s=this.itemList.contentHeight-50;this.proBar.maximum=s,this.proBar.width=s;t.spendGiftData.hasRecharge<i&&t.spendGiftData.hasRecharge;var o=0,r=t.spendGiftData.hasRecharge;if(t.spendGiftData.hasRecharge>=i)o=s;else for(var n=0;n<e.length;n++)if(0==n)e[n].id<=r?o+=25:o+=r/e[n].id*25;else if(e[n].id<=r){if(o+=100,e[n].id==r)break}else o+=r/e[n].id*100;this.proBar.value=o},t.prototype.GY14=function(){this.leftCD--;var t=O3.tr(3253,P6.FJ11(1e3*this.leftCD,5));this.cdLb.textFlow=M18.HTP.parser(t),this.leftCD<=0&&(this.cTH(),this.cdLb.text="")},t.prototype.cTH=function(){null!=this.timerHandler&&(App.K16.rBH(this.timerHandler),this.timerHandler=null)},t.prototype.onClickBtn=function(){TG84.FM16(1718)},t.prototype.doUpArrow=function(){var t=this.itemList.scrollV-this.itemList.height;this.itemList.scrollV=t<0?0:t,this.endScroller()},t.prototype.updateBar=function(){this.proBar.y=27-this.itemList.scrollV},t.prototype.endScroller=function(){this.scContent.validateNow(),this.upArrow.visible=!(this.itemList.scrollV<=0),this.itemList.contentHeight<=this.itemList.height?this.downArrow.visible=!1:this.itemList.height+this.itemList.scrollV>=this.itemList.contentHeight?this.downArrow.visible&&(this.downArrow.visible=!1):this.downArrow.visible=!0},t.prototype.doDownArrow=function(){var t=this.itemList.scrollV+this.itemList.height;t+this.itemList.height>=this.itemList.contentHeight?this.itemList.scrollV=this.itemList.contentHeight-this.itemList.height:this.itemList.scrollV=t,this.endScroller()},t.prototype.close=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];s.prototype.close.call(this),this.btnShop.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickBtn,this),this.upArrow.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.doUpArrow,this),this.downArrow.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.doDownArrow,this),this.scContent.removeEventListener(eui.UIEvent.CHANGE_END,this.endScroller,this),this.scContent.removeEventListener(eui.UIEvent.CHANGE,this.updateBar,this),this.cTH(),this.myCollection&&this.myCollection.removeAll()},t}(BaseEuiView);__reflect(SpendGiftView.prototype,"SpendGiftView");var SpendGiftConfVo=function(){function t(t){this.getState=J13.A1,this.controllerConst=O6.B20,this.reqConst=HH3.A1,this.initData(t)}return t.prototype.initData=function(t){t&&(this.id=t.t,this.awd=t.rw)},t}();__reflect(SpendGiftConfVo.prototype,"SpendGiftConfVo");var SpendGiftData=function(i){function t(t){var e=i.call(this,t)||this;return e.spendGiftConfVo=[],e.hasGotList=[],e.hasRecharge=0,e.updateData(t),e}return __extends(t,i),t.prototype.updateData=function(t){if(t){if(this.hasGotList=t.alGet||this.hasGotList,this.hasRecharge=null==t.cost?this.hasRecharge:t.cost,t.rwl){null!=this.spendGiftConfVo&&0<this.spendGiftConfVo.length&&this.spendGiftConfVo.splice(0,this.spendGiftConfVo.length),this.spendGiftConfVo=[];for(var e=0;e<t.rwl.length;e++){var i=new SpendGiftConfVo(t.rwl[e]);this.spendGiftConfVo.push(i)}}if(0<this.hasGotList.length)for(var e in this.spendGiftConfVo)for(var s in this.hasGotList)this.spendGiftConfVo[e].id==this.hasGotList[s]&&(this.spendGiftConfVo[e].getState=J13.A2);for(var e in this.spendGiftConfVo){var o=this.spendGiftConfVo[e];this.hasRecharge>=o.id&&o.getState!=J13.A2?this.spendGiftConfVo[e].getState=J13.A3:this.hasRecharge<o.id&&(this.spendGiftConfVo[e].getState=J13.A1)}this.spendGiftConfVo.sort(function(t,e){return t.getState!=e.getState?t.getState-e.getState:t.id-e.id}),this.ZU63(t)}},t}(ActivityVo);__reflect(SpendGiftData.prototype,"SpendGiftData");var P2=function(){function t(){}return t.A4=10001,t.A3=10002,t.A1=10003,t.A2=10004,t}();__reflect(P2.prototype,"P2");var TE36=function(i){function t(){var t=i.call(this)||this;t.tdtnProxy=new TG86(t);var e=new TG85(t);return e.aLV(O7.D39),e.aLV(O7.C32),e.aLV(O7.D86),e.aLV(O7.C33),e.aLV(O7.I64),e.aLV(O7.I91),App.VM.register(O7.I91,"TdtnView",t,K17.UI_Main),t.rgF(P2.A4,t.GT97,t),t.rgF(P2.A3,t.GR96,t),t.rgF(P2.A1,t.GT95,t),t.rgF(P2.A2,t.GT91,t),t}return __extends(t,i),t.prototype.GT97=function(){App.VM.open(O7.I91);var t=this.gtM();t.firstLoginRedNum=0,t.notify()},t.prototype.GR96=function(){App.VM.close(O7.I91)},t.prototype.GT95=function(t){this.tdtnProxy.GT95(t)},t.prototype.GT91=function(t){if(200==t.head.state){var e=t.body,i=this.gtM();i.ZC13(e),i.notify(),P5.sIs(t.body.ob)}else App.CM.apF(O6.B87,L10.A4,t)},t}(TE11);__reflect(TE36.prototype,"TE36");var TG85=function(i){function t(t){var e=i.call(this,t)||this;return e.openState=!1,e.redNum=0,e.firstLoginRedNum=0,e}return __extends(t,i),t.prototype.ZC13=function(t){t&&(null!=this.actData?this.actData.updateData(t):(this.actData=new TdtnData(t),this.tips=this.actData.tips),this.updateRed())},t.prototype.updateRed=function(){this.redNum=this.FL35()},t.prototype.FL35=function(){var t=0;t+=this.firstLoginRedNum;var e=this.actData.tdtnConfVo;for(var i in e)if(e[i].getState==J13.A3){t+=1;break}return t},t.prototype.notify=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];i.prototype.notifyView.apply(this,[this].concat(t))},t}(TG79);__reflect(TG85.prototype,"TG85");var TG86=function(e){function t(t){return e.call(this,t)||this}return __extends(t,e),t.prototype.GT95=function(t){var e={type:P4.B45,body:{index:t}};this.rSMO(P4.B46,this.GT91,this),this.sSM(e)},t.prototype.GT91=function(t){this.apF(P2.A2,t)},t}(TG80);__reflect(TG86.prototype,"TG86");var TdtnItemView=function(s){function t(){var t=s.call(this)||this;return t.skinName=TdtnItemSkin,t.addEventListener(egret.Event.ADDED_TO_STAGE,t.open,t),t.addEventListener(egret.Event.REMOVED_FROM_STAGE,t.close,t),t}return __extends(t,s),t.prototype.open=function(){this.btnGet.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickBtn,this)},t.prototype.close=function(){this.btnGet.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickBtn,this),this.dataSource.removeAll()},t.prototype.childrenCreated=function(){s.prototype.createChildren.call(this),this.initUI()},t.prototype.initUI=function(){this.listContent.itemRenderer=ItemIcon,this.dataSource=new eui.ArrayCollection,this.listContent.dataProvider=this.dataSource,this.awardsSc.viewport=this.listContent,this.awardsSc.scrollPolicyH=eui.ScrollPolicy.OFF,this.awardsSc.scrollPolicyV=eui.ScrollPolicy.OFF,this.btnGet.label=O3.tr(3885),this.lbStr1.textFlow=M18.HTP.parser(O3.tr(6650))},t.prototype.dataChanged=function(){s.prototype.dataChanged.call(this),this.dataSource.replaceAll(this.data.awd);var t,e=App.CM.gtM(O6.C27);switch(this.btnGet.visible=!1,this.getImg.visible=!1,this.lbExpend.visible=!1,this.lbStr1.visible=!1,this.data.getState){case J13.A3:this.btnGet.visible=!0,P7.FD53(this.btnGet,1),t=O3.tr(6649,this.data.index,this.data.index),this.lbTarget.textFlow=M18.HTP.parser(t);break;case J13.A1:this.lbExpend.visible=!0,this.lbStr1.visible=!0,t=O3.tr(6649,e.actData.time,this.data.index),this.lbTarget.textFlow=M18.HTP.parser(t);var i=parseInt(e.actData.cost);this.data.index!=e.actData.time+1||e.actData.isComplete||(i=parseInt(e.actData.cost)-e.actData.hasRecharge),t=O3.tr(6651,i),this.lbExpend.textFlow=M18.HTP.parser(t);break;case J13.A2:this.getImg.visible=!0,t=O3.tr(6649,this.data.index,this.data.index),this.lbTarget.textFlow=M18.HTP.parser(t)}},t.prototype.onClickBtn=function(){this.data.getState==J13.A3&&App.CM.apF(this.data.controllerConst,this.data.reqConst,this.data.index)},t}(eui.ItemRenderer);__reflect(TdtnItemView.prototype,"TdtnItemView");var TdtnView=function(s){function t(t,e){var i=s.call(this,t,e)||this;return i.skinName=TdtnSkin,i}return __extends(t,s),t.prototype.initUI=function(){s.prototype.initUI.call(this),this.banner.source="v1_bg_qumindaofl16_jpg";var t={render:TdtnItemView,gap:5,width:this.listGroup.width,height:this.listGroup.height,arrowScale:1};this.listView=new CommonListBase(t),this.listGroup.addChild(this.listView),this.listView.verticalCenter=0,this.listView.horizontalCenter=0,this.btnShop.label=O3.tr(5317)},t.prototype.open=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];s.prototype.open.call(this),this.listView.open();var i=App.CM.gtM(O6.C27);this.ZHH71(i),this.btnShop.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickGoBtn,this)},t.prototype.uBM=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];s.prototype.uBM.call(this,t,e),t instanceof TG85&&this.ZHH71(t)},t.prototype.ZHH71=function(t){this.actData=t.actData;var e=O3.tr(6647,this.actData.hasRecharge,t.actData.cost);if(this.lbTarget.textFlow=M18.HTP.parser(e),this.missionLb.textFlow=M18.HTP.parser(O3.tr(6646)),this.cdTips.textFlow=M18.HTP.parser(O3.tr(6648,t.actData.cost)),!this.timerHandler){this.leftCD=t.actData.ZHH64();var i=P6.FJ11(1e3*this.leftCD,5);this.cdLb.textFlow=M18.HTP.parser(O3.tr(3329,i)),this.timerHandler=App.K16.doTimer(1e3,this.leftCD,this.GY14,this)}var s=P7.copyTab(this.actData.tdtnConfVo);this.listView.rfL(s)},t.prototype.GY14=function(){this.leftCD--;var t=O3.tr(3253,P6.FJ11(1e3*this.leftCD,5));this.cdLb.textFlow=M18.HTP.parser(t),this.leftCD<=0&&(this.cTH(),this.cdLb.text="")},t.prototype.cTH=function(){null!=this.timerHandler&&(App.K16.rBH(this.timerHandler),this.timerHandler=null)},t.prototype.onClickGoBtn=function(){TG84.FM16(1718)},t.prototype.close=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];s.prototype.close.call(this),this.cTH(),this.listView.close(),this.btnShop.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickGoBtn,this)},t}(BaseEuiView);__reflect(TdtnView.prototype,"TdtnView");var TdtnConfVo=function(){function t(t){this.awd=[],this.getState=J13.A1,this.controllerConst=O6.C27,this.reqConst=P2.A1,this.initData(t)}return t.prototype.initData=function(t){if(t){this.index=parseInt(t[0]);for(var e=M18.FL28(t[1],";",":"),i=0;i<e.length;i++){var s={data:N12.gID(e[i][0]),ct:e[i][1]};this.awd.push({itemData:s,isBottom:!1})}}},t}();__reflect(TdtnConfVo.prototype,"TdtnConfVo");var TdtnData=function(i){function t(t){var e=i.call(this,t)||this;return e.tdtnConfVo=[],e.hasGotList=[],e.hasRecharge=0,e.time=0,e.isComplete=0,e.updateData(t),e}return __extends(t,i),t.prototype.updateData=function(t){if(!this.tdtnConfVo.length)for(var e=M18.FL28(this.reward,"|",","),i=0;i<e.length;i++){var s=new TdtnConfVo(e[i]);this.tdtnConfVo.push(s)}if(t){if(this.hasRecharge=null==t.yb?this.hasRecharge:t.yb,this.isComplete=null==t.fi?this.isComplete:t.fi,this.time=null==t.rd?this.time:t.rd,this.hasGotList=null==t.ya?this.hasGotList:t.ya,0<this.hasGotList.length)for(var o in this.tdtnConfVo)-1!==this.hasGotList.indexOf(this.tdtnConfVo[o].index)&&(this.tdtnConfVo[o].getState=J13.A2);for(var o in this.tdtnConfVo){var r=this.tdtnConfVo[o];this.time>=r.index&&r.getState!=J13.A2&&(this.tdtnConfVo[o].getState=J13.A3)}this.tdtnConfVo.sort(function(t,e){return t.index-e.index}),this.ZU63(t)}},t}(ActivityVo);__reflect(TdtnData.prototype,"TdtnData");var F1=function(){function t(){}return t.A4=1,t.A3=2,t.A1=3,t.A2=4,t}();__reflect(F1.prototype,"F1");var TA93=function(s){function t(){var t=s.call(this)||this,e=new TD17(t),i=new TD16(t);return i.aLV(O7.C33),i.aLV(O7.G32),App.VM.register(O7.C94,"TopUpDinnerOpenView",t,K17.UI_Main_TOP),t.rgF(F1.A4,t.GG73,t),t.rgF(F1.A3,t.GF17,t),t.rgF(F1.A1,e.GW93,e),t.rgF(F1.A2,t.GW92,t),t}return __extends(t,s),t.prototype.GG73=function(){App.VM.open(O7.C94)},t.prototype.GF17=function(){App.VM.close(O7.C94)},t.prototype.GW92=function(t){var e=this.gtM();if(200!=t.head.state)return App.CM.apF(O6.B87,L10.A4,t),void(e.Lock=!1);e.ZC13(t.body),e.notify(F1.A2)},t}(TE11);__reflect(TA93.prototype,"TA93");var TD16=function(i){function t(t){var e=i.call(this,t)||this;return e.openState=!1,e.redNum=0,e.firstLoginRedNum=1,e}return __extends(t,i),t.prototype.ZC13=function(t){t&&(null!=this.actData?this.actData.updateData(t):(this.actData=new TopUpDinnerVo(t),this.tips=this.actData.tips),this.updateRed())},t.prototype.updateRed=function(){this.redNum=this.FL35()},t.prototype.setGameType=function(t){this.gameType=t},t.prototype.FL35=function(){var t=0;return t+=this.firstLoginRedNum,this.type&&t++,t},t.prototype.notify=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];i.prototype.notifyView.apply(this,[this].concat(t))},Object.defineProperty(t.prototype,"type",{get:function(){var t=this.actData,e=t.costArr,i=0,s=!1,o=0;for(var r in e){if(!((o+=e[r])<=t.g))break;i++}return t.alGet.length<i&&(s=!0),s},enumerable:!0,configurable:!0}),t}(TG79);__reflect(TD16.prototype,"TD16");var TopUpDinnerOpenView=function(s){function t(t,e){var i=s.call(this,t,e)||this;return i.skinName="TopUpDinnerOpenSkin",i}return __extends(t,s),Object.defineProperty(t.prototype,"model",{get:function(){return App.CM.gtM(O6.A92)},enumerable:!0,configurable:!0}),t.prototype.initUI=function(){s.prototype.initUI.call(this),this.bgMask.alpha=.7;var t=this.model.actData.ob[0],e={itemData:{data:N12.gID(t.k),ct:t.v},isBottom:!0,unified:!0};this.gpIconN0.data=e,this.btnFlop.label=O3.tr(1464)},t.prototype.open=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];s.prototype.open.call(this),this.isOpen=!0;this.model;this.btnFlop.addEventListener(egret.TouchEvent.TOUCH_TAP,this.closeSelf,this),this.mainGroup.addEventListener(egret.TouchEvent.TOUCH_TAP,this.closeSelf,this),App.THH32.aUE(this.gpEff1,"czdl_db_a_01",this.gpEff1.width/2,this.gpEff1.height/2,-1,null,null)},t.prototype.close=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];s.prototype.close.call(this,t),this.btnFlop.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.closeSelf,this),this.mainGroup.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.closeSelf,this),App.THH32.rEf(this.gpEff1,"czdl_db_a_01")},t.prototype.GX5=function(){},t.prototype.closeSelf=function(){this.isOpen&&(this.isOpen=!1,P5.sIs(this.model.actData.ob),App.CM.apF(O6.A92,F1.A3))},t}(BaseEuiView);__reflect(TopUpDinnerOpenView.prototype,"TopUpDinnerOpenView");var TopUpDinnerView=function(n){function t(t,e){var i=n.call(this,t,e)||this;return i.gpIconArr=[],i.Lock=!1,i.inStart=!1,i.baseTime=300,i.speedNum=30,i.sGN("release_act1128"),i.skinName="TopUpDinnerSkin",i}return __extends(t,n),t.prototype.initUI=function(){var e=this;n.prototype.initUI.call(this),App.THH33.rEf(this.textGroup,"gpcj_mc_czdc_1"),App.THH33.aUE(this.textGroup,"gpcj_mc_czdc_1",72,58,-1),this.btnFlop.label=O3.tr(7924),this.goBtn.textFlow=M18.HTP.parse(O3.tr(7921)),this.leftCD=this.model.actData.ZHH64();var t=O3.tr(3253,P6.FJ11(1e3*this.leftCD,5));this.cdLb.textFlow=M18.HTP.parse(t),this.timerArrHandler=App.K16.doTimer(1e3,this.leftCD,this.GY14,this);var i=this.model.actData.chooseArr;for(var s in this.ActionImage.visible=!1,this.gpIconArr=[],i){var o=i[s],r={itemData:{data:N12.gID(o.k),ct:o.v},isBottom:!1,isJp:o.isJp};this["gpIconN"+s].data=r,this.gpIconArr.push(this["gpIconN"+s])}this.pBarPro1.slideDuration=0,this.model.actData.cp=-1,this.GX5(this.model),this.pBarPro1.slideDuration=100,this.gpIconN10.visible=!1;this.type;App.K16.doFrame(1,1,function(){var t=App.VM.gOV(TF59.FA34(F7.A94));t&&t.autoOut&&(e.autoOutVis=t.autoOut.visible,t.autoOut.visible=!1)},this)},t.prototype.open=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];n.prototype.open.call(this,t),this.btnFlop.addEventListener(egret.TouchEvent.TOUCH_TAP,this.openReset,this),this.goBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.UptopBtn,this),this.model.Lock=!1,this.inStart=!1},t.prototype.close=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];n.prototype.close.call(this,t),this.timerArrHandler&&(App.K16.rBH(this.timerArrHandler),this.timerArrHandler=null),App.THH33.rEf(this.textGroup,"gpcj_mc_czdc_1"),this.btnFlop.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.openReset,this),this.goBtn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.UptopBtn,this),this.handler&&(App.K16.rBH(this.handler),this.handler=null),this.inStart&&P5.sIs(this.model.actData.ob)},t.prototype.uBM=function(t,e){if(n.prototype.uBM.call(this,t,e),t instanceof TD16)switch(e){case F1.A2:this.runAction();break;case P4.N58:this.GX5(t)}},t.prototype.GX5=function(t){var e=t.actData,i=(e.alGet.length,e.costArr),s=0,o=0;for(var r in i)if(o+=i[r],e.g<o){s=Number(r),o-=i[r];break}for(var r in e.g&&e.g>=e.allNum?this.ZM95(i[i.length-1],i[i.length-1]):this.ZM95(e.g-o,i[s]),e.alGet)if(e.cp!=e.alGet[r]){var n=this.gpIconArr[e.alGet[r]-1];P16.sGF(n,!0)}this.btnFlop.enabled=this.type,P16.sGF(this.btnFlop,!this.btnFlop.enabled)},t.prototype.runAction=function(){this.model.actData;this.baseTime=300,this.speedNum=30,this.inStart=!0,this.runActionOne()},t.prototype.runActionOne=function(){var t=this.model.actData.cp-1;this.model.actData.cp=-1;this.zong=t+40,this.index=0;this.type;this.runUpSpeed()},t.prototype.runUpSpeed=function(){var t=this;if(this.inStart)if(6<this.index)this.runActionTow();else{var e=App.K16.doTimer(this.baseTime,1,this.updateImtT.bind(this),item,function(){t.runUpSpeed()});this.handler=e,this.baseTime-=this.speedNum}},t.prototype.runActionTow=function(){var t=this;if(this.inStart){var e=App.K16.doTimer(this.baseTime,this.zong-16,this.updateImtT.bind(this),item,function(){t.smoothDown()});this.handler=e}},t.prototype.updateImtT=function(){this.index++;var t=this.index%10;this.ActionImage.x=this.gpIconArr[t].x+43,this.ActionImage.y=this.gpIconArr[t].y+39,this.ActionImage.visible=!0,this.gpIconN10.visible=!0;var e=this.model.actData.chooseArr[t],i={itemData:{data:N12.gID(e.k),ct:e.v},isBottom:!1};this.gpIconN10.data=i},t.prototype.smoothDown=function(){var t=this;if(this.inStart)if(this.index!=this.zong){this.baseTime+=this.speedNum;var e=App.K16.doTimer(this.baseTime,1,this.updateImtT.bind(this),this,function(){t.smoothDown()});this.handler=e}else this.dealTweenEnd()},t.prototype.dealTweenEnd=function(){var t=this;egret.Tween.get(this.ActionImage).wait(100).to({alpha:0},200).to({alpha:1},200).to({alpha:0},200).to({alpha:1},200).call(function(){t.inStart=!1,t.gpIconN10.visible=!1,t.model.Lock=!1,t.ActionImage.visible=!1,t.GX5(t.model),App.CM.apF(O6.A92,F1.A4)},this)},t.prototype.openReset=function(){this.type&&(this.model.Lock||(this.model.Lock=!0,App.CM.apF(O6.A92,F1.A1)))},t.prototype.UptopBtn=function(){App.VM.open(O7.F72)},t.prototype.ZM95=function(t,e){this.pBarPro1.labelFunction=null,this.pBarPro1.minimum=0,this.pBarPro1.maximum=e,this.pBarPro1.value=t},t.prototype.GY14=function(){this.leftCD--;var t=O3.tr(3253,P6.FJ11(1e3*this.leftCD,5));this.cdLb.textFlow=M18.HTP.parser(t),this.leftCD<=0&&(this.cdLb.text="")},Object.defineProperty(t.prototype,"model",{get:function(){return App.CM.gtM(O6.A92)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"type",{get:function(){var t=this.model.actData,e=t.costArr,i=0,s=!1,o=0;for(var r in e){if(!((o+=e[r])<=t.g))break;i++}return t.alGet.length<i&&(s=!0),e.length==i?(this.titleShow.text=O3.tr(7922,e[e.length-1],e.length),this.titleShow.visible=!1):this.titleShow.text=O3.tr(7922,e[i],e.length),this.scheduleLb.text=O3.tr(7923,i-t.alGet.length),s},enumerable:!0,configurable:!0}),t}(BaseEuiView);__reflect(TopUpDinnerView.prototype,"TopUpDinnerView");var TD17=function(e){function t(t){return e.call(this,t)||this}return __extends(t,e),t.prototype.GW93=function(t){var e=this,i={type:P4.L14,body:{target:t}};this.rSMO(P4.L15,function(t){e.apF(F1.A2,t)},this),this.sSM(i)},t}(TG80);__reflect(TD17.prototype,"TD17");var TopUpDinnerVo=function(i){function t(t){var e=i.call(this,t)||this;return e.alGet=[],e.chooseArr=[],e.costArr=[],e.updateData(t),e}return __extends(t,i),t.prototype.updateData=function(t){if(t&&this.ZU63(t),this.g=0<=t.g?t.g:this.g,this.alGet=t.alGet?t.alGet:this.alGet,this.ob=t.ob,this.cp=t.cp,t.atmp){var e=t.atmp;this.cost=e.cost?e.cost:this.cost,this.more=e.more?e.more:this.more,this.param=e.param?e.param:this.param,this.rank=e.rank?e.rank:this.rank,this.reward=e.reward?e.reward:this.reward,e.reward&&(this.ZU40(e.reward),this.initCost(e.cost))}},t.prototype.ZU40=function(t){this.chooseArr=[];for(var e=t.split(";"),i=0;i<e.length;i++){var s=e[i].split("-"),o=s[1].split(",")[0].split(":");this.chooseArr.push({k:Number(o[0]),v:Number(o[1]),isJp:!!Number(s[1].split(",")[1])})}},t.prototype.initCost=function(t){this.costArr=[],this.allNum=0;var e=t.split(",");for(var i in e){var s=e[i].split(":");this.costArr.push(Number(s[1])),this.allNum+=Number(s[1])}},t}(ActivityVo);__reflect(TopUpDinnerVo.prototype,"TopUpDinnerVo");var DayGiftBaseView=function(a){function t(t,e){var i=a.call(this,t,e)||this;i.actData=[],i.data=[],i.itemNum=6,i.skinName="CarnivalActBaseSkin";for(var s=TE12.FC8(F17.A5),o=0;o<s.length;o++){var r=s[o].id,n=TF59.FB46(r);null!=n&&App.VM.rgS(O7.C33,n.id,n.view,i.content)}return i}return __extends(t,a),t.prototype.initUI=function(){a.prototype.initUI.call(this),this.autoOut.visible=!0,this.title.textFlow=M18.HTP.parse(O3.tr(3875)),this.topScroller.viewport=this.topList,this.topScroller.scrollPolicyV=eui.ScrollPolicy.OFF,this.topCollection=new eui.ArrayCollection,this.topList.dataProvider=this.topCollection,this.topList.itemRenderer=CarnivalActIconView,this.autoOut.label=O3.tr(3876)},t.prototype.initData=function(){a.prototype.initData.call(this)},t.prototype.open=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.lbDes.text="",a.prototype.open.call(this,t),this.curView=t[0]||this.actData[0]&&this.actData[0].view,this.ZU39(),App.VM.open(this.curView),this.curView==this.actData[0].view&&(this.topList.scrollH=0),t[1]&&App.K16.doFrame(1,1,this.delayCall,this),this.bgMask.addEventListener(egret.TouchEvent.TOUCH_TAP,this.closeSelf,this),this.closeBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.closeSelf,this),this.backBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.closeSelf,this),this.leftGroup.addEventListener(egret.TouchEvent.TOUCH_TAP,this.ZQ40,this),this.rightGroup.addEventListener(egret.TouchEvent.TOUCH_TAP,this.ZM90,this),this.topScroller.addEventListener(eui.UIEvent.CHANGE_END,this.endScroller,this),this.autoOut.addEventListener(egret.Event.CHANGE,this.ZQ48,this),TF59.FJ22(this.curView,this.diImg,this.contentImg);var i=App.CM.gtM(O6.B82);this.ZE70(i)},t.prototype.delayCall=function(){if(this.actData.length<=this.itemNum)this.topList.scrollH=0;else{var t=this.topList.contentWidth/this.actData.length,e=this.ZE69(this.curView);e>=this.actData.length-this.itemNum&&(e=this.actData.length-this.itemNum),this.topList.scrollH=e*t}},t.prototype.ZQ48=function(){App.CM.apF(O6.B82,L13.A60,this.autoOut.selected)},t.prototype.ZM94=function(e){for(var t=function(t){t==e?(i.data[t].texiao=1,i.data[t].model.firstLoginRedNum=0,egret.Tween.get(i).wait(100).call(function(){this.data[t].model.notify()},i)):i.data[t].texiao=0},i=this,s=0;s<this.actData.length;s++)t(s);this.topCollection.replaceAll(this.data)},t.prototype.uBM=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];a.prototype.uBM.call(this,t,e);var s=e&&e[0]&&0<e[0].length?e[0]:"";s==P4.R37||s==P4.U30||s==P4.P76?(this.ZU39(),App.VM.open(this.curView)):this.ZQ44(t),this.endScroller(),t instanceof TG12&&this.ZE70(t)},t.prototype.ZE70=function(t){this.autoOut.$setSelected(1==t.avatarInfo.btj)},t.prototype.ZU39=function(){var t=TF59.FA2(F17.A5);if(this.actData=t,0<this.data.length&&(this.data.splice(0,this.data.length),this.data=[]),0<this.actData.length){for(var e=0;e<this.actData.length;e++){var i={icon:this.actData[e].icon,type:this.actData[e].type,name:this.actData[e].name,red:this.actData[e].red,texiao:0,model:this.actData[e].model,subView:this.actData[e].view,mainView:O7.C33};this.data.push(i)}this.ZE69(this.curView)<0&&(this.curView=this.actData[0].view),this.ZM94(this.ZE69(this.curView))}else this.closeSelf()},t.prototype.ZQ44=function(t){var e;if(t.actid){var i=TF59.FB46(t.actid);-1!=i&&0<=(e=this.ZE69(i.id))&&(this.data[e].red=t.FL35())}this.topCollection.replaceAll(this.data)},t.prototype.endScroller=function(){if(this.topScroller.validateNow(),this.leftGroup.visible=!(this.topScroller.viewport.scrollH<=0),this.topScroller.viewport.contentWidth<=this.topScroller.width)this.rightGroup.visible=!1;else{this.topScroller.width+this.topScroller.viewport.scrollH>=this.topScroller.viewport.contentWidth?this.rightGroup.visible=!1:this.rightGroup.visible=!0,this.redLeft.visible=!1,this.redRight.visible=!1;for(var t=this.topScroller.viewport.scrollH,e=0;93<=t;)t-=93,e++;var i=e+this.itemNum-1,s=this.topCollection.getItemAt(this.topCollection.length-1);if(i>s.index&&(i=s.index),this.leftGroup.visible)for(var o=0;o<this.topCollection.length;o++){var r=this.topCollection.getItemAt(o);if(!(e<=o)&&0<r.red){this.redLeft.visible=!0;break}}if(this.rightGroup.visible)for(o=0;o<this.topCollection.length;o++){var n=this.topCollection.getItemAt(o);if(!(o<=i)&&0<n.red){this.redRight.visible=!0;break}}}},t.prototype.ZQ40=function(){var t=this.topScroller.viewport.scrollH-559;this.topScroller.viewport.scrollH=t<0?0:t,this.endScroller(),TG40.playClickEffect()},t.prototype.ZM90=function(){var t=this.topScroller.viewport.scrollH+559;t+this.topScroller.width>=this.topScroller.viewport.contentWidth?this.topScroller.viewport.scrollH=this.topScroller.viewport.contentWidth-this.topScroller.width:this.topScroller.viewport.scrollH=t,this.endScroller(),TG40.playClickEffect()},t.prototype.close=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];a.prototype.close.call(this,t),this.bgMask.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.closeSelf,this),this.closeBtn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.closeSelf,this),this.backBtn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.closeSelf,this),this.leftGroup.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.ZQ40,this),this.rightGroup.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.ZM90,this),this.topScroller.removeEventListener(eui.UIEvent.CHANGE_END,this.endScroller,this),this.autoOut.removeEventListener(egret.Event.CHANGE,this.ZQ48,this),this.curView=null,this.topCollection.removeAll(),egret.Tween.removeTweens(this)},t.prototype.closeSelf=function(){App.VM.GY64(this)},t.prototype.ZE69=function(t){var e=-1;if(null!=this.actData)for(var i=0;i<this.actData.length;i++)if(this.actData[i].view==t){e=i;break}return e},t.prototype.ZG19=function(t){var e=-1;if(null!=this.actData)for(var i=0;i<this.actData.length;i++)this.actData[i].view==t&&(e=i);return e},t}(BaseEuiView);__reflect(DayGiftBaseView.prototype,"DayGiftBaseView");var O19=function(){function t(){}return t.A1=10001,t.A2=10002,t.A6=10003,t.A4=10004,t.A8=10005,t.A7=10006,t.A5=10007,t.A3=10008,t}();__reflect(O19.prototype,"O19");var TE37=function(i){function t(){var t=i.call(this)||this;App.VM.register(O7.HH94,"DialMainView",t,K17.UI_Main);var e=new TG87(t);return e.aLV(O7.HH94),e.aLV(O7.E16),e.aLV(O7.C58),e.aLV(O7.I19),e.aLV(O7.G8),e.aLV(O7.I64),t.proxy=new TG88(t),t.rgF(O19.A1,t.GT98,t),t.rgF(O19.A2,t.GT99,t),App.VM.register(O7.C58,"DialReport",t,K17.UI_Popup),t.rgF(O19.A6,t.GI60,t),t.rgF(O19.A4,t.GG76,t),App.VM.register(O7.I19,"DialDescView",t,K17.UI_Popup),t.rgF(O19.A8,t.GM27,t),t.rgF(O19.A7,t.GK56,t),App.VM.register(O7.G8,"DialRewardView",t,K17.UI_Popup),t.rgF(O19.A5,t.GG77,t),t.rgF(O19.A3,t.GF19,t),t}return __extends(t,i),t.prototype.GT98=function(t){this.proxy.GT98(t)},t.prototype.GT99=function(t){var e=this.gtM();if(200!=t.head.state)return App.CM.apF(O6.B87,L10.A4,t),e.moving=!1,void(e.isTween=!0);e.notify(P4.HH80,t.body)},t.prototype.GI60=function(){App.VM.open(O7.C58)},t.prototype.GG76=function(){App.VM.close(O7.C58)},t.prototype.GM27=function(){App.VM.open(O7.I19)},t.prototype.GK56=function(){App.VM.close(O7.I19)},t.prototype.GG77=function(t){App.VM.open(O7.G8,t)},t.prototype.GF19=function(){App.VM.close(O7.G8)},t}(TE11);__reflect(TE37.prototype,"TE37");var TG87=function(i){function t(t){var e=i.call(this,t)||this;return e.openState=!1,e.redNum=0,e.firstLoginRedNum=0,e}return __extends(t,i),t.prototype.ZC13=function(t){t&&(null!=this.dialData?this.dialData.updateData(t):(this.dialData=new DialData(t),this.tips=this.dialData.tips),this.updateRed())},t.prototype.updateRed=function(){this.redNum=this.FL35()},t.prototype.FL35=function(){var t=0;return t+=this.firstLoginRedNum},t.prototype.notify=function(t,e){void 0===t&&(t=void 0),void 0===e&&(e=void 0),i.prototype.notifyView.call(this,this,t,e)},t}(TG79);__reflect(TG87.prototype,"TG87");var TG88=function(e){function t(t){return e.call(this,t)||this}return __extends(t,e),t.prototype.GT98=function(t){var e={type:P4.HH79,body:t};this.rSMO(P4.HH80,this.GT99,this),this.sSM(e)},t.prototype.GT99=function(t){this.apF(O19.A2,t)},t}(TG80);__reflect(TG88.prototype,"TG88");var THH24=function(){function t(){}return t.FG77=function(t){var e=Number(t);return e*=100,(e=Math.round(e))+"%"},t}();__reflect(THH24.prototype,"THH24");var DailRecordLb=function(e){function t(){var t=e.call(this)||this;return t.skinName=DialRecordLbSkin,t.addEventListener(egret.Event.ADDED_TO_STAGE,t.open,t),t.addEventListener(egret.Event.REMOVED_FROM_STAGE,t.close,t),t}return __extends(t,e),t.prototype.open=function(){},t.prototype.close=function(){},t.prototype.childrenCreated=function(){e.prototype.createChildren.call(this)},t.prototype.dataChanged=function(){this.lbName.textFlow=M18.FG71(O3.tr(4471,this.data.name)),this.lbDesc.text=O3.tr(3806);var t=O5.FB43(this.data.item.quality,1),e=this.data.item.name+"*"+this.data.ct;this.lbAward.textFlow=M18.FG71(O3.tr(4475,t,e))},t.prototype.onClickGet=function(){App.CM.apF(O6.B47,I15.A1,this.data.conf.target)},t}(eui.ItemRenderer);__reflect(DailRecordLb.prototype,"DailRecordLb");var DialDescView=function(s){function t(t,e){var i=s.call(this,t,e)||this;return i.skinName="DialDescSkin",i}return __extends(t,s),t.prototype.initUI=function(){s.prototype.initUI.call(this),this.lbStr1.textFlow=M18.HTP.parse(O3.tr(5187))},t.prototype.open=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];s.prototype.open.call(this),this.bgMask.addEventListener(egret.TouchEvent.TOUCH_TAP,this.closeSelf,this);var i=App.CM.gtM(O6.C24);this.ZE66(i)},t.prototype.uBM=function(t){s.prototype.uBM.call(this,t),t instanceof TG87&&this.ZE66(t)},t.prototype.initLb=function(t,e,i){for(var s=i.split(";"),o="",r="",n=0;n<s.length;n++){var a=s[n],h=a.split(":")[0],p=a.split(":")[1];o+=h+"\n",r+=O3.tr(5186)+THH24.FG77(p)+"\n"}o=o.substring(0,o.length-1),r=r.substring(0,r.length-1),t.$setText(o),e.$setText(r)},t.prototype.ZE66=function(t){this.lbTitle1.$setText(""),this.lbTitle2.$setText(""),this.lb1.text="",this.lb2.text="",this.lb3.text="",this.lb4.text="";for(var e=t.dialData.desc.split("|"),i=0;i<e.length;i++){var s=e[i],o=Number(s.split(",")[0]),r=s.split(",")[1];2==o?(this.lbTitle1.$setText(O3.tr(4935)),this.initLb(this.lb1,this.lb2,r)):1==o&&(this.lbTitle2.$setText(O3.tr(4934)),this.initLb(this.lb3,this.lb4,r))}this.lbTitle1.parent.includeInLayout=""!=this.lbTitle1.text,this.lb1.parent.includeInLayout=""!=this.lb1.text},t.prototype.close=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];s.prototype.close.call(this),this.bgMask.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.closeSelf,this)},t.prototype.closeSelf=function(){this.apF(O19.A7)},t}(BaseEuiView);__reflect(DialDescView.prototype,"DialDescView");var DialLuckIcon=function(t){function e(){return t.call(this)||this}return __extends(e,t),e.prototype.childrenCreated=function(){t.prototype.createChildren.call(this),this.imgEffect=new eui.Image,this.imgEffect.source="v1_img_texi_png",this.gpIcon.addChild(this.imgEffect),this.imgEffect.horizontalCenter=0,this.imgEffect.verticalCenter=0,this.imgEffect.scaleX=1,this.imgEffect.scaleY=1,this.imgEffect.visible=!1},e.prototype.dataChanged=function(){t.prototype.dataChanged.call(this),this.data.isJp?(this.imgJP||(this.imgJP=new eui.Image,this.imgJP.source="v1_fonts_jip_png",this.gpIcon.addChild(this.imgJP),this.imgJP.horizontalCenter=0,this.imgJP.top=0),this.imgJP.visible=!0):this.imgJP&&(this.imgJP.visible=!1)},e}(ItemIcon);__reflect(DialLuckIcon.prototype,"DialLuckIcon");var DialLuckyView=function(s){function t(t,e){var i=s.call(this,t,e)||this;return i.itemArray=[],i.index=1,i.baseTime=50,i.skinName="DialContentSkin",i.luckGroup.$setVisible(!0),i.dialGroup.$setVisible(!0),i.luckBgGrp.$setVisible(!0),i}return __extends(t,s),t.prototype.initUI=function(){s.prototype.initUI.call(this);var t={render:DailRecordLb,width:this.gpRecordList.width,height:this.gpRecordList.height,gap:0};this.myListView=new CommonListBase(t),this.gpRecordList.addChild(this.myListView),this.lbLuckyRecord.text=O3.tr(4470)},t.prototype.ZU42=function(){var t=App.CM.gtM(O6.C24);this.ZHH72(t)},t.prototype.initItemView=function(){this.buyItem1.removeChildren(),this.buyItem2.removeChildren(),this.buyItem3.removeChildren(),this.itemArray=[];for(var t=1;t<4;t++){var e=new ItemDialBuyView(t);e.setData(t,F7.A56),this.itemArray.push(e)}this.buyItem1.addChild(this.itemArray[0]),this.buyItem2.addChild(this.itemArray[1]),this.buyItem3.addChild(this.itemArray[2])},t.prototype.GY14=function(){this.leftCD--;var t=P6.FJ11(1e3*this.leftCD,5);this.lbTime.textFlow=M18.HTP.parser(O3.tr(3253,t)),this.leftCD<=0&&(this.cTH(),this.lbTime.text="")},t.prototype.cTH=function(){null!=this._timerHandler&&(App.K16.rBH(this._timerHandler),this._timerHandler=null)},t.prototype.uBM=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];if(s.prototype.uBM.call(this,t,e),t instanceof TG87)switch(e[0]){case P4.HH80:this.obj=e[1],this.startTween(t);break;default:this.ZHH72(t)}},t.prototype.stopTween=function(){0!=App.CM.gtM(O6.C24).moving&&this.dealTweenEnd()},t.prototype.startTween=function(t){var e=this;if(t.isTween){this.index=-1;var i=App.K16.doTimer(this.baseTime,24,this.updateImtT.bind(this),item,function(){e.dealTweenEnd()});this.handler=i}else this.obj&&this.obj.ob&&(this.apF(O19.A5,this.obj),P5.sIs(this.obj.ob)),this.ZHH69()},t.prototype.dealTweenEnd=function(){this.obj&&this.obj.ob&&(this.apF(O19.A5,this.obj),P5.sIs(this.obj.ob),this.obj=null),this.handler&&(App.K16.rBH(this.handler),this.handler=null);for(var t=1;t<=12;t++)this["gpIconN"+t].imgEffect.visible=!1;this.ZHH69()},t.prototype.updateImtT=function(){var t=this.index++%12+1,e=this.index%12+1;t<1&&(t=1),this["gpIconN"+t].imgEffect.visible=!1,this["gpIconN"+e].imgEffect.visible=!0},t.prototype.ZHH72=function(t){this.initItemView(),this.leftCD=t.dialData.ZHH64();var e=P6.FJ11(1e3*this.leftCD,5);this.lbTime.textFlow=M18.HTP.parser(O3.tr(3253,e)),this._timerHandler=App.K16.doTimer(1e3,this.leftCD,this.GY14,this);for(var i=t.dialData.dis,s=1;s<=12;s++){var o=i[s-1],r=o.k,n=N12.gID(r),a=o.v,h=0<=t.dialData.loc.indexOf(s),p={itemData:{data:n,ct:a,texiao:h?TF59.FC9(n.quality):void 0},isBottom:!1,scale:1,isJp:h};this["gpIconN"+s].data=p}for(var l=[],c=t.dialData.ar,u=Math.max(c.length-8,0);u<c.length;u++){var d=N12.gID(c[u].i);p={name:c[u].an,item:d,ct:c[u].n};l.push(p)}this.myListView.rfL(l)},t.prototype.open=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];s.prototype.open.call(this),this.stopGroup.addEventListener(egret.TouchEvent.TOUCH_TAP,this.stopTween,this),this.btnDetail.addEventListener(egret.TouchEvent.TOUCH_TAP,this.ZQ49,this);var i=App.CM.gtM(O6.C24);this.ZHH72(i),this.ZU42(),this.ZHH69(),i.isTween=!0},t.prototype.close=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];s.prototype.close.call(this),this.cTH(),this.stopGroup.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.stopTween,this),this.closeItemBuy(),this.handler&&(App.K16.rBH(this.handler),this.handler=null),this.obj=null},t.prototype.closeItemBuy=function(){for(var t=0;t<this.itemArray.length;t++){this.itemArray[t].GY64()}this.itemArray=[]},t.prototype.ZQ49=function(){App.CM.apF(O6.C24,O19.A8)},t.prototype.ZM77=function(){App.CM.gtM(O6.C24).moving=!0},t.prototype.ZHH69=function(){App.CM.gtM(O6.C24).moving=!1},t}(BaseEuiView);__reflect(DialLuckyView.prototype,"DialLuckyView");var DialMainView=function(o){function t(t,e){var i=o.call(this,t,e)||this;return i.sGN("release_act1009"),i}return __extends(t,o),t.prototype.initUI=function(){o.prototype.initUI.call(this),App.VM.rgS(O7.HH94,O7.A87,"DialSearchTreasureView",this.content),App.VM.rgS(O7.HH94,O7.E16,"DialLuckyView",this.content),App.VM.rgS(O7.HH94,O7.B30,"DialPickHeroStageView",this.content),App.VM.rgS(O7.HH94,O7.HH89,"PolyFairyView",this.content)},t.prototype.open=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];o.prototype.open.call(this,t),this.addEventListener("OPENED",this.opened,this),this.helpBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.ZC85,this),this.ZU43(),this.updateRed(),this.openOneView(t[0])},t.prototype.opened=function(){this.ZM96(App.CM.gtM(O6.C20))},t.prototype.ZU43=function(){var t=[],e=[];this.ZQ50(t,e),this.btnList=new ButtonList(t,e,this.ZQ23.bind(this)),this.btnList.init(),this.btnGroup.removeChildren(),this.btnGroup.addChild(this.btnList)},t.prototype.ZQ50=function(t,e){var i=TF59.FB15(F7.A56),s=TF59.FB15(F7.A10),o=TF59.FB15(F7.A14),r=(App.CM.gtM(O6.B43).serOpenDay,App.CM.gtM(O6.B82).avatarInfo.l);o.openState&&Number(I8.gIV("openLevel"))<=r&&(t.push(O3.tr(3209)),e.push(O7.A87)),i.openState&&(t.push(O3.tr(3211)),e.push(O7.E16)),s.openState&&Number(TD79.gIV("openLevel"))<=r&&(t.push(O3.tr(3212)),e.push(O7.B30)),P7.FK31()&&(App.CM.apF(O6.C9,N11.A1),t.push(O3.tr(8526)),e.push(O7.HH89))},t.prototype.openOneView=function(t){var e=this.gOV();if(null==e)this.closeSelf();else{var i=t||e;this.ZQ23(i)}},t.prototype.gOV=function(){var t=TF59.FB15(F7.A56),e=TF59.FB15(F7.A10),i=TF59.FB15(F7.A14);return t.openState?O7.E16:i.openState?O7.A87:e.openState?O7.B30:P7.FK31()?O7.HH89:null},t.prototype.ZQ23=function(t){var e=this.getActModel(t);if(null!=e&&e.openState){var i=App.CM.gtM(O6.B82).avatarInfo.l;if(e instanceof TF31){var s=Number(I8.gIV("openLevel"));if(i<s)return void P18.sDP(O3.tr(4936,s))}if(e instanceof TE50){var o=Number(TD79.gIV("openLevel"));if(i<o)return void P18.sDP(O3.tr(4937,o))}switch(t){case O7.A87:e.firstLoginRedNum=0,e.updateRed(),this.title=O3.tr(3210),this.btnList.ZM66(t);break;case O7.E16:e.firstLoginRedNum=0,this.title=O3.tr(3211),this.btnList.ZM66(t);break;case O7.B30:e.firstLoginRedNum=0,this.title=O3.tr(3212),this.btnList.ZM66(t);break;case O7.HH89:this.title=O3.tr(8526),this.btnList.ZM66(t)}this.helpBtn.visible=!0,e.notify(),this.updateRed()}else P18.sDP(O3.tr(3205))},t.prototype.getActModel=function(t){var e=null;switch(t){case O7.A87:e=TF59.FB15(F7.A14);break;case O7.E16:e=TF59.FB15(F7.A56);break;case O7.B30:e=TF59.FB15(F7.A10);break;case O7.HH89:e=TF59.FB15(F7.B9)}return e},t.prototype.uBM=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];o.prototype.uBM.call(this,t,e);var s=e&&null!=e[0]?e[0]:"";s==P4.R37||s==P4.U30||s==P4.P76?(this.ZU43(),this.openOneView()):t instanceof TG46&&s==P4.A98&&this.btnList.ZHH58(O7.HH89,t.FL35()),this.updateRed()},t.prototype.updateRed=function(){var t=TF59.FB15(F7.A56),e=TF59.FB15(F7.A14),i=TF59.FB15(F7.A10),s=TF59.FB15(F7.B9);t.openState&&this.btnList.ZHH58(O7.E16,t.FL35()),e.openState&&this.btnList.ZHH58(O7.A87,e.FL35()),1==i.openState?this.btnList.ZHH58(O7.B30,i.FL35()):this.btnList.ZHH58(O7.B30,0),P7.FK31()&&this.btnList.ZHH58(O7.HH89,s.FL35())},t.prototype.close=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];o.prototype.close.call(this,t),this.removeEventListener("OPENED",this.opened,this),this.helpBtn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.ZC85,this),App.CM.apF(O6.C20,K2.A6)},t.prototype.ZC85=function(){switch(this.btnList.getCurView()){case O7.A87:App.CM.apF(O6.B45,I12.A8);break;case O7.E16:App.CM.apF(O6.C24,O19.A8);break;case O7.B30:App.CM.apF(O6.B12,G16.A10);break;case O7.HH89:App.CM.apF(O6.C9,N11.A12)}},t.prototype.ZM96=function(t){t.homeExtra&&(App.VM.gOV(O7.A87)||App.CM.apF(O6.B65,K2.A6),TG68.FK89())},t}(BasePanelView);__reflect(DialMainView.prototype,"DialMainView");var DialPickHeroStageView=function(s){function t(t,e){var i=s.call(this,t,e)||this;return i.index=1,i.baseTime=100,i.smoothTime=100,i.skinName="DialContentSkin",i.pickGroup.$setVisible(!0),i.dianjiang.$setVisible(!0),i.pickBgGrp.$setVisible(!0),i}return __extends(t,s),t.prototype.initUI=function(){s.prototype.initUI.call(this),this.lbDesP.textFlow=M18.HTP.parse(O3.tr(3861)),this.lbDesuP.textFlow=M18.HTP.parse(O3.tr(3862)),this.lbSource.textFlow=M18.HTP.parse(O3.tr(3863)),this.lblxiaohao.textFlow=M18.HTP.parse(O3.tr(3864)),this.btnDain.label=O3.tr(5833)},t.prototype.ZQ51=function(){App.CM.apF(O6.B12,G16.A1)},t.prototype.initPView=function(){for(var t=1;t<=8;t++){var e=this["imgP"+t];this["imgPt"+t].visible=!1,this["imgPt"+t+"_1"].visible=!1,e.data={index:t},e.addEventListener(egret.TouchEvent.TOUCH_TAP,this.openProsView,this)}},t.prototype.updatePView=function(){var t=App.CM.gtM(O6.B12),e=TD79.FG80(t.pointsetsData.s);for(var i in e){var s=e[i],o=s.position,r=this["imgP"+o];r.name=s.id;var n=this["lbN"+o],a=s.itemid,h=N12.gID(a),p=parseInt(h.quality);this["imgPk"+o].source=N12.getBox(p);var l=this["imgP"+o].parent;switch(p){case 5:l.getChildByName("act_f")||App.THH33.aUE(l,"act_f",-l.width/2,-l.height/2);break;case 6:l.getChildByName("act_h")||App.THH33.aUE(l,"act_h",-l.width/2,-l.height/2)}this["imgPk"+o].alpha=.6,r.source=N14.FF4(Number(s.id)).icon,n.$setText(s.name),n.$setTextColor(TG74.FI86(p))}},t.prototype.initItemView=function(){var t=P7.str2kv(TD79.gIV("pointSetsCost"),","),e=App.CM.gtM(O6.B12);this.itemId=t[e.pointsetsData.s-1].k,this.itemNeed=t[e.pointsetsData.s-1].v,this.imgDian.source=N12.FJ86(this.itemId);var i=N12.giC(Number(this.itemId));i>=Number(this.itemNeed)&&!e.isTakeAll()?(this.btnDain.imgNew.visible=!0,this.lbCost.textFlow=M18.HTP.parse(O3.tr(3865,i,this.itemNeed))):(this.btnDain.imgNew.visible=!1,this.lbCost.textFlow=M18.HTP.parse(O3.tr(3866,i,this.itemNeed)))},t.prototype.openProsView=function(t){t.target.data.index;var e=t.currentTarget;this.updateSelect(e.name);var i=N14.FF4(parseInt(e.name)),s=new HeroData(i);App.CM.apF(O6.C12,O8.A82,s),TG40.playClickEffect()},t.prototype.updateSelect=function(t){this.showBoss(Number(t));var e=TD79.pointsets[t];this.lbMin.$setText(e.name);var i=e.itemid,s=N12.gID(i),o=parseInt(s.quality);this.lbMin.$setTextColor(TG74.FI86(o)),this.lbMin.visible=!0},t.prototype.showBoss=function(t){this.objBoss&&(this.grpBossArm.removeChildren(),this.objBoss.destory(),this.objBoss=null);var e=N14.FF4(t),i={id:Number(e.model),x:90,y:115,dir:Dir.br,objType:P13.A6,bt:BehaviourType.Attack_d,sr:1};this.objBoss=new FightGameObject,this.objBoss.setData(i,this.grpBossArm),this.objBoss.action=Action.Stand},t.prototype.open=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];s.prototype.open.call(this),this.initPView(),this.ZQ51(),this.initItemView(),this.ZHH69(),this.stopGroup.addEventListener(egret.TouchEvent.TOUCH_TAP,this.stopTween,this),this.btnDain.addEventListener(egret.TouchEvent.TOUCH_TAP,this.pointsetsQeq,this),this.grpDescP.addEventListener(egret.TouchEvent.TOUCH_TAP,this.GQ96,this),this.lbSource.addEventListener(egret.TouchEvent.TOUCH_TAP,this.openProtView,this)},t.prototype.uBM=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];if(s.prototype.uBM.call(this,t,e),t instanceof TE50)switch(e[0]){case P4.HH82:this.obj=e[1],this.startTween(),this.ZC24(t);break;default:this.updatePView(),this.updateIcon()}},t.prototype.stopTween=function(){0!=App.CM.gtM(O6.B12).moving&&this.dealTweenEnd()},t.prototype.dealTweenEnd=function(){this.handler&&(App.K16.rBH(this.handler),this.handler=null),this.clearTexiao()},t.prototype.startTween=function(){var t=this;this.index=-1;var e=0,i=App.CM.gtM(O6.B12),s=TD79.FG80(i.pointsetsData.s);for(var o in s){var r=s[o],n=r.id;if(this.obj.g==Number(n)){e=Number(r.position);break}}this.zong=24+e;var a=App.K16.doTimer(this.baseTime,this.zong-6,this.updateImtT.bind(this),item,function(){t.smoothDown(1)});this.handler=a},t.prototype.smoothDown=function(t){var e=this;if(this.index!=this.zong){var i=this.baseTime+t*this.smoothTime,s=App.K16.doTimer(i,1,this.updateImtT.bind(this),this,function(){e.smoothDown(t+1)});this.handler=s}else this.dealTweenEnd()},t.prototype.updateImtT=function(){var t=this.index++%8+1,e=this.index%8+1;t<1&&(t=1),this["imgPt"+t+"_1"].visible=!1,this["imgPt"+t].visible=!1,this["imgPt"+e+"_1"].visible=!0,this["imgPt"+e].visible=!0},t.prototype.clearTexiao=function(){for(var t=this,e=1;e<=8;e++)this["imgPt"+e].visible=!1,this["imgPt"+e+"_1"].visible=!1;var i=this.zong%8;0==i&&(i=8),this["imgPt"+i].visible=!0,this["imgPt"+i+"_1"].visible=!0,egret.Tween.get(this["imgPt"+i]).to({alpha:.62},250).to({alpha:.25},500).to({alpha:.62},250).to({alpha:.25},500).to({alpha:.62},250).to({alpha:.25},500).call(function(){t["imgPt"+i].visible=!1,t["imgPt"+i+"_1"].visible=!1,t.ZHH69(),t.updatePView(),t.updateIcon(),t.obj&&t.obj.ob&&(App.CM.apF(O6.B12,G16.A4,t.obj),t.obj=null)},this)},t.prototype.updateIcon=function(){var t=App.CM.gtM(O6.B12),e=t.pointsetsData.yaw,i=TD79.FG80(t.pointsetsData.s),s=null,o=null;for(var r in i){var n=i[r],a=n.position,h=this["imgP"+a],p=n.id;-1==e.indexOf(Number(p))?(P16.sGF(h,!1),null==o&&(o=p)):P16.sGF(h,!0),1==Number(a)&&(s=p)}o=null==o?s:o,this.updateSelect(o)},t.prototype.ZC24=function(t){this.initItemView()},t.prototype.close=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];s.prototype.close.call(this),this.ZU44(),this.stopGroup.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.stopTween,this),this.btnDain.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.pointsetsQeq,this),this.grpDescP.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.GQ96,this),this.lbSource.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.openProtView,this),this.handler&&(App.K16.rBH(this.handler),this.handler=null),this.grpBossArm.removeChildren(),this.objBoss&&(this.objBoss.destory(),this.objBoss=null);for(var i=1;i<=8;i++)App.THH33.rEf(this["imgP"+i].parent,"act_h"),App.THH33.rEf(this["imgP"+i].parent,"act_f")},t.prototype.ZU44=function(){for(var t=1;t<=8;t++){this["imgP"+t].removeEventListener(egret.TouchEvent.TOUCH_TAP,this.openProsView,this)}},t.prototype.pointsetsQeq=function(){var t=N12.giC(this.itemId);if(t<this.itemNeed){var e=this.itemNeed-t;App.VM.open(O7.G87,this.itemId,e)}else{var i=App.CM.gtM(O6.B12);1!=i.moving&&(App.CM.apF(O6.B12,G16.A6),i.moving=!0)}},t.prototype.GQ96=function(){App.CM.apF(O6.B12,G16.A9)},t.prototype.ZM77=function(){App.CM.gtM(O6.B12).moving=!0},t.prototype.ZHH69=function(){App.CM.gtM(O6.B12).moving=!1},t.prototype.openProtView=function(){App.VM.open(O7.G87,this.itemId)},t}(BaseEuiView);__reflect(DialPickHeroStageView.prototype,"DialPickHeroStageView");var DialReport=function(s){function t(t,e){var i=s.call(this,t,e)||this;return i.skinName="DialReportSkin",i}return __extends(t,s),t.prototype.open=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];s.prototype.open.call(this),this.bgMask.addEventListener(egret.TouchEvent.TOUCH_TAP,this.closeSelf,this);var i=App.CM.gtM(O6.C24);this.ZE66(i)},t.prototype.uBM=function(t){s.prototype.uBM.call(this,t),t instanceof TG87&&this.ZE66(t)},t.prototype.ZE66=function(t){for(var e=1;e<=10;e++)this["grp"+e].visible=!1;for(var i=t.dialData.ar,s=0;s<i.length;s++){var o=s+1;this["lbName"+o].$setText(i[s].an);var r=N12.gID(i[s].i),n=this["lbPru"+o],a=i[s].n&&1<i[s].n?"x"+i[s].n:"";O5.FB13(n,r.name+a,r.quality),this["grp"+o].visible=!0}},t.prototype.close=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];s.prototype.close.call(this),this.bgMask.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.closeSelf,this)},t.prototype.closeSelf=function(){this.apF(O19.A4)},t}(BaseEuiView);__reflect(DialReport.prototype,"DialReport");var DialRewardView=function(s){function t(t,e){var i=s.call(this,t,e)||this;return i.closeCD=10,i.confList=[],i.skinName="DialRewardSkin",i}return __extends(t,s),t.prototype.initUI=function(){s.prototype.initUI.call(this),this.dgRewards.dataProvider=this.rewardsCollection=new eui.ArrayCollection,this.dgRewards.itemRenderer=ItemIcon,this.btnOk.label=O3.tr(4249),this.lbBtn1.text=O3.tr(3809),this.lbBtn2.text=O3.tr(3809)},t.prototype.open=function(t){this.params=t,this.bgMask.addEventListener(egret.TouchEvent.TOUCH_TAP,this.closeSelf,this),this.btnOk.addEventListener(egret.TouchEvent.TOUCH_TAP,this.closeSelf,this),this.updateViews()},t.prototype.close=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];s.prototype.close.call(this),this.bRegSkipTimer=!1,this.bgMask.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.closeSelf,this),this.btnOk.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.closeSelf,this),1==this.buyItem1.visible&&this.btn1.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.ZU36,this),1==this.buyItem2.visible&&this.btn2.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.ZU37,this),App.K16.remove(this.ZU23,this),this.rewardsCollection.removeAll()},t.prototype.updateViews=function(){this.ZJ83(),this.ZU24(),this.updateBuyBtn()},t.prototype.updateBuyBtn=function(){this.buyItem1.$setVisible(!1),this.buyItem2.$setVisible(!1);for(var t=TF59.FB15(this.params.id).dialData.FD69(this.params.t),e=2<(this.confList=t).length?2:t.length,i=0;i<e;i++){var s=t[i];this.ZHH68(i,s)}1==e?(this.buyItem1.$setVisible(!0),this.buyItem2.$setVisible(!1)):2==e&&(this.buyItem1.$setVisible(!0),this.buyItem2.$setVisible(!0))},t.prototype.ZHH68=function(t,e){0==t?(this.imgItem1.source=N12.FJ86(e.itemId),this.lbMoney1.$setText(e.itemNum),this.btn1.addEventListener(egret.TouchEvent.TOUCH_TAP,this.ZU36,this),this.btn1.label=this.getBtnLabel(Number(e.id)),this.lbBuy1.visible=!1,2==Number(e.id)?this.FM13(this.btn1,O3.tr(4932)):this.FM13(this.btn1,O3.tr(4933))):1==t&&(this.imgItem2.source=N12.FJ86(e.itemId),this.lbMoney2.$setText(e.itemNum),this.btn2.addEventListener(egret.TouchEvent.TOUCH_TAP,this.ZU37,this),this.btn2.label=this.getBtnLabel(Number(e.id)),this.lbBuy2.visible=!1,2==Number(e.id)?this.FM13(this.btn2,O3.tr(4932)):this.FM13(this.btn2,O3.tr(4933)))},t.prototype.FM13=function(t,e){t.size=e?(t.label2=e,t.labelY="12","22"):(t.label2="",t.labelY="0","24")},t.prototype.getBtnLabel=function(t){return 1==t?O3.tr(3213):2==t?O3.tr(3214):3==t?O3.tr(3215):""},t.prototype.ZU36=function(){var t=this.confList[0];this.click(t)},t.prototype.ZU37=function(){var t=this.confList[1];this.click(t)},t.prototype.ZM77=function(){App.CM.gtM(O6.C24).moving=!0},t.prototype.click=function(t){if(1!=App.CM.gtM(O6.C24).moving)if(N12.giC(Number(t.itemId))<Number(t.itemNum))P7.FA78();else if(P7.FF59()){if(this.closeSelf(!1),this.params.id==F7.A56){var e={type:t.id};App.CM.apF(O6.C24,O19.A1,e)}this.ZM77()}},t.prototype.ZJ83=function(){this.closeCD=10,this.ZU23(),this.bRegSkipTimer||(this.bRegSkipTimer=!0,App.K16.doTimer(1e3,this.closeCD,this.ZU23,this))},t.prototype.ZU23=function(){this.closeCD--,this.closeCD<=0?this.closeSelf(!0):this.lbTime.textFlow=M18.HTP.parser(O3.tr(6435,this.closeCD))},t.prototype.ZU24=function(){var t=[];if(this.params&&this.params.ob&&0<this.params.ob.length){var e=this.params.ob,i=!0;for(var s in P7.FM14()&&(i=!1),e){var o=e[s],r=N12.gID(o.k);if(r){var n={itemData:{data:r,ct:o.v},isBottom:i};t.push(n)}}}this.rewardsCollection.replaceAll(t)},t.prototype.closeSelf=function(t){var e=App.CM.gtM(O6.C24);e.isTween=null==t||t,this.apF(O19.A3)},t}(BaseEuiView);__reflect(DialRewardView.prototype,"DialRewardView");var DialSearchTreasureView=function(s){function t(t,e){var i=s.call(this,t,e)||this;return i.itemArray=[],i.index=1,i.baseTime=50,i.skinName="DialTreasureSkin",i}return __extends(t,s),t.prototype.initUI=function(){s.prototype.initUI.call(this),this.initLuckyPro(),this.lbldes.textFlow=M18.HTP.parse(O3.tr(3848)),this.lblxingyunzhi.textFlow=M18.HTP.parse(O3.tr(3849))},t.prototype.initData=function(){},t.prototype.ZQ51=function(){App.CM.apF(O6.B45,I12.A1)},t.prototype.initTrView=function(){for(var t=1;t<=16;t++){this["imgTR"+t].addEventListener(egret.TouchEvent.TOUCH_TAP,this.openProsView,this)}},t.prototype.updateTrView=function(){this.imgJpT1.$setVisible(!1),this.imgJpT2.$setVisible(!1),this.imgJpT3.$setVisible(!1),this.imgJpT4.$setVisible(!1),this.imgJip1.$setVisible(!1),this.imgJip2.$setVisible(!1),this.imgJip3.$setVisible(!1),this.imgJip4.$setVisible(!1);for(var t=I8.gIV("bestPartner").split(","),e=0;e<t.length;e++){App.THH33.aUE(this.getJPGroup(Number(t[e])),"act_fh");var i=this.getJiP(Number(t[e]));i&&i.$setVisible(!0)}this.imgHero1.$setVisible(!1),this.imgHero2.$setVisible(!1),this.imgHero3.$setVisible(!1),this.imgHero4.$setVisible(!1);for(var s=I8.gIV("heroOrange").split(","),o=0;o<s.length;o++){var r=this.getHero(Number(s[o]));r&&r.$setVisible(!0)}for(var n=1;n<=16;n++){var a=I8.FJ28(n);this["imgTRt"+n].visible=!1,this["lbCt"+n].$setText(a.num);var h=a.id,p=this["imgTR"+n];p.name=h,p.source=N12.FJ86(h);var l=N12.gID(h),c=parseInt(l.quality);this["imgTRk"+n].source=N12.getBox(c);var u=a.show;if(u&&1==Number(u)){var d=this.getJP(n);d&&d.$setVisible(!0)}}},t.prototype.initLuckyPro=function(){for(var t=I8.gIV("heroLucky"),e=I8.gIV("upperLucky"),i=t.split(";"),s=0;s<i.length;s++){var o=i[s],r=o.split(":")[1],n=new eui.Image;n.source=N12.FJ86(r),n.width=80,n.height=80,TG36.FK33(n,.5),TG36.FK34(n,.5);var a=parseInt(o.split(":")[0]),h=Math.round(this.imgDi.width*(a/parseInt(e)));n.name=r,n.scaleX=.5,n.scaleY=.5,n.x=h,n.y=-20,(this["img"+(s+1)]=n).addEventListener(egret.TouchEvent.TOUCH_TAP,this.openProsView,this,!0);var p=new eui.Image;p.source="jiantou_png",p.x=h+12,p.y=-10,p.rotation=90,this["jiantou"+(s+1)]=p,this.grplucky.addChild(p),this.grplucky.addChild(n)}},t.prototype.getJP=function(t){switch(t){case 1:return this.imgJpT1;case 5:return this.imgJpT2;case 9:return this.imgJpT3;case 13:return this.imgJpT4;default:return}},t.prototype.getJiP=function(t){switch(t){case 1:return this.imgJip1;case 5:return this.imgJip2;case 9:return this.imgJip3;case 13:return this.imgJip4;default:return}},t.prototype.getHero=function(t){switch(t){case 1:return this.imgHero1;case 5:return this.imgHero2;case 9:return this.imgHero3;case 13:return this.imgHero4;default:return}},t.prototype.getJPGroup=function(t){switch(t){case 1:return this.gpTx1;case 5:return this.gpTx2;case 9:return this.gpTx3;case 13:return this.gpTx4;default:return}},t.prototype.initItemView=function(){this.buyItem1.removeChildren(),this.buyItem2.removeChildren(),this.buyItem3.removeChildren(),this.itemArray=[];for(var t=1;t<4;t++){var e=new ItemTrBuyView(t);e.setData(t),this.itemArray.push(e)}this.buyItem1.addChild(this.itemArray[0]),this.buyItem2.addChild(this.itemArray[1]),this.buyItem3.addChild(this.itemArray[2])},t.prototype.uBM=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];if(s.prototype.uBM.call(this,t,e),t instanceof TF31){switch(e[0]){case P4.L72:this.obj=e[1],this.ZQ52(t),this.startTween(t);default:this.ZC86(t)}this.ZM96(App.CM.gtM(O6.C20))}else t instanceof TF84&&this.ZM96(t)},t.prototype.stopTween=function(){0!=App.CM.gtM(O6.B45).moving&&this.dealTweenEnd()},t.prototype.dealTweenEnd=function(){this.obj&&this.obj.ob&&(App.CM.apF(O6.B45,I12.A4,this.obj),P5.sIs(this.obj.ob),this.obj),this.handler&&(App.K16.rBH(this.handler),this.handler=null);for(var t=1;t<=16;t++)this["imgTRt"+t].visible=!1;this.ZHH69()},t.prototype.startTween=function(t){var e=this;if(t.isTween){this.index=-1;var i=App.K16.doTimer(this.baseTime,32,this.updateImtT.bind(this),item,function(){e.dealTweenEnd()});this.handler=i,this.ZU45()}else this.obj&&this.obj.ob&&(App.CM.apF(O6.B45,I12.A4,this.obj),P5.sIs(this.obj.ob)),this.ZHH69()},t.prototype.ZU45=function(){var t=this,e=App.CM.gtM(O6.B45),i=I8.gIV("upperLucky");e.treasureData.l>parseInt(i)||(TG36.FK33(this.grpXyz,.5),TG36.FK34(this.grpXyz,.5),this.p0=this.getXyzPoint(),null!=this.p0&&(this.grpXyz.x=this.p0.x,this.grpXyz.y=this.p0.y,this.p2=this.getProPoint(),this.p1=new egret.Point,this.p0.x>this.p2.x?this.p1.x=this.p2.x-50:this.p1.x=this.p2.x+50,this.p1.y=this.p2.y+(this.p0.y-this.p2.y)/3*2,App.THH33.aUE(this.grpXyz,"act_xyz"),egret.Tween.get(this).to({factor:1},1e3).wait(500).call(function(){t.ZC25()})))},t.prototype.ZC25=function(){egret.Tween.removeTweens(this),App.THH33.rEf(this.grpXyz,"act_xyz")},Object.defineProperty(t.prototype,"factor",{get:function(){return 0},set:function(t){this.grpXyz.x=(1-t)*(1-t)*this.p0.x+2*t*(1-t)*this.p1.x+t*t*this.p2.x,this.grpXyz.y=(1-t)*(1-t)*this.p0.y+2*t*(1-t)*this.p1.y+t*t*this.p2.y},enumerable:!0,configurable:!0}),t.prototype.getXyzPoint=function(){if(this.obj&&this.obj.t){var t=null;switch(this.obj.t){case 1:return null;case 2:t=this.buyItem2;break;case 3:t=this.buyItem3;break;default:return null}var e=new egret.Point;e.x=t.x+t.width/2,e.y=t.y+t.height/2;var i=new egret.Point;t.localToGlobal(t.width/2,t.height/2,i);var s=new egret.Point;return this.grpBg.globalToLocal(i.x,i.y,s),s}return null},t.prototype.getProPoint=function(){var t=new egret.Point;this.imgPro.parent.localToGlobal(this.imgPro.width,this.imgPro.height/2,t);var e=new egret.Point;return this.grpBg.globalToLocal(t.x,t.y,e),e},t.prototype.updateImtT=function(){var t=this.index++%16+1,e=this.index%16+1;t<1&&(t=1),this["imgTRt"+t].visible=!1,this["imgTRt"+e].visible=!0},t.prototype.ZC86=function(t){this.updateReport(t),this.ZHH73(t),this.ZQ52(t),this.initItemView()},t.prototype.ZHH73=function(t){if(1==t.treasureData.f){this.gpfirst.$setVisible(!0);var e=I8.gIV("yuanbaoFirst");this.imgFm.source=N12.FJ86(e),this.imgFd.source=N12.FL5(e),this.firstHandler=App.K16.doTimer(3e3,1,this.closeFirst,this)}else this.gpfirst.$setVisible(!1)},t.prototype.ZQ52=function(t){var e=I8.gIV("upperLucky");if(t.treasureData.l){if(t.treasureData.l>parseInt(e))this.imgPro.width=this.imgDi.width,this.ZJ90();else{var i=Math.round(this.imgDi.width*(t.treasureData.l/parseInt(e)));this.imgPro.width=i}for(var s=I8.gIV("heroLucky").split(";"),o=0;o<s.length;o++){var r=s[o],n=parseInt(r.split(":")[0]),a=this["img"+(o+1)];null!=a&&(t.treasureData.l>=n?P16.sGF(a,!0):P16.sGF(a,!1))}}else this.imgPro.width=0},t.prototype.ZJ90=function(){for(var t=0;t<this.itemArray.length;t++){this.itemArray[t].disLuckyGrp()}},t.prototype.updateReport=function(t){for(var e=1;e<=9;e++)this["grp"+e].visible=!1;for(var i=t.treasureData.ar,s=M18.HTP.parser(O3.tr(3850)),o=0;o<i.length;o++){var r=o+1;this["lbName"+r].$setText(i[o].aName);var n=N12.gID(i[o].id),a=this["lbPru"+r],h=O5.FB43(Number(n.quality),1),p=n.name+"*"+i[o].n;a.textFlow=M18.HTP.parser(O3.tr(4931,h,p)),this["grp"+r].visible=!0,this["lblhuode"+r].textFlow=s}},t.prototype.open=function(){for(var t=this,e=[],i=0;i<arguments.length;i++)e[i]=arguments[i];s.prototype.open.call(this),this.initTrView(),this.updateTrView(),this.ZHH69(),this.searchGroup.addEventListener(egret.TouchEvent.TOUCH_TAP,this.stopTween,this),this.gpfirst.addEventListener(egret.TouchEvent.TOUCH_TAP,this.closeFirst,this),App.CM.gtM(O6.B45).isTween=!0,this.ZQ51(),egret.Tween.get(this.buyItem2).wait(200).call(function(){return t.ZM96(App.CM.gtM(O6.C20))})},t.prototype.close=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];s.prototype.close.call(this),this.searchGroup.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.stopTween,this),this.gpfirst.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.closeFirst,this),this.closeItemBuy(),this.ZQ53(),this.handler&&(App.K16.rBH(this.handler),this.handler=null),this.firstHandler&&(App.K16.rBH(this.firstHandler),this.firstHandler=null),this.ZU46(),this.ZC25(),this.obj=null,this.p0=null,this.p1=null,this.p2=null,App.CM.apF(O6.C20,K2.A6,TG68.guideView==this.buyItem2)},t.prototype.closeFirst=function(){this.gpfirst.visible=!1},t.prototype.ZU46=function(){for(var t=I8.gIV("bestPartner").split(","),e=0;e<t.length;e++){this["img"+(e+1)].removeEventListener(egret.TouchEvent.TOUCH_TAP,this.openProsView,this,!0),App.THH33.rEf(this.getJPGroup(Number(t[e])),"act_fh")}},t.prototype.closeItemBuy=function(){for(var t=0;t<this.itemArray.length;t++){this.itemArray[t].GY64()}this.itemArray=[]},t.prototype.ZQ53=function(){for(var t=1;t<=16;t++){this["imgTR"+t].removeEventListener(egret.TouchEvent.TOUCH_TAP,this.openProsView,this)}},t.prototype.openProsView=function(t){var e=t.currentTarget.name,i=N12.gID(e);P5.FC75(i)},t.prototype.ZHH69=function(){App.CM.gtM(O6.B45).moving=!1},t.prototype.ZM96=function(t){var e=TF59.FB15(F7.A14).treasureData;t.homeExtra&&(0<e.freeNum?TG68.FL77(this.buyItem2,this.buyItem2.width/2,this.buyItem2.height/2+10):App.CM.apF(O6.C20,K2.A6,!0))},t}(BaseEuiView);__reflect(DialSearchTreasureView.prototype,"DialSearchTreasureView");var ItemDialBuyView=function(i){function t(t){var e=i.call(this)||this;return e.index=t,e.skinName=DialBuyItem,e}return __extends(t,i),t.prototype.setData=function(t,e){this.actId=e,this.index=t;var i=TF59.FB15(e).dialData.btnConf[t];this.itemId=i.itemId,this.itemNeed=i.itemNum,this.imgItem.source=N12.FJ86(i.itemId),this.lbMoney.textFlow=M18.HTP.parse(O3.tr(3857,i.itemNum)),this.btn.label=this.getBtnLabel(),this.btn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickGet,this),this.lbBuy.visible=!1,2==this.index?this.FM13(O3.tr(3858)):this.FM13(O3.tr(3859)),this.lblxingyun.textFlow=M18.HTP.parse(O3.tr(3860))},t.prototype.FM13=function(t){this.btn.size=t?(this.btn.label2=t,this.btn.labelY="12","22"):(this.btn.label2="",this.btn.labelY="0","24")},t.prototype.getBtnLabel=function(){if(this.actId==F7.A56){if(1==this.index)return O3.tr(3213);if(2==this.index)return O3.tr(3214);if(3==this.index)return O3.tr(3215)}return""},t.prototype.onClickGet=function(){if(N12.giC(Number(this.itemId))<Number(this.itemNeed))P7.FA78();else if(1!=App.CM.gtM(O6.C24).moving&&P7.FF59()){if(this.actId==F7.A56){var t={type:this.index};App.CM.apF(O6.C24,O19.A1,t)}this.ZM77()}},t.prototype.GY64=function(){this.btn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickGet,this)},t.prototype.ZM77=function(){App.CM.gtM(O6.C24).moving=!0},t}(eui.Component);__reflect(ItemDialBuyView.prototype,"ItemDialBuyView");var PolyFairyView=function(o){function t(t,e){var i=o.call(this,t,e)||this;return i.itemArray=[],i.coordArray=[],i.itemCoord=[],i.itemCoord2=[],i.itemCoord3=[],i.skinName="PolyFairySkin",i}return __extends(t,o),t.prototype.initUI=function(){o.prototype.initUI.call(this),this.descLb.textFlow=O3.tr2(8513),this.recordLb.textFlow=O3.tr2(8514)},t.prototype.open=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];o.prototype.open.call(this);var i=App.CM.gtM(O6.C9);i.moving=!1,this.initItemBtn(i),this.showGoods(i),this.ZQ54(),this.recordLb.addEventListener(egret.TouchEvent.TOUCH_TAP,this.recordClick,this);for(var s=1;s<=10;s++)this["gp"+s].addEventListener(egret.TouchEvent.TOUCH_TAP,this.doGoodInfo,this)},t.prototype.ZQ54=function(){this.lightTwe.blendMode=egret.BlendMode.ADD,egret.Tween.get(this.lightTwe,{loop:!0}).to({alpha:.25,scaleX:2,scaleY:2},0).to({alpha:.5,scaleX:2,scaleY:2},1e3).to({alpha:.25,scaleX:2,scaleY:2},2e3),this.ringTwe(),this.GY14()},t.prototype.GY14=function(){var e=this;this.itemCoord2.unshift(this.itemCoord2.pop()),this.itemCoord3.unshift(this.itemCoord3.pop());for(var t=function(t){egret.Tween.removeTweens(i["gp"+(t+1)]),egret.Tween.get(i["gp"+(t+1)],{loop:!1}).to(i.itemCoord2[t],3e3).call(function(){egret.Tween.get(e["gp"+(t+1)],{loop:!1}).to(e.itemCoord3[t],3e3)},i)},i=this,s=0;s<this.itemCoord2.length;s++)t(s);this.timeHandler=App.K16.doTimer(6e3,1,this.GY14,this)},t.prototype.ringTwe=function(){this.ringTwe1.blendMode=egret.BlendMode.ADD,egret.Tween.get(this.ringTwe1,{loop:!0}).to({alpha:0,scaleX:1.32,scaleY:1.32},0).to({alpha:.5,scaleX:1.52,scaleY:1.52},1500).to({alpha:0,scaleX:1.72,scaleY:1.72},3e3),this.ringTwe2.blendMode=egret.BlendMode.ADD,egret.Tween.get(this.ringTwe2,{loop:!0}).to({alpha:0,scaleX:1.32,scaleY:1.32},0).to({alpha:0,scaleX:1.32,scaleY:1.32},1500).to({alpha:.5,scaleX:1.52,scaleY:1.52},3e3),this.ringTwe3.blendMode=egret.BlendMode.ADD,egret.Tween.get(this.ringTwe3,{loop:!0}).to({alpha:.5,scaleX:1.52,scaleY:1.52},0).to({alpha:0,scaleX:1.72,scaleY:1.172},1500).to({alpha:.5,scaleX:1.172,scaleY:1.172},3e3)},t.prototype.ZD56=function(){egret.Tween.removeTweens(this.lightTwe),egret.Tween.removeTweens(this.ringTwe1),egret.Tween.removeTweens(this.ringTwe2),egret.Tween.removeTweens(this.ringTwe3)},t.prototype.absorbTweens=function(e){var i=this;this.timeHandler&&(App.K16.rBH(this.timeHandler),this.timeHandler=null);for(var t=1;t<=10;t++)egret.Tween.removeTweens(this["gp"+t]);this.absorbObj(!0),App.THH33.aUE(this.rotate1,"juxianzhen_jiasu",0,0,1,function(){App.THH33.aUE(i.rotate1,"juxianzhen_xunhuan")}),this.vortex.blendMode=egret.BlendMode.ADD,egret.Tween.get(this.vortex,{loop:!1}).to({alpha:0,scaleX:1.47,scaleY:1.47,rotation:0},0).to({alpha:1,scaleX:1.47,scaleY:1.47,rotation:-85},420).to({alpha:1,scaleX:1.47,scaleY:1.47,rotation:-616},2600).to({alpha:0,scaleX:.72,scaleY:.72,rotation:-753},3200),egret.Tween.get(this.ringTwe1,{loop:!1}).to({alpha:0,scaleX:1.32,scaleY:1.32},0).to({alpha:1,scaleX:1.68,scaleY:1.68},1500).to({alpha:0,scaleX:2,scaleY:2},3e3),egret.Tween.get(this.ringTwe2,{loop:!1}).to({alpha:0,scaleX:1.32,scaleY:1.32},0).to({alpha:0,scaleX:1.32,scaleY:1.32},1e3).to({alpha:1,scaleX:1.68,scaleY:1.68},2500).to({alpha:0,scaleX:2,scaleY:2},4e3),egret.Tween.get(this.ringTwe3,{loop:!1}).to({alpha:0,scaleX:1.32,scaleY:1.32},0).to({alpha:0,scaleX:1.32,scaleY:1.32},2e3).to({alpha:1,scaleX:1.68,scaleY:1.68},3500).to({alpha:0,scaleX:2,scaleY:2},5e3),this.lightTwe1.blendMode=egret.BlendMode.ADD;var s=egret.Tween.get(this.lightTwe1,{loop:!1}).to({alpha:.5,scaleX:2.38,scaleY:2.38},0).to({alpha:0,scaleX:3.5,scaleY:3.5},250);s.pause();var o=[];this.itemCoord=[];var r=function(t){n.itemCoord.push({x:n["gp"+t].x,y:n["gp"+t].y}),o[t-1]=egret.Tween.get(n["gp"+t],{loop:!0}).to({y:n["gp"+t].y},0).to({y:n["gp"+t].y+6},150).to({y:n["gp"+t].y},300),egret.Tween.get(n["gp"+t],{loop:!1}).wait(1e3*(1+.16*(t-1))).call(function(){o[t-1].pause()},n).wait(500).to({y:289,x:282,scaleX:.5,scaleY:.5},250).call(function(){s.play(),i["gp"+t].visible=!1,10==t&&i.ZM97(e)},n)},n=this;for(t=1;t<=10;t++)r(t);this.vortex1.blendMode=egret.BlendMode.ADD,egret.Tween.get(this.vortex1,{loop:!1}).to({alpha:0,scaleX:2,scaleY:2,rotation:0},0).to({alpha:.35,scaleX:2,scaleY:2,rotation:-40},420).to({alpha:.35,scaleX:2,scaleY:2,rotation:-288},2600).to({alpha:0,scaleX:.72,scaleY:.72,rotation:-360},3200)},t.prototype.ZM97=function(t){var e=this;egret.Tween.get(this.lightTwe1,{loop:!1}).to({alpha:1,scaleX:4,scaleY:4},0).to({alpha:0,scaleX:4,scaleY:4},500),this.lightTwe2.blendMode=egret.BlendMode.ADD,egret.Tween.get(this.lightTwe2,{loop:!1}).to({alpha:1,scaleX:1,scaleY:1},0).to({alpha:0,scaleX:11.03,scaleY:11.03},700),this.lightTwe3.blendMode=egret.BlendMode.ADD,egret.Tween.get(this.lightTwe3,{loop:!1}).to({alpha:1,scaleX:1,scaleY:1},0).to({alpha:0,scaleX:5,scaleY:5},700).call(function(){e.ZG20(),App.CM.apF(O6.C9,N11.A10,t),App.CM.gtM(O6.C9).moving=!1,e.absorbObj(!1),e.showItem()},this)},t.prototype.absorbObj=function(t){this.rotate1.visible=t,this.vortexGp.visible=t,this.vortexGp1.visible=t,this.lightTwe1.visible=t,this.lightTwe2.visible=t,this.lightTwe3.visible=t},t.prototype.showItem=function(){for(var t=1;t<=10;t++)this["gp"+t].x=this.itemCoord[t-1].x,this["gp"+t].y=this.itemCoord[t-1].y,this["gp"+t].scaleX=1,this["gp"+t].scaleY=1,this["gp"+t].visible=!0;this.GY14(),this.ringTwe()},t.prototype.ZG20=function(){App.THH33.rEf(this.rotate1,"juxianzhen_xunhuan"),egret.Tween.removeTweens(this.vortex),egret.Tween.removeTweens(this.vortex1),egret.Tween.removeTweens(this.ringTwe1),egret.Tween.removeTweens(this.ringTwe2),egret.Tween.removeTweens(this.ringTwe3);for(var t=1;t<=10;t++)egret.Tween.removeTweens(this["gp"+t]);egret.Tween.removeTweens(this.lightTwe1),egret.Tween.removeTweens(this.lightTwe2),egret.Tween.removeTweens(this.lightTwe3)},t.prototype.doGoodInfo=function(t){P5.FC75(t.currentTarget.name)},t.prototype.showGoods=function(t){var e,i=t.fairyData.more.split(";"),s=[],o=[];for(var r in this.itemCoord2=[],this.itemCoord3=[],i)o=(s=i[r].split("-"))[1].split(":"),e=N12.gID(o[0]),this["item"+s[0]].source=e.icon,this["gp"+s[0]].name=e,this["lb"+s[0]].text="×"+o[1],this["effect"+s[0]].name=e.quality,this.effect(this["effect"+s[0]],e.quality),this.itemCoord3.push({x:this["gp"+s[0]].x,y:this["gp"+s[0]].y}),this.itemCoord2.push(this.resolution(this["gp"+s[0]],Number(s[0])))},t.prototype.resolution=function(t,e){var i;return i=10==e?this.gp1:this["gp"+(e+1)],{x:(t.x+i.x)/2,y:(t.y+i.y)/2}},t.prototype.effect=function(t,e,i){void 0===i&&(i=!1);var s="";switch(e){case 3:s="juxianzhen_lan";break;case 4:s="juxianzhen_zi";break;case 5:s="juxianzhen_cheng";break;case 6:s="juxianzhen_hong";break;default:return}i?App.THH33.rEf(t,s):App.THH33.aUE(t,s,-40,-40)},t.prototype.recordClick=function(){App.CM.apF(O6.C9,N11.A3)},t.prototype.initItemBtn=function(t){var e={},i=t.fairyData.cost.split("|")[1].split(";");this.itemArray=[];for(var s=1;s<4;s++){var o=i[s-1].split(","),r=o[1].split(":"),n=o[2].split(":");e={count:o[0],itemId:r[0],currNum:r[1],af:t.fairyData.af,itemName:N12.FK5(n[0]),itemNum:n[1],cd:t.fairyData.cd};var a=new ItemFairyView(e);this.itemArray.push(a),this["buyItem"+s].addChild(a)}},t.prototype.uBM=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];if(o.prototype.uBM.call(this,t,e),t instanceof TG46&&e[0]==P4.E45){var s=e[1];s.cd&&0!=this.itemArray.length&&this.itemArray[0].timer(t.fairyData.cd,t.fairyData.af),t.isTween?this.absorbTweens(s):(App.CM.apF(O6.C9,N11.A10,s),t.moving=!1)}},t.prototype.close=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];o.prototype.close.call(this),this.closeItemBuy(),this.recordLb.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.recordClick,this);for(var i=1;i<=10;i++)this["gp"+i].addEventListener(egret.TouchEvent.TOUCH_TAP,this.doGoodInfo,this),this.effect(this["effect"+i],this["effect"+i].name,!0);this.ZD56(),this.ZG20(),this.timeHandler&&(App.K16.rBH(this.timeHandler),this.timeHandler=null)},t.prototype.closeItemBuy=function(){for(var t=0;t<this.itemArray.length;t++){this.itemArray[t].GY64()}this.itemArray=[]},t}(BaseEuiView);__reflect(PolyFairyView.prototype,"PolyFairyView");var DialData=function(i){function t(t){var e=i.call(this,t)||this;return e.btnConf={},e.loc=[],e.ar=[],e.updateData(t,!0),e}return __extends(t,i),t.prototype.updateData=function(t,e){void 0===e&&(e=!1),t&&(this.dealConf(t),this.loc=t.loc||this.loc,this.dis=t.dis||this.dis,this.dealAr(t,e),this.ZU63(t))},t.prototype.dealAr=function(t,e){if(t.ar&&!(t.ar.length<=0)){e&&(this.ar=[]);for(var i=t.ar,s=0;s<i.length;s++)this.ar.push(i[s]);var o=this.ar.length,r=[];if(10<o){for(var n=o-10;n<o;n++)r.push(this.ar[n]);this.ar=r}}},t.prototype.dealConf=function(t){if(t&&t.id&&t.parVer){this.btnConf={};for(var e=this.more.split("|")[0].split(";"),i=0;i<e.length;i++){var s=e[i].split(":"),o={id:s[0],itemId:s[1],itemNum:s[2]};this.btnConf[o.id]=o}}},t.prototype.FD69=function(t){for(var e=[],i=this.more.split("|")[1].split(";"),s=0;s<i.length;s++){var o=i[s].split(",")[0];if(t==Number(o))for(var r=i[s].split(",")[1].split("-"),n=0;n<r.length;n++)this.btnConf[r[n]]&&e.push(this.btnConf[r[n]])}return e.sort(function(t,e){return t.id-e.id}),e},t}(ActivityVo);__reflect(DialData.prototype,"DialData"),function(t){var e=function(){};(dial||(dial={})).DialDisVo=e,__reflect(e.prototype,"dial.DialDisVo")}();var B5=function(){function t(){}return t.A4=0,t.A3=1,t.A1=2,t.A2=3,t}();__reflect(B5.prototype,"B5");var TA12=function(i){function t(){var t=i.call(this)||this,e=new TA94(t);return e.aLV(O7.B80),e.aLV(O7.I64),App.VM.register(O7.B80,"EverydayRechargeView",t,K17.UI_Popup),t.rgF(B5.A4,t.GB52,t),t.rgF(B5.A3,t.GB13,t),t.everydayRechargeProxy=new TA95(t),t.rgF(B5.A1,t.GA38,t),t.rgF(B5.A2,t.GA39,t),t}return __extends(t,i),t.prototype.GA38=function(t){this.everydayRechargeProxy.ZA52(t)},t.prototype.GA39=function(t){if(200==t.head.state){var e=t.body,i=this.gtM();i.ZC13(e),i.notify(),t.body.ob&&P5.sIs(t.body.ob)}else App.CM.apF(O6.B87,L10.A4,t)},t.prototype.GB52=function(t){App.VM.open(O7.B80,t);var e=App.CM.gtM(O6.A13);e.firstLoginRedNum=0,e.notify()},t.prototype.GB13=function(){App.VM.close(O7.B80)},t}(TE11);__reflect(TA12.prototype,"TA12");var TA94=function(i){function t(t){var e=i.call(this,t)||this;return e.openState=!1,e.redNum=0,e.firstLoginRedNum=0,e}return __extends(t,i),t.prototype.ZC13=function(t){t&&(null!=this.everydayRechargeData?this.everydayRechargeData.updateData(t):(this.everydayRechargeData=new EverydayRechargeData(t),this.tips=this.everydayRechargeData.tips),this.isTakeAll()&&App.CM.apF(O6.A13,B5.A3),this.updateRed())},t.prototype.updateRed=function(){this.redNum=this.FL35()},t.prototype.FL35=function(){var t=0,e=(this.everydayRechargeData,this.everydayRechargeData.confs);for(var i in t+=this.firstLoginRedNum,e){if(e[i].getState==J13.A3){t+=1;break}}return t},t.prototype.isTakeAll=function(){this.everydayRechargeData;var t=this.everydayRechargeData.confs;for(var e in t){if(t[e].getState!=J13.A2)return!1}return!0},t.prototype.notify=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];i.prototype.notifyView.apply(this,[this].concat(t))},t}(TG79);__reflect(TA94.prototype,"TA94");var TA95=function(i){function t(t){var e=i.call(this,t)||this;return e.rSM(P4.A35,e.ZA53,e),e}return __extends(t,i),t.prototype.ZA52=function(t){var e={type:P4.A34,body:{index:t}};this.sSM(e)},t.prototype.ZA53=function(t){this.apF(A4.A2,t)},t}(TG80);__reflect(TA95.prototype,"TA95");var TB21=function(){function s(){}return s.FF70=function(){var t=[],e=App.CM.gtM(O6.A13).everydayRechargeData.confs;for(var i in e){var s=e[i];1==s.cm?t.push(O3.tr(3239)):t.push(O3.tr(3240,s.cm))}return t},s.FF71=function(){var t=[],e=App.CM.gtM(O6.A13).everydayRechargeData.confs;for(var i in e)t.push(e[i].index);return t},s.FG78=function(t){var e=new Array,i=App.CM.gtM(O6.A13),s=(i.everydayRechargeData,i.everydayRechargeData.confs);for(var o in s){var r=s[o];if(r.index==t)for(var n in r.award){var a={itemData:{data:N12.gID(r.award[n].k),ct:r.award[n].v},isBottom:!1};e.push(a)}}return e},s.FF74=function(t){var e=s.gtM().everydayRechargeData.confs;for(var i in e)if(e[i].index==t)return e[i];return null},s.gtM=function(){return App.CM.gtM(O6.A13)},s.getReNum=function(){var t=0,e=this.gtM();if(!e.openState)return t;t+=e.firstLoginRedNum;var i=e.everydayRechargeData.confs;for(var s in i){if(i[s].getState==J13.A3){t++;break}}return t},s}();__reflect(TB21.prototype,"TB21");var EveryDayRechargeBtnTab=function(e){function t(){var t=e.call(this)||this;return t.skinName=EverydayRechargeTabSkin,t}return __extends(t,e),t.prototype.dataChanged=function(){this.lbName.text=this.data.name,this.imgRedPoint.$setVisible(0<this.data.isShowRed)},t}(eui.ItemRenderer);__reflect(EveryDayRechargeBtnTab.prototype,"EveryDayRechargeBtnTab");var EverydayRechargeView=function(s){function t(t,e){var i=s.call(this,t,e)||this;return i.views=[],i.sGN("release_act1013"),i.skinName=EverydayRechargeSkin,i}return __extends(t,s),t.prototype.initUI=function(){s.prototype.initUI.call(this),this.listContent.itemRenderer=ItemIcon,this.dataSource=new eui.ArrayCollection,this.listContent.dataProvider=this.dataSource,this.awardsSc.viewport=this.listContent,this.awardsSc.scrollPolicyH=eui.ScrollPolicy.OFF,this.awardsSc.scrollPolicyV=eui.ScrollPolicy.OFF;var t=TB21.FF70();this.views=TB21.FF71(),this.btnList=new ButtonList(t,this.views,this.ZQ23.bind(this)),this.btnList.init(EveryDayRechargeBtnTab,F4.A1),this.btnList.setListGap(-11),this.btnGroup.addChild(this.btnList)},t.prototype.ZQ23=function(t){var e=TB21.FG78(t),i=TF59.FC9(e[0].itemData.data.quality);i&&(e[0].itemData.texiao=i),this.dataSource.replaceAll(e),this.btnList.setCurView(t);TB21.gtM();var s=TB21.FF74(t);this.getBtn.enabled=!0,P16.sGF(this.getBtn,!1),this.getBtn.imgNew.visible=!1,s.getState==J13.A1?(this.getBtn.colour="0xfeeedf",this.getBtn.bgStr="v1_btn_yellow_1_png",this.getBtn.label=O3.tr(3242)):s.getState==J13.A3?(this.getBtn.colour="0xfeeedf",this.getBtn.bgStr="v1_btn_yellow_1_png",this.getBtn.label=O3.tr(3232),this.getBtn.imgNew.visible=!0):(this.getBtn.enabled=!1,P16.sGF(this.getBtn,!0),this.getBtn.label=O3.tr(3202))},t.prototype.open=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];s.prototype.open.call(this),this.bgMask0.addEventListener(egret.TouchEvent.TOUCH_TAP,this.ZM98,this),this.closeBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.ZM98,this),this.getBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.ZU29,this),this.btnList.setCurView(this.getView()),this.GX5()},t.prototype.uBM=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];s.prototype.uBM.call(this,t,e),t instanceof TA94&&this.GX5()},t.prototype.GX5=function(){var t=TB21.gtM();if(t.openState){this.updateTabRed(),this.btnList.setCurView(this.getView()),this.ZQ23(this.btnList.getCurView());var e=t.everydayRechargeData.money;this.rechargeLb.text=O3.tr(3243,e)}},t.prototype.updateTabRed=function(){var t=TB21.gtM().everydayRechargeData.confs;for(var e in t){var i=t[e];i.getState==J13.A3?this.btnList.ZHH58(i.index,1):this.btnList.ZHH58(i.index,0)}},t.prototype.getView=function(){var t=TB21.gtM().everydayRechargeData,e=this.views[0],i=t.confs;for(var s in i){var o=i[s];if(o.getState!=J13.A2){if(o.getState==J13.A3){e=o.index;break}o.getState==J13.A1&&o.index<e&&(e=o.index)}}return e},t.prototype.close=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];s.prototype.close.call(this),this.bgMask0.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.ZM98,this),this.closeBtn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.ZM98,this),this.getBtn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.ZU29,this)},t.prototype.ZM98=function(){App.CM.apF(O6.A13,B5.A3)},t.prototype.ZU29=function(){var t=this.btnList.getCurView(),e=TB21.FF74(t);e.getState==J13.A3?App.CM.apF(O6.A13,B5.A1,this.btnList.getCurView()):e.getState==J13.A1&&(App.VM.close(O7.B80),App.CM.apF(O6.C29,P8.A7))},t}(BaseEuiView);__reflect(EverydayRechargeView.prototype,"EverydayRechargeView");var EverydayRechargeConfVo=function(t){this.getState=J13.A1,t&&(this.index=t.index,this.cm=t.cm,this.award=t.award)};__reflect(EverydayRechargeConfVo.prototype,"EverydayRechargeConfVo");var EverydayRechargeData=function(i){function t(t){var e=i.call(this,t)||this;return e.confs=[],e.money=0,e.yaw=[],e.updateData(t),e}return __extends(t,i),t.prototype.updateData=function(t){if(t){if(this.yaw=t.yaw||this.yaw,this.money=null==t.money?this.money:t.money,t.confs){var e=t.confs;for(var i in this.confs=[],e){var s=new EverydayRechargeConfVo(e[i]);this.confs.push(s)}}for(var i in this.confs.sort(function(t,e){return t.index-e.index}),this.confs){if(this.confs[i].getState=J13.A1,0<this.yaw.length)for(var o in this.yaw)if(this.confs[i].index==this.yaw[o]){this.confs[i].getState=J13.A2;break}this.money>=this.confs[i].cm&&this.confs[i].getState!=J13.A2&&(this.confs[i].getState=J13.A3)}}},t}(ActivityVo);__reflect(EverydayRechargeData.prototype,"EverydayRechargeData");var TD66=function(){function t(){}return t.FK35=function(t){this.init=t.fabaodraw_init,this.reward=t.fabaodraw_reward,this.shop=t.fabaodraw_shop,this.limitdraw=t.fabaodraw_limitdraw,this.limitshop=t.fabaodraw_limitshop,this.rewardGroup=this.ZQ55(),this.hightRewardGroup=this.ZE71(),this.fabaoIds=this.ZJ91(),this.hightFabaoIds=this.ZC87(),this.rateUp=this.ZE72(),this.setBaseData()},t.setBaseData=function(){if(this.init){this.openLv=this.FE59("openLv"),this.openDay=this.FE59("openDay");var t=this.gIV("costOnce").split(":");this.costOneItem=parseInt(t[0]),this.costOneNum=parseInt(t[1]);var e=this.gIV("costFive").split(":");this.costFiveItem=parseInt(e[0]),this.costFiveNum=parseInt(e[1]),this.drawTicket=this.FE59("drawTicket"),this.copperOnce=this.FE59("copperOnce"),this.copperFive=this.FE59("copperFive");var i=M18.FL28(this.gIV("refreshCost"),",",":");for(var s in i){this.refreshId||(this.refreshId=parseInt(i[s][0]));var o=parseInt(i[s][1]);this.refreshCost.push(o)}}},t.gIV=function(t){var e=O3.tr(5190);return this.init&&this.init[t]&&(e=this.init[t].value),e},t.FE59=function(t){var e;return this.init&&this.init[t]&&(e=parseInt(this.init[t].value)),e},t.ZQ55=function(){var t={};if(!this.reward)return t;for(var e in this.reward){var i=this.reward[e].version;t[i]||(t[i]={}),t[i][this.reward[e].id]=this.reward[e]}return t},t.ZE71=function(){var t={};if(!this.limitdraw)return t;for(var e in this.limitdraw){var i=this.limitdraw[e].version;t[i]||(t[i]={}),t[i][this.limitdraw[e].id]=this.limitdraw[e]}return t},t.ZJ91=function(){var t={};if(!this.init)return t;var e=this.gIV("fabaoId"),i=M18.FL28(e,"|",",",";");for(var s in i){var o=i[s][0];t[o]||(t[o]=[]),t[o]=i[s][1]}return t},t.ZC87=function(){var t={};if(!this.init)return t;var e=this.gIV("fabaoId2"),i=M18.FL28(e,"|",",",";");for(var s in i){var o=i[s][0];t[o]||(t[o]=[]),t[o]=i[s][1]}return t},t.ZE72=function(){var t={};if(!this.init)return t;var e=this.gIV("rateUp"),i=M18.FL28(e,"|",",");for(var s in i){var o=i[s][0];t[o]||(t[o]=[]),t[o]=parseInt(i[s][1])}return t},t.refreshCost=[],t}();__reflect(TD66.prototype,"TD66");var HH15=function(){function t(){}return t.A16=10001,t.A17=10002,t.A6=10003,t.A7=10004,t.A1=10005,t.A2=10006,t.A3=10007,t.A4=10008,t.A12=10009,t.A13=10010,t.A18=20001,t.A14=20002,t.A8=20003,t.A5=20004,t.A10=20005,t.A9=20006,t.A20=20007,t.A19=20008,t.A15=20009,t.A11=20010,t}();__reflect(HH15.prototype,"HH15");var D2=function(){function t(){}return t.A3=1,t.A5=2,t.A4=3,t.A2=4,t.A1=5,t}();__reflect(D2.prototype,"D2");var TB56=function(i){function t(){var t=i.call(this)||this;App.VM.register(O7.E47,"FaBaoDrawOpenView",t,K17.UI_Main_TOP),t.rgF(HH15.A18,t.GE22,t),t.rgF(HH15.A14,t.GD20,t),App.VM.register(O7.C5,"FaBaoDrawPreviewView",t,K17.UI_Main_TOP),t.rgF(HH15.A8,t.GB53,t),t.rgF(HH15.A5,t.GB14,t),App.VM.register(O7.C80,"FaBaoDrawRecordView",t,K17.UI_Main_TOP),t.rgF(HH15.A10,t.GC26,t),t.rgF(HH15.A9,t.GB54,t),App.VM.register(O7.HH78,"FaBaoShopView",t,K17.UI_Main_TOP),t.rgF(HH15.A20,t.GK57,t),t.rgF(HH15.A19,t.GI63,t),App.VM.register(O7.D70,"FaBaoDrawGuideView",t,K17.UI_Main_TOP),t.rgF(HH15.A15,function(){App.VM.open(O7.D70)},t),t.rgF(HH15.A11,function(){App.VM.close(O7.D70)},t);var e=new TE38(t);return e.aLV(O7.HH75),e.aLV(O7.E47),e.aLV(O7.C5),e.aLV(O7.C80),e.aLV(O7.I39),e.aLV(O7.I64),e.aLV(O7.D58),e.aLV(O7.HH78),t.proxy=new TE39(t),t.rgF(HH15.A16,t.GW94,t),t.rgF(HH15.A17,t.GW95,t),t.rgF(HH15.A6,t.GR97,t),t.rgF(HH15.A7,t.GR98,t),t.rgF(HH15.A1,t.GI61,t),t.rgF(HH15.A2,t.GI62,t),t.rgF(HH15.A3,t.GQ20,t),t.rgF(HH15.A4,t.GQ21,t),t.rgF(HH15.A12,t.GW96,t),t.rgF(HH15.A13,t.GW97,t),t}return __extends(t,i),Object.defineProperty(t.prototype,"model",{get:function(){return this.gtM()},enumerable:!0,configurable:!0}),t.prototype.GW94=function(t){this.proxy.GW94(t)},t.prototype.GW95=function(t){var e=this.model;200==t.head.state?(e.ZC13(t.body),t.body.lo&&this.GE22(t.body.lo,t.body.ob),e.notify(P4.O37)):App.CM.apF(O6.B87,L10.A4,t)},t.prototype.GR97=function(){this.proxy.GR97()},t.prototype.GR98=function(t){var e=this.model;200==t.head.state?(e.ZC13(t.body),e.notify(P4.I41)):App.CM.apF(O6.B87,L10.A4,t)},t.prototype.GI61=function(){this.proxy.GI61()},t.prototype.GI62=function(t){var e=this.model;200==t.head.state?(e.ZC13(t.body),e.notify(P4.C14)):App.CM.apF(O6.B87,L10.A4,t)},t.prototype.GQ20=function(){this.proxy.GQ20()},t.prototype.GQ21=function(t){var e=this.model;200==t.head.state?(e.ZC13(t.body),e.notify(P4.F10)):App.CM.apF(O6.B87,L10.A4,t)},t.prototype.GW96=function(t){this.proxy.GW96(t)},t.prototype.GW97=function(t){var e=this.model;200==t.head.state?(e.ZC13(t.body),P5.sIs(t.body.ob),e.notify(P4.M34)):App.CM.apF(O6.B87,L10.A4,t)},t.prototype.GE22=function(t,e){App.VM.open(O7.E47,t,e)},t.prototype.GD20=function(){App.VM.close(O7.E47)},t.prototype.GB53=function(){App.VM.open(O7.C5)},t.prototype.GB14=function(){App.VM.close(O7.C5)},t.prototype.GC26=function(){App.VM.open(O7.C80)},t.prototype.GB54=function(){App.VM.close(O7.C80)},t.prototype.GK57=function(){App.VM.open(O7.HH78)},t.prototype.GI63=function(){App.VM.close(O7.HH78)},t}(TE11);__reflect(TB56.prototype,"TB56");var TE38=function(i){function t(t){var e=i.call(this,t)||this;return e.openState=!1,e.redNum=0,e.firstLoginRedNum=0,e.isAutoOpen=!1,e}return __extends(t,i),t.prototype.ZC13=function(t){var e=this;if(t){if(null!=this.faBaoDrawData?this.faBaoDrawData.updateData(t):(this.faBaoDrawData=new FaBaoDrawData(t),this.tips=this.faBaoDrawData.tips),null!=t.rcd&&(this.lastLoadTime=P6.getTime(!0),this.overCd=t.rcd,t.rcd&&!this.timerHandler&&(this.timerHandler=App.K16.doTimer(1e3,0,function(){TE40.FJ24()<=0&&e.ZHH74()},this))),null!=t.rfs&&(this.updateNum=t.rfs),null!=t.cd&&(this.lastUpdateTime=P6.getTime(!0),this.updateCd=t.cd),t.rs)for(var i in this.recordList=[],t.rs){var s=new FabaoDrawRecordVo(t.rs[i]);this.recordList.push(s)}if(t.ss)for(var i in this.faBaoShopList={},t.ss)this.faBaoShopList[t.ss[i].id]=new FabaoDrawShopVo(t.ss[i]);t.s&&this.faBaoShopList[t.s.id].updateData(t.s),this.ZU47(),this.updateRed()}},t.prototype.ZU47=function(){this.rewardData=[];var t=TD66.rewardGroup[this.faBaoDrawData.parVer];for(var e in this.modelList=TD66.fabaoIds[this.faBaoDrawData.parVer],t){var i=new FaBaoDrawRewardVo(t[e]);this.rewardData.push(i)}},t.prototype.ZHH74=function(){this.overCd=0,this.timerHandler&&(App.K16.rBH(this.timerHandler),this.timerHandler=null),App.CM.apF(O6.B32,HH15.A1)},t.prototype.updateRed=function(){this.redNum=this.FL35()},t.prototype.FL35=function(){var t=0;!(t+=this.firstLoginRedNum)&&TE40.FL37()&&(t+=this.faBaoDrawData.overNum,0<N12.giC(TD66.drawTicket)&&(t+=1));return t},t.prototype.FJ24=function(){var t=P6.getTime(!0)-this.lastLoadTime,e=this.overCd-t;return 0<e?e:0},t.prototype.FG79=function(){var t=P6.getTime(!0)-this.lastUpdateTime,e=this.updateCd-t;return 0<e?e:0},t.prototype.ZHH75=function(){var t=!1;if(O4.FF89(L17.A28))return t;if(!this.faBaoShopList)return t;var e=[];for(var i in this.faBaoShopList){var s=this.faBaoShopList[i];s.isBuy||e.push(s.priceNum)}return t=P7.FD55(e)<=N12.giC(75013)},t.prototype.notify=function(t,e){void 0===t&&(t=void 0),void 0===e&&(e=void 0),i.prototype.notifyView.call(this,this,t,e)},t}(TG79);__reflect(TE38.prototype,"TE38");var TE39=function(i){function t(t){var e=i.call(this,t)||this;return e.rSM(P4.C14,e.GI62,e),e}return __extends(t,i),t.prototype.GW94=function(t){var e={type:P4.O36,body:{type:t}};this.rSMO(P4.O37,this.GW95,this),this.sSM(e)},t.prototype.GW95=function(t){this.apF(HH15.A17,t)},t.prototype.GR97=function(){var t={type:P4.I40,body:{}};this.rSMO(P4.I41,this.GR98,this),this.sSM(t)},t.prototype.GR98=function(t){this.apF(HH15.A7,t)},t.prototype.GI61=function(){var t={type:P4.C13,body:{}};this.sSM(t)},t.prototype.GI62=function(t){this.apF(HH15.A2,t)},t.prototype.GQ20=function(){var t={type:P4.F9,body:{}};this.rSMO(P4.F10,this.GQ21,this),this.sSM(t)},t.prototype.GQ21=function(t){this.apF(HH15.A4,t)},t.prototype.GW96=function(t){var e={type:P4.M33,body:{id:t}};this.rSMO(P4.M34,this.GW97,this),this.sSM(e)},t.prototype.GW97=function(t){this.apF(HH15.A13,t)},t}(TG80);__reflect(TE39.prototype,"TE39");var TE40=function(){function t(){}return Object.defineProperty(t,"model",{get:function(){return App.CM.gtM(O6.B32)},enumerable:!0,configurable:!0}),t.FJ24=function(){return this.model.FJ24()},t.FG79=function(){return this.model.FG79()},t.FK39=function(){var t=[],e=this.model.rewardData;for(var i in e)e[i].exhibition&&t.push(e[i]);return t},t.FJ25=function(){var t=[],e=this.model.rewardData;for(var i in e)e[i].rateshow&&t.push(e[i]);return t},t.FL37=function(){var t=TF59.FA3(F17.A7),e=App.CM.gtM(O6.B43).serOpenDay+1,i=O4.getLv();return-1!=t.indexOf(F7.B5)&&e>=TD66.FE59("openDay")&&TD66.FE59("openLv")<=i},t.FF75=function(){var t,e=this.model.updateNum,i=TD66.refreshCost;return t=i[i.length-1],i[e]&&(t=i[e]),t},t.FD65=function(){var t=[],e=this.model;for(var i in e.faBaoShopList){var s=e.faBaoShopList[i];t.push(s)}return t.sort(this.sortList),t},t.sortList=function(t,e){return t.index-e.index},t.FF76=function(){if(!this.FL37())return!1;var t=TG69.FI64(EntryIds.FaBaoDrawGuide);return O4.getLv()<=t.unlocklv},t}();__reflect(TE40.prototype,"TE40");var FaBaoDrawGuideView=function(s){function t(t,e){var i=s.call(this,t,e)||this;return i.skinName="FaBaoDrawGuideSkin",i}return __extends(t,s),t.prototype.initUI=function(){s.prototype.initUI.call(this),this.btnGo.label=O3.tr(7417)},t.prototype.open=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];s.prototype.open.call(this,t),this.imgBg.addEventListener(egret.TouchEvent.TOUCH_TAP,this.oCC,this),this.btnClose.addEventListener(egret.TouchEvent.TOUCH_TAP,this.oCC,this),this.btnGo.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickGo,this),this.updataUI()},t.prototype.onClickGo=function(){TG84.FM16(3902)},t.prototype.updataUI=function(){var t=App.CM.gtM(O6.C7).skinList[307],e=t.FI15(),i=e[e.length-1];this.lbName.textFlow=M18.HTP.parser(O3.tr(7415,t.getHightSkillName())),this.lbTips.textFlow=M18.HTP.parser(O3.tr(7416,i.desc))},t.prototype.close=function(){this.imgBg.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.oCC,this),this.btnClose.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.oCC,this),this.btnGo.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickGo,this)},t.prototype.ZU48=function(){this.apF(HH15.A3)},t.prototype.oCC=function(){App.CM.apF(O6.B32,HH15.A11)},t}(BaseEuiView);__reflect(FaBaoDrawGuideView.prototype,"FaBaoDrawGuideView");var FaBaoDrawOpenItemView=function(e){function t(){var t=e.call(this)||this;return t.skinName=FaBaoDrawOpenItemSkin,t.addEventListener(egret.Event.ADDED_TO_STAGE,t.open,t),t.addEventListener(egret.Event.REMOVED_FROM_STAGE,t.close,t),t}return __extends(t,e),t.prototype.open=function(){},t.prototype.close=function(){},t.prototype.childrenCreated=function(){e.prototype.createChildren.call(this)},t.prototype.setData=function(t){this.item||(this.item=new ItemIcon,this.item.horizontalCenter=0,this.item.verticalCenter=0,this.item.data=t,this.lbName.text=t.itemData.data.name,P7.FM14()?this.lbName.visible=!1:this.lbName.visible=!0,this.gpIcon.addChild(this.item))},t}(eui.Component);__reflect(FaBaoDrawOpenItemView.prototype,"FaBaoDrawOpenItemView");var FaBaoDrawOpenView=function(s){function t(t,e){var i=s.call(this,t,e)||this;return i.openIndex=[],i.skinName=FaBaoDrawOpenSkin,i}return __extends(t,s),Object.defineProperty(t.prototype,"model",{get:function(){return App.CM.gtM(O6.B32)},enumerable:!0,configurable:!0}),t.prototype.initUI=function(){s.prototype.initUI.call(this);var t=O3.tr(6990,O3.tr(6993));this.FM13(this.btnFiveMelt,t),this.btnFiveMelt.label=O3.tr(6467)},t.prototype.FM13=function(t,e){t.size=e?(t.label2=e,t.labelY="12","22"):(t.label2="",t.labelY="0","24")},t.prototype.open=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];s.prototype.open.call(this),this.list=t[0],this.ob=t[1],this.cbAuto.label=O3.tr(6403),this.rect.addEventListener(egret.TouchEvent.TOUCH_TAP,this.closeSelf,this),this.card1.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickCard,this),this.card2.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickCard,this),this.card3.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickCard,this),this.card4.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickCard,this),this.card5.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickCard,this),this.btnOpen.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickOpen,this),this.cbAuto.addEventListener(egret.Event.CHANGE,this.onChange,this),this.btnFiveMelt.addEventListener(egret.TouchEvent.TOUCH_TAP,this.ZM99,this),1==this.list.length&&(this.card1.horizontalCenter=this.card1.verticalCenter=this.gpCard1.horizontalCenter=this.gpCard1.verticalCenter=0,this.btnOpen.visible=this.cbAuto.visible=this.btnFiveMelt.visible=!1,this.removeChild(this.card2),this.removeChild(this.card3),this.removeChild(this.card4),this.removeChild(this.card5)),this.GX5()},t.prototype.GX5=function(){var t=this;this.isAction1=!0;var e=this.model;this.cbAuto.selected=e.isAutoOpen,1==this.list.length?this.isOpen=!1:this.isOpen=!!e.isAutoOpen,this.cd=this.isOpen?5:10,this.btnOpen.label=O3.tr(6381,5),this.qualityEff=[];for(var i=0;i<this.list.length;i++){switch(TD66.reward[this.list[i]].quality){case 2:this.qualityEff.push("wdsg_bfld01_lv_kppz_12");break;case 3:this.qualityEff.push("wdsg_bfld01_lan_kppz_13");break;case 4:this.qualityEff.push("wdsg_bfld01_kppz_z_09");break;case 5:this.qualityEff.push("wdsg_bfld01_c_kppz_10");break;case 6:this.qualityEff.push("wdsg_bfld01_h_kppz_11")}}egret.Tween.get(this.bgMask).to({alpha:0},170).to({alpha:.5},210),1==this.list.length?egret.Tween.get(this).call(this.addCard,this,[this.qualityEff[0],this.gpCard1]).wait(100).call(this.GY14,this).call(function(){t.isAction1=!1}):egret.Tween.get(this).call(this.addCard,this,[this.qualityEff[0],this.gpCard1]).wait(100).call(this.addCard,this,[this.qualityEff[1],this.gpCard2]).wait(100).call(this.addCard,this,[this.qualityEff[2],this.gpCard3]).wait(100).call(this.addCard,this,[this.qualityEff[3],this.gpCard4]).wait(100).call(this.addCard,this,[this.qualityEff[4],this.gpCard5]).call(this.GY14,this)},t.prototype.GY14=function(){var t=this;this.timeHandler1||(this.timeHandler1=App.K16.doTimer(1e3,this.cd,function(){5==t.cd&&(t.isOpen=!0,t.openAllCard()),t.cd--,t.cd<=5?t.btnOpen.label=O3.tr(6382,t.cd):t.btnOpen.label=O3.tr(6381,t.cd-5),t.cd<=0&&(t.getAllCard(),t.ZHH70())},this,this.getAllCard,this))},t.prototype.openAllCard=function(){for(var t=1;t<=5;t++)this.list[t-1]&&this.turnCard(this["gpCard"+t],this.list[t-1],t);this.closeEvent()},t.prototype.getAllCard=function(){this.closeSelf()},t.prototype.onChange=function(){this.model.isAutoOpen=this.cbAuto.selected,TG40.playClickEffect()},t.prototype.addCard=function(t,e){var i=this;App.THH32.aUE(e,"wdsg_bfldl_hb_002",e.width/2,e.height/2,1,null,null,null,null,null,!0),App.THH32.aUE(e,"wdsg_bfldl_kpdh_005",e.width/2,e.height/2,1,null,function(){App.THH32.aUE(e,t,e.width/2,e.height/2,-1,null,null,null,null,null,!0),e==i.gpCard5&&(i.isAction1=!1)},null,null,null,!0)},t.prototype.onClickCard=function(t){switch(1==this.list.length&&(this.isOpen=!0),t.currentTarget.name){case"card1":this.turnCard(this.gpCard1,this.list[0],1),this.card1.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickCard,this);break;case"card2":this.turnCard(this.gpCard2,this.list[1],2),this.card2.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickCard,this);break;case"card3":this.turnCard(this.gpCard3,this.list[2],3),this.card3.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickCard,this);break;case"card4":this.turnCard(this.gpCard4,this.list[3],4),this.card4.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickCard,this);break;case"card5":this.turnCard(this.gpCard5,this.list[4],5),this.card5.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickCard,this)}TG40.playClickEffect()},t.prototype.turnCard=function(t,e,i){var s=TD66.reward[e].item.split(":"),o={data:N12.gID(s[0]),ct:parseInt(s[1])};if(this.openIndex.indexOf(i)<0){var r=new FaBaoDrawOpenItemView;r.setData({itemData:o,isBottom:!1,scale:1}),t.addChild(r),r.horizontalCenter=0,r.verticalCenter=0;var n=5<=TD66.reward[e].quality?"wdsg_bfld3_kpdh_008":"wdsg_bfld3_kpdh_007";App.THH32.aUE(t,n,t.width/2,t.height/2,1,null,null,null,null,null,!0),this.openIndex.push(i)}},t.prototype.onClickOpen=function(){this.isAction1||(this.isOpen?this.getAllCard():(this.isOpen=!0,this.cd=5,this.openAllCard()))},t.prototype.ZHH70=function(){this.timeHandler1&&(App.K16.rBH(this.timeHandler1),this.timeHandler1=null)},t.prototype.startMelt=function(){var t=0;if(5<=N12.giC(TD66.drawTicket))t=D2.A1;else{var e=N12.giC(TD66.costFiveItem),i=App.CM.gtM(O6.A41),s=0;if(i.openState&&i.actData.ZU21(1)&&(s=Number(i.actData.cost.split("|")[1].split(";")[0].split(":")[1])),!(e>=TD66.costFiveNum-s))return void P7.FA78();t=D2.A4}this.closeSelf(),App.CM.apF(O6.B32,HH15.A16,t)},t.prototype.ZM99=function(){var t=this;this.isAction1||(this.isOpen?this.startMelt():(this.isOpen=!0,this.openAllCard(),egret.Tween.get(this).wait(1e3).call(function(){t.startMelt()})))},t.prototype.closeEvent=function(){this.card1.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickCard,this),this.card2.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickCard,this),this.card3.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickCard,this),this.card4.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickCard,this),this.card5.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickCard,this)},t.prototype.close=function(){s.prototype.close.call(this),this.ZHH70(),this.rect.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.closeSelf,this),this.btnOpen.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickOpen,this),this.cbAuto.removeEventListener(egret.Event.CHANGE,this.onChange,this),this.btnFiveMelt.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.ZM99,this),this.closeEvent();for(var t=1;t<=5;t++)App.THH32.rEf(this["gpCard"+t],this.qualityEff[t-1]);egret.Tween.removeTweens(this),egret.Tween.removeTweens(this.bgMask)},t.prototype.closeSelf=function(){this.isOpen&&(P5.sIs(this.ob),App.CM.apF(O6.B32,HH15.A14))},t}(BaseEuiView);__reflect(FaBaoDrawOpenView.prototype,"FaBaoDrawOpenView");var FaBaoDrawPreviewItemView=function(e){function t(){var t=e.call(this)||this;return t.skinName=FaBaoDrawPreviewItemSkin,t}return __extends(t,e),t.prototype.childrenCreated=function(){e.prototype.createChildren.call(this)},t.prototype.dataChanged=function(){e.prototype.dataChanged.call(this);var t=O5.FB43(this.data.itemData.quality,1);this.lbName.textFlow=M18.HTP.parser(O3.tr(7097,t,this.data.name)),this.lbProbability.textFlow=M18.HTP.parser(O3.tr(6478,(100*this.data.rate).toFixed(1)))},t}(eui.ItemRenderer);__reflect(FaBaoDrawPreviewItemView.prototype,"FaBaoDrawPreviewItemView");var FaBaoDrawPreviewView=function(s){function t(t,e){var i=s.call(this,t,e)||this;return i.skinName=FaBaoDrawPreviewSkin,i}return __extends(t,s),t.prototype.initUI=function(){s.prototype.initUI.call(this),this.touchEnabled=!1;var t={render:FaBaoDrawPreviewItemView,tileLayout:!0,verticalGap:0,horizontalGap:-10,width:this.listGroup.width,height:this.listGroup.height};this.listView=new CommonListBase(t),this.listGroup.addChild(this.listView),this.listView.verticalCenter=0,this.listView.horizontalCenter=0,this.dlg.title=O3.tr(6474),this.lbStr2.textFlow=M18.HTP.parser(O3.tr(6476))},t.prototype.open=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];s.prototype.open.call(this),this.listView.open(),this.dlg.ZM69(this.closeSelf.bind(this),this),this.dlg.ZQ14(this.closeSelf.bind(this),this),this.leftArrow.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickLeft,this),this.rightArrow.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickRight,this),this.skill.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickSkill,this),this.updateUI(),this.initModel()},t.prototype.initModel=function(){var t=App.CM.gtM(O6.B32);this.leftArrow.visible=!1,1==t.modelList.length?this.rightArrow.visible=!1:this.rightArrow.visible=!0,this.nowIndex=0,this.ZN1()},t.prototype.onClickLeft=function(){this.leftArrow.visible=1!=this.nowIndex,this.rightArrow.visible=!0,this.nowIndex-=1,this.ZN1()},t.prototype.onClickRight=function(){var t=App.CM.gtM(O6.B32).modelList.length;this.leftArrow.visible=!0,this.nowIndex+=1,this.rightArrow.visible=this.nowIndex+1!=t,this.ZN1()},t.prototype.ZN1=function(){var t=App.CM.gtM(O6.B32),e=App.CM.gtM(O6.C7),i=parseInt(t.modelList[this.nowIndex]);e.skinViewId=i;var s=e.skinList[i],o={id:i,x:0,y:0,dir:Dir.br,objType:P13.A6};this.objFaBao||(this.objFaBao=new FightGameObject),this.objFaBao.setData(o,this.grpFaBao);var r=TG19.base[i].name,n=O5.FB43(TG19.base[i].quality,1);this.lbName.textFlow=M18.HTP.parser(O3.tr(6473,n,r)),this.objFaBao.name=null,this.skill.imgIcon.source=s.getSkillIcon()},t.prototype.updateUI=function(){var t=TE40.FJ25();this.listView.rfL(t)},t.prototype.close=function(){s.prototype.close.call(this),this.listView.close(),this.nowIndex=null,this.leftArrow.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickLeft,this),this.rightArrow.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickRight,this),this.skill.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickSkill,this),this.grpFaBao.removeChildren(),this.objFaBao.destory(),this.objFaBao=null},t.prototype.onClickSkill=function(){this.aCF(O6.C7,N9.A12)},t.prototype.closeSelf=function(){this.apF(HH15.A5)},t}(BaseEuiView);__reflect(FaBaoDrawPreviewView.prototype,"FaBaoDrawPreviewView");var FaBaoDrawRecordItemView=function(e){function t(){var t=e.call(this)||this;return t.skinName=FaBaoDrawRecordItemSkin,t}return __extends(t,e),t.prototype.childrenCreated=function(){e.prototype.createChildren.call(this)},t.prototype.dataChanged=function(){var t=O5.FB43(this.data.itemData.quality,1),e=O3.tr(6480,this.data.name,t,this.data.itemData.name,this.data.haveNum);this.lbRecord.textFlow=M18.HTP.parser(e)},t}(eui.ItemRenderer);__reflect(FaBaoDrawRecordItemView.prototype,"FaBaoDrawRecordItemView");var FaBaoDrawRecordView=function(s){function t(t,e){var i=s.call(this,t,e)||this;return i.skinName=FaBaoDrawRecordSkin,i}return __extends(t,s),t.prototype.initUI=function(){s.prototype.initUI.call(this),this.lbStr1.textFlow=M18.HTP.parse(O3.tr(6479));var t={render:FaBaoDrawRecordItemView,tileLayout:!0,verticalGap:0,horizontalGap:-10,width:this.listGroup.width,height:this.listGroup.height};this.listView=new CommonListBase(t),this.listGroup.addChild(this.listView),this.listView.verticalCenter=0,this.listView.horizontalCenter=0},t.prototype.open=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];s.prototype.open.call(this),this.listView.open(),this.bgMask.addEventListener(egret.TouchEvent.TOUCH_TAP,this.closeSelf,this);var i=App.CM.gtM(O6.B32);this.ZC26(i)},t.prototype.uBM=function(t,e){if(s.prototype.uBM.call(this,t),t instanceof TE38)switch(e){case P4.I41:this.ZC26(t)}},t.prototype.ZC26=function(t){var e=P7.copyTab(t.recordList);this.listView.rfL(e)},t.prototype.close=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];s.prototype.close.call(this),this.listView.close(),this.bgMask.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.closeSelf,this)},t.prototype.closeSelf=function(){this.apF(HH15.A9)},t}(BaseEuiView);__reflect(FaBaoDrawRecordView.prototype,"FaBaoDrawRecordView");var FaBaoDrawRunItemView=function(i){function t(){var t=i.call(this)||this;return t.initHeight=126,t.skinName=FaBaoDrawRunItemSkin,t.addEventListener(egret.Event.ADDED_TO_STAGE,t.open,t),t.addEventListener(egret.Event.REMOVED_FROM_STAGE,t.close,t),t}return __extends(t,i),t.prototype.open=function(){this.itemIcon=new ItemIcon,this.gpIcon.addChild(this.itemIcon);var t=3*Math.random(),e=20*Math.random();this.bgImg.height=this.initHeight+e*t},t.prototype.close=function(){this.gpIcon.removeChildren(),this.itemIcon=null},t.prototype.childrenCreated=function(){i.prototype.createChildren.call(this)},t.prototype.dataChanged=function(){i.prototype.dataChanged.call(this);var t={itemData:{data:this.data.itemData,ct:this.data.itemNum},isBottom:!1},e=TF59.FC9(this.data.itemData.quality);e&&(t.itemData.texiao=e),this.itemIcon.data=t},t}(eui.ItemRenderer);__reflect(FaBaoDrawRunItemView.prototype,"FaBaoDrawRunItemView");var FaBaoDrawView=function(o){function t(t,e){var i=o.call(this,t,e)||this;return i.sGN("release_act1082"),i.skinName=FaBaoDrawSkin,i}return __extends(t,o),t.prototype.initUI=function(){o.prototype.initUI.call(this),this.touchEnabled=!1,this.runData.dataProvider=this.runCollection=new eui.ArrayCollection,this.runData.itemRenderer=FaBaoDrawRunItemView,this.copyRunData.dataProvider=this.copyRunCollection=new eui.ArrayCollection,this.copyRunData.itemRenderer=FaBaoDrawRunItemView;var t=O3.tr(6990,O3.tr(6993));this.FM13(this.btnFiveMelt,t),this.lbFiveMelt.visible=!1,this.btnFiveMelt.label=O3.tr(6467),P7.FD57(O3.tr(6801),this.btnRecord.lbName),P7.FD57(O3.tr(6802),this.btnPreview.lbName),P7.FD57(O3.tr(6709),this.btnShop.lbName)},t.prototype.open=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];o.prototype.open.call(this),this.btnOneMelt.addEventListener(egret.TouchEvent.TOUCH_TAP,this.ZQ42,this),this.btnFiveMelt.addEventListener(egret.TouchEvent.TOUCH_TAP,this.ZM99,this),this.btnShop.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickShop,this),this.btnPreview.addEventListener(egret.TouchEvent.TOUCH_TAP,this.ZQ41,this),this.btnRecord.addEventListener(egret.TouchEvent.TOUCH_TAP,this.ZU49,this);var i=App.CM.gtM(O6.B32);this.ZG21(),i.overCd&&this.openHandler(),this.stateAct(),App.THH32.aUE(this.grpEffert,"wdsg_bfldl_lz_001",this.grpEffert.width/2,this.grpEffert.height/2),this.ZU50()},t.prototype.stateAct=function(){var i=this;App.K16.doTimer(500,1,function(){i.runData.validateNow();i.runData.numChildren;var t=(i.runData.width+30+24)/546*25e3,e=i.runData.width/546*25e3;egret.Tween.get(i.runData,{loop:!0}).to({x:-i.runData.width},t).to({x:i.runData.width+30+24}).to({x:30},e),egret.Tween.get(i.copyRunData,{loop:!0}).to({x:i.runData.width+30+24}).to({x:-i.runData.width},t+e)},this)},t.prototype.openHandler=function(){var e=this,t=O3.tr(6469,P6.FJ11(1e3*TE40.FJ24(),1));this.lbOneMelt.visible=!0,this.lbOneMelt.textFlow=M18.HTP.parser(t),this.timerHandler=App.K16.doTimer(1e3,0,function(){if(0<TE40.FJ24()){var t=O3.tr(6469,P6.FJ11(1e3*TE40.FJ24(),1));e.lbOneMelt.textFlow=M18.HTP.parser(t)}else e.cTH()},this)},t.prototype.cTH=function(){this.lbOneMelt.visible=!1,this.timerHandler&&(App.K16.rBH(this.timerHandler),this.timerHandler=null)},t.prototype.ZQ42=function(){var t=App.CM.gtM(O6.B32),e=N12.giC(TD66.drawTicket),i=0;if(t.faBaoDrawData.overNum)i=D2.A3;else if(0<e)i=D2.A2;else{if(!(N12.giC(TD66.costOneItem)>=TD66.costOneNum))return void P7.FA78();i=D2.A5}App.CM.apF(O6.B32,HH15.A16,i)},t.prototype.ZM99=function(){App.CM.gtM(O6.B32);var t=0;if(5<=N12.giC(TD66.drawTicket))t=D2.A1;else{var e=N12.giC(TD66.costFiveItem),i=App.CM.gtM(O6.A41),s=0;if(i.openState&&i.actData.ZU21(1)&&(s=Number(i.actData.cost.split("|")[1].split(";")[0].split(":")[1])),!(e>=TD66.costFiveNum-s))return void P7.FA78();t=D2.A4}App.CM.apF(O6.B32,HH15.A16,t)},t.prototype.ZQ41=function(){App.CM.apF(O6.B32,HH15.A8)},t.prototype.ZU49=function(){App.CM.apF(O6.B32,HH15.A6),App.CM.apF(O6.B32,HH15.A10)},t.prototype.onClickShop=function(){App.CM.apF(O6.B32,HH15.A20)},t.prototype.uBM=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];o.prototype.uBM.call(this,t,e);var s=e[0];if(t instanceof THH9)switch(s){case P4.V43:this.ZG21(),this.ZU50()}if(t instanceof TE38){switch(s){case P4.O37:case P4.C14:this.ZG21(),t.overCd&&this.openHandler()}switch(s){case P4.O37:case P4.I41:case P4.C14:case P4.F10:case P4.M34:this.ZU50()}}if(t instanceof TG12)switch(s){case P4.S94:this.ZU50()}},t.prototype.ZG21=function(){var t=App.CM.gtM(O6.B32),e=N12.gID(TD66.drawTicket),i=N12.giC(TD66.drawTicket);if(0<t.faBaoDrawData.overNum)this.imgOneMelt.visible=this.lbOneMeltNum.visible=!1,this.btnOneMelt.imgNew.visible=!0,this.btnOneMelt.label=O3.tr(6485),this.FM13(this.btnOneMelt);else{this.imgOneMelt.visible=this.lbOneMeltNum.visible=!0;var s=O3.tr(6990,O3.tr(6991));this.FM13(this.btnOneMelt,s),this.timerHandler||(this.btnOneMelt.label=O3.tr(6466)),this.lbOneMeltNum.textFlow=0<i?(this.btnOneMelt.imgNew.visible=!0,this.imgOneMelt.setData(e),M18.HTP.parser(O3.tr(6472,i,1))):(this.btnOneMelt.imgNew.visible=!1,e=N12.gID(TD66.costOneItem),this.imgOneMelt.setData(e),M18.HTP.parser(O3.tr(6470,TD66.costOneNum)))}if(5<=i)this.noThGrp.visible=!0,this.opThGrp.visible=!1,this.btnFiveMelt.imgNew.visible=!0,e=N12.gID(TD66.drawTicket),this.imgFiveMelt.setData(e),this.lbFiveMeltNum.textFlow=M18.HTP.parser(O3.tr(6472,i,5));else{this.btnFiveMelt.imgNew.visible=!1;var o=App.CM.gtM(O6.A41);if(e=N12.gID(TD66.costFiveItem),o.openState)if(o.actData.ZU21(1)){this.noThGrp.visible=!1,this.opThGrp.visible=!0;var r=o.actData.cost.split("|")[1].split(";")[0].split(":")[1];this.imgFiveN.setData(e),this.imgFiveR.setData(e),this.lbFiveRNum.textFlow=M18.HTP.parser(O3.tr(6470,TD66.costFiveNum)),this.lbFiveNNum.textFlow=M18.HTP.parser(O3.tr(6470,TD66.costFiveNum-Number(r))),null==this.btnFiveImg&&(this.btnFiveImg=new eui.Image,this.btnFiveImg.source="v1_img_hui_png",this.btnFiveMelt.addChild(this.btnFiveImg),this.btnFiveImg.right=-10,this.btnFiveImg.top=-5)}else null!=this.btnFiveImg&&(this.btnFiveImg.source=""),this.noThGrp.visible=!0,this.opThGrp.visible=!1,this.imgFiveMelt.setData(e),this.lbFiveMeltNum.textFlow=M18.HTP.parser(O3.tr(6470,TD66.costFiveNum));else this.noThGrp.visible=!0,this.opThGrp.visible=!1,this.imgFiveMelt.setData(e),this.lbFiveMeltNum.textFlow=M18.HTP.parser(O3.tr(6470,TD66.costFiveNum))}var n=TE40.FK39();this.runCollection.replaceAll(n),this.copyRunCollection.replaceAll(n)},t.prototype.FM13=function(t,e){t.size=e?(t.label2=e,t.labelY="12","22"):(t.label2="",t.labelY="0","24")},t.prototype.ZU50=function(){var t=App.CM.gtM(O6.B32);this.btnShop.imgNew.visible=t.ZHH75()},t.prototype.close=function(){o.prototype.close.call(this),this.btnOneMelt.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.ZQ42,this),this.btnFiveMelt.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.ZM99,this),this.btnShop.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickShop,this),this.btnPreview.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.ZQ41,this),this.btnRecord.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.ZU49,this),this.removeEventListener(egret.TouchEvent.COMPLETE,this.stateAct,this),this.cTH(),App.THH32.rEf(this.grpEffert,"wdsg_bfldl_lz_001"),egret.Tween.removeTweens(this.runData),egret.Tween.removeTweens(this.copyRunData)},t}(BaseEuiView);__reflect(FaBaoDrawView.prototype,"FaBaoDrawView");var FaBaoShopItemView=function(e){function t(){var t=e.call(this)||this;return t.skinName=FaBaoShopItemSkin,t.addEventListener(egret.Event.ADDED_TO_STAGE,t.open,t),t.addEventListener(egret.Event.REMOVED_FROM_STAGE,t.close,t),t}return __extends(t,e),t.prototype.open=function(){this.buyBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.clickBuy,this)},t.prototype.close=function(){this.buyBtn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.clickBuy,this)},t.prototype.childrenCreated=function(){e.prototype.createChildren.call(this),this.initUI()},t.prototype.initUI=function(){this.itemIcon=new ItemIcon,this.iconGp.addChild(this.itemIcon)},t.prototype.dataChanged=function(){var t={itemData:{data:this.data.itemData,ct:this.data.itemNum},isBottom:!0};this.itemIcon.data=t,this.imgHave.setData(this.data.priceData);var e=!!this.data.isBuy;P16.sGF(this.buyBtn,e),this.buyBtn.enabled=!e,this.buyBtn.label=e?O3.tr(2512):O3.tr(6706),this.lbCost.textFlow=M18.HTP.parse(O3.tr(4149,"X"+this.data.priceNum))},t.prototype.clickBuy=function(){App.CM.apF(O6.B32,HH15.A12,this.data.id)},t}(eui.ItemRenderer);__reflect(FaBaoShopItemView.prototype,"FaBaoShopItemView");var FaBaoShopView=function(o){function t(t,e){var i=o.call(this,t,e)||this;return i.skinName=FaBaoShopSkin,i}return __extends(t,o),t.prototype.initData=function(){o.prototype.initData.call(this)},t.prototype.initUI=function(){o.prototype.initUI.call(this),this.dlg.title=O3.tr(6709),this.btnUpdate.label=O3.tr(6729),this.cbRed.label=O3.tr(7418);var t=N12.gID(N12.itemId.faBao);this.imgHave.setData(t),t=N12.gID(TD66.refreshId),this.imgItem.setData(t);var e={render:FaBaoShopItemView,tileLayout:!0,horizontalGap:14,verticalGap:10,width:this.grpList.width,height:this.grpList.height,arrowScale:1};this.listView=new CommonListBase(e),this.grpList.addChild(this.listView)},t.prototype.open=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];o.prototype.open.call(this,t),this.listView.open(),this.btnUpdate.addEventListener(egret.TouchEvent.TOUCH_TAP,this.ZU48,this),this.cbRed.addEventListener(egret.Event.CHANGE,this.changeCbRed,this),this.dlg.ZM69(this.oCC,this),this.dlg.ZQ14(this.oCC,this),this.updataUI(),this.openHandler(),this.updateRedCkx()},t.prototype.updateRedCkx=function(){this.cbRed.selected=O4.FF89(L17.A28)},t.prototype.updataUI=function(){var t=N12.giC(N12.itemId.faBao);this.lbNum.textFlow=M18.HTP.parser(O3.tr(4156,t)),t=TE40.FF75(),this.lbAmount.textFlow=M18.HTP.parser(O3.tr(4149,t));var e=TE40.FD65();this.listView.rfL(e)},t.prototype.close=function(){this.btnUpdate.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.ZU48,this),this.cbRed.removeEventListener(egret.Event.CHANGE,this.changeCbRed,this),this.cTH(),this.listView.close()},t.prototype.ZU48=function(){this.apF(HH15.A3)},t.prototype.uBM=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];o.prototype.uBM.call(this,t,e);var s=e[0];if(t instanceof TE38)switch(s){case P4.R38:case P4.N58:case P4.F10:case P4.M34:this.updataUI()}if(t instanceof TG12)switch(s){case P4.S94:this.cbRed.selected=O4.FF89(L17.A28)}},t.prototype.oCC=function(){App.CM.apF(O6.B32,HH15.A19),this.close()},t.prototype.openHandler=function(){var e=this,t=O3.tr(6712,P6.FJ11(1e3*TE40.FG79(),1));this.lbUpdateTime.textFlow=M18.HTP.parser(t),this.timerHandler=App.K16.doTimer(1e3,0,function(){if(0<TE40.FG79()){var t=O3.tr(6712,P6.FJ11(1e3*TE40.FG79(),1));e.lbUpdateTime.textFlow=M18.HTP.parser(t)}},this)},t.prototype.cTH=function(){this.timerHandler&&(App.K16.rBH(this.timerHandler),this.timerHandler=null)},t.prototype.changeCbRed=function(){App.CM.apF(O6.B82,L13.A24,L17.A28),TG40.playClickEffect()},t}(BaseEuiView);__reflect(FaBaoShopView.prototype,"FaBaoShopView");var FaBaoDrawData=function(i){function t(t){var e=i.call(this,t)||this;return e.updateData(t),e}return __extends(t,i),t.prototype.updateData=function(t){this.parVer=null!=t.parVer?t.parVer:this.parVer,this.overNum=null!=t.rf?t.rf:this.overNum},t}(ActivityVo);__reflect(FaBaoDrawData.prototype,"FaBaoDrawData");var FabaoDrawRecordVo=function(){function t(t){this.updateData(t)}return t.prototype.updateData=function(t){this.name=null!=t.an?t.an:this.name,this.itemId=null!=t.i?t.i:this.itemId,this.haveNum=null!=t.n?t.n:this.haveNum,this.itemData=N12.gID(this.itemId)},t}();__reflect(FabaoDrawRecordVo.prototype,"FabaoDrawRecordVo");var FaBaoDrawRewardVo=function(){function t(t){this.initData(t)}return t.prototype.initData=function(t){for(var e in t)this[e]=t[e];var i=this.item.split(":");this.itemId=parseInt(i[0]),this.itemNum=parseInt(i[1]),this.itemData=N12.gID(this.itemId)},t}();__reflect(FaBaoDrawRewardVo.prototype,"FaBaoDrawRewardVo");var FabaoDrawShopVo=function(){function t(t){this.updateData(t)}return t.prototype.updateData=function(t){if(this.id=null!=t.id?t.id:this.id,this.index=null!=t.index?t.index:this.index,this.isBuy=null!=t.isBuy?t.isBuy:this.isBuy,!this.itemData){var e=TD66.shop[this.id],i=e.item.split(":");this.itemData=N12.gID(i[0]),this.itemNum=parseInt(i[1]),i=e.price.split(":"),this.priceData=N12.gID(i[0]),this.priceNum=parseInt(i[1])}},t}();__reflect(FabaoDrawShopVo.prototype,"FabaoDrawShopVo");var C17=function(){function t(){}return t.A4=10001,t.A3=10002,t.A1=10003,t.A2=10004,t}();__reflect(C17.prototype,"C17");var TA43=function(i){function t(){var t=i.call(this)||this,e=new TC5(t);return e.aLV(O7.E14),e.aLV(O7.I64),e.aLV(O7.HH30),App.VM.register(O7.E14,"FirstRechargeView",t,K17.UI_Main_TOP),t.rgF(C17.A4,t.GE23,t),t.rgF(C17.A4,t.GE23,t),t.firstRechargeProxy=new TC6(t),t.rgF(C17.A1,t.GA23,t),t.rgF(C17.A2,t.GA24,t),t}return __extends(t,i),t.prototype.GA23=function(t){var e=App.CM.gtM(O6.B82),i=new Date,s=new Date(e.avatarInfo.ct);"fth5"===platform.name||"japan"===platform.name||"wakool"===platform.name||"freetop"===platform.name||"ft7477"===platform.name||"youle"===platform.name||"my1737"===platform.name||"militop"===platform.name||"btgame"===platform.name||"sdw"===platform.name||"gaga"===platform.name?29.99==t&&P6.FM1(s,i)&&platform.collect("CustomizeProduct"):"english"!==platform.name&&"huanyu"!==platform.name||14.99==t&&P6.FM1(s,i)&&platform.collect("CustomizeProduct"),this.firstRechargeProxy.GA23(t)},t.prototype.GA24=function(t){if(200==t.head.state){var e=t.body,i=this.gtM();i.ZC13(e),i.notify(P4.A29),P5.sIs(t.body.ob)}else App.CM.apF(O6.B87,L10.A4,t)},t.prototype.GE23=function(t){var e=App.CM.gtM(O6.A44);App.VM.open(O7.E14,e.ZN2()),e.firstLoginRedNum=0,e.openRemind=!1,e.notify()},t.prototype.GD21=function(){App.VM.close(O7.E14)},t}(TE11);__reflect(TA43.prototype,"TA43");var TC5=function(i){function t(t){var e=i.call(this,t)||this;return e.openState=!1,e.redNum=0,e.firstLoginRedNum=0,e.openRemind=!1,e}return __extends(t,i),t.prototype.ZC13=function(t){t&&(null!=this.firstRechargeData?this.firstRechargeData.updateData(t):(this.firstRechargeData=new FirstRechargeData(t),this.tips=this.firstRechargeData.tips),this.updateRed(),this.firstRechargeData.hasBuyList.length>=this.firstRechargeData.firstRechargeAwdConf.length&&(this.openRemind=!1),this.firstRechargeData.hasGetList.length>=this.firstRechargeData.firstRechargeAwdConf.length&&(App.CM.apF(O6.A44,C17.A3),this.openState=!1))},t.prototype.updateRed=function(){this.redNum=this.FL35()},t.prototype.FL35=function(){var t=0;t+=this.firstLoginRedNum;var e=this.firstRechargeData.firstRechargeAwdConf;for(var i in e)if(e[i].getState==J13.A3){t+=1;break}return t},t.prototype.ZN2=function(){var t;for(var e in this.firstRechargeData.firstRechargeAwdConf){var i=this.firstRechargeData.firstRechargeAwdConf[e];if(i.getState==J13.A3)return parseInt(e);i.getState==J13.A1&&null==t&&(t=parseInt(e))}return null!=t?t:0},t.prototype.notify=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];i.prototype.notifyView.apply(this,[this].concat(t))},t}(TG79);__reflect(TC5.prototype,"TC5");var TC6=function(i){function t(t){var e=i.call(this,t)||this;return e.rSM(P4.A29,e.GA24,e),e}return __extends(t,i),t.prototype.GA23=function(t){var e={type:P4.A28,body:{id:t}};this.sSM(e)},t.prototype.GA24=function(t){this.apF(C17.A2,t)},t}(TG80);__reflect(TC6.prototype,"TC6");var TC56=function(){function o(){}return o.FB51=function(t){var e=0,i=App.CM.gtM(O6.A44).firstRechargeData.firstRechargeAwdConf;for(var s in i)if(i[s].money==t&&i[s].getState==J13.A3){e+=1;break}return e},o.FHH86=function(){for(var t=0,e=App.CM.gtM(O6.A44).firstRechargeData.firstRechargeAwdConf,i=0;i<e.length;i++)if(e[i].getState==J13.A1){t=i;break}for(i=0;i<e.length;i++){var s=e[i].money;if(0<o.FB51(s)){t=i;break}}return t},o.FF77=function(t){var e=0,i=M18.FL28(t,";",":");for(var s in i){var o=K18.FJ32(i[s][0]).power;e+=parseInt(i[s][1])*o}return e},o.FK40=function(){var t=App.CM.gtM(O6.A44);if(t.openState&&t.firstRechargeData.hasBuyList.length<t.firstRechargeData.firstRechargeAwdConf.length){var e=App.CM.gtM(O6.B82).avatarInfo.l,i=t.firstRechargeData.cost.split(",");e>=parseInt(i[0])&&parseInt(i[1]);var s=parseInt(i[0]);if(parseInt(i[1])<e)return t.openRemind=!1,void t.notify();s<=e&&(e-s)%10==0&&(t.openRemind=!0,t.notify())}},o}();__reflect(TC56.prototype,"TC56");var FirstRechargeBtn=function(e){function t(){var t=e.call(this)||this;return t.skinName=FirstRechargeBtnSkin,t.addEventListener(egret.Event.ADDED_TO_STAGE,t.open,t),t.addEventListener(egret.Event.REMOVED_FROM_STAGE,t.close,t),t}return __extends(t,e),t.prototype.open=function(){},t.prototype.close=function(){},t.prototype.childrenCreated=function(){e.prototype.createChildren.call(this)},t.prototype.dataChanged=function(){this.lbName.text=O3.tr(4437,this.data.conf.money),this.data.state?this.currentState="down":this.currentState="up",this.data.conf.getState==J13.A3?this.imgRed.visible=!0:this.imgRed.visible=!1},t}(eui.ItemRenderer);__reflect(FirstRechargeBtn.prototype,"FirstRechargeBtn");var FirstRechargeView=function(o){function t(t,e){var i=o.call(this,t,e)||this;return i.skinName=FirstRechargeSkin,i}return __extends(t,o),t.prototype.initUI=function(){o.prototype.initUI.call(this);var t={render:FirstRechargeBtn,gap:5,width:this.gpBtn.width,height:this.gpBtn.height};this.myListView=new CommonListBase(t),this.gpBtn.addChild(this.myListView),this.itemCollection=new eui.ArrayCollection,this.dgItem.dataProvider=this.itemCollection,this.dgItem.itemRenderer=ItemIcon},t.prototype.open=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];o.prototype.open.call(this),this.sGN("release_act1007"),this.btnBuy.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickGoBtn,this),this.closeBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.closeSelf,this),this.bgMask.addEventListener(egret.TouchEvent.TOUCH_TAP,this.closeSelf,this),this.myListView.ZM71(this.listListener.bind(this)),this.myListView.open();var i=App.CM.gtM(O6.A44);this.selectIndex=null!=t[0]?t[0]:0,this.picList=M18.FL28(i.firstRechargeData.picture,"|",","),this.ZN3(i,!0)},t.prototype.uBM=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];o.prototype.uBM.call(this,t,e);var s=e[0];t instanceof TC5&&(s==P4.A29&&this.setCurIndex(t),this.ZN3(t))},t.prototype.setCurIndex=function(t){var e=t.firstRechargeData.firstRechargeAwdConf;for(var i in e){var s=e[i];if(s.getState==J13.A3||s.getState==J13.A1){this.selectIndex=parseInt(i);break}}},t.prototype.ZN3=function(t,e){void 0===e&&(e=!1);var i=t.firstRechargeData,s=t.firstRechargeData.firstRechargeAwdConf,o=s[this.selectIndex].money,r=i.hasRechargeMoney;for(var n in this.lbTip.text=O3.tr(3243,r),s)if(s[n].money==o){this.btnBuy.enabled=!0,P16.sGF(this.btnBuy,!1),s[n].getState==J13.A3?(this.btnBuy.label=O3.tr(3204),this.btnBuy.colour="0xfeeedf",P7.FD53(this.btnBuy,1)):(s[n].getState==J13.A2?(this.btnBuy.label=O3.tr(3202),this.btnBuy.enabled=!1,P16.sGF(this.btnBuy,!0)):this.btnBuy.label=O3.tr(3203),P7.FD53(this.btnBuy,0));var a=s[n].awd,h=[];for(var p in a){var l=a[p].v,c=N12.gID(String(a[p].k)),u={itemData:{data:c,ct:l},isBottom:!1};if(0==parseInt(p)){var d=TF59.FC9(c.quality);d&&(u.itemData.texiao=d)}h.push(u)}this.itemCollection.replaceAll(h)}for(var v=[],f=0;f<s.length;f++){u={state:f==this.selectIndex,conf:s[f]};e?v.push(u):this.myListView.ZJ79(u,f)}e&&this.myListView.rfL(v);var g=M18.FL28(i.more,";",",");for(var f in g)parseInt(g[f][0])==this.selectIndex+1&&(this.lbPower.text=g[f][1]);var m=this.picList[this.selectIndex];if(this.imgLabel.source=m[1],1==m[0]){for(var n in this.picList)1==this.picList[n][0]&&App.THH33.rEf(this.gpWeapon,this.picList[n][2]);switch(this.gpWeapon.visible=!0,this.gpWeapon.verticalCenter=null,this.gpWeapon.left=null,m[2]){case"rechargeWeapon1":this.gpWeapon.verticalCenter=-101,this.gpWeapon.left=22;break;case"rechargeWeapon2":this.gpWeapon.verticalCenter=-140,this.gpWeapon.left=-5;break;case"rechargeWeapon3":this.gpWeapon.verticalCenter=-186,this.gpWeapon.left=45;break;case"rechargeWeapon4":this.gpWeapon.verticalCenter=-55,this.gpWeapon.left=45}this.gpModel.visible=!1,App.THH33.aUE(this.gpWeapon,m[2])}else this.gpWeapon.visible=!1,this.setModel(m[2])},t.prototype.setModel=function(t){this.gpModel.visible=!0;var e=App.CM.gtM(O6.B82).avatarInfo.us[J11.A7],i={id:t,x:0,y:0,dir:Dir.br,objType:P13.A6,bt:BehaviourType.Stand_d};i.id=t;var s=O1.getSkin(t);if("title"==s.type);else{if("horses"==s.type&&(i.id=e.id,i.h=t),"magicthing"==s.type&&(i.id=e.id,i.f=t,i.x=40,i.y=50),"wing"==s.type&&(i.y=35),this.objModel&&(this.gpModel.removeChildren(),this.objModel.destory(),this.objModel=null),this.objModel=new FightGameObject,this.objModel.setData(i,this.gpModel),"horses"==s.type)for(var o=this.gpModel.getChildAt(0),r=0;r<o.numChildren;r++){if((n=o.getChildAt(r)).fight_st&&"b"==n.fight_st){n.visible=!1;break}}if("magicthing"==s.type)for(o=this.gpModel.getChildAt(0),r=0;r<o.numChildren;r++){(n=o.getChildAt(r)).fight_st&&"f"!=n.fight_st&&(n.visible=!1)}if("wing"==s.type)for(o=this.gpModel.getChildAt(0),r=0;r<o.numChildren;r++){var n;(n=o.getChildAt(r)).fight_st&&"b"!=n.fight_st&&(n.visible=!1)}}},t.prototype.listListener=function(t){this.selectIndex=t.itemIndex;var e=App.CM.gtM(O6.A44);this.ZN3(e)},t.prototype.onClickGoBtn=function(){if(this.btnBuy.imgNew.visible){if(!P7.FF59())return;var t=App.CM.gtM(O6.A44),e=(t.firstRechargeData,t.firstRechargeData.firstRechargeAwdConf[this.selectIndex].money);App.CM.apF(O6.A44,C17.A1,e)}else App.CM.apF(O6.C29,P8.A7)},t.prototype.close=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];o.prototype.close.call(this),this.btnBuy.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickGoBtn,this),this.closeBtn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.closeSelf,this),this.bgMask.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.closeSelf,this),this.itemCollection.removeAll(),this.myListView.close(),this.picList=null,this.objModel&&(this.gpModel.removeChildren(),this.objModel.destory(),this.objModel=null)},t.prototype.closeSelf=function(){App.VM.GY64(this)},t}(BaseEuiView);__reflect(FirstRechargeView.prototype,"FirstRechargeView");var FirstRechargeData=function(i){function t(t){var e=i.call(this,t)||this;return e.hasRechargeMoney=0,e.hasGetList=[],e.hasBuyList=[],e.updateData(t),e}return __extends(t,i),t.prototype.updateData=function(t){if(t){if(this.hasRechargeMoney=null==t.y?this.hasRechargeMoney:t.y,this.hasGetList=t.yaw||this.hasGetList,t.cf){var e=t.cf;this.firstRechargeAwdConf=[];for(var i=0;i<e.length;i++){var s=new FirstRechargefVo(e[i]);this.firstRechargeAwdConf.push(s)}}for(var i in this.firstRechargeAwdConf){if(0<this.hasGetList.length)for(var o in this.hasGetList)this.firstRechargeAwdConf[i].money==this.hasGetList[o]&&(this.firstRechargeAwdConf[i].getState=J13.A2);this.hasRechargeMoney>=this.firstRechargeAwdConf[i].money&&this.firstRechargeAwdConf[i].getState!=J13.A2&&(this.firstRechargeAwdConf[i].getState=J13.A3,this.hasBuyList.push(i))}this.firstRechargeAwdConf.sort(function(t,e){return t.money-e.money}),this.ZU63(t)}},t}(ActivityVo);__reflect(FirstRechargeData.prototype,"FirstRechargeData");var FirstRechargefVo=function(){function t(t){this.awd=[],this.getState=J13.A1,this.initData(t)}return t.prototype.initData=function(t){t&&(this.money=t.m,this.awd=t.aw)},t}();__reflect(FirstRechargefVo.prototype,"FirstRechargefVo");var A5=function(){function t(){}return t.A2=0,t.A1=1,t}();__reflect(A5.prototype,"A5");var TA4=function(i){function t(){var t=i.call(this)||this,e=new TA23(t);return e.aLV(O7.A41),e.aLV(O7.I64),App.VM.register(O7.A41,"FirstRechargePackageView",t,K17.UI_Popup),t.rgF(A5.A2,t.GA40,t),t.rgF(A5.A1,t.GA25,t),t}return __extends(t,i),t.prototype.GA40=function(){App.VM.open(O7.A41)},t.prototype.GA25=function(){App.VM.close(O7.A41)},t}(TE11);__reflect(TA4.prototype,"TA4");var TA23=function(i){function t(t){var e=i.call(this,t)||this;return e.openState=!1,e.redNum=0,e.firstLoginRedNum=0,e}return __extends(t,i),t.prototype.ZC13=function(t){t&&(null!=this.actData?this.actData.updateData(t):(this.actData=new FirstRechargePackageData(t),this.tips=this.actData.tips),this.updateRed())},t.prototype.updateRed=function(){this.redNum=this.FL35()},t.prototype.FL35=function(){return 0<this.firstLoginRedNum?1:0},t.prototype.notify=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];i.prototype.notifyView.apply(this,[this].concat(t))},t}(TG79);__reflect(TA23.prototype,"TA23");var firstRechargePackage,FirstRechargePackageView=function(s){function t(t,e){var i=s.call(this,t,e)||this;return i.sGN("release_act1040"),i.skinName=FirstRechargePackageSkin,i}return __extends(t,s),t.prototype.initUI=function(){s.prototype.initUI.call(this),this.dgItem.itemRenderer=firstRechargePackage.ListItem,this.dataSource=new eui.ArrayCollection,this.dgItem.dataProvider=this.dataSource,this.lbTip.textFlow=M18.HTP.parse(O3.tr(4941)),this.btn3.gpTip.visible=!0,this.btn3.tipText=O3.tr(6639),this.packDesc.visible=!0,this.packDesc2.visible=!1},t.prototype.open=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];s.prototype.open.call(this),this.bgMask.addEventListener(egret.TouchEvent.TOUCH_TAP,this.closeSelf,this),this.closeBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.closeSelf,this),this.btn0.addEventListener(egret.TouchEvent.TOUCH_TAP,this.ZM93,this),this.btn1.addEventListener(egret.TouchEvent.TOUCH_TAP,this.ZM93,this),this.btn2.addEventListener(egret.TouchEvent.TOUCH_TAP,this.ZM93,this),this.btn3.addEventListener(egret.TouchEvent.TOUCH_TAP,this.ZM93,this);var i=App.CM.gtM(O6.A4);this.ZJ92(i),"fth5"===platform.name&&platform.collect("ContentView")},t.prototype.uBM=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];s.prototype.uBM.call(this,t,e),t instanceof TA23&&this.ZJ92(t)},t.prototype.ZJ92=function(t){var e=this,i=t.actData.FG82(),s=[],o=!0;for(var r in P7.FM14()&&(o=!1),i){var n=i[r],a={itemData:{data:N12.gID(n.k),ct:n.v},isBottom:o,fl:1};s.push(a)}this.dataSource.replaceAll(s);var h=t.actData.getPids();h=h.sort(function(t,e){var i=t.substring(t.length-1),s=e.substring(e.length-1);return Number(i)-Number(s)<0?-1:1});var p=1;for(var r in h){var l=THH34.FB49(h[r]);if(l){this["btn"+r].label=O3.tr(4938,l.price),this["btn"+r].pId=h[r];var c=l.gold+l.give;this["lb"+r].textFlow=M18.HTP.parse(O3.tr(4939,c)),p<Number(r)&&this.lastId!=h[r]&&(p=Number(r),this.lastId=h[r])}}this.leftCD=t.actData.ZHH64();var u=P6.FJ11(1e3*this.leftCD,5);this.lbCd.textFlow=M18.HTP.parser(O3.tr(5494,u)),this._timerHandler=App.K16.doTimer(1e3,this.leftCD,this.GY14,this),App.DelayOptManager.ZE59(this,function(){var t=e.dgItem.getElementAt(0);t&&t.setTipType("v1_img_biaqoian_hong_png",O3.tr(4942))})},t.prototype.GY14=function(){this.leftCD--;var t=P6.FJ11(1e3*this.leftCD,5);this.lbCd.textFlow=M18.HTP.parser(O3.tr(5494,t)),this.leftCD<=0&&(this.cTH(),this.lbCd.text="")},t.prototype.cTH=function(){null!=this._timerHandler&&(App.K16.rBH(this._timerHandler),this._timerHandler=null)},t.prototype.ZM93=function(t){var e=this,i=t.target.pId;if(i){var s=function(){App.CM.apF(O6.C29,P8.A1,i),e.closeSelf()};if(i==this.lastId)s();else{var o={handler:s,content:O3.tr(4943),isShowCb:!1};App.VM.open(O7.C54,o)}}},t.prototype.close=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];s.prototype.close.call(this),this.btn0.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.ZM93,this),this.btn1.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.ZM93,this),this.btn2.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.ZM93,this),this.btn3.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.ZM93,this),this.dataSource.removeAll(),this.cTH()},t.prototype.closeSelf=function(){App.CM.apF(O6.A4,A5.A1)},t}(BaseEuiView);__reflect(FirstRechargePackageView.prototype,"FirstRechargePackageView"),function(t){var e=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.initItem=function(){t.prototype.initItem.call(this),this.lbName.y=84,this.height=this.getChildAt(0).height=104},e}(ItemIcon);t.ListItem=e,__reflect(e.prototype,"firstRechargePackage.ListItem")}(firstRechargePackage||(firstRechargePackage={}));var FirstRechargePackageData=function(i){function t(t){var e=i.call(this,t)||this;return e.pIds=[],e.hasRecharge=0,e.updateData(t),e}return __extends(t,i),t.prototype.updateData=function(t){if(t){for(var e in t){var i=t[e];switch(e){case"pids":this.pIds=i;break;case"hasRecharge":this.hasRecharge=i;break;case"rewards":this.rewardList=i}}this.ZU63(t)}},t.prototype.ZJ93=function(){return this.hasRecharge},t.prototype.getPids=function(){return this.pIds},t.prototype.FG82=function(){return this.rewardList},t}(ActivityVo);__reflect(FirstRechargePackageData.prototype,"FirstRechargePackageData");var E15=function(){function t(){}return t.A1=0,t.A2=1,t.A3=2,t.A4=3,t.A5=4,t.A6=5,t.A7=6,t}();__reflect(E15.prototype,"E15");var TA96=function(i){function t(){var t=i.call(this)||this;t.proxy=new TD19(t);var e=new TD18(t);return e.aLV(O7.G15),e.aLV(O7.I64),t.rgF(E15.A1,t.GO21,t),t.rgF(E15.A2,t.GO22,t),t.rgF(E15.A3,t.GI64,t),t.rgF(E15.A4,t.GI65,t),App.VM.register(O7.G15,"FreePackageView",t,K17.UI_Main_TOP),t.rgF(E15.A5,t.GK58,t),t.rgF(E15.A6,t.GK59,t),t.rgF(E15.A7,t.GU1,t),t}return __extends(t,i),t.prototype.GO21=function(t){this.proxy.ZE73(t)},t.prototype.GO22=function(t){this.GQ12(t)&&this.gtM().notify(P4.HH86)},t.prototype.GI64=function(t){this.proxy.ZC27(t)},t.prototype.GI65=function(t){if(this.GQ12(t)){var e=this.gtM();e.actData.setNextDay(),e.notify(P4.HH88)}},t.prototype.GQ12=function(t){var e=this.gtM();return 200!=t.head.state?(App.CM.apF(O6.B87,L10.A4,t),!1):(P5.sIs(t.body.ob),e.ZC13(t.body),!0)},t.prototype.GU1=function(t){var e=this.gtM();return e.GU1(t),e.notify(),!0},t.prototype.GK58=function(){App.VM.open(O7.G15);var t=this.gtM();t.firstLoginRedNum=0,t.notify("ZF63")},t.prototype.GK59=function(){App.VM.close(O7.G15)},t}(TE11);__reflect(TA96.prototype,"TA96");var TD18=function(i){function t(t){var e=i.call(this,t)||this;return e.openState=!1,e.redNum=0,e.firstLoginRedNum=0,e}return __extends(t,i),t.prototype.ZC13=function(t){t&&(null!=this.actData?this.actData.updateData(t):(this.actData=new FreePackageData(t),this.tips=this.actData.tips),this.updateRed())},t.prototype.updateRed=function(){this.redNum=this.FL35()},t.prototype.GU1=function(t){this.actData.GU1(t)},t.prototype.FL35=function(){var t=0;t+=this.firstLoginRedNum;for(var e=Math.min(this.actData.getDay(),this.actData.getTotalDay()),i=1;i<=e;i++){var s=this.actData.getBtnState(i);if(3==s){t++;break}if(1==s&&0==this.actData.ZU51(i).costType){t++;break}}return t},t.prototype.notify=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];i.prototype.notifyView.apply(this,[this].concat(t))},t}(TG79);__reflect(TD18.prototype,"TD18");var TD19=function(i){function t(t){var e=i.call(this,t)||this;return e.rSM(P4.HH86,e.GO22,e),e.rSM(P4.HH88,e.GI65,e),e}return __extends(t,i),t.prototype.ZE73=function(t){var e={type:P4.HH85,body:{id:t}};this.sSM(e)},t.prototype.GO22=function(t){this.apF(E15.A2,t)},t.prototype.ZC27=function(t){var e={type:P4.HH87,body:{id:t}};this.sSM(e)},t.prototype.GI65=function(t){this.apF(E15.A4,t)},t}(TG80);__reflect(TD19.prototype,"TD19");var FreePackageView=function(s){function t(t,e){var i=s.call(this,t,e)||this;return i.sGN("release_act1047"),i.skinName=FreePackageSkin,i}return __extends(t,s),t.prototype.initUI=function(){var t={render:ItemFreePackageBtn,gap:-2,width:this.gpBtn.width,height:this.gpBtn.height};this.myListView=new CommonListBase(t),this.gpBtn.addChild(this.myListView),this.itemCollection=new eui.ArrayCollection,this.dgItem.dataProvider=this.itemCollection,this.dgItem.itemRenderer=ItemIcon},t.prototype.open=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];s.prototype.open.call(this),this.closeBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.closeSelf,this),this.bgMask.addEventListener(egret.TouchEvent.TOUCH_TAP,this.closeSelf,this),this.btnBuy.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickGet,this);var i=App.CM.gtM(O6.A81);this.ZA36(i),i.actData.ZU52()},t.prototype.uBM=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];s.prototype.uBM.call(this,t,e),t instanceof TD18&&this.ZA36(t)},t.prototype.ZA36=function(t){var e=t.actData.getBtnList();this.myListView.rfL(e);for(var i=t.actData.ZU51(),s=[],o=i.FHH85(),r=o.slice(0,1),n=0;n<o.length;n++){var a=N12.gID(o[n].k),h=void 0;if(0==n){var p=TF59.FC9(a.quality);h={data:a,ct:o[n].v,texiao:p}}else h={data:a,ct:o[n].v};s.push({itemData:h,isBottom:!1,scale:.8})}this.itemCollection.replaceAll(s);var l=M18.FL28(t.actData.note,",");this.imgBanner.source=l[i.id-1],P7.FM14()&&("50"==i.need.toString()?(this.lbNeed.x=90,this.imgBanner.x=40):"15888"==i.need.toString()||"26888"==i.need.toString()?(this.lbNeed.x=-10,this.imgBanner.x=100):(this.lbNeed.x=-30,this.imgBanner.x=60)),this.lbNeed.text=i.need.toString(),this.lbGold.text=i.backAward.v,1e4<=i.backAward.v?this.lbGold.letterSpacing=-4:this.lbGold.letterSpacing=0;var c=N12.gID(r[0].k);if(c.skinid){var u=M18.FL28(c.skinid,",");if(1==u.length){var d=O1.getSkin(u[0]);if("title"==d.type){if(this.imgTitle.visible=!0,this.imgItem.visible=!1,this.gpAllHero.visible=!1,this.imgTitle.source!=d.picture){var v=FightD.AV_RES_PATH+d.type+"/"+d.picture;FightRes.ZS35(this.imgTitle,d.picture,v)}}else{this.imgItem.visible=!1,this.imgTitle.visible=!1,this.gpAllHero.visible=!0,this.gpHero.visible=!0,this.gpHero1.visible=!1,this.gpHero2.visible=!1,this.hero&&(this.gpHero.removeChildren(),this.hero.destory(),this.hero=null),this.hero=new FightGameObject;var f={id:u[0],x:0,y:0,dir:Dir.br,objType:P13.A6};this.hero.setData(f,this.gpHero),this.hero.action=Action.Attack}}else{this.imgItem.visible=!1,this.imgTitle.visible=!1,this.gpAllHero.visible=!0,this.gpHero.visible=!1,this.gpHero1.visible=!0,this.gpHero2.visible=!0,this.hero1&&(this.gpHero1.removeChildren(),this.hero1.destory(),this.hero1=null),this.hero2&&(this.gpHero2.removeChildren(),this.hero2.destory(),this.hero2=null),this.hero1=new FightGameObject,this.hero2=new FightGameObject;var g=App.CM.gtM(O6.B82).avatarInfo.us[J11.A7],m=P7.copyTab(g);m.id=u[0],m.t=void 0,m.bt=BehaviourType.Attack_d;f={x:0,y:0,dir:Dir.br,objType:P13.A6};this.hero1.setBaseData(f);var y={id:u[0],x:0,y:0,dir:Dir.br,objType:P13.A6};this.hero1.setData(m,this.gpHero1),this.hero2.setData(y,this.gpHero2)}}else this.imgItem.visible=!0,this.imgTitle.visible=!1,this.gpAllHero.visible=!1,this.imgItem.source=c.icon;var A,b,T,C=t.actData.getBtnState();if(0<C)switch(C){case 5:A=O3.tr(3332,i.need),b=O3.tr(3337),T=!1;break;case 1:b=0==i.costType?(A=O3.tr(3332,i.need),O3.tr(3337)):(A=O3.tr(3333,i.need),O3.tr(3338)),T=!0;break;case 2:A=O3.tr(3334,i.need),b=O3.tr(3337),T=!1;break;case 3:A=O3.tr(3335),b=O3.tr(3337),T=!0;break;case 4:A=O3.tr(3336),b=O3.tr(3337),T=!1}else{T=!1,this.setBtnEnable(!1);var w=t.actData.getDay();if(i.id>w+1){var O=i.id-w;A=O3.tr(3331,O.toString())}else i.id==w+1&&(A=O3.tr(3330));b=O3.tr(3338)}this.lbTip.textFlow=M18.HTP.parser(A),this.btnBuy.label=b,this.setBtnEnable(T)},t.prototype.setBtnEnable=function(t){this.btnBuy.enabled=t,P16.sGF(this.btnBuy,!t)},t.prototype.onClickGet=function(){var t=App.CM.gtM(O6.A81);if(!t.openState||t.actData.ZHH64()<=0)this.closeSelf();else{var e=t.actData.getBtnState(),i=t.actData.ZU51(),s=i.FHH85(),o=!1;for(var r in s){2==N12.gID(s[r].k).type&&(o=!0)}if(0<e)switch(e){case 1:if(0==i.costType){if(O4.getLv()<i.need)return void P18.sDP(O3.tr(3221))}else if(!O4.FG88(i.need,1))return void P7.FA78();(!o||o&&P7.FF59())&&App.CM.apF(O6.A81,E15.A1,i.id);break;case 2:break;case 3:(!o||o&&P7.FF59())&&App.CM.apF(O6.A81,E15.A3,i.id),App.CM.apF(O6.A81,E15.A3,i.id)}}},t.prototype.closeSelf=function(){App.CM.apF(O6.A81,E15.A6)},t.prototype.close=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];s.prototype.close.call(this),this.btnBuy.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickGet,this),this.hero&&(this.gpHero.removeChildren(),this.hero.destory(),this.hero=null),this.hero1&&(this.gpHero1.removeChildren(),this.hero1.destory(),this.hero1=null),this.hero2&&(this.gpHero2.removeChildren(),this.hero2.destory(),this.hero2=null)},t}(BaseEuiView);__reflect(FreePackageView.prototype,"FreePackageView");var ItemFreePackageBtn=function(e){function t(){var t=e.call(this)||this;return t.skinName=ItemFreePackageBtnSkin,t.addEventListener(egret.Event.ADDED_TO_STAGE,t.open,t),t.addEventListener(egret.Event.REMOVED_FROM_STAGE,t.close,t),t}return __extends(t,e),t.prototype.open=function(){this.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClick,this)},t.prototype.close=function(){this.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClick,this)},t.prototype.childrenCreated=function(){e.prototype.createChildren.call(this)},t.prototype.dataChanged=function(){this.lbName.text=this.data.name,this.data.curDay?this.currentState="down":this.currentState="up",1==this.data.state&&0==this.data.costType||3==this.data.state?this.imgRed.visible=!0:this.imgRed.visible=!1},t.prototype.onClick=function(){TG40.playClickEffect(),App.CM.apF(O6.A81,E15.A7,this.data.day)},t}(eui.ItemRenderer);__reflect(ItemFreePackageBtn.prototype,"ItemFreePackageBtn");var FreePackageData=function(i){function t(t){var e=i.call(this,t)||this;return e.curSelectDay=1,e.updateData(t),e}return __extends(t,i),t.prototype.updateData=function(t){if(t.config)for(var e in this.confs={},this.totalDay=0,t.config){var i=t.config[e],s=new ZeroGiftConfVo(i);this.confs[i.id]=s,this.totalDay++}this.gotAwards=null!=t.yetAwd?t.yetAwd:this.gotAwards,this.backAwards=null!=t.yetRtn?t.yetRtn:this.backAwards,this.day=null!=t.day?t.day:this.day,this.buyDayList=null!=t.gd?t.gd:this.buyDayList,this.ZU63(t);var o=M18.FL28(this.desc,",");for(var e in this.confs)this.confs[e].setName(o[this.confs[e].id-1])},t.prototype.GU1=function(t){this.curSelectDay=t},t.prototype.getBtnList=function(){var t=[];for(var e in this.confs){var i=this.confs[e],s={day:i.id,name:i.name,curDay:this.curSelectDay==i.id,state:this.getBtnState(i.id),costType:i.costType};t.push(s)}return t},t.prototype.ZU51=function(t){return t=t||this.curSelectDay,this.confs[t]},t.prototype.getDay=function(){return this.day},t.prototype.getTotalDay=function(){return this.totalDay},t.prototype.getBtnState=function(t){t=t||this.curSelectDay;var e=this.ZU51(t);if(e.id<=this.day){if(!(0<=this.gotAwards.indexOf(e.id))){if(0==e.costType)if(O4.getLv()<e.need)return 5;return 1}var i=void 0;for(var s in this.buyDayList)if(this.buyDayList[s].k==e.id){i=this.buyDayList[s].v;break}if(i==this.day)return 2;if(i<this.day)return 0<=this.backAwards.indexOf(e.id)?4:3}return 0},t.prototype.isGetAll=function(){if(this.day>this.totalDay){for(var t=1;t<=this.totalDay;t++)if(4!=this.getBtnState(t))return!1;return!0}return!1},t.prototype.ZU52=function(){for(var t,e,i=this.curSelectDay=1;i<this.totalDay;i++){if(3==this.getBtnState(i)){t=i;break}e||1==this.getBtnState(i)&&(e=i)}t?this.curSelectDay=t:e&&(5==this.getBtnState(1)?this.curSelectDay=1:this.curSelectDay=e)},t.prototype.setNextDay=function(){var t=this.curSelectDay;this.ZU52(),1==this.curSelectDay&&t!=this.curSelectDay&&4==this.getBtnState(this.curSelectDay)&&(this.curSelectDay=t)},t}(ActivityVo);__reflect(FreePackageData.prototype,"FreePackageData");var ZeroGiftConfVo=function(){function t(t){this.updateData(t)}return t.prototype.updateData=function(t){this.id=null!=t.id?t.id:this.id,this.costType=null!=t.type?t.type:this.costType,this.need=null!=t.need?t.need:this.need,this.awardList=null!=t.awd?t.awd:this.awardList,this.backAward=null!=t.rtn?t.rtn:this.backAward},t.prototype.FHH85=function(){return this.awardList},t.prototype.setName=function(t){this.name=t},t}();__reflect(ZeroGiftConfVo.prototype,"ZeroGiftConfVo");var TC57=function(e){function t(){var t=e.call(this)||this;return App.VM.register(O7.F67,"GoalActBaseView",t,K17.UI_Main),t}return __extends(t,e),t}(TE11);__reflect(TC57.prototype,"TC57");var GoalActBaseView=function(a){function t(t,e){var i=a.call(this,t,e)||this;i.actData=[],i.data=[],i.itemNum=6,i.skinName="CarnivalActBaseSkin";for(var s=TE12.FC8(F17.A9),o=0;o<s.length;o++){var r=s[o].id,n=TF59.FB46(r);null!=n&&App.VM.rgS(O7.F67,n.id,n.view,i.content)}return i}return __extends(t,a),t.prototype.initUI=function(){a.prototype.initUI.call(this),this.title.text=O3.tr(5188),this.topScroller.viewport=this.topList,this.topScroller.scrollPolicyV=eui.ScrollPolicy.OFF,this.topCollection=new eui.ArrayCollection,this.topList.dataProvider=this.topCollection,this.topList.itemRenderer=CarnivalActIconView},t.prototype.initData=function(){a.prototype.initData.call(this)},t.prototype.open=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.lbDes.text="",a.prototype.open.call(this,t),this.curView=t[0]||this.actData[0]&&this.actData[0].view,this.ZU39(),App.VM.open(this.curView),this.curView==this.actData[0].view&&(this.topList.scrollH=0),t[1]&&App.K16.doFrame(1,1,this.delayCall,this),this.bgMask.addEventListener(egret.TouchEvent.TOUCH_TAP,this.closeSelf,this),this.closeBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.closeSelf,this),this.backBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.closeSelf,this),this.leftGroup.addEventListener(egret.TouchEvent.TOUCH_TAP,this.ZQ40,this),this.rightGroup.addEventListener(egret.TouchEvent.TOUCH_TAP,this.ZM90,this),this.topScroller.addEventListener(eui.UIEvent.CHANGE_END,this.endScroller,this),TF59.FJ22(this.curView,this.diImg,this.contentImg)},t.prototype.delayCall=function(){if(this.actData.length<=this.itemNum)this.topList.scrollH=0;else{var t=this.topList.contentWidth/this.actData.length,e=this.ZE69(this.curView);e>=this.actData.length-this.itemNum&&(e=this.actData.length-this.itemNum),this.topList.scrollH=e*t}},t.prototype.ZM94=function(e){for(var t=function(t){t==e?(i.data[t].texiao=1,i.data[t].model.firstLoginRedNum=0,egret.Tween.get(i).wait(100).call(function(){this.data[t].model.notify()},i)):i.data[t].texiao=0},i=this,s=0;s<this.actData.length;s++)t(s);this.topCollection.replaceAll(this.data)},t.prototype.uBM=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];a.prototype.uBM.call(this,t,e);var s=e&&e[0]&&0<e[0].length?e[0]:"";s==P4.R37||s==P4.U30||s==P4.P76?(this.ZU39(),App.VM.open(this.curView)):this.ZQ44(t),this.endScroller()},t.prototype.ZU39=function(){var t=TF59.FA2(F17.A9);if(this.actData=t,0<this.data.length&&(this.data.splice(0,this.data.length),this.data=[]),0<this.actData.length){for(var e=0;e<this.actData.length;e++){var i={icon:this.actData[e].icon,type:this.actData[e].type,name:this.actData[e].name,red:this.actData[e].red,texiao:0,model:this.actData[e].model,subView:this.actData[e].view,mainView:O7.F67};this.data.push(i)}this.ZE69(this.curView)<0&&(this.curView=this.actData[0].view),this.ZM94(this.ZE69(this.curView))}else this.closeSelf()},t.prototype.ZQ44=function(t){var e;if(t.actid){var i=TF59.FB46(t.actid);-1!=i&&0<=(e=this.ZE69(i.id))&&(this.data[e].red=t.FL35())}this.topCollection.replaceAll(this.data)},t.prototype.endScroller=function(){if(this.topScroller.validateNow(),this.leftGroup.visible=!(this.topScroller.viewport.scrollH<=0),this.topScroller.viewport.contentWidth<=this.topScroller.width)this.rightGroup.visible=!1;else{this.topScroller.width+this.topScroller.viewport.scrollH>=this.topScroller.viewport.contentWidth?this.rightGroup.visible=!1:this.rightGroup.visible=!0,this.redLeft.visible=!1,this.redRight.visible=!1;for(var t=this.topScroller.viewport.scrollH,e=0;93<=t;)t-=93,e++;var i=e+this.itemNum-1,s=this.topCollection.getItemAt(this.topCollection.length-1);if(i>s.index&&(i=s.index),this.leftGroup.visible)for(var o=0;o<this.topCollection.length;o++){var r=this.topCollection.getItemAt(o);if(!(e<=o)&&0<r.red){this.redLeft.visible=!0;break}}if(this.rightGroup.visible)for(o=0;o<this.topCollection.length;o++){var n=this.topCollection.getItemAt(o);if(!(o<=i)&&0<n.red){this.redRight.visible=!0;break}}}},t.prototype.ZQ40=function(){var t=this.topScroller.viewport.scrollH-559;this.topScroller.viewport.scrollH=t<0?0:t,this.endScroller(),TG40.playClickEffect()},t.prototype.ZM90=function(){var t=this.topScroller.viewport.scrollH+559;t+this.topScroller.width>=this.topScroller.viewport.contentWidth?this.topScroller.viewport.scrollH=this.topScroller.viewport.contentWidth-this.topScroller.width:this.topScroller.viewport.scrollH=t,this.endScroller(),TG40.playClickEffect()},t.prototype.close=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];a.prototype.close.call(this,t),this.bgMask.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.closeSelf,this),this.closeBtn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.closeSelf,this),this.backBtn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.closeSelf,this),this.leftGroup.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.ZQ40,this),this.rightGroup.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.ZM90,this),this.topScroller.removeEventListener(eui.UIEvent.CHANGE_END,this.endScroller,this),this.curView=null,this.topCollection.removeAll(),egret.Tween.removeTweens(this)},t.prototype.closeSelf=function(){App.VM.GY64(this)},t.prototype.ZE69=function(t){var e=-1;if(null!=this.actData)for(var i=0;i<this.actData.length;i++)if(this.actData[i].view==t){e=i;break}return e},t.prototype.ZG19=function(t){var e=-1;if(null!=this.actData)for(var i=0;i<this.actData.length;i++)this.actData[i].view==t&&(e=i);return e},t}(BaseEuiView);__reflect(GoalActBaseView.prototype,"GoalActBaseView");var I16=function(){function t(){}return t.A4=10001,t.A3=10002,t.A5=10003,t.A6=10004,t.A1=10005,t.A2=10006,t}();__reflect(I16.prototype,"I16");var TC7=function(i){function t(){var t=i.call(this)||this,e=new TF16(t);return e.aLV(O7.E68),e.aLV(O7.I18),e.aLV(O7.I64),App.VM.register(O7.E68,"GrowFundMainView",t,K17.UI_Main),t.rgF(I16.A4,t.GF22,t),t.rgF(I16.A3,t.GE24,t),t.growFundProxy=new TF17(t),t.rgF(I16.A5,t.GQ22,t),t.rgF(I16.A6,t.GQ23,t),t.rgF(I16.A1,t.GF20,t),t.rgF(I16.A2,t.GF21,t),t}return __extends(t,i),t.prototype.GQ22=function(){this.growFundProxy.GQ22()},t.prototype.GQ23=function(t){if(200==t.head.state){var e=t.body,i=this.gtM();i.ZC13(e),i.notify(),P18.sDP(O3.tr(3224)),t.body.ob&&P5.sIs(t.body.ob)}else App.CM.apF(O6.B87,L10.A4,t)},t.prototype.GF20=function(t){this.growFundProxy.GF20(t)},t.prototype.GF21=function(t){if(200==t.head.state){var e=t.body,i=this.gtM();i.ZC13(e),i.notify(),t.body.ob&&P5.sIs(t.body.ob)}else App.CM.apF(O6.B87,L10.A4,t)},t.prototype.GF22=function(t){App.VM.open(O7.E68,t);var e=App.CM.gtM(O6.B44);e.firstLoginRedNum=0,e.notify()},t.prototype.GE24=function(){App.VM.close(O7.E68)},t}(TE11);__reflect(TC7.prototype,"TC7");var TF16=function(i){function t(t){var e=i.call(this,t)||this;return e.openState=!1,e.closeEnter=!1,e.redNum=0,e.firstLoginRedNum=0,e}return __extends(t,i),t.prototype.ZC13=function(t){t&&(null!=this.growFundData?this.growFundData.updateData(t):(this.growFundData=new GrowFundData(t),this.tips=this.growFundData.tips),this.updateRed(),(this.growFundData.hasGetList.length>=this.growFundData.growFundConfVo.length||0==t.cd&&1!=this.growFundData.isBuy)&&(App.CM.apF(O6.B44,I16.A3),this.openState=!1,this.closeEnter=!0))},t.prototype.updateRed=function(){this.redNum=this.FL35()},t.prototype.FL35=function(){var t=0;t+=this.firstLoginRedNum;var e=this.growFundData.growFundConfVo;for(var i in e)if(e[i].getState==J13.A3){t+=1;break}return t},t.prototype.notify=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];i.prototype.notifyView.call(this,this,t)},t}(TG79);__reflect(TF16.prototype,"TF16");var TF17=function(i){function t(t){var e=i.call(this,t)||this;return e.rSM(P4.U77,e.GQ23,e),e.rSM(P4.I37,e.GF21,e),e}return __extends(t,i),t.prototype.GQ22=function(){var t={type:P4.U76,body:{}};this.sSM(t)},t.prototype.GQ23=function(t){this.apF(I16.A6,t)},t.prototype.GF20=function(t){var e={type:P4.I36,body:{level:t}};this.sSM(e)},t.prototype.GF21=function(t){this.apF(I16.A2,t)},t}(TG80);__reflect(TF17.prototype,"TF17");var TF65=function(){function t(){}return t.FD66=function(t){var e=0,i=App.CM.gtM(O6.B44).growFundData.growFundConfVo;for(var s in i)if(i[s].level==t&&i[s].getState==J13.A3){e+=1;break}return e},t}();__reflect(TF65.prototype,"TF65");var GrowFundMainView=function(s){function t(t,e){var i=s.call(this,t,e)||this;return App.VM.rgS(O7.E68,O7.I18,"GrowFundView",i.content),i}return __extends(t,s),t.prototype.initUI=function(){s.prototype.initUI.call(this);var t=[O7.I18];this.btnList=new ButtonList([],t,this.ZQ23.bind(this)),this.btnList.init(),this.btnGroup.addChild(this.btnList),this.btnList.visible=!1},t.prototype.open=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];s.prototype.open.call(this),this.updateBtnRed();var i=t[0]||O7.I18;this.ZQ23(i)},t.prototype.uBM=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];s.prototype.uBM.call(this,t,e),this.updateBtnRed()},t.prototype.ZQ23=function(t){switch(t){case O7.I18:var e=TF59.FB15(F7.B10);if(!e.openState)return P18.sDP(O3.tr(3205)),-1;this.title=e.growFundData.name,this.btnList.ZM66(t)}},t.prototype.updateBtnRed=function(){},t}(BasePanelView);__reflect(GrowFundMainView.prototype,"GrowFundMainView");var GrowFundView=function(s){function t(t,e){var i=s.call(this,t,e)||this;return i.skinName=GrowFundSkin,i}return __extends(t,s),t.prototype.initUI=function(){s.prototype.initUI.call(this);var t={render:GrowFundItem,gap:5,width:this.listGroup.width,height:this.listGroup.height};this.listView=new CommonListBase(t),this.listGroup.addChild(this.listView),this.listView.verticalCenter=0,this.listView.horizontalCenter=0},t.prototype.open=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];s.prototype.open.call(this),this.listView.open(),this.buyBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.ZU53,this);var i=App.CM.gtM(O6.B44);this.ZC88(i)},t.prototype.uBM=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];s.prototype.uBM.call(this,t,e),t instanceof TF16&&this.ZC88(t)},t.prototype.ZC88=function(t){this.growFundData=t.growFundData;var e=this.growFundData.growFundConfVo;this.listView.rfL(e),this.cTH();var i=this.growFundData.cost.split(":");if(this.cost=parseInt(i[1]),1==this.growFundData.isBuy)this.buyBtn.isShowIcon=!1,this.buyBtn.labelX="1",this.actLeftTimeLb.text="",this.buyBtn.label=O3.tr(3223),this.buyBtn.enabled=!1,P16.sGF(this.buyBtn,!0);else if(this.buyBtn.isShowIcon=!0,this.buyBtn.labelX="15",this.buyBtn.label=O3.tr(3222,this.cost),this.buyBtn.enabled=!0,P16.sGF(this.buyBtn,!1),0<this.growFundData.buyCD){this.leftCD=this.growFundData.ZU54();var s=O3.tr(3253,P6.FJ11(1e3*this.leftCD,5));this.actLeftTimeLb.textFlow=M18.HTP.parser(s),this._timerHandler=App.K16.doTimer(1e3,this.leftCD,this.GY14,this)}else this.actLeftTimeLb.text=""},t.prototype.GY14=function(){this.leftCD--;var t=O3.tr(3253,P6.FJ11(1e3*this.leftCD,5));this.actLeftTimeLb.textFlow=M18.HTP.parser(t),this.leftCD<=0&&(this.cTH(),this.actLeftTimeLb.text="")},t.prototype.ZU53=function(){if(1!=this.growFundData.isBuy)if(0<this.growFundData.buyCD||-1==this.growFundData.buyCD){var t={handler:this.ZQ56,cost:this.cost,costTp:P10.A2,content:O3.tr(3225,this.cost)};App.VM.open(O7.C54,t)}else P18.sDP(O3.tr(3220))},t.prototype.ZQ56=function(){App.CM.apF(O6.B44,I16.A5)},t.prototype.cTH=function(){null!=this._timerHandler&&(App.K16.rBH(this._timerHandler),this._timerHandler=null)},t.prototype.close=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];s.prototype.close.call(this),this.buyBtn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.ZU53,this),this.cTH(),this.listView.close()},t}(BaseEuiView);__reflect(GrowFundView.prototype,"GrowFundView");var GrowFundItem=function(e){function t(){var t=e.call(this)||this;return t.skinName=GrowFundItemSkin,t.addEventListener(egret.Event.ADDED_TO_STAGE,t.open,t),t.addEventListener(egret.Event.REMOVED_FROM_STAGE,t.close,t),t}return __extends(t,e),t.prototype.open=function(){this.getBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.ZU29,this)},t.prototype.close=function(){this.getBtn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.ZU29,this),this.rewardsCollection.removeAll()},t.prototype.childrenCreated=function(){e.prototype.createChildren.call(this),this.initUI()},t.prototype.initUI=function(){this.levelNotLb.text=O3.tr(3221),this.dgRewards.itemRenderer=ItemIcon,this.rewardsCollection=new eui.ArrayCollection,this.dgRewards.dataProvider=this.rewardsCollection,this.awardsSc.viewport=this.dgRewards,this.awardsSc.scrollPolicyH=eui.ScrollPolicy.OFF,this.awardsSc.scrollPolicyV=eui.ScrollPolicy.OFF},t.prototype.dataChanged=function(){var t=O3.tr(3226,this.data.level);this.levelReachLb.textFlow=M18.HTP.parser(t),this.data.getState==J13.A3?(this.getBtn.labelDisplay.text=O3.tr(3232),this.getBtn.enabled=!0,P16.sGF(this.getBtn,!1),P7.FD53(this.getBtn,1),this.getBtn.visible=!0):this.data.getState==J13.A2?(this.getBtn.labelDisplay.text=O3.tr(3202),this.getBtn.enabled=!1,P16.sGF(this.getBtn,!0),P7.FD53(this.getBtn,0),this.getBtn.visible=!0):this.getBtn.visible=!1;var e=this.FK41(this.data.awd);this.rewardsCollection.replaceAll(e)},t.prototype.FK41=function(t){for(var e=[],i=0;i<t.length;i++){var s=N12.gID(t[i].k);if(s){s.ct=t[i].v;var o={data:s,ct:s.ct};e.push({itemData:o,isBottom:!1,scale:1})}}return e},t.prototype.ZU29=function(){1==App.CM.gtM(O6.B44).growFundData.isBuy?App.CM.apF(O6.B44,I16.A1,this.data.level):P18.sDP(O3.tr(3219))},t}(eui.ItemRenderer);__reflect(GrowFundItem.prototype,"GrowFundItem");var GrowFundConfVo=function(){function t(t){this.awd=[],this.getState=J13.A1,this.initData(t)}return t.prototype.initData=function(t){t&&(this.level=t.level,this.awd=t.reward)},t}();__reflect(GrowFundConfVo.prototype,"GrowFundConfVo");var GrowFundData=function(i){function t(t){var e=i.call(this,t)||this;return e.growFundConfVo=[],e.hasGetList=[],e.isBuy=0,e.level=0,e.buyCD=0,e.updateData(t),e}return __extends(t,i),t.prototype.updateData=function(t){if(t){if(this.isBuy=null==t.isBuy?this.isBuy:t.isBuy,this.hasGetList=t.taked||this.hasGetList,this.level=t.level||this.level,this.buyCD=null==t.cd?this.buyCD:t.cd,null!=t.cd&&(this.lastLoadTime=P6.getTime(!0)),t.config){var e=t.config.rewards;this.growFundConfVo=[];for(var i=0;i<e.length;i++){var s=new GrowFundConfVo(e[i]);this.growFundConfVo.push(s)}}for(var i in this.growFundConfVo){if(0<this.hasGetList.length)for(var o in this.hasGetList)this.growFundConfVo[i].level==this.hasGetList[o]&&(this.growFundConfVo[i].getState=J13.A2);this.level>=this.growFundConfVo[i].level&&this.growFundConfVo[i].getState!=J13.A2&&(this.growFundConfVo[i].getState=J13.A3)}this.growFundConfVo.sort(function(t,e){return t.getState==e.getState?t.level-e.level:t.getState-e.getState}),this.ZU63(t)}},t.prototype.ZU54=function(){var t=P6.getTime(!0)-this.lastLoadTime,e=this.buyCD-t;return 0<e?e:0},t}(ActivityVo);__reflect(GrowFundData.prototype,"GrowFundData");var C4=function(){function t(){}return t.A17=10001,t.A18=10002,t.A8=10003,t.A9=10004,t.A1=10005,t.A2=10006,t.A3=10007,t.A4=10008,t.A13=10009,t.A14=10010,t.A15=20001,t.A11=20002,t.A6=20003,t.A5=20004,t.A10=20005,t.A7=20006,t.A16=20007,t.A12=20008,t}();__reflect(C4.prototype,"C4");var A8=function(){function t(){}return t.A3=1,t.A5=2,t.A4=3,t.A2=4,t.A1=5,t}();__reflect(A8.prototype,"A8");var TA31=function(i){function t(){var t=i.call(this)||this;App.VM.register(O7.B9,"HightFaBaoDrawOpenView",t,K17.UI_Main_TOP),t.rgF(C4.A15,t.GA78,t),t.rgF(C4.A11,t.GA53,t),App.VM.register(O7.A27,"HightFaBaoDrawPreviewView",t,K17.UI_Main_TOP),t.rgF(C4.A6,t.GA26,t),t.rgF(C4.A5,t.GA13,t),App.VM.register(O7.A51,"HightFaBaoDrawRecordView",t,K17.UI_Main_TOP),t.rgF(C4.A10,t.GA41,t),t.rgF(C4.A7,t.GA27,t),App.VM.register(O7.B10,"HightFaBaoDrawShopView",t,K17.UI_Main_TOP),t.rgF(C4.A16,t.GA79,t),t.rgF(C4.A12,t.GA54,t);var e=new TB57(t);return e.aLV(O7.B9),e.aLV(O7.A27),e.aLV(O7.A51),e.aLV(O7.I39),e.aLV(O7.I64),e.aLV(O7.D86),e.aLV(O7.D67),e.aLV(O7.B10),t.proxy=new TB58(t),t.rgF(C4.A17,t.GW94,t),t.rgF(C4.A18,t.GW95,t),t.rgF(C4.A8,t.GR97,t),t.rgF(C4.A9,t.GR98,t),t.rgF(C4.A1,t.GI61,t),t.rgF(C4.A2,t.GI62,t),t.rgF(C4.A3,t.GQ20,t),t.rgF(C4.A4,t.GQ21,t),t.rgF(C4.A13,t.GW96,t),t.rgF(C4.A14,t.GW97,t),t}return __extends(t,i),Object.defineProperty(t.prototype,"model",{get:function(){return this.gtM()},enumerable:!0,configurable:!0}),t.prototype.GW94=function(t){this.proxy.GW94(t)},t.prototype.GW95=function(t){var e=this.model;200==t.head.state?(e.ZC13(t.body),t.body.lo&&this.GA78(t.body.lo,t.body.ob),e.notify(P4.G83)):App.CM.apF(O6.B87,L10.A4,t)},t.prototype.GR97=function(){this.proxy.GR97()},t.prototype.GR98=function(t){var e=this.model;200==t.head.state?(e.ZC13(t.body),e.notify(P4.C94)):App.CM.apF(O6.B87,L10.A4,t)},t.prototype.GI61=function(){this.proxy.GI61()},t.prototype.GI62=function(t){var e=this.model;200==t.head.state?(e.ZC13(t.body),e.notify(P4.A47)):App.CM.apF(O6.B87,L10.A4,t)},t.prototype.GQ20=function(){this.proxy.GQ20()},t.prototype.GQ21=function(t){var e=this.model;200==t.head.state?(e.ZC13(t.body),e.notify(P4.B48)):App.CM.apF(O6.B87,L10.A4,t)},t.prototype.GW96=function(t){this.proxy.GW96(t)},t.prototype.GW97=function(t){var e=this.model;200==t.head.state?(e.ZC13(t.body),P5.sIs(t.body.ob),e.notify(P4.F16)):App.CM.apF(O6.B87,L10.A4,t)},t.prototype.GA78=function(t,e){App.VM.open(O7.B9,t,e)},t.prototype.GA53=function(){App.VM.close(O7.B9)},t.prototype.GA26=function(){App.VM.open(O7.A27)},t.prototype.GA13=function(){App.VM.close(O7.A27)},t.prototype.GA41=function(){App.VM.open(O7.A51)},t.prototype.GA27=function(){App.VM.close(O7.A51)},t.prototype.GA79=function(){App.VM.open(O7.B10)},t.prototype.GA54=function(){App.VM.close(O7.B10)},t}(TE11);__reflect(TA31.prototype,"TA31");var TB57=function(i){function t(t){var e=i.call(this,t)||this;return e.openState=!1,e.redNum=0,e.firstLoginRedNum=0,e.isAutoOpen=!1,e}return __extends(t,i),t.prototype.ZC13=function(t){var e=this;if(t){if(null!=this.actData?this.actData.updateData(t):(this.actData=new HightFaBaoDrawData(t),this.tips=this.actData.tips),null!=t.rcd&&(this.lastLoadTime=P6.getTime(!0),this.overCd=t.rcd,t.rcd&&!this.timerHandler&&(this.timerHandler=App.K16.doTimer(1e3,0,function(){TB59.FJ24()<=0&&e.ZHH74()},this))),null!=t.rfs&&(this.updateNum=t.rfs),null!=t.cd&&(this.lastUpdateTime=P6.getTime(!0),this.updateCd=t.cd),t.rs)for(var i in this.recordList=[],t.rs){var s=new HightFabaoDrawRecordVo(t.rs[i]);this.recordList.push(s)}if(t.ss)for(var i in this.faBaoShopList={},t.ss)this.faBaoShopList[t.ss[i].id]=new HightFabaoDrawShopVo(t.ss[i]);t.s&&this.faBaoShopList[t.s.id].updateData(t.s),this.ZU47(),this.updateRed()}},t.prototype.ZU47=function(){this.rewardData=[];var t=TD66.hightRewardGroup[this.actData.parVer];for(var e in this.modelList=TD66.hightFabaoIds[this.actData.parVer],t){var i=new HightFaBaoDrawRewardVo(t[e]);this.rewardData.push(i)}},t.prototype.ZHH74=function(){this.overCd=0,this.timerHandler&&(App.K16.rBH(this.timerHandler),this.timerHandler=null),App.CM.apF(O6.A40,C4.A1)},t.prototype.updateRed=function(){this.redNum=this.FL35()},t.prototype.FL35=function(){var t=0;return!(t+=this.firstLoginRedNum)&&TB59.FL37()&&(t+=this.actData.overNum),t},t.prototype.FJ24=function(){var t=P6.getTime(!0)-this.lastLoadTime,e=this.overCd-t;return 0<e?e:0},t.prototype.FG79=function(){var t=P6.getTime(!0)-this.lastUpdateTime,e=this.updateCd-t;return 0<e?e:0},t.prototype.notify=function(t,e){void 0===t&&(t=void 0),void 0===e&&(e=void 0),i.prototype.notifyView.call(this,this,t,e)},t}(TG79);__reflect(TB57.prototype,"TB57");var TB58=function(i){function t(t){var e=i.call(this,t)||this;return e.rSM(P4.A47,e.GI62,e),e}return __extends(t,i),t.prototype.GW94=function(t){var e={type:P4.G82,body:{type:t}};this.rSMO(P4.G83,this.GW95,this),this.sSM(e)},t.prototype.GW95=function(t){this.apF(C4.A18,t)},t.prototype.GR97=function(){var t={type:P4.C93,body:{}};this.rSMO(P4.C94,this.GR98,this),this.sSM(t)},t.prototype.GR98=function(t){this.apF(C4.A9,t)},t.prototype.GI61=function(){var t={type:P4.A46,body:{}};this.sSM(t)},t.prototype.GI62=function(t){this.apF(C4.A2,t)},t.prototype.GQ20=function(){var t={type:P4.B47,body:{}};this.rSMO(P4.B48,this.GQ21,this),this.sSM(t)},t.prototype.GQ21=function(t){this.apF(C4.A4,t)},t.prototype.GW96=function(t){var e={type:P4.F15,body:{id:t}};this.rSMO(P4.F16,this.GW97,this),this.sSM(e)},t.prototype.GW97=function(t){this.apF(C4.A14,t)},t}(TG80);__reflect(TB58.prototype,"TB58");var TB59=function(){function t(){}return Object.defineProperty(t,"model",{get:function(){return App.CM.gtM(O6.A40)},enumerable:!0,configurable:!0}),t.FJ24=function(){return this.model.FJ24()},t.FG79=function(){return this.model.FG79()},t.FK39=function(){var t=[],e=this.model.rewardData;for(var i in e)e[i].exhibition&&t.push(e[i]);return t},t.FJ25=function(){var t=[],e=this.model.rewardData;for(var i in e)e[i].rateshow&&t.push(e[i]);return t},t.FL37=function(){var t=TF59.FA3(F17.A6),e=App.CM.gtM(O6.B43).serOpenDay+1,i=O4.getLv();return-1!=t.indexOf(F7.A36)&&e>=TD66.FE59("openDay")&&TD66.FE59("openLv")<=i},t.FF75=function(){var t,e=this.model.updateNum,i=TD66.refreshCost;return t=i[i.length-1],i[e]&&(t=i[e]),t},t.FD65=function(){var t=[],e=this.model;for(var i in e.faBaoShopList){var s=e.faBaoShopList[i];t.push(s)}return t.sort(this.sortList),t},t.sortList=function(t,e){return t.index-e.index},t}();__reflect(TB59.prototype,"TB59");var HightFaBaoDrawOpenItemView=function(e){function t(){var t=e.call(this)||this;return t.skinName=FaBaoDrawOpenItemSkin,t.addEventListener(egret.Event.ADDED_TO_STAGE,t.open,t),t.addEventListener(egret.Event.REMOVED_FROM_STAGE,t.close,t),t}return __extends(t,e),t.prototype.open=function(){},t.prototype.close=function(){},t.prototype.childrenCreated=function(){e.prototype.createChildren.call(this)},t.prototype.setData=function(t){this.item||(this.item=new ItemIcon,this.item.horizontalCenter=0,this.item.verticalCenter=0,this.item.data=t,this.lbName.text=t.itemData.data.name,this.gpIcon.addChild(this.item))},t}(eui.Component);__reflect(HightFaBaoDrawOpenItemView.prototype,"HightFaBaoDrawOpenItemView");var HightFaBaoDrawOpenView=function(s){function t(t,e){var i=s.call(this,t,e)||this;return i.openIndex=[],i.skinName=FaBaoDrawOpenSkin,i}return __extends(t,s),Object.defineProperty(t.prototype,"model",{get:function(){return App.CM.gtM(O6.A40)},enumerable:!0,configurable:!0}),t.prototype.initUI=function(){s.prototype.initUI.call(this);var t=O3.tr(6990,O3.tr(6993));this.FM13(this.btnFiveMelt,t),this.btnFiveMelt.label=O3.tr(6467)},t.prototype.FM13=function(t,e){t.size=e?(t.label2=e,t.labelY="12","22"):(t.label2="",t.labelY="0","24")},t.prototype.open=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];s.prototype.open.call(this),this.list=t[0],this.ob=t[1],this.cbAuto.label=O3.tr(6403),this.rect.addEventListener(egret.TouchEvent.TOUCH_TAP,this.closeSelf,this),this.card1.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickCard,this),this.card2.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickCard,this),this.card3.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickCard,this),this.card4.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickCard,this),this.card5.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickCard,this),this.btnOpen.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickOpen,this),this.cbAuto.addEventListener(egret.Event.CHANGE,this.onChange,this),this.btnFiveMelt.addEventListener(egret.TouchEvent.TOUCH_TAP,this.ZM99,this),1==this.list.length&&(this.card1.horizontalCenter=this.card1.verticalCenter=this.gpCard1.horizontalCenter=this.gpCard1.verticalCenter=0,this.btnOpen.visible=this.cbAuto.visible=this.btnFiveMelt.visible=!1,this.removeChild(this.card2),this.removeChild(this.card3),this.removeChild(this.card4),this.removeChild(this.card5)),this.GX5()},t.prototype.GX5=function(){var t=this;this.isAction1=!0;var e=this.model;this.cbAuto.selected=e.isAutoOpen,1==this.list.length?this.isOpen=!1:this.isOpen=!!e.isAutoOpen,this.cd=this.isOpen?5:10,this.btnOpen.label=O3.tr(6381,5),this.qualityEff=[];for(var i=0;i<this.list.length;i++){switch(TD66.reward[this.list[i]].quality){case 2:this.qualityEff.push("wdsg_bfld01_lv_kppz_12");break;case 3:this.qualityEff.push("wdsg_bfld01_lan_kppz_13");break;case 4:this.qualityEff.push("wdsg_bfld01_kppz_z_09");break;case 5:this.qualityEff.push("wdsg_bfld01_c_kppz_10");break;case 6:this.qualityEff.push("wdsg_bfld01_h_kppz_11")}}egret.Tween.get(this.bgMask).to({alpha:0},170).to({alpha:.5},210),1==this.list.length?egret.Tween.get(this).call(this.addCard,this,[this.qualityEff[0],this.gpCard1]).wait(100).call(this.GY14,this).call(function(){t.isAction1=!1}):egret.Tween.get(this).call(this.addCard,this,[this.qualityEff[0],this.gpCard1]).wait(100).call(this.addCard,this,[this.qualityEff[1],this.gpCard2]).wait(100).call(this.addCard,this,[this.qualityEff[2],this.gpCard3]).wait(100).call(this.addCard,this,[this.qualityEff[3],this.gpCard4]).wait(100).call(this.addCard,this,[this.qualityEff[4],this.gpCard5]).call(this.GY14,this)},t.prototype.GY14=function(){var t=this;this.timeHandler1||(this.timeHandler1=App.K16.doTimer(1e3,this.cd,function(){5==t.cd&&(t.isOpen=!0,t.openAllCard()),t.cd--,t.cd<=5?t.btnOpen.label=O3.tr(6382,t.cd):t.btnOpen.label=O3.tr(6381,t.cd-5),t.cd<=0&&(t.getAllCard(),t.ZHH70())},this,this.getAllCard,this))},t.prototype.openAllCard=function(){for(var t=1;t<=5;t++)this.list[t-1]&&this.turnCard(this["gpCard"+t],this.list[t-1],t);this.closeEvent()},t.prototype.getAllCard=function(){this.closeSelf()},t.prototype.onChange=function(){this.model.isAutoOpen=this.cbAuto.selected,TG40.playClickEffect()},t.prototype.addCard=function(t,e){var i=this;App.THH32.aUE(e,"wdsg_bfldl_hb_002",e.width/2,e.height/2,1,null,null,null,null,null,!0),App.THH32.aUE(e,"wdsg_bfldl_kpdh_005",e.width/2,e.height/2,1,null,function(){App.THH32.aUE(e,t,e.width/2,e.height/2,-1,null,null,null,null,null,!0),e==i.gpCard5&&(i.isAction1=!1)},null,null,null,!0)},t.prototype.onClickCard=function(t){switch(1==this.list.length&&(this.isOpen=!0),t.currentTarget.name){case"card1":this.turnCard(this.gpCard1,this.list[0],1),this.card1.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickCard,this);break;case"card2":this.turnCard(this.gpCard2,this.list[1],2),this.card2.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickCard,this);break;case"card3":this.turnCard(this.gpCard3,this.list[2],3),this.card3.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickCard,this);break;case"card4":this.turnCard(this.gpCard4,this.list[3],4),this.card4.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickCard,this);break;case"card5":this.turnCard(this.gpCard5,this.list[4],5),this.card5.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickCard,this)}TG40.playClickEffect()},t.prototype.turnCard=function(t,e,i){var s=TD66.reward[e].item.split(":"),o={data:N12.gID(s[0]),ct:parseInt(s[1])};if(this.openIndex.indexOf(i)<0){var r=new HightFaBaoDrawOpenItemView;r.setData({itemData:o,isBottom:!1,scale:1}),t.addChild(r),r.horizontalCenter=0,r.verticalCenter=0;var n=5<=TD66.reward[e].quality?"wdsg_bfld3_kpdh_008":"wdsg_bfld3_kpdh_007";App.THH32.aUE(t,n,t.width/2,t.height/2,1,null,null,null,null,null,!0),this.openIndex.push(i)}},t.prototype.onClickOpen=function(){this.isAction1||(this.isOpen?this.getAllCard():(this.isOpen=!0,this.cd=5,this.openAllCard()))},t.prototype.ZHH70=function(){this.timeHandler1&&(App.K16.rBH(this.timeHandler1),this.timeHandler1=null)},t.prototype.ZM99=function(){var t=this;this.isAction1||(this.isOpen?this.startMelt():(this.isOpen=!0,this.openAllCard(),egret.Tween.get(this).wait(1e3).call(function(){t.startMelt()})))},t.prototype.startMelt=function(){var t=0,e=N12.giC(TD66.costFiveItem),i=App.CM.gtM(O6.A41),s=0;i.openState&&i.actData.ZU21(1)&&(s=Number(i.actData.cost.split("|")[1].split(";")[0].split(":")[1])),e>=TD66.costFiveNum-s?(t=A8.A4,this.closeSelf(),App.CM.apF(O6.A40,C4.A17,t)):P7.FA78()},t.prototype.closeEvent=function(){this.card1.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickCard,this),this.card2.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickCard,this),this.card3.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickCard,this),this.card4.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickCard,this),this.card5.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickCard,this)},t.prototype.close=function(){s.prototype.close.call(this),this.ZHH70(),this.rect.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.closeSelf,this),this.btnOpen.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickOpen,this),this.cbAuto.removeEventListener(egret.Event.CHANGE,this.onChange,this),this.closeEvent();for(var t=1;t<=5;t++)App.THH32.rEf(this["gpCard"+t],this.qualityEff[t-1]);egret.Tween.removeTweens(this),egret.Tween.removeTweens(this.bgMask)},t.prototype.closeSelf=function(){this.isOpen&&(P5.sIs(this.ob),App.CM.apF(O6.A40,C4.A11))},t}(BaseEuiView);__reflect(HightFaBaoDrawOpenView.prototype,"HightFaBaoDrawOpenView");var HightFaBaoDrawPreviewItemView=function(e){function t(){var t=e.call(this)||this;return t.skinName=FaBaoDrawPreviewItemSkin,t}return __extends(t,e),t.prototype.childrenCreated=function(){e.prototype.createChildren.call(this)},t.prototype.dataChanged=function(){e.prototype.dataChanged.call(this);var t=O5.FB43(this.data.itemData.quality,1);this.lbName.textFlow=M18.HTP.parser(O3.tr(7097,t,this.data.name)),this.lbProbability.textFlow=M18.HTP.parser(O3.tr(6478,(100*this.data.rate).toFixed(1)))},t}(eui.ItemRenderer);__reflect(HightFaBaoDrawPreviewItemView.prototype,"HightFaBaoDrawPreviewItemView");var HightFaBaoDrawPreviewView=function(s){function t(t,e){var i=s.call(this,t,e)||this;return i.skinName=FaBaoDrawPreviewSkin,i}return __extends(t,s),t.prototype.initUI=function(){s.prototype.initUI.call(this),this.touchEnabled=!1;var t={render:HightFaBaoDrawPreviewItemView,tileLayout:!0,verticalGap:0,horizontalGap:-10,width:this.listGroup.width,height:this.listGroup.height};this.listView=new CommonListBase(t),this.listGroup.addChild(this.listView),this.listView.verticalCenter=0,this.listView.horizontalCenter=0,this.dlg.title=O3.tr(6474),this.lbStr2.textFlow=M18.HTP.parser(O3.tr(6476))},t.prototype.open=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];s.prototype.open.call(this),this.listView.open(),this.dlg.ZM69(this.closeSelf.bind(this),this),this.dlg.ZQ14(this.closeSelf.bind(this),this),this.leftArrow.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickLeft,this),this.rightArrow.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickRight,this),this.skill.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickSkill,this),this.updateUI(),this.initModel()},t.prototype.initModel=function(){var t=App.CM.gtM(O6.A40);this.leftArrow.visible=!1,1==t.modelList.length?this.rightArrow.visible=!1:this.rightArrow.visible=!0,this.nowIndex=0,this.ZN1()},t.prototype.onClickLeft=function(){this.leftArrow.visible=1!=this.nowIndex,this.rightArrow.visible=!0,this.nowIndex-=1,this.ZN1()},t.prototype.onClickRight=function(){var t=App.CM.gtM(O6.A40).modelList.length;this.leftArrow.visible=!0,this.nowIndex+=1,this.rightArrow.visible=this.nowIndex+1!=t,this.ZN1()},t.prototype.ZN1=function(){var t=App.CM.gtM(O6.A40),e=App.CM.gtM(O6.C7),i=parseInt(t.modelList[this.nowIndex]);e.skinViewId=i;var s=e.skinList[i],o={id:i,x:0,y:0,dir:Dir.br,objType:P13.A6};this.objFaBao||(this.objFaBao=new FightGameObject),this.objFaBao.setData(o,this.grpFaBao);var r=TG19.base[i].name,n=O5.FB43(TG19.base[i].quality,1);this.lbName.textFlow=M18.HTP.parser(O3.tr(6473,n,r)),this.objFaBao.name=null,this.skill.imgIcon.source=s.getSkillIcon()},t.prototype.updateUI=function(){var t=TB59.FJ25();this.listView.rfL(t)},t.prototype.close=function(){s.prototype.close.call(this),this.listView.close(),this.nowIndex=null,this.leftArrow.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickLeft,this),this.rightArrow.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickRight,this),this.skill.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickSkill,this),this.grpFaBao.removeChildren(),this.objFaBao.destory(),this.objFaBao=null},t.prototype.onClickSkill=function(){this.aCF(O6.C7,N9.A12)},t.prototype.closeSelf=function(){this.aCF(O6.A40,C4.A5)},t}(BaseEuiView);__reflect(HightFaBaoDrawPreviewView.prototype,"HightFaBaoDrawPreviewView");var HightFaBaoDrawRecordItemView=function(e){function t(){var t=e.call(this)||this;return t.skinName=FaBaoDrawRecordItemSkin,t}return __extends(t,e),t.prototype.childrenCreated=function(){e.prototype.createChildren.call(this)},t.prototype.dataChanged=function(){var t=O5.FB43(this.data.itemData.quality,1),e=O3.tr(6480,this.data.name,t,this.data.itemData.name,this.data.haveNum);this.lbRecord.textFlow=M18.HTP.parser(e)},t}(eui.ItemRenderer);__reflect(HightFaBaoDrawRecordItemView.prototype,"HightFaBaoDrawRecordItemView");var HightFaBaoDrawRecordView=function(s){function t(t,e){var i=s.call(this,t,e)||this;return i.skinName=FaBaoDrawRecordSkin,i}return __extends(t,s),t.prototype.initUI=function(){s.prototype.initUI.call(this),this.lbStr1.textFlow=M18.HTP.parse(O3.tr(6479));var t={render:HightFaBaoDrawRecordItemView,tileLayout:!0,verticalGap:0,horizontalGap:-10,width:this.listGroup.width,height:this.listGroup.height};this.listView=new CommonListBase(t),this.listGroup.addChild(this.listView),this.listView.verticalCenter=0,this.listView.horizontalCenter=0},t.prototype.open=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];s.prototype.open.call(this),this.listView.open(),this.bgMask.addEventListener(egret.TouchEvent.TOUCH_TAP,this.closeSelf,this);var i=App.CM.gtM(O6.A40);this.ZC26(i)},t.prototype.uBM=function(t,e){if(s.prototype.uBM.call(this,t),t instanceof TB57)switch(e){case P4.C94:this.ZC26(t)}},t.prototype.ZC26=function(t){var e=P7.copyTab(t.recordList);this.listView.rfL(e)},t.prototype.close=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];s.prototype.close.call(this),this.listView.close(),this.bgMask.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.closeSelf,this)},t.prototype.closeSelf=function(){this.aCF(O6.A40,C4.A7)},t}(BaseEuiView);__reflect(HightFaBaoDrawRecordView.prototype,"HightFaBaoDrawRecordView");var HightFaBaoDrawRunItemView=function(i){function t(){var t=i.call(this)||this;return t.initHeight=126,t.skinName=FaBaoDrawRunItemSkin,t.addEventListener(egret.Event.ADDED_TO_STAGE,t.open,t),t.addEventListener(egret.Event.REMOVED_FROM_STAGE,t.close,t),t}return __extends(t,i),t.prototype.open=function(){this.itemIcon=new ItemIcon,this.gpIcon.addChild(this.itemIcon);var t=3*Math.random(),e=20*Math.random();this.bgImg.height=this.initHeight+e*t},t.prototype.close=function(){this.gpIcon.removeChildren(),this.itemIcon=null},t.prototype.childrenCreated=function(){i.prototype.createChildren.call(this)},t.prototype.dataChanged=function(){i.prototype.dataChanged.call(this);var t={itemData:{data:this.data.itemData,ct:this.data.itemNum},isBottom:!1},e=TF59.FC9(this.data.itemData.quality);e&&(t.itemData.texiao=e),this.itemIcon.data=t},t}(eui.ItemRenderer);__reflect(HightFaBaoDrawRunItemView.prototype,"HightFaBaoDrawRunItemView");var HightFaBaoDrawShopView=function(o){function t(t,e){var i=o.call(this,t,e)||this;return i.skinName=FaBaoShopSkin,i}return __extends(t,o),t.prototype.initData=function(){o.prototype.initData.call(this)},t.prototype.initUI=function(){o.prototype.initUI.call(this),this.dlg.title=O3.tr(6709),this.btnUpdate.label=O3.tr(6729);var t=N12.gID(N12.itemId.faBao);this.imgHave.setData(t),t=N12.gID(TD66.refreshId),this.imgItem.setData(t);var e={render:HightFaBaoShopItemView,tileLayout:!0,horizontalGap:14,verticalGap:10,width:this.grpList.width,height:this.grpList.height,arrowScale:1};this.listView=new CommonListBase(e),this.grpList.addChild(this.listView)},t.prototype.open=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];o.prototype.open.call(this,t),this.listView.open(),this.btnUpdate.addEventListener(egret.TouchEvent.TOUCH_TAP,this.ZU48,this),this.dlg.ZM69(this.oCC,this),this.dlg.ZQ14(this.oCC,this),this.updataUI(),this.openHandler()},t.prototype.updataUI=function(){var t=N12.giC(N12.itemId.faBao);this.lbNum.textFlow=M18.HTP.parser(O3.tr(4156,t)),t=TB59.FF75(),this.lbAmount.textFlow=M18.HTP.parser(O3.tr(4149,t));var e=TB59.FD65();this.listView.rfL(e)},t.prototype.close=function(){this.btnUpdate.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.ZU48,this),this.cTH(),this.listView.close()},t.prototype.ZU48=function(){this.aCF(O6.A40,C4.A3)},t.prototype.uBM=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];o.prototype.uBM.call(this,t,e);var s=e[0];if(t instanceof TB57)switch(s){case P4.R38:case P4.N58:case P4.B48:case P4.F16:this.updataUI()}},t.prototype.oCC=function(){this.aCF(O6.A40,C4.A12),this.close()},t.prototype.openHandler=function(){var e=this,t=O3.tr(6712,P6.FJ11(1e3*TB59.FG79(),1));this.lbUpdateTime.textFlow=M18.HTP.parser(t),this.timerHandler=App.K16.doTimer(1e3,0,function(){if(0<TB59.FG79()){var t=O3.tr(6712,P6.FJ11(1e3*TB59.FG79(),1));e.lbUpdateTime.textFlow=M18.HTP.parser(t)}},this)},t.prototype.cTH=function(){this.timerHandler&&(App.K16.rBH(this.timerHandler),this.timerHandler=null)},t}(BaseEuiView);__reflect(HightFaBaoDrawShopView.prototype,"HightFaBaoDrawShopView");var HightFaBaoDrawView=function(o){function t(t,e){var i=o.call(this,t,e)||this;return i.sGN("release_act1082"),i.skinName=HightFaBaoDrawSkin,i}return __extends(t,o),t.prototype.initUI=function(){o.prototype.initUI.call(this),this.touchEnabled=!1,this.runData.dataProvider=this.runCollection=new eui.ArrayCollection,this.runData.itemRenderer=HightFaBaoDrawRunItemView,this.copyRunData.dataProvider=this.copyRunCollection=new eui.ArrayCollection,this.copyRunData.itemRenderer=HightFaBaoDrawRunItemView;var t=O3.tr(6990,O3.tr(6993));this.FM13(this.btnFiveMelt,t),this.lbFiveMelt.visible=!1,this.lbStr1.textFlow=M18.HTP.parser(O3.tr(7095)),this.btnFiveMelt.label=O3.tr(6467),P7.FD57(O3.tr(6801),this.btnRecord.lbName),P7.FD57(O3.tr(6802),this.btnPreview.lbName),P7.FD57(O3.tr(6709),this.btnShop.lbName)},t.prototype.open=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];o.prototype.open.call(this),this.btnOneMelt.addEventListener(egret.TouchEvent.TOUCH_TAP,this.ZQ42,this),this.btnFiveMelt.addEventListener(egret.TouchEvent.TOUCH_TAP,this.ZM99,this),this.btnShop.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickShop,this),this.btnPreview.addEventListener(egret.TouchEvent.TOUCH_TAP,this.ZQ41,this),this.btnRecord.addEventListener(egret.TouchEvent.TOUCH_TAP,this.ZU49,this);var i=App.CM.gtM(O6.A40);this.ZG21(),i.overCd&&this.openHandler(),this.stateAct(),App.THH32.aUE(this.grpEffert,"wdsg_bfldl_lz_001",this.grpEffert.width/2,this.grpEffert.height/2),this.ZN1()},t.prototype.ZN1=function(){var t=App.CM.gtM(O6.A40),e=TD66.rateUp[t.actData.parVer],i={id:e,x:0,y:0,dir:Dir.br,objType:P13.A6};this.objFaBao=new FightGameObject,this.objFaBao.setData(i,this.grpBoss);var s=TG19.base[e].name,o=O5.FB43(TG19.base[e].quality,1);this.lbName.textFlow=M18.HTP.parser(O3.tr(7094,o,s)),this.objFaBao.name=null},t.prototype.stateAct=function(){var i=this;App.K16.doTimer(500,1,function(){i.runData.validateNow();i.runData.numChildren;var t=(i.runData.width+30+24)/546*25e3,e=i.runData.width/546*25e3;egret.Tween.get(i.runData,{loop:!0}).to({x:-i.runData.width},t).to({x:i.runData.width+30+24}).to({x:30},e),egret.Tween.get(i.copyRunData,{loop:!0}).to({x:i.runData.width+30+24}).to({x:-i.runData.width},t+e)},this)},t.prototype.openHandler=function(){var e=this;this.lbOneMelt.visible=!0;var t=O3.tr(6469,P6.FJ11(1e3*TB59.FJ24(),1));this.lbOneMelt.textFlow=M18.HTP.parser(t),this.timerHandler=App.K16.doTimer(1e3,0,function(){if(0<TB59.FJ24()){var t=O3.tr(6469,P6.FJ11(1e3*TB59.FJ24(),1));e.lbOneMelt.textFlow=M18.HTP.parser(t)}else e.cTH()},this)},t.prototype.cTH=function(){this.lbOneMelt.visible=!1,this.lbOneMelt.textFlow=M18.HTP.parser(O3.tr(6468,TD66.copperOnce)),this.timerHandler&&(App.K16.rBH(this.timerHandler),this.timerHandler=null)},t.prototype.ZQ42=function(){var t=0;if(App.CM.gtM(O6.A40).actData.overNum)t=A8.A3;else{if(!(N12.giC(TD66.costOneItem)>=TD66.costOneNum))return void P7.FA78();t=A8.A5}App.CM.apF(O6.A40,C4.A17,t)},t.prototype.ZM99=function(){App.CM.gtM(O6.A40);var t=0,e=N12.giC(TD66.costFiveItem),i=App.CM.gtM(O6.A41),s=0;i.openState&&i.actData.ZU21(1)&&(s=Number(i.actData.cost.split("|")[1].split(";")[0].split(":")[1])),e>=TD66.costFiveNum-s?(t=A8.A4,App.CM.apF(O6.A40,C4.A17,t)):P7.FA78()},t.prototype.ZQ41=function(){App.CM.apF(O6.A40,C4.A6)},t.prototype.ZU49=function(){App.CM.apF(O6.A40,C4.A8),App.CM.apF(O6.A40,C4.A10)},t.prototype.onClickShop=function(){App.CM.apF(O6.A40,C4.A16)},t.prototype.uBM=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];o.prototype.uBM.call(this,t,e);var s=e[0];if(t instanceof THH9)switch(s){case P4.V43:this.ZG21()}if(t instanceof TB57)switch(s){case P4.G83:case P4.A47:this.ZG21(),t.overCd&&this.openHandler()}},t.prototype.ZG21=function(){var t=App.CM.gtM(O6.A40),e=N12.gID(TD66.drawTicket);if(0<t.actData.overNum)this.imgOneMelt.visible=this.lbOneMeltNum.visible=!1,this.btnOneMelt.imgNew.visible=!0,this.btnOneMelt.label=O3.tr(6485),this.FM13(this.btnOneMelt);else{this.imgOneMelt.visible=this.lbOneMeltNum.visible=!0;var i=O3.tr(6990,O3.tr(6991));this.FM13(this.btnOneMelt,i),this.timerHandler||(this.btnOneMelt.label=O3.tr(6466)),this.btnOneMelt.imgNew.visible=!1,e=N12.gID(TD66.costOneItem),this.imgOneMelt.setData(e),this.lbOneMeltNum.textFlow=M18.HTP.parser(O3.tr(6470,TD66.costOneNum))}e=N12.gID(TD66.costFiveItem),this.imgFiveMelt.setData(e),this.lbFiveMeltNum.textFlow=M18.HTP.parser(O3.tr(6470,TD66.costFiveNum));var s=TB59.FK39();this.runCollection.replaceAll(s),this.copyRunCollection.replaceAll(s)},t.prototype.FM13=function(t,e){t.size=e?(t.label2=e,t.labelY="12","22"):(t.label2="",t.labelY="0","24")},t.prototype.close=function(){o.prototype.close.call(this),this.btnOneMelt.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.ZQ42,this),this.btnFiveMelt.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.ZM99,this),this.btnShop.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickShop,this),this.btnPreview.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.ZQ41,this),this.btnRecord.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.ZU49,this),this.removeEventListener(egret.TouchEvent.COMPLETE,this.stateAct,this),this.cTH(),App.THH32.rEf(this.grpEffert,"wdsg_bfldl_lz_001"),egret.Tween.removeTweens(this.runData),egret.Tween.removeTweens(this.copyRunData),this.grpBoss.removeChildren(),this.objFaBao.destory(),this.objFaBao=null},t}(BaseEuiView);__reflect(HightFaBaoDrawView.prototype,"HightFaBaoDrawView");var HightFaBaoShopItemView=function(e){function t(){var t=e.call(this)||this;return t.skinName=FaBaoShopItemSkin,t.addEventListener(egret.Event.ADDED_TO_STAGE,t.open,t),t.addEventListener(egret.Event.REMOVED_FROM_STAGE,t.close,t),t}return __extends(t,e),t.prototype.open=function(){this.buyBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.clickBuy,this)},t.prototype.close=function(){this.buyBtn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.clickBuy,this)},t.prototype.childrenCreated=function(){e.prototype.createChildren.call(this),this.initUI()},t.prototype.initUI=function(){this.itemIcon=new ItemIcon,this.iconGp.addChild(this.itemIcon)},t.prototype.dataChanged=function(){var t=!0;P7.FM14()&&(t=!1);var e={itemData:{data:this.data.itemData,ct:this.data.itemNum},isBottom:t};this.itemIcon.data=e,this.imgHave.setData(this.data.priceData);var i=!!this.data.isBuy;P16.sGF(this.buyBtn,i),this.buyBtn.enabled=!i,this.buyBtn.label=i?O3.tr(2512):O3.tr(6706),this.lbCost.textFlow=M18.HTP.parse(O3.tr(4149,"X"+this.data.priceNum))},t.prototype.clickBuy=function(){App.CM.apF(O6.A40,C4.A13,this.data.id)},t}(eui.ItemRenderer);__reflect(HightFaBaoShopItemView.prototype,"HightFaBaoShopItemView");var HightFaBaoDrawData=function(i){function t(t){var e=i.call(this,t)||this;return e.updateData(t),e}return __extends(t,i),t.prototype.updateData=function(t){this.parVer=null!=t.parVer?t.parVer:this.parVer,this.overNum=null!=t.rf?t.rf:this.overNum},t}(ActivityVo);__reflect(HightFaBaoDrawData.prototype,"HightFaBaoDrawData");var HightFabaoDrawRecordVo=function(){function t(t){this.updateData(t)}return t.prototype.updateData=function(t){this.name=null!=t.an?t.an:this.name,this.itemId=null!=t.i?t.i:this.itemId,this.haveNum=null!=t.n?t.n:this.haveNum,this.itemData=N12.gID(this.itemId)},t}();__reflect(HightFabaoDrawRecordVo.prototype,"HightFabaoDrawRecordVo");var HightFaBaoDrawRewardVo=function(){function t(t){this.initData(t)}return t.prototype.initData=function(t){for(var e in t)this[e]=t[e];var i=this.item.split(":");this.itemId=parseInt(i[0]),this.itemNum=parseInt(i[1]),this.itemData=N12.gID(this.itemId)},t}();__reflect(HightFaBaoDrawRewardVo.prototype,"HightFaBaoDrawRewardVo");var HightFabaoDrawShopVo=function(){function t(t){this.updateData(t)}return t.prototype.updateData=function(t){if(this.id=null!=t.id?t.id:this.id,this.index=null!=t.index?t.index:this.index,this.isBuy=null!=t.isBuy?t.isBuy:this.isBuy,!this.itemData){var e=TD66.limitshop[this.id],i=e.item.split(":");this.itemData=N12.gID(i[0]),this.itemNum=parseInt(i[1]),i=e.price.split(":"),this.priceData=N12.gID(i[0]),this.priceNum=parseInt(i[1])}},t}();__reflect(HightFabaoDrawShopVo.prototype,"HightFabaoDrawShopVo");var F13=function(){function t(){}return t.A2=10001,t.A1=10002,t}();__reflect(F13.prototype,"F13");var TB22=function(e){function t(){var t=e.call(this)||this;return App.VM.register(O7.D12,"HolidayActBaseView",t,K17.UI_Main),t.rgF(F13.A2,t.GG78,t),t.rgF(F13.A1,t.GF23,t),t}return __extends(t,e),t.prototype.GG78=function(t){App.VM.open(O7.D12,t)},t.prototype.GF23=function(){App.VM.close(O7.D12)},t}(TE11);__reflect(TB22.prototype,"TB22"),function(t){var e=function(){function c(){}return c.FK35=function(t){var e=t.activetask_init,i=t.activetask_dailytask,s=t.activetask_helptask,o=t.activetask_activetask,r=t.activetask_consumptiontask;c.activetask_dailytask=i,c.activetask_helptask=s,c.activetask_activetask=o,c.activetask_consumptiontask=r,c.activeBoxs=[];var n,a,h=e.reward1.value.split(","),p=h[0],l=h[1];c.activeBoxs.push({value:parseInt(p),rw:P7.str2kv(l)}),p=(n=e.reward2.value.split(","))[0],l=n[1],c.activeBoxs.push({value:parseInt(p),rw:P7.str2kv(l)}),p=(a=e.reward3.value.split(","))[0],l=a[1],c.activeBoxs.push({value:parseInt(p),rw:P7.str2kv(l)})},c}();t.Config=e,__reflect(e.prototype,"ActiveTask.Config")}(ActiveTask||(ActiveTask={})),function(e){var t=function(i){function t(t){var e=i.call(this,t)||this;return e.openState=!1,e.redNum=0,e.firstLoginRedNum=0,e}return __extends(t,i),t.prototype.ZC13=function(t){t&&(null!=this.actData?this.actData.updateData(t):(this.actData=new e.ActData(t),this.tips=this.actData.tips))},t.prototype.updateRed=function(){this.redNum=0},t.prototype.FL35=function(){return this.updateRed(),this.redNum},t.prototype.notify=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];i.prototype.notifyView.apply(this,[this].concat(t))},t}(TG79);e.Model=t,__reflect(t.prototype,"ActiveTask.Model")}(ActiveTask||(ActiveTask={})),function(t){var e=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.get=function(t){var e={type:P4.L64,body:{value:t}},i=this._controller;this.rSMO(P4.L65,i.GU2,i),this.sSM(e)},e}(TG80);t.Proxy=e,__reflect(e.prototype,"ActiveTask.Proxy")}(ActiveTask||(ActiveTask={})),function(o){var t=function(s){function t(){var t=s.call(this)||this;App.VM.register(O7.HH21,"ActiveTaskView",t,K17.UI_Main),App.VM.register(O7.C31,"ActiveTaskRewardView",t,K17.UI_Main_TOP),App.VM.register(O7.A80,"ActiveTaskRewardGetView",t,K17.UI_Main_TOP);var e=new o.Model(t);e.aLV(O7.HH21),e.aLV(TF59.FA34(F7.A96)),e.aLV(O7.I39);var i=new o.Proxy(t);return t.rgF(P4.L64,i.get,i),t}return __extends(t,s),t.prototype.GU2=function(t){if(200!=t.head.state)App.CM.apF(O6.B87,L10.A4,t);else{var e=this.gtM();e.ZC13(t.body),P5.sIs(t.body.ob),App.VM.open(O7.A80,t.body.ob),e.notify(t.head.protoType,t.body)}},t}(TE11);o.Controller=t,__reflect(t.prototype,"ActiveTask.Controller")}(ActiveTask||(ActiveTask={}));var ActiveTaskItemView=function(e){function t(){var t=e.call(this)||this;return t.skinName="ActiveTaskItemSkin",t}return __extends(t,e),t.prototype.childrenCreated=function(){e.prototype.childrenCreated.call(this),this.addEventListener(egret.Event.REMOVED_FROM_STAGE,this.remove,this),this.btn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClick,this)},t.prototype.dataChanged=function(){e.prototype.dataChanged.call(this),this.btn.touchEnabled=!0,this.labValue.textFlow=O3.tr2(8700,this.data.db.dailyexp),this.labTitle.textFlow=M18.FG71(this.data.db.name),this.labProgress.textFlow=O3.tr2(8699,Math.min(this.data.progress,this.data.db.completelimit),this.data.db.completelimit),this.data.state==J13.A2?(this.btn.touchEnabled=!1,this.btn.label=O3.tr(8738)):this.btn.label=0<this.data.db.jumpto?O3.tr(8706):O3.tr(8710),P16.sGF(this.btn,!this.btn.touchEnabled)},t.prototype.remove=function(){this.removeEventListener(egret.Event.REMOVED_FROM_STAGE,this.remove,this),this.btn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClick,this)},t.prototype.onClick=function(){this.data.state==J13.A1?0<this.data.db.jumpto?TG84.FM16(this.data.db.jumpto):P18.sDP(O3.tr(8707)):this.data.state==J13.A3&&Log.trace("get!")},t}(eui.ItemRenderer);__reflect(ActiveTaskItemView.prototype,"ActiveTaskItemView");var ActiveTaskNodeItemView=function(t){function e(){return t.call(this)||this}return __extends(e,t),e.prototype.dataChanged=function(){t.prototype.dataChanged.call(this),this.labValue.text=this.data.value+"",this.imgRed.visible=this.data.state==J13.A3,this.data.state==J13.A2?this.currentState="open":this.currentState="normal"},e}(eui.ItemRenderer);__reflect(ActiveTaskNodeItemView.prototype,"ActiveTaskNodeItemView");var ActiveTaskRewardGetView=function(o){function t(t,e){var i=o.call(this,t,e)||this;return i.time=10,i.skinName="SevenDayRewardSkin",i}return __extends(t,o),t.prototype.initUI=function(){o.prototype.initUI.call(this),this.btnOk.addEventListener(egret.TouchEvent.TOUCH_TAP,this.oCC,this),this.bgMask.addEventListener(egret.TouchEvent.TOUCH_TAP,this.oCC,this),this.rewards.dataProvider=this.dataSource=new eui.ArrayCollection,this.rewards.itemRenderer=DoubleRingDrawItemView,this.btnOk.label=O3.tr(7012)},t.prototype.open=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];o.prototype.open.apply(this,[t].concat(e));var s=t;P5.sIs(s),this.dataSource.source=s.map(function(t){return{itemData:{data:N12.gID(t.k),ct:t.v,texiao:!1},isBottom:!0}}),this.time=10,this.labTime.textFlow=O3.tr2(7007,this.time),App.K16.doTimer(1e3,this.time,this.countdown,this,this.oCC,this)},t.prototype.close=function(){App.K16.removeAll(this),this.btnOk.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.oCC,this),this.bgMask.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.oCC,this),this.dataSource.removeAll(),o.prototype.close.call(this)},t.prototype.countdown=function(){this.time-=1,this.labTime.textFlow=O3.tr2(7007,this.time)},t.prototype.oCC=function(){App.VM.GY64(this)},t}(BaseEuiView);__reflect(ActiveTaskRewardGetView.prototype,"ActiveTaskRewardGetView");var ActiveTaskRewardView=function(s){function t(t,e){var i=s.call(this,t,e)||this;return i.skinName="SevenDayShowSkin",i}return __extends(t,s),t.prototype.initUI=function(){s.prototype.initUI.call(this),this.dlg.ZM69(this.oCC,this),this.rewards.dataProvider=this.dataSource=new eui.ArrayCollection,this.rewards.itemRenderer=DoubleRingDrawItemView},t.prototype.open=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];s.prototype.open.apply(this,[t].concat(e)),4<=t.reward.length&&(this.scroller.width=360),this.dlg.title=t.title,this.dataSource.source=t.reward.map(function(t){var e=t.k,i=t.v,s=N12.gID(e);return{itemData:{data:s,ct:i,texiao:TF59.FC9(s.quality)},isBottom:!0}})},t.prototype.close=function(){this.dataSource.removeAll(),s.prototype.close.call(this)},t.prototype.oCC=function(){App.VM.GY64(this)},t}(BaseEuiView);__reflect(ActiveTaskRewardView.prototype,"ActiveTaskRewardView");var ActiveTask,ActiveTaskView=function(s){function t(t,e){var i=s.call(this,t,e)||this;return i.skinName="ActiveTaskSkin",i}return __extends(t,s),t.prototype.initUI=function(){var i=this;this.list=new CommonListBase({render:ActiveTaskItemView,gap:5,width:this.gList.width,height:this.gList.height,arrowScale:1}),this.gList.addChild(this.list),this.labTr8701.textFlow=O3.tr2(8701),this.labTr8709.textFlow=O3.tr2(8709),this.pBarPro.labelDisplay.visible=!1,this.tabBar.dataProvider=this.eaTitle=new eui.ArrayCollection,this.tabBar.addEventListener(eui.UIEvent.CHANGE,this.ZU55,this),this.gBox.$children.forEach(function(t){return t.addEventListener(egret.TouchEvent.TOUCH_TAP,i.onClickGet,i)});var s=ActiveTask.Config.activeBoxs[ActiveTask.Config.activeBoxs.length-1].value;this.pBarPro.maximum=s,ActiveTask.Config.activeBoxs.forEach(function(t,e){i.gBox.getChildAt(e).x=t.value/s*i.gBox.width})},t.prototype.open=function(){var t=App.CM.gtM(O6.B11);this.list.open(),this.updateTab(),this.GX5(t),this.GX42(),this.timer=this.timer||App.K16.doTimer(1e3,-1,this.GX42,this),this.onlineTimer=this.onlineTimer||App.K16.doTimer(6e4,-1,this.updateOnline,this)},t.prototype.close=function(){var e=this;this.tabBar.addEventListener(eui.UIEvent.CHANGE,this.ZU55,this),this.gBox.$children.forEach(function(t){return t.addEventListener(egret.TouchEvent.TOUCH_TAP,e.onClickGet,e)}),this.eaTitle.removeAll(),this.list.close(),App.K16.rBH(this.timer),delete this.timer,App.K16.rBH(this.onlineTimer),delete this.onlineTimer},t.prototype.uBM=function(t){t instanceof ActiveTask.Model&&this.GX5(t)},t.prototype.GX5=function(t){this.pBarPro.value=t.actData.dp,this.labValue.text=t.actData.dp+"",this.updateBox(t),this.updateList(t)},t.prototype.updateList=function(t){var e=this.tabBar.selectedIndex;e=e<0?0:e;var i=[ActiveTask.Config.activetask_dailytask,ActiveTask.Config.activetask_helptask,ActiveTask.Config.activetask_activetask,ActiveTask.Config.activetask_consumptiontask],s=[t.actData.d,t.actData.h,t.actData.a,t.actData.c],o=[];if(i[e]){var r=i[e]==ActiveTask.Config.activetask_activetask;for(var n in i[e]){var a=i[e][n],h=0;h=r&&1==a.type?Math.floor((s[e][n]||0)/6e4):s[e][n]||0,o.push({db:a,progress:h,state:h<a.completelimit?J13.A1:J13.A2})}}o.sort(function(t,e){return t.state==e.state?t.db.id-e.db.id:t.state-e.state}),this.list.rfL(o)},t.prototype.updateBox=function(i){var s=this;ActiveTask.Config.activeBoxs.forEach(function(t,e){s.gBox.getChildAt(e).data={state:0<=i.actData.s.indexOf(t.value)?J13.A2:i.actData.dp>=t.value?J13.A3:J13.A1,value:t.value}})},t.prototype.updateTab=function(){ActiveTask.Config.activetask_dailytask,ActiveTask.Config.activetask_helptask,ActiveTask.Config.activetask_activetask,ActiveTask.Config.activetask_consumptiontask;this.eaTitle.source=[8702,8703,8704,8705].map(function(t,e){return{text:O3.tr(t),reset:e<2,resetText:O3.tr(8734)}})},t.prototype.ZU55=function(t){var e=App.CM.gtM(O6.B11);this.list.moveToTop(),this.updateList(e)},t.prototype.onClickGet=function(t){var e=t.currentTarget;if(e)if(e.data.state==J13.A3)App.CM.apF(O6.B11,P4.L64,e.data.value);else if(e.data.state==J13.A1){for(var i=[],s=0,o=ActiveTask.Config.activeBoxs;s<o.length;s++){var r=o[s];if(r.value==e.data.value){i=r.rw;break}}App.VM.open(O7.C31,{reward:i,title:O3.tr(8708,e.data.value)})}},t.prototype.GX42=function(){var t=App.CM.gtM(O6.B11),e=t&&t.actData?1e3*t.actData.ZHH64():0;this.labTime.textFlow=O3.tr2(3253,P6.FJ11(e,5))},t.prototype.updateOnline=function(){if(2==this.tabBar.selectedIndex){var t=App.CM.gtM(O6.B11);this.updateList(t)}},t}(BaseEuiView);__reflect(ActiveTaskView.prototype,"ActiveTaskView"),function(t){var e=function(i){function t(t){var e=i.call(this,t)||this;return e.a={},e.tdf=0,e.updateData(t),e}return __extends(t,i),t.prototype.updateData=function(t){for(var e in this.dp=P7.getValue(t.dp,this.dp),this.s=P7.getValue(t.s,this.s),this.d=P7.getValue(t.d,this.d),this.h=P7.getValue(t.h,this.h),this.c=P7.getValue(t.c,this.c),this.a=P7.getValue(t.a,this.a),t.m)this.a[e]=t.m[e]},t}(ActivityVo);t.ActData=e,__reflect(e.prototype,"ActiveTask.ActData")}(ActiveTask||(ActiveTask={}));var F2=function(){function t(){}return t.A3=10001,t.A4=10002,t.A1=10003,t.A2=10004,t.A5=1e4,t}();__reflect(F2.prototype,"F2");var TA97=function(i){function t(){var t=i.call(this)||this,e=new TD20(t);return t.proxy=new TD21(t),e.aLV(O7.D8),e.aLV(O7.A77),App.VM.register(O7.D8,"ArtRecoveryView",t,K17.UI_Main),App.VM.register(O7.A77,"ArtRecoveryRankView",t,K17.UI_Main_TOP),App.VM.register(O7.A36,"ArtRecoveryRewardView",t,K17.UI_Popup),App.VM.register(O7.A79,"ArtRecoveryHelpView",t,K17.UI_Popup),App.VM.register(O7.A78,"ArtRecoveryShowView",t,K17.UI_Popup),t.rgF(F2.A5,t.push,t),t.rgF(F2.A3,t.GW94,t),t.rgF(F2.A4,t.GW95,t),t.rgF(F2.A1,t.GW98,t),t.rgF(F2.A2,t.GW99,t),t}return __extends(t,i),t.prototype.push=function(t){if(200==t.head.state){var e=this.gtM();e.ZC13(t.body),e.notify(P4.C52)}else App.CM.apF(O6.B87,L10.A4,t)},t.prototype.GW94=function(t){this.proxy.GW94(t)},t.prototype.GW95=function(t){if(200==t.head.state){var e=this.gtM();e.ZC13(t.body),e.notify(P4.C51)}else App.CM.apF(O6.B87,L10.A4,t)},t.prototype.GW98=function(t,e){this.proxy.GW98(t,e)},t.prototype.GW99=function(t){if(200==t.head.state){var e=this.gtM();e.ZC13(t.body),e.notify(P4.B2)}else App.CM.apF(O6.B87,L10.A4,t)},t}(TE11);__reflect(TA97.prototype,"TA97");var TD20=function(i){function t(t){var e=i.call(this,t)||this;return e.openState=!1,e.redNum=0,e.firstLoginRedNum=0,e.isShow=!0,e}return __extends(t,i),t.prototype.ZC13=function(t){t&&(null!=this.actData?this.actData.updateData(t):(this.actData=new ArtRecoveryData(t),this.tips=this.actData.tips),this.updateRed())},t.prototype.setSuc=function(){},t.prototype.updateRed=function(){this.redNum=this.FL35()},t.prototype.FL35=function(){var t=0;return t+=this.firstLoginRedNum},t.prototype.ZU56=function(){},t.prototype.notify=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];i.prototype.notifyView.apply(this,[this].concat(t))},t}(TG79);__reflect(TD20.prototype,"TD20");var TD21=function(i){function t(t){var e=i.call(this,t)||this;return e.rSM(P4.C52,e.push,e),e}return __extends(t,i),t.prototype.push=function(t){this.apF(F2.A5,t)},t.prototype.GW94=function(t){var e={type:P4.C50,body:{type:t}};this.rSMO(P4.C51,this.GW95,this),this.sSM(e)},t.prototype.GW95=function(t){this.apF(F2.A4,t)},t.prototype.GW98=function(t,e){var i={type:P4.B1,body:{currPage:t,size:e}};this.rSMO(P4.B2,this.GW99,this),this.sSM(i)},t.prototype.GW99=function(t){this.apF(F2.A2,t)},t}(TG80);__reflect(TD21.prototype,"TD21");var TD67=function(){function t(){}return t.FK41=function(t){var e=[];for(var i in t){var s={isBottom:!1,itemData:t[i],scale:.85};e.push(s)}return e},t.FE58=function(){},t}();__reflect(TD67.prototype,"TD67");var ArtRecoveryHelpView=function(s){function t(t,e){var i=s.call(this,t,e)||this;return i.skinName="DoubleRingDrawHelpSkin",i}return __extends(t,s),t.prototype.initUI=function(){s.prototype.initUI.call(this),this.bgMask.addEventListener(egret.TouchEvent.TOUCH_TAP,this.oCC,this),this.labTr7018.textFlow=O3.tr2(8498),this.labTr7019.textFlow=O3.tr2(8499),this.lb1.textFlow=O3.tr2(8500),this.lb2.textFlow=O3.tr2(8501)},t.prototype.close=function(){this.bgMask.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.oCC,this),s.prototype.close.call(this)},t.prototype.oCC=function(){App.VM.GY64(this)},t}(BaseEuiView);__reflect(ArtRecoveryHelpView.prototype,"ArtRecoveryHelpView");var ArtRecoveryItem=function(e){function t(){var t=e.call(this)||this;return t.skinName="ArtRecoveryItemSkin",t.addEventListener(egret.Event.ADDED_TO_STAGE,t.open,t),t.addEventListener(egret.Event.REMOVED_FROM_STAGE,t.close,t),t}return __extends(t,e),t.prototype.open=function(){this.addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.oCI,this)},t.prototype.close=function(){this.removeEventListener(egret.TouchEvent.TOUCH_BEGIN,this.oCI,this)},t.prototype.childrenCreated=function(){e.prototype.createChildren.call(this)},t.prototype.oCI=function(){var t=this.data.itemId,e=N12.gID(t);P5.FC75(e),TG40.playClickEffect()},t.prototype.dataChanged=function(){var t=this.data,e=N12.gID(t.itemId);this.imgIcon.source=e.icon,this.lbNum.text=0<Number(t.itemNum)?"x"+t.itemNum:"",this.imgTx.visible=!1},t.prototype.showTx=function(){App.THH33.aUE(this.gEffect,"circle_hong",-90,-90,-1)},t.prototype.hideTx=function(){App.THH33.rEf(this.gEffect,"circle_hong")},t.prototype.showBoom=function(){App.THH33.aUE(this.gEffect,"shxt_mc_tupo_3",-175,-175,1),this.hideTx(),egret.Tween.get(this.showGrp).to({alpha:0},1e3).to({alpha:1},1e3).pause()},t}(eui.ItemRenderer);__reflect(ArtRecoveryItem.prototype,"ArtRecoveryItem");var ArtRecoveryRankItem=function(e){function t(){var t=e.call(this)||this;return t.skinName="ArtRecoveryRankItemSkin",t.addEventListener(egret.Event.ADDED_TO_STAGE,t.open,t),t.addEventListener(egret.Event.REMOVED_FROM_STAGE,t.close,t),t}return __extends(t,e),t.prototype.open=function(){},t.prototype.close=function(){this.dataSource.removeAll()},t.prototype.childrenCreated=function(){e.prototype.createChildren.call(this),this.initUI()},t.prototype.initUI=function(){this.listContent.itemRenderer=ItemIcon,this.dataSource=new eui.ArrayCollection,this.listContent.dataProvider=this.dataSource,this.awardsSc.viewport=this.listContent,this.awardsSc.scrollPolicyV=eui.ScrollPolicy.OFF,this.lbMy.text=O3.tr(5490)},t.prototype.dataChanged=function(){var t=[],e=this.data,i=this.data.itemD,s=i.reward?i.reward.split(";"):[];for(var o in s){var r=s[o].split(":")[0],n=s[o].split(":")[1],a=N12.gID(r),h={data:a,ct:n,texiao:TF59.FC9(a.quality)};t.push({itemData:h,isBottom:!1,scale:1})}if(this.dataSource.replaceAll(t),this.gpMy.visible=this.data.isMe,e.rankD){this.lbName.text=e.rankD.n+"."+e.rankD.sn;var p=1e4<=e.rankD.gd?O3.tr(8507,(e.rankD.gd/1e4).toFixed(1)):e.rankD.gd;this.lbPower.text=e.rankD.gd?O3.tr(8496,p):"???"}else{this.lbName.text=O3.tr(8493);p=i.impose&&1e4<=parseInt(i.impose)?O3.tr(8507,(parseInt(i.impose)/1e4).toFixed(1)):parseInt(i.impose);this.lbPower.text=parseInt(i.impose)?O3.tr(8495,p):""}switch(this.lbRank.text="",e.r){case 1:this.imgRank.source="v1_fonts_di1m_png";break;case 2:this.imgRank.source="v1_fonts_2nd_png";break;case 3:this.imgRank.source="v1_fonts_di3m_png";break;default:this.imgRank.source="",this.lbRank.text=O3.tr(8494,e.r)}},t.prototype.oCC=function(){App.VM.close(O7.A77)},t}(eui.ItemRenderer);__reflect(ArtRecoveryRankItem.prototype,"ArtRecoveryRankItem");var ArtRecoveryRankView=function(s){function t(t,e){var i=s.call(this,t,e)||this;return i.maxCount=5,i.totalPage=20,i.rankCount=100,i.skinName=ArtRecoveryRankSkin,i}return __extends(t,s),t.prototype.initUI=function(){s.prototype.initUI.call(this),this.dlg.ZM69(this.oCC,this),this.dlg.ZQ14(this.oCC,this);var t={render:ArtRecoveryRankItem,gap:5,width:this.listGroup.width,height:this.listGroup.height,arrowScale:1};this.listView=new CommonListBase(t),this.listGroup.addChild(this.listView),this.listView.verticalCenter=0,this.listView.horizontalCenter=0,this.dlg.title=O3.tr(8488),this.myRankDC.textFlow=O3.tr2(8491),this.myRankDC0.textFlow=O3.tr2(8492),this.rankCount=Number(TG75.rank[45].count),this.totalPage=Number(TG75.rank[45].count)/5},t.prototype.open=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];s.prototype.open.call(this),this.listView.open(),this.curPage=0,App.CM.apF(O6.A94,F2.A1,-1,5),this.btnLeft.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickLeft,this),this.btnRight.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickRight,this),this.ZU31()},t.prototype.uBM=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];s.prototype.uBM.call(this,t,e),t instanceof TD20&&(e[0]==P4.B2?this.ZN4(t):e[0]==P4.B2&&this.ZN4(t))},t.prototype.ZN4=function(t){this.curPage||(0<t.actData.me.r?t.actData.me.r<=this.rankCount?this.curPage=Math.ceil(t.actData.me.r/5):this.curPage=this.totalPage:this.curPage=1);var e=t.actData;this.leftCD=e.ZHH64();var i=P6.FJ11(1e3*this.leftCD,5);this.cdLb.textFlow=M18.HTP.parser(O3.tr(3253,i)),this._timerHandler=App.K16.doTimer(1e3,this.leftCD,this.GY14,this);var s=this.getShowData(t);this.listView.rfL(s),this.showMeUI(t),this.ZU31()},t.prototype.getShowData=function(t){for(var e=[],i=1;i<=5;i++){var s=i+5*this.curPage-5,o=t.actData.FJ27(s),r={r:s,rankD:this.FJ27(t.actData.as,s),itemD:o,isMe:t.actData.me.r==s};e.push(r)}return e},t.prototype.FJ27=function(t,e){for(var i in t){var s=t[i];if(s.r==e)return s}},t.prototype.showMeUI=function(t){t.actData.me.r>this.rankCount?this.myRankMC.textFlow=O3.tr2(7691):this.myRankMC.textFlow=t.actData.me.r?O3.tr2(8489,t.actData.me.r):O3.tr2(7691),this.myRankQS.textFlow=O3.tr2(8490,t.actData.me.gd)},t.prototype.GY14=function(){this.leftCD--;var t=P6.FJ11(1e3*this.leftCD,5);this.cdLb.textFlow=M18.HTP.parser(O3.tr(3253,t)),this.leftCD<=0&&(this.cTH(),this.cdLb.text="")},t.prototype.cTH=function(){null!=this._timerHandler&&(App.K16.rBH(this._timerHandler),this._timerHandler=null)},t.prototype.onClickLeft=function(){this.curPage--;var t=App.CM.gtM(O6.A94);this.ZN4(t),this.ZU31()},t.prototype.onClickRight=function(){this.curPage++;var t=App.CM.gtM(O6.A94);this.ZN4(t),this.ZU31()},t.prototype.ZU31=function(){this.curPage==this.totalPage?this.btnRight.visible=!1:this.btnRight.visible=!0,1==this.curPage?this.btnLeft.visible=!1:this.btnLeft.visible=!0},t.prototype.oCC=function(){App.VM.close(O7.A77)},t.prototype.close=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];s.prototype.close.call(this),this.cTH(),this.listView.close()},t}(BaseEuiView);__reflect(ArtRecoveryRankView.prototype,"ArtRecoveryRankView");var ArtRecoveryRewardItem=function(e){function t(){var t=e.call(this)||this;return t.skinName="ArtRecoveryRewardItemSkin",t}return __extends(t,e),t.prototype.dataChanged=function(){e.prototype.dataChanged.call(this)},t}(ItemIconBase);__reflect(ArtRecoveryRewardItem.prototype,"ArtRecoveryRewardItem");var ArtRecoveryRewardView=function(o){function t(t,e){var i=o.call(this,t,e)||this;return i.time=10,i.skinName="ArtRecoveryRewardSkin",i}return __extends(t,o),Object.defineProperty(t.prototype,"model",{get:function(){return App.CM.gtM(O6.A94)},enumerable:!0,configurable:!0}),t.prototype.initUI=function(){o.prototype.initUI.call(this),this.btnOk.addEventListener(egret.TouchEvent.TOUCH_TAP,this.oCC,this),this.bgMask.addEventListener(egret.TouchEvent.TOUCH_TAP,this.oCC,this),this.btnOneMelt.addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.btnMeltEvent.bind(this,0),this),this.btnTenMelt.addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.btnMeltEvent.bind(this,1),this),this.btnFiftytMelt.addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.btnMeltEvent.bind(this,2),this),this.rewards.dataProvider=this.dataSource=new eui.ArrayCollection,this.rewards.itemRenderer=DoubleRingDrawItemView,this.btnOk.label=O3.tr(7012)},t.prototype.open=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];o.prototype.open.apply(this,[t].concat(e)),this.model.isShow=!1;var s=this.model.actData.ob;P5.sIs(s),this.dataSource.source=s.map(function(t){return{itemData:{data:N12.gID(t.k),ct:t.v,texiao:!1},isBottom:!0}}),this.time=10,this.labTime.textFlow=O3.tr2(7007,this.time),App.K16.doTimer(1e3,this.time,this.countdown,this,this.oCC,this),this.ZU57()},t.prototype.ZU57=function(){var t=App.CM.gtM(O6.A94),e=[this.btnOneMelt,this.btnTenMelt,this.btnFiftytMelt],i=[this.imgOneMelt,this.imgTenMelt,this.imgFiftytMelt],s=[this.lbOneMeltNum,this.lbTenMeltNum,this.lbFiftytNum];for(var o in e){var r=t.actData.getCostData(o),n=N12.gID(r.costId);e[o].label=O3.tr(8481,r.time),e[o].label2=O3.tr(8480,M18.FM20(parseInt(r.getNum),0,1e4)),i[o].setData(n),s[o].text=r.costNum}},t.prototype.close=function(){App.K16.removeAll(this),this.btnOk.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.oCC,this),this.bgMask.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.oCC,this),this.dataSource.removeAll(),o.prototype.close.call(this)},t.prototype.countdown=function(){this.time-=1,this.labTime.textFlow=O3.tr2(7007,this.time)},t.prototype.btnMeltEvent=function(t){var e=App.CM.gtM(O6.A94).actData.getCostData(t),i=N12.giC(e.costId),s=Number(t)+1;i>=Number(e.costNum)?(App.VM.GY64(this),App.CM.apF(O6.A94,F2.A3,s)):P7.FA78()},t.prototype.oCC=function(){App.VM.GY64(this),this.model.isShow=!0},t}(BaseEuiView);__reflect(ArtRecoveryRewardView.prototype,"ArtRecoveryRewardView");var ArtRecoveryShowItem=function(e){function t(){var t=e.call(this)||this;return t.skinName="ArtRecoveryShowItemSkin",t.addEventListener(egret.Event.ADDED_TO_STAGE,t.open,t),t.addEventListener(egret.Event.REMOVED_FROM_STAGE,t.close,t),t}return __extends(t,e),t.prototype.open=function(){},t.prototype.close=function(){},t.prototype.childrenCreated=function(){e.prototype.createChildren.call(this),this.initUI()},t.prototype.initUI=function(){},t.prototype.dataChanged=function(){if(this.data){var t=this.data;this.lbName.textFlow=O3.tr2(8486,t.n);var e=N12.gID(t.i.k),i=1<t.i.v?e.name+"*"+t.i.v:e.name;this.lbItem.textFlow=M18.FG71(O5.FD52(i,e.quality,1,!0))}},t}(eui.ItemRenderer);__reflect(ArtRecoveryShowItem.prototype,"ArtRecoveryShowItem");var ArtRecoveryShowView=function(s){function t(t,e){var i=s.call(this,t,e)||this;return i.skinName="ArtRecoveryShowSkin",i}return __extends(t,s),t.prototype.initUI=function(){s.prototype.initUI.call(this),this.bgMask.addEventListener(egret.TouchEvent.TOUCH_TAP,this.oCC,this),this.showGrp.dataProvider=this.dataSource=new eui.ArrayCollection,this.showGrp.itemRenderer=ArtRecoveryShowItem,this.labTr.text=O3.tr(8485)},t.prototype.open=function(){var t=App.CM.gtM(O6.A94).actData.rec;this.dataSource.source=t},t.prototype.close=function(){this.bgMask.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.oCC,this),s.prototype.close.call(this),this.dataSource.removeAll()},t.prototype.oCC=function(){App.VM.GY64(this)},t}(BaseEuiView);__reflect(ArtRecoveryShowView.prototype,"ArtRecoveryShowView");var ArtRecoveryView=function(o){function t(t,e){var i=o.call(this,t,e)||this;return i.artRType=0,i.txIndex=0,i.sGN("release_act1135"),i.skinName="ArtRecoverySkin",i}return __extends(t,o),t.prototype.initUI=function(){this.itemS=[this.item0,this.item1,this.item2,this.item3,this.item4,this.item5,this.item6,this.item7,this.item8,this.item9,this.item10,this.item11];var t=O3.tr(8478);this.btnShow.textFlow=new Array({text:t,style:{underline:!0}}),this.showHelpBtn.text=O3.tr(8479),this.showShopBtn.label=O3.tr(8482),this.showRankBtn.label=O3.tr(8483),this.lbTip.text=O3.tr(8503)},t.prototype.open=function(){for(var e=this,t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];o.prototype.open.call(this);var s=App.CM.gtM(O6.A94);s.isShow=!0,this.ZHH76(s),this.ZJ97(s.actData.FJ23()),this.ZU57(),this.btnOneMelt.addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.btnMeltEvent.bind(this,0),this),this.btnTenMelt.addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.btnMeltEvent.bind(this,1),this),this.btnFiftytMelt.addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.btnMeltEvent.bind(this,2),this),this.showHelpBtn.addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.ZJ94,this),this.showShopBtn.addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.ZJ95,this),this.showRankBtn.addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.ZJ96,this),this.btnShow.addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.btnShowEvent,this),this.showTipTween(),this.showQNTween(),this._TiptimerHandler=App.K16.doTimer(5e3,0,this.showTipTween,this),this._qtimerHandler=App.K16.doTimer(1300,0,this.showQNTween,this),App.THH33.aUE(this.wGroup,"sqfs_mc_danlu",0,0,-1),App.K16.doFrame(1,1,function(){var t=App.VM.gOV(TF59.FA34(F7.A95));t&&t.autoOut&&(e.autoOutVis=t.autoOut.visible,t.autoOut.visible=!1)},this)},t.prototype.close=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];o.prototype.close.call(this),this.cTH();var i=App.VM.gOV(TF59.FA34(F7.A95));i&&i.autoOut&&(i.autoOut.visible=this.autoOutVis)},t.prototype.btnMeltEvent=function(t){var e=App.CM.gtM(O6.A94).actData.getCostData(t),i=N12.giC(e.costId),s=Number(t)+1;i>=Number(e.costNum)?(this.artRType=t,App.CM.apF(O6.A94,F2.A3,s)):P7.FA78()},t.prototype.ZJ94=function(){App.VM.open(O7.A79)},t.prototype.ZJ95=function(){App.VM.open(O7.HH98,O7.E72,P12.A12)},t.prototype.ZJ96=function(){App.VM.open(O7.A77)},t.prototype.btnShowEvent=function(){App.VM.open(O7.A78)},t.prototype.uBM=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];o.prototype.uBM.call(this,t,e),t instanceof TD20&&e[0]==P4.C51&&(this.lbjf.textFlow=O3.tr2(8484,N12.giC("75025")),t.isShow?this.showTxEvent():App.VM.open(O7.A36,this.artRType))},t.prototype.ZHH76=function(t){if(this.lbjf.textFlow=O3.tr2(8484,N12.giC("75025")),null==this.timerHandler)if(0<t.actData.rs){this.leftCD=t.actData.ZHH64();var e=O3.tr(7569,P6.FJ11(1e3*this.leftCD,5));this.cdLb.textFlow=M18.HTP.parse(e),this.timerHandler=App.K16.doTimer(1e3,this.leftCD,this.GY14,this)}else this.cdLb.text=""},t.prototype.showTipTween=function(){var t=App.CM.gtM(O6.A94).actData.ZQ57();if(t){this.lbTip.visible=!1,this.lbName.textFlow=O3.tr2(8486,t.n);var e=N12.gID(t.i.k),i=1<t.i.v?e.name+"*"+t.i.v:e.name;this.lbItem.textFlow=M18.FG71(O5.FD52(i,e.quality,1,!0)),this.grpTipShow.alpha=0,this.grpTipShow.verticalCenter=-203,egret.Tween.get(this.grpTipShow).to({verticalCenter:-233,alpha:1},1e3).wait(3e3).to({verticalCenter:-263,alpha:0},1e3).pause()}else this.lbTip.visible=!0},t.prototype.ZU57=function(){var t=App.CM.gtM(O6.A94),e=[this.btnOneMelt,this.btnTenMelt,this.btnFiftytMelt],i=[this.imgOneMelt,this.imgTenMelt,this.imgFiftytMelt],s=[this.lbOneMeltNum,this.lbTenMeltNum,this.lbFiftytNum];for(var o in e){var r=t.actData.getCostData(o),n=N12.gID(r.costId);e[o].label=O3.tr(8481,r.time),e[o].label2=O3.tr(8480,M18.FM20(parseInt(r.getNum),0,1e4)),i[o].setData(n),s[o].text=r.costNum}},t.prototype.showTxEvent=function(){null==this._timerHandler&&(this.txIndex=0,this.ZU58(),this._timerHandler=App.K16.doTimer(250,7,this.txTween,this,this.finishTween.bind(this),this))},t.prototype.txTween=function(){this.txIndex<6&&(this.itemS[this.txIndex].showTx(),this.itemS[11-this.txIndex].showTx()),this.txIndex++},t.prototype.finishTween=function(){var t=this;for(var e in this.itemS)this.itemS[e].showBoom();egret.Tween.get(this).wait(900).pause().call(function(){t.openBtnClick(),App.VM.open(O7.A36,t.artRType)}),null!=this._timerHandler&&(App.K16.rBH(this._timerHandler),this._timerHandler=null)},t.prototype.ZJ97=function(t){for(var e in this.itemS){var i=t[e];this.itemS[e].data=i}},t.prototype.ZU58=function(){this.btnOneMelt.enabled=!1,this.btnTenMelt.enabled=!1,this.btnFiftytMelt.enabled=!1},t.prototype.openBtnClick=function(){this.btnOneMelt.enabled=!0,this.btnTenMelt.enabled=!0,this.btnFiftytMelt.enabled=!0},t.prototype.showQNTween=function(){this.qImg.alpha=0,this.qImg.scaleX=this.qImg.scaleY=.6,egret.Tween.get(this.qImg).to({alpha:1,scaleX:.925,scaleY:.925},1300).pause(),this.qImg1.alpha=1,this.qImg1.scaleX=this.qImg1.scaleY=.925,egret.Tween.get(this.qImg1).to({alpha:0,scaleX:1.25,scaleY:1.25},1300).pause()},t.prototype.GY14=function(){this.leftCD--;var t=O3.tr(3253,P6.FJ11(1e3*this.leftCD,5));this.cdLb.textFlow=M18.HTP.parse(t),this.leftCD<=0&&(this.cTH(),this.cdLb.text="")},t.prototype.cTH=function(){null!=this.timerHandler&&(App.K16.rBH(this.timerHandler),this.timerHandler=null),null!=this._timerHandler&&(App.K16.rBH(this._timerHandler),this._timerHandler=null),null!=this._TiptimerHandler&&(App.K16.rBH(this._TiptimerHandler),this._TiptimerHandler=null),null!=this._qtimerHandler&&(App.K16.rBH(this._qtimerHandler),this._qtimerHandler=null)},t}(BaseEuiView);__reflect(ArtRecoveryView.prototype,"ArtRecoveryView");var ArtRecoveryData=function(i){function t(t){var e=i.call(this,t)||this;return e.tipIdx=0,e.updateData(t),e}return __extends(t,i),t.prototype.updateData=function(t){if(t.atmp){var e=t.atmp;this.cost=e.cost?e.cost:this.cost,this.more=e.more?e.more:this.more,this.rank=e.rank?e.rank:this.rank}this.ob=t.ob?t.ob:this.ob,this.as=t.as?t.as:this.as,this.me=t.me?t.me:this.me,t.rec&&this.upDataRec(t.rec),this.ZU63(t)},t.prototype.upDataRec=function(t){if(this.rec){var e=this.rec;for(var i in t){var s=t[i];e.push(s)}if(20<e.length){var o=e.length-20;this.rec=e.splice(o)}else this.rec=e}else this.rec=t},t.prototype.getCostData=function(t){var e=this.cost.split("|")[1].split(";")[t].split(",");return{time:e[0],costId:e[1].split(":")[0],costNum:e[1].split(":")[1],getId:e[2].split(":")[0],getNum:e[2].split(":")[1]}},t.prototype.FJ27=function(t){var e=this.rank.split("|");for(var i in e){var s=e[i].split(",")[0].split("#")[0].split("-")[1];if(t<=Number(s))return{impose:e[i].split(",")[0].split("#")[1]?e[i].split(",")[0].split("#")[1]:"0",reward:e[i].split(",")[1]}}return{impose:null,reward:null}},t.prototype.FJ23=function(){var t=this.more.split(";"),e=[];for(var i in t){var s=t[i].split("-"),o={itemId:s[1].split(":")[0],itemNum:s[1].split(":")[1],isTx:!!Number(s[2])};e.push(o)}return e},t.prototype.ZQ57=function(){var t=null;return this.rec.length&&(this.rec[this.tipIdx]?(t=this.rec[this.tipIdx],this.tipIdx++):(t=this.rec[0],this.tipIdx=0)),t},t}(ActivityVo);__reflect(ArtRecoveryData.prototype,"ArtRecoveryData");var N10=function(){function t(){}return t.A7=1e4,t.A5=10001,t.A6=10002,t.A3=10003,t.A4=10004,t.A1=10005,t.A2=10006,t}();__reflect(N10.prototype,"N10");var TD68=function(i){function t(){var t=i.call(this)||this,e=new TG43(t);return t.proxy=new TG44(t),e.aLV(O7.I81),e.aLV(O7.HH19),e.aLV(O7.I35),e.aLV(O7.HH87),t.rgF(N10.A7,t.pushRes,t),t.rgF(N10.A5,t.throwReq,t),t.rgF(N10.A6,t.throwRes,t),t.rgF(N10.A3,t.GY5,t),t.rgF(N10.A4,t.GY6,t),t.rgF(N10.A1,t.GW98,t),t.rgF(N10.A2,t.GW99,t),App.VM.register(O7.I81,"BigRMView",t,K17.UI_Main),App.VM.register(O7.HH19,"BigRMTimerView",t,K17.UI_Main_TOP),App.VM.register(O7.I35,"BigRMTipView",t,K17.UI_Popup),App.VM.register(O7.HH87,"BigRMRankView",t,K17.UI_Popup),t}return __extends(t,i),t.prototype.pushRes=function(t){if(200==t.head.state){var e=this.gtM();e.ZC13(t.body),e.notify(P4.R6)}else App.CM.apF(O6.B87,L10.A4,t)},t.prototype.throwReq=function(t){this.proxy.throwReq(t)},t.prototype.throwRes=function(t){if(200==t.head.state){var e=this.gtM();e.ZC13(t.body),e.notify(P4.V21)}else App.CM.apF(O6.B87,L10.A4,t)},t.prototype.GY5=function(t){this.proxy.GY5(t)},t.prototype.GY6=function(t){if(200==t.head.state){var e=this.gtM();e.ZC13(t.body),e.notify(P4.S62),t.body.ob&&P5.sIs(t.body.ob)}else App.CM.apF(O6.B87,L10.A4,t)},t.prototype.GW98=function(){this.proxy.GW98()},t.prototype.GW99=function(t){if(200==t.head.state){var e=this.gtM();e.ZC13(t.body),e.notify(P4.N9),t.body.ob&&P5.sIs(t.body.ob)}else App.CM.apF(O6.B87,L10.A4,t)},t}(TE11);__reflect(TD68.prototype,"TD68");var TG43=function(i){function t(t){var e=i.call(this,t)||this;return e.openState=!1,e.redNum=0,e.firstLoginRedNum=0,e.isShow=!0,e.useTips=!1,e.canClick=!0,e}return __extends(t,i),t.prototype.ZC13=function(t){t&&(null!=this.actData?this.actData.updateData(t):(this.actData=new BigRMData(t),this.tips=this.actData.tips),this.updateRed())},t.prototype.setSuc=function(){},t.prototype.updateRed=function(){this.redNum=this.FL35()},t.prototype.FL35=function(){var t=0;return t+=this.firstLoginRedNum,t+=this.ZU56()},t.prototype.ZU56=function(){var t=this.actData.getViewList();for(var e in t)if(t[e].state==J13.A3)return 1;return 0},t.prototype.notify=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];i.prototype.notifyView.apply(this,[this].concat(t))},t}(TG79);__reflect(TG43.prototype,"TG43");var TG44=function(i){function t(t){var e=i.call(this,t)||this;return e.rSM(P4.S63,e.push,e),e}return __extends(t,i),t.prototype.push=function(t){this.apF(N10.A7,t)},t.prototype.throwReq=function(t){var e={type:P4.V20,body:{type:t}};this.rSMO(P4.V21,this.throwRes,this),this.sSM(e)},t.prototype.throwRes=function(t){this.apF(N10.A6,t)},t.prototype.GY5=function(t){var e={type:P4.S61,body:{ci:t}};this.rSMO(P4.S62,this.GY6,this),this.sSM(e)},t.prototype.GY6=function(t){this.apF(N10.A4,t)},t.prototype.GW98=function(){var t={type:P4.N8,body:{currPage:1,size:5}};this.rSMO(P4.N9,this.GW99,this),this.sSM(t)},t.prototype.GW99=function(t){this.apF(N10.A2,t)},t}(TG80);__reflect(TG44.prototype,"TG44");var TG89=function(){function t(){}return t.FK41=function(t){var e=[];for(var i in t){var s={isBottom:!1,itemData:t[i],scale:.85};e.push(s)}return e},t.FE58=function(){},t}();__reflect(TG89.prototype,"TG89");var BigRMRankItem=function(e){function t(){var t=e.call(this)||this;return t.skinName="BigRMRankItemSkin",t.addEventListener(egret.Event.ADDED_TO_STAGE,t.open,t),t.addEventListener(egret.Event.REMOVED_FROM_STAGE,t.close,t),t}return __extends(t,e),t.prototype.open=function(){},t.prototype.close=function(){this.rewardsCollection.removeAll()},t.prototype.childrenCreated=function(){e.prototype.createChildren.call(this),this.initUI()},t.prototype.initUI=function(){this.dgRewards.itemRenderer=ItemIcon,this.rewardsCollection=new eui.ArrayCollection,this.dgRewards.dataProvider=this.rewardsCollection,this.awardsSc.viewport=this.dgRewards,this.awardsSc.scrollPolicyV=eui.ScrollPolicy.OFF},t.prototype.chDetail=function(){},t.prototype.dataChanged=function(){this.data.show?(2==this.data.mc&&(this.fontImg.source="v1_fonts_2nd_png"),3==this.data.mc&&(this.fontImg.source="v1_fonts_3rd_png"),this.data.rankData?(this.nameLb.text=this.data.rankData.n+"."+this.data.rankData.sn,this.ring.text=O3.tr(8084,this.data.rankData.c)):(this.nameLb.text=O3.tr(610),this.ring.text=""),this.mcLb.text=""):(this.fontImg.source="",this.nameLb.text="",this.ring.text="",this.mcLb.text=O3.tr(813,this.data.mc));var t=TG89.FK41(P7.FF58(this.data.jl));this.rewardsCollection.replaceAll(t),this.ringLb.text=O3.tr(8085,this.data.ring);var e=this.data.rjl.split(":"),i=N12.gID(e[0]),s=TF59.FC9(i.quality);this.ringItem.data={itemData:{data:i,ct:e[1],texiao:s},isBottom:!1}},t}(eui.ItemRenderer);__reflect(BigRMRankItem.prototype,"BigRMRankItem");var BigRMRankView=function(s){function t(t,e){var i=s.call(this,t,e)||this;return i.listData=[],i.skinName=BigRMRankSkin,i}return __extends(t,s),t.prototype.initUI=function(){s.prototype.initUI.call(this),this.createList(),this.dlg.ZM69(this.oCC,this),this.dlg.ZQ14(this.oCC,this),this.myRankDC.text=O3.tr(8082),this.dlg.title=O3.tr(8088)},t.prototype.createList=function(){var t={render:BigRMRankItem,gap:5,width:this.listGroup.width,height:this.listGroup.height};this.listView=new CommonListBase(t),this.listGroup.addChild(this.listView),this.listView.verticalCenter=0,this.listView.horizontalCenter=0,this.dgRewards.itemRenderer=ItemIcon,this.rewardsCollection=new eui.ArrayCollection,this.dgRewards.dataProvider=this.rewardsCollection,this.awardsSc.viewport=this.dgRewards,this.awardsSc.scrollPolicyV=eui.ScrollPolicy.OFF},t.prototype.open=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];s.prototype.open.call(this),this.listView.open(),App.CM.apF(O6.C8,N10.A1)},t.prototype.uBM=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];s.prototype.uBM.call(this,t,e),t instanceof TG43&&e[0]==P4.N9&&this.ZC28(t)},t.prototype.ZC28=function(t){var e=t.actData.getRankList()[0];e.rankData?(this.showBoss(t.actData.fristModel),this.scoreLb.text=O3.tr(8115,e.rankData.c),this.nameLb.text=e.rankData.n+"."+e.rankData.sn):(this.scoreLb.text=O3.tr(7695),this.nameLb.text=O3.tr(7695));var i=TG89.FK41(P7.FF58(e.jl));this.rewardsCollection.replaceAll(i),this.ringLb.text=O3.tr(8085,e.ring);var s=e.rjl.split(":"),o=N12.gID(s[0]),r=TF59.FC9(o.quality);if(this.ringItem.data={itemData:{data:o,ct:s[1],texiao:r},isBottom:!1},this.listData=t.actData.getRankList().slice(1),this.listView.rfL(this.listData),t.actData.ringRank?this.myRankMC.textFlow=M18.HTP.parse(O3.tr(8080,t.actData.ringRank.r)):this.myRankMC.textFlow=M18.HTP.parse(O3.tr(8080,O3.tr(214))),this.myRankQS.textFlow=M18.HTP.parse(O3.tr(8081,t.actData.ring)),null==this._timerHandler)if(0<t.actData.rs){this.zeroCD=t.actData.ZHH64();var n=O3.tr(7569,P6.FJ11(1e3*this.zeroCD,5));this.leftCdLb.textFlow=M18.HTP.parse(n),this._timerHandler=App.K16.doTimer(1e3,this.zeroCD,this.GY14,this)}else this.leftCdLb.text=""},t.prototype.GY14=function(){this.zeroCD--;var t=O3.tr(3253,P6.FJ11(1e3*this.zeroCD,5));this.leftCdLb.textFlow=M18.HTP.parser(t),this.zeroCD<=0&&(this.cTH(),this.leftCdLb.text="")},t.prototype.cTH=function(){null!=this._timerHandler&&(App.K16.rBH(this._timerHandler),this._timerHandler=null)},t.prototype.oCC=function(){App.VM.close(O7.HH87)},t.prototype.close=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];s.prototype.close.call(this),this.cTH(),this.listView.close(),this.rewardsCollection.removeAll(),this.objBoss&&(this.grpBossArm.removeChildren(),this.objBoss.destory(),this.objBoss=null)},t.prototype.showBoss=function(t){t.n="",this.objBoss&&(this.grpBossArm.removeChildren(),this.objBoss.destory(),this.objBoss=null),this.objBoss=new FightGameObject,this.objBoss.action=Action.Stand;var e={x:0,y:0,dir:Dir.br,objType:P13.A6};this.objBoss.setBaseData(e),t.bt=BehaviourType.Attack_d,t.sr=1,this.objBoss.setData(t,this.grpBossArm)},t}(BaseEuiView);__reflect(BigRMRankView.prototype,"BigRMRankView");var BigRMTimerView=function(s){function t(t,e){var i=s.call(this,t,e)||this;return i.skinName=CatchFishRewardSkin,i}return __extends(t,s),t.prototype.initUI=function(){s.prototype.initUI.call(this);var t={render:ItemBigRMTimer,width:this.gpList.width,height:this.gpList.height,gap:5};this.myListView=new CommonListBase(t),this.gpList.addChild(this.myListView),this.dlg.ZM69(this.closeSelf.bind(this),this),this.dlg.title=O3.tr(5547),this.lbCatchNum.verticalCenter=190},t.prototype.open=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];s.prototype.open.call(this),this.myListView.open();var i=App.CM.gtM(O6.C8);this.ZHH77(i),this.lbCatchNum.textFlow=M18.HTP.parse(O3.tr(8083,i.actData.ring))},t.prototype.uBM=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];s.prototype.uBM.call(this,t,e),t instanceof TG43&&e[0]==P4.S62&&this.ZHH77(t)},t.prototype.ZHH77=function(t){var e=t.actData.getViewList();this.myListView.rfL(e)},t.prototype.close=function(){s.prototype.close.call(this),this.myListView.close()},t.prototype.closeSelf=function(){App.VM.close(O7.HH19)},t}(BaseEuiView);__reflect(BigRMTimerView.prototype,"BigRMTimerView");var BigRMTipView=function(s){function t(t,e){var i=s.call(this,t,e)||this;return i.skinName="ShootRangeTipSkin",i}return __extends(t,s),Object.defineProperty(t.prototype,"model",{get:function(){return App.CM.gtM(O6.C8)},enumerable:!0,configurable:!0}),t.prototype.initUI=function(){this.lbTitle.text=O3.tr(7104),this.ckDot.label=O3.tr(7793),this.btnConfirm.label=O3.tr(7794),this.btnCancel.label=O3.tr(7795),this.closeBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.oCC,this),this.bgMask.addEventListener(egret.TouchEvent.TOUCH_TAP,this.oCC,this),this.btnCancel.addEventListener(egret.TouchEvent.TOUCH_TAP,this.ZQ58,this),this.btnConfirm.addEventListener(egret.TouchEvent.TOUCH_TAP,this.oCC,this),this.ckDot.selected=this.model.useTips},t.prototype.open=function(t){s.prototype.open.call(this),this.index=t.split(":")[1],"1"==this.index?this.labItem.text=O3.tr(8100,t.split(":")[0]):this.labItem.text=O3.tr(8101,t.split(":")[0])},t.prototype.close=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.closeBtn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.oCC,this),this.bgMask.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.oCC,this),this.btnCancel.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.oCC,this),this.btnConfirm.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.ZQ58,this),s.prototype.close.apply(this,t)},t.prototype.save=function(){this.model.useTips=this.ckDot.selected},t.prototype.oCC=function(){App.VM.GY64(this),this.model.canClick=!0},t.prototype.ZQ58=function(){App.VM.GY64(this),this.save(),App.CM.apF(O6.C8,N10.A5,this.index)},t}(BaseEuiView);__reflect(BigRMTipView.prototype,"BigRMTipView");var BigRMView=function(o){function t(t,e){var i=o.call(this,t,e)||this;return i.index=1,i.moveIndex=0,i.sGN("release_act1132"),i.skinName="BigRMSkin",i}return __extends(t,o),t.prototype.initUI=function(){this.posS=[this.pos0,this.pos1,this.pos2,this.pos3,this.pos4,this.pos5,this.pos6,this.pos7,this.pos8,this.pos9,this.pos10,this.pos11,this.pos12,this.pos13,this.pos14,this.pos15,this.pos16,this.pos17,this.pos18,this.pos19,this.pos20,this.pos21,this.pos22,this.pos23];var t=O3.tr(8086);this.btnRank.textFlow=new Array({text:t,style:{underline:!0}}),this.ckDot.label=O3.tr(8087),this.btnFly.label=O3.tr(8079),this.btnThrow.label=O3.tr(8077),this.strLb0.text=O3.tr(8078)},t.prototype.open=function(){for(var e=this,t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];o.prototype.open.call(this),this.btnThrow.addEventListener(egret.TouchEvent.TOUCH_TAP,this.ZU59,this),this.btnFly.addEventListener(egret.TouchEvent.TOUCH_TAP,this.flyBtnEvent,this),this.btnHelp.addEventListener(egret.TouchEvent.TOUCH_TAP,this.helpBtnEvent,this),this.btnRank.addEventListener(egret.TouchEvent.TOUCH_TAP,this.rankBtnEvent,this),this.timerGrp.addEventListener(egret.TouchEvent.TOUCH_TAP,this.ZU60,this);var s=App.CM.gtM(O6.C8);this.ZC89(s),this.ZJ97(s.actData.getBigRList()),s.canClick=!0,this.wishTime=Date.now(),this.index=s.actData.pos-1,this.posS[this.index].selectIcon.visible=!0,this.posS[this.index].selectImg.visible=!0,this.ZN5(s),App.K16.doFrame(1,1,function(){var t=App.VM.gOV(TF59.FA34(F7.B32));t&&t.autoOut&&(e.autoOutVis=t.autoOut.visible,t.autoOut.visible=!1)},this)},t.prototype.close=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];o.prototype.close.call(this),this.btnThrow.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.ZU59,this),this.btnFly.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.flyBtnEvent,this),this.btnHelp.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.helpBtnEvent,this),this.btnRank.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.rankBtnEvent,this),this.timerGrp.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.ZU60,this),this.cTH(),App.THH32.rEf(this.gEffect1,"wdsg_faqicf_001");var i=App.VM.gOV(TF59.FA34(F7.B32));i&&i.autoOut&&(i.autoOut.visible=this.autoOutVis)},t.prototype.uBM=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];o.prototype.uBM.call(this,t,e),t instanceof TG43&&(e[0]==P4.V21&&(this.ckDot.selected?this.ZU61(t):this.playAnima()),this.ZC89(t))},t.prototype.ZC89=function(t){var e=t.actData.getTimerNum();if(1==t.ZU56()?(this.btnTimer.imgNew.visible=!0,App.THH33.aUE(this.rankEffect,"hero_select",-65,-65,-1,null,null,null,.8,.8)):(this.btnTimer.imgNew.visible=!1,App.THH33.rEf(this.rankEffect,"hero_select")),e?t.actData.ring<e?(this.timerLb0.text=t.actData.ring+" / "+e,this.timerLb.text=""):(this.timerLb0.text="",this.timerLb.text=O3.tr(8095)):(this.timerLb0.text="",this.timerLb.text=O3.tr(8114)),this.rankIcon.source=t.actData.fristIcon?t.actData.fristIcon:"",this.rankName.text=t.actData.fristN?t.actData.fristN:O3.tr(7695),null==this.timerHandler)if(0<t.actData.rs){this.leftCD=t.actData.ZHH64();var i=O3.tr(7569,P6.FJ11(1e3*this.leftCD,5));this.cdLb.textFlow=M18.HTP.parse(i),this.timerHandler=App.K16.doTimer(1e3,this.leftCD,this.GY14,this)}else this.cdLb.text=""},t.prototype.ZJ97=function(t){for(var e in this.posS){var i=t[e];this.posS[e].data=i}},t.prototype.ZN5=function(t){var e=t.actData.ZJ98(1).split(","),i=e[1].split(":"),s=e[2].split(":"),o=N12.gID(i[0]);this.throwCost=i,this.imgThrowItem.setData(o),this.lbThrow.text=i[1],this.btnThrow.label2=O3.tr(6990,s[1]);var r=t.actData.ZJ98(0).split(","),n=r[1].split(":"),a=r[2].split(":"),h=N12.gID(n[0]);this.flyCost=n,this.imgFlyItem.setData(h),this.lbfly.text=n[1],this.btnFly.label2=O3.tr(6990,a[1])},t.prototype.ZU59=function(){var t=App.CM.gtM(O6.C8);if(t.canClick&&!(this.wishTime>Date.now())){this.touziImg.visible=!1,this.wishTime=Date.now()+500,t.canClick=!1,this.oldPos=t.actData.pos,this.oldRing=t.actData.ring,this.index=t.actData.pos-1;var e=N12.giC(this.throwCost[0]),i=Number(this.throwCost[1])+":2";e>=Number(this.throwCost[1])?t.useTips?App.CM.apF(O6.C8,N10.A5,2):App.VM.open(O7.I35,i):(P7.FA78(),t.canClick=!0)}},t.prototype.flyBtnEvent=function(){var t=App.CM.gtM(O6.C8);if(t.canClick&&!(this.wishTime>Date.now())){this.touziImg.visible=!1,this.wishTime=Date.now()+500,t.canClick=!1,this.oldPos=t.actData.pos,this.oldRing=t.actData.ring,this.index=t.actData.pos-1;var e=N12.giC(this.flyCost[0]),i=Number(this.flyCost[1])+":1";e>=Number(this.flyCost[1])?t.useTips?App.CM.apF(O6.C8,N10.A5,1):App.VM.open(O7.I35,i):(P7.FA78(),t.canClick=!0)}},t.prototype.helpBtnEvent=function(){if(App.CM.gtM(O6.C8).canClick){var t={title:O3.tr(8093),content:O3.tr(8094)};App.CM.apF(O6.C18,O10.A24,t)}},t.prototype.rankBtnEvent=function(){App.CM.gtM(O6.C8).canClick&&App.VM.open(O7.HH87)},t.prototype.ZU60=function(){App.CM.gtM(O6.C8).canClick&&App.VM.open(O7.HH19)},t.prototype.ZU61=function(t){for(var e in P5.sIs(t.actData.ob),t.actData.ob=null,t.canClick=!0,this.index=t.actData.pos-1,this.touziImg.visible=!0,this.touziImg.source="hd_mc_touzi1_0"+t.actData.move+"_png",this.posS)Number(e)==this.index?(this.posS[e].selectIcon.visible=!0,this.posS[e].selectImg.visible=!0):(this.posS[e].selectIcon.visible=!1,this.posS[e].selectImg.visible=!1)},t.prototype.playAnima=function(){var t=this;App.THH33.aUE(this.gEffect,"hd_mc_touzi",0,90,1,function(){t.playAnima1()})},t.prototype.playAnima1=function(){var t=this;App.THH33.aUE(this.gEffect,"hd_mc_touzi2",225,175,2,function(){t.ZN6()})},t.prototype.ZN6=function(){var t=App.CM.gtM(O6.C8);this.touziImg.visible=!0,this.touziImg.source="hd_mc_touzi1_0"+t.actData.move+"_png",this.showMoveByRP(t)},t.prototype.showMoveByRP=function(t){var e=this,i=t.actData.move;t.actData.ring,t.actData.pos;this.moveList=[],this.moveIndex=0;var s=(i+this.oldPos-1)%24;this.posS[this.index%24].selectImg.visible=!1,1==this.posS[s].data.split(":").length?this._timerHandler=App.K16.doTimer(200,i,this.updateImtT,this,function(){e.showFlyTX()}):this._timerHandler=App.K16.doTimer(200,i,this.updateImtT,this,function(){e.dealTweenEnd()})},t.prototype.updateImtT=function(){var t=this.index++%24,e=this.index%24;this.posS[t].selectIcon.visible=!1,this.posS[e].selectIcon.visible=!0,this.moveList.push(this.posS[e])},t.prototype.updateImtS=function(){var t=this.index++%24,e=this.index%24;this.posS[t].selectIcon.visible=!1,this.posS[e].selectIcon.visible=!0,this.moveList.push(this.posS[e])},t.prototype.dealTweenEnd=function(){var t=App.CM.gtM(O6.C8);P5.sIs(t.actData.ob),t.actData.ob=null,this.posS[this.index%24].selectImg.visible=!0,this.showMoveList()},t.prototype.showMoveList=function(){var t=this;this._timerHandler=App.K16.doTimer(90,this.moveList.length,this.updateImtM,this,function(){t.clearHandler()})},t.prototype.updateImtM=function(){this.moveList[this.moveIndex].waitTween(),this.moveIndex++},t.prototype.clearHandler=function(){null!=this._timerHandler&&(App.K16.rBH(this._timerHandler),this._timerHandler=null),App.CM.gtM(O6.C8).canClick=!0,this.touziImg.visible=!1},t.prototype.showFlyTX=function(){var t=this,e=this.index%24;this.posS[e].showSFlyTX(function(){t.moveFly()}),this.ZU62()},t.prototype.ZU62=function(){var t=this;egret.Tween.get(this.imgBg).to({alpha:1},290).call(function(){App.THH32.aUE(t.gEffect1,"wdsg_faqicf_001",t.gEffect1.width/2,t.gEffect1.height/2,1)}).wait(340).to({alpha:0},370).pause(),this.imgLeft.horizontalCenter=-400,this.imgLeft.alpha=1,egret.Tween.get(this.imgLeft).to({horizontalCenter:-46},200).to({horizontalCenter:-43},40).to({horizontalCenter:-45},80).wait(300).to({alpha:0},190).pause(),this.imgRight.horizontalCenter=400,this.imgRight.alpha=1,egret.Tween.get(this.imgRight).to({horizontalCenter:46},200).to({horizontalCenter:43},40).to({horizontalCenter:45},80).wait(300).to({alpha:0},190).pause()},t.prototype.moveFly=function(){var t=this;this._timerHandler=App.K16.doTimer(100,12,this.updateImtS,this,function(){t.dealTweenEnd()})},t.prototype.GY14=function(){this.leftCD--;var t=O3.tr(3253,P6.FJ11(1e3*this.leftCD,5));this.cdLb.textFlow=M18.HTP.parse(t),this.leftCD<=0&&(this.cTH(),this.cdLb.text="")},t.prototype.cTH=function(){null!=this.timerHandler&&(App.K16.rBH(this.timerHandler),this.timerHandler=null),null!=this._timerHandler&&(App.K16.rBH(this._timerHandler),this._timerHandler=null)},t}(BaseEuiView);__reflect(BigRMView.prototype,"BigRMView");var ItemBigRM=function(e){function t(){var t=e.call(this)||this;return t.skinName="ItemBigRMSkin",t.addEventListener(egret.Event.ADDED_TO_STAGE,t.open,t),t.addEventListener(egret.Event.REMOVED_FROM_STAGE,t.close,t),t}return __extends(t,e),t.prototype.open=function(){this.rewardImg.addEventListener(egret.TouchEvent.TOUCH_TAP,this.oCI,this)},t.prototype.close=function(){this.clearHandler(),this.rewardImg.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.oCI,this)},t.prototype.childrenCreated=function(){e.prototype.createChildren.call(this)},t.prototype.oCI=function(){var t=this.data;if(1==t.split(":").length);else{var e=t.split(":")[0],i=(t.split(":")[1],N12.gID(e));P5.FC75(i),TG40.playClickEffect()}},t.prototype.dataChanged=function(){var t=this.data;if(this.changeIcon(),1==t.split(":").length)this.data.jPos=t,this.rewardNum.visible=!1,this.rewardImg.source="1"==t||"13"==t?"feixielv_png":"feixiehong_png";else{this.rewardNum.visible=!0;var e=this.data,i=e.split(":")[0],s=e.split(":")[1],o=N12.gID(i);this.rewardImg.source=o.icon,this.rewardImg1.source=o.icon,this.rewardNum1.text="X"+s,this.rewardNum.text="X"+s}},t.prototype.changeIcon=function(){var t=O4.getHead();"v1_img_touxiang_zjm1_png"==t?this.selectIcon.source="v1_img_dituzuobiao03_png":"v1_img_touxiang_zjm2_png"==t?this.selectIcon.source="v1_img_dituzuobiao_png":"v1_img_touxiang_zjm3_png"==t?this.selectIcon.source="v1_img_dituzuobiao05_png":"v1_img_touxiang_zjm4_png"==t?this.selectIcon.source="v1_img_dituzuobiao04_png":"v1_img_touxiang_zjm5_png"==t?this.selectIcon.source="v1_img_dituzuobiao02_png":"v1_img_touxiang_zjm6_png"==t&&(this.selectIcon.source="v1_img_dituzuobiao06_png")},t.prototype.waitTween=function(){var t=this;egret.Tween.get(this).wait(300).pause().call(function(){t.showEffect()})},t.prototype.showEffect=function(){var t=this;1!=this.data.split(":").length&&(this.effect.visible=!0,this.effect.bottom=0,egret.Tween.get(this.effect).to({bottom:45},900).pause().call(function(){t.effect.visible=!1}),this.effectImg.scaleX=1,this.effectImg.alpha=1,egret.Tween.get(this.effectImg).to({scaleX:.8,alpha:0},400).pause(),this.rewardImg1.alpha=1,egret.Tween.get(this.rewardImg1).to({alpha:0},900).pause(),this.rewardNum1.alpha=1,egret.Tween.get(this.rewardNum1).to({alpha:0},900).pause())},t.prototype.showSFlyTX=function(t){var e=this;this._timerHandler=App.K16.doTimer(150,6,this.updateImtT,this,function(){t(),e.clearHandler()})},t.prototype.updateImtT=function(){this.selectIcon.visible=!this.selectIcon.visible},t.prototype.clearHandler=function(){null!=this._timerHandler&&(App.K16.rBH(this._timerHandler),this._timerHandler=null)},t}(eui.ItemRenderer);__reflect(ItemBigRM.prototype,"ItemBigRM");var ItemBigRMTimer=function(e){function t(){var t=e.call(this)||this;return t.skinName=ItemCatchFishRewardSkin,t.addEventListener(egret.Event.ADDED_TO_STAGE,t.open,t),t.addEventListener(egret.Event.REMOVED_FROM_STAGE,t.close,t),t}return __extends(t,e),t.prototype.open=function(){this.btnGet.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickGet,this),this.btnGet.label=O3.tr(1563)},t.prototype.close=function(){this.btnGet.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickGet,this),this.itemCollection.removeAll()},t.prototype.childrenCreated=function(){e.prototype.createChildren.call(this),this.itemCollection=new eui.ArrayCollection,this.listContent.dataProvider=this.itemCollection,this.listContent.itemRenderer=ItemIcon,this.awardsSc.scrollPolicyV=eui.ScrollPolicy.OFF},t.prototype.dataChanged=function(){switch(this.lbTitle.textFlow=(new egret.HtmlTextParser).parser(O3.tr(8096,this.data.count)),this.imgTitle.width=this.lbTitle.width+55,this.btnGet.imgNew.visible=!1,this.data.state){case J13.A3:this.btnGet.imgNew.visible=!0,this.btnGet.visible=!0,this.imgGot.visible=!1,P16.sGF(this.btnGet,!1),this.btnGet.enabled=!0;break;case J13.A1:this.btnGet.visible=!0,this.btnGet.enabled=!1,this.imgGot.visible=!1,P16.sGF(this.btnGet,!0);break;case J13.A2:this.btnGet.visible=!1,this.imgGot.visible=!0}var t=[];for(var e in this.data.reward){var i={data:N12.gID(this.data.reward[e].k),ct:this.data.reward[e].v};t.push({itemData:i,isBottom:!1,scale:1})}this.itemCollection.replaceAll(t)},t.prototype.onClickGet=function(){App.CM.apF(O6.C8,N10.A3,this.data.count)},t}(eui.ItemRenderer);__reflect(ItemBigRMTimer.prototype,"ItemBigRMTimer");var BigRMData=function(i){function t(t){var e=i.call(this,t)||this;return e.updateData(t),e}return __extends(t,i),t.prototype.updateData=function(t){t&&(this.tr=t.tr?t.tr:this.tr,this.ring=0<=t.ci?t.ci:this.ring,this.pos=0<t.in?t.in:this.pos,this.move=0<t.p?t.p:this.move,this.fristN=t.n?t.n:this.fristN,this.fristIcon=t.icon?t.icon:this.fristIcon,this.fristModel=t.fa?t.fa:this.fristModel,this.rankList=t.as?t.as:this.rankList,this.ringRank=t.me?t.me:this.ringRank,this.ob=t.ob,this.ZU63(t),t.atmp&&this.saveNewData(t.atmp))},t.prototype.saveNewData=function(t){this.reward=t.reward?t.reward:this.reward,this.cost=t.cost?t.cost:this.cost,this.more=t.more?t.more:this.more,this.rank=t.rank?t.rank:this.rank},t.prototype.ZJ98=function(t){return this.cost.split(";")[t]},t.prototype.getBigRList=function(){var t=[],e=this.reward.split("|");for(var i in e){var s=e[i].split("-")[1];t.push(s)}return t},t.prototype.ZU28=function(t){if(this.ring>=Number(t)){for(var e in this.tr)if(this.tr[e]==t)return J13.A2;return J13.A3}return J13.A1},t.prototype.FG82=function(t){var e=[],i=t.split(";");for(var s in i){var o=i[s].split(":"),r={k:o[0],v:o[1]};e.push(r)}return e},t.prototype.getViewList=function(){var t=[];if(this.more){var e=this.more.split("|");for(var i in e){var s=e[i].split("-"),o=this.ZU28(s[0]),r=this.FG82(s[1]),n={count:Number(s[0]),reward:r,state:o};t.push(n)}t.sort(function(t,e){return t.state!=e.state?t.state-e.state:t.count-e.count})}return t},t.prototype.getTimerNum=function(){var t=this.getViewList();for(var e in t)if(t[e].state<3)return t[e].count;return 0},t.prototype.getRankList=function(){var t=[],e=this.rank.split("|");for(var i in e)if(e[i].length){var s=e[i].split("#")[0],o=e[i].split("#")[1],r=o.split(",")[0],n=o.split(",")[1].split(";"),a=void 0,h=null,p=this.getMCByStr(s);p?(a=Number(s.split("-")[0]),h=this.ZQ59(a)):a=s;var l={mc:a,show:p,rankData:h,jl:r,ring:n[0],rjl:n[1]};t.push(l)}return t},t.prototype.getMCByStr=function(t){var e=t.split("-");return e[0]==e[1]},t.prototype.ZQ59=function(t){for(var e in this.rankList)if(t==this.rankList[e].r)return this.rankList[e];return null},t}(ActivityVo);__reflect(BigRMData.prototype,"BigRMData"),function(t){var e=function(){function t(){}return t.GT93=0,t.GR99=1,t.BuyReq=2,t.BuyRes=3,t.select=4,t}();t.Const=e,__reflect(e.prototype,"BlackFriday.Const")}(BlackFriday||(BlackFriday={})),function(s){var t=function(i){function t(){var t=i.call(this)||this,e=new s.Model(t);return e.aLV(O7.G94),e.aLV(O7.D12),e.aLV(O7.I64),App.VM.register(O7.G94,"BlackFridayView",t,K17.UI_Main),t.rgF(s.Const.GT93,t.GT93,t),t.rgF(s.Const.GR99,t.GR99,t),t.rgF(s.Const.select,t.select,t),t.proxy=new s.Proxy(t),t.rgF(s.Const.BuyReq,t.proxy.buy,t.proxy),t.rgF(s.Const.BuyRes,t.buyRes,t),t}return __extends(t,i),t.prototype.GT93=function(){App.VM.open(O7.G94);var t=App.CM.gtM(O6.A83);t.firstLoginRedNum=0,t.notify()},t.prototype.select=function(t){var e=App.VM.gOV(O7.G94);e&&e.select(t)},t.prototype.GR99=function(){App.VM.close(O7.G94)},t.prototype.buyRes=function(t){if(200==t.head.state){var e=t.body,i=this.gtM();i.ZC13(e),i.notify(P4.R44),P5.sIs(t.body.ob)}else App.CM.apF(O6.B87,L10.A4,t)},t}(TE11);s.Controller=t,__reflect(t.prototype,"BlackFriday.Controller")}(BlackFriday||(BlackFriday={})),function(e){var t=function(i){function t(t){var e=i.call(this,t)||this;return e.openState=!1,e.redNum=0,e.firstLoginRedNum=0,e}return __extends(t,i),t.prototype.ZC13=function(t){t&&(null!=this.actData?this.actData.ZU63(t):(this.actData=new e.ActDateObject(t),this.tips=this.actData.tips),this.updateRed())},t.prototype.updateRed=function(){this.redNum=this.FL35()},t.prototype.FL35=function(){var t=0;return this.actData&&(t=this.actData.getDotNum()),t+=this.firstLoginRedNum},t.prototype.notify=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];i.prototype.notifyView.apply(this,[this].concat(t))},t}(TG79);e.Model=t,__reflect(t.prototype,"BlackFriday.Model")}(BlackFriday||(BlackFriday={})),function(e){var t=function(i){function t(t){var e=i.call(this,t)||this;return e.rSM(P4.R44,e.buyRes,e),e}return __extends(t,i),t.prototype.buyRes=function(t){this.apF(e.Const.BuyRes,t)},t.prototype.buy=function(t,e){var i={type:P4.R43,body:{gid:t,num:e}};this.sSM(i)},t}(TG80);e.Proxy=t,__reflect(t.prototype,"BlackFriday.Proxy")}(BlackFriday||(BlackFriday={}));var BlackFriday,BlackFridayView=function(s){function t(t,e){var i=s.call(this,t,e)||this;return i.selectId=1,i.skinName="BlackFridaySkin",i}return __extends(t,s),t.prototype.initUI=function(){s.prototype.initUI.call(this),this.ZN7(),this.ZQ60();var t=App.CM.gtM(O6.A83);this.selectId=t.actData.cs.id;var e=t.actData.getCurrentStageIndexOf(this.selectId);this.uBM(t),this.listView.ZQ18(e)},t.prototype.ZN7=function(){var t={render:BlackFriday.TitleItem,width:this.listTitle.width,height:this.listTitle.height,arrowScale:1,tileLayout:!0,verticalGap:10,horizontalGap:10};this.listView=new CommonListBase(t),this.listView.itemList.layout=new eui.HorizontalLayout,this.listView.scContent.scrollPolicyH=eui.ScrollPolicy.ON,this.listTitle.addChild(this.listView),this.listView.verticalCenter=0,this.listView.horizontalCenter=0},t.prototype.ZQ60=function(){var t={render:BlackFriday.ShopItem,width:this.listShop.width,height:this.listShop.height,arrowScale:1,tileLayout:!0,verticalGap:10,horizontalGap:10};this.shopListView=new CommonListBase(t),this.listShop.addChild(this.shopListView),this.shopListView.verticalCenter=0,this.shopListView.horizontalCenter=0},t.prototype.uBM=function(t){t instanceof BlackFriday.Model&&this.GX5(t)},t.prototype.GX5=function(t){var e=t.actData;this.labTips1.textFlow=M18.FG71(O3.tr(3901,e.pb,e.pl,e.rb)),this.labTips2.textFlow=M18.FG71(O3.tr(3902,e.r,e.g)),this.ZN8(),this.ZQ61()},t.prototype.ZQ61=function(){var i=App.CM.gtM(O6.A83).actData,t=this.selectId,s=0;try{var e=i.cs;e.id===t?s=2===e.t?0:e.t:e.id<t?s=1:e.id>t&&(s=3)}catch(t){console.log(t)}var o=i.getStageVoById(t),r=o.sgl.map(function(t){var e=JSON.parse(JSON.stringify(t));return e.peopleCount=i.getBuyCount(o.id,t.id),e.serverCount=i.getServerBuyCount(o.id,t.id),e.count=i.pb,e.status=s,e});this.shopListView.rfL(r)},t.prototype.close=function(){this.listView.rfL([]),this.shopListView.rfL([])},t.prototype.select=function(t){this.selectId=t,this.ZN8(),this.ZQ61()},t.prototype.ZN8=function(){var o=this,t=App.CM.gtM(O6.A83).actData,r=t.cs,e=t.tsl.map(function(t){var e=O3.tr(3910,t.d),i=t.s,s=t.id;if(r.id===s)switch(r.t){case 1:status=O3.tr(3906);break;case 2:status=O3.tr(3905);break;case 3:status=O3.tr(3903)}else r.id>s?status=O3.tr(3903):r.id-s==1&&3===r.t?status=O3.tr(3906):status=O3.tr(3904);return{status:status,time:i,day:e,id:s,selected:o.selectId===t.id}});this.listView.rfL(e)},t}(BaseEuiView);__reflect(BlackFridayView.prototype,"BlackFridayView"),function(p){var t=function(e){function t(){var t=e.call(this)||this;return t.skinName="BlackFridayTitleItem",t.addEventListener(egret.Event.ADDED_TO_STAGE,t.open,t),t.addEventListener(egret.Event.REMOVED_FROM_STAGE,t.close,t),t}return __extends(t,e),t.prototype.open=function(){this.gContent.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClick,this)},t.prototype.close=function(){this.gContent.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClick,this)},t.prototype.childrenCreated=function(){e.prototype.createChildren.call(this),this.initUI()},t.prototype.initUI=function(){},t.prototype.dataChanged=function(){this.labDay.textFlow=M18.FG71(this.data.day),this.labStatus.textFlow=M18.FG71(this.data.status),this.labTime.text=this.data.time,this.bg.source=this.data.selected?"v1_img_wuheiqizil_png":"v1_img_wuheiqizibul_png"},t.prototype.onClick=function(){App.CM.apF(O6.A83,p.Const.select,this.data.id)},t}(eui.ItemRenderer);p.TitleItem=t,__reflect(t.prototype,"BlackFriday.TitleItem");var e=function(e){function t(){var t=e.call(this)||this;return t.limit=0,t.skinName="BlackFridayListtemSkin",t.addEventListener(egret.Event.ADDED_TO_STAGE,t.open,t),t.addEventListener(egret.Event.REMOVED_FROM_STAGE,t.close,t),t}return __extends(t,e),t.prototype.open=function(){this.buyBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.clickBuy,this)},t.prototype.close=function(){this.buyBtn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.clickBuy,this)},t.prototype.childrenCreated=function(){e.prototype.createChildren.call(this),this.initUI()},t.prototype.initUI=function(){App.CM.gtM(O6.A61).actData;this.itemIcon=new ItemIcon,this.iconGp.addChild(this.itemIcon),this.lbStr1.textFlow=M18.HTP.parse(O3.tr(5756)),this.lbStr2.textFlow=M18.HTP.parse(O3.tr(5757))},t.prototype.dataChanged=function(){var t=N12.gID(this.data.gs.k),e=t.name,i=t.quality;t.id;O5.FB13(this.nameLb,e,i),this.discountLb.text=O3.tr(3254,Math.floor(this.data.d)),this.limitBuyLb.textFlow=M18.FG71(O3.tr(3907,this.data.sl-this.data.serverCount)),this.mlimitBuyLb.textFlow=M18.FG71(O3.tr(3908,this.data.pl-this.data.peopleCount,this.data.pl)),this.oldPriceLb.text=this.data.op+"",this.nowPriceLb.text=this.data.cp+"";if(this.itemIcon.data={itemData:{data:t,ct:this.data.gs.v},isBottom:!1},this.limit=Math.min(this.data.pl-this.data.peopleCount,this.data.sl-this.data.serverCount,this.data.count),!this.data.status&&0<this.limit)P16.sGF(this.buyBtn,!1),this.buyBtn.$setEnabled(!0),this.buyBtn.label=O3.tr(3294);else{P16.sGF(this.buyBtn,!0),this.buyBtn.$setEnabled(!1);var s=0<this.data.sl-this.data.serverCount?3294:3295;switch(this.data.status){case 1:s=3904;break;case 3:s=3903}this.buyBtn.label=O3.tr(s)}},t.prototype.clickBuy=function(){var t={};t.controllerConst=O6.A83,t.reqConst=p.Const.BuyReq,t.id=this.data.id;var e=this.data.gs.k,i=this.data.gs.v;t.itemname=N12.FK5(e),t.bg=N12.FL5(e),t.icon=N12.FJ86(e),t.itemid=Number(e),t.itemnum=Number(i);var s=N12.gID(e);t.desc=s.desc;var o=pack.I11.GOLD,r=this.data.cp;t.costIcon=N12.FJ86(o),t.costNum=Number(r),t.costId=Number(o),t.cost="x"+r,t.limitnum=this.limit,t.batchnum=this.limit;t.buyTime=0;var n=this.limit;if(0<n){t.soldout=0,t.txt=O3.tr(2508,0,n);var a=App.VM.open(O7.I45,t);if(a){var h=App.CM.gtM(O6.A83).actData;a.labTips.textFlow=M18.FG71(O3.tr(3901,h.pb,h.pl,h.rb))}}else P18.sDP(O3.tr(3295));TG40.playClickEffect()},t}(eui.ItemRenderer);p.ShopItem=e,__reflect(e.prototype,"BlackFriday.ShopItem")}(BlackFriday||(BlackFriday={})),function(t){var e=function(i){function t(t){var e=i.call(this,t)||this;return e.tsl=[],e.sb={},e.pbn={},e.pl=0,e.pb=0,e.rb=0,e.r=0,e.g=0,e.fields=["tsl","cs","sb","pbn","pl","pb","r","rb","g"],e.ZU63(t),e}return __extends(t,i),t.prototype.ZU63=function(t){this.updateFields(t),i.prototype.ZU63.call(this,t)},t.prototype.updateFields=function(t){if(t&&this.fields)for(var e=0,i=this.fields;e<i.length;e++){var s=i[e];t.hasOwnProperty(s)&&(this[s]=t[s])}},t.prototype.getStageVoById=function(t){for(var e=0,i=this.tsl;e<i.length;e++){var s=i[e];if(s.id===t)return s}},t.prototype.getBuyCount=function(t,e){return this.pbn[t]&&this.pbn[t][e]||0},t.prototype.getServerBuyCount=function(t,e){return this.sb[t]&&this.sb[t][e]||0},t.prototype.getCurrentStageIndexOf=function(t){for(var e in this.tsl)if(t===this.tsl[e].id)return parseInt(e);return-1},t.prototype.getCount=function(){return this.cs&&2===this.cs.t&&this.pb||0},t.prototype.getDotNum=function(){var t=this.getCount(),e=0;if(this.cs&&2===this.cs.t)for(var i=0,s=this.getStageVoById(this.cs.id).sgl;i<s.length;i++){var o=s[i],r=o.id,n=o.sl;0<o.pl-this.getBuyCount(this.cs.id,r)&&0<n-this.getServerBuyCount(this.cs.id,r)&&(e=1)}return Math.min(t,e)},t}(ActivityVo);t.ActDateObject=e,__reflect(e.prototype,"BlackFriday.ActDateObject")}(BlackFriday||(BlackFriday={}));var HH13=function(){function t(){}return t.A1=1,t.A2=2,t.A3=100,t.A4=101,t}();__reflect(HH13.prototype,"HH13");var TB60=function(e){function t(){var t=e.call(this)||this;return t.proxy=new TE42(t),new TE41(t).aLV(O7.HH73),t.rgF(HH13.A1,t.GS1,t),t.rgF(HH13.A2,t.GS2,t),App.VM.register(O7.C37,"BringLuckRecordView",t,K17.UI_Main_TOP),t.rgF(HH13.A3,t.GU3,t),t.rgF(HH13.A4,t.GU4,t),t}return __extends(t,e),t.prototype.GS1=function(t){this.proxy.ZHH78(t)},t.prototype.GS2=function(t){if(200==t.head.state){var e=this.gtM();e.ZC13(t.body),P5.sIs(t.body.ob),e.notify(P4.K77)}else App.CM.apF(O6.B87,L10.A4,t)},t.prototype.GU3=function(){App.VM.open(O7.C37)},t.prototype.GU4=function(){App.VM.close(O7.C37)},t}(TE11);__reflect(TB60.prototype,"TB60");var TE41=function(i){function t(t){var e=i.call(this,t)||this;return e.openState=!1,e.redNum=0,e.firstLoginRedNum=0,e}return __extends(t,i),t.prototype.ZC13=function(t){t&&(null!=this.actData?this.actData.updateData(t):(this.actData=new BringLuckData(t),this.tips=this.actData.tips),this.updateRed())},t.prototype.updateRed=function(){this.redNum=this.FL35()},t.prototype.FL35=function(){return 0<this.firstLoginRedNum?1:0<this.actData.restTime?1:0},t.prototype.notify=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];i.prototype.notifyView.apply(this,[this].concat(t))},t}(TG79);__reflect(TE41.prototype,"TE41");var TE42=function(i){function t(t){var e=i.call(this,t)||this;return e.rSM(P4.K77,e.GS8,e),e}return __extends(t,i),t.prototype.ZHH78=function(t){var e={type:P4.K76,body:{type:t}};this.sSM(e)},t.prototype.GS8=function(t){this.apF(HH13.A2,t)},t}(TG80);__reflect(TE42.prototype,"TE42");var BringLuckAllRecord=function(s){function t(t,e){var i=s.call(this,t,e)||this;return i.skinName=BringLuckRecordSkin,i}return __extends(t,s),t.prototype.initUI=function(){s.prototype.initUI.call(this);var t={render:ItemBringLuckRecord,width:this.gpList.width,height:this.gpList.height};this.myListView=new CommonListBase(t),this.gpList.addChild(this.myListView),this.lbTip.textFlow=M18.HTP.parser(O3.tr(5511)),this.lb1.text=O3.tr(5537),this.lb2.text=O3.tr(5539),this.lb3.text=O3.tr(5538)},t.prototype.open=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];s.prototype.open.call(this),this.myListView.open();var i=App.CM.gtM(O6.B31);this.ZN9(i)},t.prototype.uBM=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];s.prototype.uBM.call(this,t,e),t instanceof TE41&&this.ZN9(t)},t.prototype.ZN9=function(t){var e=t.actData.sRecordList;e&&0!=e.length?(this.lbTip.visible=!1,this.gpList.visible=!0,this.myListView.rfL(e)):(this.gpList.visible=!1,this.lbTip.visible=!0)},t.prototype.close=function(){s.prototype.close.call(this),this.myListView.close()},t}(BaseEuiView);__reflect(BringLuckAllRecord.prototype,"BringLuckAllRecord");var BringLuckMyRecord=function(s){function t(t,e){var i=s.call(this,t,e)||this;return i.skinName=BringLuckRecordSkin,i}return __extends(t,s),t.prototype.initUI=function(){s.prototype.initUI.call(this);var t={render:ItemBringLuckRecord,width:this.gpList.width,height:this.gpList.height};this.myListView=new CommonListBase(t),this.gpList.addChild(this.myListView),this.lbTip.textFlow=M18.HTP.parser(O3.tr(5511)),this.lb1.text=O3.tr(5537),this.lb2.text=O3.tr(5539),this.lb3.text=O3.tr(5538)},t.prototype.open=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];s.prototype.open.call(this),this.myListView.open();var i=App.CM.gtM(O6.B31);this.ZN9(i)},t.prototype.uBM=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];s.prototype.uBM.call(this,t,e),t instanceof TE41&&this.ZN9(t)},t.prototype.ZN9=function(t){var e=t.actData.recordList;e&&0!=e.length?(this.lbTip.visible=!1,this.gpList.visible=!0,this.myListView.rfL(e)):(this.gpList.visible=!1,this.lbTip.visible=!0)},t.prototype.close=function(){s.prototype.close.call(this),this.myListView.close()},t}(BaseEuiView);__reflect(BringLuckMyRecord.prototype,"BringLuckMyRecord");var BringLuckRecordView=function(s){function t(t,e){return s.call(this,t,e)||this}return __extends(t,s),t.prototype.initUI=function(){s.prototype.initUI.call(this),App.VM.rgS(O7.C37,O7.B97,"BringLuckAllRecord",this.content),App.VM.rgS(O7.C37,O7.B98,"BringLuckMyRecord",this.content),this.title=O3.tr(1404);var t=[O3.tr(5535),O3.tr(5536)],e=[O7.B97,O7.B98];this.btnList=new ButtonList(t,e,this.ZQ23.bind(this)),this.btnList.init(),this.btnGroup.addChild(this.btnList)},t.prototype.open=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];s.prototype.open.call(this);var i=t[0]||O7.B97;this.ZQ23(i)},t.prototype.uBM=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];s.prototype.uBM.call(this,t,e);e[0]},t.prototype.ZQ23=function(t){var e=App.CM.gtM(O6.B31);switch(t){case O7.B97:this.title=O3.tr(5543,e.actData.sRecordNum),this.btnList.ZM66(t);break;case O7.B98:this.title=O3.tr(5543,e.actData.recordNum),this.btnList.ZM66(t)}},t.prototype.close=function(){s.prototype.close.call(this),this.content.removeChildren()},t.prototype.destroy=function(){},t}(BasePanelView);__reflect(BringLuckRecordView.prototype,"BringLuckRecordView");var BringLuckView=function(s){function t(t,e){var i=s.call(this,t,e)||this;return i.sGN("release_act1093"),i.skinName=BringLuckSkin,i}return __extends(t,s),t.prototype.initUI=function(){s.prototype.initUI.call(this),this.btnLeft.label=O3.tr(5507),this.btnRight.label=O3.tr(5507)},t.prototype.open=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];s.prototype.open.call(this),this.btnLeft.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickLeft,this),this.btnRight.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickRight,this),this.btnRecord.addEventListener(egret.TouchEvent.TOUCH_TAP,this.ZU49,this);var i=App.CM.gtM(O6.B31);this.ZN9(i)},t.prototype.uBM=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];s.prototype.uBM.call(this,t,e);e[0];t instanceof TE41&&this.ZN9(t)},t.prototype.ZN9=function(t){var e=t.actData;0<e.restTime?(this.btnLeft.enabled=!0,this.btnRight.enabled=!0,P16.sGF(this.btnLeft,!1),P16.sGF(this.btnRight,!1)):(this.btnLeft.enabled=!1,this.btnRight.enabled=!1,P16.sGF(this.btnLeft,!0),P16.sGF(this.btnRight,!0)),this.lbTime.textFlow=M18.HTP.parser(O3.tr(5506,e.restTime,e.limit)),this.lbCostL.textFlow=M18.HTP.parser(O3.tr(3302,e.gold.v)),this.lbCostR.textFlow=M18.HTP.parser(O3.tr(5508,e.bindGold.v)),this.awardL||(this.awardL=new ItemIcon,this.gpAwardL.addChild(this.awardL));var i={itemData:{data:N12.gID(e.gold.k),ct:e.gold.v},isBottom:!1,scale:1};this.awardL.data=i,this.awardR||(this.awardR=new ItemIcon,this.gpAwardR.addChild(this.awardR));var s={itemData:{data:N12.gID(e.bindGold.k),ct:e.bindGold.v},isBottom:!1,scale:1};this.awardR.data=s;var o=Math.floor(100*e.goldBack.k),r=Math.floor(100*e.goldBack.v);this.lbTitleL.textFlow=M18.HTP.parser(O3.tr(5509,o,r));var n=Math.floor(100*e.bindGoldBack.k),a=Math.floor(100*e.bindGoldBack.v);this.lbTitleR.textFlow=M18.HTP.parser(O3.tr(5509,n,a)),this.leftCD=t.actData.ZHH64();var h=P6.FJ11(1e3*this.leftCD,5);this.cdLb.textFlow=M18.HTP.parser(O3.tr(3253,h)),this._timerHandler=App.K16.doTimer(1e3,this.leftCD,this.GY14,this)},t.prototype.GY14=function(){this.leftCD--;var t=P6.FJ11(1e3*this.leftCD,5);this.cdLb.textFlow=M18.HTP.parser(O3.tr(3253,t)),this.leftCD<=0&&(this.cTH(),this.cdLb.text="")},t.prototype.cTH=function(){null!=this._timerHandler&&(App.K16.rBH(this._timerHandler),this._timerHandler=null)},t.prototype.onClickLeft=function(){App.CM.apF(O6.B31,HH13.A1,1)},t.prototype.onClickRight=function(){App.CM.apF(O6.B31,HH13.A1,2)},t.prototype.ZU49=function(){App.CM.apF(O6.B31,HH13.A3)},t.prototype.close=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];s.prototype.close.call(this),this.btnLeft.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickLeft,this),this.btnRight.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickRight,this),this.btnRecord.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.ZU49,this)},t}(BaseEuiView);__reflect(BringLuckView.prototype,"BringLuckView");var ItemBringLuckRecord=function(e){function t(){var t=e.call(this)||this;return t.skinName=ItemBringLuckRecordSkin,t.addEventListener(egret.Event.ADDED_TO_STAGE,t.open,t),t.addEventListener(egret.Event.REMOVED_FROM_STAGE,t.close,t),t}return __extends(t,e),t.prototype.open=function(){},t.prototype.close=function(){},t.prototype.childrenCreated=function(){e.prototype.createChildren.call(this)},t.prototype.dataChanged=function(){var t=0==this.data.index?_cc.yellow:_cc.brown,e=N12.gID(this.data.cost.k),i=N12.gID(this.data.back.k),s=e.name,o=i.name;e.id==N12.itemId.bindGold&&(s=O3.tr(5540)),i.id==N12.itemId.bindGold&&(o=O3.tr(5540)),this.lbName.textFlow=M18.HTP.parser(O3.tr(5541,t,this.data.name)),this.lbCost.textFlow=M18.HTP.parser(O3.tr(5542,t,this.data.cost.v,s)),this.lbBack.textFlow=M18.HTP.parser(O3.tr(5510,t,this.data.back.v,o)),this.imgBg.visible=this.data.index%2!=0},t}(eui.ItemRenderer);__reflect(ItemBringLuckRecord.prototype,"ItemBringLuckRecord");var BringLuckData=function(i){function t(t){var e=i.call(this,t)||this;return e.updateData(t),e}return __extends(t,i),t.prototype.updateData=function(t){if(this.limit=null!=t.l?t.l:this.limit,this.restTime=null!=t.c?t.c:this.restTime,this.goldBack=null!=t.gbr?t.gbr:this.goldBack,this.bindGoldBack=null!=t.bgbr?t.bgbr:this.bindGoldBack,this.gold=null!=t.og?t.og:this.gold,this.bindGold=null!=t.obg?t.obg:this.bindGold,this.sRecordNum=null!=t.srs?t.srs:this.sRecordNum,this.recordNum=null!=t.prs?t.prs:this.recordNum,t.rl){this.recordList=[];var e=O4.getName();for(var i in t.rl){var s=t.rl[i],o={index:parseInt(i),cost:s.o,back:s.b,name:e};this.recordList.push(o)}}if(t.srl)for(var i in this.sRecordList=[],t.srl){s=t.srl[i],o={index:parseInt(i),cost:s.o,back:s.b,name:s.n};this.sRecordList.push(o)}this.ZU63(t)},t}(ActivityVo);__reflect(BringLuckData.prototype,"BringLuckData");var TD69=function(){function e(){}return e.FK35=function(t){e.init=t.christmas_init,e.christmas=t.christmas_christmas,e.rank=t.christmas_rank,e.grow=t.christmas_grow},e.gIV=function(t){return e.init[t].value},e.FA35=function(t){return e.christmas[t]},e.FJ26=function(){return e.grow},e.FC10=function(t){return e.grow[t]},e.FJ27=function(){return e.rank},e.FD67=function(){return e.christmas},e}();__reflect(TD69.prototype,"TD69");var HH12=function(){function t(){}return t.A7=1,t.A8=2,t.A9=3,t.A10=4,t.A13=5,t.A14=6,t.A3=7,t.A4=8,t.A1=9,t.A2=10,t.A11=11,t.A12=12,t.A15=13,t.A16=14,t.A5=15,t.A6=16,t.A19=17,t.A20=18,t.A17=19,t.A18=20,t.A21=100,t.A22=101,t.A27=102,t.A28=103,t.A25=104,t.A26=105,t.A23=106,t.A24=107,t}();__reflect(HH12.prototype,"HH12");var christmasLadybugPos={2:[{x:115,y:290}],3:[{x:108,y:260},{x:128,y:117},{x:166,y:243}],4:[{x:124,y:284},{x:82,y:203},{x:168,y:225},{x:134,y:141}],5:[{x:85,y:292},{x:208,y:276},{x:135,y:221},{x:153,y:141}],6:[{x:102,y:292},{x:219,y:276},{x:136,y:223},{x:152,y:155},{x:133,y:110}],7:[{x:102,y:298},{x:219,y:276},{x:128,y:223},{x:166,y:145},{x:133,y:110}]},ChristmasGrowTask={crosscamp:6,climb:7,fish:8,crossboss:9},TB61=function(e){function t(){var t=e.call(this)||this;return t.proxy=new TE44(t),new TE43(t).aLV(O7.HH71),t.rgF(HH12.A9,t.GQ24,t),t.rgF(HH12.A10,t.GQ25,t),t.rgF(HH12.A19,t.GU5,t),t.rgF(HH12.A20,t.GU6,t),t.rgF(HH12.A3,t.GU7,t),t.rgF(HH12.A4,t.GU8,t),t.rgF(HH12.A15,t.GX1,t),t.rgF(HH12.A16,t.GX2,t),t.rgF(HH12.A11,t.GS3,t),t.rgF(HH12.A12,t.GS4,t),t.rgF(HH12.A7,t.GS5,t),t.rgF(HH12.A8,t.GS6,t),t.rgF(HH12.A13,t.GS7,t),t.rgF(HH12.A14,t.GS8,t),t.rgF(HH12.A5,t.GO23,t),t.rgF(HH12.A6,t.GO24,t),t.rgF(HH12.A1,t.GM28,t),t.rgF(HH12.A2,t.GM29,t),t.rgF(HH12.A17,t.GS9,t),t.rgF(HH12.A18,t.GS10,t),App.VM.register(O7.A43,"ChristmasStageRewardView",t,K17.UI_Main_TOP),t.rgF(HH12.A21,t.GS11,t),t.rgF(HH12.A22,t.GS12,t),App.VM.register(O7.E44,"ChristmasRankView",t,K17.UI_Main_TOP),t.rgF(HH12.A27,t.GX3,t),t.rgF(HH12.A28,t.GX4,t),App.VM.register(O7.D49,"ChristmasStageView",t,K17.UI_Main_TOP),t.rgF(HH12.A25,t.GV60,t),t.rgF(HH12.A26,t.GV61,t),App.VM.register(O7.C76,"ChristmasRecordView",t,K17.UI_Main_TOP),t.rgF(HH12.A23,t.GU3,t),t.rgF(HH12.A24,t.GU4,t),t}return __extends(t,e),t.prototype.GQ24=function(t){this.gtM().curFriend=t,this.proxy.ZG22(t)},t.prototype.GQ25=function(t){if(200==t.head.state){var e=this.gtM();e.ZU64(t.body),e.notify(P4.G32)}else App.CM.apF(O6.B87,L10.A4,t)},t.prototype.GU5=function(){this.proxy.ZJ99()},t.prototype.GU6=function(t){this.GQ12(t,P4.J74)},t.prototype.GU7=function(t){var e=this.gtM();this.proxy.ZK1(t,e.curFriend)},t.prototype.GU8=function(t){if(200==t.head.state){var e=this.gtM();e.ZU64(t.body),e.notify(P4.E79)}else App.CM.apF(O6.B87,L10.A4,t)},t.prototype.GX1=function(t){this.proxy.ZQ62(t)},t.prototype.GX2=function(t){this.GQ12(t,P4.J74)},t.prototype.GS3=function(){this.proxy.ZHH79()},t.prototype.GS4=function(t){this.GQ12(t,P4.G34)},t.prototype.GS5=function(){this.proxy.ZHH80()},t.prototype.GS6=function(t){this.GQ12(t,P4.G30)},t.prototype.GS7=function(){var t=this.gtM();t.curFriend&&this.proxy.ZHH81(t.curFriend)},t.prototype.GS8=function(t){if(200==t.head.state){var e=this.gtM();e.ZU64(t.body),e.notify(P4.HH96)}else App.CM.apF(O6.B87,L10.A4,t)},t.prototype.GO23=function(t){var e=this.gtM(),i=e.curFriend?e.curFriend:O4.getAid();e.curInspect=t,this.proxy.ZE74(i,t)},t.prototype.GO24=function(t){var e=this.gtM();if(e.curFriend&&this.apF(HH12.A9,e.curFriend),200!=t.head.state)return e.curInspect=null,void App.CM.apF(O6.B87,L10.A4,t);e.curFriend?e.ZU64(t.body):e.ZC13(t.body),e.notify(P4.E81)},t.prototype.GM28=function(t){this.proxy.ZD57(t)},t.prototype.GM29=function(t){this.GQ12(t,P4.D56)},t.prototype.GS9=function(){this.proxy.ZD58()},t.prototype.GS10=function(t){this.GQ12(t,P4.I1)},t.prototype.GQ12=function(t,e){var i=this.gtM();return 200!=t.head.state?(App.CM.apF(O6.B87,L10.A4,t),!1):(t.body.ob&&(e==P4.G34?App.CM.apF(O6.B12,G16.A4,t.body):P5.sIs(t.body.ob)),i.ZC13(t.body),e&&i.notify(e),!0)},t.prototype.GS11=function(){App.VM.open(O7.A43)},t.prototype.GS12=function(){App.VM.close(O7.A43)},t.prototype.GX3=function(){App.VM.open(O7.E44)},t.prototype.GX4=function(){App.VM.close(O7.E44)},t.prototype.GV60=function(){App.VM.open(O7.D49)},t.prototype.GV61=function(){App.VM.close(O7.D49)},t.prototype.GU3=function(){App.VM.open(O7.C76)},t.prototype.GU4=function(){App.VM.close(O7.C76)},t}(TE11);__reflect(TB61.prototype,"TB61");var TE43=function(i){function t(t){var e=i.call(this,t)||this;return e.openState=!1,e.redNum=0,e.firstLoginRedNum=0,e}return __extends(t,i),t.prototype.ZC13=function(t){t&&(null!=this.actData?(this.actData.updateData(t),this.actData.isFriend=!1):(this.actData=new ChristmasData(t),this.tips=this.actData.tips),this.updateRed())},t.prototype.updateRed=function(){this.redNum=this.FL35()},t.prototype.FL35=function(){if(0<this.firstLoginRedNum)return 1;if(this.actData){if(1==this.actData.dayAwardStage)return 1;var t=this.actData.ZHH82();if(0<t&&t!=this.actData.level+1)return 1;for(var e in this.actData.growList)if(0==this.actData.growList[e].state)return 1}return 0},t.prototype.ZU64=function(t){null!=this.friendData?this.friendData.updateData(t):this.friendData=new ChristmasData(t),this.friendData.isFriend=!0},t.prototype.clearFriend=function(){this.friendData=null,this.curFriend=null},t.prototype.notify=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];i.prototype.notifyView.apply(this,[this].concat(t))},t}(TG79);__reflect(TE43.prototype,"TE43");var TE44=function(i){function t(t){var e=i.call(this,t)||this;return e.rSM(P4.G32,e.GQ25,e),e.rSM(P4.J74,e.GU6,e),e.rSM(P4.E79,e.GU8,e),e.rSM(P4.HH98,e.GX2,e),e.rSM(P4.G34,e.GS4,e),e.rSM(P4.G30,e.GS6,e),e.rSM(P4.HH96,e.GS8,e),e.rSM(P4.E81,e.GO24,e),e.rSM(P4.D56,e.GM29,e),e.rSM(P4.I1,e.GS10,e),e}return __extends(t,i),t.prototype.ZG22=function(t){var e={type:P4.G31,body:{target:t}};this.sSM(e)},t.prototype.GQ25=function(t){this.apF(HH12.A10,t)},t.prototype.ZJ99=function(){var t={type:P4.J73,body:{}};this.sSM(t)},t.prototype.GU6=function(t){this.apF(HH12.A20,t)},t.prototype.ZK1=function(t,e){var i={type:P4.E78,body:{target:e,gid:t}};this.sSM(i)},t.prototype.GU8=function(t){this.apF(HH12.A4,t)},t.prototype.ZQ62=function(t){var e={type:P4.HH97,body:{gid:t}};this.sSM(e)},t.prototype.GX2=function(t){this.apF(HH12.A16,t)},t.prototype.ZHH79=function(){var t={type:P4.G33,body:{}};this.sSM(t)},t.prototype.GS4=function(t){this.apF(HH12.A12,t)},t.prototype.ZHH80=function(){var t={type:P4.G29,body:{}};this.sSM(t)},t.prototype.GS6=function(t){this.apF(HH12.A8,t)},t.prototype.ZHH81=function(t){var e={type:P4.HH95,body:{target:t}};this.sSM(e)},t.prototype.GS8=function(t){this.apF(HH12.A14,t)},t.prototype.ZE74=function(t,e){var i={type:P4.E80,body:{target:t,lid:e}};this.sSM(i)},t.prototype.GO24=function(t){this.apF(HH12.A6,t)},t.prototype.ZD57=function(t){var e={type:P4.D55,body:{stage:t}};this.sSM(e)},t.prototype.GM29=function(t){this.apF(HH12.A2,t)},t.prototype.ZD58=function(){var t={type:P4.HH99,body:{}};this.sSM(t)},t.prototype.GS10=function(t){this.apF(HH12.A18,t)},t}(TG80);__reflect(TE44.prototype,"TE44");var ChristmasRankView=function(s){function t(t,e){var i=s.call(this,t,e)||this;return i.skinName=ChristmasRankSkin,i}return __extends(t,s),t.prototype.initUI=function(){s.prototype.initUI.call(this),this.dlg.ZM69(this.closeSelf.bind(this),this),this.dlg.setOKHandler(this.closeSelf.bind(this),this),this.dlg.title=O3.tr(5479),this.dlg.strBtnOK=O3.tr(5355);var t={render:ItemChristmasRank,gap:5,width:this.gpList.width,height:this.gpList.height,arrowScale:1};this.listView=new CommonListBase(t),this.gpList.addChild(this.listView),this.listView.verticalCenter=0,this.listView.horizontalCenter=0},t.prototype.open=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];s.prototype.open.call(this);var i=App.CM.gtM(O6.B30);this.ZC29(i)},t.prototype.uBM=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];s.prototype.uBM.call(this,t,e),t instanceof TE43&&this.ZC29(t)},t.prototype.ZC29=function(t){var e=[],i=TD69.FJ27(),s=1,o=App.CM.gtM(O6.C19);for(var r in o.rankList){var n={name:(a=o.rankList[r]).sName,rank:a.nRank,reward:i[a.nRank].award};e.push(n),s++}for(var r in i){var a=i[r];if(parseInt(r)>=s){n={rank:a.rank,reward:a.award};e.push(n)}}this.listView.rfL(e),this.lbMyRank.textFlow=M18.HTP.parser(O3.tr(5477,o.myRankList.nRank)),this.lbTip.textFlow=M18.HTP.parser(O3.tr(5478))},t.prototype.close=function(){s.prototype.close.call(this)},t.prototype.closeSelf=function(){App.CM.apF(O6.B30,HH12.A28)},t}(BaseEuiView);__reflect(ChristmasRankView.prototype,"ChristmasRankView");var ChristmasRecordView=function(s){function t(t,e){var i=s.call(this,t,e)||this;return i.skinName=ChristmasRecordSkin,i}return __extends(t,s),t.prototype.initUI=function(){s.prototype.initUI.call(this),this.dlg.ZM69(this.closeSelf.bind(this),this),this.dlg.setOKHandler(this.closeSelf.bind(this),this),this.dlg.title=O3.tr(5492),this.dlg.strBtnOK=O3.tr(5894);var t={render:ItemChristmasRecord,gap:0,width:this.gpList.width,height:this.gpList.height,arrowScale:1};this.listView=new CommonListBase(t),this.gpList.addChild(this.listView),this.listView.verticalCenter=0,this.listView.horizontalCenter=0},t.prototype.open=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];s.prototype.open.call(this);var i=App.CM.gtM(O6.B30);this.ZC29(i)},t.prototype.uBM=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];s.prototype.uBM.call(this,t,e),t instanceof TE43&&this.ZC29(t)},t.prototype.ZC29=function(t){if(t.actData.recordList){var e=10<t.actData.recordList.length?t.actData.recordList.length-10:0,i=t.actData.recordList.splice(e,10);this.listView.rfL(i)}},t.prototype.close=function(){s.prototype.close.call(this)},t.prototype.closeSelf=function(){App.CM.apF(O6.B30,HH12.A24)},t}(BaseEuiView);__reflect(ChristmasRecordView.prototype,"ChristmasRecordView");var ChristmasStageRewardView=function(s){function t(t,e){var i=s.call(this,t,e)||this;return i.skinName=ChristmasStageRewardSkin,i}return __extends(t,s),t.prototype.initUI=function(){s.prototype.initUI.call(this),this.dlg.ZM69(this.closeSelf.bind(this),this),this.dlg.setOKHandler(this.closeSelf.bind(this),this),this.dlg.title=O3.tr(5493),this.dlg.strBtnOK=O3.tr(5916),this.itemCollection=new eui.ArrayCollection,this.dgReward.dataProvider=this.itemCollection,this.dgReward.itemRenderer=ItemIcon},t.prototype.open=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];s.prototype.open.call(this);var i=App.CM.gtM(O6.B30);this.ZC29(i)},t.prototype.uBM=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];s.prototype.uBM.call(this,t,e),t instanceof TE43&&this.ZC29(t)},t.prototype.ZC29=function(t){var e=t.actData,i=TD69.FA35(e.level+1);this.lbTip.textFlow=M18.HTP.parser(O3.tr(5480,i.name));var s=M18.FL28(i.award,";",":"),o=[];for(var r in s){var n=s[r],a={data:N12.gID(n[0]),ct:n[1]};o.push({itemData:a,isBottom:!1,scale:1})}this.itemCollection.replaceAll(o)},t.prototype.close=function(){s.prototype.close.call(this)},t.prototype.closeSelf=function(){App.CM.apF(O6.B30,HH12.A22)},t}(BaseEuiView);__reflect(ChristmasStageRewardView.prototype,"ChristmasStageRewardView");var ChristmasStageView=function(s){function t(t,e){var i=s.call(this,t,e)||this;return i.skinName=ChristmasStageSkin,i}return __extends(t,s),t.prototype.initUI=function(){s.prototype.initUI.call(this),this.dlg.ZM69(this.closeSelf.bind(this),this),this.dlg.setOKHandler(this.closeSelf.bind(this),this),this.dlg.title=O3.tr(5479);var t={render:ItemChristmasStage,gap:5,width:this.gpList.width,height:this.gpList.height,arrowScale:1};this.listView=new CommonListBase(t),this.gpList.addChild(this.listView),this.listView.verticalCenter=0,this.listView.horizontalCenter=0},t.prototype.open=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];s.prototype.open.call(this);var i=App.CM.gtM(O6.B30);this.ZC29(i)},t.prototype.uBM=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];s.prototype.uBM.call(this,t,e),t instanceof TE43&&this.ZC29(t)},t.prototype.ZC29=function(t){var e=t.actData.getStageList();this.listView.rfL(e)},t.prototype.close=function(){s.prototype.close.call(this)},t.prototype.closeSelf=function(){App.CM.apF(O6.B30,HH12.A26)},t}(BaseEuiView);__reflect(ChristmasStageView.prototype,"ChristmasStageView");var ChristmasView=function(o){function t(t,e){var i=o.call(this,t,e)||this;return i.sGN("release_act1092"),i.skinName=ChristmasSkin,i}return __extends(t,o),t.prototype.initUI=function(){o.prototype.initUI.call(this);var t={render:ItemChristmasLb,horizontalGap:75,verticalGap:0,width:this.gpLb.width,height:this.gpLb.height,arrowScale:1,tileLayout:!0};this.listView=new CommonListBase(t),this.gpLb.addChild(this.listView),this.listView.verticalCenter=0,this.listView.horizontalCenter=0;var e={render:ItemChristmasFriend,gap:5,width:this.gpFriend.width,height:this.gpFriend.height,arrowScale:1};this.friendList=new CommonListBase(e),this.gpFriend.addChild(this.friendList),this.friendList.verticalCenter=0,this.friendList.horizontalCenter=0,App.CM.apF(O6.B30,HH12.A7),this.btnRank.label=O3.tr(5489),this.lb1.text=O3.tr(5488),this.btnTreeRecord.label=O3.tr(5492)},t.prototype.open=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];o.prototype.open.call(this),this.btnFriend.addEventListener(egret.TouchEvent.TOUCH_TAP,this.ZU66,this),this.btnFriendClose.addEventListener(egret.TouchEvent.TOUCH_TAP,this.ZK2,this),this.btnGoHome.addEventListener(egret.TouchEvent.TOUCH_TAP,this.ZU67,this),this.imgGift.addEventListener(egret.TouchEvent.TOUCH_TAP,this.ZQ64,this),this.btnStageAward.addEventListener(egret.TouchEvent.TOUCH_TAP,this.ZG23,this),this.btnRank.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickRank,this),this.btnLadyBug.addEventListener(egret.TouchEvent.TOUCH_TAP,this.ZQ65,this),this.btnTime.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickStage,this),this.btnTreeRecord.addEventListener(egret.TouchEvent.TOUCH_TAP,this.ZU49,this),this.showTask=[];var i=App.CM.gtM(O6.B30);this.ZC29(i),this.sonwAction()},t.prototype.uBM=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];o.prototype.uBM.call(this,t,e);var s=e[0];if(t instanceof TE43){switch(s){case P4.I1:App.CM.apF(O6.B30,HH12.A23);break;case P4.G30:this.friendList.rfL(t.actData.friendList);break;case P4.E81:return void this.ZU65(t)}t.curInspect||this.ZC29(t)}t instanceof THH11&&this.ZHH63(t)},t.prototype.ZC29=function(t){var e=null!=t.friendData?t.friendData:t.actData;if(null!=this.isFriend&&this.isFriend!=e.isFriend||t.curFriend&&t.curFriend!=this.curFriend){for(var i=1;i<=8;i++)this["bubble"+i].setData(null,e.isFriend),this["bubble"+i].visible=!1;this.showTask.splice(0,this.showTask.length)}this.isFriend=e.isFriend,this.curFriend=t.curFriend;var s=TD69.FA35(e.level);if(this.imgTree.source=s.resource,e.isFriend)this.gpBar.visible=!1,this.btnGoHome.visible=!0,this.btnLadyBug.visible=!0,this.btnTreeRecord.visible=!1,this.finger&&(this.gpFinger.removeChild(this.finger),this.finger=null);else{if(1==e.level)this.finger||(this.finger=new GuideFinger,this.finger.setDir(1),this.finger.showEff(),this.finger.touchEnabled=!1,this.gpFinger.addChild(this.finger),this.finger.x=-this.finger.width/2,this.finger.y=-this.finger.height/2),this.imgTree.once(egret.TouchEvent.TOUCH_TAP,this.onClickTree,this),this.gpBar.visible=!1;else{1==e.dayAward?this.finger||(this.finger=new GuideFinger,this.finger.setDir(1),this.finger.showEff(),this.finger.touchEnabled=!1,this.gpFinger.addChild(this.finger),this.finger.x=-this.finger.width/2,this.finger.y=-this.finger.height/2):this.finger&&(this.gpFinger.removeChild(this.finger),this.finger=null),this.gpBar.visible=!0;var o=e.ZHH82();this.btnStageAward.visible=0<o,P7.FD53(this.btnStageAward,o!=e.level+1?1:0)}this.imgGift.visible=1==e.dayAward,this.proBar.maximum=s.growth,s.growth<0?(this.proBar.maximum=100,this.proBar.value=100,this.lbPro.text=e.exp.toString()):(this.proBar.value=e.exp,this.lbPro.text=e.exp.toString()+"/"+s.growth),this.lbStage.text=s.name,this.btnGoHome.visible=!1,this.btnLadyBug.visible=!1,this.btnTreeRecord.visible=!0}this.setGrowList(t);for(var r in e.growList){var n=e.growList[r],a=this.showTask.indexOf(n.gId);if(n.getState==J13.A2&&0<=a)for(i=1;i<=8;i++){(p=this["bubble"+i].getId())==n.gId&&(this["bubble"+i].setData(null,e.isFriend),this["bubble"+i].visible=!1,this.showTask.splice(a,1))}}if(1!=e.level){for(var r in e.growList){n=e.growList[r],a=this.showTask.indexOf(n.gId);if(n.getState==J13.A3&&a<0){i=1;for(i=1;i<=8;i++){if(!this["bubble"+i].visible){this["bubble"+i].setData(n,e.isFriend),this["bubble"+i].visible=!0,this.showTask.push(n.gId);break}if(this["bubble"+i].isGray){var h=this.showTask[this["bubble"+i].getId()];this["bubble"+i].setData(n,e.isFriend),this["bubble"+i].visible=!0,this.showTask[h]=n.gId;break}}}}for(var r in e.growList){n=e.growList[r],a=this.showTask.indexOf(n.gId);if(n.getState==J13.A1&&a<0){i=1;for(i=1;i<=8;i++)if(!this["bubble"+i].visible){this["bubble"+i].setData(n,e.isFriend),this["bubble"+i].visible=!0,this.showTask.push(n.gId);break}}else if(n.getState==J13.A1)for(i=1;i<=8;i++)if(this["bubble"+i].getId()==n.gId){this["bubble"+i].setData(n,e.isFriend),this["bubble"+i].visible=!0;break}}}if(this.friendList.rfL(t.actData.friendList),this.ladybugList)for(r=this.ladybugList.length-1;0<=r;r--){var p=this.ladybugList[r].lid;e.ladyBugList.indexOf(p)<0&&(this.gpInspect.removeChild(this.ladybugList[r]),this.ladybugList[r]=null,this.ladybugList.splice(r,1))}if(e.ladyBugList&&0<e.ladyBugList.length)for(var r in this.ladybugList||(this.ladybugList=[]),e.ladyBugList){n=e.ladyBugList[r];this.ladybugList[r]||(this.ladybugList[r]=new eui.Image,this.ladybugList[r].source="v1_bg_chongzi_png",this.gpInspect.addChild(this.ladybugList[r]),this.ladybugList[r].addEventListener(egret.TouchEvent.TOUCH_TAP,this.ZQ63,this)),this.ladybugList[r].lid=n;var l=christmasLadybugPos[e.level][n-1];this.ladybugList[r].x=l.x,this.ladybugList[r].y=l.y}this.leftCD=t.actData.ZHH64();var c=P6.FJ11(1e3*this.leftCD,5);this.cdLb.textFlow=M18.HTP.parser(O3.tr(3253,c)),this._timerHandler=App.K16.doTimer(1e3,this.leftCD,this.GY14,this)},t.prototype.ZU65=function(t){if(t.curInspect){var e=null!=t.friendData?t.friendData:t.actData;t.curInspect=null;var i=christmasLadybugPos[e.level][t.curInspect-1];App.THH32.aUE(this.gpInspect,"wdsg_sdj_ccdh_001",i.x+10,i.y+10,1,null,this.callback.bind(this),null)}},t.prototype.callback=function(){var t=App.CM.gtM(O6.B30);this.ZC29(t)},t.prototype.sonwAction=function(){App.THH32.aUE(this.gpEff,"wdsg_bfsd_xiaxue_001",this.scEff.width/2,this.scEff.height/2,null,null,null,null)},t.prototype.GY14=function(){this.leftCD--;var t=P6.FJ11(1e3*this.leftCD,5);this.cdLb.textFlow=M18.HTP.parser(O3.tr(3253,t)),this.leftCD<=0&&(this.cTH(),this.cdLb.text="")},t.prototype.cTH=function(){null!=this._timerHandler&&(App.K16.rBH(this._timerHandler),this._timerHandler=null)},t.prototype.ZHH63=function(t){t.nType==RankType.christmas&&App.CM.apF(O6.B30,HH12.A27)},t.prototype.ZQ63=function(t){var e=t.target.lid;App.CM.apF(O6.B30,HH12.A5,e)},t.prototype.setGrowList=function(t){var e=t.actData,i=[],s=TD69.FJ26();for(var o in s){var r=s[o],n=!0;switch(r.type){case ChristmasGrowTask.crosscamp:n=App.CM.gtM(O6.B22).isOpen;break;case ChristmasGrowTask.climb:n=App.CM.gtM(O6.C6).isOpen;break;case ChristmasGrowTask.fish:n=App.CM.gtM(O6.B28).isOpen;break;case ChristmasGrowTask.crossboss:n=App.CM.gtM(O6.B16).isOpen}if(n&&(!t.friendData&&1==r.display||t.friendData&&2==r.display)){var a={name:r.explain,cur:e.getTaskNum(r.index),total:r.grow,totalPro:r.times};i.push(a)}}this.listView.rfL(i)},t.prototype.onClickTree=function(){App.CM.apF(O6.B30,HH12.A19)},t.prototype.ZQ64=function(){App.CM.apF(O6.B30,HH12.A11)},t.prototype.ZG23=function(){var t=App.CM.gtM(O6.B30),e=t.actData.ZHH82();e==t.actData.level+1?App.CM.apF(O6.B30,HH12.A21):App.CM.apF(O6.B30,HH12.A1,e)},t.prototype.ZQ65=function(){App.CM.apF(O6.B30,HH12.A13)},t.prototype.onClickStage=function(){App.CM.apF(O6.B30,HH12.A25)},t.prototype.ZU49=function(){App.CM.apF(O6.B30,HH12.A17)},t.prototype.ZU66=function(){App.CM.apF(O6.B30,HH12.A7),this.btnFriend.visible=!1,this.gpLeft.visible=!0,egret.Tween.get(this.gpLeft).to({left:0},500)},t.prototype.ZK2=function(){var t=this;egret.Tween.get(this.gpLeft).to({left:-this.gpLeft.width},500).call(function(){t.btnFriend.visible=!0,t.gpLeft.visible=!1})},t.prototype.ZU67=function(){var t=App.CM.gtM(O6.B30);t.clearFriend(),t.notify()},t.prototype.onClickRank=function(){var t={type:RankType.christmas,currPage:1,size:3};App.CM.apF(O6.C19,O18.A5,t)},t.prototype.close=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];o.prototype.close.call(this),this.btnFriend.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.ZU66,this),this.btnFriendClose.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.ZK2,this),this.btnGoHome.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.ZU67,this),this.imgGift.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.ZQ64,this),this.btnStageAward.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.ZG23,this),this.btnRank.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickRank,this),this.btnLadyBug.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.ZQ65,this),this.btnTime.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickStage,this),this.btnTreeRecord.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.ZU49,this);var i=App.CM.gtM(O6.B30);for(var s in i.clearFriend(),this.cTH(),this.ladybugList)this.ladybugList[s].removeEventListener(egret.TouchEvent.TOUCH_TAP,this.ZQ63,this),egret.Tween.removeTweens(this.ladybugList[s]),this.ladybugList[s]=null;App.THH32.rEf(this.gpEff,"wdsg_bfsd_xiaxue_001")},t}(BaseEuiView);__reflect(ChristmasView.prototype,"ChristmasView");var ItemChristmasBubble=function(e){function t(){var t=e.call(this)||this;return t.lineHeight="100",t.addEventListener(egret.Event.ADDED_TO_STAGE,t.open,t),t.addEventListener(egret.Event.REMOVED_FROM_STAGE,t.close,t),t}return __extends(t,e),t.prototype.open=function(){this.addEventListener(egret.TouchEvent.TOUCH_TAP,this.oCI,this)},t.prototype.close=function(){this.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.oCI,this)},t.prototype.childrenCreated=function(){e.prototype.createChildren.call(this)},t.prototype.setData=function(t,e){if(this.data=t,this.data){this.isFriend=e;var i=TD69.FC10(this.data.tId),s=i.grow-this.data.lostNum;this.lbValue.text=O3.tr(5481,s),this.lbTitle.text=i.illustrate;var o=parseFloat(TD69.gIV("guaranteed"));this.data.lostNum/i.grow>o||1==this.data.isSteal?(this.isGray=!0,this.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.oCI,this)):(this.isGray=!1,this.addEventListener(egret.TouchEvent.TOUCH_TAP,this.oCI,this)),P16.sGF(this,this.isGray)}},t.prototype.getId=function(){if(this.data)return this.data.gId},t.prototype.getState=function(){if(this.data)return this.data.getState},t.prototype.oCI=function(){this.isFriend?App.CM.apF(O6.B30,HH12.A3,this.data.gId):App.CM.apF(O6.B30,HH12.A15,this.data.gId)},t}(eui.Component);__reflect(ItemChristmasBubble.prototype,"ItemChristmasBubble");var ItemChristmasFriend=function(e){function t(){var t=e.call(this)||this;return t.skinName=ItemChristmasFriendSkin,t.addEventListener(egret.Event.ADDED_TO_STAGE,t.open,t),t.addEventListener(egret.Event.REMOVED_FROM_STAGE,t.close,t),t}return __extends(t,e),t.prototype.open=function(){this.imgIcon.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickIcon,this)},t.prototype.close=function(){this.imgIcon.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickIcon,this)},t.prototype.dataChanged=function(){this.lbName.text=this.data.name,this.imgIcon.source=this.data.icon,this.imgGet.visible=this.imgGet.includeInLayout=1==this.data.isGetGrow,this.imgBug.visible=this.imgBug.includeInLayout=1==this.data.isCatch},t.prototype.onClickIcon=function(){App.CM.apF(O6.B30,HH12.A9,this.data.aid)},t}(eui.ItemRenderer);__reflect(ItemChristmasFriend.prototype,"ItemChristmasFriend");var ItemChristmasLb=function(e){function t(){var t=e.call(this)||this;return t.skinName=ItemChristmasLbSkin,t}return __extends(t,e),t.prototype.dataChanged=function(){var t=this.data.cur<this.data.totalPro?_cc.green1:_cc.lbrown;this.lbTip.textFlow=M18.HTP.parser(O3.tr(5482,this.data.name,this.data.total,t,this.data.cur,this.data.totalPro))},t}(eui.ItemRenderer);__reflect(ItemChristmasLb.prototype,"ItemChristmasLb");var ItemChristmasRank=function(e){function t(){var t=e.call(this)||this;return t.skinName=ItemChristmasRankSkin,t.addEventListener(egret.Event.ADDED_TO_STAGE,t.open,t),t.addEventListener(egret.Event.REMOVED_FROM_STAGE,t.close,t),t}return __extends(t,e),t.prototype.open=function(){},t.prototype.close=function(){},t.prototype.childrenCreated=function(){e.prototype.createChildren.call(this),this.itemCollection=new eui.ArrayCollection,this.listContent.dataProvider=this.itemCollection,this.listContent.itemRenderer=ItemIcon,this.awardsSc.scrollPolicyV=eui.ScrollPolicy.OFF},t.prototype.dataChanged=function(){if(this.data.name)switch(this.lbRank.visible=!1,this.imgRank.visible=!0,this.lbName.visible=!0,this.lbName.text=this.data.name,this.data.rank){case 1:this.imgRank.source="v1_fonts_1st_png";break;case 2:this.imgRank.source="v1_fonts_2nd_png";break;case 3:this.imgRank.source="v1_fonts_3rd_png"}else{this.lbRank.visible=!0,this.imgRank.visible=!1,this.lbName.visible=!1;var t=M18.FL28(this.data.rank,","),e=t[0]!=t[1]?O3.tr(5483,t[0],t[1]):O3.tr(5484,t[0]);this.lbRank.text=e}var i=[],s=M18.FL28(this.data.reward,";",":");for(var o in s){var r={data:N12.gID(s[o][0]),ct:s[o][1]};i.push({itemData:r,isBottom:!1,scale:1})}this.itemCollection.replaceAll(i)},t}(eui.ItemRenderer);__reflect(ItemChristmasRank.prototype,"ItemChristmasRank");var ItemChristmasRecord=function(e){function t(){var t=e.call(this)||this;return t.skinName=ItemChristmasRecordSkin,t.addEventListener(egret.Event.ADDED_TO_STAGE,t.open,t),t.addEventListener(egret.Event.REMOVED_FROM_STAGE,t.close,t),t}return __extends(t,e),t.prototype.open=function(){},t.prototype.close=function(){},t.prototype.childrenCreated=function(){e.prototype.createChildren.call(this)},t.prototype.dataChanged=function(){var t,e=P6.format(this.data.time,"hh:mm:ss");switch(this.data.type){case 1:t=5485;break;case 2:t=5486;break;case 3:var i=App.CM.gtM(O6.B77),s=App.CM.gtM(O6.B30),o=(i.openState,5487);o=s.openState?6574:o}this.lbDesc.textFlow=M18.HTP.parser(O3.tr(t,e,this.data.param[0],this.data.param[1]))},t}(eui.ItemRenderer);__reflect(ItemChristmasRecord.prototype,"ItemChristmasRecord");var ItemChristmasStage=function(e){function t(){var t=e.call(this)||this;return t.skinName=ItemChristmasStageSkin,t.addEventListener(egret.Event.ADDED_TO_STAGE,t.open,t),t.addEventListener(egret.Event.REMOVED_FROM_STAGE,t.close,t),t}return __extends(t,e),t.prototype.open=function(){var t=App.CM.gtM(O6.B77),e=App.CM.gtM(O6.B30),i=t.openState?"v1_img_jinzhudj_png":"";i=e.openState?"v1_img_shdankaih02_png":i,this.imgTitle.source=i},t.prototype.close=function(){},t.prototype.childrenCreated=function(){e.prototype.createChildren.call(this),this.itemCollection=new eui.ArrayCollection,this.listContent.dataProvider=this.itemCollection,this.listContent.itemRenderer=ItemIcon,this.awardsSc.scrollPolicyV=eui.ScrollPolicy.OFF},t.prototype.dataChanged=function(){this.lbTitle.text=this.data.name,this.imgState.visible=this.data.state==J13.A2;var t=[],e=M18.FL28(this.data.reward,";",":");for(var i in e){var s={data:N12.gID(e[i][0]),ct:e[i][1]};t.push({itemData:s,isBottom:!1,scale:1})}this.itemCollection.replaceAll(t)},t}(eui.ItemRenderer);__reflect(ItemChristmasStage.prototype,"ItemChristmasStage");var ChristmasData=function(i){function t(t){var e=i.call(this,t)||this;return e.updateData(t),e}return __extends(t,i),t.prototype.updateData=function(t){if(this.level=null!=t.sg?t.sg:this.level,t.fl)for(var e in this.friendList=[],t.fl){var i={aid:(s=t.fl[e]).aid,icon:s.ic,name:s.n,isGetGrow:s.g,isCatch:s.s};this.friendList.push(i)}if(this.getLevelAward=null!=t.ag?t.ag:this.getLevelAward,this.exp=null!=t.exp?t.exp:this.exp,t.gl)for(var e in this.growList=[],t.gl){i={gId:(s=t.gl[e]).gid,tId:s.tid,state:s.st,lostNum:s.sn,isSteal:s.sm,getState:void 0};this.growList.push(i)}if(t.rl){for(var e in this.recordList=[],t.rl){var s;i={time:(s=t.rl[e]).t,type:s.ty,param:s.p};this.recordList.push(i)}this.recordList.sort(function(t,e){return e.time-t.time})}if(t.g){i={gId:t.g.gid,tId:t.g.tid,state:t.g.st,lostNum:t.g.sn,isSteal:t.g.sm,getState:void 0};this.growList||(this.growList=[]);var o=!1;for(var e in this.growList)this.growList[e].gId==t.g.gid&&(this.growList[e]=i,o=!0);o||this.growList.push(i)}var r=parseFloat(TD69.gIV("guaranteed"));this.growList.sort(function(t,e){var i=TD69.FC10(t.tId),s=TD69.FC10(e.tId);return(t.lostNum/i.grow>r||1==t.isSteal)&&(e.lostNum/s.grow>r||1==e.isSteal)?-1:t.lostNum/i.grow>r||1==t.isSteal?1:-1}),this.ladyBugList=null!=t.lbs?t.lbs:this.ladyBugList,this.dayAwardStage=null!=t.ds?t.ds:this.dayAwardStage,this.dayAward=null!=t.dg?t.dg:this.dayAward,this.ZQ66(),this.ZU63(t)},t.prototype.ZQ66=function(){var t=parseFloat(TD69.gIV("guaranteed"));for(var e in this.growList){var i=this.growList[e],s=TD69.FC10(i.tId);0==i.state?(i.getState=J13.A3,(i.lostNum/s.grow>t||1==i.isSteal)&&(i.getState=J13.A1)):i.getState=J13.A2}this.growList.sort(function(t,e){return t.getState-e.getState})},t.prototype.getTaskNum=function(t){var e=0;for(var i in this.growList)this.growList[i].tId==t&&e++;return e},t.prototype.getStageList=function(){var t=[],e=TD69.FD67();for(var i in e){var s=e[i];if(s.awardday){var o=J13.A3,r={name:s.name,reward:s.awardday,state:o};t.push(r)}}return t},t.prototype.ZHH82=function(){var t=TD69.FD67();for(var e in t)if(parseInt(e)<=this.level&&t[e].award){if(!this.getLevelAward)return parseInt(e);var i=0;for(i=0;i<this.getLevelAward.length&&this.getLevelAward[i]!=parseInt(e);i++);if(i==this.getLevelAward.length)return parseInt(e)}return t[this.level].growth<0?0:null!=t[this.level+1].award?this.level+1:0},t}(ActivityVo);__reflect(ChristmasData.prototype,"ChristmasData");var E9=function(){function t(){}return t.A2=10001,t.A1=10002,t.A4=10003,t.A3=10004,t}();__reflect(E9.prototype,"E9");var TA98=function(i){function t(){var t=i.call(this)||this,e=new TD22(t);return e.aLV(O7.D36),e.aLV(O7.G13),e.aLV(O7.D12),e.aLV(O7.I64),App.VM.register(O7.D36,"ConsumeRankActView",t,K17.UI_Main),t.rgF(E9.A2,t.GD22,t),t.rgF(E9.A1,t.GC27,t),App.VM.register(O7.G13,"ConsumeRankView",t,K17.UI_Main_TOP),t.rgF(E9.A4,t.GG79,t),t.rgF(E9.A3,t.GF24,t),t.consumeRankProxy=new TD23(t),t}return __extends(t,i),t.prototype.GD22=function(){App.VM.open(O7.D36);var t=App.CM.gtM(O6.A30);t.firstLoginRedNum=0,t.notify()},t.prototype.GC27=function(){App.VM.close(O7.D36)},t.prototype.GG79=function(){App.VM.open(O7.G13)},t.prototype.GF24=function(){App.VM.close(O7.G13)},t}(TE11);__reflect(TA98.prototype,"TA98");var TD22=function(i){function t(t){var e=i.call(this,t)||this;return e.openState=!1,e.redNum=0,e.firstLoginRedNum=0,e}return __extends(t,i),t.prototype.ZC13=function(t){t&&(null!=this.actData?this.actData.updateData(t):(this.actData=new ConsumeRankData(t),this.tips=this.actData.tips),this.updateRed())},t.prototype.updateRed=function(){this.redNum=this.FL35()},t.prototype.FL35=function(){var t=0;return t+=this.firstLoginRedNum},t.prototype.notify=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];i.prototype.notifyView.apply(this,[this].concat(t))},t}(TG79);__reflect(TD22.prototype,"TD22");var TD23=function(e){function t(t){return e.call(this,t)||this}return __extends(t,e),t}(TG80);__reflect(TD23.prototype,"TD23");var TD70=function(){function t(){}return t.FE58=function(t){var e=[];if(!t||0===t.length)return e;if(10<t[0].nRank)return t.map(function(t,e){return t.index=e,t});for(var i=App.CM.gtM(O6.A30),s=Number(i.actData.tipsParams[0]),o=s-1;0<=o;o-=1){var r=t[o],n=void 0;n=r&&r.nRank===o+1?{sName:r.sName,noPalyer:!1,consumption:r.consumption,index:r.nRank-1,nRank:r.nRank}:(s=o,{sName:O3.tr(3304),noPalyer:!0,consumption:0,index:o,nRank:o+1}),e.unshift(n)}for(o=s;o<t.length;o+=1){var a=t[o];e.push({sName:a.sName,noPalyer:!1,consumption:a.consumption,index:e.length,nRank:a.nRank})}return e},t}();__reflect(TD70.prototype,"TD70");var ConsumeRankActView=function(s){function t(t,e){var i=s.call(this,t,e)||this;return i.sGN("release_act1061"),i.skinName="RechargeRankSkin",i.labChecked.addEventListener(egret.TouchEvent.TOUCH_TAP,i.ZE67,i),i}return __extends(t,s),t.prototype.initUI=function(){s.prototype.initUI.call(this),this.labChecked.textFlow=M18.HTP.parse(O3.tr(3822))},t.prototype.open=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];s.prototype.open.apply(this,t)},t.prototype.ZE67=function(){App.CM.apF(O6.A30,E9.A4)},t.prototype.uBM=function(t){for(var i=this,e=[],s=1;s<arguments.length;s++)e[s-1]=arguments[s];if(t instanceof TD22&&(this.actData=t.actData,this.actData.rewardList.forEach(function(t,e){return i.updateAPage(i["content"+(e+1)],t.rs,t.re,t.rw)}),this.GX5(t),this.showBoss(this.actData.u),null==this.timerHandler))if(0<this.actData.rs){this.leftCD=this.actData.ZHH64();var o=O3.tr(3253,P6.FJ11(1e3*this.leftCD,5));this.leftCdLb.textFlow=M18.HTP.parse(o),this.timerHandler=App.K16.doTimer(1e3,this.leftCD,this.GY14,this)}else this.leftCdLb.text=""},t.prototype.showBoss=function(t){if(this.objBoss&&(this.grpBossArm.removeChildren(),this.objBoss.destory(),this.objBoss=null),t){this.objBoss=new FightGameObject,this.objBoss.action=Action.Stand;var e={x:0,y:0,dir:Dir.br,objType:P13.A6};this.objBoss.setBaseData(e),t.bt=BehaviourType.Attack_d,t.sr=1,this.objBoss.setData(t,this.grpBossArm)}},t.prototype.GX5=function(t){var e=Math.floor(100*(t.actData.mine.v||0))/100,i=t.actData.mine.r||0;this.myAmount.textFlow=M18.HTP.parser(O3.tr(3300,e)),this.myRankLb.textFlow=M18.HTP.parser(O3.tr(3299,100<i||i<=0?O3.tr(3252):i)),this.labNameOne.text=this.labName.text=t.actData.roles[0]?t.actData.roles[0].name:O3.tr(3304),this.labNameTwo.text=t.actData.roles[1]?t.actData.roles[1].name:O3.tr(3304),this.tips.text=O3.tr.apply(O3,[3911].concat(this.actData.tipsParams))},t.prototype.updateAPage=function(t,e,i,s){var o=this,r=t.getChildByName("rank"),n=t.getChildByName("scReward").getChildAt(0);r.text=e-i?O3.tr(6710,e,i):O3.tr(6711,e);var a=new eui.ArrayCollection;n.dataProvider=a,n.itemRenderer=rechargeItem;var h=[];s.forEach(function(t){var e=N12.gID(t.k);h.push({itemData:{data:e,ct:t.v,texiao:o.actData.hasEffect(t.k)?TF59.FC9(e.quality):void 0},isBottom:!1,scale:.9})}),a.replaceAll(h)},t.prototype.GY14=function(){this.leftCD--;var t=O3.tr(3253,P6.FJ11(1e3*this.leftCD,5));this.leftCdLb.textFlow=M18.HTP.parse(t),this.leftCD<=0&&(this.cTH(),this.leftCdLb.text="")},t.prototype.cTH=function(){null!=this.timerHandler&&(App.K16.rBH(this.timerHandler),this.timerHandler=null)},t.prototype.close=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];s.prototype.close.call(this),this.labChecked.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.ZE67,this),this.actData=null,this.cTH(),this.grpBossArm.removeChildren(),this.objBoss&&(this.objBoss.destory(),this.objBoss=null)},t}(BaseEuiView);__reflect(ConsumeRankActView.prototype,"ConsumeRankActView");var ConsumeRankView=function(s){function t(t,e){var i=s.call(this,t,e)||this;return i.curIndex=0,i.pageNum=1,i.curPageNum=1,i.skinName=ConsumeRankSkin,i.dlg.ZU10().visible=!0,i}return __extends(t,s),t.prototype.initUI=function(){s.prototype.initUI.call(this),this.dlg.title=O3.tr(201),this.lbTitle1.textFlow=M18.HTP.parser(O3.tr(5193)),this.lbTitle2.textFlow=M18.HTP.parser(O3.tr(5194)),this.lbTitle3.textFlow=M18.HTP.parser(O3.tr(6822));var t=App.CM.gtM(O6.A30);this.rankType=t.actData.rankType;var e={render:ConsumeRankItem,gap:0,width:this.listGroup.width,height:this.listGroup.height};this.listView=new CommonListBase(e),this.listGroup.addChild(this.listView),this.listView.verticalCenter=0,this.listView.horizontalCenter=0},t.prototype.open=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.listView.open(),this.dlg.ZM69(this.oCC,this),this.dlg.ZQ14(this.oCC,this),this.btnLeft.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickLeft,this),this.btnRight.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickRight,this),this.curPageNum=1,this.loadListData()},t.prototype.uBM=function(t,e){s.prototype.uBM.call(this,t,e),t instanceof TD22&&(e==P4.U30||e==P4.P76?this.oCC():this.loadListData()),t instanceof THH11&&e==P4.X79&&this.updateViews()},t.prototype.updateViews=function(){var t=App.CM.gtM(O6.A30);this.actData=t.actData;var e=this.actData.mine.r||0;if(100<e||e<=0){var i=O3.tr(3299,O3.tr(3252));this.myRankLb.textFlow=(new egret.HtmlTextParser).parser(i)}else{i=O3.tr(3299,e);this.myRankLb.textFlow=(new egret.HtmlTextParser).parser(i)}var s=App.CM.gtM(O6.C19);if(s.rankList){var o=TD70.FE58(s.rankList);this.listView.rfL(o)}this.curPageNum=null!=s.nCurrentPage?s.nCurrentPage:1,this.pageNum=null!=s.nAllPage?s.nAllPage:1,this.ZM92()},t.prototype.loadListData=function(){var t={type:this.rankType,currPage:this.curPageNum,size:10};App.CM.apF(O6.C19,O18.A5,t)},t.prototype.ZM92=function(){this.pageLb.text=this.curPageNum+"/"+this.pageNum},t.prototype.onClickLeft=function(){1!=this.curPageNum&&(this.curPageNum=this.curPageNum-1,this.loadListData(),this.ZM92())},t.prototype.onClickRight=function(){this.curPageNum>=this.pageNum||(this.curPageNum=this.curPageNum+1,this.loadListData(),this.ZM92())},t.prototype.oCC=function(){App.CM.apF(O6.A30,E9.A3)},t.prototype.close=function(){this.curPageNum=null,this.listView.close(),this.btnLeft.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickLeft,this),this.btnRight.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickRight,this),this.actData=null},t}(BaseEuiView);__reflect(ConsumeRankView.prototype,"ConsumeRankView");var ConsumeRankItem=function(e){function t(){var t=e.call(this)||this;return t.skinName=ConsumeRankItemSkin,t}return __extends(t,e),t.prototype.dataChanged=function(){this.imgBg.visible=this.data.nRank%2!=0,this.lbRank.text=this.data.nRank,this.lbName.text=this.data.sName,this.lbConsumption.text=O3.tr(3302,"???");var t=App.CM.gtM(O6.A30).actData.mine.r,e=App.CM.gtM(O6.C19),i=TD70.FE58(e.rankList);if(null==t||100<t||0==t){var s=null!=e.nAllPage?e.nAllPage:1;e.nCurrentPage==s&&this.data.index==i.length-1&&(this.lbConsumption.text=O3.tr(3302,this.data.consumption))}else this.data.nRank>=t-1&&this.data.nRank<=t+1&&(this.lbConsumption.text=O3.tr(3302,this.data.consumption))},t}(eui.ItemRenderer);__reflect(ConsumeRankItem.prototype,"ConsumeRankItem");var ConsumeRankData=function(i){function t(t){var e=i.call(this,t)||this;return e.rewardList=[],e.roles=[],e.tipsParams=[],e.updateData(t),e.cost&&(e.tipsParams=e.cost.split("|")[0].split(",")),e}return __extends(t,i),t.prototype.updateData=function(t){this.rewardList=t.rw||this.rewardList,this.roles=t.r||this.roles,this.mine=t.me||this.mine,this.u=t.u||this.u,this.rankType=t.t||this.rankType,t&&this.ZU63(t)},t.prototype.hasEffect=function(t){return this.reward&&0<=this.reward.split(",").map(function(t){return parseInt(t)}).indexOf(t)},t}(ActivityVo);__reflect(ConsumeRankData.prototype,"ConsumeRankData");var ConsumeRankRes=function(){function t(t){this.consumption=0,this.initData(t)}return t.prototype.initData=function(t){t&&(this.id=t.id,this.consumption=t.v,this.rank=t.r,this.name=t.name)},t}();__reflect(ConsumeRankRes.prototype,"ConsumeRankRes");var ConsumeRewardConf=function(){function t(t){this.initData(t)}return t.prototype.initData=function(t){t&&(this.rankStart=t.rs,this.rankEnd=t.re,this.award=t.rw)},t}();__reflect(ConsumeRewardConf.prototype,"ConsumeRewardConf");var B8=function(){function t(){}return t.A1=0,t.A2=1,t.A3=2,t.A4=3,t.A5=4,t.A6=5,t.A7=6,t.A8=7,t}();__reflect(B8.prototype,"B8");var TA24=function(i){function t(){var t=i.call(this)||this;t.proxy=new TB24(t);var e=new TB23(t);return e.aLV(O7.A24),e.aLV(O7.C64),e.aLV(O7.D12),t.rgF(B8.A1,t.GO25,t),t.rgF(B8.A2,t.GO26,t),t.rgF(B8.A3,t.GM30,t),t.rgF(B8.A4,t.GM31,t),t.rgF(B8.A5,t.GY7,t),t.rgF(B8.A6,t.GY8,t),App.VM.register(O7.A24,"ConsumerSummaryRewardView",t,K17.UI_Tips),t.rgF(B8.A7,t.GO27,t),t.rgF(B8.A8,t.GO28,t),t}return __extends(t,i),t.prototype.GO25=function(t){this.proxy.ZE75(t)},t.prototype.GO26=function(t){this.GQ12(t)&&this.gtM().notify(P4.B26)},t.prototype.GM30=function(){this.proxy.ZD59()},t.prototype.GM31=function(t){this.GQ12(t)&&this.gtM().notify(P4.N68)},t.prototype.GY7=function(t){this.proxy.ZU68(t)},t.prototype.GY8=function(t){this.GQ12(t)&&this.gtM().notify(P4.N68)},t.prototype.GQ12=function(t){var e=this.gtM();if(215!=t.head.state)return 200!=t.head.state?(App.CM.apF(O6.B87,L10.A4,t),!1):(t.body.ob&&P5.sIs(t.body.ob),e.ZC13(t.body),!0);P7.FA78()},t.prototype.GO27=function(t){App.VM.open(O7.A24,t)},t.prototype.GO28=function(){App.VM.close(O7.A24)},t}(TE11);__reflect(TA24.prototype,"TA24");var TB23=function(i){function t(t){var e=i.call(this,t)||this;return e.openState=!1,e.redNum=0,e.firstLoginRedNum=0,e}return __extends(t,i),t.prototype.ZC13=function(t){t&&(null!=this.actData?this.actData.updateData(t):(this.actData=new ConsumerSummaryData(t),this.tips=this.actData.tips),this.updateRed())},t.prototype.updateRed=function(){this.redNum=this.FL35()},t.prototype.FL35=function(){if(this.firstLoginRedNum)return this.firstLoginRedNum;if(this.actData.ZG24()==J13.A3)return 1;var t=this.actData.getDayList();for(var e in t)if(2==t[e].state)return 1},t.prototype.notify=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];i.prototype.notifyView.apply(this,[this].concat(t))},t}(TG79);__reflect(TB23.prototype,"TB23");var TB24=function(i){function t(t){var e=i.call(this,t)||this;return e.rSM(P4.B26,e.GO26,e),e.rSM(P4.B28,e.GM31,e),e.rSM(P4.D51,e.GY8,e),e}return __extends(t,i),t.prototype.ZE75=function(t){var e={type:P4.B25,body:{id:t}};this.sSM(e)},t.prototype.GO26=function(t){this.apF(B8.A2,t)},t.prototype.ZD59=function(){var t={type:P4.B27,body:{}};this.sSM(t)},t.prototype.GM31=function(t){this.apF(B8.A4,t)},t.prototype.ZU68=function(t){var e={type:P4.D50,body:{id:t}};this.sSM(e)},t.prototype.GY8=function(t){this.apF(B8.A6,t)},t}(TG80);__reflect(TB24.prototype,"TB24");var ConsumerSummaryRewardView=function(s){function t(t,e){var i=s.call(this,t,e)||this;return i.skinName=ConsumerSummaryRewardSkin,i}return __extends(t,s),t.prototype.initUI=function(){s.prototype.initUI.call(this),this.dlg.ZM69(this.closeSelf.bind(this),this),this.dlg.setOKHandler(this.closeSelf.bind(this),this),this.itemCollection=new eui.ArrayCollection,this.dgReward.dataProvider=this.itemCollection,this.dgReward.itemRenderer=ItemIcon,this.dlg.title=O3.tr(5062),this.dlg.strBtnOK=O3.tr(1464)},t.prototype.open=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];s.prototype.open.call(this),this.day=t[0];var i=App.CM.gtM(O6.A22);this.ZA3(i)},t.prototype.uBM=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];s.prototype.uBM.call(this,t,e),t instanceof TB23&&this.ZA3(t)},t.prototype.ZA3=function(t){var e=[],i=t.actData.ZK3(this.day).v;for(var s in i){var o={data:N12.gID(i[s].k),ct:i[s].v};e.push({itemData:o,isBottom:!1,scale:1})}this.itemCollection.replaceAll(e)},t.prototype.close=function(){s.prototype.close.call(this),this.day=null},t.prototype.closeSelf=function(){App.CM.apF(O6.A22,B8.A8)},t}(BaseEuiView);__reflect(ConsumerSummaryRewardView.prototype,"ConsumerSummaryRewardView");var ConsumerSummaryView=function(s){function t(t,e){var i=s.call(this,t,e)||this;return i.sGN("release_act1201"),i.skinName=ConsumerSummarySkin,i}return __extends(t,s),t.prototype.initUI=function(){this.itemCollection=new eui.ArrayCollection,this.rewardContent.dataProvider=this.itemCollection,this.rewardContent.itemRenderer=ItemIcon,this.targetCollection=new eui.ArrayCollection,this.targetContent.dataProvider=this.targetCollection,this.targetContent.itemRenderer=ItemConsumerSummaryDay},t.prototype.open=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];s.prototype.open.call(this),this.btnGet.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickGet,this)},t.prototype.uBM=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];s.prototype.uBM.call(this,t,e),t instanceof TB23&&this.ZA3(t)},t.prototype.ZA3=function(t){var e=t.actData,i=e.ZU69().ZHH83(),s=[];for(var o in i){var r={data:N12.gID(i[o].k),ct:i[o].v};s.push({itemData:r,isBottom:!1,scale:1})}this.itemCollection.replaceAll(s);var n=e.getTotalDay(),a=e.ZQ67();switch(this.lbCurPro.textFlow=M18.HTP.parser(O3.tr(3348,a,n)),this.btnState=e.ZG24(),this.btnState){case J13.A1:this.btnGet.bgStr="v1_btn_green_1_png",this.btnGet.label=O3.tr(3347),this.btnGet.enabled=!0,P7.FD53(this.btnGet,0),P16.sGF(this.btnGet,!1);break;case J13.A3:this.btnGet.bgStr="v1_btn_yellow_1_png",this.btnGet.label=O3.tr(1563),this.btnGet.enabled=!0,P7.FD53(this.btnGet,1),P16.sGF(this.btnGet,!1);break;case J13.A2:this.btnGet.bgStr="v1_btn_yellow_1_png",this.btnGet.label=O3.tr(3202),this.btnGet.enabled=!1,P16.sGF(this.btnGet,!0)}this.lbCost.textFlow=M18.HTP.parser(O3.tr(3350,e.getTodayCost()));var h=e.getDayList();this.targetCollection.replaceAll(h),this.leftCD=t.actData.ZHH64();var p=P6.FJ11(1e3*this.leftCD,5);this.lbTime.textFlow=M18.HTP.parser(O3.tr(3325,p)),this._timerHandler=App.K16.doTimer(1e3,this.leftCD,this.GY14,this)},t.prototype.GY14=function(){this.leftCD--;var t=P6.FJ11(1e3*this.leftCD,5);this.lbTime.textFlow=M18.HTP.parser(O3.tr(3325,t)),this.leftCD<=0&&(this.cTH(),this.lbTime.text="")},t.prototype.cTH=function(){null!=this._timerHandler&&(App.K16.rBH(this._timerHandler),this._timerHandler=null)},t.prototype.onClickGet=function(){this.btnState==J13.A3?App.CM.apF(O6.A22,B8.A3):this.btnState==J13.A1&&P18.sDP(O3.tr(3351))},t.prototype.close=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];s.prototype.close.call(this),this.btnGet.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickGet,this),this.cTH()},t}(BaseEuiView);__reflect(ConsumerSummaryView.prototype,"ConsumerSummaryView");var ItemConsumerSummaryDay=function(e){function t(){var t=e.call(this)||this;return t.skinName=ItemConsumerSummaryDaySkin,t.addEventListener(egret.Event.ADDED_TO_STAGE,t.open,t),t.addEventListener(egret.Event.REMOVED_FROM_STAGE,t.close,t),t}return __extends(t,e),t.prototype.open=function(){this.addEventListener(egret.TouchEvent.TOUCH_TAP,this.oCI,this)},t.prototype.close=function(){this.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.oCI,this)},t.prototype.childrenCreated=function(){e.prototype.createChildren.call(this)},t.prototype.dataChanged=function(){var t;switch(t=P7.FM14()?this.data.id:M18.FF66(this.data.id),this.lbTitle.text=O3.tr(3349,t),this.data.state){case 1:this.currentState="got";break;case 2:this.currentState="canGet";break;case 3:this.currentState="canNot",this.imgState.visible=this.data.isCurDay,this.lbToGet.visible=!this.data.isCurDay;break;case 4:this.currentState="sign"}2==this.data.state||4==this.data.state?this.imgRed.visible=!0:this.imgRed.visible=!1,this.imgSelect.visible=this.data.isCurDay,this.data.isCurDay?this.bg.source="v1_fonts_lianxxfdi_png":this.bg.source="v1_fonts_lianxxfdi2_png"},t.prototype.oCI=function(){var t=this;switch(this.data.state){case 1:case 3:App.CM.apF(O6.A22,B8.A7,this.data.id);break;case 2:App.CM.apF(O6.A22,B8.A1,this.data.id);break;case 4:var e={handler:function(){App.CM.apF(O6.A22,B8.A5,t.data.id)},content:App.CM.gtM(O6.A22).actData.desc};App.VM.open(O7.C54,e)}},t}(eui.ItemRenderer);__reflect(ItemConsumerSummaryDay.prototype,"ItemConsumerSummaryDay");var ConsumerSummaryData=function(i){function t(t){var e=i.call(this,t)||this;return e.updateData(t),e}return __extends(t,i),t.prototype.updateData=function(t){t.config&&(this.confs?this.confs.updateData(t.config):this.confs=new ContinueConsumeConfVo(t.config)),this.day=null!=t.day?t.day:this.day,this.todayCost=null!=t.yb?t.yb:this.todayCost,this.gotList=null!=t.yet?t.yet:this.gotList,this.finalAwardState=null!=t.tf?t.tf:this.finalAwardState,this.ZU63(t)},t.prototype.ZK3=function(t){var e=this.confs.getDayList();for(var i in e){var s=e[i];if(s.k==t)return s}},t.prototype.ZU69=function(){return this.confs},t.prototype.getDayList=function(){var t=[],e=this.confs.getDayList();for(var i in e){var s=e[i],o=(Math.min(this.day,this.getTotalDay()),{id:s.k,state:this.getDayState(s.k),isCurDay:s.k==this.day});t.push(o)}return t},t.prototype.getDayState=function(t){if(t>this.day)return 3;for(var e in this.gotList){var i=this.gotList[e];if(i.k==t){if(1==i.v)return 2;if(2==i.v)return 1}}return t==this.day?3:4},t.prototype.getTotalDay=function(){return this.confs.getDayList().length},t.prototype.ZQ67=function(){return this.gotList.length},t.prototype.ZG24=function(){return this.getTotalDay()==this.ZQ67()?0==this.finalAwardState?J13.A3:J13.A2:J13.A1},t.prototype.getTodayCost=function(){return this.todayCost},t}(ActivityVo);__reflect(ConsumerSummaryData.prototype,"ConsumerSummaryData");var ContinueConsumeConfVo=function(){function t(t){this.updateData(t)}return t.prototype.updateData=function(t){this.rewardList=null!=t.rwds?t.rwds:this.rewardList,this.needCost=null!=t.need?t.need:this.needCost,this.finalAward=null!=t.finalRwd?t.finalRwd:this.finalAward,this.resignCost=null!=t.resignCost?t.resignCost:this.resignCost},t.prototype.ZHH83=function(){return this.finalAward},t.prototype.getDayList=function(){return this.rewardList},t}();__reflect(ContinueConsumeConfVo.prototype,"ContinueConsumeConfVo");var J3=function(){function t(){}return t.A4=10001,t.A3=10002,t.A1=10003,t.A2=10004,t}();__reflect(J3.prototype,"J3");var E3=function(){function t(){}return t.A1=1,t.A3=2,t.A4=3,t.A2=4,t}();__reflect(E3.prototype,"E3");var TC8=function(i){function t(){var t=i.call(this)||this;t.proxy=new TF19(t);var e=new TF18(t);return e.aLV(O7.C32),e.aLV(O7.D86),e.aLV(O7.C33),e.aLV(O7.D12),e.aLV(O7.I64),e.aLV(O7.I31),App.VM.register(O7.I31,"DianRankView",t,K17.UI_Main),t.rgF(J3.A4,t.GM32,t),t.rgF(J3.A3,t.GK60,t),t.rgF(J3.A1,t.GT95,t),t.rgF(J3.A2,t.GT91,t),t}return __extends(t,i),t.prototype.GM32=function(){App.VM.open(O7.I31);var t=this.gtM();t.firstLoginRedNum=0,t.notify()},t.prototype.GK60=function(){App.VM.close(O7.I31)},t.prototype.GT95=function(t){this.proxy.GT95(t)},t.prototype.GT91=function(t){if(200==t.head.state){var e=t.body,i=this.gtM();i.ZC13(e),i.notify(),P5.sIs(t.body.ob)}else App.CM.apF(O6.B87,L10.A4,t)},t}(TE11);__reflect(TC8.prototype,"TC8");var TF18=function(i){function t(t){var e=i.call(this,t)||this;return e.openState=!1,e.redNum=0,e.firstLoginRedNum=0,e}return __extends(t,i),t.prototype.ZC13=function(t){t&&(null!=this.actData?this.actData.updateData(t):(this.actData=new DianRankData(t),this.tips=this.actData.tips),this.updateRed())},t.prototype.updateRed=function(){this.redNum=this.FL35()},t.prototype.FL35=function(){var t=0;return t+=this.firstLoginRedNum},t.prototype.notify=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];i.prototype.notifyView.apply(this,[this].concat(t))},t}(TG79);__reflect(TF18.prototype,"TF18");var TF19=function(e){function t(t){return e.call(this,t)||this}return __extends(t,e),t.prototype.GT95=function(t){var e={type:P4.B45,body:{index:t}};this.rSMO(P4.B46,this.GT91,this),this.sSM(e)},t.prototype.GT91=function(t){this.apF(P2.A2,t)},t}(TG80);__reflect(TF19.prototype,"TF19");var TF20=function(){function t(){}return Object.defineProperty(t,"model",{get:function(){return App.CM.gtM(O6.B55)},enumerable:!0,configurable:!0}),t.getData=function(){return this.model.actData},t}();__reflect(TF20.prototype,"TF20");var DianRankItemView=function(e){function t(){var t=e.call(this)||this;return t.skinName=DianRankItemSkin,t.addEventListener(egret.Event.ADDED_TO_STAGE,t.open,t),t.addEventListener(egret.Event.REMOVED_FROM_STAGE,t.close,t),t}return __extends(t,e),t.prototype.open=function(){},t.prototype.close=function(){this.dataSource.removeAll()},t.prototype.childrenCreated=function(){e.prototype.createChildren.call(this),this.initUI()},t.prototype.initUI=function(){this.listContent.itemRenderer=ItemIcon,this.dataSource=new eui.ArrayCollection,this.listContent.dataProvider=this.dataSource},t.prototype.dataChanged=function(){this.dataSource.replaceAll(this.data.rewards);var t=App.CM.gtM(O6.B55).actData;if(this.imgRank.visible=0<this.data.minNum&&this.data.minNum<=3,this.imgRank.visible)switch(this.lbRank.text=null,this.data.minNum){case 1:this.imgRank.source="v1_fonts_di1m_png";break;case 2:this.imgRank.source="v1_fonts_2nd_png";break;case 3:this.imgRank.source="v1_fonts_di3m_png"}else this.imgRank.source="",this.lbRank.text=O3.tr(7521,this.data.minNum,this.data.maxNum);if(this.data.minNum==this.data.maxNum){this.grp.visible=!0;var e=t.playData[t.selectionType]?t.playData[t.selectionType][this.data.minNum]:null;if(e&&e.name)this.lbName.textFlow=M18.HTP.parser(O3.tr(7500,e.name)),this.lbPower.textFlow=M18.HTP.parser(O3.tr(7522,M18.FF65(e.power,1)));else{this.lbName.textFlow=M18.HTP.parser(O3.tr(7520));var i=t.promoteData[t.selectionType][this.data.minNum].power;this.lbPower.textFlow=M18.HTP.parser(O3.tr(7507,M18.FF65(i,1)))}}else this.grp.visible=!1},t}(eui.ItemRenderer);__reflect(DianRankItemView.prototype,"DianRankItemView");var DianRankView=function(o){function t(t,e){var i=o.call(this,t,e)||this;return i.views=[],i.numPage=3,i.nowPage=1,i.skinName=DianRankSkin,i}return __extends(t,o),t.prototype.initUI=function(){o.prototype.initUI.call(this),this.banner.source="com_banner_zhounianbh_jpg",this.lbStr1.textFlow=M18.HTP.parser(O3.tr(7504)),this.rankData.dataProvider=this.rankDataCollection=new eui.ArrayCollection,this.rankData.itemRenderer=DianRankItemView;var t=TF20.getData();for(var e in this.views=[],t.type)-1==this.views.indexOf(t.type[e])&&this.views.length<t.maxDay&&this.views.push(t.type[e]-1)},t.prototype.updateBtn=function(){var t=TF20.getData();this.btnGroup.numChildren&&this.btnGroup.removeChildren();for(var e=[],i=1;i<=this.views.length;i++)e.push(O3.tr(7501,M18.SectionToChinese(i)));for(i=1;i<=t.nowDay;i++)e[i-1]=O3.tr(7507+i);this.btnList=new ButtonList(e,this.views,this.ZQ23.bind(this)),this.btnList.init(BtnTab,F4.A1),this.btnList.setListGap(-10),this.btnList.$setY(-10),this.btnList.$setWidth(this.btnGroup.width),this.btnGroup.addChild(this.btnList),this.index&&this.btnList.setCurView(this.index-1)},t.prototype.ZQ23=function(t){var e=TF20.getData(),i=(TF20.getData(),this.views.indexOf(t)+1);if(i<=e.nowDay)this.index=e.selectionType=i,this.btnList.setCurView(t);else{var s=O3.tr(7501,M18.SectionToChinese(i));P18.sDP(s)}this.updateData(),this.GY14()},t.prototype.open=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];o.prototype.open.call(this);var i=App.CM.gtM(O6.B55);this.ZHH71(i),this.btnLeft.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickAlter,this),this.btnRight.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickAlter,this);var s=this.parent.getChildByName("contentImg");s&&(s.height=626)},t.prototype.onClickAlter=function(t){switch(t.target.name){case"-":this.btnLeft.filters||this.choosePage(-1);break;case"+":this.btnRight.filters||this.choosePage(1)}},t.prototype.btnState=function(){P16.sGF(this.btnLeft,!this.src.viewport.scrollV),this.btnLeft.enabled=!!this.src.viewport.scrollV,P16.sGF(this.btnRight,this.nowPage==this.allPage),this.btnRight.enabled=this.nowPage!=this.allPage},t.prototype.choosePage=function(t){var e=this.src.viewport;e.scrollV+=e.height*t,e.scrollV?this.nowPage=Math.ceil(e.scrollV/e.height)+1:this.nowPage=1,this.lbPages.text=this.nowPage+"/"+this.allPage,this.btnState()},t.prototype.uBM=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];o.prototype.uBM.call(this,t,e);var s=e[0];if(t instanceof TF18)switch(s){case P4.N58:case P4.R38:this.updateData(),this.updateBtn(),this.ZU70()}},t.prototype.updateData=function(){var t=TF20.getData();this.rankDataCollection.replaceAll(P7.copyTab(t.rewards[this.index])),t.rankNum&&0<t.rankNum[this.index]?this.lbRank.textFlow=M18.HTP.parser(O3.tr(7506,t.rankNum[this.index])):this.lbRank.textFlow=M18.HTP.parser(O3.tr(7505)),this.lbPromote.textFlow=M18.HTP.parser(O3.tr(7503,t.promote[this.index]?t.promote[this.index]:0))},t.prototype.ZHH71=function(t){var e=t.actData;this.updateBtn(),this.index||(this.ZQ23(e.nowDay-1),this.allPage=Math.ceil(e.rewards[this.index].length/this.numPage),this.choosePage(0)),this.ZU70()},t.prototype.ZU70=function(){var t=TF20.getData();this.timerHandler||(this.GY14(),this.timerHandler=App.K16.doTimer(1e3,t.getActivityOpenCD(),this.GY14,this))},t.prototype.GY14=function(){var t=TF20.getData(),e=TF20.model.actData.getActivityOpenCD();if(this.index==t.nowDay){var i=O3.tr(3253,P6.FJ11(1e3*e,5));this.cdLb.textFlow=M18.HTP.parser(i)}else this.cdLb.textFlow=M18.HTP.parser(O3.tr(7544));e<=0&&(this.cTH(),this.cdLb.textFlow=M18.HTP.parser(O3.tr(7544)))},t.prototype.cTH=function(){null!=this.timerHandler&&(App.K16.rBH(this.timerHandler),this.timerHandler=null)},t.prototype.close=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];o.prototype.close.call(this),this.cTH(),this.btnGroup.removeChildren(),this.index=null,this.btnLeft.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickAlter,this),this.btnRight.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickAlter,this);var i=this.parent.getChildByName("contentImg");i&&(i.height=665)},t}(BaseEuiView);__reflect(DianRankView.prototype,"DianRankView");var DianRankConfVo=function(){function t(t){this.rewards=[],this.initData(t)}return t.prototype.initData=function(t){if(t){var e=t.split(","),i=e[0].split("-");this.minNum=parseInt(i[0]),i[1]?this.maxNum=parseInt(i[1]):this.maxNum=parseInt(i[0]);for(var s=M18.FL28(e[1],";",":"),o=0;o<s.length;o++){var r=N12.gID(s[o][0]),n=TF59.FC9(r.quality),a={data:r,ct:parseInt(s[o][1]),texiao:n};this.rewards.push({itemData:a,isBottom:!1})}}},t}();__reflect(DianRankConfVo.prototype,"DianRankConfVo");var DianRankData=function(i){function t(t){var e=i.call(this,t)||this;return e.nowDay=1,e.maxDay=1,e.selectionType=1,e.updateData(t),e}return __extends(t,i),t.prototype.updateData=function(t){if(this.ZU63(t),!this.promoteData){this.promoteData={};for(var e=M18.FL28(this.more,"|","-"),i=0;i<e.length;i++){var s=e[i][1].split(";");for(var o in s){var r=new DianRankVo(s[o]);this.promoteData[e[i][0]]||(this.promoteData[e[i][0]]={});var n=s[o].split(":");this.promoteData[e[i][0]][n[0]]=r}}}if(!this.rewards){this.rewards={};var a=M18.FL28(this.reward,"&","#");for(i=0;i<a.length;i++){var h=a[i][1].split("|");for(var o in this.rewards[a[i][0]]=[],h){r=new DianRankConfVo(h[o]),n=h[o].split(":");this.rewards[a[i][0]].push(r)}}}if(t.dr)for(var o in t.dr){var p=t.dr[o];for(var l in this.rewards[o]=[],p){var c=new DianRankConfVo(p[l]);this.rewards[o].push(c)}}if(t.drk)for(var o in this.playData||(this.playData={}),t.drk){var u=t.drk[o];for(var l in this.playData[o]={},u){var d=new DianRankPlayVo(u[l]);this.playData[o][l]=d}}if(!this.type){this.type={};var v=M18.FL28(this.cost.split("|")[0],";",",");for(var o in v)this.type[v[o][0]]=parseInt(v[o][1])}if(this.nowDay=null==t.d?this.nowDay:t.d,this.maxDay=null==t.sd?this.maxDay:t.sd,t.me)for(var o in this.rankNum||(this.rankNum={}),t.me)this.rankNum[o]=t.me[o];if(t.ms)for(var o in this.promote||(this.promote={}),t.ms)this.promote[o]=t.ms[o];null!=t.cd&&(this.cd=t.cd,this.lastTime=P6.getTime(!0))},t.prototype.getActivityOpenCD=function(){var t=P6.getTime(!0)-this.lastTime,e=this.cd-t;return 0<e?e:0},t}(ActivityVo);__reflect(DianRankData.prototype,"DianRankData");var DianRankPlayVo=function(){function t(t){this.updateData(t)}return t.prototype.updateData=function(t){this.name=null==t.n?this.name:t.n,this.power=null==t.s?this.power:t.s,this.rank=null==t.r?this.rank:t.r},t}();__reflect(DianRankPlayVo.prototype,"DianRankPlayVo");var DianRankVo=function(){function t(t){this.initData(t)}return t.prototype.initData=function(t){if(t){var e=M18.FL28(t,":");this.index=parseInt(e[0]),this.power=parseInt(e[1])}},t}();__reflect(DianRankVo.prototype,"DianRankVo");var D12=function(){function t(){}return t.A2=10001,t.A1=10002,t}();__reflect(D12.prototype,"D12");var TB62=function(i){function t(){var t=i.call(this)||this,e=new TE45(t);return e.aLV(O7.HH64),e.aLV(O7.D12),e.aLV(O7.I64),e.aLV(O7.D14),App.VM.register(O7.HH64,"DoubleMatView",t,K17.UI_Main),t.rgF(D12.A2,t.GK61,t),t.rgF(D12.A1,t.GI66,t),t}return __extends(t,i),t.prototype.GK61=function(t){App.VM.open(O7.HH64,t);var e=App.CM.gtM(O6.B23);e.firstLoginRedNum=0,e.notify()},t.prototype.GI66=function(){App.VM.close(O7.HH64)},t}(TE11);__reflect(TB62.prototype,"TB62");var TE45=function(i){function t(t){var e=i.call(this,t)||this;return e.openState=!1,e.redNum=0,e.firstLoginRedNum=0,e}return __extends(t,i),t.prototype.ZC13=function(t){t&&(null!=this.actData?this.actData.updateData(t):(this.actData=new DoubleMatData(t),this.tips=this.actData.tips),this.updateRed())},t.prototype.updateRed=function(){this.redNum=this.FL35()},t.prototype.FL35=function(){var t=0;return t+=this.firstLoginRedNum},t.prototype.ZQ35=function(){},t.prototype.notify=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];i.prototype.notifyView.call(this,this,t)},t}(TG79);__reflect(TE45.prototype,"TE45");var DoubleMatView=function(s){function t(t,e){var i=s.call(this,t,e)||this;return i.sGN("release_act1060"),i.skinName="DoubleTreasureSkin",i}return __extends(t,s),t.prototype.initUI=function(){s.prototype.initUI.call(this),this.bgImg.source="v1_bg_honglihe9_png",this.btnGo.label=O3.tr(908),this.descGrp.visible=!1},t.prototype.open=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];s.prototype.open.call(this),this.btnGo.addEventListener(egret.TouchEvent.TOUCH_TAP,this.clickBtnGo,this)},t.prototype.clickBtnGo=function(){TG84.goToDlg({sLink:801})},t.prototype.uBM=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];s.prototype.uBM.call(this,t,e),t instanceof TE45&&this.ZC22(t)},t.prototype.ZC22=function(t){if(null==this.timerHandler)if(0<t.actData.rs){this.leftCD=t.actData.ZHH64();var e=O3.tr(3253,P6.FJ11(1e3*this.leftCD,5));this.leftCdLb.textFlow=M18.HTP.parse(e),this.timerHandler=App.K16.doTimer(1e3,this.leftCD,this.GY14,this)}else this.leftCdLb.text=""},t.prototype.GY14=function(){this.leftCD--;var t=O3.tr(3253,P6.FJ11(1e3*this.leftCD,5));this.leftCdLb.textFlow=M18.HTP.parse(t),this.leftCD<=0&&(this.cTH(),this.leftCdLb.text="")},t.prototype.cTH=function(){null!=this.timerHandler&&(App.K16.rBH(this.timerHandler),this.timerHandler=null)},t.prototype.close=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];s.prototype.close.call(this),this.cTH(),this.btnGo.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.clickBtnGo,this)},t}(BaseEuiView);__reflect(DoubleMatView.prototype,"DoubleMatView");var DoubleMatData=function(i){function t(t){var e=i.call(this,t)||this;return e.updateData(t),e}return __extends(t,i),t.prototype.updateData=function(t){t&&this.ZU63(t)},t}(ActivityVo);__reflect(DoubleMatData.prototype,"DoubleMatData");var A11=function(){function t(){}return t.A2=10001,t.A1=10002,t}();__reflect(A11.prototype,"A11");var TA32=function(i){function t(){var t=i.call(this)||this,e=new TB63(t);return e.aLV(O7.E27),e.aLV(O7.D12),e.aLV(O7.I64),App.VM.register(O7.E27,"DoubleTreasureView",t,K17.UI_Main),t.rgF(A11.A2,t.GD23,t),t.rgF(A11.A1,t.GC28,t),t}return __extends(t,i),t.prototype.GD23=function(t){App.VM.open(O7.E27,t);var e=App.CM.gtM(O6.A32);e.firstLoginRedNum=0,e.notify()},t.prototype.GC28=function(){App.VM.close(O7.E27)},t}(TE11);__reflect(TA32.prototype,"TA32");var TB63=function(i){function t(t){var e=i.call(this,t)||this;return e.openState=!1,e.redNum=0,e.firstLoginRedNum=0,e}return __extends(t,i),t.prototype.ZC13=function(t){t&&(null!=this.actData?this.actData.updateData(t):(this.actData=new DoubleTreasureData(t),this.tips=this.actData.tips),this.updateRed())},t.prototype.updateRed=function(){this.redNum=this.FL35()},t.prototype.FL35=function(){var t=0;return t+=this.firstLoginRedNum},t.prototype.ZQ35=function(){},t.prototype.notify=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];i.prototype.notifyView.call(this,this,t)},t}(TG79);__reflect(TB63.prototype,"TB63");var DoubleTreasureView=function(s){function t(t,e){var i=s.call(this,t,e)||this;return i.sGN("release_act1041"),i.skinName="DoubleTreasureSkin",i}return __extends(t,s),t.prototype.initUI=function(){s.prototype.initUI.call(this),this.descLb.textFlow=M18.HTP.parse(O3.tr(3814)),this.descLb2.textFlow=M18.HTP.parse(O3.tr(3815)),this.btnGo.label=O3.tr(3816)},t.prototype.open=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];s.prototype.open.call(this),this.btnGo.addEventListener(egret.TouchEvent.TOUCH_TAP,this.clickBtnGo,this)},t.prototype.clickBtnGo=function(){TG84.goToDlg({sLink:2001})},t.prototype.uBM=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];s.prototype.uBM.call(this,t,e),t instanceof TB63&&this.ZA54(t)},t.prototype.ZA54=function(t){if(null==this.timerHandler)if(0<t.actData.rs){this.leftCD=t.actData.ZHH64();var e=O3.tr(3253,P6.FJ11(1e3*this.leftCD,5));this.leftCdLb.textFlow=M18.HTP.parse(e),this.timerHandler=App.K16.doTimer(1e3,this.leftCD,this.GY14,this)}else this.leftCdLb.text=""},t.prototype.GY14=function(){this.leftCD--;var t=O3.tr(3253,P6.FJ11(1e3*this.leftCD,5));this.leftCdLb.textFlow=M18.HTP.parse(t),this.leftCD<=0&&(this.cTH(),this.leftCdLb.text="")},t.prototype.cTH=function(){null!=this.timerHandler&&(App.K16.rBH(this.timerHandler),this.timerHandler=null)},t.prototype.close=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];s.prototype.close.call(this),this.cTH(),this.btnGo.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.clickBtnGo,this)},t}(BaseEuiView);__reflect(DoubleTreasureView.prototype,"DoubleTreasureView");var DoubleTreasureData=function(i){function t(t){var e=i.call(this,t)||this;return e.updateData(t),e}return __extends(t,i),t.prototype.updateData=function(t){t&&this.ZU63(t)},t}(ActivityVo);__reflect(DoubleTreasureData.prototype,"DoubleTreasureData");var DoubleTreasureVo=function(t){this.id=t.id,this.type=t.type};__reflect(DoubleTreasureVo.prototype,"DoubleTreasureVo");var A14=function(){function t(){}return t.A2=10001,t.A1=10002,t.A8=10003,t.A7=10004,t.A3=10005,t.A4=10006,t.A5=10007,t.A6=10008,t}();__reflect(A14.prototype,"A14");var TA13=function(i){function t(){var t=i.call(this)||this,e=new TA60(t);return e.aLV(O7.B39),e.aLV(O7.HH72),e.aLV(O7.D12),e.aLV(O7.I64),e.aLV(O7.I85),App.VM.register(O7.B39,"FestivalRedPacketView",t,K17.UI_Main),t.rgF(A14.A2,t.GB15,t),t.rgF(A14.A1,t.GA80,t),App.VM.register(O7.HH72,"RedPacketView",t,K17.UI_Popup),t.rgF(A14.A8,t.GS13,t),t.rgF(A14.A7,t.GQ30,t),App.VM.register(O7.I72,"MayDayView",t,K17.UI_Popup),t.proxy=new TA61(t),t.rgF(A14.A3,t.GQ26,t),t.rgF(A14.A4,t.GQ27,t),t.rgF(A14.A5,t.GQ28,t),t.rgF(A14.A6,t.GQ29,t),t}return __extends(t,i),t.prototype.GQ26=function(t,e){this.proxy.GQ26(t,e)},t.prototype.GQ27=function(t){if(200==t.head.state){var e=t.body,i=this.gtM();i.ZC13(e),i.notify()}else App.CM.apF(O6.B87,L10.A4,t)},t.prototype.GQ28=function(t){this.proxy.GQ28(t)},t.prototype.GQ29=function(t){if(200==t.head.state){var e=t.body,i=this.gtM();i.ZC13(e),i.notify(),t.body.ob&&P5.sIs(t.body.ob)}else App.CM.apF(O6.B87,L10.A4,t)},t.prototype.GB15=function(){App.VM.open(O7.B39);var t=App.CM.gtM(O6.A11);t.firstLoginRedNum=0,t.notify()},t.prototype.GA80=function(){App.VM.close(O7.B39)},t.prototype.GS13=function(t,e){App.VM.open(O7.HH72,t,e),App.CM.gtM(O6.A11).notify()},t.prototype.GQ30=function(){App.VM.close(O7.HH72)},t}(TE11);__reflect(TA13.prototype,"TA13");var TA60=function(i){function t(t){var e=i.call(this,t)||this;return e.openState=!1,e.redNum=0,e.firstLoginRedNum=0,e}return __extends(t,i),t.prototype.ZC13=function(t){t&&(null!=this.data?this.data.updateData(t):(this.data=new FestivalRedPacketData(t),this.tips=this.data.tips),this.updateRed())},t.prototype.updateRed=function(){this.redNum=this.FL35()},t.prototype.FL35=function(){var t=0;if(t+=this.firstLoginRedNum,null!=this.data){var e=this.data.reds;for(var i in e)if(!e[i].isDraw&&!e[i].recordState()){t+=1;break}0<this.data.myRed.length&&(t+=1)}return t},t.prototype.notify=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];i.prototype.notifyView.call(this,this,t)},t}(TG79);__reflect(TA60.prototype,"TA60");var TA61=function(i){function t(t){var e=i.call(this,t)||this;return e.rSM(P4.V87,e.GQ27,e),e.rSM(P4.V89,e.GQ29,e),e}return __extends(t,i),t.prototype.GQ26=function(t,e){var i={type:P4.V86,body:{id:t,channel:e}};this.sSM(i)},t.prototype.GQ27=function(t){this.apF(A14.A4,t)},t.prototype.GQ28=function(t){var e={type:P4.V88,body:{id:t}};this.sSM(e)},t.prototype.GQ29=function(t){this.apF(A14.A6,t)},t}(TG80);__reflect(TA61.prototype,"TA61");var FestivalRedPacketView=function(s){function t(t,e){var i=s.call(this,t,e)||this;return i.skinName=FestivalRedPacketSkin,i}return __extends(t,s),t.prototype.initData=function(){s.prototype.initData.call(this),this.personSource=new eui.ArrayCollection,this.personList.dataProvider=this.personSource,this.personList.itemRenderer=RedPacketItemView,this.otherSource=new eui.ArrayCollection,this.otherList.dataProvider=this.otherSource,this.otherList.itemRenderer=RedPacketItemView,this.otherHeight=this.gpOther.height},t.prototype.initUI=function(){s.prototype.initUI.call(this),this.lbTitle.textFlow=M18.HTP.parse(O3.tr(5459)),this.lbSketch.textFlow=M18.HTP.parse(O3.tr(5460)),this.lbDes.textFlow=M18.HTP.parse(O3.tr(5461))},t.prototype.ZK4=function(){this.otherScroller.validateNow(),this.upOther.visible=!(this.otherScroller.viewport.scrollV<=0),this.otherScroller.viewport.contentHeight<=this.otherScroller.height?this.downOther.visible=!1:this.otherScroller.height+this.otherScroller.viewport.scrollV>=this.otherScroller.viewport.contentHeight?this.downOther.visible=!1:this.downOther.visible=!0},t.prototype.doUpOther=function(){var t=this.otherScroller.viewport.scrollV-(this.gpOther.height-20);this.otherScroller.viewport.scrollV=t<0?0:t,this.ZK4()},t.prototype.doDownOther=function(){var t=this.otherScroller.viewport.scrollV+(this.gpOther.height-20);t+this.otherScroller.height>=this.otherScroller.viewport.contentHeight?this.otherScroller.viewport.scrollV=this.otherScroller.viewport.contentHeight-this.otherScroller.height:this.otherScroller.viewport.scrollV=t,this.ZK4()},t.prototype.ZHH84=function(){this.personScroller.validateNow(),this.upPerson.visible=!(this.personScroller.viewport.scrollV<=0),this.personScroller.viewport.contentHeight<=this.personScroller.height?this.downPerson.visible=!1:this.personScroller.height+this.personScroller.viewport.scrollV>=this.personScroller.viewport.contentHeight?this.downPerson.visible=!1:this.downPerson.visible=!0},t.prototype.doUpPerson=function(){var t=this.personScroller.viewport.scrollV-(this.gpPerson.height-20);this.personScroller.viewport.scrollV=t<0?0:t,this.ZHH84()},t.prototype.doDownPerson=function(){var t=this.personScroller.viewport.scrollV+(this.gpPerson.height-20);t+this.personScroller.height>=this.personScroller.viewport.contentHeight?this.personScroller.viewport.scrollV=this.personScroller.viewport.contentHeight-this.personScroller.height:this.personScroller.viewport.scrollV=t,this.ZHH84()},t.prototype.open=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];s.prototype.open.call(this),this.personScroller.addEventListener(eui.UIEvent.CHANGE_END,this.ZHH84,this),this.upPerson.addEventListener(egret.TouchEvent.TOUCH_TAP,this.doUpPerson,this),this.downPerson.addEventListener(egret.TouchEvent.TOUCH_TAP,this.doDownPerson,this),this.otherScroller.addEventListener(eui.UIEvent.CHANGE_END,this.ZK4,this),this.upOther.addEventListener(egret.TouchEvent.TOUCH_TAP,this.doUpOther,this),this.downOther.addEventListener(egret.TouchEvent.TOUCH_TAP,this.doDownOther,this);var i=App.CM.gtM(O6.A11);this.GX5(i)},t.prototype.uBM=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];s.prototype.uBM.call(this,t,e),t instanceof TA60&&this.GX5(t)},t.prototype.GX5=function(t){this.leftCD=t.data.ZHH64();var e=P6.FJ11(1e3*this.leftCD,5);this.lbTime.textFlow=M18.HTP.parse(O3.tr(5462,e)),this._timerHandler=App.K16.doTimer(1e3,this.leftCD,this.GY14,this),this.ZU71(t),this.getOtherList(t)},t.prototype.GY14=function(){this.leftCD--;var t=P6.FJ11(1e3*this.leftCD,5);this.lbTime.textFlow=M18.HTP.parse(O3.tr(5462,t)),this.leftCD<=0&&(this.cTH(),this.lbTime.text="")},t.prototype.cTH=function(){null!=this._timerHandler&&(App.K16.rBH(this._timerHandler),this._timerHandler=null)},t.prototype.getOtherList=function(t){for(var e=t.data.reds,i=[],s=0;s<e.length;s++){var o={showType:1};o.canTake=e[s].canTake,o.id=e[s].id,o.time=e[s].time,o.content=e[s].content,o.chnl=e[s].chnl,o.name=e[s].name,o.type=e[s].type,o.state=e[s].recordState(),o.isDraw=e[s].isDraw,i.push(o)}this.otherSource.replaceAll(i),this.ZK4()},t.prototype.ZU71=function(t){var e=t.data.myRed;if(0!=e.length){this.gpOther.height=this.otherHeight,this.otherScroller.height=this.otherHeight-20,this.gpPerson.visible=!0,this.gpMiddle.visible=!0;for(var i=[],s=0;s<e.length;s++){var o={showType:0};o.canTake=e[s].canTake,o.id=e[s].id,o.time=e[s].time,o.content=e[s].content,i.push(o)}this.personSource.replaceAll(i),this.ZHH84()}else this.gpOther.height=this.gpMain.height,this.otherScroller.height=this.gpMain.height-20,this.gpPerson.visible=!1,this.gpMiddle.visible=!1},t.prototype.close=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];s.prototype.close.call(this),this.personScroller.removeEventListener(eui.UIEvent.CHANGE_END,this.ZHH84,this),this.upPerson.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.doUpPerson,this),this.downPerson.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.doDownPerson,this),this.otherScroller.removeEventListener(eui.UIEvent.CHANGE_END,this.ZK4,this),this.upOther.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.doUpOther,this),this.downOther.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.doDownOther,this),this.otherSource.removeAll(),this.personSource.removeAll()},t}(BaseEuiView);__reflect(FestivalRedPacketView.prototype,"FestivalRedPacketView");var MayDayView=function(s){function t(t,e){var i=s.call(this,t,e)||this;return i.skinName=MayDaySkin,i}return __extends(t,s),t.prototype.initUI=function(){s.prototype.initUI.call(this),this.lblTitle.textFlow=M18.HTP.parse(O3.tr(7545)),this.lblContent.textFlow=M18.HTP.parse(O3.tr(7546)),this.buyBtn.label=O3.tr(7547)},t.prototype.initData=function(){s.prototype.initData.call(this)},t.prototype.open=function(){this.buyBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.getAward,this),this.closeBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.closePage,this),this.bgMask.addEventListener(egret.TouchEvent.TOUCH_TAP,this.closePage,this)},t.prototype.uBM=function(t,e){s.prototype.uBM.call(this,t)},t.prototype.getAward=function(){window.mqq.invoke("ui","openUrl",{url:"https://mobile.qzone.qq.com/l?g=7579",target:1,style:1})},t.prototype.closePage=function(){App.VM.close(O7.I72)},t.prototype.close=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.lblTitle=null,this.lblContent=null,this.buyBtn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.getAward,this),this.closeBtn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.closePage,this),this.bgMask.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.closePage,this)},t}(BaseEuiView);__reflect(MayDayView.prototype,"MayDayView");var RedPacketIconView=function(e){function t(){var t=e.call(this)||this;return t.skinName=RedPacketIconSkin,t}return __extends(t,e),t.prototype.dataChanged=function(){e.prototype.dataChanged.call(this);var t=App.CM.gtM(O6.B82);this.lbName.text=this.data.name,this.lbTime.text=this.getTime(),this.lbMoney.text="×"+this.data.take.v,this.imgHead.source=this.data.icon,"good"==this.data.good?(this.lbGood.textFlow=M18.HTP.parse(O3.tr(5463)),this.lbGood.visible=!0,this.gpMoney.y=0,this.lbName.textColor=16448142):(t.avatarInfo.id==this.data.aid?this.lbName.textColor=16448142:this.lbName.textColor=15058860,this.lbGood.visible=!1,this.gpMoney.y=15),0==this.data.type?this.imgMoney.source="i75001_png":this.imgMoney.source="i75000_png"},t.prototype.getTime=function(){var t=new Date(this.data.time),e="";return t.getHours()<=9?e+="0"+t.getHours():e+=t.getHours(),e+=":",t.getMinutes()<=9?e+="0"+t.getMinutes():e+=t.getMinutes(),e+=":",t.getSeconds()<=9?e+="0"+t.getSeconds():e+=t.getSeconds(),e},t}(eui.ItemRenderer);__reflect(RedPacketIconView.prototype,"RedPacketIconView");var RedPacketItemView=function(e){function t(){var t=e.call(this)||this;return t.skinName=RedPacketItemSkin,t.addEventListener(egret.Event.ADDED_TO_STAGE,t.open,t),t.addEventListener(egret.Event.REMOVED_FROM_STAGE,t.close,t),t}return __extends(t,e),t.prototype.open=function(){this.getBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.ZU29,this),this.btnSelect.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onBtnSelect,this),this.lbType0.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onSelectText,this)},t.prototype.close=function(){this.getBtn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.ZU29,this),this.btnSelect.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onBtnSelect,this),this.lbType0.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onSelectText,this)},t.prototype.onSelectText=function(){var t=this.lbType0.text;this.lbType0.text=this.lbType.text,this.lbType.text=t;var e=this.lbType0.name;this.lbType0.name=this.lbType.name,this.lbType.name=e,this.gpType0.visible=!1,this.btnSelect.scaleY=.5,this.btnSelect.y=this.btnSelect.y-this.btnSelect.height/2,this.isSelect=!0},t.prototype.onBtnSelect=function(){this.isSelect?(this.gpType0.visible=!0,this.btnSelect.scaleY=-.5,this.btnSelect.y=this.btnSelect.y+this.btnSelect.height/2,this.isSelect=!1):(this.gpType0.visible=!1,this.btnSelect.scaleY=.5,this.btnSelect.y=this.btnSelect.y-this.btnSelect.height/2,this.isSelect=!0)},t.prototype.childrenCreated=function(){e.prototype.createChildren.call(this),this.initUI()},t.prototype.initUI=function(){this.isSelect=!0,this.lbType.textFlow=M18.HTP.parse(O3.tr(5464)),this.lbType0.textFlow=M18.HTP.parse(O3.tr(5465))},t.prototype.dataChanged=function(){e.prototype.dataChanged.call(this),0==this.data.showType?(this.getBtn.label=O3.tr(5467),this.lbName.visible=!1,this.imgWan.visible=!1,this.gpType.visible=!0,this.lbSendName.visible=!1,this.lbMoney.text=this.data.content.v+""):(this.data.isDraw?(this.getBtn.label=O3.tr(5466),this.imgKaiqi.visible=!0):(this.getBtn.label=O3.tr(5468),this.imgKaiqi.visible=!1),this.data.state?(this.getBtn.label=O3.tr(5466),this.imgWan.visible=!0,this.imgKaiqi.visible=!1):this.imgWan.visible=!1,0==this.data.type?(this.lbSendName.visible=!1,this.imgMoney.source="i75001_png",this.lbName.text=this.sendName=O3.tr(5469,this.getTime())):(this.lbSendName.visible=!0,this.lbSendName.text=this.data.name,this.sendName=O3.tr(5470,this.data.name),this.imgMoney.source="i75000_png",1==this.data.chnl?this.lbName.textFlow=M18.HTP.parse(O3.tr(5471)):2==this.data.chnl&&(this.lbName.textFlow=M18.HTP.parse(O3.tr(5472)))),this.lbMoney.text=this.data.content.v+"",this.lbName.visible=!0)},t.prototype.getTime=function(){var t=new Date(this.data.time),e="";return t.getHours()<=9?e+="0"+t.getHours():e+=t.getHours(),e+=":",t.getMinutes()<=9?e+="0"+t.getMinutes():e+=t.getMinutes(),e},t.prototype.ZU29=function(){0==this.data.showType?App.CM.apF(O6.A11,A14.A3,this.data.id,parseInt(this.lbType.name)):(this.data.isDraw||this.data.state||App.CM.apF(O6.A11,A14.A5,this.data.id),App.CM.apF(O6.A11,A14.A8,this.data.id,this.sendName))},t}(eui.ItemRenderer);__reflect(RedPacketItemView.prototype,"RedPacketItemView");var RedPacketView=function(s){function t(t,e){var i=s.call(this,t,e)||this;return i.skinName=RedPacketSkin,i}return __extends(t,s),t.prototype.initUI=function(){s.prototype.initUI.call(this);var t={render:RedPacketIconView,width:this.gpList.width,height:this.gpList.height,arrowScale:1};this.listView=new CommonListBase(t),this.gpList.addChild(this.listView),this.listView.verticalCenter=0,this.listView.horizontalCenter=0,this.lbDes.textFlow=M18.HTP.parse(O3.tr(5473)),this.lbResidue.textFlow=M18.HTP.parse(O3.tr(5474))},t.prototype.open=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];s.prototype.open.call(this),this.listView.open(),this.id=t[0]||"",this.lbNameTxt=t[1]||"",this.imgClose.addEventListener(egret.TouchEvent.TOUCH_TAP,this.oCC,this),this.bgMask.addEventListener(egret.TouchEvent.TOUCH_TAP,this.oCC,this);var i=App.CM.gtM(O6.A11);this.GX5(i)},t.prototype.oCC=function(){App.CM.apF(O6.A11,A14.A7)},t.prototype.uBM=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];s.prototype.uBM.call(this,t,e),t instanceof TA60&&this.GX5(t)},t.prototype.GX5=function(t){for(var e=t.data.reds,i=[],s=0,o=0;o<e.length;o++)if(this.id==e[o].id){for(var r=e[o].record,n=0;n<r.length;n++){var a={};a.aid=r[n].aid,a.name=r[n].name,a.icon=r[n].icon,a.time=r[n].time,a.take=r[n].take,a.type=e[o].type,r[n].take.v>s&&(s=r[n].take.v),i.push(a)}if(e[o].recordState())for(n=0;n<r.length;n++)s==r[n].take.v&&(i[n].good="good");this.lbName.text=this.lbNameTxt,e[o].canTake==r.length?(this.lbDes.visible=!0,this.lbNum.visible=!1,this.lbResult.visible=!1,this.lbResidue.visible=!1,this.imgMoney.visible=!1):(this.lbNum.textFlow=M18.HTP.parse(O3.tr(5476,e[o].left)),this.lbResult.textFlow=M18.HTP.parse(O3.tr(5475,e[o].canTake-r.length,e[o].canTake)),this.lbDes.visible=!1,this.lbNum.visible=!0,this.lbResult.visible=!0,this.lbResidue.visible=!0,this.imgMoney.visible=!0),0==e[o].type?(this.imgMoney.source="i75001_png",this.imgKuangb.visible=!1,this.imgHead.visible=!1):(this.imgMoney.source="i75000_png",this.imgHead.source=e[o].icon,this.imgKuangb.visible=!0,this.imgHead.visible=!0)}this.listView.rfL(i)},t.prototype.close=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];s.prototype.close.call(this),this.listView.close(),this.imgClose.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.oCC,this),this.bgMask.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.oCC,this)},t}(BaseEuiView);__reflect(RedPacketView.prototype,"RedPacketView");var FestivalRedPacketData=function(i){function t(t){var e=i.call(this,t)||this;return e.updateData(t),e}return __extends(t,i),t.prototype.updateData=function(t){if(t){if(t.reds){for(var e in null!=this.reds&&0<this.reds.length&&this.reds.splice(0,this.reds.length),this.reds=[],t.reds)if(0==t.reds[e].chnlId||this.isLegionId(t.reds[e].chnlId)){var i=new RedPacketConfVo(t.reds[e]);this.reds.push(i)}this.redsSort()}if(t.udpRed){this.udpRed=new RedPacketConfVo(t.udpRed);for(e=0;e<this.reds.length;e++)if(this.udpRed.id==this.reds[e].id){this.reds.splice(e,1),this.reds.push(this.udpRed),this.redsSort();break}}if(t.newRed&&(0==t.newRed.chnlId||this.isLegionId(t.newRed.chnlId))&&(this.newRed=new RedPacketConfVo(t.newRed),this.reds.unshift(this.newRed)),t.rmvRed){this.rmvRed=t.rmvRed;for(e=0;e<this.reds.length;e++)if(this.rmvRed==this.reds[e].id){this.reds.splice(e,1);break}}if(t.myRed){for(var e in null==this.myRed&&(this.myRed=[]),t.myRed){i=new RedPacketConfVo(t.myRed[e]);this.myRed.push(i)}this.myRed.sort(function(t,e){return e.time-t.time})}if(t.myRmv){this.myRmv=t.myRmv;for(e=0;e<this.myRed.length;e++)if(this.myRmv==this.myRed[e].id){this.myRed.splice(e,1);break}}this.ZU63(t)}},t.prototype.isLegionId=function(t){var e=App.CM.gtM(O6.B89);return!!e.myLegion.legion&&e.myLegion.legion.id==t},t.prototype.redsSort=function(){this.reds.sort(function(t,e){return t.isDraw&&e.isDraw||t.recordState()&&e.recordState()?e.time-t.time:t.isDraw||t.recordState()?1:-1})},t}(ActivityVo);__reflect(FestivalRedPacketData.prototype,"FestivalRedPacketData");var ReceiverRedPacketVo=function(t){this.aid=t.aid,this.name=t.name,this.icon=t.icon,this.time=t.time,this.take=t.take};__reflect(ReceiverRedPacketVo.prototype,"ReceiverRedPacketVo");var RedPacketConfVo=function(){function t(t){this.id=t.id,this.type=t.t,this.chnl=t.chnl,this.chnlId=t.chnlId,this.name=t.name,this.icon=t.icon,this.time=t.time,this.canTake=t.canTake,this.left=t.left,this.content=t.content;var e=App.CM.gtM(O6.B82);this.updateData(t,e.avatarInfo.id)}return t.prototype.updateData=function(t,e){if(t.record){for(var i in null!=this.record&&0<this.record.length&&this.record.splice(0,this.record.length),this.record=[],this.isDraw=!1,t.record){this.isDraw||(this.isDraw=e==t.record[i].aid);var s=new ReceiverRedPacketVo(t.record[i]);this.record.push(s)}this.record.sort(function(t,e){return e.time-t.time})}},t.prototype.recordState=function(){return this.canTake==this.record.length},t}();__reflect(RedPacketConfVo.prototype,"RedPacketConfVo");var K9=function(){function t(){}return t.A2=0,t.A1=1,t}();__reflect(K9.prototype,"K9");var TC58=function(i){function t(){var t=i.call(this)||this,e=new TF66(t);return e.aLV(O7.G91),e.aLV(O7.D12),e.aLV(O7.I64),App.VM.register(O7.G91,"GiftBoxView",t,K17.UI_Main),t.rgF(K9.A2,t.GO29,t),t.rgF(K9.A1,t.GM33,t),t}return __extends(t,i),t.prototype.GO29=function(t){App.VM.open(O7.G91,t);var e=App.CM.gtM(O6.B69);e.firstLoginRedNum=0,e.notify()},t.prototype.GM33=function(){App.VM.close(O7.G91)},t}(TE11);__reflect(TC58.prototype,"TC58");var TF66=function(i){function t(t){var e=i.call(this,t)||this;return e.openState=!1,e.redNum=0,e.firstLoginRedNum=0,e}return __extends(t,i),t.prototype.ZC13=function(t){t&&(null!=this.actData?this.actData.updateData(t):(this.actData=new GiftBoxData(t),this.tips=this.actData.tips),this.updateRed())},t.prototype.updateRed=function(){this.redNum=this.FL35()},t.prototype.FL35=function(){var t=0;return t+=this.firstLoginRedNum},t.prototype.ZQ35=function(){},t.prototype.notify=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];i.prototype.notifyView.call(this,this,t)},t}(TG79);__reflect(TF66.prototype,"TF66");var GiftBoxView=function(s){function t(t,e){var i=s.call(this,t,e)||this;return i.sGN("release_act1101"),i.skinName="GiftBoxSkin",i}return __extends(t,s),t.prototype.initUI=function(){s.prototype.initUI.call(this),this.lblhuodong.textFlow=M18.HTP.parse(O3.tr(3828))},t.prototype.open=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];s.prototype.open.call(this)},t.prototype.uBM=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];s.prototype.uBM.call(this,t,e),t instanceof TF66&&this.ZD60(t)},t.prototype.ZD60=function(t){if(this.descLb.textFlow=M18.HTP.parse(O3.tr(3829,t.actData.desc)),null==this.timerHandler)if(0<t.actData.rs){this.leftCD=t.actData.ZHH64();var e=O3.tr(3253,P6.FJ11(1e3*this.leftCD,5));this.leftCdLb.textFlow=M18.HTP.parse(e),this.timerHandler=App.K16.doTimer(1e3,this.leftCD,this.GY14,this)}else this.leftCdLb.text=""},t.prototype.GY14=function(){this.leftCD--;var t=O3.tr(3253,P6.FJ11(1e3*this.leftCD,5));this.leftCdLb.textFlow=M18.HTP.parse(t),this.leftCD<=0&&(this.cTH(),this.leftCdLb.text="")},t.prototype.cTH=function(){null!=this.timerHandler&&(App.K16.rBH(this.timerHandler),this.timerHandler=null)},t.prototype.close=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];s.prototype.close.call(this),this.cTH()},t}(BaseEuiView);__reflect(GiftBoxView.prototype,"GiftBoxView");var GiftBoxData=function(i){function t(t){var e=i.call(this,t)||this;return e.reds=[],e.updateData(t),e}return __extends(t,i),t.prototype.updateData=function(t){t&&this.ZU63(t)},t}(ActivityVo);__reflect(GiftBoxData.prototype,"GiftBoxData");var GiftBoxVo=function(t){this.id=t.id,this.type=t.type};__reflect(GiftBoxVo.prototype,"GiftBoxVo");var TF21=function(){function e(){}return e.FK35=function(t){e.init=t.jinzhu_init,e.goldPig=t.jinzhu_jinzhu,e.rank=t.jinzhu_rank,e.grow=t.jinzhu_grow},e.gIV=function(t){return e.init[t].value},e.FA80=function(t){return e.goldPig[t]},e.FJ26=function(){return e.grow},e.FC10=function(t){return e.grow[t]},e.FJ27=function(){return e.rank},e.FF78=function(){return e.goldPig},e}();__reflect(TF21.prototype,"TF21");var K14=function(){function t(){}return t.A5=1,t.A6=2,t.A7=3,t.A8=4,t.A17=5,t.A18=6,t.A3=7,t.A4=8,t.A1=9,t.A2=10,t.A9=11,t.A10=12,t.A11=13,t.A12=14,t.A15=15,t.A16=16,t.A13=17,t.A14=18,t.A21=100,t.A22=101,t.A27=102,t.A28=103,t.A25=104,t.A26=105,t.A23=106,t.A24=107,t.A19=108,t.A20=109,t}();__reflect(K14.prototype,"K14");var GoldPigPos={1:[{x:148,y:138,scale:1}],2:[{x:78,y:119,scale:1},{x:260,y:140,scale:.8},{x:345,y:47,scale:1}],3:[{x:78,y:119,scale:1},{x:260,y:140,scale:.8},{x:345,y:47,scale:1},{x:46,y:9,scale:1}],4:[{x:78,y:119,scale:1},{x:260,y:140,scale:.8},{x:345,y:47,scale:1},{x:46,y:9,scale:1}],5:[{x:24,y:32,scale:1},{x:78,y:119,scale:1},{x:260,y:146,scale:1},{x:379,y:89,scale:1},{x:345,y:3,scale:1}],6:[{x:24,y:32,scale:1},{x:78,y:119,scale:1},{x:260,y:146,scale:1},{x:379,y:89,scale:1},{x:345,y:3,scale:1}]},GoldPigEffName={1:"wdsg_xnz_dh_001",2:"wdsg_sjdnz_001",3:"wdsg_ztbbt_003",4:"wdsg_hi_zz_001",5:"wdsg_pdz_dzz_001",6:"wdsg_xnklz_s_001"},TC59=function(e){function t(){var t=e.call(this)||this;return t.proxy=new TF68(t),new TF67(t).aLV(O7.I51),t.rgF(K14.A7,t.GQ24,t),t.rgF(K14.A8,t.GQ25,t),t.rgF(K14.A3,t.GU7,t),t.rgF(K14.A4,t.GU8,t),t.rgF(K14.A11,t.GX1,t),t.rgF(K14.A12,t.GX2,t),t.rgF(K14.A9,t.GS3,t),t.rgF(K14.A10,t.GS4,t),t.rgF(K14.A5,t.GS5,t),t.rgF(K14.A6,t.GS6,t),t.rgF(K14.A17,t.GS7,t),t.rgF(K14.A18,t.GS8,t),t.rgF(K14.A15,t.GO23,t),t.rgF(K14.A16,t.GO24,t),t.rgF(K14.A1,t.GM28,t),t.rgF(K14.A2,t.GM29,t),t.rgF(K14.A13,t.GS9,t),t.rgF(K14.A14,t.GS10,t),App.VM.register(O7.B2,"GoldPigStageRewardView",t,K17.UI_Main_TOP),t.rgF(K14.A21,t.GS11,t),t.rgF(K14.A22,t.GS12,t),App.VM.register(O7.G26,"GoldPigRankView",t,K17.UI_Main_TOP),t.rgF(K14.A27,t.GX3,t),t.rgF(K14.A28,t.GX4,t),App.VM.register(O7.F31,"GoldPigStageView",t,K17.UI_Main_TOP),t.rgF(K14.A25,t.GV60,t),t.rgF(K14.A26,t.GV61,t),App.VM.register(O7.E49,"GoldPigRecordView",t,K17.UI_Main_TOP),t.rgF(K14.A23,t.GU3,t),t.rgF(K14.A24,t.GU4,t),App.VM.register(O7.C7,"GoldPigShowRewardView",t,K17.UI_Main_TOP),t.rgF(K14.A19,t.GO30,t),t.rgF(K14.A20,t.GO31,t),t}return __extends(t,e),t.prototype.GQ24=function(t){this.gtM().curFriend=t,this.proxy.ZG22(t)},t.prototype.GQ25=function(t){if(200==t.head.state){var e=this.gtM();e.ZU64(t.body),e.notify(P4.M30)}else App.CM.apF(O6.B87,L10.A4,t)},t.prototype.GU7=function(t){var e=this.gtM();this.proxy.ZK1(t,e.curFriend)},t.prototype.GU8=function(t){if(200==t.head.state){var e=this.gtM();e.ZU64(t.body),e.notify(P4.K17)}else App.CM.apF(O6.B87,L10.A4,t)},t.prototype.GX1=function(t){this.proxy.ZQ62(t)},t.prototype.GX2=function(t){this.GQ12(t,P4.O39)},t.prototype.GS3=function(){this.proxy.ZHH79()},t.prototype.GS4=function(t){this.GQ12(t,P4.M32)},t.prototype.GS5=function(){this.proxy.ZHH80()},t.prototype.GS6=function(t){this.GQ12(t,P4.M28)},t.prototype.GS7=function(){var t=this.gtM();t.curFriend&&this.proxy.ZHH81(t.curFriend)},t.prototype.GS8=function(t){if(200==t.head.state){var e=this.gtM();e.ZU64(t.body),e.notify(P4.T68)}else App.CM.apF(O6.B87,L10.A4,t)},t.prototype.GO23=function(t){var e=this.gtM(),i=e.curFriend?e.curFriend:O4.getAid();e.curInspect=t,this.proxy.ZE74(i,t)},t.prototype.GO24=function(t){var e=this.gtM();if(e.curFriend&&this.apF(K14.A7,e.curFriend),200!=t.head.state)return e.curInspect=null,void App.CM.apF(O6.B87,L10.A4,t);e.curFriend?e.ZU64(t.body):e.ZC13(t.body),e.notify(P4.Q36)},t.prototype.GM28=function(t){this.proxy.ZD57(t)},t.prototype.GM29=function(t){this.GQ12(t,P4.I43)},t.prototype.GS9=function(){this.proxy.ZD58()},t.prototype.GS10=function(t){this.GQ12(t,P4.O41)},t.prototype.GQ12=function(t,e){var i=this.gtM();return 200!=t.head.state?(App.CM.apF(O6.B87,L10.A4,t),!1):(t.body.ob&&(e==P4.I43?this.GO30(t.body.ob,1):e==P4.M32?this.GO30(t.body.ob,2):P5.sIs(t.body.ob)),i.ZC13(t.body),e&&i.notify(e),!0)},t.prototype.GS11=function(){App.VM.open(O7.B2)},t.prototype.GS12=function(){App.VM.close(O7.B2)},t.prototype.GX3=function(){App.VM.open(O7.G26)},t.prototype.GX4=function(){App.VM.close(O7.G26)},t.prototype.GV60=function(){App.VM.open(O7.F31)},t.prototype.GV61=function(){App.VM.close(O7.F31)},t.prototype.GU3=function(){App.VM.open(O7.E49)},t.prototype.GU4=function(){App.VM.close(O7.E49)},t.prototype.GO30=function(t,e){App.VM.open(O7.C7,t,e)},t.prototype.GO31=function(){App.VM.close(O7.C7)},t}(TE11);__reflect(TC59.prototype,"TC59");var TF67=function(i){function t(t){var e=i.call(this,t)||this;return e.openState=!1,e.redNum=0,e.firstLoginRedNum=0,e}return __extends(t,i),t.prototype.ZC13=function(t){t&&(null!=this.actData?(this.actData.updateData(t),this.actData.isFriend=!1):(this.actData=new GoldPigData(t),this.tips=this.actData.tips),this.updateRed())},t.prototype.updateRed=function(){this.redNum=this.FL35()},t.prototype.FL35=function(){if(0<this.firstLoginRedNum)return 1;if(this.actData){if(1==this.actData.dayAwardStage)return 1;var t=this.actData.ZHH82();if(0<t&&t!=this.actData.level+1)return 1;for(var e in this.actData.growList)if(0==this.actData.growList[e].state)return 1}return 0},t.prototype.ZU64=function(t){null!=this.friendData?this.friendData.updateData(t):this.friendData=new ChristmasData(t),this.friendData.isFriend=!0},t.prototype.clearFriend=function(){this.friendData=null,this.curFriend=null},t.prototype.notify=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];i.prototype.notifyView.apply(this,[this].concat(t))},t}(TG79);__reflect(TF67.prototype,"TF67");var TF68=function(i){function t(t){var e=i.call(this,t)||this;return e.rSM(P4.M30,e.GQ25,e),e.rSM(P4.K17,e.GU8,e),e.rSM(P4.O39,e.GX2,e),e.rSM(P4.M32,e.GS4,e),e.rSM(P4.M28,e.GS6,e),e.rSM(P4.T68,e.GS8,e),e.rSM(P4.Q36,e.GO24,e),e.rSM(P4.I43,e.GM29,e),e.rSM(P4.O41,e.GS10,e),e}return __extends(t,i),t.prototype.ZG22=function(t){var e={type:P4.M29,body:{target:t}};this.sSM(e)},t.prototype.GQ25=function(t){this.apF(K14.A8,t)},t.prototype.ZK1=function(t,e){var i={type:P4.K16,body:{target:e,gid:t}};this.sSM(i)},t.prototype.GU8=function(t){this.apF(K14.A4,t)},t.prototype.ZQ62=function(t){var e={type:P4.O38,body:{gid:t}};this.sSM(e)},t.prototype.GX2=function(t){this.apF(K14.A12,t)},t.prototype.ZHH79=function(){var t={type:P4.M31,body:{}};this.sSM(t)},t.prototype.GS4=function(t){this.apF(K14.A10,t)},t.prototype.ZHH80=function(){var t={type:P4.M27,body:{}};this.sSM(t)},t.prototype.GS6=function(t){this.apF(K14.A6,t)},t.prototype.ZHH81=function(t){var e={type:P4.T67,body:{target:t}};this.sSM(e)},t.prototype.GS8=function(t){this.apF(K14.A18,t)},t.prototype.ZE74=function(t,e){var i={type:P4.Q35,body:{target:t,lid:e}};this.sSM(i)},t.prototype.GO24=function(t){this.apF(K14.A16,t)},t.prototype.ZD57=function(t){var e={type:P4.I42,body:{stage:t}};this.sSM(e)},t.prototype.GM29=function(t){this.apF(K14.A2,t)},t.prototype.ZD58=function(){var t={type:P4.O40,body:{}};this.sSM(t)},t.prototype.GS10=function(t){this.apF(K14.A14,t)},t}(TG80);__reflect(TF68.prototype,"TF68");var GoldPigRankView=function(s){function t(t,e){var i=s.call(this,t,e)||this;return i.skinName=ChristmasRankSkin,i}return __extends(t,s),t.prototype.initUI=function(){s.prototype.initUI.call(this),this.dlg.ZM69(this.closeSelf.bind(this),this),this.dlg.setOKHandler(this.closeSelf.bind(this),this),this.dlg.title=O3.tr(5489);var t={render:ItemChristmasRank,gap:5,width:this.gpList.width,height:this.gpList.height,arrowScale:1};this.listView=new CommonListBase(t),this.gpList.addChild(this.listView),this.listView.verticalCenter=0,this.listView.horizontalCenter=0},t.prototype.open=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];s.prototype.open.call(this);var i=App.CM.gtM(O6.B77);this.ZN10(i)},t.prototype.uBM=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];s.prototype.uBM.call(this,t,e),t instanceof TF67&&this.ZN10(t)},t.prototype.ZN10=function(t){var e=[],i=TF21.FJ27(),s=1,o=App.CM.gtM(O6.C19);for(var r in o.rankList){var n={name:(a=o.rankList[r]).sName,rank:a.nRank,reward:i[a.nRank].award};e.push(n),s++}for(var r in i){var a=i[r];if(parseInt(r)>=s){n={rank:a.rank,reward:a.award};e.push(n)}}this.listView.rfL(e),this.lbMyRank.textFlow=M18.HTP.parser(O3.tr(5477,o.myRankList.nRank)),this.lbTip.textFlow=M18.HTP.parser(O3.tr(5478))},t.prototype.close=function(){s.prototype.close.call(this)},t.prototype.closeSelf=function(){App.CM.apF(O6.B77,K14.A28)},t}(BaseEuiView);__reflect(GoldPigRankView.prototype,"GoldPigRankView");var GoldPigRecordView=function(s){function t(t,e){var i=s.call(this,t,e)||this;return i.skinName=ChristmasRecordSkin,i}return __extends(t,s),t.prototype.initUI=function(){s.prototype.initUI.call(this),this.dlg.ZM69(this.closeSelf.bind(this),this),this.dlg.setOKHandler(this.closeSelf.bind(this),this),this.dlg.title=O3.tr(5492),this.dlg.strBtnOK=O3.tr(5894);var t={render:ItemChristmasRecord,gap:0,width:this.gpList.width,height:this.gpList.height,arrowScale:1};this.listView=new CommonListBase(t),this.gpList.addChild(this.listView),this.listView.verticalCenter=0,this.listView.horizontalCenter=0},t.prototype.open=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];s.prototype.open.call(this);var i=App.CM.gtM(O6.B77);this.ZN10(i)},t.prototype.uBM=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];s.prototype.uBM.call(this,t,e),t instanceof TF67&&this.ZN10(t)},t.prototype.ZN10=function(t){if(t.actData.recordList){var e=10<t.actData.recordList.length?t.actData.recordList.length-10:0,i=t.actData.recordList.splice(e,10);this.listView.rfL(i)}},t.prototype.close=function(){s.prototype.close.call(this)},t.prototype.closeSelf=function(){App.CM.apF(O6.B77,K14.A24)},t}(BaseEuiView);__reflect(GoldPigRecordView.prototype,"GoldPigRecordView");var GoldPigShowRewardView=function(o){function t(t,e){var i=o.call(this,t,e)||this;return i.skinName=GoldPigShowAwardSkin,i}return __extends(t,o),t.prototype.initUI=function(){o.prototype.initUI.call(this),this.dlg.ZM69(this.closeSelf.bind(this),this),this.dlg.setOKHandler(this.closeSelf.bind(this),this),this.dlg.title=O3.tr(5493),this.itemCollection=new eui.ArrayCollection,this.dgAward.dataProvider=this.itemCollection,this.dgAward.itemRenderer=ItemIcon,this.dlg.strBtnOK=O3.tr(3234)},t.prototype.open=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(o.prototype.open.call(this),this.ob=t[0],1==t[1]){var i=App.CM.gtM(O6.B77).actData,s=TF21.FA80(i.level);this.lbTitle.textFlow=M18.HTP.parser(O3.tr(6512,s.name))}else this.lbTitle.text=O3.tr(6566);this.ZN10()},t.prototype.uBM=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];o.prototype.uBM.call(this,t,e),t instanceof TF67&&this.ZN10()},t.prototype.ZN10=function(){var t=[];for(var e in this.ob){var i=this.ob[e],s={data:N12.gID(i.k),ct:i.v};t.push({itemData:s,isBottom:!1,scale:1})}this.itemCollection.replaceAll(t)},t.prototype.close=function(){o.prototype.close.call(this),P5.sIs(this.ob)},t.prototype.closeSelf=function(){App.CM.apF(O6.B77,K14.A20)},t}(BaseEuiView);__reflect(GoldPigShowRewardView.prototype,"GoldPigShowRewardView");var GoldPigStageRewardView=function(s){function t(t,e){var i=s.call(this,t,e)||this;return i.skinName=ChristmasStageRewardSkin,i}return __extends(t,s),t.prototype.initUI=function(){s.prototype.initUI.call(this),this.dlg.ZM69(this.closeSelf.bind(this),this),this.dlg.setOKHandler(this.closeSelf.bind(this),this),this.dlg.title=O3.tr(5493),this.dlg.strBtnOK=O3.tr(5894),this.itemCollection=new eui.ArrayCollection,this.dgReward.dataProvider=this.itemCollection,this.dgReward.itemRenderer=ItemIcon},t.prototype.open=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];s.prototype.open.call(this);var i=App.CM.gtM(O6.B77);this.ZN10(i)},t.prototype.uBM=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];s.prototype.uBM.call(this,t,e),t instanceof TF67&&this.ZN10(t)},t.prototype.ZN10=function(t){var e=t.actData,i=TF21.FA80(e.level+1);this.lbTip.textFlow=M18.HTP.parser(O3.tr(6512,i.name));var s=M18.FL28(i.award,";",":"),o=[];for(var r in s){var n=s[r],a={data:N12.gID(n[0]),ct:n[1]};o.push({itemData:a,isBottom:!1,scale:1})}this.itemCollection.replaceAll(o)},t.prototype.close=function(){s.prototype.close.call(this)},t.prototype.closeSelf=function(){App.CM.apF(O6.B77,K14.A22)},t}(BaseEuiView);__reflect(GoldPigStageRewardView.prototype,"GoldPigStageRewardView");var GoldPigStageView=function(s){function t(t,e){var i=s.call(this,t,e)||this;return i.skinName=ChristmasStageSkin,i}return __extends(t,s),t.prototype.initUI=function(){s.prototype.initUI.call(this),this.dlg.ZM69(this.closeSelf.bind(this),this),this.dlg.setOKHandler(this.closeSelf.bind(this),this),this.dlg.title=O3.tr(6513);var t={render:ItemChristmasStage,gap:5,width:this.gpList.width,height:this.gpList.height,arrowScale:1};this.listView=new CommonListBase(t),this.gpList.addChild(this.listView),this.listView.verticalCenter=0,this.listView.horizontalCenter=0},t.prototype.open=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];s.prototype.open.call(this);var i=App.CM.gtM(O6.B77);this.ZN10(i)},t.prototype.uBM=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];s.prototype.uBM.call(this,t,e),t instanceof TF67&&this.ZN10(t)},t.prototype.ZN10=function(t){var e=t.actData.getStageList();this.listView.rfL(e)},t.prototype.close=function(){s.prototype.close.call(this)},t.prototype.closeSelf=function(){App.CM.apF(O6.B77,K14.A26)},t}(BaseEuiView);__reflect(GoldPigStageView.prototype,"GoldPigStageView");var GoldPigView=function(o){function t(t,e){var i=o.call(this,t,e)||this;return i.sGN("release_act1097"),i.skinName=GoldPigSkin,i}return __extends(t,o),t.prototype.initUI=function(){o.prototype.initUI.call(this);var t={render:ItemChristmasLb,horizontalGap:75,verticalGap:0,width:this.gpLb.width,height:this.gpLb.height,arrowScale:1,tileLayout:!0};this.listView=new CommonListBase(t),this.gpLb.addChild(this.listView),this.listView.verticalCenter=0,this.listView.horizontalCenter=0;var e={render:ItemGoldPigFriend,gap:5,width:this.gpFriend.width,height:this.gpFriend.height,arrowScale:1};this.friendList=new CommonListBase(e),this.gpFriend.addChild(this.friendList),this.friendList.verticalCenter=0,this.friendList.horizontalCenter=0,App.CM.apF(O6.B77,K14.A5),this.btnRank.label=O3.tr(5489),this.lb1.text=O3.tr(5488),this.btnTreeRecord.label=O3.tr(5492),this.lbFriend.text=O3.tr(6569)},t.prototype.open=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];o.prototype.open.call(this),this.isShowLeft=!1,this.gpLeft.left=-223,this.gpFriendBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.ZU66,this),this.btnGoHome.addEventListener(egret.TouchEvent.TOUCH_TAP,this.ZU67,this),this.btnStageAward.addEventListener(egret.TouchEvent.TOUCH_TAP,this.ZG23,this),this.btnRank.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickRank,this),this.btnLadyBug.addEventListener(egret.TouchEvent.TOUCH_TAP,this.ZQ65,this),this.btnTime.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickStage,this),this.btnTreeRecord.addEventListener(egret.TouchEvent.TOUCH_TAP,this.ZU49,this),this.resetBubble();var i=App.CM.gtM(O6.B77);this.ZN10(i)},t.prototype.resetBubble=function(){this.showTask=[];for(var t=1;t<=6;t++)this["bubble"+t].visible=!1},t.prototype.uBM=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];o.prototype.uBM.call(this,t,e);var s=e[0];if(t instanceof TF67){switch(s){case P4.O41:App.CM.apF(O6.B77,K14.A23);break;case P4.M28:this.friendList.rfL(t.actData.friendList);break;case P4.Q36:return void this.ZU65(t);case P4.R38:this.resetBubble()}this.ZN10(t)}t instanceof THH11&&this.ZHH63(t)},t.prototype.ZN10=function(t){var i=null!=t.friendData?t.friendData:t.actData;if(null!=this.isFriend&&this.isFriend!=i.isFriend||t.curFriend&&t.curFriend!=this.curFriend){for(var e=1;e<=6;e++)this["bubble"+e].setData(null,i.isFriend),this["bubble"+e].visible=!1;this.showTask.splice(0,this.showTask.length)}this.isFriend=i.isFriend,this.curFriend=t.curFriend;var s=TF21.FA80(i.level);if(this.curPigEffect!=GoldPigEffName[i.level]&&(this.curPigEffect&&App.THH32.rEf(this.gpPig,this.curPigEffect),this.curPigEffect=GoldPigEffName[i.level],App.THH32.aUE(this.gpPig,this.curPigEffect,this.gpPig.width/2,this.gpPig.height/2,null,null,null,null,null,"Animation1",!0)),i.isFriend)this.gpBar.visible=!1,this.btnGoHome.visible=!0,this.btnLadyBug.visible=!0,this.btnTreeRecord.visible=!1,this.finger&&(this.gpFinger.removeChild(this.finger),this.finger=null);else{1==i.dayAward&&App.CM.apF(O6.B77,K14.A9),this.gpBar.visible=!0;var o=i.ZHH82();this.btnStageAward.visible=0<o,P7.FD53(this.btnStageAward,o!=i.level+1?1:0),this.proBar.maximum=s.growth,s.growth<0?(this.proBar.maximum=100,this.proBar.value=100,this.proBar.labelFunction=function(t,e){return i.exp.toString()}):this.proBar.value=i.exp,this.lbStage.text=s.name,this.btnGoHome.visible=!1,this.btnLadyBug.visible=!1,this.btnTreeRecord.visible=!0}for(var r in this.setGrowList(t),i.growList){var n=i.growList[r],a=this.showTask.indexOf(n.gId);if(n.getState==J13.A2&&0<=a)for(e=1;e<=6;e++){(p=this["bubble"+e].getId())==n.gId&&(this["bubble"+e].setData(null,i.isFriend),this["bubble"+e].visible=!1,this.showTask.splice(a,1))}}for(var r in i.growList){n=i.growList[r],a=this.showTask.indexOf(n.gId);if(n.getState==J13.A3&&a<0){e=1;for(e=1;e<=6;e++){if(!this["bubble"+e].visible){this["bubble"+e].setData(n,i.isFriend),this["bubble"+e].visible=!0,this.showTask.push(n.gId);break}if(this["bubble"+e].isGray){var h=this.showTask[this["bubble"+e].getId()];this["bubble"+e].setData(n,i.isFriend),this["bubble"+e].visible=!0,this.showTask[h]=n.gId;break}}}}for(var r in i.growList){n=i.growList[r],a=this.showTask.indexOf(n.gId);if(n.getState==J13.A1&&a<0){e=1;for(e=1;e<=6;e++)if(!this["bubble"+e].visible){this["bubble"+e].setData(n,i.isFriend),this["bubble"+e].visible=!0,this.showTask.push(n.gId);break}}else if(n.getState==J13.A1)for(e=1;e<=6;e++)if(this["bubble"+e].getId()==n.gId){this["bubble"+e].setData(n,i.isFriend),this["bubble"+e].visible=!0;break}}if(this.friendList.rfL(t.actData.friendList),this.ladybugList)for(r=this.ladybugList.length-1;0<=r;r--){var p=this.ladybugList[r].lid;i.ladyBugList.indexOf(p)<0&&(this.gpInspect.removeChild(this.ladybugList[r]),this.ladybugList[r]=null,this.ladybugList.splice(r,1))}if(i.ladyBugList&&0<i.ladyBugList.length)for(var r in this.ladybugList||(this.ladybugList=[]),i.ladyBugList){n=i.ladyBugList[r];this.ladybugList[r]||(this.ladybugList[r]=new eui.Image,this.ladybugList[r].source="v1_img_jinzhudshi_png",this.gpInspect.addChild(this.ladybugList[r]),this.ladybugList[r].addEventListener(egret.TouchEvent.TOUCH_TAP,this.ZQ63,this)),this.ladybugList[r].lid=n;var l=GoldPigPos[i.level][n-1];this.ladybugList[r].x=l.x,this.ladybugList[r].y=l.y}this.leftCD=t.actData.ZHH64();var c=P6.FJ11(1e3*this.leftCD,5);this.cdLb.textFlow=M18.HTP.parser(O3.tr(3253,c)),this._timerHandler=App.K16.doTimer(1e3,this.leftCD,this.GY14,this)},t.prototype.ZU65=function(t){if(t.curInspect){var e=null!=t.friendData?t.friendData:t.actData,i=GoldPigPos[e.level][t.curInspect-1];App.THH32.aUE(this.gpInspect,"wdsg_dabianqli_001",i.x+10,i.y+10,1,null,this.callback.bind(this),null),t.curInspect=null}},t.prototype.callback=function(){var t=App.CM.gtM(O6.B77);this.ZN10(t)},t.prototype.sonwAction=function(){App.THH32.aUE(this.gpEff,"wdsg_bfsd_xiaxue_001",this.scEff.width/2,this.scEff.height/2,null,null,null,null)},t.prototype.GY14=function(){this.leftCD--;var t=P6.FJ11(1e3*this.leftCD,5);this.cdLb.textFlow=M18.HTP.parser(O3.tr(3253,t)),this.leftCD<=0&&(this.cTH(),this.cdLb.text="")},t.prototype.cTH=function(){null!=this._timerHandler&&(App.K16.rBH(this._timerHandler),this._timerHandler=null)},t.prototype.ZHH63=function(t){t.nType==RankType.goldPig&&App.CM.apF(O6.B77,K14.A27)},t.prototype.ZQ63=function(t){var e=t.target.lid;App.CM.apF(O6.B77,K14.A15,e)},t.prototype.setGrowList=function(t){var e=t.actData,i=[],s=TF21.FJ26();for(var o in s){var r=s[o],n=!0;switch(r.type){case ChristmasGrowTask.crosscamp:n=App.CM.gtM(O6.B22).isOpen;break;case ChristmasGrowTask.climb:n=App.CM.gtM(O6.C6).isOpen;break;case ChristmasGrowTask.fish:n=App.CM.gtM(O6.B28).isOpen;break;case ChristmasGrowTask.crossboss:n=App.CM.gtM(O6.B16).isOpen}if(n&&(!t.friendData&&1==r.display||t.friendData&&2==r.display)){var a={name:r.explain,cur:e.getTaskNum(r.index),total:r.grow,totalPro:r.times};i.push(a)}}this.listView.rfL(i)},t.prototype.ZQ64=function(){App.CM.apF(O6.B77,K14.A9)},t.prototype.ZG23=function(){var t=App.CM.gtM(O6.B77),e=t.actData.ZHH82();e==t.actData.level+1?App.CM.apF(O6.B77,K14.A21):App.CM.apF(O6.B77,K14.A1,e)},t.prototype.ZQ65=function(){App.CM.apF(O6.B77,K14.A17)},t.prototype.onClickStage=function(){App.CM.apF(O6.B77,K14.A25)},t.prototype.ZU49=function(){App.CM.apF(O6.B77,K14.A13)},t.prototype.ZU66=function(){var t=this;this.isShowLeft?egret.Tween.get(this.gpLeft).to({left:33-this.gpLeft.width},500).call(function(){t.imgTurn.rotation=0,t.isShowLeft=!1}):(App.CM.apF(O6.B77,K14.A5),egret.Tween.get(this.gpLeft).to({left:0},500).call(function(){t.imgTurn.rotation=180,t.isShowLeft=!0}))},t.prototype.ZU67=function(){var t=App.CM.gtM(O6.B77);t.clearFriend(),t.notify()},t.prototype.onClickRank=function(){var t={type:RankType.goldPig,currPage:1,size:3};App.CM.apF(O6.C19,O18.A5,t)},t.prototype.close=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];o.prototype.close.call(this),this.btnFriend.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.ZU66,this),this.btnGoHome.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.ZU67,this),this.btnStageAward.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.ZG23,this),this.btnRank.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickRank,this),this.btnLadyBug.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.ZQ65,this),this.btnTime.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickStage,this),this.btnTreeRecord.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.ZU49,this);var i=App.CM.gtM(O6.B77);for(var s in i.clearFriend(),this.cTH(),this.ladybugList)this.ladybugList[s].removeEventListener(egret.TouchEvent.TOUCH_TAP,this.ZQ63,this),egret.Tween.removeTweens(this.ladybugList[s]),this.ladybugList[s]=null;App.THH32.rEf(this.gpEff,"wdsg_bfsd_xiaxue_001"),App.THH32.rEf(this.gpPig,this.curPigEffect)},t}(BaseEuiView);__reflect(GoldPigView.prototype,"GoldPigView");var ItemGoldPigBubble=function(e){function t(){var t=e.call(this)||this;return t.lineHeight="100",t.skinName=ItemGoldPigBubbleSkin,t.addEventListener(egret.Event.ADDED_TO_STAGE,t.open,t),t.addEventListener(egret.Event.REMOVED_FROM_STAGE,t.close,t),t}return __extends(t,e),t.prototype.open=function(){this.addEventListener(egret.TouchEvent.TOUCH_TAP,this.oCI,this)},t.prototype.close=function(){this.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.oCI,this)},t.prototype.childrenCreated=function(){e.prototype.createChildren.call(this)},t.prototype.setData=function(t,e){if(this.data=t,this.data){this.isFriend=e;var i=TF21.FC10(this.data.tId),s=i.grow-this.data.lostNum;this.lbValue.text=O3.tr(5481,s),this.lbTitle.text=i.illustrate;var o=parseFloat(TF21.gIV("guaranteed"));this.data.lostNum/i.grow>o||1==this.data.isSteal?(this.isGray=!0,this.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.oCI,this)):(this.isGray=!1,this.addEventListener(egret.TouchEvent.TOUCH_TAP,this.oCI,this)),P16.sGF(this,this.isGray)}},t.prototype.getId=function(){if(this.data)return this.data.gId},t.prototype.getState=function(){if(this.data)return this.data.getState},t.prototype.oCI=function(){this.isFriend?App.CM.apF(O6.B77,K14.A3,this.data.gId):App.CM.apF(O6.B77,K14.A11,this.data.gId)},t}(eui.Component);__reflect(ItemGoldPigBubble.prototype,"ItemGoldPigBubble");var ItemGoldPigFriend=function(e){function t(){var t=e.call(this)||this;return t.skinName=ItemChristmasFriendSkin,t.addEventListener(egret.Event.ADDED_TO_STAGE,t.open,t),t.addEventListener(egret.Event.REMOVED_FROM_STAGE,t.close,t),t}return __extends(t,e),t.prototype.open=function(){this.imgBug.source="v1_img_jinzhudshi2_png",this.imgIcon.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickIcon,this)},t.prototype.close=function(){this.imgIcon.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickIcon,this)},t.prototype.dataChanged=function(){this.lbName.text=this.data.name,this.imgIcon.source=this.data.icon,this.imgGet.visible=this.imgGet.includeInLayout=1==this.data.isGetGrow,this.imgBug.visible=this.imgBug.includeInLayout=1==this.data.isCatch},t.prototype.onClickIcon=function(){App.CM.apF(O6.B77,K14.A7,this.data.aid)},t}(eui.ItemRenderer);__reflect(ItemGoldPigFriend.prototype,"ItemGoldPigFriend");var GoldPigData=function(i){function t(t){var e=i.call(this,t)||this;return e.updateData(t),e}return __extends(t,i),t.prototype.updateData=function(t){if(this.level=null!=t.sg?t.sg:this.level,t.fl)for(var e in this.friendList=[],t.fl){var i={aid:(s=t.fl[e]).aid,icon:s.ic,name:s.n,isGetGrow:s.g,isCatch:s.s};this.friendList.push(i)}if(this.getLevelAward=null!=t.ag?t.ag:this.getLevelAward,this.exp=null!=t.exp?t.exp:this.exp,t.gl)for(var e in this.growList=[],t.gl){i={gId:(s=t.gl[e]).gid,tId:s.tid,state:s.st,lostNum:s.sn,isSteal:s.sm,getState:void 0};this.growList.push(i)}if(t.rl){for(var e in this.recordList=[],t.rl){var s;i={time:(s=t.rl[e]).t,type:s.ty,param:s.p};this.recordList.push(i)}this.recordList.sort(function(t,e){return e.time-t.time})}if(t.g){i={gId:t.g.gid,tId:t.g.tid,state:t.g.st,lostNum:t.g.sn,isSteal:t.g.sm,getState:void 0};this.growList||(this.growList=[]);var o=!1;for(var e in this.growList)this.growList[e].gId==t.g.gid&&(this.growList[e]=i,o=!0);o||this.growList.push(i)}var r=parseFloat(TF21.gIV("guaranteed"));this.growList.sort(function(t,e){var i=TF21.FC10(t.tId),s=TF21.FC10(e.tId);return(t.lostNum/i.grow>r||1==t.isSteal)&&(e.lostNum/s.grow>r||1==e.isSteal)?-1:t.lostNum/i.grow>r||1==t.isSteal?1:-1}),this.ladyBugList=null!=t.lbs?t.lbs:this.ladyBugList,this.dayAwardStage=null!=t.ds?t.ds:this.dayAwardStage,this.dayAward=null!=t.dg?t.dg:this.dayAward,this.ZQ66(),this.ZU63(t)},t.prototype.ZQ66=function(){var t=parseFloat(TF21.gIV("guaranteed"));for(var e in this.growList){var i=this.growList[e],s=TF21.FC10(i.tId);0==i.state?(i.getState=J13.A3,(i.lostNum/s.grow>t||1==i.isSteal)&&(i.getState=J13.A1)):i.getState=J13.A2}this.growList.sort(function(t,e){return t.getState-e.getState})},t.prototype.getTaskNum=function(t){var e=0;for(var i in this.growList)this.growList[i].tId==t&&e++;return e},t.prototype.getStageList=function(){var t=[],e=TF21.FF78();for(var i in e){var s=e[i];if(s.awardday){var o=J13.A3,r={name:s.name,reward:s.awardday,state:o};t.push(r)}}return t},t.prototype.ZHH82=function(){var t=TF21.FF78();for(var e in t)if(parseInt(e)<=this.level&&t[e].award){if(!this.getLevelAward)return parseInt(e);var i=0;for(i=0;i<this.getLevelAward.length&&this.getLevelAward[i]!=parseInt(e);i++);if(i==this.getLevelAward.length)return parseInt(e)}return t[this.level].growth<0?0:null!=t[this.level+1].award?this.level+1:0},t}(ActivityVo);__reflect(GoldPigData.prototype,"GoldPigData");var I2=function(){function t(){}return t.A2=0,t.A1=1,t.A5=2,t.A3=3,t.A6=4,t.A4=5,t.A9=10001,t.A10=10002,t.A7=10003,t.A8=10004,t}();__reflect(I2.prototype,"I2");var TB64=function(i){function t(){var t=i.call(this)||this,e=new TE46(t);return t.proxy=new TE47(t),e.aLV(O7.HH86),e.aLV(O7.F50),e.aLV(O7.G34),t.rgF(I2.A9,t.rockReq,t),t.rgF(I2.A10,t.rockRes,t),t.rgF(I2.A7,t.GY5,t),t.rgF(I2.A8,t.GY6,t),App.VM.register(O7.HH86,"MoneyTreeView",t,K17.UI_Main),t.rgF(I2.A2,t.GK62,t),t.rgF(I2.A1,t.GI67,t),App.VM.register(O7.G34,"MoneyTTimerView",t,K17.UI_Main_TOP),t.rgF(I2.A6,t.GQ31,t),t.rgF(I2.A4,t.GO32,t),App.VM.register(O7.F50,"MoneyTreeRewardView",t,K17.UI_Main_TOP),t.rgF(I2.A5,t.GQ32,t),t.rgF(I2.A3,t.GO33,t),App.VM.register(O7.F51,"MoneyTreeTipView",t,K17.UI_Popup),t}return __extends(t,i),t.prototype.GK62=function(){App.VM.open(O7.HH86)},t.prototype.GI67=function(t){App.VM.close(O7.HH86)},t.prototype.GQ31=function(t){App.VM.open(O7.G34)},t.prototype.GO32=function(t){App.VM.close(O7.G34)},t.prototype.GQ32=function(t){App.VM.open(O7.F50)},t.prototype.GO33=function(t){App.VM.close(O7.F50)},t.prototype.rockReq=function(t){this.proxy.rockReq(t)},t.prototype.rockRes=function(t){if(200==t.head.state){var e=this.gtM();e.ZC13(t.body),e.notify(P4.R5)}else App.CM.apF(O6.B87,L10.A4,t)},t.prototype.GY5=function(t){this.proxy.GY5(t)},t.prototype.GY6=function(t){if(App.VM.close(O7.HH12),200==t.head.state){var e=this.gtM();e.ZC13(t.body),e.notify(P4.P30),t.body.ob&&P5.sIs(t.body.ob)}else App.CM.apF(O6.B87,L10.A4,t)},t}(TE11);__reflect(TB64.prototype,"TB64");var TE46=function(i){function t(t){var e=i.call(this,t)||this;return e.openState=!1,e.redNum=0,e.firstLoginRedNum=0,e.isShow=!0,e.useTips=!1,e}return __extends(t,i),t.prototype.ZC13=function(t){t&&(null!=this.actData?this.actData.updateData(t):(this.actData=new MoneyTreeData(t),this.tips=this.actData.tips),this.updateRed())},t.prototype.setSuc=function(){},t.prototype.updateRed=function(){this.redNum=this.FL35()},t.prototype.FL35=function(){var t=0;return t+=this.firstLoginRedNum,t+=this.getRedByFree(),t+=this.ZU56()},t.prototype.getRedByFree=function(){var t=0;return this.actData.count<this.actData.freeNum&&t++,t},t.prototype.ZU56=function(){var t=this.actData.getViewList();for(var e in t)if(t[e].state==J13.A3)return 1;return 0},t.prototype.notify=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];i.prototype.notifyView.apply(this,[this].concat(t))},t}(TG79);__reflect(TE46.prototype,"TE46");var TE47=function(e){function t(t){return e.call(this,t)||this}return __extends(t,e),t.prototype.rockReq=function(t){var e={type:P4.R4,body:{pos:t}};this.rSMO(P4.R5,this.rockRes,this),this.sSM(e)},t.prototype.rockRes=function(t){this.apF(I2.A10,t)},t.prototype.GY5=function(t){var e={type:P4.P29,body:{index:t}};this.rSMO(P4.P30,this.GY6,this),this.sSM(e)},t.prototype.GY6=function(t){this.apF(I2.A8,t)},t}(TG80);__reflect(TE47.prototype,"TE47");var ItemMoneyTTimer=function(e){function t(){var t=e.call(this)||this;return t.skinName=ItemCatchFishRewardSkin,t.addEventListener(egret.Event.ADDED_TO_STAGE,t.open,t),t.addEventListener(egret.Event.REMOVED_FROM_STAGE,t.close,t),t}return __extends(t,e),t.prototype.open=function(){this.btnGet.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickGet,this),this.btnGet.label=O3.tr(1563)},t.prototype.close=function(){this.btnGet.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickGet,this),this.itemCollection.removeAll()},t.prototype.childrenCreated=function(){e.prototype.createChildren.call(this),this.itemCollection=new eui.ArrayCollection,this.listContent.dataProvider=this.itemCollection,this.listContent.itemRenderer=ItemIcon,this.awardsSc.scrollPolicyV=eui.ScrollPolicy.OFF},t.prototype.dataChanged=function(){switch(this.lbTitle.textFlow=(new egret.HtmlTextParser).parser(O3.tr(3327,this.data.count)),this.imgTitle.width=this.lbTitle.width+55,this.btnGet.imgNew.visible=!1,this.data.state){case J13.A3:this.btnGet.imgNew.visible=!0,this.btnGet.visible=!0,this.imgGot.visible=!1,P16.sGF(this.btnGet,!1),this.btnGet.enabled=!0;break;case J13.A1:this.btnGet.visible=!0,this.btnGet.enabled=!1,this.imgGot.visible=!1,P16.sGF(this.btnGet,!0);break;case J13.A2:this.btnGet.visible=!1,this.imgGot.visible=!0}var t=[];for(var e in this.data.reward){var i={data:N12.gID(this.data.reward[e].k),ct:this.data.reward[e].v};t.push({itemData:i,isBottom:!1,scale:1})}this.itemCollection.replaceAll(t)},t.prototype.onClickGet=function(){App.CM.apF(O6.B39,I2.A7,this.data.count)},t}(eui.ItemRenderer);__reflect(ItemMoneyTTimer.prototype,"ItemMoneyTTimer");var MoneyTreeRewardView=function(s){function t(t,e){var i=s.call(this,t,e)||this;return i.closeCD=10,i.confList=[],i.skinName="DialRewardSkin",i}return __extends(t,s),t.prototype.initUI=function(){s.prototype.initUI.call(this),this.dgRewards.dataProvider=this.rewardsCollection=new eui.ArrayCollection,this.dgRewards.itemRenderer=IconRewarHeroStar,this.btn1.label=O3.tr(8018),this.lbTime.text=O3.tr(8019),this.buyItem2.visible=!1},t.prototype.open=function(t){this.params=t,this.bgMask.addEventListener(egret.TouchEvent.TOUCH_TAP,this.closeSelf,this),this.btnOk.addEventListener(egret.TouchEvent.TOUCH_TAP,this.closeSelf,this),this.btn1.addEventListener(egret.TouchEvent.TOUCH_TAP,this.getBtnEvent,this),this.updateViews()},t.prototype.close=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];s.prototype.close.call(this),this.bRegSkipTimer=!1,this.bgMask.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.closeSelf,this),this.btnOk.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.closeSelf,this),this.btn1.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.getBtnEvent,this),App.K16.remove(this.ZU23,this),this.rewardsCollection.removeAll()},t.prototype.updateViews=function(){this.ZJ83(),this.ZU24(),this.updateBuyBtn()},t.prototype.updateBuyBtn=function(){var t=App.CM.gtM(O6.B39),e=App.CM.gtM(O6.B82).avatarInfo;this.vipLv=e.v;var i=t.actData.rockNum+K18.FK45(this.vipLv).moneytimes,s=t.actData.getCostNum().split(":"),o=N12.gID(s[0]);this.imgItem1.source=o.icon,this.lbMoney1.text=s[1],this.lbBuy1.text=i-t.actData.count+"/"+i,i>t.actData.count?this.lbBtn1.textFlow=M18.HTP.parse(O3.tr(8020,i-t.actData.count,i)):this.lbBtn1.textFlow=M18.HTP.parse(O3.tr(8021,i-t.actData.count,i))},t.prototype.ZJ83=function(){this.closeCD=10,this.ZU23(),this.bRegSkipTimer||(this.bRegSkipTimer=!0,App.K16.doTimer(1e3,this.closeCD,this.ZU23,this))},t.prototype.ZU23=function(){this.closeCD--,this.closeCD<=0?this.closeSelf(!0):this.btnOk.label=O3.tr(1453,this.closeCD)},t.prototype.ZU24=function(){var t=[],e=App.CM.gtM(O6.B39);if(e&&e.actData.ob&&0<e.actData.ob.length){var i=e.actData.ob,s=!0;for(var o in P7.FM14()&&(s=!1),i){var r=i[o],n=TE89.FHH48(r.k);if(n){var a={name:n.call,type:n.type,quality:n.quality,country:n.country,icon:n.icon,number:M18.FF65(Number(r.v),2),heroStar:!0,isShowLv:!1,isInTj:!0};t.push(a)}else{var h=N12.gID(r.k);if(h){var p={itemData:{data:h,ct:r.v},isBottom:s,heroStar:!1};t.push(p)}}}this.rewardsCollection.replaceAll(t)}},t.prototype.getBtnEvent=function(){var t=App.CM.gtM(O6.B39),e=K18.FK45(this.vipLv);if(t.actData.rockNum+Number(e.moneytimes)>t.actData.count){var i=t.actData.getCostNum().split(":");N12.giC(i[0])>=Number(i[1])?(App.CM.apF(O6.B39,I2.A9),this.closeSelf(!1)):P7.FA78()}else{var s=O3.tr(8017);P18.sDP(s,!1)}},t.prototype.closeSelf=function(t){this.apF(I2.A3),this.closeCD=10,App.CM.gtM(O6.B39).isShow=t},t}(BaseEuiView);__reflect(MoneyTreeRewardView.prototype,"MoneyTreeRewardView");var MoneyTreeTipView=function(s){function t(t,e){var i=s.call(this,t,e)||this;return i.skinName="ShootRangeTipSkin",i}return __extends(t,s),Object.defineProperty(t.prototype,"model",{get:function(){return App.CM.gtM(O6.B39)},enumerable:!0,configurable:!0}),t.prototype.initUI=function(){this.lbTitle.text=O3.tr(7104),this.ckDot.label=O3.tr(7793),this.btnConfirm.label=O3.tr(7794),this.btnCancel.label=O3.tr(7795),this.closeBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.oCC,this),this.bgMask.addEventListener(egret.TouchEvent.TOUCH_TAP,this.oCC,this),this.btnCancel.addEventListener(egret.TouchEvent.TOUCH_TAP,this.ZQ58,this),this.btnConfirm.addEventListener(egret.TouchEvent.TOUCH_TAP,this.oCC,this),this.ckDot.selected=this.model.useTips},t.prototype.open=function(t){s.prototype.open.call(this);var e=this.model.actData.getCostNum().split(":");this.labItem.text=O3.tr(8028,e[1])},t.prototype.close=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.closeBtn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.oCC,this),this.bgMask.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.oCC,this),this.btnCancel.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.oCC,this),this.btnConfirm.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.ZQ58,this),s.prototype.close.apply(this,t)},t.prototype.save=function(){this.model.useTips=this.ckDot.selected},t.prototype.oCC=function(){App.VM.GY64(this)},t.prototype.ZQ58=function(){App.VM.GY64(this),this.save(),App.CM.apF(O6.B39,I2.A9)},t}(BaseEuiView);__reflect(MoneyTreeTipView.prototype,"MoneyTreeTipView");var MoneyTreeView=function(n){function t(t,e){var i=n.call(this,t,e)||this;return i.sGN("release_act1131"),i.skinName="MoneyTreeSkin",i}return __extends(t,n),t.prototype.initUI=function(){this.dcLb.textFlow=M18.HTP.parse(O3.tr(8010)),this.strLb1.text=O3.tr(8011)},t.prototype.open=function(){for(var e=this,t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];n.prototype.open.call(this),this.getBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.getBtnEvent,this),this.shopBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.shopBtnEvent,this);var s=App.CM.gtM(O6.B82),o=s.avatarInfo;this.vipLv=o.v,this.ZE76(s),this.wishTime=Date.now();var r=App.CM.gtM(O6.B39);this.ZC22(r),r.isShow=!0,this.shopBtn.enabled=!0,this.getBtn.enabled=!0,this.showBJGrp(r.actData.crits),1<r.actData.crits?this.getNumLb.text=r.actData.ZU72()+"*"+r.actData.crits:this.getNumLb.text=r.actData.ZU72(),App.K16.doFrame(1,1,function(){var t=App.VM.gOV(TF59.FA34(F7.B19));t&&t.autoOut&&(e.autoOutVis=t.autoOut.visible,t.autoOut.visible=!1)},this)},t.prototype.showBJGrp=function(t){1<t?(this.baojiGrp.visible=!0,this.crt.text=String(t)):this.baojiGrp.visible=!1},t.prototype.close=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];n.prototype.close.call(this),this.getBtn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.getBtnEvent,this),this.shopBtn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.shopBtnEvent,this);var i=App.VM.gOV(TF59.FA34(F7.B19));i&&i.autoOut&&(i.autoOut.visible=this.autoOutVis)},t.prototype.shopBtnEvent=function(){App.CM.apF(O6.B39,I2.A6)},t.prototype.uBM=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];n.prototype.uBM.call(this,t,e),t instanceof TE46&&(e[0]==P4.R5&&(t.isShow?this.ZE77():P5.sIs(t.actData.ob)),this.ZC22(t)),t instanceof TG12&&this.ZE76(t)},t.prototype.ZC22=function(t){var e=K18.FK45(this.vipLv),i=t.actData.rockNum+Number(e.moneytimes);this.countLb.text=i-t.actData.count+"",this.numLb.text="/"+i;var s=t.actData.getCostNum().split(":");if(t.actData.count>=t.actData.freeNum){this.costGrp.visible=!0,this.getBtn.label=O3.tr(8012);var o=N12.gID(s[0]);this.costIcon.setData(o),this.costLb.text=s[1],this.getBtn.imgNew.visible=!1,t.actData.count<i?(this.getBtn.enabled=!0,P16.sGF(this.getBtn,!1)):(this.getBtn.enabled=!1,P16.sGF(this.getBtn,!0))}else this.costGrp.visible=!1,this.getBtn.label=O3.tr(8013),this.getBtn.imgNew.visible=!0;if(t.ZU56()?this.shopBtn.imgNew.visible=!0:this.shopBtn.imgNew.visible=!1,i>t.actData.count?this.countLb.textColor=2987793:this.countLb.textColor=14164514,null==this.timerHandler)if(0<t.actData.rs){this.leftCD=t.actData.ZHH64();var r=O3.tr(7569,P6.FJ11(1e3*this.leftCD,5));this.cdLb.textFlow=M18.HTP.parse(r),this.timerHandler=App.K16.doTimer(1e3,this.leftCD,this.GY14,this)}else this.cdLb.text=""},t.prototype.ZE76=function(t){var e=t.avatarInfo;this.vipLv=e.v,this.ZN11(this.vipLv)},t.prototype.ZN11=function(t){var e=K18.FL39();K18.vip;if(t==e)this.strLb2.text="",this.strLb3.text="";else{for(var i=t;i<=e-1;i++){var s=K18.FK45(i).moneytimes,o=K18.FK45(i+1).moneytimes;if(s!=o)return this.strLb2.text=O3.tr(8015,i+1),void(this.strLb3.text=O3.tr(8016,Number(o)-Number(s)))}this.strLb2.text="",this.strLb3.text=""}},t.prototype.getBtnEvent=function(){var t=App.CM.gtM(O6.B39),e=K18.FK45(this.vipLv);if(t.actData.rockNum+Number(e.moneytimes)>t.actData.count){var i=t.actData.getCostNum().split(":");N12.giC(i[0])>=Number(i[1])?t.useTips?App.CM.apF(O6.B39,I2.A9):t.actData.count<t.actData.freeNum?App.CM.apF(O6.B39,I2.A9):App.VM.open(O7.F51):P7.FA78()}else{var s=O3.tr(8017);P18.sDP(s,!1)}},t.prototype.playAnima=function(){App.THH33.aUE(this.gEffect,"yqs_mc_dq",-200,-200,1)},t.prototype.playAnima1=function(){App.THH33.aUE(this.gEffect1,"yqs_mc_dq",-200,-200,1)},t.prototype.ZQ68=function(){App.CM.apF(O6.B39,I2.A5)},t.prototype.ZE77=function(){var t=this;this.ZN12(0),this.shopBtn.enabled=!1,this.getBtn.enabled=!1;var e=App.CM.gtM(O6.B39);egret.Tween.get(this.treeGrp).to({rotation:-4},100).to({rotation:4},100).call(function(){t.playAnima()}).to({rotation:-4},100).to({rotation:4},100).call(function(){t.playAnima1()}).to({rotation:0},150).wait(1e3).pause().call(function(){t.shopBtn.enabled=!0,t.getBtn.enabled=!0,P5.sIs(e.actData.ob),t.ZN12(e.actData.crits)})},t.prototype.ZN12=function(t){var e=this,i=App.CM.gtM(O6.B39);t<=1?this.baojiGrp.visible?egret.Tween.get(this.baojiGrp).to({alpha:0},500).pause().call(function(){e.baojiGrp.visible=!1,e.baojiGrp.alpha=1}):this.getNumLb.text=i.actData.ZU72():(this.baojiGrp.visible=!0,this.baojiImg.alpha=.5,this.leftImg.horizontalCenter=this.rigthImg.horizontalCenter=0,this.leftImg.alpha=this.rigthImg.alpha=.5,this.crt.text=String(t),this.getNumLb.text=i.actData.ZU72()+"*"+i.actData.crits,egret.Tween.get(this.baojiImg).to({alpha:0},700).pause().call(function(){}),egret.Tween.get(this.leftImg).to({alpha:0,horizontalCenter:-300},700).pause().call(function(){}),egret.Tween.get(this.rigthImg).to({alpha:0,horizontalCenter:300},700).pause().call(function(){}))},t.prototype.GY14=function(){this.leftCD--;var t=O3.tr(3253,P6.FJ11(1e3*this.leftCD,5));this.cdLb.textFlow=M18.HTP.parse(t),this.leftCD<=0&&(this.cTH(),this.cdLb.text=""),this.showNorTween()},t.prototype.cTH=function(){null!=this.timerHandler&&(App.K16.rBH(this.timerHandler),this.timerHandler=null)},t.prototype.showNorTween=function(){this.treeImg.alpha=0,egret.Tween.get(this.treeImg).to({alpha:.05},500).to({alpha:0},500).pause(),this.moneyImg.alpha=0,egret.Tween.get(this.moneyImg).to({alpha:1},500).to({alpha:0},500).pause();for(var t=0;t<17;t++){this["starTween"+(t%3+1)](this["star"+t])}},t.prototype.starTween1=function(t){t.scaleX=t.scaleY=.5,t.rotation=0,egret.Tween.get(t).to({scaleX:1.2,scaleY:1.2,rotation:45},500).to({scaleX:.5,scaleY:.5,rotation:90},500).pause()},t.prototype.starTween2=function(t){t.scaleX=t.scaleY=.945,t.rotation=60,egret.Tween.get(t).to({scaleX:.5,scaleY:.5,rotation:90},333).to({scaleX:1.2,scaleY:1.2,rotation:135},500).to({scaleX:.945,scaleY:.945,rotation:150},167).pause()},t.prototype.starTween3=function(t){t.scaleX=t.scaleY=.99,t.rotation=30,egret.Tween.get(t).to({scaleX:1.2,scaleY:1.2,rotation:45},167).to({scaleX:.5,scaleY:.5,rotation:90},500).to({scaleX:.99,scaleY:.99,rotation:120},333).pause()},t}(BaseEuiView);__reflect(MoneyTreeView.prototype,"MoneyTreeView");var MoneyTTimerView=function(s){function t(t,e){var i=s.call(this,t,e)||this;return i.skinName=CatchFishRewardSkin,i}return __extends(t,s),t.prototype.initUI=function(){s.prototype.initUI.call(this);var t={render:ItemMoneyTTimer,width:this.gpList.width,height:this.gpList.height,gap:5};this.myListView=new CommonListBase(t),this.gpList.addChild(this.myListView),this.dlg.ZM69(this.closeSelf.bind(this),this),this.dlg.title=O3.tr(5547),this.lbCatchNum.verticalCenter=190,this.lbTime.textFlow=M18.HTP.parse(O3.tr(8030))},t.prototype.open=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];s.prototype.open.call(this),this.myListView.open();var i=App.CM.gtM(O6.B39);this.ZHH77(i),this.lbCatchNum.textFlow=M18.HTP.parse(O3.tr(8014,i.actData.count))},t.prototype.uBM=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];s.prototype.uBM.call(this,t,e),t instanceof TE46&&e[0]==P4.P30&&this.ZHH77(t)},t.prototype.ZHH77=function(t){var e=t.actData.getViewList();this.myListView.rfL(e)},t.prototype.close=function(){s.prototype.close.call(this),this.myListView.close()},t.prototype.closeSelf=function(){App.CM.apF(O6.B39,I2.A4)},t}(BaseEuiView);__reflect(MoneyTTimerView.prototype,"MoneyTTimerView");var MoneyTreeData=function(i){function t(t){var e=i.call(this,t)||this;return e.updateData(t),e}return __extends(t,i),t.prototype.updateData=function(t){t&&(this.count=0<=t.count?t.count:this.count,this.crits=0<=t.crits?t.crits:this.crits,this.yet=t.yet?t.yet:this.yet,this.ob=t.ob,this.ZU63(t),t.atmp&&this.saveNewData(t.atmp))},t.prototype.saveNewData=function(t){var e=t.cost.split(",");this.freeNum=Number(e[1]),this.rockNum=Number(e[0])+this.freeNum,this.costStr=e[2],this.rewardStr=t.reward,this.rank=t.rank},t.prototype.getCostNum=function(){var t=this.count+1,e=this.costStr.split("|");for(var i in e){var s=e[i].split(";");if(!s[1])return s[0];var o=s[1].split("-");if(Number(o[0])<=t&&t<=Number(o[1]))return s[0]}},t.prototype.ZU72=function(){var t=this.rewardStr.split(";"),e=t[0].split(":")[1],i=t[1].split(",");return M18.FF65(Number(e)*Number(i[0]),2)+" - "+M18.FF65(Number(e)*Number(i[1]),2)},t.prototype.ZU28=function(t){if(this.count>=Number(t)){for(var e in this.yet)if(this.yet[e]==t)return J13.A2;return J13.A3}return J13.A1},t.prototype.FG82=function(t){var e=[],i=t.split(";");for(var s in i){var o=i[s].split(":"),r={k:o[0],v:o[1]};e.push(r)}return e},t.prototype.getViewList=function(){var t=[],e=this.rank.split("|");for(var i in e){var s=e[i].split("-"),o=this.ZU28(s[0]),r=this.FG82(s[1]),n={count:Number(s[0]),reward:r,state:o};t.push(n)}return t.sort(function(t,e){return t.state!=e.state?t.state-e.state:t.count-e.count}),t},t}(ActivityVo);__reflect(MoneyTreeData.prototype,"MoneyTreeData");var A7=function(){function t(){}return t.A4=0,t.A3=1,t.A1=2,t.A2=3,t}();__reflect(A7.prototype,"A7");var TA9=function(i){function t(){var t=i.call(this)||this,e=new TA44(t);return e.aLV(O7.A88),e.aLV(O7.D12),e.aLV(O7.I64),App.VM.register(O7.A88,"OnceRechargeRebateView",t,K17.UI_Main),t.rgF(A7.A4,t.GA81,t),t.rgF(A7.A3,t.GA55,t),t.proxy=new TA45(t),t.rgF(A7.A1,t.GA14,t),t.rgF(A7.A2,t.GA15,t),t}return __extends(t,i),t.prototype.GA14=function(t){this.proxy.ZA27(t)},t.prototype.GA15=function(t){if(200==t.head.state){var e=t.body,i=this.gtM();i.ZC13(e),i.notify(),t.body.ob&&P5.sIs(t.body.ob)}else App.CM.apF(O6.B87,L10.A4,t)},t.prototype.GA81=function(t){App.VM.open(O7.A88,t);var e=App.CM.gtM(O6.A58);e.firstLoginRedNum=0,e.notify()},t.prototype.GA55=function(){App.VM.close(O7.A88)},t}(TE11);__reflect(TA9.prototype,"TA9");var TA44=function(i){function t(t){var e=i.call(this,t)||this;return e.openState=!1,e.redNum=0,e.firstLoginRedNum=0,e}return __extends(t,i),t.prototype.ZC13=function(t){t&&(null!=this.data?this.data.updateData(t):(this.data=new OnceRechargeRebateData(t),this.tips=this.data.tips),this.updateRed())},t.prototype.updateRed=function(){this.redNum=this.FL35()},t.prototype.FL35=function(){var t=0;t+=this.firstLoginRedNum;var e=this.data.confs;for(var i in e)if(e[i].ht<e[i].hb){t+=1;break}return t},t.prototype.notify=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];i.prototype.notifyView.apply(this,[this].concat(t))},t}(TG79);__reflect(TA44.prototype,"TA44");var TA45=function(i){function t(t){var e=i.call(this,t)||this;return e.rSM(P4.A25,e.ZA28,e),e}return __extends(t,i),t.prototype.ZA27=function(t){var e={type:P4.A24,body:{index:t}};this.sSM(e)},t.prototype.ZA28=function(t){this.apF(A7.A2,t)},t}(TG80);__reflect(TA45.prototype,"TA45");var TA62=function(){function t(){}return t.FHH85=function(){var t=new Array,e=this.gtM().data.confs;for(var i in e){var s=e[i],o={};o.index=s.index,o.money=s.money,o.hasTake=s.ht,o.rewards=s.aw,o.limit=s.lmt,o.hasBuy=s.hb,t.push(o)}return t},t.gtM=function(){return App.CM.gtM(O6.A5)},t}();__reflect(TA62.prototype,"TA62");var OnceRechargeRebateItemsView=function(e){function t(){var t=e.call(this)||this;return t.skinName="OnceRechargeRebateItemSkin",t.addEventListener(egret.Event.ADDED_TO_STAGE,t.open,t),t.addEventListener(egret.Event.REMOVED_FROM_STAGE,t.close,t),t}return __extends(t,e),t.prototype.open=function(){this.getBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.ZU29,this)},t.prototype.close=function(){this.getBtn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.ZU29,this),this.dataSource.removeAll()},t.prototype.childrenCreated=function(){e.prototype.createChildren.call(this),this.initUI()},t.prototype.initUI=function(){this.listContent.itemRenderer=ItemIcon,this.dataSource=new eui.ArrayCollection,this.listContent.dataProvider=this.dataSource,this.awardsSc.viewport=this.listContent,this.awardsSc.scrollPolicyH=eui.ScrollPolicy.OFF,this.awardsSc.scrollPolicyV=eui.ScrollPolicy.OFF,this.getImg.$setVisible(!1)},t.prototype.dataChanged=function(){e.prototype.dataChanged.call(this);var t=O3.tr(3249,this.data.money);this.titleLb.textFlow=M18.HTP.parse(t),this.titleBgImg.width=this.titleLb.width+55,0<this.data.hasBuy-this.data.hasTake?this.rechargeLb.text=O3.tr(3414,this.data.hasBuy-this.data.hasTake):0<this.data.limit?this.rechargeLb.text=O3.tr(3412,this.data.hasBuy,this.data.limit):this.rechargeLb.text=O3.tr(3413),this.getBtn.imgNew.visible=!1,this.getBtn.$setVisible(!1),this.getImg.$setVisible(!1),this.data.hasTake<this.data.hasBuy?(this.getBtn.colour=_ccBtn.brown,this.getBtn.bgStr="v1_btn_yellow_1_png",this.getBtn.label=O3.tr(3232),this.getBtn.$setVisible(!0),this.getBtn.imgNew.visible=!0,this.getImg.$setVisible(!1)):this.data.hasBuy<this.data.limit||-1==this.data.limit?(this.getBtn.bgStr="v1_btn_green_1_png",this.getBtn.label=O3.tr(3284),this.getBtn.$setVisible(!0),this.getImg.$setVisible(!1)):(this.getBtn.$setVisible(!1),this.getImg.$setVisible(!0)),this.ZJ81(this.data.rewards)},t.prototype.ZJ81=function(t){var e=[];for(var i in t){var s={itemData:{data:N12.gID(t[i].k),ct:t[i].v},isBottom:!1};e.push(s)}this.dataSource.replaceAll(e)},t.prototype.ZU29=function(){this.data.hasTake==this.data.hasBuy&&(this.data.hasBuy<this.data.limit||-1==this.data.limit)?App.CM.apF(O6.C29,P8.A7):App.CM.apF(O6.A5,A7.A1,this.data.index)},t}(eui.ItemRenderer);__reflect(OnceRechargeRebateItemsView.prototype,"OnceRechargeRebateItemsView");var OnceRechargeRebateView=function(s){function t(t,e){var i=s.call(this,t,e)||this;return i.skinName="OnceRechargeRebateSkin",i}return __extends(t,s),t.prototype.initUI=function(){s.prototype.initUI.call(this);var t={render:OnceRechargeRebateItemsView,gap:5,width:this.listGroup.width,height:this.listGroup.height,arrowScale:1};this.listView=new CommonListBase(t),this.listGroup.addChild(this.listView),this.listView.verticalCenter=0,this.listView.horizontalCenter=0,this.lbldes.textFlow=M18.HTP.parse(O3.tr(3819)),this.lbldes1.textFlow=M18.HTP.parse(O3.tr(3820))},t.prototype.open=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];s.prototype.open.call(this),this.listView.open(),this.GX5()},t.prototype.uBM=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];s.prototype.uBM.call(this,t,e),t instanceof TA44&&this.GX5()},t.prototype.GX5=function(){var t=TA62.gtM();this.leftCD=t.data.ZHH64();var e=P6.FJ11(1e3*this.leftCD,5);this.cdLb.textFlow=M18.HTP.parser(O3.tr(3253,e)),this._timerHandler=App.K16.doTimer(1e3,this.leftCD,this.GY14,this);var i=TA62.FHH85();this.listView.rfL(i)},t.prototype.GY14=function(){this.leftCD--;var t=P6.FJ11(1e3*this.leftCD,5);this.cdLb.textFlow=M18.HTP.parser(O3.tr(3253,t)),this.leftCD<=0&&(this.cTH(),this.cdLb.text="")},t.prototype.cTH=function(){null!=this._timerHandler&&(App.K16.rBH(this._timerHandler),this._timerHandler=null)},t.prototype.close=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];s.prototype.close.call(this),this.listView.close(),this.cTH()},t}(BaseEuiView);__reflect(OnceRechargeRebateView.prototype,"OnceRechargeRebateView");var OnceRechargeRebateConfVo=function(t){this.aw=[],this.hb=0,this.ht=0,t&&(this.index=t.index,this.money=t.money,this.aw=t.aw,this.lmt=t.lmt)};__reflect(OnceRechargeRebateConfVo.prototype,"OnceRechargeRebateConfVo");var OnceRechargeRebateData=function(i){function t(t){var e=i.call(this,t)||this;return e.confs=[],e.hb=[],e.ht=[],e.updateData(t),e}return __extends(t,i),t.prototype.updateData=function(t){if(t){if(this.hb=t.hb||this.hb,this.ht=t.ht||this.ht,t.confs){var e=t.confs;for(var i in this.confs=[],e){var s=new OnceRechargeRebateConfVo(e[i]);this.confs.push(s)}}for(var i in this.confs){if(0<this.hb.length)for(var o in this.hb)if(this.confs[i].index==this.hb[o].k){this.confs[i].hb=this.hb[o].v;break}if(0<this.ht.length)for(var r in this.ht)if(this.confs[i].index==this.ht[r].k){this.confs[i].ht=this.ht[r].v;break}}this.confs.sort(function(t,e){var i=0<t.hb-t.ht?1:0,s=0<e.hb-e.ht?1:0,o=t.hb==t.lmt?1:0,r=e.hb==e.lmt?1:0;return i==s?o==r?t.index-e.index:o-r:s-i})}this.ZU63(t)},t}(ActivityVo);__reflect(OnceRechargeRebateData.prototype,"OnceRechargeRebateData");var OnceRechargeRebate1Const=function(){function t(){}return t.GA81=0,t.GA55=1,t.ONCERECHARGEREBATE_ACT_GETAWARD_REQ=2,t.ONCERECHARGEREBATE_ACT_GETAWARD_RES=3,t}();__reflect(OnceRechargeRebate1Const.prototype,"OnceRechargeRebate1Const");var OnceRechargeRebate1Controller=function(i){function t(){var t=i.call(this)||this,e=new OnceRechargeRebate1Model(t);return e.aLV(O7.OnceRechargeRebate1),e.aLV(O7.D12),e.aLV(O7.I64),App.VM.register(O7.OnceRechargeRebate1,"OnceRechargeRebate1View",t,K17.UI_Main),t.rgF(OnceRechargeRebate1Const.GA81,t.GA81,t),t.rgF(OnceRechargeRebate1Const.GA55,t.GA55,t),t.proxy=new OnceRechargeRebate1Proxy(t),t.rgF(OnceRechargeRebate1Const.ONCERECHARGEREBATE_ACT_GETAWARD_REQ,t.GA14,t),t.rgF(OnceRechargeRebate1Const.ONCERECHARGEREBATE_ACT_GETAWARD_RES,t.GA15,t),t}return __extends(t,i),t.prototype.GA14=function(t){this.proxy.ZA27(t)},t.prototype.GA15=function(t){if(200==t.head.state){var e=t.body,i=this.gtM();i.ZC13(e),i.notify(),t.body.ob&&P5.sIs(t.body.ob)}else App.CM.apF(O6.B87,L10.A4,t)},t.prototype.GA81=function(t){App.VM.open(O7.OnceRechargeRebate1,t);var e=App.CM.gtM(O6.OnceRechargeRebate1);e.firstLoginRedNum=0,e.notify()},t.prototype.GA55=function(){App.VM.close(O7.OnceRechargeRebate1)},t}(TE11);__reflect(OnceRechargeRebate1Controller.prototype,"OnceRechargeRebate1Controller");var OnceRechargeRebate1Model=function(i){function t(t){var e=i.call(this,t)||this;return e.openState=!1,e.redNum=0,e.firstLoginRedNum=0,e}return __extends(t,i),t.prototype.ZC13=function(t){t&&(null!=this.actData?this.actData.updateData(t):(this.actData=new OnceRechargeRebate1Data(t),this.tips=this.actData.tips),this.updateRed())},t.prototype.updateRed=function(){this.redNum=this.FL35()},t.prototype.FL35=function(){var t=0;t+=this.firstLoginRedNum;var e=this.actData.confs;for(var i in e)if(e[i].ht<e[i].hb){t+=1;break}return t},t.prototype.notify=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];i.prototype.notifyView.apply(this,[this].concat(t))},t}(TG79);__reflect(OnceRechargeRebate1Model.prototype,"OnceRechargeRebate1Model");var OnceRechargeRebate1Proxy=function(i){function t(t){var e=i.call(this,t)||this;return e.rSM(P4.LINGYUGIFT_ACT_GETAWARD_RES,e.ZA28,e),e}return __extends(t,i),t.prototype.ZA27=function(t){var e={type:P4.LINGYUGIFT_ACT_GETAWARD_REQ,body:{index:t}};this.sSM(e)},t.prototype.ZA28=function(t){this.apF(OnceRechargeRebate1Const.ONCERECHARGEREBATE_ACT_GETAWARD_RES,t)},t}(TG80);__reflect(OnceRechargeRebate1Proxy.prototype,"OnceRechargeRebate1Proxy");var OnceRechargeRebate1Util=function(){function t(){}return t.FHH85=function(){var t=new Array,e=this.gtM().actData.confs;for(var i in e){var s=e[i],o={};o.index=s.index,o.money=s.money,o.hasTake=s.ht,o.rewards=s.aw,o.limit=s.lmt,o.hasBuy=s.hb,t.push(o)}return t},t.gtM=function(){return App.CM.gtM(O6.OnceRechargeRebate1)},t}();__reflect(OnceRechargeRebate1Util.prototype,"OnceRechargeRebate1Util");var OnceRechargeRebate1ItemsView=function(e){function t(){var t=e.call(this)||this;return t.skinName="OnceRechargeRebateItemSkin",t.addEventListener(egret.Event.ADDED_TO_STAGE,t.open,t),t.addEventListener(egret.Event.REMOVED_FROM_STAGE,t.close,t),t}return __extends(t,e),t.prototype.open=function(){this.getBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.ZU29,this)},t.prototype.close=function(){this.getBtn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.ZU29,this),this.dataSource.removeAll()},t.prototype.childrenCreated=function(){e.prototype.createChildren.call(this),this.initUI()},t.prototype.initUI=function(){this.listContent.itemRenderer=ItemIcon,this.dataSource=new eui.ArrayCollection,this.listContent.dataProvider=this.dataSource,this.awardsSc.viewport=this.listContent,this.awardsSc.scrollPolicyH=eui.ScrollPolicy.OFF,this.awardsSc.scrollPolicyV=eui.ScrollPolicy.OFF,this.getImg.$setVisible(!1)},t.prototype.dataChanged=function(){e.prototype.dataChanged.call(this);var t=O3.tr(3249,this.data.money);this.titleLb.textFlow=M18.HTP.parse(t),this.titleBgImg.width=this.titleLb.width+55,0<this.data.hasBuy-this.data.hasTake?this.rechargeLb.text=O3.tr(3414,this.data.hasBuy-this.data.hasTake):0<this.data.limit?this.rechargeLb.text=O3.tr(3412,this.data.hasBuy,this.data.limit):this.rechargeLb.text=O3.tr(3413),this.getBtn.imgNew.visible=!1,this.getBtn.$setVisible(!1),this.getImg.$setVisible(!1),this.data.hasTake<this.data.hasBuy?(this.getBtn.colour=_ccBtn.brown,this.getBtn.bgStr="v1_btn_yellow_1_png",this.getBtn.label=O3.tr(3232),this.getBtn.$setVisible(!0),this.getBtn.imgNew.visible=!0,this.getImg.$setVisible(!1)):this.data.hasBuy<this.data.limit||-1==this.data.limit?(this.getBtn.bgStr="v1_btn_green_1_png",this.getBtn.label=O3.tr(3284),this.getBtn.$setVisible(!0),this.getImg.$setVisible(!1)):(this.getBtn.$setVisible(!1),this.getImg.$setVisible(!0)),this.ZJ81(this.data.rewards)},t.prototype.ZJ81=function(t){var e=[];for(var i in t){var s={itemData:{data:N12.gID(t[i].k),ct:t[i].v},isBottom:!1};e.push(s)}this.dataSource.replaceAll(e)},t.prototype.ZU29=function(){this.data.hasTake==this.data.hasBuy&&(this.data.hasBuy<this.data.limit||-1==this.data.limit)?App.CM.apF(O6.C29,P8.A7):App.CM.apF(O6.OnceRechargeRebate1,OnceRechargeRebate1Const.ONCERECHARGEREBATE_ACT_GETAWARD_REQ,this.data.index)},t}(eui.ItemRenderer);__reflect(OnceRechargeRebate1ItemsView.prototype,"OnceRechargeRebate1ItemsView");var OnceRechargeRebate1View=function(s){function t(t,e){var i=s.call(this,t,e)||this;return i.skinName="OnceRechargeRebateSkin",i}return __extends(t,s),t.prototype.initUI=function(){s.prototype.initUI.call(this);var t={render:OnceRechargeRebate1ItemsView,gap:5,width:this.listGroup.width,height:this.listGroup.height,arrowScale:1};this.listView=new CommonListBase(t),this.listGroup.addChild(this.listView),this.listView.verticalCenter=0,this.listView.horizontalCenter=0,this.lbldes.textFlow=M18.HTP.parse(O3.tr(3819)),this.lbldes1.textFlow=M18.HTP.parse(O3.tr(3820))},t.prototype.open=function(){for(var e=this,t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];s.prototype.open.call(this),this.listView.open(),this.GX5(),this.banner.source="v1_bg_lyhl_jpg",App.K16.doFrame(1,1,function(){var t=App.VM.gOV(TF59.FA34(F7.A69));t&&t.autoOut&&(e.autoOutVis=t.autoOut.visible,t.autoOut.visible=!1)},this)},t.prototype.uBM=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];s.prototype.uBM.call(this,t,e),t instanceof OnceRechargeRebate1Model&&this.GX5()},t.prototype.GX5=function(){var t=OnceRechargeRebate1Util.gtM();this.leftCD=t.actData.ZHH64();var e=P6.FJ11(1e3*this.leftCD,5);this.cdLb.textFlow=M18.HTP.parser(O3.tr(3253,e)),this._timerHandler=App.K16.doTimer(1e3,this.leftCD,this.GY14,this);var i=OnceRechargeRebate1Util.FHH85();this.listView.rfL(i)},t.prototype.GY14=function(){this.leftCD--;var t=P6.FJ11(1e3*this.leftCD,5);this.cdLb.textFlow=M18.HTP.parser(O3.tr(3253,t)),this.leftCD<=0&&(this.cTH(),this.cdLb.text="")},t.prototype.cTH=function(){null!=this._timerHandler&&(App.K16.rBH(this._timerHandler),this._timerHandler=null)},t.prototype.close=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];s.prototype.close.call(this),this.listView.close(),this.cTH();var i=App.VM.gOV(TF59.FA34(F7.ONCERECHARGE_REBATE1));i&&i.autoOut&&(i.autoOut.visible=this.autoOutVis)},t}(BaseEuiView);__reflect(OnceRechargeRebate1View.prototype,"OnceRechargeRebate1View");var OnceRechargeRebate1ConfVo=function(t){this.aw=[],this.hb=0,this.ht=0,t&&(this.index=t.index,this.money=t.money,this.aw=t.aw,this.lmt=t.lmt)};__reflect(OnceRechargeRebate1ConfVo.prototype,"OnceRechargeRebate1ConfVo");var OnceRechargeRebate1Data=function(i){function t(t){var e=i.call(this,t)||this;return e.confs=[],e.hb=[],e.ht=[],e.updateData(t),e}return __extends(t,i),t.prototype.updateData=function(t){if(t){if(this.hb=t.hb||this.hb,this.ht=t.ht||this.ht,t.confs){var e=t.confs;for(var i in this.confs=[],e){var s=new OnceRechargeRebate1ConfVo(e[i]);this.confs.push(s)}}for(var i in this.confs){if(0<this.hb.length)for(var o in this.hb)if(this.confs[i].index==this.hb[o].k){this.confs[i].hb=this.hb[o].v;break}if(0<this.ht.length)for(var r in this.ht)if(this.confs[i].index==this.ht[r].k){this.confs[i].ht=this.ht[r].v;break}}this.confs.sort(function(t,e){var i=0<t.hb-t.ht?1:0,s=0<e.hb-e.ht?1:0,o=t.hb==t.lmt?1:0,r=e.hb==e.lmt?1:0;return i==s?o==r?t.index-e.index:o-r:s-i})}this.ZU63(t)},t}(ActivityVo);__reflect(OnceRechargeRebate1Data.prototype,"OnceRechargeRebate1Data");var A12=function(){function t(){}return t.A1=0,t.A2=1,t}();__reflect(A12.prototype,"A12");var TA14=function(i){function t(){var t=i.call(this)||this;t.proxy=new TA64(t);var e=new TA63(t);return e.aLV(O7.B34),e.aLV(O7.D12),t.rgF(A12.A1,t.GV55,t),t.rgF(A12.A2,t.GV54,t),t}return __extends(t,i),t.prototype.GV55=function(){this.proxy.ZK5()},t.prototype.GV54=function(t){if(200==t.head.state){var e=this.gtM();e.ZC13(t.body),e.notify(),t.body.ob&&P5.sIs(t.body.ob)}else App.CM.apF(O6.B87,L10.A4,t)},t}(TE11);__reflect(TA14.prototype,"TA14");var TA63=function(i){function t(t){var e=i.call(this,t)||this;return e.openState=!1,e.redNum=0,e.firstLoginRedNum=0,e}return __extends(t,i),t.prototype.ZC13=function(t){t&&(null!=this.actData?this.actData.updateData(t):(this.actData=new OverFlowMonthCardData(t),this.tips=this.actData.tips),this.updateRed())},t.prototype.updateRed=function(){this.redNum=this.FL35()},t.prototype.FL35=function(){return 0<this.firstLoginRedNum?this.firstLoginRedNum:this.actData.ZU28()==J13.A3?1:App.CM.gtM(O6.B66).ZM39()},t.prototype.notify=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];i.prototype.notifyView.apply(this,[this].concat(t))},t}(TG79);__reflect(TA63.prototype,"TA63");var TA64=function(i){function t(t){var e=i.call(this,t)||this;return e.rSM(P4.B32,e.GV54,e),e}return __extends(t,i),t.prototype.ZK5=function(){var t={type:P4.B31,body:{}};this.sSM(t)},t.prototype.GV54=function(t){this.apF(A12.A2,t)},t}(TG80);__reflect(TA64.prototype,"TA64");var ItemOverFlowMonthCard=function(e){function t(){var t=e.call(this)||this;return t.skinName="ItemOverFlowCardSkin",t.addEventListener(egret.Event.ADDED_TO_STAGE,t.open,t),t.addEventListener(egret.Event.REMOVED_FROM_STAGE,t.close,t),t}return __extends(t,e),t.prototype.open=function(){this.btnGet.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickBuy,this),this.itemCollection=new eui.ArrayCollection,this.listContent.dataProvider=this.itemCollection,this.listContent.itemRenderer=ItemIcon},t.prototype.uBM=function(t,e){if(e){switch(this.state=e.actData.ZU28(),this.state){case J13.A3:this.btnGet.visible=!0,this.lbGetTip.visible=!1,this.btnGet.label=O3.tr(3234),P7.FD53(this.btnGet,1);break;case J13.A2:this.btnGet.visible=!1,this.lbGetTip.visible=!0,this.lbGetTip.text=O3.tr(3408);break;case J13.A1:this.btnGet.visible=!0,this.lbGetTip.visible=!1,t||(t=App.CM.gtM(O6.B66));var i=t.ZT74();this.btnGet.label=0<i?O3.tr(3407):O3.tr(3409),P7.FD53(this.btnGet,0)}var s=e.actData.ZU69(),o=[];for(var r in s.rewardList){var n={data:N12.gID(s.rewardList[r].k),ct:s.rewardList[r].v};o.push({itemData:n,isBottom:!1,scale:.9})}this.itemCollection.replaceAll(o),this.lbNum.textFlow=M18.HTP.parser(O3.tr(3410,e.actData.haveGetTime,s.num))}},t.prototype.onClickBuy=function(){switch(this.state){case J13.A3:App.CM.apF(O6.A9,A12.A1);break;case J13.A1:var t=App.CM.gtM(O6.A9);App.CM.apF(O6.C29,P8.A1,t.actData.ZU69().pId)}},t.prototype.close=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.btnGet.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickBuy,this)},t}(eui.Component);__reflect(ItemOverFlowMonthCard.prototype,"ItemOverFlowMonthCard");var OverFlowMonthCardView=function(o){function t(t,e){var i=o.call(this,t,e)||this;return i.skinName="WelfareMonthCardSkin",i}return __extends(t,o),t.prototype.initData=function(){o.prototype.initData.call(this)},t.prototype.initUI=function(){o.prototype.initUI.call(this),this.monthCard||(this.monthCard=new ItemMonthCard,this.gpContent.addChild(this.monthCard)),this.overFlowCard||(this.overFlowCard=new ItemOverFlowMonthCard,this.gpContent.addChild(this.overFlowCard)),this.lbTip||(this.lbTip=new eui.Label,this.lbTip.size=20,this.lbTip.horizontalCenter=0,P7.FM14()?this.lbTip.bottom=-90:this.lbTip.bottom=-70,this.lbTip.text=O3.tr(3411),this.lbTip.textColor=16707295,this.addChild(this.lbTip)),this.lbTime||(this.lbTime=new eui.Label,this.lbTime.size=20,this.lbTime.horizontalCenter=0,this.lbTime.bottom=-45,this.lbTime.text="",this.addChild(this.lbTime))},t.prototype.open=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];o.prototype.open.call(this,t);var i=App.CM.gtM(O6.B66);this.monthCard.ZD69(i);var s=App.CM.gtM(O6.A9);this.overFlowCard.uBM(i,s),this.updateCd(s)},t.prototype.uBM=function(t,e){o.prototype.uBM.call(this,t,e),t instanceof TF89?(this.monthCard.ZD69(t),this.overFlowCard.uBM(t)):t instanceof TA63&&(this.overFlowCard.uBM(void 0,t),this.updateCd(t))},t.prototype.updateCd=function(t){this.leftCD=t.actData.ZHH64();var e=O3.tr(2913,P6.FJ11(1e3*this.leftCD,5));this.lbTime.textFlow=M18.HTP.parse(e),this._timerHandler||(this._timerHandler=App.K16.doTimer(1e3,0,this.GY14,this))},t.prototype.GY14=function(){this.leftCD--;var t=O3.tr(2913,P6.FJ11(1e3*this.leftCD,5));this.lbTime.textFlow=M18.HTP.parse(t),this.leftCD<=0&&(this.cTH(),this.lbTime.text="")},t.prototype.cTH=function(){null!=this._timerHandler&&(App.K16.rBH(this._timerHandler),this._timerHandler=null)},t.prototype.close=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];o.prototype.close.call(this,t),this.cTH()},t}(BaseEuiView);__reflect(OverFlowMonthCardView.prototype,"OverFlowMonthCardView");var OverFlowMonthCardData=function(i){function t(t){var e=i.call(this,t)||this;return e.updateData(t),e}return __extends(t,i),t.prototype.updateData=function(t){t.cf&&(this.confs?this.confs.updateData(t.cf):this.confs=new OverFlowMonthCardConfVo(t.cf)),this.totalTime=null!=t.hb?t.hb:this.totalTime,this.haveGetTime=null!=t.ht?t.ht:this.haveGetTime,this.ZU63(t)},t.prototype.ZU69=function(){return this.confs},t.prototype.ZU28=function(){return this.totalTime>this.haveGetTime?J13.A3:this.haveGetTime>=this.confs.num?J13.A2:this.totalTime<=this.haveGetTime?J13.A1:void 0},t}(ActivityVo);__reflect(OverFlowMonthCardData.prototype,"OverFlowMonthCardData");var OverFlowMonthCardConfVo=function(){function t(t){this.updateData(t)}return t.prototype.updateData=function(t){this.rewardList=null!=t.rw?t.rw:this.rewardList,this.pId=null!=t.pid?t.pid:this.pId,this.num=null!=t.lmt?t.lmt:this.num},t}();__reflect(OverFlowMonthCardConfVo.prototype,"OverFlowMonthCardConfVo");var G3=function(){function t(){}return t.A2=0,t.A1=1,t}();__reflect(G3.prototype,"G3");var TB25=function(e){function t(){var t=e.call(this)||this;return new TD71(t).aLV(O7.HH11),App.VM.register(O7.HH11,"PreferGiftView",t,K17.UI_Main),t.rgF(G3.A2,t.GI68,t),t.rgF(G3.A1,t.GG80,t),t}return __extends(t,e),t.prototype.GI68=function(){App.VM.open(O7.HH11)},t.prototype.GG80=function(t){App.VM.close(O7.HH11)},t}(TE11);__reflect(TB25.prototype,"TB25");var TD71=function(i){function t(t){var e=i.call(this,t)||this;return e.openState=!1,e.redNum=0,e.firstLoginRedNum=0,e}return __extends(t,i),t.prototype.ZC13=function(t){t&&(null!=this.actData?(this.actData.updateData(t),null!=t.ob&&P5.sIs(t.ob)):(this.actData=new PreferGiftData(t),this.tips=this.actData.tips),this.updateRed())},t.prototype.updateRed=function(){this.redNum=this.FL35()},t.prototype.FL35=function(){var t=0;return t+=this.firstLoginRedNum},t.prototype.notify=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];i.prototype.notifyView.apply(this,[this].concat(t))},t}(TG79);__reflect(TD71.prototype,"TD71");var TD72=function(e){function t(t){return e.call(this,t)||this}return __extends(t,e),t}(TG80);__reflect(TD72.prototype,"TD72");var PreferGiftView=function(s){function t(t,e){var i=s.call(this,t,e)||this;return i.newClickGift=null,i.myCS=[],i.myAB=null,i.sGN("release_act1119"),i.skinName="PreferGiftSkin",i}return __extends(t,s),t.prototype.initUI=function(){s.prototype.initUI.call(this),this.stringLb1.text=O3.tr(7514),this.soBBtn.label=O3.tr(7515),this.soLBtn.label=O3.tr(7516),this.gwList.itemRenderer=ItemIcon,this.dataSource=new eui.ArrayCollection,this.gwList.dataProvider=this.dataSource},t.prototype.open=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];s.prototype.open.call(this),this.soBBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.soBbtnEvent,this),this.soLBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.soLBtnEvent,this),this.buyBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.buyBtnEvent,this);var i=App.CM.gtM(O6.B7);this.ZC22(i)},t.prototype.close=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];s.prototype.close.call(this),this.soBBtn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.soBbtnEvent,this),this.soLBtn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.soLBtnEvent,this),this.buyBtn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.buyBtnEvent,this)},t.prototype.soBbtnEvent=function(){this.soBBtn.bgStr="v1_btn_yellow01_png",this.soLBtn.bgStr="v1_btn_yellow02_png",this.newClickGift=1,this.changeByCS()},t.prototype.soLBtnEvent=function(){this.soBBtn.bgStr="v1_btn_yellow02_png",this.soLBtn.bgStr="v1_btn_yellow01_png",this.newClickGift=0,this.changeByCS()},t.prototype.changeByCS=function(){var t=this.newClickGift;this.opLb.textFlow=M18.HTP.parser(O3.tr(7517,this.myCS[t].op)),this.buyBtn.label=O3.tr(7518,this.myCS[t].cp);var e=this.myCS[t].t;this.changeBuyBtn(e);var i=this.myGW[e],s=[];for(var o in i){var r=N12.gID(i[o].k),n=1==i[o].effect?TF59.FC9(r.quality):void 0,a={data:r,ct:i[o].v,texiao:n};s.push({itemData:a,isBottom:!1,scale:1})}this.dataSource.replaceAll(s)},t.prototype.changeBuyBtn=function(t){this.isBuyGift(t)?(P16.sGF(this.buyBtn,!0),this.buyBtn.enabled=!1,this.buyBtn.label=O3.tr(7519)):(P16.sGF(this.buyBtn,!1),this.buyBtn.enabled=!0)},t.prototype.isBuyGift=function(t){for(var e=0,i=this.myAB;e<i.length;e++){if(i[e]==t)return!0}return!1},t.prototype.buyBtnEvent=function(){var t=this.myCS[this.newClickGift].pid;App.CM.apF(O6.C29,P8.A1,t)},t.prototype.uBM=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];s.prototype.uBM.call(this,t,e),t instanceof TD71&&this.ZC22(t)},t.prototype.ZC22=function(t){if(null==this.timerHandler)if(0<t.actData.rs){this.leftCD=t.actData.ZHH64();var e=O3.tr(3253,P6.FJ11(1e3*this.leftCD,5));this.missionLb.textFlow=M18.HTP.parse(e),this.timerHandler=App.K16.doTimer(1e3,this.leftCD,this.GY14,this)}else this.missionLb.text="";this.ZN13(t)},t.prototype.ZN13=function(t){this.myGW=t.actData.gw,this.myCS=t.actData.cs;var e=this.myAB;this.myAB=t.actData.ab,this.changeBLBtn(e,t.actData.ab)},t.prototype.changeBLBtn=function(t,e){null==t?this.ZHH85():String(t)==String(e)?this.ZHH85():this.ZE78()},t.prototype.ZHH85=function(){this.isBuyGift(this.myCS[0].t)?this.isBuyGift(this.myCS[1].t)?this.soLBtnEvent():this.soBbtnEvent():this.soLBtnEvent()},t.prototype.ZE78=function(){null==this.newClickGift?this.soLBtnEvent():1==this.newClickGift?this.soBbtnEvent():this.soLBtnEvent()},t.prototype.GY14=function(){this.leftCD--;var t=O3.tr(3253,P6.FJ11(1e3*this.leftCD,5));this.missionLb.textFlow=M18.HTP.parse(t),this.leftCD<=0&&(this.cTH(),this.missionLb.text="")},t.prototype.cTH=function(){null!=this.timerHandler&&(App.K16.rBH(this.timerHandler),this.timerHandler=null)},t}(BaseEuiView);__reflect(PreferGiftView.prototype,"PreferGiftView");var PreferGiftConfVo=function(){};__reflect(PreferGiftConfVo.prototype,"PreferGiftConfVo");var PreferGiftData=function(i){function t(t){var e=i.call(this,t)||this;return e.cs=[],e.ab=[],e.gw=[],e.updateData(t),e}return __extends(t,i),t.prototype.updateData=function(t){t&&(this.ab=t.ab,this.gw=t.gw?t.gw:this.gw,this.cs=t.cs?t.cs:this.cs,this.ZU63(t))},t}(ActivityVo);__reflect(PreferGiftData.prototype,"PreferGiftData"),function(o){var t=function(s){function t(){var t=s.call(this)||this;App.VM.register(O7.A37,"RebateTurntableRecordView",t,K17.UI_Popup);var e=new o.Model(t);e.aLV(O7.D9),e.aLV(TF59.FA34(F7.A27)),e.aLV(O7.I39);var i=new o.Proxy(t);return t.rgF(P4.E68,i.record,i),t.rgF(P4.B9,i.draw,i),t}return __extends(t,s),t.prototype.drawRes=function(t){if(200!=t.head.state)App.CM.apF(O6.B87,L10.A4,t);else{var e=this.gtM();e.ZC13(t.body),e.notify(t.head.protoType,t.body)}},t.prototype.GY9=function(t){200!=t.head.state?App.CM.apF(O6.B87,L10.A4,t):App.VM.open(O7.A37,t.body.rec)},t}(TE11);o.Controller=t,__reflect(t.prototype,"RebateTurntable.Controller")}(RebateTurntable||(RebateTurntable={})),function(e){var t=function(i){function t(t){var e=i.call(this,t)||this;return e.openState=!1,e.redNum=0,e.firstLoginRedNum=0,e}return __extends(t,i),t.prototype.ZC13=function(t){t&&(null!=this.actData?this.actData.updateData(t):(this.actData=new e.ActData(t),this.tips=this.actData.tips))},t.prototype.updateRed=function(){this.redNum=this.actData.getCount()},t.prototype.FL35=function(){return this.updateRed(),this.redNum},t.prototype.notify=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];i.prototype.notifyView.apply(this,[this].concat(t))},t}(TG79);e.Model=t,__reflect(t.prototype,"RebateTurntable.Model")}(RebateTurntable||(RebateTurntable={})),function(t){var e=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.draw=function(){var t={type:P4.B9,body:{}},e=this._controller;this.rSMO(P4.B10,e.drawRes,e),this.sSM(t)},e.prototype.record=function(){var t={type:P4.E68,body:{}},e=this._controller;this.rSMO(P4.E69,e.GY9,e),this.sSM(t)},e}(TG80);t.Proxy=e,__reflect(e.prototype,"RebateTurntable.Proxy")}(RebateTurntable||(RebateTurntable={}));var RebateTurntableIconItemView=function(e){function t(){var t=e.call(this)||this;return t.skinName="RebateTurntableIconSkin",t}return __extends(t,e),t.prototype.dataChanged=function(){e.prototype.dataChanged.call(this),this.icon.source=this.data.icon,this.labTitle.textFlow=M18.FG71(this.data.title)},t}(eui.ItemRenderer);__reflect(RebateTurntableIconItemView.prototype,"RebateTurntableIconItemView");var RebateTurntableItemView=function(e){function t(){var t=e.call(this)||this;return t.skinName="RebateTurntableItemSkin",t}return __extends(t,e),t.prototype.dataChanged=function(){e.prototype.dataChanged.call(this),this.labTitle.textFlow=M18.FG71(this.data.title),this.labCount.textFlow=O3.tr2(8719,this.data.used,this.data.max)},t}(eui.ItemRenderer);__reflect(RebateTurntableItemView.prototype,"RebateTurntableItemView");var RebateTurntableRecordItemView=function(e){function t(){var t=e.call(this)||this;return t.skinName="RebateTurntableDrawRecordItemSkin",t}return __extends(t,e),t.prototype.childrenCreated=function(){e.prototype.createChildren.call(this)},t.prototype.dataChanged=function(){var t=O3.tr(8721,this.data.name,this.data.rate,this.data.count);this.lbRecord.textFlow=M18.HTP.parser(t)},t}(eui.ItemRenderer);__reflect(RebateTurntableRecordItemView.prototype,"RebateTurntableRecordItemView");var RebateTurntableRecordView=function(s){function t(t,e){var i=s.call(this,t,e)||this;return i.skinName=FaBaoDrawRecordSkin,i}return __extends(t,s),t.prototype.initUI=function(){s.prototype.initUI.call(this),this.lbStr1.textFlow=M18.HTP.parse(O3.tr(8731)),this.listGroup.width=400;var t={render:RebateTurntableRecordItemView,verticalGap:0,horizontalGap:-10,width:this.listGroup.width,height:this.listGroup.height};this.listView=new CommonListBase(t),this.listGroup.addChild(this.listView),this.gbox.width=this.gbox.height=this.listView.scContent.width=this.listView.itemList.width=NaN,this.listView.verticalCenter=0,this.listView.horizontalCenter=0,this.listGroup.left=this.listGroup.right=20},t.prototype.open=function(t){s.prototype.open.call(this),this.listView.open(),this.bgMask.addEventListener(egret.TouchEvent.TOUCH_TAP,this.closeSelf,this),this.listData=t,this.GX5()},t.prototype.GX5=function(){this.listView.rfL((this.listData||[]).map(function(t){return{count:t.gold,rate:t.ra,name:t.name}}))},t.prototype.close=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];s.prototype.close.call(this),this.listView.close(),this.bgMask.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.closeSelf,this)},t.prototype.closeSelf=function(){App.VM.GY64(this)},t}(BaseEuiView);__reflect(RebateTurntableRecordView.prototype,"RebateTurntableRecordView");var RebateTurntable,RebateTurntableView=function(s){function t(t,e){var i=s.call(this,t,e)||this;return i.skinName="RebateTurntableSkin",i}return __extends(t,s),t.prototype.initUI=function(){this.list.dataProvider=this.dataSource=new eui.ArrayCollection,this.list.itemRenderer=RebateTurntableItemView,this.labTr8717.textFlow=O3.tr2(8717),this.labTr8720.textFlow=O3.tr2(8720),this.labRecord.textFlow=O3.tr2(8716),this.labDetails.textFlow=O3.tr2(8715),this.angles=[22,65,115,155,200,250,290,335],this.btn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClick,this),this.labDetails.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickHelp,this),this.labRecord.addEventListener(egret.TouchEvent.TOUCH_TAP,this.ZU49,this),this.btnDraw.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickDraw,this),this.btn.label=O3.tr(8733)},t.prototype.open=function(){var t=App.CM.gtM(O6.A27);this.timer=this.timer||App.K16.doTimer(1e3,-1,this.GX42,this),this.updateIcons(t),this.GX5(t),this.GX42()},t.prototype.close=function(){this.btn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClick,this),this.labDetails.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickHelp,this),this.labRecord.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.ZU49,this),this.btnDraw.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickDraw,this),this.stopAnimation(),this.dataSource.removeAll(),App.K16.rBH(this.timer),this.ZC25(),delete this.timer,delete this.rw},t.prototype.uBM=function(t,e,i){var s=this;t instanceof RebateTurntable.Model&&(e==P4.B10&&(this.ZU45(i.reId,function(){return s.ZU73(i.no)}),this.rw=i.ob),this.GX5(t))},t.prototype.GX5=function(t){this.updateList(t);var e=t.actData.getCount();this.labCount.textFlow=O3.tr2(8713,0<e?1:0)},t.prototype.updateIcons=function(s){this.gIcons.$children.forEach(function(t){var e=parseInt(t.name),i=s.actData.rates[e];t.data={icon:"v1_yuanbao_0"+e+"_png",title:O3.tr(8714,i.rate)}})},t.prototype.updateList=function(r){var n=[];r.actData.rcgs.forEach(function(t){var e=K18.recharge[t],i=(e.name,e.price),s=(e.gold,r.actData.tm[t]||0),o=r.actData.om[t]||0;n.push({title:O3.tr(8718,i,s),count:s,max:r.actData.max,used:o,id:t})}),this.dataSource.source=n},t.prototype.GX42=function(){var t=App.CM.gtM(O6.A27),e=t&&t.actData?1e3*t.actData.ZHH64():0;this.labTime.textFlow=O3.tr2(3253,P6.FJ11(e,5))},t.prototype.onClick=function(){App.CM.apF(O6.C29,P8.A7)},t.prototype.onClickHelp=function(){var t={title:O3.tr(8723),content:O3.tr(8724)};App.VM.open(O7.I8,t)},t.prototype.ZU49=function(){App.CM.apF(O6.A27,P4.E68)},t.prototype.onClickDraw=function(){0<this.grpXyz.numChildren||this.hasEventListener(egret.Event.ENTER_FRAME)?P18.sDP(O3.tr(8730)):App.CM.apF(O6.A27,P4.B9)},t.prototype.stopAnimation=function(){this.removeEventListener(egret.Event.ENTER_FRAME,this.update,this),this.imgPoint.rotation=App.TG81.adjustAngle(this.maxAngle)},t.prototype.ZU73=function(t){this.rotate=0;var e=this.angles[t-1];this.maxAngle=1800+e,this.speed=40,this.addEventListener(egret.Event.ENTER_FRAME,this.update,this)},t.prototype.update=function(){this.rotate+=this.speed,this.imgPoint.rotation=this.rotate;var t=this.maxAngle-this.rotate;if(t<=0)App.VM.open(O7.A80,this.rw),this.stopAnimation();else if(t<180){this.speed=30*t/180+10}},t.prototype.ZU45=function(t,e){for(var i,s=0,o=this.list.$children;s<o.length;s++){var r=o[s];if(r.data.id==t){i=r;break}}this.p0=new egret.Point(0,0),i.localToGlobal(i.width/2,i.height/2,this.p0),this.gbg.globalToLocal(this.p0.x,this.p0.y,this.p0),null!=this.p0&&(this.grpXyz.x=this.p0.x,this.grpXyz.y=this.p0.y,this.p2=new egret.Point(this.btnDraw.x,this.btnDraw.y),this.p1=new egret.Point,this.p0.x>this.p2.x?this.p1.x=this.p2.x-50:this.p1.x=this.p2.x+50,this.p1.y=this.p2.y+(this.p0.y-this.p2.y)/3*2,App.THH33.aUE(this.grpXyz,"act_xyz"),egret.Tween.get(this).to({factor:1},700,egret.Ease.cubicIn).wait(200).call(e).call(this.ZC25,this))},Object.defineProperty(t.prototype,"factor",{get:function(){return 0},set:function(t){this.grpXyz.x=(1-t)*(1-t)*this.p0.x+2*t*(1-t)*this.p1.x+t*t*this.p2.x,this.grpXyz.y=(1-t)*(1-t)*this.p0.y+2*t*(1-t)*this.p1.y+t*t*this.p2.y},enumerable:!0,configurable:!0}),t.prototype.ZC25=function(){egret.Tween.removeTweens(this),App.THH33.rEf(this.grpXyz,"act_xyz")},t}(BaseEuiView);__reflect(RebateTurntableView.prototype,"RebateTurntableView"),function(t){var e=function(i){function t(t){var e=i.call(this,t)||this;return e.updateData(t),e}return __extends(t,i),t.prototype.getCount=function(){var t=0;for(var e in this.tm)t+=this.tm[e]||0;return t},t.prototype.updateData=function(t){var n=this;if(t.atmp){this.rcgs=t.atmp.reward.split("|").map(function(t){var e=t.split("-"),i=e[0];e[1];return i}),this.rates={},t.atmp.more.split(";").forEach(function(t){var e=t.split(","),i=e[0],s=e[1],o=(e[2],parseInt(i)),r=parseFloat(s);n.rates[o]={id:o,rate:r}});var e=t.atmp.cost.split("|"),i=e[0],s=e[1];this.baseRate=parseFloat(i),this.max=parseFloat(s)}this.tm=P7.getValue(t.tm,this.tm),this.om=P7.getValue(t.om,this.om)},t}(ActivityVo);t.ActData=e,__reflect(e.prototype,"RebateTurntable.ActData")}(RebateTurntable||(RebateTurntable={}));var D18=function(){function t(){}return t.A6=10001,t.A5=10002,t.A4=10003,t.A3=10004,t.A1=20001,t.A2=20002,t}();__reflect(D18.prototype,"D18");var TA65=function(i){function t(){var t=i.call(this)||this,e=new TC60(t);return e.aLV(O7.F24),e.aLV(O7.F69),e.aLV(O7.I64),t.proxy=new TC61(t),App.VM.register(O7.F24,"RecruitMoneyView",t,K17.UI_Main),t.rgF(D18.A6,t.GF25,t),t.rgF(D18.A5,t.GE25,t),App.VM.register(O7.A96,"RecruitMoneyRewardView",t,K17.UI_Tips),t.rgF(D18.A4,t.GD24,t),t.rgF(D18.A3,t.GC29,t),t.rgF(D18.A1,t.GW94,t),t.rgF(D18.A2,t.GW95,t),t}return __extends(t,i),t.prototype.GF25=function(){App.VM.open(O7.F24)},t.prototype.GE25=function(){App.VM.close(O7.F24)},t.prototype.GD24=function(){App.VM.open(O7.A96)},t.prototype.GC29=function(){App.VM.close(O7.A96)},t.prototype.GW94=function(){this.gtM();this.proxy.GW94()},t.prototype.GW95=function(t){var e=this;if(200==t.head.state){var i=this.gtM();i.ZC13(t.body),i.notify(P4.I3);var s=App.K16.doTimer(2e3,1,function(){App.K16.rBH(s),s=null,t.body.ob&&P5.sIs(t.body.ob),e.GD24()},this)}else App.CM.apF(O6.B87,L10.A4,t)},t}(TE11);__reflect(TA65.prototype,"TA65");var TC60=function(i){function t(t){var e=i.call(this,t)||this;return e.openState=!1,e.redNum=0,e.firstLoginRedNum=0,e}return __extends(t,i),t.prototype.ZC13=function(t){t&&(null!=this.actData?this.actData.updateData(t):(this.actData=new RecruitMoneyData(t),this.tips=this.actData.tips),this.updateRed())},t.prototype.updateRed=function(){this.redNum=this.FL35()},t.prototype.FL35=function(){return 0<this.firstLoginRedNum?this.firstLoginRedNum:this.actData.canDraw},t.prototype.ZQ35=function(){},t.prototype.notify=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];i.prototype.notifyView.call(this,this,t)},t}(TG79);__reflect(TC60.prototype,"TC60");var TC61=function(e){function t(t){return e.call(this,t)||this}return __extends(t,e),t.prototype.GW94=function(){var t={type:P4.I2,body:{}};this.rSMO(P4.I3,this.GW95,this),this.sSM(t)},t.prototype.GW95=function(t){this.apF(D18.A2,t)},t}(TG80);__reflect(TC61.prototype,"TC61");var RecruitMoneyRewardView=function(s){function t(t,e){var i=s.call(this,t,e)||this;return i.skinName="RecruitMoneyRewardSkin",i}return __extends(t,s),t.prototype.initUI=function(){s.prototype.initUI.call(this),this.collection=new eui.ArrayCollection,this.dgReward.itemRenderer=ItemIcon,this.dgReward.dataProvider=this.collection,this.btnOK.label=O3.tr(5504),this.dlg.title=O3.tr(5503)},t.prototype.initData=function(){s.prototype.initData.call(this)},t.prototype.open=function(){this.dlg.ZM69(this.oCC,this),this.btnOK.addEventListener(egret.TouchEvent.TOUCH_TAP,this.oCC,this),this.updateViews()},t.prototype.close=function(){this.btnOK.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.oCC,this),this.collection.removeAll()},t.prototype.updateViews=function(){var t=App.CM.gtM(O6.A70);this.lbTips.textFlow=M18.HTP.parse(O3.tr(5502,t.actData.oldMuch,t.actData.oldGold));var e=[],i={itemData:{data:N12.gID(N12.itemId.gold),ct:t.actData.oldGold},isBottom:!1};e.push(i),this.collection.replaceAll(e)},t.prototype.oCC=function(){this.aCF(O6.A70,D18.A3)},t}(BaseEuiView);__reflect(RecruitMoneyRewardView.prototype,"RecruitMoneyRewardView");var RecruitMoneyView=function(o){function t(t,e){var i=o.call(this,t,e)||this;return i.sGN("release_act1076"),i.skinName="RecruitMoneySkin",i}return __extends(t,o),t.prototype.initUI=function(){o.prototype.initUI.call(this),this.btnRecharge.label=O3.tr(5497)},t.prototype.ZM93=function(){App.CM.apF(O6.C29,P8.A7)},t.prototype.open=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];o.prototype.open.call(this),this.btnRecharge.addEventListener(egret.TouchEvent.TOUCH_TAP,this.ZM93,this),this.btnDraw.addEventListener(egret.TouchEvent.TOUCH_TAP,this.clickBtnDraw,this);var i=App.CM.gtM(O6.A70);this.ZA92(i)},t.prototype.clickBtnDraw=function(){var t=this,e={handler:function(){t.aCF(O6.A70,D18.A1)},content:O3.tr(6722)};App.VM.open(O7.C54,e)},t.prototype.uBM=function(t){for(var i=this,e=[],s=1;s<arguments.length;s++)e[s-1]=arguments[s];if(o.prototype.uBM.call(this,t,e),t instanceof TC60)switch(e[0][0]){case P4.I3:egret.Tween.get(this).wait(1e3).call(function(){i.ZG25(),i.ZA92(t)}),this.changeHandler||(this.changeHandler=App.K16.doFrame(1,0,function(){i.btnDraw.enabled=!1,P16.sGF(i.btnDraw,!0);for(var t="",e=0;e<9;e++)t+=Math.floor(10*Math.random());i.rebate.text=t},this));break;default:this.ZA92(t)}},t.prototype.ZA92=function(t){if(this.btnDraw.enabled=!!t.actData.canDraw,P16.sGF(this.btnDraw,!t.actData.canDraw),this.lbMindraw.textFlow=M18.HTP.parse(O3.tr(5498,t.actData.minGold)),this.lbMaxdraw.textFlow=M18.HTP.parse(O3.tr(5499,t.actData.highestMuch)),this.lbHelp.textFlow=M18.HTP.parse(K18.ar(t.actData.desc,t.actData.minGold,t.actData.baseGoldMuch,t.actData.highestMuch)),this.grpMultiple.visible=!!t.actData.oldMuch,this.rebate.text="000000000",t.actData.overNum?this.lbMoverNum.textFlow=M18.HTP.parse(O3.tr(5581,t.actData.overNum)):this.lbMoverNum.textFlow=M18.HTP.parse(O3.tr(5582,t.actData.overNum)),t.actData.oldMuch&&(this.lbMultiple.textFlow=M18.HTP.parse(O3.tr(5501,t.actData.oldMuch)),this.rebate.text=t.actData.oldGold+"",9!=this.rebate.text.length))for(var e=9-this.rebate.text.length;0<e;e--)this.rebate.text=0+this.rebate.text;var i=t.actData.cumulative+"";if(9!=i.length)for(e=9-i.length;0<e;e--)i=0+i;for(e=0;e<this.grpNum.numChildren;e++){this.grpNum.getChildAt(e).textFlow=M18.HTP.parse(O3.tr(5505,i[e]))}if(null==this.timerHandler)if(0<t.actData.rs){this.leftCD=t.actData.ZHH64();var s=O3.tr(5500,P6.FJ11(1e3*this.leftCD,5));this.leftCdLb.textFlow=M18.HTP.parse(s),this.timerHandler=App.K16.doTimer(1e3,this.leftCD,this.GY14,this)}else this.leftCdLb.text=""},t.prototype.GY14=function(){this.leftCD--;var t=O3.tr(3253,P6.FJ11(1e3*this.leftCD,5));this.leftCdLb.textFlow=M18.HTP.parse(t),this.leftCD<=0&&(this.cTH(),this.leftCdLb.text="")},t.prototype.cTH=function(){null!=this.timerHandler&&(App.K16.rBH(this.timerHandler),this.timerHandler=null)},t.prototype.ZG25=function(){null!=this.changeHandler&&(App.K16.rBH(this.changeHandler),this.changeHandler=null)},t.prototype.close=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];o.prototype.close.call(this),this.cTH(),this.ZG25(),this.btnRecharge.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.ZM93,this),this.btnDraw.addEventListener(egret.TouchEvent.TOUCH_TAP,this.clickBtnDraw,this)},t}(BaseEuiView);__reflect(RecruitMoneyView.prototype,"RecruitMoneyView");var RecruitMoneyData=function(i){function t(t){var e=i.call(this,t)||this;return e.updateData(t),e}return __extends(t,i),t.prototype.updateData=function(t){t&&(this.minGold=null!=t.m?t.m:this.minGold,this.baseGoldMuch=null!=t.gr?t.gr:this.baseGoldMuch,this.cumulative=null!=t.g?t.g:this.cumulative,this.oldGold=null!=t.bg?t.bg:this.oldGold,this.oldMuch=null!=t.br?t.br:this.oldMuch,this.highestMuch=null!=t.hbr?t.hbr:this.highestMuch,this.canDraw=null!=t.ls?t.ls:this.canDraw,this.overNum=null!=t.rn?t.rn:this.overNum,this.ZU63(t))},t}(ActivityVo);__reflect(RecruitMoneyData.prototype,"RecruitMoneyData");var RecruitMoneyVo=function(t){this.id=t.id,this.type=t.type};__reflect(RecruitMoneyVo.prototype,"RecruitMoneyVo");var E10=function(){function t(){}return t.A2=10001,t.A1=10002,t.A4=10003,t.A3=10004,t}();__reflect(E10.prototype,"E10");var TA99=function(i){function t(){var t=i.call(this)||this,e=new TD24(t);return e.aLV(O7.D47),e.aLV(O7.G20),e.aLV(O7.D12),e.aLV(O7.I64),App.VM.register(O7.D47,"ScoreUpRankActView",t,K17.UI_Main),t.rgF(E10.A2,t.GD25,t),t.rgF(E10.A1,t.GC30,t),App.VM.register(O7.G20,"ScoreUpRankView",t,K17.UI_Main_TOP),t.rgF(E10.A4,t.GG81,t),t.rgF(E10.A3,t.GF26,t),t.scoreUpProxy=new TD25(t),t}return __extends(t,i),t.prototype.GD25=function(){App.VM.open(O7.D47);var t=App.CM.gtM(O6.A36);t.firstLoginRedNum=0,t.notify()},t.prototype.GC30=function(){App.VM.close(O7.D47)},t.prototype.GG81=function(){App.VM.open(O7.G20)},t.prototype.GF26=function(){App.VM.close(O7.G20)},t}(TE11);__reflect(TA99.prototype,"TA99");var TD24=function(i){function t(t){var e=i.call(this,t)||this;return e.openState=!1,e.redNum=0,e.firstLoginRedNum=0,e}return __extends(t,i),t.prototype.ZC13=function(t){t&&(null!=this.actData?this.actData.updateData(t):(this.actData=new ScoreUpRankData(t),this.tips=this.actData.tips),this.updateRed())},t.prototype.updateRed=function(){this.redNum=this.FL35()},t.prototype.FL35=function(){var t=0;return t+=this.firstLoginRedNum},t.prototype.notify=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];i.prototype.notifyView.apply(this,[this].concat(t))},t}(TG79);__reflect(TD24.prototype,"TD24");var TD25=function(e){function t(t){return e.call(this,t)||this}return __extends(t,e),t}(TG80);__reflect(TD25.prototype,"TD25");var TD73=function(){function t(){}return t.FE58=function(t){var e=[];if(!t||0===t.length)return e;if(10<t[0].nRank)return t.map(function(t,e){return t.index=e,t});for(var i=3,s=2;0<=s;s-=1){var o=t[s],r=void 0;r=o&&o.nRank===s+1?{sName:o.sName,noPalyer:!1,su:o.su,index:o.nRank-1,nRank:o.nRank}:(i=s,{sName:O3.tr(3304),noPalyer:!0,su:0,index:s,nRank:s+1}),e.unshift(r)}for(s=i;s<t.length;s+=1){var n=t[s];e.push({sName:n.sName,noPalyer:!1,su:n.su,index:e.length,nRank:n.nRank})}return e},t}();__reflect(TD73.prototype,"TD73");var ScoreUpRankActView=function(s){function t(t,e){var i=s.call(this,t,e)||this;return i.sGN("release_act1061"),i.skinName="RechargeRankSkin",i.labChecked.addEventListener(egret.TouchEvent.TOUCH_TAP,i.ZE67,i),i}return __extends(t,s),t.prototype.initUI=function(){s.prototype.initUI.call(this),this.labChecked.textFlow=M18.HTP.parse(O3.tr(3822)),P7.FM14()||(this.leftCdLb.x=260)},t.prototype.open=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];s.prototype.open.apply(this,t)},t.prototype.ZE67=function(){App.CM.apF(O6.A36,E10.A4)},t.prototype.uBM=function(t){for(var i=this,e=[],s=1;s<arguments.length;s++)e[s-1]=arguments[s];if(t instanceof TD24&&(this.actData=t.actData,this.actData.rewardList.forEach(function(t,e){return i.updateAPage(i["content"+(e+1)],t.rs,t.re,t.rw)}),this.GX5(t),this.showBoss(this.actData.u),null==this.timerHandler))if(0<this.actData.rs){this.leftCD=this.actData.ZHH64();var o=O3.tr(3253,P6.FJ11(1e3*this.leftCD,5));this.leftCdLb.textFlow=M18.HTP.parse(o),this.timerHandler=App.K16.doTimer(1e3,this.leftCD,this.GY14,this)}else this.leftCdLb.text=""},t.prototype.showBoss=function(t){if(this.objBoss&&(this.grpBossArm.removeChildren(),this.objBoss.destory(),this.objBoss=null),t){this.objBoss=new FightGameObject,this.objBoss.action=Action.Stand;var e={x:0,y:0,dir:Dir.br,objType:P13.A6};this.objBoss.setBaseData(e),t.bt=BehaviourType.Attack_d,t.sr=1,this.objBoss.setData(t,this.grpBossArm)}},t.prototype.GX5=function(t){var e=Math.floor(100*(t.actData.mine.v||0))/100,i=t.actData.mine.r||0;this.myAmount.textFlow=M18.HTP.parser(O3.tr(4801,M18.FF65(e,1))),this.myRankLb.textFlow=M18.HTP.parser(O3.tr(3299,100<i||i<=0?O3.tr(3252):i)),this.labNameOne.text=this.labName.text=t.actData.roles[0]?t.actData.roles[0].name:O3.tr(3304),this.labNameTwo.text=t.actData.roles[1]?t.actData.roles[1].name:O3.tr(3304),this.tips.text=O3.tr.apply(O3,[4800].concat(this.actData.tipsParams))},t.prototype.updateAPage=function(t,e,i,s){var o=this,r=t.getChildByName("rank"),n=t.getChildByName("scReward").getChildAt(0);r.text=e-i?O3.tr(6710,e,i):O3.tr(6711,e);var a=new eui.ArrayCollection;n.dataProvider=a,n.itemRenderer=rechargeItem;var h=[];s.forEach(function(t){var e=N12.gID(t.k);h.push({itemData:{data:e,ct:t.v,texiao:o.actData.hasEffect(t.k)?TF59.FC9(e.quality):void 0},isBottom:!1,scale:.9})}),a.replaceAll(h)},t.prototype.GY14=function(){this.leftCD--;var t=O3.tr(3253,P6.FJ11(1e3*this.leftCD,5));this.leftCdLb.textFlow=M18.HTP.parse(t),this.leftCD<=0&&(this.cTH(),this.leftCdLb.text="")},t.prototype.cTH=function(){null!=this.timerHandler&&(App.K16.rBH(this.timerHandler),this.timerHandler=null)},t.prototype.close=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];s.prototype.close.call(this),this.labChecked.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.ZE67,this),this.actData=null,this.cTH(),this.grpBossArm.removeChildren(),this.objBoss&&(this.objBoss.destory(),this.objBoss=null)},t}(BaseEuiView);__reflect(ScoreUpRankActView.prototype,"ScoreUpRankActView");var ScoreUpRankView=function(s){function t(t,e){var i=s.call(this,t,e)||this;return i.curIndex=0,i.pageNum=1,i.curPageNum=1,i.skinName=ConsumeRankSkin,i.dlg.ZU10().visible=!0,i}return __extends(t,s),t.prototype.initUI=function(){s.prototype.initUI.call(this);var t=App.CM.gtM(O6.A36);this.rankType=t.actData.rankType;var e={render:ScoreUpRankItem,gap:0,width:this.listGroup.width,height:this.listGroup.height};this.listView=new CommonListBase(e),this.listGroup.addChild(this.listView),this.listView.verticalCenter=0,this.listView.horizontalCenter=0,this.lbTitle3.text=O3.tr(4803),this.dlg.title=O3.tr(6832),this.lbTitle1.textFlow=M18.HTP.parser(O3.tr(6833)),this.lbTitle2.textFlow=M18.HTP.parser(O3.tr(6834))},t.prototype.open=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.listView.open(),this.dlg.ZM69(this.oCC,this),this.dlg.ZQ14(this.oCC,this),this.btnLeft.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickLeft,this),this.btnRight.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickRight,this),this.curPageNum=1,this.loadListData()},t.prototype.uBM=function(t,e){s.prototype.uBM.call(this,t,e),t instanceof TD24&&(e==P4.U30||e==P4.P76?this.oCC():this.loadListData()),t instanceof THH11&&e==P4.X79&&this.updateViews()},t.prototype.updateViews=function(){var t=App.CM.gtM(O6.A36);this.actData=t.actData;var e=this.actData.mine.r||0;if(100<e||e<=0){var i=O3.tr(3299,O3.tr(3252));this.myRankLb.textFlow=(new egret.HtmlTextParser).parser(i)}else{i=O3.tr(3299,e);this.myRankLb.textFlow=(new egret.HtmlTextParser).parser(i)}var s=App.CM.gtM(O6.C19);if(s.rankList){var o=TD73.FE58(s.rankList);this.listView.rfL(o)}this.curPageNum=null!=s.nCurrentPage?s.nCurrentPage:1,this.pageNum=null!=s.nAllPage?s.nAllPage:1,this.ZM92()},t.prototype.loadListData=function(){var t={type:this.rankType,currPage:this.curPageNum,size:10};App.CM.apF(O6.C19,O18.A5,t)},t.prototype.ZM92=function(){this.pageLb.text=this.curPageNum+"/"+this.pageNum},t.prototype.onClickLeft=function(){1!=this.curPageNum&&(this.curPageNum=this.curPageNum-1,this.loadListData(),this.ZM92())},t.prototype.onClickRight=function(){this.curPageNum>=this.pageNum||(this.curPageNum=this.curPageNum+1,this.loadListData(),this.ZM92())},t.prototype.oCC=function(){App.CM.apF(O6.A36,E10.A3)},t.prototype.close=function(){this.curPageNum=null,this.listView.close(),this.btnLeft.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickLeft,this),this.btnRight.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickRight,this),this.actData=null},t}(BaseEuiView);__reflect(ScoreUpRankView.prototype,"ScoreUpRankView");var ScoreUpRankItem=function(e){function t(){var t=e.call(this)||this;return t.skinName=ConsumeRankItemSkin,t}return __extends(t,e),t.prototype.dataChanged=function(){this.imgBg.visible=this.data.nRank%2!=0,this.lbRank.text=this.data.nRank,this.lbName.text=this.data.sName,this.lbConsumption.text=O3.tr(4802,"???");var t=App.CM.gtM(O6.A36).actData.mine.r,e=App.CM.gtM(O6.C19),i=TD73.FE58(e.rankList);if(null==t||100<t||0==t){var s=null!=e.nAllPage?e.nAllPage:1;e.nCurrentPage==s&&this.data.index==i.length-1&&(this.lbConsumption.text=O3.tr(4802,M18.FF65(this.data.su,1)))}else this.data.nRank>=t-1&&this.data.nRank<=t+1&&(this.lbConsumption.text=O3.tr(4802,M18.FF65(this.data.su,1)))},t}(eui.ItemRenderer);__reflect(ScoreUpRankItem.prototype,"ScoreUpRankItem");var ScoreUpRankData=function(i){function t(t){var e=i.call(this,t)||this;return e.rewardList=[],e.roles=[],e.tipsParams=[],e.updateData(t),e.cost&&(e.tipsParams=e.cost.split("|")[0].split(",")),e}return __extends(t,i),t.prototype.updateData=function(t){this.rewardList=t.rw||this.rewardList,this.roles=t.r||this.roles,this.mine=t.me||this.mine,this.u=t.u||this.u,this.rankType=t.t||this.rankType,t&&this.ZU63(t)},t.prototype.hasEffect=function(t){return this.reward&&0<=this.reward.split(",").map(function(t){return parseInt(t)}).indexOf(t)},t}(ActivityVo);__reflect(ScoreUpRankData.prototype,"ScoreUpRankData");var ScoreUpRankRes=function(){function t(t){this.consumption=0,this.initData(t)}return t.prototype.initData=function(t){t&&(this.id=t.id,this.consumption=t.v,this.rank=t.r,this.name=t.name)},t}();__reflect(ScoreUpRankRes.prototype,"ScoreUpRankRes");var ScoreUpRewardConf=function(){function t(t){this.initData(t)}return t.prototype.initData=function(t){t&&(this.rankStart=t.rs,this.rankEnd=t.re,this.award=t.rw)},t}();__reflect(ScoreUpRewardConf.prototype,"ScoreUpRewardConf");var J10=function(){function t(){}return t.A3=10001,t.A4=10002,t.A1=10003,t.A2=10004,t}();__reflect(J10.prototype,"J10");var TC9=function(i){function t(){var t=i.call(this)||this,e=new TF22(t);return t.proxy=new TF23(t),e.aLV(O7.F62),App.VM.register(O7.F62,"SevenDayView",t,K17.UI_Main),App.VM.register(O7.B22,"SevenDayRewardView",t,K17.UI_Main_TOP),App.VM.register(O7.C30,"SevenDayShowView",t,K17.UI_Main_TOP),t.rgF(J10.A3,t.getDRReq,t),t.rgF(J10.A4,t.getDRRes,t),t.rgF(J10.A1,t.getARReq,t),t.rgF(J10.A2,t.getARRes,t),t}return __extends(t,i),t.prototype.getDRReq=function(t){this.proxy.getDRReq(t)},t.prototype.getDRRes=function(t){if(200==t.head.state){var e=this.gtM();e.ZC13(t.body),e.notify(P4.A11)}else App.CM.apF(O6.B87,L10.A4,t)},t.prototype.getARReq=function(t){this.proxy.getARReq(t)},t.prototype.getARRes=function(t){if(200==t.head.state){var e=this.gtM();e.ZC13(t.body),e.notify(P4.A2)}else App.CM.apF(O6.B87,L10.A4,t)},t}(TE11);__reflect(TC9.prototype,"TC9");var TF22=function(i){function t(t){var e=i.call(this,t)||this;return e.openState=!1,e.redNum=0,e.firstLoginRedNum=0,e.isShow=!0,e}return __extends(t,i),t.prototype.ZC13=function(t){t&&(null!=this.actData?this.actData.updateData(t):(this.actData=new SevenDayData(t),this.tips=this.actData.tips),this.updateRed())},t.prototype.setSuc=function(){},t.prototype.updateRed=function(){this.redNum=this.FL35()},t.prototype.FL35=function(){var t=0;return t+=this.firstLoginRedNum,t+=this.ZU56()},t.prototype.ZU56=function(){var t=this.actData.ZU74();for(var e in t)if(t[e].state==J13.A3)return 1;var i=this.actData.FJ27();for(var e in i)if(i[e].state==J13.A3)return 1;return 0},t.prototype.notify=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];i.prototype.notifyView.apply(this,[this].concat(t))},t}(TG79);__reflect(TF22.prototype,"TF22");var TF23=function(e){function t(t){return e.call(this,t)||this}return __extends(t,e),t.prototype.getDRReq=function(t){var e={type:P4.A10,body:{day:t}};this.rSMO(P4.A11,this.getDRRes,this),this.sSM(e)},t.prototype.getDRRes=function(t){this.apF(J10.A4,t)},t.prototype.getARReq=function(t){var e={type:P4.A1,body:{day:t}};this.rSMO(P4.A2,this.getARRes,this),this.sSM(e)},t.prototype.getARRes=function(t){this.apF(J10.A2,t)},t}(TG80);__reflect(TF23.prototype,"TF23");var TF69=function(){function t(){}return t.FK41=function(t){var e=[];for(var i in t){var s={isBottom:!1,itemData:t[i],scale:.85};e.push(s)}return e},t.FE58=function(){},t}();__reflect(TF69.prototype,"TF69");var SevenDayAItem=function(e){function t(){var t=e.call(this)||this;return t.skinName="SevenDayAItemSkin",t.addEventListener(egret.Event.ADDED_TO_STAGE,t.open,t),t.addEventListener(egret.Event.REMOVED_FROM_STAGE,t.close,t),t}return __extends(t,e),t.prototype.open=function(){this.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickGet,this)},t.prototype.close=function(){this.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickGet,this)},t.prototype.childrenCreated=function(){e.prototype.createChildren.call(this),this.lbStr.text=O3.tr(8681)},t.prototype.dataChanged=function(){switch(this.data.state){case J13.A3:this.imgCan.visible=!0,this.imgNoGot.visible=!0,this.imgGotX.visible=!1,this.imgGotZ.visible=!1,this.imgNew.visible=!0;var t=this.data.day;this.lbDay.textFlow=O3.tr2(8682,t+" / "+this.data.day,"");break;case J13.A1:this.imgCan.visible=!1,this.imgNoGot.visible=!0,this.imgGotX.visible=!1,this.imgGotZ.visible=!1,this.imgNew.visible=!1;t=this.data.l;this.lbDay.textFlow=O3.tr2(8682,t," / "+this.data.day);break;case J13.A2:this.imgCan.visible=!0,this.imgNoGot.visible=!1,this.imgGotX.visible=!0,this.imgGotZ.visible=!1,this.imgNew.visible=!1;t=this.data.day;this.lbDay.textFlow=O3.tr2(8682,t+" / "+this.data.day,"")}},t.prototype.onClickGet=function(){switch(this.data.state){case J13.A3:App.CM.apF(O6.B62,J10.A1,this.data.day);break;case J13.A1:App.VM.open(O7.C30,this.data);break;case J13.A2:var t=O3.tr(8687);P18.sDP(t,!1)}},t}(eui.ItemRenderer);__reflect(SevenDayAItem.prototype,"SevenDayAItem");var SevenDayItem=function(e){function t(){var t=e.call(this)||this;return t.skinName=SevenDayItemSkin,t.addEventListener(egret.Event.ADDED_TO_STAGE,t.open,t),t.addEventListener(egret.Event.REMOVED_FROM_STAGE,t.close,t),t}return __extends(t,e),t.prototype.open=function(){this.btnGet.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickGet,this),this.btnGet.label=O3.tr(1563)},t.prototype.close=function(){this.btnGet.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickGet,this),this.itemCollection.removeAll()},t.prototype.childrenCreated=function(){e.prototype.createChildren.call(this),this.itemCollection=new eui.ArrayCollection,this.listContent.dataProvider=this.itemCollection,this.listContent.itemRenderer=ItemIcon,this.awardsSc.scrollPolicyV=eui.ScrollPolicy.OFF,this.btnGet.label=O3.tr(8684)},t.prototype.dataChanged=function(){var t=M18.SectionToChinese(this.data.day);switch(this.lbDay.text=O3.tr(8683,t),this.btnGet.imgNew.visible=!1,this.data.state){case J13.A3:this.btnGet.imgNew.visible=!0,this.btnGet.visible=!0,this.imgGot.visible=!1,P16.sGF(this.btnGet,!1),this.btnGet.enabled=!0;break;case J13.A1:this.btnGet.visible=!0,this.btnGet.enabled=!1,this.imgGot.visible=!1,P16.sGF(this.btnGet,!0);break;case 4:this.btnGet.visible=!1,this.imgGot.visible=!0,this.imgGot.source="v1_fonts_yijieshu_png";break;case J13.A2:this.btnGet.visible=!1,this.imgGot.visible=!0,this.imgGot.source="v1_fonts_yilingqu_png"}this.itemCollection.source=P7.str2kv(this.data.reward).map(function(t){var e=t.k,i=t.v,s=N12.gID(e);return{itemData:{data:s,ct:i,texiao:TF59.FC9(s.quality)},isBottom:!1}})},t.prototype.onClickGet=function(){App.CM.apF(O6.B62,J10.A3,this.data.day)},t}(eui.ItemRenderer);__reflect(SevenDayItem.prototype,"SevenDayItem");var SevenDayRewardView=function(o){function t(t,e){var i=o.call(this,t,e)||this;return i.time=10,i.skinName="SevenDayRewardSkin",i}return __extends(t,o),Object.defineProperty(t.prototype,"model",{get:function(){return App.CM.gtM(O6.B62)},enumerable:!0,configurable:!0}),t.prototype.initUI=function(){o.prototype.initUI.call(this),this.btnOk.addEventListener(egret.TouchEvent.TOUCH_TAP,this.oCC,this),this.bgMask.addEventListener(egret.TouchEvent.TOUCH_TAP,this.oCC,this),this.rewards.dataProvider=this.dataSource=new eui.ArrayCollection,this.rewards.itemRenderer=DoubleRingDrawItemView,this.btnOk.label=O3.tr(7012)},t.prototype.open=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];o.prototype.open.apply(this,[t].concat(e));var s=t;P5.sIs(s),this.dataSource.source=s.map(function(t){return{itemData:{data:N12.gID(t.k),ct:t.v,texiao:!1},isBottom:!0}}),this.time=10,this.labTime.textFlow=O3.tr2(7007,this.time),App.K16.doTimer(1e3,this.time,this.countdown,this,this.oCC,this)},t.prototype.close=function(){App.K16.removeAll(this),this.btnOk.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.oCC,this),this.bgMask.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.oCC,this),this.dataSource.removeAll(),o.prototype.close.call(this)},t.prototype.countdown=function(){this.time-=1,this.labTime.textFlow=O3.tr2(7007,this.time)},t.prototype.oCC=function(){App.VM.GY64(this)},t}(BaseEuiView);__reflect(SevenDayRewardView.prototype,"SevenDayRewardView");var SevenDayShowView=function(s){function t(t,e){var i=s.call(this,t,e)||this;return i.skinName="SevenDayShowSkin",i}return __extends(t,s),Object.defineProperty(t.prototype,"model",{get:function(){return App.CM.gtM(O6.B62)},enumerable:!0,configurable:!0}),t.prototype.initUI=function(){s.prototype.initUI.call(this),this.dlg.ZM69(this.oCC.bind(this),this),this.rewards.dataProvider=this.dataSource=new eui.ArrayCollection,this.rewards.itemRenderer=DoubleRingDrawItemView},t.prototype.open=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];s.prototype.open.apply(this,[t].concat(e)),this.model.isShow=!1,4<=P7.str2kv(t.reward).length&&(this.scroller.width=360),this.dlg.title=O3.tr(8685,t.day),this.dataSource.source=P7.str2kv(t.reward).map(function(t){var e=t.k,i=t.v,s=N12.gID(e);return{itemData:{data:s,ct:i,texiao:TF59.FC9(s.quality)},isBottom:!0}})},t.prototype.close=function(){this.dataSource.removeAll(),s.prototype.close.call(this)},t.prototype.oCC=function(){App.VM.GY64(this),this.model.isShow=!0},t}(BaseEuiView);__reflect(SevenDayShowView.prototype,"SevenDayShowView");var SevenDayView=function(o){function t(t,e){var i=o.call(this,t,e)||this;return i.sGN("release_act1136"),i.skinName="SevenDaySkin",i}return __extends(t,o),t.prototype.initUI=function(){this.itemS=[this.item0,this.item1,this.item2];var t={render:SevenDayItem,width:this.gpList.width,height:this.gpList.height,gap:5};this.myListView=new CommonListBase(t),this.gpList.addChild(this.myListView),this.lbStr.text=O3.tr(8686)},t.prototype.open=function(){for(var e=this,t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];o.prototype.open.call(this),this.myListView.open();var s=App.CM.gtM(O6.B62);s.isShow=!0,this.ZE79(s),App.K16.doFrame(1,1,function(){var t=App.VM.gOV(TF59.FA34(F7.B27));t&&t.autoOut&&(e.autoOutVis=t.autoOut.visible,t.autoOut.visible=!1)},this)},t.prototype.close=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];o.prototype.close.call(this),this.myListView.close(),this.cTH()},t.prototype.uBM=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];o.prototype.uBM.call(this,t,e),t instanceof TF22&&(e[0]==P4.A11?(this.updateUI(t),this.ZQ68()):e[0]==P4.A2?(this.updateUI(t),this.ZQ68()):this.updateUI(t))},t.prototype.ZE79=function(t){if(this.updateUI(t),null==this.timerHandler)if(0<t.actData.rs){this.leftCD=t.actData.ZHH64();var e=O3.tr(7569,P6.FJ11(1e3*this.leftCD,5));this.cdLb.textFlow=M18.HTP.parse(e),this.timerHandler=App.K16.doTimer(1e3,this.leftCD,this.GY14,this)}else this.cdLb.text=""},t.prototype.updateUI=function(t){var e=t.actData.ZU74();this.myListView.rfL(e),this.imgJdt.width=this.getJdtWidth(t);var i=t.actData.FJ27();for(var s in this.itemS)this.itemS[s].data=i[s]},t.prototype.ZQ68=function(){var t=App.CM.gtM(O6.B62);App.VM.open(O7.B22,t.actData.ob)},t.prototype.getJdtWidth=function(t){var e=[80,170,205],i=t.actData.FJ27(),s=[i[0].day,i[1].day-i[0].day,i[2].day-i[1].day],o=t.actData.yet.length,r=0;for(var n in s){if(!(0<o-s[n]))return r+=e[n]/s[n]*o;o-=s[n],r+=e[n]}},t.prototype.GY14=function(){this.leftCD--;var t=O3.tr(3253,P6.FJ11(1e3*this.leftCD,5));this.cdLb.textFlow=M18.HTP.parse(t),this.leftCD<=0&&(this.cTH(),this.cdLb.text="")},t.prototype.cTH=function(){null!=this.timerHandler&&(App.K16.rBH(this.timerHandler),this.timerHandler=null)},t}(BaseEuiView);__reflect(SevenDayView.prototype,"SevenDayView");var SevenDayData=function(i){function t(t){var e=i.call(this,t)||this;return e.tipIdx=0,e.updateData(t),e}return __extends(t,i),t.prototype.updateData=function(t){if(t.atmp){var e=t.atmp;this.reward=e.reward?e.reward:this.reward,this.rank=e.rank?e.rank:this.rank}this.ob=t.ob?t.ob:this.ob,this.yet=t.s?t.s:this.yet,this.cyet=t.e?t.e:this.cyet,this.ryet=t.t?t.t:this.ryet,this.day=0<=t.day?t.day:this.day,this.ZU63(t)},t.prototype.ZU74=function(){var t=[],e=this.reward.split("|");for(var i in e){var s=e[i].split(","),o=this.getRewarkS(Number(s[0])),r={day:s[0],reward:s[1],state:o};t.push(r)}return t.sort(function(t,e){return t.state==e.state?t.day-e.day:3!=t.state&&4!=t.state||3!=e.state&&4!=e.state?t.state-e.state:t.day-e.day}),t},t.prototype.getRewarkS=function(t){for(var e in this.yet)if(t==this.yet[e]){for(var i in this.cyet)if(t==this.cyet[i])return J13.A2;return J13.A3}return t>=this.day?J13.A1:4},t.prototype.FJ27=function(){var t=this.rank.split("|"),e=[];for(var i in t){var s=t[i].split(","),o=this.getRankS(s[0]),r={day:s[0],reward:s[1],state:o,l:this.yet.length};e.push(r)}return e},t.prototype.getRankS=function(t){if(t<=this.yet.length){if(this.ryet)for(var e in this.ryet)if(this.ryet[e]==t)return J13.A2;return J13.A3}return J13.A1},t}(ActivityVo);__reflect(SevenDayData.prototype,"SevenDayData"),function(t){var e=function(){function t(){}return t.select=12e3,t.JOIN=20001,t.JOIN_RES=20002,t.CREATE=20003,t.CREATE_RES=20004,t.BUY=20005,t.BUY_RES=20006,t}();t.Const=e,__reflect(e.prototype,"SwornBrothers.Const")}(SwornBrothers||(SwornBrothers={})),function(i){var t=function(e){function t(){var t=e.call(this)||this;return App.VM.register(O7.B44,"SwornBrothersBaseView",t,K17.UI_Main),App.VM.register(O7.B46,"SwornBrothersTeamView",t,K17.UI_Main_TOP),App.VM.register(O7.A16,"SwornBrothersOrderListView",t,K17.UI_Main_TOP),App.VM.register(O7.A47,"SwornBrothersBuyTipsView",t,K17.UI_Popup),new i.Model(t),t.model.aLV(O7.I39),t.model.aLV(O7.D12),t.model.aLV(O7.B44),t.model.aLV(O7.B45),t.model.aLV(O7.B46),t.model.aLV(O7.B1),t.model.aLV(O7.A46),t.model.aLV(O7.A16),t.model.aLV(O7.A47),t.rgF(i.Const.select,t.select,t),t.proxy=new i.Proxy(t),t.rgF(i.Const.CREATE,t.proxy.create,t.proxy),t.rgF(i.Const.CREATE_RES,t.GY10,t),t.rgF(i.Const.JOIN,t.proxy.join,t.proxy),t.rgF(i.Const.JOIN_RES,t.joinRes,t),t.rgF(i.Const.BUY,t.proxy.buy,t.proxy),t.rgF(i.Const.BUY_RES,t.buyRes,t),t}return __extends(t,e),Object.defineProperty(t.prototype,"model",{get:function(){return this.gtM()},enumerable:!0,configurable:!0}),t.prototype.select=function(t){var e=App.VM.gOV(O7.B45);e&&e.select(t)},t.prototype.GY10=function(t){200==t.head.state?(this.model.ZC13(t.body),this.GX5(1,t.body.or)):App.CM.apF(O6.B87,L10.A4,t)},t.prototype.joinRes=function(t){200==t.head.state?(this.model.ZC13(t.body),this.GX5(1,t.body.or)):App.CM.apF(O6.B87,L10.A4,t)},t.prototype.buyRes=function(t){200==t.head.state?(this.model.ZC13(t.body),this.GX5(2,t.body.re)):App.CM.apF(O6.B87,L10.A4,t)},t.prototype.GX5=function(t,e){var i=App.VM.gOV(O7.B46);if(i&&e){var s=1===t?e.orderId:e.recordId;i.update(t,s)}},t}(TE11);i.Controller=t,__reflect(t.prototype,"SwornBrothers.Controller")}(SwornBrothers||(SwornBrothers={})),function(e){var t=function(i){function t(t){var e=i.call(this,t)||this;return e.redNum=0,e}return __extends(t,i),t.prototype.ZC13=function(t){t&&(null!=this.actData?this.actData.updateData(t):this.actData=new e.ActVo(t),this.notify())},t.prototype.updateRed=function(){this.redNum=0,this.actData&&2===this.actData.cs.t&&(this.redNum+=this.actData.createCount,this.redNum+=this.actData.joinCount)},t.prototype.getOrder=function(){return this.actData?this.actData.ol.length:0},t.prototype.FL35=function(){return this.updateRed(),this.redNum},t.prototype.notify=function(t){i.prototype.notifyView.call(this,this,t)},t}(TG79);e.Model=t,__reflect(t.prototype,"SwornBrothers.Model")}(SwornBrothers||(SwornBrothers={})),function(s){var t=function(i){function t(t){var e=i.call(this,t)||this;return e.rSM(P4.X24,e.joinRes,e),e.rSM(P4.X22,e.GY10,e),e.rSM(P4.X85,e.buyRes,e),e}return __extends(t,i),t.prototype.join=function(t){this.sSM({type:P4.X23,body:{orderId:t}})},t.prototype.joinRes=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.apF.apply(this,[s.Const.JOIN_RES].concat(t))},t.prototype.create=function(t){this.sSM({type:P4.X21,body:{gid:t}})},t.prototype.GY10=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.apF.apply(this,[s.Const.CREATE_RES].concat(t))},t.prototype.buy=function(t){this.sSM({type:P4.X84,body:{orderId:t}})},t.prototype.buyRes=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.apF.apply(this,[s.Const.BUY_RES].concat(t))},t}(TG80);s.Proxy=t,__reflect(t.prototype,"SwornBrothers.Proxy")}(SwornBrothers||(SwornBrothers={}));var SwornBrothersBaseView=function(s){function t(t,e){var i=s.call(this,t,e)||this;return i.subMap=[],i.skinName="SwornBrothersSkin",i.set(O7.B44).rgS(O7.B45,"SwornBrothersShopView",O3.tr(6363)).rgS(O7.B1,"SwornBrothersOrderView",O3.tr(6364)).rgS(O7.A46,"SwornBrothersMyOrderView",O3.tr(6365)),i}return __extends(t,s),t.prototype.initUI=function(){this.btnList=new ButtonList(this.subMap.map(function(t){return t.title}),this.subMap.map(function(t){return t.vconst}),this.ZQ23.bind(this)),this.btnList.init(),this.btnList.ZU9(O7.B1,1),this.btnGroup.addChild(this.btnList)},t.prototype.uBM=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];s.prototype.uBM.call(this,t,e),t instanceof SwornBrothers.Model&&this.GX5(t),this.updateAllDot()},t.prototype.updateAllDot=function(){var i=this;this.subMap.forEach(function(t,e){return i.btnList.ZHH58(t.vconst,i.updateDot(e,t.vconst))})},t.prototype.updateDot=function(t,e){return e!==O7.B1?0:App.CM.gtM(O6.A53).getOrder()},t.prototype.open=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];if(s.prototype.open.call(this,t,e),0===this.subMap.length)return console.log("subMap长度为0"),!1;if(t=t||this.subMap[0].vconst,this.ZQ23.apply(this,[t].concat(e))){if(this.updateAllDot(),this.parent)this.parent.getChildByName("contentImg").height=635;return this.GX5(),!0}return!1},t.prototype.close=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(s.prototype.close.call(this);this.subMap.length;){var i=this.subMap.pop();App.VM.unregister(i.vconst)}this.parent&&(this.parent.getChildByName("contentImg").height=665)},t.prototype.indexOf=function(t){for(var e=0;e<this.subMap.length;e++)if(this.subMap[e].vconst===t)return e;return-1},t.prototype.ZQ23=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];var s,o=this.indexOf(t);if(0<=o){if(o===this.index)return!0;var r=this.subMap[o],n=r.openLv;r.view,r.title;if(App.CM.gtM(O6.B82).avatarInfo.l>=n)return this.index=o,(s=this.btnList).ZM66.apply(s,[t].concat(e)),!0;P18.sDP(M18.format(K18.init.commonDesc1.value,[n]))}return!1},t.prototype.set=function(t,e){return void 0===e&&(e=""),this.rootView=t,this},t.prototype.rgS=function(t,e,i,s){return void 0===s&&(s=1),App.VM.isRegister(t)&&console.log(t+"已经被注册过了"),App.VM.rgS(this.rootView,t,e,this.content),this.subMap.push({vconst:t,view:e,title:i,openLv:s}),this},t.prototype.GX5=function(t){t=t||App.CM.gtM(O6.A53),this.labOpenCount.textFlow=O3.tr2(6358,"#75c01a",t.actData.createCount,t.actData.dailyNum),this.labJoinCount.textFlow=O3.tr2(6359,"#75c01a",t.actData.joinCount,t.actData.stageNum)},t}(BaseEuiView);__reflect(SwornBrothersBaseView.prototype,"SwornBrothersBaseView");var SwornBrothersBuyTipsView=function(s){function t(t,e){var i=s.call(this,t,e)||this;return i.skinName="SwornBrothersBuyTipsSkin",i}return __extends(t,s),t.prototype.initUI=function(){s.prototype.initUI.call(this),this.lbStr1.text=O3.tr(6409),this.btnOk.label=O3.tr(6408)},t.prototype.GX5=function(t){var e=(t=t||App.CM.gtM(O6.A53)).actData.getTeamInfo(this.id);if(e){if(1<e.joins.length)return void this.oCC();this.price=Math.ceil(e.orgPrice*t.actData.getDiscount(e,O4.getAid())/100);var i=this.price;P16.FL31(this.gConsume,75e3,i,{shortStr:!0,textTemplate:"<font color=#75c01a>$1</font>",lackTextTemplate:"<font color=#d82222>$1</font>"}),this.msg.textFlow=O3.tr2(6367,e.discount/10)}},t.prototype.open=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];this.bgMask.addEventListener(egret.TouchEvent.TOUCH_TAP,this.oCC,this),this.backBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.oCC,this),this.btnClose.addEventListener(egret.TouchEvent.TOUCH_TAP,this.oCC,this),this.btnOk.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickOk,this),s.prototype.open.apply(this,e),this.id=t,this.GX5()},t.prototype.uBM=function(t){t instanceof SwornBrothers.Model&&this.GX5(t)},t.prototype.close=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.btnOk.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickOk,this),this.bgMask.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.oCC,this),this.backBtn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.oCC,this),this.btnClose.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.oCC,this),s.prototype.close.apply(this,t)},t.prototype.oCC=function(){App.VM.GY64(this)},t.prototype.onClickOk=function(){N12.giC(75e3)>=this.price?App.CM.apF(O6.A53,SwornBrothers.Const.BUY,this.id):P7.FA78(),this.oCC()},t}(BaseEuiView);__reflect(SwornBrothersBuyTipsView.prototype,"SwornBrothersBuyTipsView");var SwornBrothersMyOrderListItem=function(l){function t(){var t=l.call(this)||this;return t.skinName="SwornBrothersOrderItemSkin",t}return __extends(t,l),t.prototype.childrenCreated=function(){l.prototype.childrenCreated.call(this),this.iconGp.addEventListener(egret.TouchEvent.TOUCH_TAP,this.oCI,this),this.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClick,this),this.btn.visible=!1},t.prototype.close=function(){this.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClick,this),this.iconGp.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.oCI,this)},t.prototype.dataChanged=function(){l.prototype.dataChanged.call(this);var t=App.CM.gtM(O6.A53),e=this.data.orderVo,i=e.orgPrice,s=O4.getAid(),o=t.actData.getCaptain(e.joins),r=o.aid===s,n=(e.joins.length-1)*t.actData.oneDiscount+(r&&e.joins.length>=t.actData.roleNum?t.actData.captainDiscount:0),a=N12.gID(e.item.k),h=M18.FL30("$1",{color:"#feeedf"});P16.FL31(this.gOldPrice,75e3,i,{lackTextTemplate:h,textTemplate:h,tag:O3.tr(6345)});var p=M18.FL30("$1",{color:"#75c01a"});P16.FL31(this.gPrice,75e3,Math.floor(i*(e.discount-n)/100),{lackTextTemplate:p,textTemplate:p,tag:O3.tr(6346)}),O5.FB13(this.labName,a.name,a.quality,void 0,!1),P16.setIcon(this.iconGp,e.item.k,e.item.v,{nameFontSize:20,showName:!1}),this.labCaptain.textFlow=O3.tr2(6347,o.name),this.labRole.textFlow=O3.tr2(6360,e.joins.length),this.labDiscount.textFlow=O3.tr2(6369,(e.discount-n)/10),this.GX42(t)},t.prototype.onClick=function(){App.VM.open(O7.B46,2,this.data.recordId)},t.prototype.oCI=function(t){t.stopPropagation()},t.prototype.GX42=function(t){if(this.data){var e=[6349,6362,6377];0===this.data.state?this.labState.textFlow=O3.tr2(e[this.data.state],P6.FJ11(1e3*t.actData.getCd(this.data.recordId,2),10)):this.labState.textFlow=O3.tr2(e[this.data.state])}},t}(eui.ItemRenderer);__reflect(SwornBrothersMyOrderListItem.prototype,"SwornBrothersMyOrderListItem");var SwornBrothersMyOrderView=function(s){function t(t,e){var i=s.call(this,t,e)||this;return i.skinName="SwornBrothersMyOrderSkin",i}return __extends(t,s),Object.defineProperty(t.prototype,"model",{get:function(){return App.CM.gtM(O6.A53)},enumerable:!0,configurable:!0}),t.prototype.initUI=function(){s.prototype.initUI.call(this);var t={render:SwornBrothersMyOrderListItem,width:this.listShop.width,height:this.listShop.height,arrowScale:1,gap:5};this.listView=new CommonListBase(t),this.listShop.addChild(this.listView),this.listView.verticalCenter=0,this.listView.horizontalCenter=0,this.labTr6374.textFlow=O3.tr2(6374),this.GX5()},t.prototype.open=function(){s.prototype.open.call(this),this.listView.open(),App.K16.doTimer(1e3,0,this.GX42,this)},t.prototype.close=function(){App.K16.removeAll(this),this.listView.close(),s.prototype.close.call(this)},t.prototype.uBM=function(t){t instanceof SwornBrothers.Model&&this.GX5(t)},t.prototype.GX5=function(t){var e=(t=t||this.model).actData.rl.map(function(t){return t}).sort(function(t,e){var i=1/t.orderVo.start,s=1/e.orderVo.start;return 0===t.state&&(i-=10),0===e.state&&(s-=10),i-s});this.listView.rfL(e)},t.prototype.GX42=function(){for(var t=this.model,e=this.listView.itemList.numElements,i=0;i<e;i++){var s=this.listView.itemList.getElementAt(i);s&&s.GX42(t)}},t}(BaseEuiView);__reflect(SwornBrothersMyOrderView.prototype,"SwornBrothersMyOrderView");var SwornBrothersOrderListItem=function(c){function t(){var t=c.call(this)||this;return t.skinName="SwornBrothersOrderItemSkin",t}return __extends(t,c),t.prototype.childrenCreated=function(){c.prototype.childrenCreated.call(this),this.btn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClick,this),this.btn.label=O3.tr(6411),this.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClick,this)},t.prototype.close=function(){this.btn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClick,this),this.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClick,this)},t.prototype.dataChanged=function(){c.prototype.dataChanged.call(this);var t=App.CM.gtM(O6.A53),e=this.data,i=e.orgPrice,s=N12.gID(e.item.k),o=O4.getAid(),r=t.actData.isJoin(e.joins,o),n=t.actData.getCaptain(e.joins),a=o===n.aid,h=(e.joins.length-1)*t.actData.oneDiscount+(a&&e.joins.length>=t.actData.roleNum?t.actData.captainDiscount:0),p=M18.FL30("$1",{color:"#feeedf"});P16.FL31(this.gOldPrice,75e3,i,{lackTextTemplate:p,textTemplate:p,tag:O3.tr(6345)});var l=M18.FL30("$1",{color:"#75c01a"});P16.FL31(this.gPrice,75e3,Math.floor(i*(e.discount-h)/100),{lackTextTemplate:l,textTemplate:l,tag:O3.tr(6346)}),O5.FB13(this.labName,s.name,s.quality,void 0,!1),P16.setIcon(this.iconGp,e.item.k,e.item.v,{nameFontSize:20,showName:!1}),this.labCaptain.textFlow=O3.tr2(6347,n.name),this.labRole.textFlow=O3.tr2(6348,t.actData.roleNum-e.joins.length),this.labDiscount.textFlow=O3.tr2(6369,(this.data.discount-h)/10),this.GX42(t),this.btn.visible=!r},t.prototype.onClick=function(){App.VM.open(O7.B46,1,this.data.orderId)},t.prototype.GX42=function(t){var e=t.actData.getCd(this.data.orderId);this.labState.textFlow=this.data.isFinish?O3.tr2(6361):O3.tr2(6349,P6.FJ11(1e3*e,10))},t}(eui.ItemRenderer);__reflect(SwornBrothersOrderListItem.prototype,"SwornBrothersOrderListItem");var SwornBrothersOrderListView=function(o){function t(t,e){var i=o.call(this,t,e)||this;return i.skinName="SwornBrothersOrderListSkin",i}return __extends(t,o),Object.defineProperty(t.prototype,"model",{get:function(){return App.CM.gtM(O6.A53)},enumerable:!0,configurable:!0}),t.prototype.initUI=function(){o.prototype.initUI.call(this);var t={render:SwornBrothersOrderListViewItem,width:this.gList.width,height:this.gList.height,arrowScale:1,gap:5};this.listView=new CommonListBase(t),this.gList.addChild(this.listView),this.title.text=O3.tr(6364),this.bgMask.addEventListener(egret.TouchEvent.TOUCH_TAP,this.oCC,this),this.backBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.oCC,this),this.closeBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.oCC,this)},t.prototype.open=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];o.prototype.open.apply(this,[t].concat(e)),this.listView.open(),this.gid=t;var s=this.model;this.GX5(s),App.K16.doTimer(1e3,0,this.GX42,this),this.labTips.textFlow=O3.tr2(6344,s.actData.roleNum,s.actData.oneDiscount,s.actData.captainDiscount)},t.prototype.close=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.bgMask.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.oCC,this),this.backBtn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.oCC,this),this.closeBtn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.oCC,this),this.listView.close(),App.K16.removeAll(this),o.prototype.close.apply(this,t)},t.prototype.uBM=function(t){t instanceof SwornBrothers.Model&&this.GX5(t)},t.prototype.oCC=function(){App.VM.GY64(this)},t.prototype.GX5=function(t){t=t||this.model,this.listView.rfL(t.actData.getOrders(this.gid).sort(function(t,e){return t.cd+10*t.joins.length-(e.cd+10*e.joins.length)}))},t.prototype.GX42=function(){for(var t=this.model,e=this.listView.itemList.numElements,i=0;i<e;i++){var s=this.listView.itemList.getElementAt(i);s&&s.GX42(t)}},t}(BaseEuiView);__reflect(SwornBrothersOrderListView.prototype,"SwornBrothersOrderListView");var SwornBrothersOrderListViewItem=function(r){function t(){var t=r.call(this)||this;return t.skinName="SwornBrothersOrderListItemSkin",t.once(egret.Event.REMOVED_FROM_STAGE,t.remove,t),t.btn.addEventListener(egret.TouchEvent.TOUCH_TAP,t.onClick,t),t}return __extends(t,r),t.prototype.remove=function(){this.removeEventListener(egret.Event.REMOVED_FROM_STAGE,this.remove,this),this.btn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClick,this)},t.prototype.childrenCreated=function(){r.prototype.childrenCreated.call(this),this.btn.label=O3.tr(6411)},t.prototype.dataChanged=function(){r.prototype.dataChanged.call(this);var t=App.CM.gtM(O6.A53),e=this.data,i=(N12.gID(e.item.k),O4.getAid()),s=t.actData.isJoin(e.joins,i),o=t.actData.getCaptain(e.joins);o.aid;this.imgIcon.source=o.icon,this.labCaptain.textFlow=O3.tr2(6347,o.name),this.labRole.textFlow=O3.tr2(6348,t.actData.roleNum-e.joins.length),this.GX42(t),this.btn.visible=!s},t.prototype.onClick=function(){App.VM.open(O7.B46,1,this.data.orderId)},t.prototype.GX42=function(t){var e=t.actData.getCd(this.data.orderId);this.labState.textFlow=this.data.isFinish?O3.tr2(6361):O3.tr2(6349,P6.FJ11(1e3*e,10))},t}(eui.ItemRenderer);__reflect(SwornBrothersOrderListViewItem.prototype,"SwornBrothersOrderListViewItem");var SwornBrothersOrderView=function(s){function t(t,e){var i=s.call(this,t,e)||this;return i.skinName="SwornBrothersOrderSkin",i}return __extends(t,s),Object.defineProperty(t.prototype,"model",{get:function(){return App.CM.gtM(O6.A53)},enumerable:!0,configurable:!0}),t.prototype.initUI=function(){s.prototype.initUI.call(this);var t={render:SwornBrothersOrderListItem,width:this.listShop.width,height:this.listShop.height,arrowScale:1,gap:5};this.shopListView=new CommonListBase(t),this.listShop.addChild(this.shopListView),this.shopListView.verticalCenter=0,this.shopListView.horizontalCenter=0;var e=this.model;this.labTips.textFlow=O3.tr2(6343,e.actData.roleNum,e.actData.oneDiscount,e.actData.captainDiscount),this.GX5(e)},t.prototype.open=function(){this.shopListView.open(),App.K16.doTimer(1e3,0,this.GX42,this),s.prototype.open.call(this)},t.prototype.close=function(){this.shopListView.close(),App.K16.removeAll(this),s.prototype.close.call(this)},t.prototype.uBM=function(t){t instanceof SwornBrothers.Model&&this.GX5(t)},t.prototype.GX5=function(t){var e=(t=t||this.model).actData.ol.map(function(t){return t}).sort(function(t,e){return t.cd+10*t.joins.length-(e.cd+10*e.joins.length)});this.shopListView.rfL(e)},t.prototype.GX42=function(){for(var t=this.model,e=this.shopListView.itemList.numElements,i=0;i<e;i++){var s=this.shopListView.itemList.getElementAt(i);s&&s.GX42(t)}},t}(BaseEuiView);__reflect(SwornBrothersOrderView.prototype,"SwornBrothersOrderView");var SwornBrothersShopListItem=function(h){function t(){var t=h.call(this)||this;return t.skinName="SwornBrothersShopListItemSkin",t}return __extends(t,h),t.prototype.childrenCreated=function(){h.prototype.childrenCreated.call(this),this.once(egret.Event.REMOVED_FROM_STAGE,this.remove,this),this.btnAttend.addEventListener(egret.TouchEvent.TOUCH_TAP,this.ZU75,this),this.btnCreate.addEventListener(egret.TouchEvent.TOUCH_TAP,this.ZU76,this),this.iconGp.addEventListener(egret.TouchEvent.TOUCH_TAP,this.oCI,this),this.btnAttend.label=O3.tr(6411),this.btnCreate.label=O3.tr(6410)},t.prototype.dataChanged=function(){if(h.prototype.dataChanged.call(this),this.data.goods){var t=App.CM.gtM(O6.A53),e=this.data.goods,i=e.orgPrice,s=e.curPrice,o=M18.FL30("$1",{color:"#feeedf"});P16.FL31(this.gOldPrice,75e3,i,{lackTextTemplate:o,textTemplate:o,tag:O3.tr(6345)});var r=M18.FL30("$1",{color:"#75c01a"});P16.FL31(this.gPrice,75e3,s,{lackTextTemplate:r,textTemplate:r,tag:O3.tr(6346)});var n=P16.setIcon(this.iconGp,e.item.k,e.item.v,{nameFontSize:20,nameBg:!1});P7.FM14()&&(n.lbName.visible=!1),n.lbName.y=86,this.discountLb.textFlow=O3.tr2(6368,Math.floor(e.discount/10));var a=t.actData.getOrders(e.id).length;this.labTips.textFlow=O3.tr2(6373,a)}this.btnAttend.touchEnabled=0===this.data.status&&0<this.data.joinCount,P16.sGF(this.btnAttend,!this.btnAttend.touchEnabled),this.btnCreate.touchEnabled=0===this.data.status&&0<this.data.openCount,P16.sGF(this.btnCreate,!this.btnCreate.touchEnabled)},t.prototype.ZU75=function(){App.VM.open(O7.A16,this.data.goods.id)},t.prototype.ZU76=function(){App.VM.open(O7.B46,0,this.data.goods.id)},t.prototype.oCI=function(){var t=N12.gID(this.data.goods.item.k);P5.FC75(t,!1)},t.prototype.remove=function(){this.btnAttend.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.ZU75,this),this.btnCreate.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.ZU76,this),this.iconGp.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.oCI,this),this.removeEventListener(egret.Event.REMOVED_FROM_STAGE,this.remove,this)},t}(eui.ItemRenderer);__reflect(SwornBrothersShopListItem.prototype,"SwornBrothersShopListItem");var SwornBrothersShopTitleListItem=function(e){function t(){var t=e.call(this)||this;return t.skinName="BlackFridayTitleItem",t.addEventListener(egret.Event.REMOVED_FROM_STAGE,t.close,t),t}return __extends(t,e),t.prototype.close=function(){this.gContent.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClick,this),this.removeEventListener(egret.Event.REMOVED_FROM_STAGE,this.close,this)},t.prototype.childrenCreated=function(){e.prototype.childrenCreated.call(this),this.gContent.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClick,this)},t.prototype.dataChanged=function(){e.prototype.dataChanged.call(this),this.labDay.textFlow=M18.FG71(this.data.day),this.labStatus.textFlow=M18.FG71(this.data.status),this.labTime.text=this.data.time,this.bg.source=this.data.selected?"v1_img_wuheiqizil_png":"v1_img_wuheiqizibul_png"},t.prototype.onClick=function(){App.CM.apF(O6.A53,SwornBrothers.Const.select,this.itemIndex)},t}(eui.ItemRenderer);__reflect(SwornBrothersShopTitleListItem.prototype,"SwornBrothersShopTitleListItem");var SwornBrothersShopView=function(s){function t(t,e){var i=s.call(this,t,e)||this;return i.index=0,i.skinName="SwornBrothersShopSkin",i}return __extends(t,s),Object.defineProperty(t.prototype,"model",{get:function(){return App.CM.gtM(O6.A53)},enumerable:!0,configurable:!0}),t.prototype.initUI=function(){s.prototype.initUI.call(this),this.initShopList(),this.ZU77();var t=this.model;this.GX5(t),this.select(t.actData.index),this.listView.ZQ18(this.index)},t.prototype.initShopList=function(){var t={render:SwornBrothersShopListItem,width:this.listShop.width,height:this.listShop.height,arrowScale:1,tileLayout:!0,verticalGap:10,horizontalGap:10};this.shopListView=new CommonListBase(t),this.listShop.addChild(this.shopListView),this.shopListView.verticalCenter=0,this.shopListView.horizontalCenter=0},t.prototype.ZU77=function(){var t={render:SwornBrothersShopTitleListItem,width:this.listTitle.width,height:this.listTitle.height,arrowScale:1,tileLayout:!0,verticalGap:10,horizontalGap:10};this.listView=new CommonListBase(t),this.listView.itemList.layout=new eui.HorizontalLayout,this.listView.scContent.scrollPolicyH=eui.ScrollPolicy.ON,this.listTitle.addChild(this.listView),this.listView.verticalCenter=0,this.listView.horizontalCenter=0},t.prototype.open=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];s.prototype.open.apply(this,t),this.shopListView.open(),this.listView.open()},t.prototype.close=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.shopListView.close(),this.listView.close(),s.prototype.close.apply(this,t)},t.prototype.uBM=function(t){t instanceof SwornBrothers.Model&&this.GX5(t)},t.prototype.GX5=function(t){t=t||this.model,this.updateTitle(t),this.updateItem(t)},t.prototype.updateItem=function(e){var t=(e=e||this.model).actData,i=this.selectId,s=3;try{var o=t.cs;o.id===i?s=2===o.t?0:o.t:o.id<i?s=1:o.id>i&&(s=3)}catch(t){console.log(t)}var r=e.actData.cf[this.index];r&&this.shopListView.rfL(r.goodsList.map(function(t){return{goods:t,status:s,openCount:e.actData.createCount,joinCount:e.actData.joinCount}}).sort(function(t,e){return t.goods.id-e.goods.id}))},t.prototype.updateTitle=function(t){var s=this,o=(t=t||this.model).actData.cs,r="";this.listView.rfL(t.actData.cf.map(function(t,e){var i=t.id;if(o.id===i)switch(o.t){case 1:r=O3.tr(3906);break;case 2:r=O3.tr(3905);break;case 3:r=O3.tr(3903)}else r=o.id>i?O3.tr(3903):o.id-i==1&&3===o.t?O3.tr(3906):O3.tr(3904);return{id:t.id,selected:s.index===e,day:O3.tr(6370,t.stage),time:t.time,status:r}}))},t.prototype.select=function(t){this.index=t,this.selectId=this.model.actData.cf[this.index].id,this.GX5()},t}(BaseEuiView);__reflect(SwornBrothersShopView.prototype,"SwornBrothersShopView");var SwornBrothersTeamIconItemView=function(e){function t(){var t=e.call(this)||this;return t.skinName="SwornBrothersInfoItemSkin",t}return __extends(t,e),t.prototype.dataChanged=function(){e.prototype.dataChanged.call(this),this.labTr6371.textFlow=O3.tr2(6371),this.labName.text=this.data?this.data.name:"",this.imgIcon.source=this.data?this.data.icon:"",this.gCap.visible=!!this.data&&!!this.data.isCap},t}(eui.ItemRenderer);__reflect(SwornBrothersTeamIconItemView.prototype,"SwornBrothersTeamIconItemView");var SwornBrothers,SwornBrothersTeamView=function(s){function t(t,e){var i=s.call(this,t,e)||this;return i.state=0,i.skinName="SwornBrothersInfoSkin",i}return __extends(t,s),t.prototype.initUI=function(){s.prototype.initUI.call(this),this.bgMask.addEventListener(egret.TouchEvent.TOUCH_TAP,this.oCC,this),this.closeBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.oCC,this),this.backBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.oCC,this),this.gpIcon.addEventListener(egret.TouchEvent.TOUCH_TAP,this.oCI,this),this.btn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClick,this),this.dataSource=new eui.ArrayCollection,this.dgHeads.dataProvider=this.dataSource,this.dgHeads.itemRenderer=SwornBrothersTeamIconItemView},t.prototype.open=function(t,e){s.prototype.open.call(this),this.type=t,this.id=e;var i=this.model;this.GX5(i)},t.prototype.close=function(){this.bgMask.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.oCC,this),this.closeBtn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.oCC,this),this.backBtn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.oCC,this),this.gpIcon.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.oCI,this),this.btn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClick,this),App.K16.removeAll(this),this.dataSource.removeAll(),s.prototype.close.call(this)},t.prototype.uBM=function(t){t instanceof SwornBrothers.Model&&this.GX5(t)},Object.defineProperty(t.prototype,"model",{get:function(){return App.CM.gtM(O6.A53)},enumerable:!0,configurable:!0}),t.prototype.GX5=function(t){var e,i;t=t||this.model;var s=0,o=1,r=0,n=!1;if(0===this.type)this.labCaptain.textFlow=O3.tr2(6347,O3.tr(6372)),this.labCount.textFlow=O3.tr2(6348,t.actData.roleNum),e=t.actData.getGoodsInfo(this.id);else if(1===this.type)i=e=t.actData.getTeamInfo(this.id);else if(2===this.type){var a=t.actData.ZU78(this.id);s=[0,4,5][a.state],i=e=a.orderVo}if(this.order=e,i){o=i.joins.length;var h=O4.getAid(),p=t.actData.isJoin(i.joins,h);n=t.actData.FL44(i.joins,h),4===s||5===s||(s=p?n&&1===o?1:3:o>=t.actData.roleNum?3:2)}else if(0<this.type)return this.oCC(),void P18.sDP(O3.tr(6380));this.currentState=3<=s?"result":"normal",this.validateNow();var l=[null,null,null];if(this.labStatus.visible=0<this.type&&this.state<4,App.K16.removeAll(this),s<=3&&App.K16.doTimer(1e3,0,this.GX42,this),this.btn.label=O3.tr([6350,6351,6352,6350,6350,6350][s]),this.labTips.visible=0<s,i&&(this.labCaptain.textFlow=O3.tr2(6347,i.joins[0].name),this.labCount.textFlow=O3.tr2(6348,t.actData.roleNum-i.joins.length),l=P7.JsonExtends(l,i.joins.sort(function(t,e){return e.isCap-t.isCap})),this.oid=i.orderId),this.dataSource.source=l,this.state=s,this.GX42(),e){var c=e.item.k;this.itemId=c;var u=N12.gID(c);P16.setIcon(this.gpIcon,u,e.item.v,{showName:!1}),O5.FB13(this.labItemName,u.name,u.quality,void 0,!1);var d=e.orgPrice;r=(o-1)*t.actData.oneDiscount+(n&&o>=t.actData.roleNum?t.actData.captainDiscount:0);var v=M18.FL30("$1",{color:"#feeedf"});P16.FL31(this.gOldPrice,75e3,d,{lackTextTemplate:v,textTemplate:v,tag:O3.tr(6345)});var f=M18.FL30("$1",{color:"#75c01a"});P16.FL31(this.gPrice,75e3,Math.floor(d*(e.discount-r)/100),{lackTextTemplate:f,textTemplate:f,tag:O3.tr(6346)});var g=[];1===s?g=[1]:2===s&&(g=[(e.discount-o*t.actData.oneDiscount)/10]),this.labTips.textFlow=O3.tr2.apply(O3,[[6353,6353,6354,6355,6356,6357][s]].concat(g)),this.labDiscount.textFlow=O3.tr2(6369,(e.discount-r)/10)}this.title.text=O3.tr(0===this.state?6410:6411),this.labDesc.textFlow=O3.tr2(6343,t.actData.roleNum,t.actData.oneDiscount,t.actData.captainDiscount)},t.prototype.GX42=function(){var t=this.model;if(4<=this.state)this.labStatus.textFlow=O3.tr2(6361);else if(1===this.type||2===this.type){var e=t.actData.getCd(this.id,this.type);this.labStatus.textFlow=0<e?O3.tr2(6349,P6.FJ11(1e3*e,10)):O3.tr2(6361)}},t.prototype.oCC=function(){App.VM.GY64(this)},t.prototype.onClick=function(){if(0===this.type)N12.giC(75e3)>=this.order.curPrice?App.CM.apF(O6.A53,SwornBrothers.Const.CREATE,this.id):P7.FA78();else if(1===this.state)App.VM.open(O7.A47,this.oid);else{var t=this.model.actData,e=this.order.orgPrice*(t.getDiscount(this.order,O4.getAid())-t.oneDiscount)/100;N12.giC(75e3)>=e?App.CM.apF(O6.A53,SwornBrothers.Const.JOIN,this.oid):P7.FA78()}},t.prototype.oCI=function(){if(this.itemId){var t=N12.gID(this.itemId);P5.FC75(t,!1)}},t.prototype.update=function(t,e){this.type=t,this.id=e,this.GX5()},t}(BaseEuiView);__reflect(SwornBrothersTeamView.prototype,"SwornBrothersTeamView"),function(t){var e=function(f){function t(t){var e=f.call(this,t)||this;return e.cf=[],e.ol=[],e.rl=[],e.ols={},e.timeDifferances={},e.rcdTimeDifferances={},e.dailyNum=1,e.stageNum=1,e.roleNum=1,e.oneDiscount=1,e.captainDiscount=1,e.updateData(t),e}return __extends(t,f),t.prototype.updateData=function(t){if(f.prototype.ZU63.call(this,t),this.cf=t.cf?t.cf:this.cf,this.ol=t.ol?t.ol:this.ol,t.ol){this.updateOrders();for(var e=0,i=t.ol;e<i.length;e++){var s=i[e];this.timeDifferances[s.gid]=P6.getTime(!0)}}if(this.rl=t.rl?t.rl:this.rl,t.rl)for(var o=0,r=t.rl;o<r.length;o++){s=r[o];this.rcdTimeDifferances[s.recordId]=P6.getTime(!0)}if(this.cs=t.cs?t.cs:this.cs,this.jc=null!=t.jc?t.jc:this.jc,this.oc=null!=t.oc?t.oc:this.oc,t.re){var n=!1;for(var a in this.rl)if(this.rl[a].recordId==t.re.recordId){this.rl[a]=t.re,n=!0;break}n||this.rl.push(t.re),this.rcdTimeDifferances[t.re.recordId]=P6.getTime(!0)}if(t.or){n=!1;for(var a in this.ol)if(this.ol[a].orderId==t.or.orderId){this.ol[a]=t.or,n=!0;break}n||this.ol.push(t.or),this.updateOrders(),this.timeDifferances[t.or.gid]=P6.getTime(!0)}if(t.atmp){if(t.atmp.cost){var h=t.atmp.cost.split(";"),p=h[0],l=h[1],c=h[2];this.dailyNum=parseInt(p),this.stageNum=parseInt(l),this.roleNum=parseInt(c)}if(t.atmp.more){var u=t.atmp.more.split(";"),d=u[0],v=u[1];this.oneDiscount=parseFloat(d),this.captainDiscount=parseFloat(v)}}},t.prototype.updateOl=function(){for(var t=this.ol.length-1;0<=t;t--){this.ol[t].isFinish&&this.ol.splice(t,1)}},t.prototype.updateOrders=function(){this.updateOl(),this.ols={};for(var t=0,e=this.ol;t<e.length;t++){var i=e[t];this.ols[i.gid]||(this.ols[i.gid]=[]),this.ols[i.gid].push(i)}},t.prototype.getOrders=function(t){return this.ols[t]?this.ols[t]:[]},t.prototype.getGoodsInfo=function(t){for(var e=0,i=this.cf;e<i.length;e++){var s=i[e];if(s.id===this.cs.id)for(var o=0,r=s.goodsList;o<r.length;o++){var n=r[o];if(n.id===t)return n}}},t.prototype.getTeamInfo=function(t){for(var e=0,i=this.ol;e<i.length;e++){var s=i[e];if(s.orderId===t)return s}},t.prototype.ZU78=function(t){for(var e=0,i=this.rl;e<i.length;e++){var s=i[e];if(s.recordId===t)return s}},Object.defineProperty(t.prototype,"createCount",{get:function(){return this.dailyNum-this.oc},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"joinCount",{get:function(){return this.stageNum-this.jc},enumerable:!0,configurable:!0}),t.prototype.getCd=function(t,e){if(void 0===e&&(e=1),1===e){if((i=this.getTeamInfo(t))&&!i.isFinish)return i.cd-(P6.getTime(!0)-this.timeDifferances[i.gid]||0)}else if(2===e){var i;if(i=this.ZU78(t))return i.orderVo.cd-(P6.getTime(!0)-this.rcdTimeDifferances[i.recordId]||0)}return 0},t.prototype.getDiscount=function(t,e){return t.discount-(t.joins.length-1)*this.oneDiscount-(t.joins.length>=this.roleNum&&this.FL44(t.joins,e)?this.captainDiscount:0)},t.prototype.getCaptain=function(t){for(var e=0,i=t;e<i.length;e++){var s=i[e];if(s.isCap)return s}},t.prototype.FL44=function(t,e){var i=this.getCaptain(t);return!!i&&i.aid===e},t.prototype.isJoin=function(t,e){for(var i=0,s=t;i<s.length;i++){if(s[i].aid===e)return!0}return!1},Object.defineProperty(t.prototype,"index",{get:function(){for(var t=0;t<this.cf.length;t++)if(this.cf[t].id===this.cs.id)return t;return t},enumerable:!0,configurable:!0}),t}(ActivityVo);t.ActVo=e,__reflect(e.prototype,"SwornBrothers.ActVo")}(SwornBrothers||(SwornBrothers={}));var TA33=function(e){function t(){var t=e.call(this)||this;return new TB65(t).aLV(O7.D57),t}return __extends(t,e),t}(TE11);__reflect(TA33.prototype,"TA33");var TB65=function(i){function t(t){var e=i.call(this,t)||this;return e.openState=!1,e.redNum=0,e.firstLoginRedNum=0,e}return __extends(t,i),t.prototype.ZC13=function(t){t&&(null!=this.actData?this.actData.ZU63(t):(this.actData=new ActivityVo(t),this.tips=this.actData.tips),this.updateRed())},t.prototype.updateRed=function(){this.redNum=this.FL35()},t.prototype.FL35=function(){return 0<this.firstLoginRedNum?1:0},t.prototype.notify=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];i.prototype.notifyView.apply(this,[this].concat(t))},t}(TG79);__reflect(TB65.prototype,"TB65");var TimePreferenceView=function(s){function t(t,e){var i=s.call(this,t,e)||this;return i.sGN("release_act1096"),i.skinName=TimePreferenceSkin,i}return __extends(t,s),t.prototype.initUI=function(){this.btnRecharge.label=O3.tr(5794)},t.prototype.open=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];s.prototype.open.call(this),this.btnRecharge.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickGo,this);var i=App.CM.gtM(O6.A37);this.ZE80(i)},t.prototype.uBM=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];s.prototype.uBM.call(this,t,e);e[0];t instanceof TB65&&this.ZE80(t)},t.prototype.ZE80=function(t){this.leftCD=t.actData.ZHH64();var e=P6.FJ11(1e3*this.leftCD,5);this.cdLb.textFlow=M18.HTP.parser(O3.tr(3253,e)),this._timerHandler=App.K16.doTimer(1e3,this.leftCD,this.GY14,this)},t.prototype.GY14=function(){this.leftCD--;var t=P6.FJ11(1e3*this.leftCD,5);this.cdLb.textFlow=M18.HTP.parser(O3.tr(3253,t)),this.leftCD<=0&&(this.cTH(),this.cdLb.text="")},t.prototype.cTH=function(){null!=this._timerHandler&&(App.K16.rBH(this._timerHandler),this._timerHandler=null)},t.prototype.onClickGo=function(){App.CM.apF(O6.C29,P8.A7)},t.prototype.close=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];s.prototype.close.call(this),this.cTH()},t}(BaseEuiView);__reflect(TimePreferenceView.prototype,"TimePreferenceView");var HH19=function(){function t(){}return t.A4=0,t.A2=1,t.A3=2,t.A1=3,t.A7=1e4,t.A8=10001,t.A9=10002,t.A5=10003,t.A6=10004,t}();__reflect(HH19.prototype,"HH19");var TB66=function(i){function t(){var t=i.call(this)||this,e=new TE48(t);return t.proxy=new TE49(t),e.aLV(O7.HH82),t.rgF(HH19.A7,t.GX6,t),t.rgF(HH19.A8,t.wishReq,t),t.rgF(HH19.A9,t.wishRes,t),t.rgF(HH19.A5,t.GS14,t),t.rgF(HH19.A6,t.GS15,t),App.VM.register(O7.HH82,"WishHouseView",t,K17.UI_Main),t.rgF(HH19.A4,t.GK63,t),t.rgF(HH19.A2,t.GI69,t),App.VM.register(O7.HH12,"WishSelectView",t,K17.UI_Main_TOP),t.rgF(HH19.A3,t.GI70,t),t.rgF(HH19.A1,t.GG82,t),t}return __extends(t,i),t.prototype.GK63=function(){App.VM.open(O7.HH82)},t.prototype.GI69=function(t){App.VM.close(O7.HH82)},t.prototype.GI70=function(t){App.VM.open(O7.HH12)},t.prototype.GG82=function(t){App.VM.close(O7.HH12)},t.prototype.GX6=function(t){var e=this.gtM();e.ZC13(t.body),e.notify()},t.prototype.wishReq=function(t){this.proxy.wishReq(t)},t.prototype.wishRes=function(t){if(200==t.head.state){var e=this.gtM();e.ZC13(t.body),e.notify(),t.body.ob&&P5.sIs(t.body.ob),t.body.suc}else App.CM.apF(O6.B87,L10.A4,t)},t.prototype.GS14=function(t){this.proxy.GS14(t)},t.prototype.GS15=function(t){if(App.VM.close(O7.HH12),200==t.head.state){var e=this.gtM();e.ZC13(t.body),e.notify(),t.body.ob&&P5.sIs(t.body.ob)}else App.CM.apF(O6.B87,L10.A4,t)},t}(TE11);__reflect(TB66.prototype,"TB66");var TE48=function(i){function t(t){var e=i.call(this,t)||this;return e.openState=!1,e.redNum=0,e.firstLoginRedNum=0,e}return __extends(t,i),t.prototype.ZC13=function(t){t&&(null!=this.actData?this.actData.updateData(t):(this.actData=new WishHouseData(t),this.tips=this.actData.tips),this.updateRed())},t.prototype.setSuc=function(){this.actData.suc=void 0},t.prototype.updateRed=function(){this.redNum=this.FL35()},t.prototype.FL35=function(){var t=0;return t+=this.firstLoginRedNum,t+=this.changeRedNumByData()},t.prototype.changeRedNumByData=function(){var t=0;return 0<=this.actData.index?this.actData.wv>=this.actData.pwv&&t++:t++,t},t.prototype.notify=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];i.prototype.notifyView.apply(this,[this].concat(t))},t}(TG79);__reflect(TE48.prototype,"TE48");var TE49=function(i){function t(t){var e=i.call(this,t)||this;return e.rSM(P4.U16,e.GX6,e),e}return __extends(t,i),t.prototype.GX6=function(t){this.apF(HH19.A7,t)},t.prototype.wishReq=function(t){var e={type:P4.X52,body:{pos:t}};this.rSMO(P4.X53,this.wishRes,this),this.sSM(e)},t.prototype.wishRes=function(t){this.apF(HH19.A9,t)},t.prototype.GS14=function(t){var e={type:P4.R2,body:{pos:t}};this.rSMO(P4.R3,this.GS15,this),this.sSM(e)},t.prototype.GS15=function(t){this.apF(HH19.A6,t)},t}(TG80);__reflect(TE49.prototype,"TE49");var WishHouseView=function(s){function t(t,e){var i=s.call(this,t,e)||this;return i.sGN("release_act1117"),i.skinName="WishHouseSkin",i}return __extends(t,s),t.prototype.initUI=function(){this.stringLB2.text=O3.tr(7548),this.stringLB4.text=O3.tr(7550),this.stringLB5.text=O3.tr(7551),this.stringLB6.text=O3.tr(7552),this.wishBtn.label=O3.tr(7553),this.dcLb.textFlow=M18.HTP.parse(O3.tr(7568));var t=O3.tr(7554);this.getBtn.textFlow=new Array({text:t,style:{underline:!0}})},t.prototype.open=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];s.prototype.open.call(this),this.getBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.getBtnEvent,this),this.selectBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.ZQ69,this),this.wishBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.wishBtnEvent,this),this.wishTime=Date.now();var i=App.CM.gtM(O6.B37);i.setSuc(),this.ZC22(i)},t.prototype.close=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];s.prototype.close.call(this),this.getBtn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.getBtnEvent,this),this.selectBtn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.ZQ69,this),this.wishBtn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.wishBtnEvent,this)},t.prototype.getBtnEvent=function(){TG84.goToDlg({sLink:1401})},t.prototype.ZQ69=function(){App.CM.apF(O6.B37,HH19.A3)},t.prototype.wishBtnEvent=function(){if(this.wishWv>=this.wishPwv)this.wishTime<=Date.now()&&(this.wishBtn.enabled=!1,App.CM.apF(O6.B37,HH19.A8,this.wishIndex),this.wishTime=Date.now()+200);else{var t=O3.tr(7566);P18.sDP(t,!0)}},t.prototype.uBM=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];s.prototype.uBM.call(this,t,e),t instanceof TE48&&this.ZC22(t)},t.prototype.ZC22=function(t){if(null==this.timerHandler)if(0<t.actData.rs){this.leftCD=t.actData.ZHH64();var e=O3.tr(7569,P6.FJ11(1e3*this.leftCD,5));this.cdLb.textFlow=M18.HTP.parse(e),this.timerHandler=App.K16.doTimer(1e3,this.leftCD,this.GY14,this)}else this.cdLb.text="";var i=Math.round(100*Number(t.actData.base+t.actData.er));this.stringLB3.text=O3.tr(7549,t.actData.factor),this.loaclPLb.text=O3.tr(7556,i),this.everyWNLb.text=O3.tr(7557,t.actData.pwv),this.jsLb.text=t.actData.wv+"/"+t.actData.pwv,this.jsImg.width=t.actData.wv>=t.actData.pwv?480:t.actData.wv/t.actData.pwv*480,this.wishIndex=t.actData.index,this.wishWv=t.actData.wv,this.wishPwv=t.actData.pwv,this.wishRate=t.actData.rate,this.showBySuc(t.actData.suc),this.initIcon(t)},t.prototype.showBySuc=function(t){if(null!=t)if(t)this.playAnima();else{this.wishBtn.enabled=!0;var e=O3.tr(7567,100*this.wishRate);P18.sDP(e,!1)}},t.prototype.playAnima=function(){App.THH32.rEf(this.gEffect,"wdsg_xxsc_001_1"),App.THH32.aUE(this.gEffect,"wdsg_xxsc_001_1",0,0,1,null,null,null,null,"Animation1")},t.prototype.initIcon=function(t){if(0<=t.actData.index){this.stringLB1.text=O3.tr(7558),P7.FM14()?this.stringLB5.visible=!1:this.stringLB5.visible=!0,this.cgIcon.visible=!0,this.selectBtn.visible=!1;var e=t.actData.srd,i=t.actData.index;this.changeIcon(this.cgIcon,e[i]);var s=N12.gID(e[i].k);this.stringLB5.text=s.name,P16.sGF(this.wishBtn,!1),this.wishBtn.enabled=!0}else this.stringLB1.text=O3.tr(7559),this.stringLB5.visible=!1,this.cgIcon.visible=!1,this.selectBtn.visible=!0,P16.sGF(this.wishBtn,!0),this.wishBtn.enabled=!1;var o=N12.gID(t.actData.frd.k);this.stringLB6.text=o.name,this.changeIcon(this.sbIcon,t.actData.frd),this.ZN5()},t.prototype.changeIcon=function(t,e){var i={itemData:{data:N12.gID(e.k),ct:e.v,texiao:void 0},isBottom:!1,QAlpha:.01};t.data=i},t.prototype.ZN5=function(){this.wishBtn.imgNew.visible=!1,this.selectBtn.imgNew.visible=!1,0<=this.wishIndex?this.wishWv>this.wishPwv&&(this.wishBtn.imgNew.visible=!0):this.selectBtn.imgNew.visible=!0},t.prototype.GY14=function(){this.leftCD--;var t=O3.tr(3253,P6.FJ11(1e3*this.leftCD,5));this.cdLb.textFlow=M18.HTP.parse(t),this.leftCD<=0&&(this.cTH(),this.cdLb.text="")},t.prototype.cTH=function(){null!=this.timerHandler&&(App.K16.rBH(this.timerHandler),this.timerHandler=null)},t}(BaseEuiView);__reflect(WishHouseView.prototype,"WishHouseView");var WishSelectView=function(o){function t(t,e){var i=o.call(this,t,e)||this;return i.selectNum=null,i.skinName="WishSelectSkin",i}return __extends(t,o),t.prototype.initUI=function(){this.stringBL1.text=O3.tr(7560),this.stringBL2.text=O3.tr(7561),this.stringBL3.text=O3.tr(7562),this.stringBL4.text=O3.tr(7563),this.dlg.title=O3.tr(7564),this.selectbtn.label=O3.tr(7565),this.dlg.ZM69(this.oCC,this),this.dlg.ZQ14(this.oCC,this)},t.prototype.open=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];o.prototype.open.call(this);var i=App.CM.gtM(O6.B37);this.ZC22(i),this.selectbtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.ZQ71,this);for(var s=0;s<5;s++)this["iconGroup"+s].addEventListener(egret.TouchEvent.TOUCH_TAP,this.ZQ70.bind(this,s),this);this.ZQ70(0)},t.prototype.close=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];o.prototype.close.call(this),this.selectbtn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.ZQ71,this);for(var i=0;i<5;i++)this["iconGroup"+i].removeEventListener(egret.TouchEvent.TOUCH_TAP,this.ZQ70.bind(this,i),this)},t.prototype.ZQ70=function(t){this.selectNum=t,this["icon"+t].enabled=!0,this["iconGroup"+t].addChildAt(this.selectImg,0),this.ZHH86(t)},t.prototype.ZHH86=function(t){for(var e=0;e<5;e++)e!=t&&(this["icon"+e].enabled=!1)},t.prototype.oCC=function(){App.CM.apF(O6.B37,HH19.A1)},t.prototype.ZQ71=function(){App.CM.apF(O6.B37,HH19.A5,this.selectNum)},t.prototype.uBM=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];o.prototype.uBM.call(this,t,e),t instanceof TE48&&this.ZC22(t)},t.prototype.ZC22=function(t){var e=!0;for(var i in P7.FM14()&&(e=!1),t.actData.srd){var s=t.actData.srd[i],o={itemData:{data:N12.gID(s.k),ct:s.v,texiao:void 0},isBottom:e};this["icon"+i].data=o}},t.prototype.ZN13=function(t){},t}(BaseEuiView);__reflect(WishSelectView.prototype,"WishSelectView");var WishHouseConfVo=function(){};__reflect(WishHouseConfVo.prototype,"WishHouseConfVo");var WishHouseData=function(i){function t(t){var e=i.call(this,t)||this;return e.frd=[],e.srd=[],e.updateData(t),e}return __extends(t,i),t.prototype.updateData=function(t){t&&(this.index=t.index,this.suc=t.suc,this.wv=0<=t.wv?t.wv:this.wv,this.frd=t.frd?t.frd:this.frd,this.srd=t.srd?t.srd:this.srd,this.er=0<=t.er?t.er:0,this.base=0<=t.base?t.base:this.base,this.pwv=0<=t.pwv?t.pwv:this.pwv,this.rate=t.rate?t.rate:this.rate,this.factor=t.factor?t.factor:this.factor,this.ZU63(t))},t}(ActivityVo);__reflect(WishHouseData.prototype,"WishHouseData");var HolidayActBaseView=function(a){function t(t,e){var i=a.call(this,t,e)||this;i.actData=[],i.data=[],i.itemNum=6,i.skinName="CarnivalActBaseSkin";for(var s=TE12.FC8(F17.A4),o=0;o<s.length;o++){var r=s[o].id,n=TF59.FB46(r);null!=n&&App.VM.rgS(O7.D12,n.id,n.view,i.content)}return i}return __extends(t,a),t.prototype.initUI=function(){a.prototype.initUI.call(this),this.title.text=O3.tr(5755),this.topScroller.viewport=this.topList,this.topScroller.scrollPolicyV=eui.ScrollPolicy.OFF,this.topCollection=new eui.ArrayCollection,this.topList.dataProvider=this.topCollection,this.topList.itemRenderer=CarnivalActIconView},t.prototype.initData=function(){a.prototype.initData.call(this)},t.prototype.open=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.lbDes.text="",a.prototype.open.call(this,t),this.curView=t[0]||this.actData[0]&&this.actData[0].view,this.ZU39(),App.VM.open(this.curView),this.curView==this.actData[0].view&&(this.topList.scrollH=0),t[1]&&App.K16.doFrame(1,1,this.delayCall,this),this.bgMask.addEventListener(egret.TouchEvent.TOUCH_TAP,this.closeSelf,this),this.closeBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.closeSelf,this),this.backBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.closeSelf,this),this.leftGroup.addEventListener(egret.TouchEvent.TOUCH_TAP,this.ZQ40,this),this.rightGroup.addEventListener(egret.TouchEvent.TOUCH_TAP,this.ZM90,this),this.topScroller.addEventListener(eui.UIEvent.CHANGE_END,this.endScroller,this),TF59.FJ22(this.curView,this.diImg,this.contentImg)},t.prototype.delayCall=function(){if(this.actData.length<=this.itemNum)this.topList.scrollH=0;else{var t=this.topList.contentWidth/this.actData.length,e=this.ZE69(this.curView);e>=this.actData.length-this.itemNum&&(e=this.actData.length-this.itemNum),this.topList.scrollH=e*t}},t.prototype.ZM94=function(e){for(var t=function(t){t==e?(i.data[t].texiao=1,i.data[t].model.firstLoginRedNum=0,egret.Tween.get(i).wait(100).call(function(){this.data[t].model.notify()},i)):i.data[t].texiao=0},i=this,s=0;s<this.actData.length;s++)t(s);this.topCollection.replaceAll(this.data)},t.prototype.uBM=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];a.prototype.uBM.call(this,t,e);var s=e&&e[0]&&0<e[0].length?e[0]:"";s==P4.R37||s==P4.U30||s==P4.P76?(this.ZU39(),App.VM.open(this.curView)):this.ZQ44(t),this.endScroller()},t.prototype.ZU39=function(){var t=TF59.FA2(F17.A4);if(this.actData=t,0!=this.actData.length){0<this.data.length&&(this.data.splice(0,this.data.length),this.data=[]);for(var e=0;e<this.actData.length;e++){var i={icon:this.actData[e].icon,name:this.actData[e].name,type:this.actData[e].type,red:this.actData[e].red,texiao:0,model:this.actData[e].model,subView:this.actData[e].view,mainView:O7.D12};this.data.push(i)}this.ZE69(this.curView)<0&&(this.curView=this.actData[0].view),this.ZM94(this.ZE69(this.curView))}else this.closeSelf()},t.prototype.ZQ44=function(t){var e;if(t.actid){var i=TF59.FB46(t.actid);-1!=i&&0<=(e=this.ZE69(i.id))&&(this.data[e].red=t.FL35())}this.topCollection.replaceAll(this.data)},t.prototype.endScroller=function(){if(this.topScroller.validateNow(),this.leftGroup.visible=!(this.topScroller.viewport.scrollH<=0),this.topScroller.viewport.contentWidth<=this.topScroller.width)this.rightGroup.visible=!1;else{this.topScroller.width+this.topScroller.viewport.scrollH>=this.topScroller.viewport.contentWidth?this.rightGroup.visible=!1:this.rightGroup.visible=!0,this.redLeft.visible=!1,this.redRight.visible=!1;for(var t=this.topScroller.viewport.scrollH,e=0;93<=t;)t-=93,e++;var i=e+this.itemNum-1,s=this.topCollection.getItemAt(this.topCollection.length-1);if(i>s.index&&(i=s.index),this.leftGroup.visible)for(var o=0;o<this.topCollection.length;o++){var r=this.topCollection.getItemAt(o);if(!(e<=o)&&0<r.red){this.redLeft.visible=!0;break}}if(this.rightGroup.visible)for(o=0;o<this.topCollection.length;o++){var n=this.topCollection.getItemAt(o);if(!(o<=i)&&0<n.red){this.redRight.visible=!0;break}}}},t.prototype.ZQ40=function(){var t=this.topScroller.viewport.scrollH-559;this.topScroller.viewport.scrollH=t<0?0:t,this.endScroller(),TG40.playClickEffect()},t.prototype.ZM90=function(){var t=this.topScroller.viewport.scrollH+559;t+this.topScroller.width>=this.topScroller.viewport.contentWidth?this.topScroller.viewport.scrollH=this.topScroller.viewport.contentWidth-this.topScroller.width:this.topScroller.viewport.scrollH=t,this.endScroller(),TG40.playClickEffect()},t.prototype.close=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];a.prototype.close.call(this,t),this.bgMask.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.closeSelf,this),this.closeBtn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.closeSelf,this),this.backBtn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.closeSelf,this),this.leftGroup.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.ZQ40,this),this.rightGroup.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.ZM90,this),this.topScroller.removeEventListener(eui.UIEvent.CHANGE_END,this.endScroller,this),this.topCollection.removeAll(),this.curView=null,egret.Tween.removeTweens(this)},t.prototype.closeSelf=function(){App.VM.GY64(this)},t.prototype.ZE69=function(t){var e=-1;if(null!=this.actData)for(var i=0;i<this.actData.length;i++)if(this.actData[i].view==t){e=i;break}return e},t.prototype.ZG19=function(t){var e=-1;if(null!=this.actData)for(var i=0;i<this.actData.length;i++)this.actData[i].view==t&&(e=i);return e},t}(BaseEuiView);__reflect(HolidayActBaseView.prototype,"HolidayActBaseView");var M6=function(){function t(){}return t.A4=10001,t.A3=10002,t.A5=10003,t.A6=10004,t.A1=10005,t.A2=10006,t}();__reflect(M6.prototype,"M6");var TD26=function(i){function t(){var t=i.call(this)||this,e=new TG4(t);return e.aLV(O7.G42),e.aLV(O7.I68),e.aLV(O7.I64),App.VM.register(O7.G42,"InvestMainView",t,K17.UI_Main),t.rgF(M6.A4,t.GI71,t),t.rgF(M6.A3,t.GG83,t),t.investProxy=new TG5(t),t.rgF(M6.A5,t.GQ22,t),t.rgF(M6.A6,t.GQ23,t),t.rgF(M6.A1,t.GF20,t),t.rgF(M6.A2,t.GF21,t),t}return __extends(t,i),t.prototype.GQ22=function(){this.investProxy.investBuyReq()},t.prototype.GQ23=function(t){if(200==t.head.state){var e=t.body,i=this.gtM();i.ZC13(e),i.notify(),P18.sDP(O3.tr(3224)),t.body.ob&&P5.sIs(t.body.ob)}else App.CM.apF(O6.B87,L10.A4,t)},t.prototype.GF20=function(t){this.investProxy.ZG26(t)},t.prototype.GF21=function(t){if(200==t.head.state){var e=t.body,i=this.gtM();i.ZC13(e),i.notify(),t.body.ob&&P5.sIs(t.body.ob)}else App.CM.apF(O6.B87,L10.A4,t)},t.prototype.GI71=function(t){App.VM.open(O7.G42);var e=App.CM.gtM(O6.B93);e.firstLoginRedNum=0,e.notify()},t.prototype.GG83=function(){App.VM.close(O7.G42)},t}(TE11);__reflect(TD26.prototype,"TD26");var TG4=function(i){function t(t){var e=i.call(this,t)||this;return e.openState=!1,e.closeEnter=!1,e.redNum=0,e.firstLoginRedNum=0,e}return __extends(t,i),t.prototype.ZC13=function(t){t&&(null!=this.investData?this.investData.updateData(t):(this.investData=new InvestData(t),this.tips=this.investData.tips),this.updateRed(),(this.investData.hasGetList.length>=this.investData.investConfVo.length||0==t.cd&&1!=this.investData.isBuy)&&(App.CM.apF(O6.B93,M6.A3),this.openState=!1,this.closeEnter=!0))},t.prototype.updateRed=function(){this.redNum=this.FL35()},t.prototype.FL35=function(){var t=0;return t+=this.firstLoginRedNum,this.openState&&0<TG45.FHH87()&&(t+=1),t},t.prototype.notify=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];i.prototype.notifyView.call(this,this,t)},t}(TG79);__reflect(TG4.prototype,"TG4");var TG5=function(i){function t(t){var e=i.call(this,t)||this;return e.rSM(P4.X20,e.investBuyRes,e),e.rSM(P4.O34,e.ZG27,e),e}return __extends(t,i),t.prototype.investBuyReq=function(){var t={type:P4.X19,body:{}};this.sSM(t)},t.prototype.investBuyRes=function(t){this.apF(M6.A6,t)},t.prototype.ZG26=function(t){var e={type:P4.O33,body:{day:t}};this.sSM(e)},t.prototype.ZG27=function(t){this.apF(M6.A2,t)},t}(TG80);__reflect(TG5.prototype,"TG5");var TG45=function(){function t(){}return t.FHH87=function(){var t=0,e=App.CM.gtM(O6.B93).investData.investConfVo;for(var i in e)if(e[i].getState==J13.A3){t=e[i].day;break}return t},t}();__reflect(TG45.prototype,"TG45");var InvestMainView=function(s){function t(t,e){var i=s.call(this,t,e)||this;return i.sGN("release_act1002"),App.VM.rgS(O7.G42,O7.I68,"InvestView",i.content),i}return __extends(t,s),t.prototype.initUI=function(){s.prototype.initUI.call(this);var t=[O7.I68];this.btnList=new ButtonList([],t,this.ZQ23.bind(this)),this.btnList.init(),this.btnGroup.addChild(this.btnList),this.btnList.visible=!1},t.prototype.open=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];s.prototype.open.call(this),this.updateBtnRed();var i=t[0]||O7.I68;this.ZQ23(i)},t.prototype.uBM=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];s.prototype.uBM.call(this,t,e),this.updateBtnRed()},t.prototype.ZQ23=function(t){switch(t){case O7.I68:var e=TF59.FB15(F7.A86);if(!e.openState)return P18.sDP(O3.tr(3205)),-1;this.title=e.investData.name,this.btnList.ZM66(t)}},t.prototype.updateBtnRed=function(){},t}(BasePanelView);__reflect(InvestMainView.prototype,"InvestMainView");var InvestView=function(s){function t(t,e){var i=s.call(this,t,e)||this;return i.skinName=InvestSkin,i}return __extends(t,s),t.prototype.initUI=function(){s.prototype.initUI.call(this);var t={render:InvestItem,gap:5,width:this.listGroup.width,height:this.listGroup.height,tileLayout:!0,verticalGap:10,horizontalGap:23};this.listView=new CommonListBase(t),this.listGroup.addChild(this.listView),this.listView.verticalCenter=0,this.listView.horizontalCenter=0},t.prototype.open=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];s.prototype.open.call(this),this.listView.open(),this.buyBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.ZU53,this);var i=App.CM.gtM(O6.B93);null!=i&&i.openState&&this.ZE81(i)},t.prototype.uBM=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];s.prototype.uBM.call(this,t,e),t instanceof TG4&&this.ZE81(t)},t.prototype.ZE81=function(t){this.investData=t.investData;var e=this.investData.investConfVo;this.listView.rfL(e);var i=this.investData.cost.split(":");if(this.cost=parseInt(i[1]),1==this.investData.isBuy){this.cTH(),this.actLeftTimeLb.text="",this.buyBtn.isShowIcon=!1,this.buyBtn.labelX="0";var s=TG45.FHH87();if(0<s)this.buyBtn.label=O3.tr(3230,s),this.buyBtn.enabled=!0,P16.sGF(this.buyBtn,!1);else{var o=this.investData.openDay;this.investData.openDay>this.investData.investConfVo.length&&(o=this.investData.investConfVo.length),this.buyBtn.label=O3.tr(3231,o),this.buyBtn.enabled=!1,P16.sGF(this.buyBtn,!0)}P7.FD53(this.buyBtn,s)}else if(this.buyBtn.isShowIcon=!0,this.buyBtn.labelX="15",this.buyBtn.label=O3.tr(3228,this.cost),this.buyBtn.enabled=!0,P16.sGF(this.buyBtn,!1),null==this._timerHandler)if(0<this.investData.buyCD){this.leftCD=this.investData.ZU54();var r=O3.tr(3253,P6.FJ11(1e3*this.leftCD,5));this.actLeftTimeLb.textFlow=M18.HTP.parser(r),this._timerHandler=App.K16.doTimer(1e3,this.leftCD,this.GY14,this)}else this.actLeftTimeLb.text=""},t.prototype.GY14=function(){this.leftCD--;var t=O3.tr(3253,P6.FJ11(1e3*this.leftCD,5));this.actLeftTimeLb.textFlow=M18.HTP.parser(t),this.leftCD<=0&&(this.cTH(),this.actLeftTimeLb.text="")},t.prototype.ZU53=function(){if(1!=this.investData.isBuy)if(0<this.investData.buyCD||-1==this.investData.buyCD){var t={handler:this.buyInvestReq,cost:this.cost,costTp:P10.A2,content:O3.tr(3227,this.cost)};App.VM.open(O7.C54,t)}else P18.sDP(O3.tr(3220));else{var e=TG45.FHH87();0<e&&App.CM.apF(O6.B93,M6.A1,e)}},t.prototype.buyInvestReq=function(){App.CM.apF(O6.B93,M6.A5)},t.prototype.cTH=function(){null!=this._timerHandler&&(App.K16.rBH(this._timerHandler),this._timerHandler=null)},t.prototype.close=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];s.prototype.close.call(this),this.buyBtn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.ZU53,this),this.cTH(),this.listView.close(),this.investData=null},t}(BaseEuiView);__reflect(InvestView.prototype,"InvestView");var InvestItem=function(e){function t(){var t=e.call(this)||this;return t.skinName=InvestItemSkin,t.addEventListener(egret.Event.ADDED_TO_STAGE,t.open,t),t.addEventListener(egret.Event.REMOVED_FROM_STAGE,t.close,t),t}return __extends(t,e),t.prototype.open=function(){},t.prototype.close=function(){this.rewardsCollection.removeAll()},t.prototype.childrenCreated=function(){e.prototype.createChildren.call(this),this.initUI()},t.prototype.initUI=function(){this.dgRewards.itemRenderer=ItemIcon,this.rewardsCollection=new eui.ArrayCollection,this.dgRewards.dataProvider=this.rewardsCollection,this.awardsSc.viewport=this.dgRewards,this.awardsSc.scrollPolicyH=eui.ScrollPolicy.OFF,this.awardsSc.scrollPolicyV=eui.ScrollPolicy.OFF},t.prototype.dataChanged=function(){var t=O3.tr(3229,this.data.day);this.dayLb.textFlow=M18.HTP.parser(t),this.imgTitle.width=this.dayLb.width+55,this.data.getState==J13.A2?this.gotImg.visible=!0:this.gotImg.visible=!1;var e=this.FK41(this.data.awd);this.rewardsCollection.replaceAll(e)},t.prototype.FK41=function(t){for(var e=[],i=0;i<t.length;i++){var s=N12.gID(t[i].k);if(s){s.ct=t[i].v;var o={data:s,ct:s.ct};e.push({itemData:o,isBottom:!1,scale:1})}}return e},t}(eui.ItemRenderer);__reflect(InvestItem.prototype,"InvestItem");var InvestConfVo=function(){function t(t){this.awd=[],this.getState=J13.A1,this.initData(t)}return t.prototype.initData=function(t){t&&(this.day=t.day,this.awd=t.reward)},t}();__reflect(InvestConfVo.prototype,"InvestConfVo");var InvestData=function(i){function t(t){var e=i.call(this,t)||this;return e.investConfVo=[],e.hasGetList=[],e.isBuy=0,e.openDay=0,e.buyCD=0,e.updateData(t),e}return __extends(t,i),t.prototype.updateData=function(t){if(t){if(this.isBuy=null==t.isBuy?this.isBuy:t.isBuy,this.hasGetList=t.taked||this.hasGetList,this.openDay=t.openDay||this.openDay,this.buyCD=null==t.cd?this.buyCD:t.cd,null!=t.cd&&(this.lastLoadTime=P6.getTime(!0)),t.config){var e=t.config.rewards;this.investConfVo=[];for(var i=0;i<e.length;i++){var s=new InvestConfVo(e[i]);this.investConfVo.push(s)}this.investConfVo.sort(function(t,e){return t.day-e.day})}for(var i in this.investConfVo){if(0<this.hasGetList.length)for(var o in this.hasGetList)this.investConfVo[i].day==this.hasGetList[o]&&(this.investConfVo[i].getState=J13.A2);1==this.isBuy&&this.openDay>=this.investConfVo[i].day&&this.investConfVo[i].getState!=J13.A2&&(this.investConfVo[i].getState=J13.A3)}this.ZU63(t)}},t.prototype.ZU54=function(){var t=P6.getTime(!0)-this.lastLoadTime,e=this.buyCD-t;return 0<e?e:0},t}(ActivityVo);__reflect(InvestData.prototype,"InvestData");var G4=function(){function t(){}return t.A6=0,t.A3=1,t.A1=3,t.A2=4,t.A7=5,t.A4=6,t.A8=7,t.A5=8,t}();__reflect(G4.prototype,"G4");var TB26=function(s){function t(){var t=s.call(this)||this,e=new TD74(t);e.aLV(O7.D12),e.aLV(O7.HH16);var i=new TD75(t);return t.rgF(G4.A6,t.GM34,t),t.rgF(G4.A3,t.GK64,t),App.VM.register(O7.HH85,"JubaoDescView",t,K17.UI_Main_TOP),t.rgF(G4.A7,t.GM36,t),t.rgF(G4.A4,t.GK66,t),App.VM.register(O7.E60,"JubaoDrawOpenView",t,K17.UI_Main_TOP),t.rgF(G4.A8,t.GM35,t),t.rgF(G4.A5,t.GK65,t),App.VM.register(O7.E61,"JubaoRankView",t,K17.UI_Main_TOP),t.rgF(G4.A1,i.reset,i),t.rgF(G4.A2,t.reset,t),t}return __extends(t,s),t.prototype.GM34=function(){App.VM.open(O7.HH85)},t.prototype.GK64=function(){App.VM.close(O7.HH85)},t.prototype.GM35=function(){App.VM.open(O7.E61)},t.prototype.GK65=function(){App.VM.close(O7.E61)},t.prototype.GM36=function(){App.VM.open(O7.E60)},t.prototype.GK66=function(){App.VM.close(O7.E60),this.GS16()},t.prototype.GS16=function(){App.VM.gOV(O7.HH16).ZU79()},t.prototype.reset=function(t){var e=this.gtM();e.gameType=!1,200==t.head.state?(e.ZC13(t.body),e.notify(G4.A2)):App.CM.apF(O6.B87,L10.A4,t)},t}(TE11);__reflect(TB26.prototype,"TB26");var TD74=function(i){function t(t){var e=i.call(this,t)||this;return e.openState=!1,e.redNum=0,e.firstLoginRedNum=1,e.isAutoOpen=!0,e}return __extends(t,i),t.prototype.ZC13=function(t){t&&(null!=this.actData?this.actData.updateData(t):(this.actData=new JubaoArrayVo(t),this.tips=this.actData.tips),this.updateRed())},t.prototype.updateRed=function(){this.redNum=this.FL35()},t.prototype.FL35=function(){var t=0;return t+=this.firstLoginRedNum},t.prototype.notify=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];i.prototype.notifyView.apply(this,[this].concat(t))},t}(TG79);__reflect(TD74.prototype,"TD74");var ItemJubaoBuyView=function(i){function t(t){var e=i.call(this)||this;return e.index=t,e.skinName=DialBuyItem,e}return __extends(t,i),t.prototype.setData=function(t){this.index=t;var e=App.CM.gtM(O6.B9).actData.btnConf[t];this.itemId=e.itemId,this.itemNeed=e.itemNum,this.imgItem.source=N12.FJ86(e.itemId),this.lbMoney.textFlow=M18.HTP.parse(O3.tr(3857,e.itemNum)),this.btn.label=this.getBtnLabel(),this.btn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickGet,this),this.lbBuy.visible=!1,this.FM13(O3.tr(6990,e.coinNum))},t.prototype.FM13=function(t){this.btn.size=t?(this.btn.label2=t,this.btn.labelY="12","22"):(this.btn.label2="",this.btn.labelY="0","24")},t.prototype.getBtnLabel=function(){return 0==this.index?O3.tr(7002,1):1==this.index?O3.tr(7002,5):void 0},t.prototype.onClickGet=function(){var t=App.CM.gtM(O6.B9);if(N12.giC(Number(this.itemId))<Number(this.itemNeed))75e3==Number(this.itemId)?P7.FA78():P18.sDP(O3.tr(5354));else if(!t.gameType){t.gameType=!0;var e=5;0==this.index&&(e=1);var i={num:e};App.CM.apF(O6.B9,G4.A1,i),this.ZM77()}},t.prototype.GY64=function(){this.btn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickGet,this)},t.prototype.ZM77=function(){},t}(eui.Component);__reflect(ItemJubaoBuyView.prototype,"ItemJubaoBuyView");var ItemJubaoRank=function(e){function t(){var t=e.call(this)||this;return t.skinName="CardFlopPersonalSkin",t.addEventListener(egret.Event.ADDED_TO_STAGE,t.open,t),t.addEventListener(egret.Event.REMOVED_FROM_STAGE,t.close,t),t}return __extends(t,e),t.prototype.open=function(){},t.prototype.close=function(){this.itemCollection.removeAll()},t.prototype.childrenCreated=function(){e.prototype.createChildren.call(this),this.itemCollection=new eui.ArrayCollection,this.listContent.dataProvider=this.itemCollection,this.listContent.itemRenderer=ItemIcon,this.awardsSc.scrollPolicyV=eui.ScrollPolicy.OFF},t.prototype.dataChanged=function(){var t=this.data.index;t<3?(this.titleImg.visible=!0,this.indexLb.visible=!1,this.titleImg.source=["v1_img_first_png","v1_img_scend_png","v1_img_third_png"][t]):(this.titleImg.visible=!1,this.indexLb.visible=!0,this.indexLb.text=t+1+"");var e=0,i=App.CM.gtM(O6.B9).actData.conditionArr;for(var s in i){if(t+1<=i[s].max)break;e++}var o=[],r=this.data.rankData[e].split(",")[1],n=this.data.rankData[e].split(",")[0].split("#")[1],a=r.split(";");for(var s in a){var h=a[s].split(":"),p={itemData:{data:N12.gID(Number(h[0])),ct:Number(h[1])},isBottom:!0,scale:.6};o.push(p)}this.itemCollection.replaceAll(o);var l=!1,c=this.data.rank;for(var s in c)c[s].nRank==t+1&&(this.nameLb.text=c[s].sName,this.numLb.text=M18.FF65(c[s].tcg,2),l=!0);l||(t<3&&Number(n)?(this.nameLb.text=O3.tr(6864),this.numLb.text="上榜条件:"+M18.FF65(Number(n),2)):Number(n)?(this.nameLb.text=O3.tr(6864),this.numLb.text="上榜条件:"+M18.FF65(Number(n),2)):(this.numLb.text="",this.nameLb.text="")),this.Bg.visible=!!(t%2)},t}(eui.ItemRenderer);__reflect(ItemJubaoRank.prototype,"ItemJubaoRank");var JubaoArrayView=function(r){function t(t,e){var i=r.call(this,t,e)||this;return i.itemArr=[],i.itemArray=[],i.round=0,i.sGN("release_act1127"),i.skinName="JubaoArraySkin",i}return __extends(t,r),t.prototype.initUI=function(){r.prototype.initUI.call(this),this.initItemView();var t=App.CM.gtM(O6.B9).actData;for(var e in this.itemArr=[this.gpIconN0,this.gpIconN1,this.gpIconN2,this.gpIconN3,this.gpIconN4,this.gpIconN5,this.gpIconN6,this.gpIconN7],this.itemArr){var i=this.itemArr[e],s=t.rankArr[e],o={itemData:{data:N12.gID(s.k),ct:s.v},isBottom:!1,isJp:s.isJp,id:Number(s.k)};i.data=o}},t.prototype.initItemView=function(){this.buyItem0.removeChildren(),this.buyItem1.removeChildren(),this.itemArray=[];for(var t=0;t<2;t++){var e=new ItemJubaoBuyView(t);e.setData(t),this.itemArray.push(e)}this.buyItem0.addChild(this.itemArray[0]),this.buyItem1.addChild(this.itemArray[1])},t.prototype.open=function(){for(var e=this,t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];r.prototype.open.call(this,t);var s=App.CM.gtM(O6.B9);s.gameType=!1,App.K16.doFrame(1,1,function(){var t=App.VM.gOV(TF59.FA34(F7.A52));t&&t.autoOut&&(e.autoOutVis=t.autoOut.visible,t.autoOut.visible=!1)},this),this.ProbaBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.openReset,this),this.rankBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.openRank,this),this.round2.visible=!1,this.leftCD=s.actData.ZHH64();var o=O3.tr(3253,P6.FJ11(1e3*this.leftCD,5));this.cdLb.textFlow=M18.HTP.parse(o),this.timerArrHandler=App.K16.doTimer(1e3,this.leftCD,this.GY14,this)},t.prototype.close=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];r.prototype.close.call(this,t),this.timerArrHandler&&(App.K16.rBH(this.timerArrHandler),this.timerArrHandler=null),this.timerHandler&&(App.K16.rBH(this.timerHandler),this.timerHandler=null,App.K16.rBH(this.timerHandler2),this.timerHandler2=null);var i=App.VM.gOV(TF59.FA34(F7.A52));i&&i.autoOut&&(i.autoOut.visible=this.autoOutVis),this.ProbaBtn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.openReset,this),this.rankBtn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.openRank,this)},t.prototype.openReset=function(){App.CM.apF(O6.B9,G4.A6)},t.prototype.openRank=function(){App.CM.apF(O6.B9,G4.A8)},t.prototype.hideItem=function(t){for(var e in this.itemArr)t?this.itemArr[e].hide():this.itemArr[e].show()},t.prototype.uBM=function(t,e){if(r.prototype.uBM.call(this,t,e),t instanceof TD74)switch(e){case G4.A2:this.GX5(t)}},t.prototype.GX5=function(t){this.hideItem(!1),this.runAction()},t.prototype.ZU79=function(){egret.Tween.removeTweens(this.round0),this.timerHandler&&(App.K16.rBH(this.timerHandler),this.timerHandler=null,App.K16.rBH(this.timerHandler2),this.timerHandler2=null),this.round1.rotation=0,this.round0.rotation=0,this.round0.source="com_banner_jubaoshenzhena_png",this.round2.visible=!1,this.hideItem(!0)},t.prototype.runAction=function(){var t=this;this.round1.rotation=0,egret.Tween.get(this.round1).to({rotation:-359},2300).call(function(){t.round1.rotation=0},this),egret.Tween.get(this).wait(1e3).call(function(){App.CM.apF(O6.B9,G4.A7)},this),egret.Tween.get(this).wait(350).call(function(){t.round2.visible=!0,t.round0.source="com_banner_jubaoshenzhena_01_png",t.timerHandler2=App.K16.doTimer(15,0,t.runAoundA,t)},this),this.timerHandler||(this.timerHandler=App.K16.doTimer(400,0,this.runRound,this))},t.prototype.runAoundA=function(){this.round+=15,360<this.round&&(this.round=this.round%360),this.round0.rotation=this.round},t.prototype.runRound=function(){var t=this;console.log("产生 动画");var e=this.getImage();egret.Tween.get(e).to({alpha:1,scaleX:4,scaleY:4},550).to({alpha:0,scaleX:6,scaleY:6},550).call(function(){t.textGroup.removeChild(e)},this)},t.prototype.getImage=function(){var t=new eui.Image;return t.source="com_banner_jubaoshenzhena_012_png",this.textGroup.addChild(t),t.scaleX=t.scaleY=2,t.alpha=0,t.anchorOffsetX=76,t.anchorOffsetY=76,t.x=300,t.y=269,t.blendMode="add",t},t.prototype.GY14=function(){this.leftCD--;var t=O3.tr(3253,P6.FJ11(1e3*this.leftCD,5));this.cdLb.textFlow=M18.HTP.parser(t),this.leftCD<=0&&(this.cdLb.text="")},t}(BaseEuiView);__reflect(JubaoArrayView.prototype,"JubaoArrayView");var JubaoDescView=function(s){function t(t,e){var i=s.call(this,t,e)||this;return i.skinName=RedBoxPreviewSkin,i}return __extends(t,s),t.prototype.initUI=function(){s.prototype.initUI.call(this),this.touchEnabled=!1,this.lbStr1.textFlow=M18.HTP.parser(O3.tr(6792)),this.lbStr2.textFlow=M18.HTP.parser(O3.tr(6793)),this.lbStr3.textFlow=M18.HTP.parser(O3.tr(7865)),this.lbStr4.textFlow=M18.HTP.parser(O3.tr(7856))},t.prototype.open=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];s.prototype.open.call(this),this.bgMask.addEventListener(egret.TouchEvent.TOUCH_TAP,this.closeSelf,this)},t.prototype.close=function(){s.prototype.close.call(this),this.bgMask.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.closeSelf,this)},t.prototype.closeSelf=function(){this.aCF(O6.B9,G4.A3)},t}(BaseEuiView);__reflect(JubaoDescView.prototype,"JubaoDescView");var JubaoDrawOpenView=function(s){function t(t,e){var i=s.call(this,t,e)||this;return i.openIndex=[],i.skinName="JuBaoDrawOpenSkin",i}return __extends(t,s),Object.defineProperty(t.prototype,"model",{get:function(){return App.CM.gtM(O6.B9)},enumerable:!0,configurable:!0}),t.prototype.initUI=function(){s.prototype.initUI.call(this);var t=O3.tr(6990,O3.tr(6993));this.FM13(this.btnFiveMelt,t),this.btnFiveMelt.label=O3.tr(6467),this.cbAuto.visible=!1},t.prototype.FM13=function(t,e){t.size=e?(t.label2=e,t.labelY="12","22"):(t.label2="",t.labelY="0","24")},t.prototype.open=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];s.prototype.open.call(this);var i=this.model;this.list=i.actData.li,this.ob=i.actData.ob,this.btnOpen.label=O3.tr(6381,5),this.btnOpen.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickOpen,this),this.btnFiveMelt.addEventListener(egret.TouchEvent.TOUCH_TAP,this.ZM99,this),1==this.list.length?(this.mainGroup.y=-130,this.card1.horizontalCenter=this.card1.verticalCenter=this.gpCard1.horizontalCenter=this.gpCard1.verticalCenter=0,this.btnOpen.visible=this.btnFiveMelt.visible=!1,this.mainGroup.removeChild(this.card2),this.mainGroup.removeChild(this.card3),this.mainGroup.removeChild(this.card4),this.mainGroup.removeChild(this.card5)):this.mainGroup.y=-30,this.GX5()},t.prototype.ZM99=function(){var t=this;this.isAction1||(this.isOpen?this.startMelt():(this.isOpen=!0,this.openAllCard(),egret.Tween.get(this).wait(1e3).call(function(){t.startMelt()})))},t.prototype.startMelt=function(){var t=App.CM.gtM(O6.B9).actData.btnConf[1],e=t.itemId,i=t.itemNum;if(N12.giC(e)<i)P7.FA78();else{this.closeSelf();App.CM.apF(O6.B9,G4.A1,{num:5})}},t.prototype.GX5=function(){var t=this;this.isAction1=!0;var e=this.model;this.isOpen=!1,this.cd=5,this.cbAuto.selected=e.isAutoOpen,this.qualityEff=[];for(var i=0;i<this.list.length;i++){var s=e.actData.rewardArr[this.list[i]-1];switch(N12.gID(s.k).quality){case 2:this.qualityEff.push("wdsg_bfld01_lv_kppz_12");break;case 3:this.qualityEff.push("wdsg_bfld01_lan_kppz_13");break;case 4:this.qualityEff.push("wdsg_bfld01_kppz_z_09");break;case 5:this.qualityEff.push("wdsg_bfld01_c_kppz_10");break;case 6:this.qualityEff.push("wdsg_bfld01_h_kppz_11")}}egret.Tween.get(this.bgMask).to({alpha:0},170).to({alpha:.5},210),1==this.list.length?egret.Tween.get(this).call(this.addCard,this,[this.qualityEff[0],this.gpCard1]).wait(1e3).call(function(){t.isAction1=!1,t.closeEvent()}):egret.Tween.get(this).call(this.addCard,this,[this.qualityEff[0],this.gpCard1]).wait(100).call(this.addCard,this,[this.qualityEff[1],this.gpCard2]).wait(100).call(this.addCard,this,[this.qualityEff[2],this.gpCard3]).wait(100).call(this.addCard,this,[this.qualityEff[3],this.gpCard4]).wait(100).call(this.addCard,this,[this.qualityEff[4],this.gpCard5])},t.prototype.GY14=function(){var t=this;this.ZHH70(),this.cd=5,this.btnOpen.label=O3.tr(6381,this.cd),this.timeHandler1=App.K16.doTimer(1e3,this.cd,function(){t.isOpen||(t.cd--,t.btnOpen.label=O3.tr(6381,t.cd),!t.isAction1&&t.cd<=0&&t.openAllCard())},this)},t.prototype.onClickOpen=function(){this.cbAuto.selected||this.isOpen?this.closeSelf():this.isAction1||this.openAllCard()},t.prototype.openAllCard=function(){for(var t=this,e=1;e<=5;e++)this.list[e-1]&&this.turnCard(this["gpCard"+e],this.list[e-1],e);this.isOpen=!0,this.mainGroup.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.openAllCard,this),this.mainGroup.addEventListener(egret.TouchEvent.TOUCH_TAP,this.closeSelf,this),this.cd=5,this.btnOpen.label=O3.tr(6382,5),this.timeHandler1&&App.K16.rBH(this.timeHandler1),this.timeHandler1=App.K16.doTimer(1e3,5,function(){t.cd--,t.btnOpen.label=O3.tr(6382,t.cd),t.cd<=0&&t.closeSelf()},this)},t.prototype.getAllCard=function(){this.closeSelf()},t.prototype.onChange=function(){this.model.isAutoOpen=this.cbAuto.selected,TG40.playClickEffect()},t.prototype.addCard=function(t,e){var i=this,s=this;App.THH32.aUE(e,"wdsg_bfldl_hb_002",e.width/2,e.height/2,1,null,null,null,null,null,!0),App.THH32.aUE(e,"wdsg_bfldl_kpdh_005",e.width/2,e.height/2,1,null,function(){App.THH32.aUE(e,t,e.width/2,e.height/2,-1,null,null,null,null,null,!0),e==s.gpCard5&&egret.Tween.get(i).wait(200).call(function(){s.isAction1=!1,s.closeEvent()})},null,null,null,!0)},t.prototype.turnCard=function(t,e,i){var s=this.model.actData.rewardArr[e-1],o=N12.gID(s.k),r={data:o,ct:parseInt(s.v)};if(this.openIndex.indexOf(i)<0){var n=new FaBaoDrawOpenItemView;n.setData({itemData:r,isBottom:!1,scale:1}),t.addChild(n),n.horizontalCenter=0,n.verticalCenter=0;var a=5<=o.quality?"wdsg_bfld3_kpdh_008":"wdsg_bfld3_kpdh_007";App.THH32.aUE(t,a,t.width/2,t.height/2,1,null,null,null,null,null,!0),this.openIndex.push(i)}},t.prototype.ZHH70=function(){this.timeHandler1&&(App.K16.rBH(this.timeHandler1),this.timeHandler1=null)},t.prototype.closeEvent=function(){this.mainGroup.addEventListener(egret.TouchEvent.TOUCH_TAP,this.openAllCard,this),this.cbAuto.selected?this.openAllCard():this.GY14()},t.prototype.close=function(){s.prototype.close.call(this),this.ZHH70(),this.mainGroup.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.closeSelf,this),this.cbAuto.removeEventListener(egret.Event.CHANGE,this.onChange,this),this.btnOpen.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickOpen,this),this.btnFiveMelt.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.ZM99,this);for(var t=1;t<=5;t++)App.THH32.rEf(this["gpCard"+t],this.qualityEff[t-1]);egret.Tween.removeTweens(this),egret.Tween.removeTweens(this.bgMask)},t.prototype.closeSelf=function(){P5.sIs(this.ob),App.CM.apF(O6.B9,G4.A4)},t}(BaseEuiView);__reflect(JubaoDrawOpenView.prototype,"JubaoDrawOpenView");var JubaoIcon=function(e){function t(){return e.call(this)||this}return __extends(t,e),t.prototype.childrenCreated=function(){e.prototype.createChildren.call(this),this.imgEffect=new eui.Image,this.imgEffect.source="v1_img_texi_png",this.gpIcon.addChild(this.imgEffect),this.imgEffect.horizontalCenter=0,this.imgEffect.verticalCenter=0,this.imgEffect.scaleX=1,this.imgEffect.scaleY=1,this.imgEffect.visible=!1,this.gpIcon.alpha=1},t.prototype.show=function(){App.THH33.aUE(this,"iconSkill",-60,-60,1),egret.Tween.get(this.gpIcon).to({alpha:0},800)},t.prototype.hide=function(){App.THH33.rEf(this,"iconSkill"),egret.Tween.get(this.gpIcon).to({alpha:1},800)},t.prototype.close=function(){e.prototype.close.call(this),this.hide(),this.ZU80()},t.prototype.dataChanged=function(){e.prototype.dataChanged.call(this);var t=["","","","","circle_zi","circle_cheng","circle_hong"];this.imgBg.source="v1_img_kuang_jinengbai_png",this.data.unified&&(this.imgNameBg.visible=!0),this.data.isJp?(this.imgJP||(this.imgJP=new eui.Image,this.imgJP.source="v1_fonts_jip_png",this.gpIcon.addChild(this.imgJP),this.imgJP.horizontalCenter=0,this.imgJP.top=0),this.effname||(App.THH33.aUE(this.gpIcon,t[this.itemData.data.quality],-50,-50),this.effname=t[this.itemData.data.quality]),this.imgJP.visible=!0):this.imgJP&&(this.imgJP.visible=!1),this.imgIcon.scaleX=this.imgIcon.scaleY=1.1,this.imgBg.scaleX=this.imgBg.scaleY=1.1},t.prototype.ZU80=function(){this.effname&&(App.THH33.rEf(this.gpIcon,this.effname),this.effname=void 0)},t.prototype.initItem=function(){var t=this.itemData.texiao;t&&App.THH33.aUE(this.gpIcon,t.teName,t.x,t.y),this.imgBg.source=N12.getBox(this.itemData.data.quality),this.imgIcon.source=this.itemData.data.icon,this.data.QAlpha?this.imgBg.alpha=this.data.QAlpha:this.imgBg.alpha=1;var e="";null!=this.itemData.data.addlevel?(e=O3.tr(1148,this.itemData.data.level),this.lbMove.visible=!0,this.itemData.data.addlevel?this.lbMove.text=O3.tr(1149,this.itemData.data.level,this.itemData.data.addlevel):this.lbMove.text=O3.tr(1148,this.itemData.data.level)):(this.lbMove.visible=!1,e=this.itemData.data.name);var i=2;switch(this.data.fl&&(i=this.data.fl),(this.data.isShowLv||this.data.pack)&&this.itemData.data.type==P11.AVA&&(e=O3.tr(5359,this.itemData.data.level)),this.data.unified?(this.lbName.textColor=16707295,this.lbName.size=18,this.lbName.text=e,this.imgNameBg.visible=!0):O5.FB13(this.lbName,e,this.itemData.data.quality,i,!1),1<this.itemData.ct?(this.gpCt.visible=!0,this.lbCt.text=M18.FF65(this.itemData.ct,1)):this.gpCt.visible=!1,this.itemData.data.type){case 1:if(1==this.itemData.data.effecttype){this.lbMove.visible=!0;var s=this.itemData.data.param,o=N12.gID(s);this.lbMove.text=O3.tr(1148,o.level)}}},t}(ItemIcon);__reflect(JubaoIcon.prototype,"JubaoIcon");var JubaoRankView=function(s){function t(t,e){var i=s.call(this,t,e)||this;return i.skinName="CardFlopRankSkin",i}return __extends(t,s),t.prototype.initUI=function(){s.prototype.initUI.call(this);var t={render:ItemJubaoRank,gap:5,width:this.rankListGroup.width,height:this.rankListGroup.height,arrowScale:1};this.ranklistView=new CommonListBase(t),this.rankListGroup.addChild(this.ranklistView),this.ranklistView.verticalCenter=0,this.ranklistView.horizontalCenter=0,this.dlg.ZM69(this.closeSelf.bind(this),this),this.dlg.ZQ14(this.closeSelf.bind(this),this),this.dlg.ZQ15(!0),this.dlg.ZG3(!0),this.dlg.title=O3.tr(5489),this.dlg.ZU10().visible=!0,this.title.text=O3.tr(7866),this.conLb.text=O3.tr(7867),this.numLb.text=O3.tr(7780),this.nameLb.text=O3.tr(6175),this.rewLb.text=O3.tr(202)},t.prototype.open=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];s.prototype.open.call(this,t),this.ranklistView.open(),this.loadListData()},t.prototype.close=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];s.prototype.close.call(this,t),this.ranklistView.close()},t.prototype.closeSelf=function(t){this.apF(G4.A5)},t.prototype.uBM=function(t,e){s.prototype.uBM.call(this,t,e),t instanceof THH11&&this.updateViews(t)},t.prototype.updateViews=function(t){var e=App.CM.gtM(O6.B9),i=t.myRankList,s=t.rankList,o=e.actData.more.split("|"),r=this.ZM75(o,s);this.ranklistView.rfL(r),i.nRank?this.myRankLb.textFlow=M18.HTP.parser(O3.tr(601,i.nRank)):this.myRankLb.textFlow=M18.HTP.parser(O3.tr(5330)),this.mySpendLb.textFlow=M18.HTP.parser(O3.tr(7782,i.tcg))},t.prototype.ZM75=function(t,e){for(var i=[],s=0;s<TG75.rank[RankType.JubaoRank].count;s++){var o={rank:e,index:s,rankData:t};i.push(o)}return i},t.prototype.loadListData=function(){var t={type:RankType.JubaoRank,currPage:1,size:TG75.rank[RankType.JubaoRank].count};App.CM.apF(O6.C19,O18.A5,t)},t}(BaseEuiView);__reflect(JubaoRankView.prototype,"JubaoRankView");var TD75=function(e){function t(t){return e.call(this,t)||this}return __extends(t,e),t.prototype.reset=function(t){var e=this,i={type:P4.B64,body:{num:t.num}};this.rSMO(P4.B65,function(t){e.apF(G4.A2,t)},this),this.sSM(i)},t}(TG80);__reflect(TD75.prototype,"TD75");var JubaoArrayVo=function(i){function t(t){var e=i.call(this,t)||this;return e.rankArr=[],e.btnConf=[],e.ob=[],e.conditionArr=[],e.rewardArr=[],e.updateData(t),e}return __extends(t,i),t.prototype.updateData=function(t){if(t&&this.ZU63(t),this.ob=t.ob,this.li=t.li,t.atmp){var e=t.atmp;this.cost=e.cost?e.cost:this.cost,this.more=e.more?e.more:this.more,this.param=e.param?e.param:this.param,this.rank=e.rank?e.rank:this.rank,this.reward=e.reward?e.reward:this.reward,this.tips=e.tips?e.tips:this.tips,e&&(this.initRank(e.rank),this.initConf(e.cost),this.initReward(e.reward),this.initMore(e.more))}},t.prototype.initRank=function(t){this.rankArr=[];var e=t.split("|");for(var i in e){var s=e[i].split(","),o=s[1].split(":"),r={pot:s[0],k:o[0],v:o[1],isJp:!!Number(s[2])};this.rankArr.push(r)}},t.prototype.initConf=function(t){this.btnConf=[];var e=t.split("|");for(var i in e){var s=e[i].split(","),o={itemId:s[0].split(":")[0],itemNum:s[0].split(":")[1],coinId:s[1].split(":")[0],coinNum:s[1].split(":")[1]};this.btnConf.push(o)}},t.prototype.initReward=function(t){this.rewardArr=[];var e=t.split("|");for(var i in e){var s=e[i].split(",")[1];if(s){var o={k:s.split(":")[0],v:s.split(":")[1]};this.rewardArr.push(o)}}},t.prototype.initMore=function(t){this.conditionArr=[];var e=t.split("|");for(var i in e){var s=e[i].split("#")[0];this.conditionArr.push({min:Number(s.split("-")[0]),max:Number(s.split("-")[1])})}},t.prototype.ZHH64=function(){var t=P6.getTime(!0)-this.lastRefreshTime,e=this.rs-t;return 0<e?e:0},t}(ActivityVo);__reflect(JubaoArrayVo.prototype,"JubaoArrayVo");var J5=function(){function t(){}return t.A11=0,t.A9=1,t.A12=2,t.A10=3,t.A13=4,t.A1=5,t.A2=6,t.A7=7,t.A8=8,t.A5=9,t.A6=10,t.A3=11,t.A4=12,t}();__reflect(J5.prototype,"J5");var TC10=function(s){function t(){var t=s.call(this)||this,e=new TF24(t);e.aLV(O7.D12),e.aLV(O7.I33),e.aLV(O7.F46);var i=new TF25(t);return t.rgF(J5.A11,t.GM34,t),t.rgF(J5.A9,t.GK64,t),App.VM.register(O7.F46,"LuckPoolView",t,K17.UI_Main_TOP),t.rgF(J5.A12,t.GM37,t),t.rgF(J5.A10,t.GK67,t),App.VM.register(O7.F47,"LuckFlopRankView",t,K17.UI_Main_TOP),t.rgF(J5.A1,i.reset,i),t.rgF(J5.A2,t.reset,t),t.rgF(J5.A7,i.compose,i),t.rgF(J5.A8,t.compose,t),t.rgF(J5.A5,i.turnCard,i),t.rgF(J5.A6,t.turnCard,t),t.rgF(J5.A3,i.GY11,i),t.rgF(J5.A4,t.GY11,t),t.rgF(J5.A13,t.GS16,t),t}return __extends(t,s),t.prototype.GM34=function(){App.VM.open(O7.F46)},t.prototype.GK64=function(){App.VM.close(O7.F46)},t.prototype.GM37=function(){App.VM.open(O7.F47)},t.prototype.GK67=function(){App.VM.close(O7.F47)},t.prototype.GS16=function(t){App.VM.gOV(O7.I33).cancelSelect(t)},t.prototype.reset=function(t){if(200==t.head.state){var e=this.gtM();e.ZC13(t.body),e.notify(J5.A2)}else App.CM.apF(O6.B87,L10.A4,t)},t.prototype.compose=function(t){if(200==t.head.state){var e=this.gtM();e.actData.initData(t.body),e.notify(J5.A8)}else App.CM.apF(O6.B87,L10.A4,t)},t.prototype.turnCard=function(t){if(200==t.head.state){var e=this.gtM();if(e.actData.setTurnData(t.body),t.body.v){var i=[t.body.v.i];P5.sIs(i)}e.notify(J5.A6)}else App.CM.apF(O6.B87,L10.A4,t)},t.prototype.GY11=function(t){if(200==t.head.state){var e=this.gtM();e.ZC13(t.body),e.notify(J5.A4)}else App.CM.apF(O6.B87,L10.A4,t)},t}(TE11);__reflect(TC10.prototype,"TC10");var TF24=function(i){function t(t){var e=i.call(this,t)||this;return e.openState=!1,e.redNum=0,e.firstLoginRedNum=1,e}return __extends(t,i),t.prototype.ZC13=function(t){t&&(null!=this.actData?this.actData.updateData(t):(this.actData=new LuckFlopVo(t),this.tips=this.actData.tips),this.updateRed())},t.prototype.updateRed=function(){this.redNum=this.FL35()},t.prototype.setGameType=function(t){this.gameType=t},t.prototype.FL35=function(){var t=0;return t+=this.firstLoginRedNum,this.actData.s&&t++,t},t.prototype.notify=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];i.prototype.notifyView.apply(this,[this].concat(t))},t.prototype.getGameType=function(){return this.actData.de||this.actData.s?this.actData.s?1:this.actData.td&&this.actData.td.length<this.actData.tips?2:void 0:0},t}(TG79);__reflect(TF24.prototype,"TF24");var ItemCardFlop=function(e){function t(){var t=e.call(this)||this;return t.skinName=ItemCardFlopSkin,t.addEventListener(egret.Event.ADDED_TO_STAGE,t.open,t),t.addEventListener(egret.Event.REMOVED_FROM_STAGE,t.close,t),t.seleImage.visible=!1,t}return __extends(t,e),t.prototype.open=function(){this.lbName.text=O3.tr(7774),this.Bg.addEventListener(egret.TouchEvent.TOUCH_TAP,this.oCI,this),this.imgPush.addEventListener(egret.TouchEvent.TOUCH_TAP,this.oCI,this),this.seleImage.visible=!1},t.prototype.setIndex=function(t){this.index=t},t.prototype.initData=function(t){void 0===t&&(t=null),t?this.openCard(t):(this.type=!0,this.Bg.source="com_xingyunfanpai1_png",this.imgBox.visible=this.imgPush.visible=this.lbName.visible=!1,this.item.visible=!1)},t.prototype.setInfo=function(){this.type=!0,this.Bg.source="com_xingyunfanpai2_png",this.imgBox.visible=this.imgPush.visible=this.lbName.visible=!0,this.item.visible=!1,this.seleImage.visible=!1},t.prototype.runRotation=function(){egret.Tween.get(this.mian).to({rotation:-12},80).to({rotation:12},17).to({rotation:-8},250).to({rotation:6},330).to({rotation:0},410).call(function(){this.mian.rotation=0},this)},t.prototype.backFlip=function(){this.mian.scaleX=1,egret.Tween.get(this.mian).to({scaleX:.1},210).call(function(){this.initData()},this).to({scaleX:1},210)},t.prototype.runFlipCard=function(t){this.mian.scaleX=1,egret.Tween.get(this.mian).to({scaleX:.1},210).call(function(){this.openCard(t)},this).to({scaleX:1},210)},t.prototype.openCard=function(t){var e={itemData:{data:N12.gID(t.i.k),ct:t.i.v,fl:1},isBottom:!0};this.item.data=e,this.item.visible=!0,this.Bg.source="com_xingyunfanpai2_png",this.imgBox.visible=this.imgPush.visible=this.lbName.visible=!1,this.type=!1,this.seleImage.visible=!1},t.prototype.runOpenAct=function(t){this.Bg.source="com_xingyunfanpai2_png",this.mian.scaleX=.92,this.mian.scaleY=.92,egret.Tween.get(this.mian).to({scaleX:1.1,scaleY:1.1},100).call(function(){this.openCard(t)},this).to({scaleX:.99,scaleY:.99},120).to({scaleX:1,scaleY:1},-20),App.THH32.rEf(this.mian,"xyfp_db_bkdh_01_1"),App.THH32.aUE(this.mian,"xyfp_db_bkdh_01_1",65,97.5,1,null,null,null,null,"Animation1")},t.prototype.runAction=function(){this.Bg.source="com_xingyunfanpai2_png",this.mian.scaleX=.92,this.mian.scaleY=.92,egret.Tween.get(this.mian).to({scaleX:1.1,scaleY:1.1},100).call(function(){this.setInfo()},this).to({scaleX:.99,scaleY:.99},120).to({scaleX:1,scaleY:1},-20),App.THH32.rEf(this.mian,"xyfp_db_bkdh_01_1"),App.THH32.aUE(this.mian,"xyfp_db_bkdh_01_1",65,97.5,1,null,null,null,null,"Animation1")},t.prototype.setCardScale=function(t){this.seleImage.visible=t},t.prototype.getType=function(){return this.item.visible},t.prototype.close=function(){App.THH32.rEf(this.mian,"xyfp_db_bkdh_01_1"),this.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.oCI,this)},t.prototype.oCI=function(){this.type&&(this.imgBox.visible?App.CM.apF(O6.B57,J5.A11,this.index):App.CM.apF(O6.B57,J5.A13,this.index))},t}(eui.ItemRenderer);__reflect(ItemCardFlop.prototype,"ItemCardFlop");var ItemLuckFlopRank=function(e){function t(){var t=e.call(this)||this;return t.skinName="CardFlopPersonalSkin",t.addEventListener(egret.Event.ADDED_TO_STAGE,t.open,t),t.addEventListener(egret.Event.REMOVED_FROM_STAGE,t.close,t),t}return __extends(t,e),t.prototype.open=function(){},t.prototype.close=function(){this.itemCollection.removeAll()},t.prototype.childrenCreated=function(){e.prototype.createChildren.call(this),this.itemCollection=new eui.ArrayCollection,this.listContent.dataProvider=this.itemCollection,this.listContent.itemRenderer=ItemIcon,this.awardsSc.scrollPolicyV=eui.ScrollPolicy.OFF},t.prototype.dataChanged=function(){var t=this.data.index,e=0;e=t<3?(this.titleImg.visible=!0,this.indexLb.visible=!1,this.titleImg.source=["v1_img_first_png","v1_img_scend_png","v1_img_third_png"][t],t):(this.titleImg.visible=!1,this.indexLb.visible=!0,this.indexLb.text=t+1+"",t<5?t:t<10?5:6);var i=[],s=this.data.rankData[e].split(",")[1].split(";");for(var o in s){var r=s[o].split(":"),n={itemData:{data:N12.gID(Number(r[0])),ct:Number(r[1])},isBottom:!0,scale:.6};i.push(n)}this.itemCollection.replaceAll(i);var a=!1,h=this.data.rank;for(var o in h)h[o].nRank==t+1&&(this.nameLb.text=h[o].sName,this.numLb.text=M18.FF65(h[o].cg,2),a=!0);a||(t<3&&this.data.cond?(this.nameLb.text=O3.tr(6864),this.numLb.text="上榜条件:"+M18.FF65(Number(this.data.cond),2)):(this.numLb.text="",this.nameLb.text="")),this.Bg.visible=!(t%2)},t.prototype.getLocalRank=function(t,e){for(var i in e)if(t==e[i].nRank)return e[i];return null},t.prototype.getLocalCost=function(t,e){return t<e.length?e[t].split(":")[1]:null},t}(eui.ItemRenderer);__reflect(ItemLuckFlopRank.prototype,"ItemLuckFlopRank");var LuckCardOpenView=function(s){function t(t,e){var i=s.call(this,t,e)||this;return i.openIndex=[],i.skinName="LuckCardOpenSkin",i}return __extends(t,s),Object.defineProperty(t.prototype,"model",{get:function(){return App.CM.gtM(O6.B32)},enumerable:!0,configurable:!0}),t.prototype.initUI=function(){s.prototype.initUI.call(this)},t.prototype.FM13=function(t,e){t.size=e?(t.label2=e,t.labelY="12","22"):(t.label2="",t.labelY="0","24")},t.prototype.open=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];s.prototype.open.call(this),this.list=t[0],this.ob=t[1],this.rect.addEventListener(egret.TouchEvent.TOUCH_TAP,this.closeSelf,this),this.card1.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickCard,this),this.card2.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickCard,this),this.card3.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickCard,this),this.card4.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickCard,this),this.card5.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickCard,this),1==this.list.length&&(this.card1.horizontalCenter=this.card1.verticalCenter=this.gpCard1.horizontalCenter=this.gpCard1.verticalCenter=0,this.removeChild(this.card2),this.removeChild(this.card3),this.removeChild(this.card4),this.removeChild(this.card5)),this.GX5()},t.prototype.GX5=function(){var t=this;this.isAction1=!0;var e=this.model;1==this.list.length?this.isOpen=!1:this.isOpen=!!e.isAutoOpen,this.cd=this.isOpen?5:10,this.qualityEff=[];for(var i=0;i<this.list.length;i++){switch(TD66.reward[this.list[i]].quality){case 2:this.qualityEff.push("wdsg_bfld01_lv_kppz_12");break;case 3:this.qualityEff.push("wdsg_bfld01_lan_kppz_13");break;case 4:this.qualityEff.push("wdsg_bfld01_kppz_z_09");break;case 5:this.qualityEff.push("wdsg_bfld01_c_kppz_10");break;case 6:this.qualityEff.push("wdsg_bfld01_h_kppz_11")}}egret.Tween.get(this.bgMask).to({alpha:0},170).to({alpha:.5},210),1==this.list.length?egret.Tween.get(this).call(this.addCard,this,[this.qualityEff[0],this.gpCard1]).wait(100).call(this.GY14,this).call(function(){t.isAction1=!1}):egret.Tween.get(this).call(this.addCard,this,[this.qualityEff[0],this.gpCard1]).wait(100).call(this.addCard,this,[this.qualityEff[1],this.gpCard2]).wait(100).call(this.addCard,this,[this.qualityEff[2],this.gpCard3]).wait(100).call(this.addCard,this,[this.qualityEff[3],this.gpCard4]).wait(100).call(this.addCard,this,[this.qualityEff[4],this.gpCard5]).call(this.GY14,this)},t.prototype.GY14=function(){var t=this;this.timeHandler1||(this.timeHandler1=App.K16.doTimer(1e3,this.cd,function(){5==t.cd&&(t.isOpen=!0,t.openAllCard()),t.cd--,t.cd<=0&&(t.getAllCard(),t.ZHH70())},this,this.getAllCard,this))},t.prototype.openAllCard=function(){for(var t=1;t<=5;t++)this.list[t-1]&&this.turnCard(this["gpCard"+t],this.list[t-1],t);this.closeEvent()},t.prototype.getAllCard=function(){this.closeSelf()},t.prototype.onChange=function(){this.model;TG40.playClickEffect()},t.prototype.addCard=function(t,e){var i=this;App.THH32.aUE(e,"wdsg_bfldl_hb_002",e.width/2,e.height/2,1,null,null,null,null,null,!0),App.THH32.aUE(e,"wdsg_bfldl_kpdh_005",e.width/2,e.height/2,1,null,function(){App.THH32.aUE(e,t,e.width/2,e.height/2,-1,null,null,null,null,null,!0),e==i.gpCard5&&(i.isAction1=!1)},null,null,null,!0)},t.prototype.onClickCard=function(t){switch(1==this.list.length&&(this.isOpen=!0),t.currentTarget.name){case"card1":this.turnCard(this.gpCard1,this.list[0],1),this.card1.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickCard,this);break;case"card2":this.turnCard(this.gpCard2,this.list[1],2),this.card2.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickCard,this);break;case"card3":this.turnCard(this.gpCard3,this.list[2],3),this.card3.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickCard,this);break;case"card4":this.turnCard(this.gpCard4,this.list[3],4),this.card4.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickCard,this);break;case"card5":this.turnCard(this.gpCard5,this.list[4],5),this.card5.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickCard,this)}TG40.playClickEffect()},t.prototype.turnCard=function(t,e,i){var s=TD66.reward[e].item.split(":"),o={data:N12.gID(s[0]),ct:parseInt(s[1])};if(this.openIndex.indexOf(i)<0){var r=new FaBaoDrawOpenItemView;r.setData({itemData:o,isBottom:!1,scale:1}),t.addChild(r),r.horizontalCenter=0,r.verticalCenter=0;var n=5<=TD66.reward[e].quality?"wdsg_bfld3_kpdh_008":"wdsg_bfld3_kpdh_007";App.THH32.aUE(t,n,t.width/2,t.height/2,1,null,null,null,null,null,!0),this.openIndex.push(i)}},t.prototype.onClickOpen=function(){this.isAction1||(this.isOpen?this.getAllCard():(this.isOpen=!0,this.cd=5,this.openAllCard()))},t.prototype.ZHH70=function(){this.timeHandler1&&(App.K16.rBH(this.timeHandler1),this.timeHandler1=null)},t.prototype.startMelt=function(){var t=0;if(5<=N12.giC(TD66.drawTicket))t=D2.A1;else{var e=N12.giC(TD66.costFiveItem),i=App.CM.gtM(O6.A41),s=0;if(i.openState&&i.actData.ZU21(1)&&(s=Number(i.actData.cost.split("|")[1].split(";")[0].split(":")[1])),!(e>=TD66.costFiveNum-s))return void P7.FA78();t=D2.A4}this.closeSelf(),App.CM.apF(O6.B32,HH15.A16,t)},t.prototype.ZM99=function(){var t=this;this.isAction1||(this.isOpen?this.startMelt():(this.isOpen=!0,this.openAllCard(),egret.Tween.get(this).wait(1e3).call(function(){t.startMelt()})))},t.prototype.closeEvent=function(){this.card1.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickCard,this),this.card2.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickCard,this),this.card3.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickCard,this),this.card4.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickCard,this),this.card5.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickCard,this)},t.prototype.close=function(){s.prototype.close.call(this),this.ZHH70(),this.rect.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.closeSelf,this),this.closeEvent();for(var t=1;t<=5;t++)App.THH32.rEf(this["gpCard"+t],this.qualityEff[t-1]);egret.Tween.removeTweens(this),egret.Tween.removeTweens(this.bgMask)},t.prototype.closeSelf=function(){this.isOpen&&(P5.sIs(this.ob),App.CM.apF(O6.B32,HH15.A14))},t}(BaseEuiView);__reflect(LuckCardOpenView.prototype,"LuckCardOpenView");var LuckFlopRankView=function(s){function t(t,e){var i=s.call(this,t,e)||this;return i.skinName="CardFlopRankSkin",i}return __extends(t,s),t.prototype.initUI=function(){s.prototype.initUI.call(this);var t={render:ItemLuckFlopRank,gap:5,width:this.rankListGroup.width,height:this.rankListGroup.height,arrowScale:1};this.ranklistView=new CommonListBase(t),this.rankListGroup.addChild(this.ranklistView),this.ranklistView.verticalCenter=0,this.ranklistView.horizontalCenter=0,this.dlg.ZM69(this.closeSelf.bind(this),this),this.dlg.ZQ14(this.closeSelf.bind(this),this),this.dlg.ZQ15(!0),this.dlg.ZG3(!0),this.dlg.title=O3.tr(5489),this.dlg.ZU10().visible=!0,this.title.text=O3.tr(7783),this.numLb.text=O3.tr(7780),this.conLb.text=O3.tr(7781),this.nameLb.text=O3.tr(6175),this.rewLb.text=O3.tr(202)},t.prototype.open=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];s.prototype.open.call(this,t),this.ranklistView.open(),this.loadListData()},t.prototype.close=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];s.prototype.close.call(this,t),this.ranklistView.close()},t.prototype.closeSelf=function(t){this.apF(J5.A10)},t.prototype.uBM=function(t,e){s.prototype.uBM.call(this,t,e),t instanceof THH11&&this.updateViews(t)},t.prototype.updateViews=function(t){var e=App.CM.gtM(O6.B57),i=t.myRankList,s=t.rankList,o=e.actData.costArr,r=e.actData.rank.split("|"),n=this.ZM75(r,s,o);this.ranklistView.rfL(n),i.nRank?(this.myRankLb.textFlow=M18.HTP.parser(O3.tr(601,i.nRank)),this.mySpendLb.textFlow=M18.HTP.parser(O3.tr(7782,i.cg))):(this.myRankLb.textFlow=M18.HTP.parser(O3.tr(5330)),this.mySpendLb.text="")},t.prototype.ZM75=function(t,e,i){for(var s=[],o=0;o<20;o++){var r={cond:i[o],rank:e,index:o,rankData:t};s.push(r)}return s},t.prototype.loadListData=function(){var t={type:RankType.LuckRank,currPage:1,size:TG75.rank[RankType.LuckRank].count};App.CM.apF(O6.C19,O18.A5,t)},t}(BaseEuiView);__reflect(LuckFlopRankView.prototype,"LuckFlopRankView");var LuckFlopView=function(p){function t(t,e){var i=p.call(this,t,e)||this;return i.cardArr=[],i.sGN("release_act1125"),i.skinName="LuckFlopSkin",i}return __extends(t,p),t.prototype.initUI=function(){p.prototype.initUI.call(this);var t=App.CM.gtM(O6.B57),e=N12.gID(75e3);this.imgGood2.setData(e),this.imgGood2.setImgSize({w:40,h:40}),this.btnFlop.label=O3.tr(7777),this.goBtn.label=O3.tr(7776);var i=t.actData;this.schedule.textFlow=M18.HTP.parser(O3.tr(7775,0,i.resetNum)),this.titleLb.textFlow=M18.HTP.parser(O3.tr(7801))},t.prototype.open=function(){for(var e=this,t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];p.prototype.open.call(this,t),this.cardArr=[];for(var s=0;s<9;s++){var o=new ItemCardFlop;this.cardGroup.addChild(o),o.setIndex(s),o.initData(),o.x=80+s%3*155,o.y=25+175*Math.floor(s/3),s%3==1&&(o.y+=5),this.cardArr.push(o)}App.K16.doFrame(1,1,function(){var t=App.VM.gOV(TF59.FA34(F7.A84));t&&t.autoOut&&(e.autoOutVis=t.autoOut.visible,t.autoOut.visible=!1)},this);var r=App.CM.gtM(O6.B57);this.updeteActive(r),this.look=!1,this.btnFlop.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickBtn,this),this.goBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onFlopBtn,this),this.rankBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.openRank,this),this.initText(),this.leftCD=r.actData.ZHH64();var n=O3.tr(3253,P6.FJ11(1e3*this.leftCD,5));this.cdLb.textFlow=M18.HTP.parse(n),this.timerHandler=App.K16.doTimer(1e3,this.leftCD,this.GY14,this);var a=r.actData,h=0;for(var s in a.td)a.td&&h++;9==h&&(this.grpAdd.visible=!0,egret.Tween.get(this.imgAdd,{loop:!0}).to({alpha:1}).to({alpha:.5},500).to({alpha:1},500))},t.prototype.close=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];p.prototype.close.call(this,t),this.timerHandler&&(App.K16.rBH(this.timerHandler),this.timerHandler=null);var i=App.VM.gOV(TF59.FA34(F7.A84));i&&i.autoOut&&(i.autoOut.visible=this.autoOutVis),this.btnFlop.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickBtn,this),this.goBtn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onFlopBtn,this),this.rankBtn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.openRank,this)},t.prototype.uBM=function(t,e){if(p.prototype.uBM.call(this,t,e),t instanceof TF24)switch(e){case J5.A2:this.GX5(t);break;case J5.A8:this.ZN15(t);break;case J5.A6:this.ZN16(t)}},t.prototype.GX5=function(t){var s=this;if(this.look=!0,t.actData.sc){var o=0,r=0,n=t.actData.sc,e=function(t){var e=a.cardArr[t];if(!e.getType()){var i=n[o];App.K16.doTimer(50*o,1,function(){e.runFlipCard(i),++r==o&&s.ZU81(1)},a),o++}},a=this;for(var i in this.cardArr)e(i);0==o&&this.ZU81(3)}this.initText(),this.grpAdd.visible&&(egret.Tween.removeTweens(this.imgAdd),this.grpAdd.visible=!1),this.cardGroup.addEventListener(egret.TouchEvent.TOUCH_TAP,this.openReset,this)},t.prototype.ZU81=function(t){for(var e in this.cardArr)1==t&&this.ZU82(this.cardArr[e],Number(e)),2==t&&this.runTwoAction(this.cardArr[e],Number(e)),3==t&&this.ZN14(this.cardArr[e],Number(e))},t.prototype.ZU82=function(t,e){this.cardArr[4].x,this.cardArr[4].y,t.x,t.y;egret.Tween.get(t).wait(1500).call(function(){t.runAction()},this)},t.prototype.ZN14=function(t,e){this.cardArr[4].x,this.cardArr[4].y,t.x,t.y;egret.Tween.get(t).call(function(){t.runAction()},this)},t.prototype.updeteActive=function(t){var e=t.actData;for(var i in this.schedule.textFlow=M18.HTP.parser(O3.tr(7775,0,e.resetNum)),this.cardArr){var s=this.cardArr[i];if(t.actData.s)s.setInfo();else{var o=t.actData.td[Number(i)+1+""];s.initData(o)}}t.actData.s&&this.cardGroup.addEventListener(egret.TouchEvent.TOUCH_TAP,this.openReset,this),this.selectIndex=-1},t.prototype.ZN15=function(t){var e=t.actData;for(var i in this.schedule.textFlow=M18.HTP.parser(O3.tr(7775,0,e.resetNum)),this.ZU81(2),this.cardArr){var s=this.cardArr[i];e.sc&&e.sc[i]?s.openCard(e.sc[i]):s.initData(null)}this.selectIndex=-1,this.initText(),this.look=!0,this.goBtn.enabled=!1,this.cardGroup.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.openReset,this)},t.prototype.ZN16=function(t){var e=this;egret.Tween.get(this).wait(500).call(function(){e.look=!1});var i=t.actData;this.cardArr[i.p-1].runOpenAct(i.v),this.selectIndex=-1,this.initText();var s=t.actData,o=0;for(var r in s.td)s.td&&o++;9==o&&(this.grpAdd.visible||(this.grpAdd.visible=!0,egret.Tween.get(this.imgAdd,{loop:!0}).to({alpha:1}).to({alpha:.5},500).to({alpha:1},500)))},t.prototype.runTwoAction=function(t,e){var i=this.cardArr[4].x,s=this.cardArr[4].y,o=t.x,r=t.y;egret.Tween.get(t).wait(500+50*e).call(function(){t.backFlip()},this).wait(1e3-50*e).to({x:i,y:s},500).call(function(){4!=e?t.visible=!1:t.runRotation()},this).wait(1087).call(function(){t.visible=!0},this).to({x:o,y:r},500).call(function(){t.x=o,t.y=r,this.look=!1,this.goBtn.enabled=!0},this)},t.prototype.initText=function(){var t=App.CM.gtM(O6.B57).actData,e=0;for(var i in t.td)t.td&&e++;this.schedule.textFlow=M18.HTP.parser(O3.tr(7775,e,t.resetNum)),e>=t.tips?this.goBtn.enabled=!0:this.goBtn.enabled=!1,t.s&&(this.goBtn.enabled=!1),P16.sGF(this.goBtn,!this.goBtn.enabled),this.money.text=t.spendArr[e];var s=!0;for(var i in(e>=t.spendArr.length||0==e&&-1==this.selectIndex)&&(s=!1),this.blackImage.visible=s,this.imgGood2.visible=s,this.money.visible=s,-1<this.selectIndex?this.btnFlop.enabled=!0:this.btnFlop.enabled=!1,this.cardArr)this.cardArr[i].setCardScale(!(Number(i)!=this.selectIndex));P16.sGF(this.btnFlop,!this.btnFlop.enabled)},t.prototype.openRank=function(){App.CM.apF(O6.B57,J5.A12)},t.prototype.onClickBtn=function(){var t=App.CM.gtM(O6.B57).actData,e=0;for(var i in t.td)t.td&&e++;if(N12.giC(75e3)<t.spendArr[e])P7.FA78();else{var s=this.selectIndex;App.CM.apF(O6.B57,J5.A5,s+1),this.look=!0}},t.prototype.onFlopBtn=function(){App.CM.gtM(O6.B57).actData.s||App.CM.apF(O6.B57,J5.A1)},t.prototype.openReset=function(){App.CM.gtM(O6.B57).actData.s&&App.CM.apF(O6.B57,J5.A11)},t.prototype.cancelSelect=function(t){var e=this,i=App.CM.gtM(O6.B57);this.look||i.actData.s||(this.look=!0,egret.Tween.get(this).wait(500).call(function(){e.look=!1}),console.log(t,"现在点击的内容"),this.selectIndex=t,this.initText())},t.prototype.GY14=function(){this.leftCD--;var t=O3.tr(3253,P6.FJ11(1e3*this.leftCD,5));this.cdLb.textFlow=M18.HTP.parser(t),this.leftCD<=0&&(this.cdLb.text="")},t}(BaseEuiView);__reflect(LuckFlopView.prototype,"LuckFlopView");var LuckItemIcon=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.dataChanged=function(){t.prototype.dataChanged.call(this),this.lbName.size=20},e.prototype.initItem=function(){var t=this.itemData.texiao;t&&App.THH33.aUE(this.gpIcon,t.teName,t.x,t.y),this.imgBg.source=N12.getBox(this.itemData.data.quality),this.imgIcon.source=this.itemData.data.icon,this.data.QAlpha?this.imgBg.alpha=this.data.QAlpha:this.imgBg.alpha=1;var e="";null!=this.itemData.data.addlevel?(e=O3.tr(1148,this.itemData.data.level),this.lbMove.visible=!0,this.itemData.data.addlevel?this.lbMove.text=O3.tr(1149,this.itemData.data.level,this.itemData.data.addlevel):this.lbMove.text=O3.tr(1148,this.itemData.data.level)):(this.lbMove.visible=!1,e=this.itemData.data.name);switch(this.data.fl&&this.data.fl,(this.data.isShowLv||this.data.pack)&&this.itemData.data.type==P11.AVA&&(e=O3.tr(5359,this.itemData.data.level)),this.lbName.text=e,this.lbName.textColor=8927247,1<this.itemData.ct?(this.gpCt.visible=!0,this.lbCt.text=M18.FF65(this.itemData.ct,1)):this.gpCt.visible=!1,this.itemData.data.type){case 1:if(1==this.itemData.data.effecttype){this.lbMove.visible=!0;var i=this.itemData.data.param,s=N12.gID(i);this.lbMove.text=O3.tr(1148,s.level)}}},e}(ItemIcon);__reflect(LuckItemIcon.prototype,"LuckItemIcon");var LuckPoolView=function(o){function t(t,e){var i=o.call(this,t,e)||this;return i.selectionArr=[],i.selectionInfo=[],i.itemArr=[],i.skinName="LuckPoolSkin",i}return __extends(t,o),t.prototype.open=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];o.prototype.open.call(this,t),this.goBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onConfirmBtn,this),this.addEvent(),this.selectionArr=[],this.dlg.ZM69(this.closeSelf.bind(this),this),this.dlg.ZQ14(this.closeSelf.bind(this),this),this.dlg.ZQ15(!0),this.dlg.ZG3(!0),this.dlg.title=O3.tr(4317),this.dlg.ZU10().visible=!0;var i=App.CM.gtM(O6.B57);i.actData.de[1]?this.updeteActive(i):App.CM.apF(O6.B57,J5.A3)},t.prototype.closeSelf=function(t){this.apF(J5.A9)},t.prototype.close=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var i in o.prototype.close.call(this,t),this.goBtn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onConfirmBtn,this),this.semltArr)this.semltArr[i].removeEventListener(egret.TouchEvent.TOUCH_TAP,this.ZU83,this)},t.prototype.initUI=function(){for(var t in o.prototype.initUI.call(this),this.semltArr=[this.cbAutoSmelt0,this.cbAutoSmelt1,this.cbAutoSmelt2,this.cbAutoSmelt3,this.cbAutoSmelt4,this.cbAutoSmelt5,this.cbAutoSmelt6,this.cbAutoSmelt7,this.cbAutoSmelt8,this.cbAutoSmelt9,this.cbAutoSmelt10,this.cbAutoSmelt11],this.itemArr=[this.itemIcon0,this.itemIcon1,this.itemIcon2,this.itemIcon3,this.itemIcon4,this.itemIcon5,this.itemIcon6,this.itemIcon7,this.itemIcon8,this.itemIcon9,this.itemIcon10,this.itemIcon11],this.scheduleArr=[this.schedule1,this.schedule2,this.schedule3],this.semltArr)this.semltArr[t].label=O3.tr(7778),this.semltArr[t].labelDisplay.textColor=16707295,this.semltArr[t].labelDisplay.size=22,this.semltArr[t].selected=!1,this["box"+t].visible=!1;var e=App.CM.gtM(O6.B57);for(var t in this.scheduleArr)this.scheduleArr[t].text=O3.tr(7779,0,e.actData.chooseArr[t]);this.title1.text=O3.tr(7804),this.title2.text=O3.tr(7805),this.title3.text=O3.tr(7806),this.goBtn.enabled=!1,P16.sGF(this.goBtn,!this.goBtn.enabled);N12.gID(75e3);this.dlg.ZU11().text=O3.tr(7784),this.goBtn.label=O3.tr(7785);var i=0;for(var s in e.actData.chooseArr)i+=e.actData.chooseArr[s];this.titleShowLb.text=O3.tr(7800,i,9-i)},t.prototype.addEvent=function(){for(var t in this.semltArr)this.semltArr[t].label=O3.tr(7778),this.semltArr[t].selected=!1,this.semltArr[t].index=Number(t),this.semltArr[t].addEventListener(egret.TouchEvent.TOUCH_TAP,this.ZU83,this)},t.prototype.onConfirmBtn=function(){this.closeSelf();var t=[];for(var e in this.selectionArr)for(var i in this.selectionArr[e])t.push(this.selectionArr[e][i]);this.selectionArr=[],t.sort(function(t,e){return t-e});for(var s="",o=0,r=0,n=t;r<n.length;r++){var a=n[r],h=this.selectionInfo[Math.floor(a/4)][a%4];h.p!=o?(0!=s.length&&(s+="|"),s+=h.p+":",o=h.p):s+=",",s+=h.uid}App.CM.apF(O6.B57,J5.A7,s)},t.prototype.ZU83=function(t){TG40.playClickEffect();var e=parseInt(t.target.index),i=App.CM.gtM(O6.B57),s=Math.floor(e/4);this.selectionArr[s]||(this.selectionArr[s]=[]);var o=this.selectionArr[s];if(o.length>=i.actData.chooseArr[s]&&-1==o.indexOf(e))return this.semltArr[e].selected=!1,void P18.sDP(O3.tr(7807));-1==o.indexOf(e)?o.push(e):o.splice(o.indexOf(e),1),this.scheduleArr[s].text=O3.tr(7779,o.length,i.actData.chooseArr[s]);for(var r=!0,n=0;n<12;n++)this.semltArr[n].selected?this["box"+n].visible=!0:this["box"+n].visible=!1;for(n=0;n<3;n++)if(!this.selectionArr[n]||this.selectionArr[n].length!=i.actData.chooseArr[n]){r=!1;break}this.goBtn.enabled=r,P16.sGF(this.goBtn,!this.goBtn.enabled)},t.prototype.uBM=function(t,e){if(o.prototype.uBM.call(this,t,e),t instanceof TF24)switch(e){case J5.A4:this.updeteActive(t);break;case J4.A10:}},t.prototype.updeteActive=function(t){var e=t.actData;for(var i in this.selectionInfo=[],e.de){var s=[],o=e.de[i];for(var r in o){var n={v:o[r].i.v,k:o[r].i.k,p:o[r].p,uid:o[r].uid};s.push(n)}this.selectionInfo.push(s)}this.initShowItem()},t.prototype.initShowItem=function(){for(var t=this.selectionInfo,e=0;e<this.itemArr.length;e++){var i=Math.floor(e/4),s=e%4,o=this.itemArr[e],r={itemData:{data:N12.gID(t[i][s].k),ct:t[i][s].v},isBottom:!0};o.data=r}},t}(BaseEuiView);__reflect(LuckPoolView.prototype,"LuckPoolView");var TF25=function(e){function t(t){return e.call(this,t)||this}return __extends(t,e),t.prototype.reset=function(){var e=this,t={type:P4.HH36,body:{}};this.rSMO(P4.HH37,function(t){e.apF(J5.A2,t)},this),this.sSM(t)},t.prototype.compose=function(t){var e=this,i={type:P4.L12,body:{s:t}};this.rSMO(P4.L13,function(t){e.apF(J5.A8,t)},this),this.sSM(i)},t.prototype.turnCard=function(t){var e=this,i={type:P4.J12,body:{pos:t}};this.rSMO(P4.J13,function(t){e.apF(J5.A6,t)},this),this.sSM(i)},t.prototype.GY11=function(t){var e=this,i={type:P4.HH38,body:{pos:t}};this.rSMO(P4.HH39,function(t){e.apF(J5.A4,t)},this),this.sSM(i)},t}(TG80);__reflect(TF25.prototype,"TF25");var LuckFlopVo=function(i){function t(t){var e=i.call(this,t)||this;return e.chooseArr=[],e.costArr=[],e.td=[],e.c=0,e.spendArr=[],e.rankArr=[],e.updateData(t),e}return __extends(t,i),t.prototype.updateData=function(t){if(t&&this.ZU63(t),this.de=t.de?t.de:this.de,this.td=t.td?t.td:this.td,this.c=t.c?t.c:this.c,this.s=0<=t.s?t.s:this.s,this.sc=t.sc,t.atmp){var e=t.atmp;this.cost=e.cost?e.cost:this.cost,this.more=e.more?e.more:this.more,this.param=e.param?e.param:this.param,this.paramVer=e.paramVer?e.paramVer:this.paramVer,this.rank=e.rank?e.rank:this.rank,this.reward=e.reward?e.reward:this.reward,this.tips=e.tips?e.tips:this.tips,e.more&&(this.ZU40(e.more),this.initCost(e.cost),this.initRank(e.rank))}},t.prototype.initCost=function(t){this.spendArr=[];var e=t.split("|")[1].split(",");this.resetNum=Number(e[0]);var i=e[1].split(";");for(var s in i){var o=i[s].split(":")[1];this.spendArr.push(Number(o))}var r=t.split("|")[0].split(",");for(var s in r)this.costArr.push(r[s].split(":")[1])},t.prototype.initData=function(t){this.de=[],this.td=[],this.c=0,this.s=t.s,this.sc=t.sc},t.prototype.setTurnData=function(t){this.v=t.v,this.c=t.c,this.p=t.p,this.td||(this.td=[]),this.td[""+t.p]={i:t.v.i,p:t.v.p}},t.prototype.ZU40=function(t){this.chooseArr=[];for(var e=t.split("|"),i=0;i<3;i++){var s=e[i].split(",");this.chooseArr.push(Number(s[2]))}},t.prototype.initRank=function(t){var e=t.split("|");for(var i in e){var s=e[i].split(",")[1];this.rankArr.push(s)}},t.prototype.ZHH64=function(){var t=P6.getTime(!0)-this.lastRefreshTime,e=this.rs-t;return 0<e?e:0},t}(ActivityVo);__reflect(LuckFlopVo.prototype,"LuckFlopVo");var TB1=function(e){function t(){var t=e.call(this)||this;return App.VM.register(O7.F69,"MergeServerBaseView",t,K17.UI_Main),t}return __extends(t,e),t}(TE11);__reflect(TB1.prototype,"TB1");var A1=function(){function t(){}return t.A4=10001,t.A3=10002,t.A1=10003,t.A2=10004,t}();__reflect(A1.prototype,"A1");var TA1=function(i){function t(){var t=i.call(this)||this,e=new TA5(t);return e.aLV(O7.A2),e.aLV(O7.F69),e.aLV(O7.I64),App.VM.register(O7.A2,"AccumulativeRechargeGiftView2",t,K17.UI_Main),t.rgF(A1.A4,t.GA8,t),t.rgF(A1.A3,t.GA5,t),t.accumulativeRechargeGiftProxy=new TA6(t),t.rgF(A1.A1,t.GA1,t),t.rgF(A1.A2,t.GA2,t),t}return __extends(t,i),t.prototype.GA1=function(t){this.accumulativeRechargeGiftProxy.GA1(t)},t.prototype.GA2=function(t){if(200==t.head.state){var e=t.body,i=this.gtM();i.ZC13(e),i.notify(),P5.sIs(t.body.ob)}else App.CM.apF(O6.B87,L10.A4,t)},t.prototype.GA8=function(){App.VM.open(O7.A2);var t=App.CM.gtM(O6.A1);t.firstLoginRedNum=0,t.notify()},t.prototype.GA5=function(){App.VM.close(O7.A2)},t}(TE11);__reflect(TA1.prototype,"TA1");var TA5=function(i){function t(t){var e=i.call(this,t)||this;return e.openState=!1,e.redNum=0,e.firstLoginRedNum=0,e}return __extends(t,i),t.prototype.ZC13=function(t){t&&(null!=this.actData?this.actData.updateData(t):(this.actData=new AccumulativeRechargeGiftData2(t),this.tips=this.actData.tips),this.updateRed())},t.prototype.updateRed=function(){this.redNum=this.FL35()},t.prototype.FL35=function(){var t=0;t+=this.firstLoginRedNum;var e=this.actData.confVo;for(var i in e)if(e[i].getState==J13.A3){t+=1;break}return t},t.prototype.notify=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];i.prototype.notifyView.call(this,this,t)},t}(TG79);__reflect(TA5.prototype,"TA5");var TA6=function(i){function t(t){var e=i.call(this,t)||this;return e.rSM(P4.A4,e.GA2,e),e}return __extends(t,i),t.prototype.GA1=function(t){var e={type:P4.A3,body:{index:t}};this.sSM(e)},t.prototype.GA2=function(t){this.apF(A1.A2,t)},t}(TG80);__reflect(TA6.prototype,"TA6");var AccumulativeRechargeGiftView2=function(s){function t(t,e){var i=s.call(this,t,e)||this;return i.skinName=ChapterBreakSkin,i}return __extends(t,s),t.prototype.initUI=function(){s.prototype.initUI.call(this),this.banner.source="v1_bg_qumindaofl8_jpg";var t={render:RechargeSumItemView,gap:5,width:this.listGroup.width,height:this.listGroup.height,arrowScale:1};this.listView=new CommonListBase(t),this.listGroup.addChild(this.listView),this.listView.verticalCenter=0,this.listView.horizontalCenter=0,this.goBtn.label=O3.tr(3791)},t.prototype.open=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];s.prototype.open.call(this),this.goBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickGoBtn,this),this.listView.open();var i=App.CM.gtM(O6.A1);this.ZA1(i)},t.prototype.uBM=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];s.prototype.uBM.call(this,t,e),t instanceof TA5&&this.ZA1(t)},t.prototype.ZA1=function(t){this.actData=t.actData;var e=O3.tr(3271,this.actData.hasRecharge);if(this.missionLb.textFlow=M18.HTP.parser(e),null==this.timerHandler)if(0<this.actData.rs){this.leftCD=this.actData.ZHH64();var i=O3.tr(3253,P6.FJ11(1e3*this.leftCD,5));this.cdLb.textFlow=M18.HTP.parser(i),this.timerHandler=App.K16.doTimer(1e3,this.leftCD,this.GY14,this)}else this.cdLb.text="";var s=this.actData.confVo;this.listView.rfL(s)},t.prototype.GY14=function(){this.leftCD--;var t=O3.tr(3253,P6.FJ11(1e3*this.leftCD,5));this.cdLb.textFlow=M18.HTP.parser(t),this.leftCD<=0&&(this.cTH(),this.cdLb.text="")},t.prototype.cTH=function(){null!=this.timerHandler&&(App.K16.rBH(this.timerHandler),this.timerHandler=null)},t.prototype.close=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];s.prototype.close.call(this),this.goBtn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickGoBtn,this),this.cTH(),this.listView.close()},t.prototype.onClickGoBtn=function(){App.CM.apF(O6.C29,P8.A7)},t}(BaseEuiView);__reflect(AccumulativeRechargeGiftView2.prototype,"AccumulativeRechargeGiftView2");var AccumulativeRechargeGiftConfVo2=function(){function t(t){this.getState=J13.A1,this.sLink=1802,this.controllerConst=O6.A1,this.reqConst=A1.A1,this.initData(t)}return t.prototype.initData=function(t){t&&(this.id=t.index,this.tarRecharge=t.money,this.awd=t.aw,this.title=O3.tr(3285,this.tarRecharge))},t}();__reflect(AccumulativeRechargeGiftConfVo2.prototype,"AccumulativeRechargeGiftConfVo2");var AccumulativeRechargeGiftData2=function(i){function t(t){var e=i.call(this,t)||this;return e.confVo=[],e.hasGotList=[],e.hasRecharge=0,e.updateData(t),e}return __extends(t,i),t.prototype.updateData=function(t){if(t){if(this.hasGotList=t.yaw||this.hasGotList,this.hasRecharge=null==t.money?this.hasRecharge:t.money,t.confs){null!=this.confVo&&0<this.confVo.length&&this.confVo.splice(0,this.confVo.length),this.confVo=[];for(var e=0;e<t.confs.length;e++){var i=new AccumulativeRechargeGiftConfVo2(t.confs[e]);this.confVo.push(i)}}if(0<this.hasGotList.length)for(var e in this.confVo)for(var s in this.hasGotList)this.confVo[e].id==this.hasGotList[s]&&(this.confVo[e].getState=J13.A2);for(var e in this.confVo){var o=this.confVo[e];this.hasRecharge>=o.tarRecharge&&o.getState!=J13.A2&&(this.confVo[e].getState=J13.A3)}this.confVo.sort(function(t,e){return t.getState==e.getState?t.id-e.id:t.getState-e.getState}),this.ZU63(t)}},t}(ActivityVo);__reflect(AccumulativeRechargeGiftData2.prototype,"AccumulativeRechargeGiftData2");var B18=function(){function t(){}return t.A4=10001,t.A3=10002,t.A1=10003,t.A2=10004,t}();__reflect(B18.prototype,"B18");var TA34=function(i){function t(){var t=i.call(this)||this,e=new TB67(t);return e.aLV(O7.B94),e.aLV(O7.F69),e.aLV(O7.I64),App.VM.register(O7.B94,"FestivalLoginView2",t,K17.UI_Main),t.rgF(B18.A4,t.GE12,t),t.rgF(B18.A3,t.GD15,t),t.festivalLoginProxy=new TB68(t),t.rgF(B18.A1,t.GA51,t),t.rgF(B18.A2,t.GA52,t),t}return __extends(t,i),t.prototype.GA51=function(t){this.festivalLoginProxy.GA51(t)},t.prototype.GA52=function(t){if(200==t.head.state){var e=t.body,i=this.gtM();i.ZC13(e),i.notify(),P5.sIs(t.body.ob)}else App.CM.apF(O6.B87,L10.A4,t)},t.prototype.GE12=function(){App.VM.open(O7.E26);var t=App.CM.gtM(O6.A18);t.firstLoginRedNum=0,t.notify()},t.prototype.GD15=function(){App.VM.close(O7.HH54)},t}(TE11);__reflect(TA34.prototype,"TA34");var TB67=function(i){function t(t){var e=i.call(this,t)||this;return e.openState=!1,e.redNum=0,e.firstLoginRedNum=0,e}return __extends(t,i),t.prototype.ZC13=function(t){t&&(null!=this.actData?this.actData.updateData(t):(this.actData=new FestivalLoginData2(t),this.tips=this.actData.tips),this.updateRed())},t.prototype.updateRed=function(){this.redNum=this.FL35()},t.prototype.FL35=function(){var t=0;t+=this.firstLoginRedNum;var e=this.actData.festivalLoginConfVo;for(var i in e)if(e[i].getState==J13.A3){t+=1;break}return t},t.prototype.notify=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];i.prototype.notifyView.call(this,this,t)},t}(TG79);__reflect(TB67.prototype,"TB67");var TB68=function(i){function t(t){var e=i.call(this,t)||this;return e.rSM(P4.A80,e.GA52,e),e}return __extends(t,i),t.prototype.GA51=function(t){var e={type:P4.A79,body:{index:t}};this.sSM(e)},t.prototype.GA52=function(t){this.apF(B18.A2,t)},t}(TG80);__reflect(TB68.prototype,"TB68");var FestivalLoginView2=function(s){function t(t,e){var i=s.call(this,t,e)||this;return i.sGN("release_act1033"),i.skinName=DiscountShopSkin,i}return __extends(t,s),t.prototype.initUI=function(){s.prototype.initUI.call(this),this.imgBg.source="v1_bg_qumindaofl9_jpg";var t={render:FestivalLoginItemView2,gap:5,width:this.listGroup.width,height:this.listGroup.height,arrowScale:1};this.listView=new CommonListBase(t),this.listGroup.addChild(this.listView),this.listView.verticalCenter=0,this.listView.horizontalCenter=0},t.prototype.open=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];s.prototype.open.call(this),this.listView.open()},t.prototype.uBM=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];s.prototype.uBM.call(this,t,e),t instanceof TB67&&this.ZA71(t)},t.prototype.ZA71=function(t){if(this.actData=t.actData,null==this.timerHandler)if(0<this.actData.rs){this.leftCD=this.actData.ZHH64();var e=O3.tr(3253,P6.FJ11(1e3*this.leftCD,5));this.leftCdLb.textFlow=M18.HTP.parser(e),this.timerHandler=App.K16.doTimer(1e3,this.leftCD,this.GY14,this)}else this.leftCdLb.text="";var i=this.actData.festivalLoginConfVo;this.listView.rfL(i)},t.prototype.GY14=function(){this.leftCD--;var t=O3.tr(3253,P6.FJ11(1e3*this.leftCD,5));this.leftCdLb.textFlow=M18.HTP.parser(t),this.leftCD<=0&&(this.cTH(),this.leftCdLb.text="")},t.prototype.cTH=function(){null!=this.timerHandler&&(App.K16.rBH(this.timerHandler),this.timerHandler=null)},t.prototype.close=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];s.prototype.close.call(this),this.cTH(),this.listView.close()},t}(BaseEuiView);__reflect(FestivalLoginView2.prototype,"FestivalLoginView2");var FestivalLoginItemView2=function(i){function t(){var t=i.call(this)||this;return t.skinName=ChapterBreakItemSkin,t.addEventListener(egret.Event.ADDED_TO_STAGE,t.open,t),t.addEventListener(egret.Event.REMOVED_FROM_STAGE,t.close,t),t}return __extends(t,i),t.prototype.open=function(){this.getBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickBtn,this)},t.prototype.close=function(){this.getBtn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickBtn,this),this.dataSource.removeAll()},t.prototype.childrenCreated=function(){i.prototype.createChildren.call(this),this.initUI()},t.prototype.initUI=function(){this.listContent.itemRenderer=ItemIcon,this.dataSource=new eui.ArrayCollection,this.listContent.dataProvider=this.dataSource,this.awardsSc.viewport=this.listContent,this.awardsSc.scrollPolicyH=eui.ScrollPolicy.OFF,this.awardsSc.scrollPolicyV=eui.ScrollPolicy.OFF,this.getBtn.labelDisplay.text=O3.tr(3232)},t.prototype.dataChanged=function(){i.prototype.dataChanged.call(this);var t=App.CM.gtM(O6.A18),e=P7.FB45(this.data.day);this.titleLb.text=O3.tr(3296,e),this.titleBgImg.width=this.titleLb.width+55,this.ZJ81(this.data.awd),P7.FD53(this.getBtn,0),this.data.getState==J13.A2?(this.getBtn.$setVisible(!1),this.tomorrowImg.$setVisible(!1),this.getImg.$setVisible(!0)):(this.getImg.$setVisible(!1),this.data.day==t.actData.openDay+1?(this.getBtn.$setVisible(!1),this.tomorrowImg.$setVisible(!0)):(this.getBtn.$setVisible(!0),this.tomorrowImg.$setVisible(!1),this.data.getState==J13.A3?(P16.sGF(this.getBtn,!1),this.getBtn.$setEnabled(!0),P7.FD53(this.getBtn,1)):(P16.sGF(this.getBtn,!0),this.getBtn.$setEnabled(!1))))},t.prototype.ZJ81=function(t){var e=[];for(var i in t){var s={itemData:{data:N12.gID(t[i].k),ct:t[i].v},isBottom:!1};e.push(s)}this.dataSource.replaceAll(e)},t.prototype.onClickBtn=function(){this.data.getState==J13.A3&&App.CM.apF(O6.A18,B18.A1,this.data.id)},t}(eui.ItemRenderer);__reflect(FestivalLoginItemView2.prototype,"FestivalLoginItemView2");var FestivalLoginConfVo2=function(){function t(t){this.getState=J13.A1,this.initData(t)}return t.prototype.initData=function(t){t&&(this.id=t.index,this.day=t.unlockDay,this.awd=t.award)},t}();__reflect(FestivalLoginConfVo2.prototype,"FestivalLoginConfVo2");var FestivalLoginData2=function(i){function t(t){var e=i.call(this,t)||this;return e.festivalLoginConfVo=[],e.hasGotList=[],e.openDay=0,e.updateData(t),e}return __extends(t,i),t.prototype.updateData=function(t){if(t){if(this.hasGotList=t.yaw||this.hasGotList,this.openDay=null==t.days?this.openDay:t.days,t.confs){null!=this.festivalLoginConfVo&&0<this.festivalLoginConfVo.length&&this.festivalLoginConfVo.splice(0,this.festivalLoginConfVo.length),this.festivalLoginConfVo=[];for(var e=0;e<t.confs.length;e++){var i=new FestivalLoginConfVo(t.confs[e]);this.festivalLoginConfVo.push(i)}}if(0<this.hasGotList.length)for(var e in this.festivalLoginConfVo)for(var s in this.hasGotList)this.festivalLoginConfVo[e].id==this.hasGotList[s]&&(this.festivalLoginConfVo[e].getState=J13.A2);for(var s in this.festivalLoginConfVo){var o=this.festivalLoginConfVo[s];this.openDay>=o.day&&o.getState!=J13.A2&&(this.festivalLoginConfVo[s].getState=J13.A3)}this.festivalLoginConfVo.sort(function(t,e){return t.getState==e.getState?t.id-e.id:t.getState-e.getState}),this.ZU63(t)}},t}(ActivityVo);__reflect(FestivalLoginData2.prototype,"FestivalLoginData2");var D16=function(){function t(){}return t.A1=0,t.A2=1,t.A3=2,t.A4=3,t.A5=4,t.A6=5,t.A7=6,t}();__reflect(D16.prototype,"D16");var TA66=function(i){function t(){var t=i.call(this)||this;t.proxy=new TC63(t);var e=new TC62(t);return e.aLV(O7.D46),e.aLV(O7.I64),t.rgF(D16.A1,t.GO21,t),t.rgF(D16.A2,t.GO22,t),t.rgF(D16.A3,t.GI64,t),t.rgF(D16.A4,t.GI65,t),App.VM.register(O7.D46,"FreePackageView2",t,K17.UI_Main_TOP),t.rgF(D16.A5,t.GK58,t),t.rgF(D16.A6,t.GK59,t),t.rgF(D16.A7,t.GU1,t),t}return __extends(t,i),t.prototype.GO21=function(t){this.proxy.ZE73(t)},t.prototype.GO22=function(t){this.GQ12(t)&&this.gtM().notify(P4.G26)},t.prototype.GI64=function(t){this.proxy.ZC27(t)},t.prototype.GI65=function(t){if(this.GQ12(t)){var e=this.gtM();e.actData.setNextDay(),e.notify(P4.G28)}},t.prototype.GQ12=function(t){var e=this.gtM();return 200!=t.head.state?(App.CM.apF(O6.B87,L10.A4,t),!1):(P5.sIs(t.body.ob),e.ZC13(t.body),!0)},t.prototype.GU1=function(t){var e=this.gtM();return e.GU1(t),e.notify(),!0},t.prototype.GK58=function(){App.VM.open(O7.D46);var t=this.gtM();t.firstLoginRedNum=0,t.notify("ZF63")},t.prototype.GK59=function(){App.VM.close(O7.D46)},t}(TE11);__reflect(TA66.prototype,"TA66");var TC62=function(i){function t(t){var e=i.call(this,t)||this;return e.openState=!1,e.redNum=0,e.firstLoginRedNum=0,e}return __extends(t,i),t.prototype.ZC13=function(t){t&&(null!=this.actData?this.actData.updateData(t):(this.actData=new FreePackageData2(t),this.tips=this.actData.tips),this.updateRed())},t.prototype.updateRed=function(){this.redNum=this.FL35()},t.prototype.GU1=function(t){this.actData.GU1(t)},t.prototype.FL35=function(){var t=0;t+=this.firstLoginRedNum;for(var e=Math.min(this.actData.getDay(),this.actData.getTotalDay()),i=1;i<=e;i++){var s=this.actData.getBtnState(i);if(3==s){t++;break}if(1==s&&0==this.actData.ZU51(i).costType){t++;break}}return t},t.prototype.notify=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];i.prototype.notifyView.apply(this,[this].concat(t))},t}(TG79);__reflect(TC62.prototype,"TC62");var TC63=function(i){function t(t){var e=i.call(this,t)||this;return e.rSM(P4.G26,e.GO22,e),e.rSM(P4.G28,e.GI65,e),e}return __extends(t,i),t.prototype.ZE73=function(t){var e={type:P4.G25,body:{id:t}};this.sSM(e)},t.prototype.GO22=function(t){this.apF(D16.A2,t)},t.prototype.ZC27=function(t){var e={type:P4.G27,body:{id:t}};this.sSM(e)},t.prototype.GI65=function(t){this.apF(D16.A4,t)},t}(TG80);__reflect(TC63.prototype,"TC63");var FreePackageView2=function(s){function t(t,e){var i=s.call(this,t,e)||this;return i.sGN("release_act1047"),i.skinName=FreePackageSkin2,i}return __extends(t,s),t.prototype.initUI=function(){var t={render:ItemFreePackageBtn2,gap:-2,width:this.gpBtn.width,height:this.gpBtn.height};this.myListView=new CommonListBase(t),this.gpBtn.addChild(this.myListView),this.itemCollection=new eui.ArrayCollection,this.dgItem.dataProvider=this.itemCollection,this.dgItem.itemRenderer=ItemIcon,this.lbTip2.textFlow=M18.HTP.parser(O3.tr(5555))},t.prototype.open=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];s.prototype.open.call(this),this.closeBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.closeSelf,this),this.bgMask.addEventListener(egret.TouchEvent.TOUCH_TAP,this.closeSelf,this),this.btnBuy.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickGet,this);var i=App.CM.gtM(O6.A35);this.ZA36(i),i.actData.ZU52()},t.prototype.uBM=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];s.prototype.uBM.call(this,t,e),t instanceof TC62&&this.ZA36(t)},t.prototype.ZA36=function(t){var e=t.actData.getBtnList();this.myListView.rfL(e);for(var i=t.actData.ZU51(),s=[],o=i.FHH85(),r=o.slice(0,1),n=0;n<o.length;n++){var a=N12.gID(o[n].k),h=void 0;if(0==n){var p=TF59.FC9(a.quality);h={data:a,ct:o[n].v,texiao:p}}else h={data:a,ct:o[n].v};s.push({itemData:h,isBottom:!1,scale:.8})}this.itemCollection.replaceAll(s);var l=M18.FL28(t.actData.note,",");this.imgBanner.source=l[i.id-1],P7.FM14()&&("50"==i.need.toString()?(this.lbNeed.x=90,this.imgBanner.x=40):"15888"==i.need.toString()||"26888"==i.need.toString()?(this.lbNeed.x=-10,this.imgBanner.x=100):(this.lbNeed.x=-30,this.imgBanner.x=60)),this.lbNeed.text=i.need.toString(),this.lbGold.text=i.backAward.v,1e4<=i.backAward.v?this.lbGold.letterSpacing=-4:this.lbGold.letterSpacing=0;var c=N12.gID(r[0].k);if(c.skinid){var u=M18.FL28(c.skinid,",");if(1==u.length){var d=O1.getSkin(u[0]);if("title"==d.type){if(this.imgTitle.visible=!0,this.imgItem.visible=!1,this.gpAllHero.visible=!1,this.imgTitle.source!=d.picture){var v=FightD.AV_RES_PATH+d.type+"/"+d.picture;FightRes.ZS35(this.imgTitle,d.picture,v)}}else{this.imgItem.visible=!1,this.imgTitle.visible=!1,this.gpAllHero.visible=!0,this.gpHero.visible=!0,this.gpHero1.visible=!1,this.gpHero2.visible=!1,this.hero&&(this.gpHero.removeChildren(),this.hero.destory(),this.hero=null),this.hero=new FightGameObject;var f={id:u[0],x:0,y:0,dir:Dir.br,objType:P13.A6};this.hero.setData(f,this.gpHero),this.hero.action=Action.Attack}}else{this.imgItem.visible=!1,this.imgTitle.visible=!1,this.gpAllHero.visible=!0,this.gpHero.visible=!1,this.gpHero1.visible=!0,this.gpHero2.visible=!0,this.hero1&&(this.gpHero1.removeChildren(),this.hero1.destory(),this.hero1=null),this.hero2&&(this.gpHero2.removeChildren(),this.hero2.destory(),this.hero2=null),this.hero1=new FightGameObject,this.hero2=new FightGameObject;var g=App.CM.gtM(O6.B82).avatarInfo.us[J11.A7],m=P7.copyTab(g);m.id=u[0],m.t=void 0,m.bt=BehaviourType.Attack_d;f={x:0,y:0,dir:Dir.br,objType:P13.A6};this.hero1.setBaseData(f);var y={id:u[0],x:0,y:0,dir:Dir.br,objType:P13.A6};this.hero1.setData(m,this.gpHero1),this.hero2.setData(y,this.gpHero2)}}else this.imgItem.visible=!0,this.imgTitle.visible=!1,this.gpAllHero.visible=!1,this.imgItem.source=c.icon;var A,b,T,C=t.actData.getBtnState();if(0<C)switch(C){case 5:A=O3.tr(3332,i.need),b=O3.tr(3337),T=!1;break;case 1:b=0==i.costType?(A=O3.tr(3332,i.need),O3.tr(3337)):(A=O3.tr(3333,i.need),O3.tr(3338)),T=!0;break;case 2:A=O3.tr(3334,i.need),b=O3.tr(3337),T=!1;break;case 3:A=O3.tr(3335),b=O3.tr(3337),T=!0;break;case 4:A=O3.tr(3336),b=O3.tr(3337),T=!1}else{T=!1,this.setBtnEnable(!1);var w=t.actData.getDay();if(i.id>w+1){var O=i.id-w;A=O3.tr(3331,O.toString())}else i.id==w+1&&(A=O3.tr(3330));b=O3.tr(3338)}this.lbTip.textFlow=M18.HTP.parser(A),this.btnBuy.label=b,this.setBtnEnable(T)},t.prototype.setBtnEnable=function(t){this.btnBuy.enabled=t,P16.sGF(this.btnBuy,!t)},t.prototype.onClickGet=function(){var t=App.CM.gtM(O6.A35);if(!t.openState||t.actData.ZHH64()<=0)this.closeSelf();else{var e=t.actData.getBtnState(),i=t.actData.ZU51(),s=i.FHH85(),o=!1;for(var r in s){2==N12.gID(s[r].k).type&&(o=!0)}if(0<e)switch(e){case 1:if(0==i.costType){if(O4.getLv()<i.need)return void P18.sDP(O3.tr(3221))}else if(!O4.FG88(i.need,1))return void P7.FA78();(!o||o&&P7.FF59())&&App.CM.apF(O6.A35,D16.A1,i.id);break;case 2:break;case 3:(!o||o&&P7.FF59())&&App.CM.apF(O6.A35,D16.A3,i.id),App.CM.apF(O6.A35,D16.A3,i.id)}}},t.prototype.closeSelf=function(){App.CM.apF(O6.A35,D16.A6)},t.prototype.close=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];s.prototype.close.call(this),this.btnBuy.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickGet,this),this.hero&&(this.gpHero.removeChildren(),this.hero.destory(),this.hero=null),this.hero1&&(this.gpHero1.removeChildren(),this.hero1.destory(),this.hero1=null),this.hero2&&(this.gpHero2.removeChildren(),this.hero2.destory(),this.hero2=null)},t}(BaseEuiView);__reflect(FreePackageView2.prototype,"FreePackageView2");var ItemFreePackageBtn2=function(e){function t(){var t=e.call(this)||this;return t.skinName=ItemFreePackageBtnSkin,t.addEventListener(egret.Event.ADDED_TO_STAGE,t.open,t),t.addEventListener(egret.Event.REMOVED_FROM_STAGE,t.close,t),t}return __extends(t,e),t.prototype.open=function(){this.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClick,this)},t.prototype.close=function(){this.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClick,this)},t.prototype.childrenCreated=function(){e.prototype.createChildren.call(this)},t.prototype.dataChanged=function(){this.lbName.text=this.data.name,this.data.curDay?this.currentState="down":this.currentState="up",1==this.data.state&&0==this.data.costType||3==this.data.state?this.imgRed.visible=!0:this.imgRed.visible=!1},t.prototype.onClick=function(){TG40.playClickEffect(),App.CM.apF(O6.A35,D16.A7,this.data.day)},t}(eui.ItemRenderer);__reflect(ItemFreePackageBtn2.prototype,"ItemFreePackageBtn2");var FreePackageData2=function(i){function t(t){var e=i.call(this,t)||this;return e.curSelectDay=1,e.updateData(t),e}return __extends(t,i),t.prototype.updateData=function(t){if(t.config)for(var e in this.confs={},this.totalDay=0,t.config){var i=t.config[e],s=new ZeroGiftConfVo(i);this.confs[i.id]=s,this.totalDay++}this.gotAwards=null!=t.yetAwd?t.yetAwd:this.gotAwards,this.backAwards=null!=t.yetRtn?t.yetRtn:this.backAwards,this.day=null!=t.day?t.day:this.day,this.buyDayList=null!=t.gd?t.gd:this.buyDayList,this.ZU63(t);var o=M18.FL28(this.desc,",");for(var e in this.confs)this.confs[e].setName(o[this.confs[e].id-1])},t.prototype.GU1=function(t){this.curSelectDay=t},t.prototype.getBtnList=function(){var t=[];for(var e in this.confs){var i=this.confs[e],s={day:i.id,name:i.name,curDay:this.curSelectDay==i.id,state:this.getBtnState(i.id),costType:i.costType};t.push(s)}return t},t.prototype.ZU51=function(t){return t=t||this.curSelectDay,this.confs[t]},t.prototype.getDay=function(){return this.day},t.prototype.getTotalDay=function(){return this.totalDay},t.prototype.getBtnState=function(t){t=t||this.curSelectDay;var e=this.ZU51(t);if(e.id<=this.day){if(!(0<=this.gotAwards.indexOf(e.id))){if(0==e.costType)if(O4.getLv()<e.need)return 5;return 1}var i=void 0;for(var s in this.buyDayList)if(this.buyDayList[s].k==e.id){i=this.buyDayList[s].v;break}if(i==this.day)return 2;if(i<this.day)return 0<=this.backAwards.indexOf(e.id)?4:3}return 0},t.prototype.isGetAll=function(){if(this.day>this.totalDay){for(var t=1;t<=this.totalDay;t++)if(4!=this.getBtnState(t))return!1;return!0}return!1},t.prototype.ZU52=function(){for(var t,e,i=this.curSelectDay=1;i<this.totalDay;i++){if(3==this.getBtnState(i)){t=i;break}e||1==this.getBtnState(i)&&(e=i)}t?this.curSelectDay=t:e&&(this.curSelectDay=e)},t.prototype.setNextDay=function(){var t=this.curSelectDay;this.ZU52(),1==this.curSelectDay&&t!=this.curSelectDay&&4==this.getBtnState(this.curSelectDay)&&(this.curSelectDay=t)},t}(ActivityVo);__reflect(FreePackageData2.prototype,"FreePackageData2");var ZeroGiftConfVo2=function(){function t(t){this.updateData(t)}return t.prototype.updateData=function(t){this.id=null!=t.id?t.id:this.id,this.costType=null!=t.type?t.type:this.costType,this.need=null!=t.need?t.need:this.need,this.awardList=null!=t.awd?t.awd:this.awardList,this.backAward=null!=t.rtn?t.rtn:this.backAward},t.prototype.FHH85=function(){return this.awardList},t.prototype.setName=function(t){this.name=t},t}();__reflect(ZeroGiftConfVo2.prototype,"ZeroGiftConfVo2");var K12=function(){function t(){}return t.A4=10001,t.A3=10002,t.A5=10003,t.A6=10004,t.A1=10005,t.A2=10006,t}();__reflect(K12.prototype,"K12");var TC64=function(i){function t(){var t=i.call(this)||this,e=new TF70(t);return e.aLV(O7.E41),e.aLV(O7.HH69),e.aLV(O7.I64),App.VM.register(O7.E41,"InvestMainView2",t,K17.UI_Main),t.rgF(K12.A4,t.GI71,t),t.rgF(K12.A3,t.GG83,t),t.investProxy=new TF71(t),t.rgF(K12.A5,t.GQ22,t),t.rgF(K12.A6,t.GQ23,t),t.rgF(K12.A1,t.GF20,t),t.rgF(K12.A2,t.GF21,t),t}return __extends(t,i),t.prototype.GQ22=function(){this.investProxy.investBuyReq()},t.prototype.GQ23=function(t){if(200==t.head.state){var e=t.body,i=this.gtM();i.ZC13(e),i.notify(),P18.sDP(O3.tr(3224)),t.body.ob&&P5.sIs(t.body.ob)}else App.CM.apF(O6.B87,L10.A4,t)},t.prototype.GF20=function(t){this.investProxy.ZG26(t)},t.prototype.GF21=function(t){if(200==t.head.state){var e=t.body,i=this.gtM();i.ZC13(e),i.notify(),t.body.ob&&P5.sIs(t.body.ob)}else App.CM.apF(O6.B87,L10.A4,t)},t.prototype.GI71=function(t){App.VM.open(O7.E41);var e=App.CM.gtM(O6.B29);e.firstLoginRedNum=0,e.notify()},t.prototype.GG83=function(){App.VM.close(O7.E41)},t}(TE11);__reflect(TC64.prototype,"TC64");var TF70=function(i){function t(t){var e=i.call(this,t)||this;return e.openState=!1,e.closeEnter=!1,e.redNum=0,e.firstLoginRedNum=0,e}return __extends(t,i),t.prototype.ZC13=function(t){t&&(null!=this.investData?this.investData.updateData(t):(this.investData=new InvestData2(t),this.tips=this.investData.tips),this.updateRed(),(this.investData.hasGetList.length>=this.investData.investConfVo.length||0==t.cd&&1!=this.investData.isBuy)&&(App.CM.apF(O6.B29,K12.A3),this.openState=!1,this.closeEnter=!0))},t.prototype.updateRed=function(){this.redNum=this.FL35()},t.prototype.FL35=function(){var t=0;return t+=this.firstLoginRedNum,this.openState&&0<TG6.FHH87()&&(t+=1),t},t.prototype.notify=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];i.prototype.notifyView.call(this,this,t)},t}(TG79);__reflect(TF70.prototype,"TF70");var TF71=function(i){function t(t){var e=i.call(this,t)||this;return e.rSM(P4.W53,e.investBuyRes,e),e.rSM(P4.M26,e.ZG27,e),e}return __extends(t,i),t.prototype.investBuyReq=function(){var t={type:P4.W52,body:{}};this.sSM(t)},t.prototype.investBuyRes=function(t){this.apF(K12.A6,t)},t.prototype.ZG26=function(t){var e={type:P4.M25,body:{day:t}};this.sSM(e)},t.prototype.ZG27=function(t){this.apF(K12.A2,t)},t}(TG80);__reflect(TF71.prototype,"TF71");var TG6=function(){function t(){}return t.FHH87=function(){var t=0,e=App.CM.gtM(O6.B29).investData.investConfVo;for(var i in e)if(e[i].getState==J13.A3){t=e[i].day;break}return t},t}();__reflect(TG6.prototype,"TG6");var InvestMainView2=function(s){function t(t,e){var i=s.call(this,t,e)||this;return i.sGN("release_act1002"),App.VM.rgS(O7.E41,O7.HH69,"InvestView2",i.content),i}return __extends(t,s),t.prototype.initUI=function(){s.prototype.initUI.call(this);var t=[O7.HH69];this.btnList=new ButtonList([],t,this.ZQ23.bind(this)),this.btnList.init(),this.btnGroup.addChild(this.btnList),this.btnList.visible=!1},t.prototype.open=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];s.prototype.open.call(this),this.updateBtnRed();var i=t[0]||O7.HH69;this.ZQ23(i)},t.prototype.uBM=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];s.prototype.uBM.call(this,t,e),this.updateBtnRed()},t.prototype.ZQ23=function(t){switch(t){case O7.HH69:var e=TF59.FB15(F7.A47);if(!e.openState)return P18.sDP(O3.tr(3205)),-1;this.title=e.investData.name,this.btnList.ZM66(t)}},t.prototype.updateBtnRed=function(){},t}(BasePanelView);__reflect(InvestMainView2.prototype,"InvestMainView2");var InvestView2=function(s){function t(t,e){var i=s.call(this,t,e)||this;return i.skinName=InvestSkin,i}return __extends(t,s),t.prototype.initUI=function(){s.prototype.initUI.call(this);var t={render:InvestItem2,gap:5,width:this.listGroup.width,height:this.listGroup.height,tileLayout:!0,verticalGap:10,horizontalGap:23};this.listView=new CommonListBase(t),this.listGroup.addChild(this.listView),this.listView.verticalCenter=0,this.listView.horizontalCenter=0},t.prototype.open=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];s.prototype.open.call(this),this.listView.open(),this.buyBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.ZU53,this);var i=App.CM.gtM(O6.B29);null!=i&&i.openState&&this.ZE81(i)},t.prototype.uBM=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];s.prototype.uBM.call(this,t,e),t instanceof TF70&&this.ZE81(t)},t.prototype.ZE81=function(t){this.investData=t.investData;var e=this.investData.investConfVo;this.listView.rfL(e);var i=this.investData.cost.split(":");if(this.cost=parseInt(i[1]),1==this.investData.isBuy){this.cTH(),this.actLeftTimeLb.text="",this.buyBtn.isShowIcon=!1,this.buyBtn.labelX="0";var s=TG6.FHH87();if(0<s)this.buyBtn.label=O3.tr(3230,s),this.buyBtn.enabled=!0,P16.sGF(this.buyBtn,!1);else{var o=this.investData.openDay;this.investData.openDay>this.investData.investConfVo.length&&(o=this.investData.investConfVo.length),this.buyBtn.label=O3.tr(3231,o),this.buyBtn.enabled=!1,P16.sGF(this.buyBtn,!0)}P7.FD53(this.buyBtn,s)}else if(this.buyBtn.isShowIcon=!0,this.buyBtn.labelX="15",this.buyBtn.label=O3.tr(3228,this.cost),this.buyBtn.enabled=!0,P16.sGF(this.buyBtn,!1),null==this._timerHandler)if(0<this.investData.buyCD){this.leftCD=this.investData.ZU54();var r=O3.tr(3253,P6.FJ11(1e3*this.leftCD,5));this.actLeftTimeLb.textFlow=(new egret.HtmlTextParser).parser(r),this._timerHandler=App.K16.doTimer(1e3,this.leftCD,this.GY14,this)}else this.actLeftTimeLb.text=""},t.prototype.GY14=function(){this.leftCD--;var t=O3.tr(3253,P6.FJ11(1e3*this.leftCD,5));this.actLeftTimeLb.textFlow=(new egret.HtmlTextParser).parser(t),this.leftCD<=0&&(this.cTH(),this.actLeftTimeLb.text="")},t.prototype.ZU53=function(){if(1!=this.investData.isBuy)if(0<this.investData.buyCD||-1==this.investData.buyCD){var t={handler:this.buyInvestReq,cost:this.cost,costTp:P10.A2,content:O3.tr(3227,this.cost)};App.VM.open(O7.C54,t)}else P18.sDP(O3.tr(3220));else{var e=TG6.FHH87();0<e&&App.CM.apF(O6.B29,K12.A1,e)}},t.prototype.buyInvestReq=function(){App.CM.apF(O6.B29,K12.A5)},t.prototype.cTH=function(){null!=this._timerHandler&&(App.K16.rBH(this._timerHandler),this._timerHandler=null)},t.prototype.close=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];s.prototype.close.call(this),this.buyBtn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.ZU53,this),this.cTH(),this.listView.close(),this.investData=null},t}(BaseEuiView);__reflect(InvestView2.prototype,"InvestView2");var InvestItem2=function(e){function t(){var t=e.call(this)||this;return t.skinName=InvestItemSkin,t.addEventListener(egret.Event.ADDED_TO_STAGE,t.open,t),t.addEventListener(egret.Event.REMOVED_FROM_STAGE,t.close,t),t}return __extends(t,e),t.prototype.open=function(){},t.prototype.close=function(){this.rewardsCollection.removeAll()},t.prototype.childrenCreated=function(){e.prototype.createChildren.call(this),this.initUI()},t.prototype.initUI=function(){this.dgRewards.itemRenderer=ItemIcon,this.rewardsCollection=new eui.ArrayCollection,this.dgRewards.dataProvider=this.rewardsCollection,this.awardsSc.viewport=this.dgRewards,this.awardsSc.scrollPolicyH=eui.ScrollPolicy.OFF,this.awardsSc.scrollPolicyV=eui.ScrollPolicy.OFF},t.prototype.dataChanged=function(){var t=O3.tr(3229,this.data.day);this.dayLb.textFlow=(new egret.HtmlTextParser).parser(t),this.imgTitle.width=this.dayLb.width+55,this.data.getState==J13.A2?this.gotImg.visible=!0:this.gotImg.visible=!1;var e=this.FK41(this.data.awd);this.rewardsCollection.replaceAll(e)},t.prototype.FK41=function(t){for(var e=[],i=0;i<t.length;i++){var s=N12.gID(t[i].k);if(s){s.ct=t[i].v;var o={data:s,ct:s.ct};e.push({itemData:o,isBottom:!1,scale:1})}}return e},t}(eui.ItemRenderer);__reflect(InvestItem2.prototype,"InvestItem2");var InvestConfVo2=function(){function t(t){this.awd=[],this.getState=J13.A1,this.initData(t)}return t.prototype.initData=function(t){t&&(this.day=t.day,this.awd=t.reward)},t}();__reflect(InvestConfVo2.prototype,"InvestConfVo2");var InvestData2=function(i){function t(t){var e=i.call(this,t)||this;return e.investConfVo=[],e.hasGetList=[],e.isBuy=0,e.openDay=0,e.buyCD=0,e.updateData(t),e}return __extends(t,i),t.prototype.updateData=function(t){if(t){if(this.isBuy=null==t.isBuy?this.isBuy:t.isBuy,this.hasGetList=t.taked||this.hasGetList,this.openDay=t.openDay||this.openDay,this.buyCD=null==t.cd?this.buyCD:t.cd,null!=t.cd&&(this.lastLoadTime=P6.getTime(!0)),t.config){var e=t.config.rewards;this.investConfVo=[];for(var i=0;i<e.length;i++){var s=new InvestConfVo2(e[i]);this.investConfVo.push(s)}this.investConfVo.sort(function(t,e){return t.day-e.day})}for(var i in this.investConfVo){if(0<this.hasGetList.length)for(var o in this.hasGetList)this.investConfVo[i].day==this.hasGetList[o]&&(this.investConfVo[i].getState=J13.A2);1==this.isBuy&&this.openDay>=this.investConfVo[i].day&&this.investConfVo[i].getState!=J13.A2&&(this.investConfVo[i].getState=J13.A3)}this.ZU63(t)}},t.prototype.ZU54=function(){var t=P6.getTime(!0)-this.lastLoadTime,e=this.buyCD-t;return 0<e?e:0},t}(ActivityVo);__reflect(InvestData2.prototype,"InvestData2"),function(t){var e=function(){function t(){}return t.GU9=10001,t.GS17=10002,t.openLastAtkRewardView=10003,t.closeLastAtkRewardView=10004,t.select=11001,t.Attack=20001,t.Attack_Res=20002,t.Buy_Ticket=20003,t.Buy_Ticket_Res=20004,t.Load_Rank=20005,t.Load_Rank_Res=20006,t}();t.Const=e,__reflect(e.prototype,"MergeServerBoss.Const")}(MergeServerBoss||(MergeServerBoss={})),function(i){var t=function(e){function t(){var t=e.call(this)||this;return new i.Model(t),t.model.aLV(O7.I64),t.model.aLV(O7.F69),t.model.aLV(O7.C77),t.model.aLV(O7.A67),App.VM.register(O7.C77,"MergeServerBossView",t,K17.UI_Main),App.VM.register(O7.A67,"MergeServerBossRankView",t,K17.UI_Main_TOP),t.rgF(i.Const.GU9,t.GU9,t),t.rgF(i.Const.GS17,t.GS17,t),App.VM.register(O7.A15,"MergeServerBossRewardView",t,K17.UI_Main_TOP),t.rgF(i.Const.openLastAtkRewardView,t.GO34,t),t.rgF(i.Const.closeLastAtkRewardView,t.GM38,t),t.rgF(i.Const.select,t.onSelect,t),t.proxy=new i.Proxy(t),t.rgF(i.Const.Attack,t.proxy.attack,t.proxy),t.rgF(i.Const.Attack_Res,t.GY4,t),t.rgF(i.Const.Buy_Ticket,t.proxy.buyTicket,t.proxy),t.rgF(i.Const.Buy_Ticket_Res,t.GU10,t),t.rgF(i.Const.Load_Rank,t.proxy.loadRank,t.proxy),t.rgF(i.Const.Load_Rank_Res,t.GV62,t),t}return __extends(t,e),Object.defineProperty(t.prototype,"model",{get:function(){return this.gtM()},enumerable:!0,configurable:!0}),t.prototype.GU9=function(){for(var t,e=[],i=0;i<arguments.length;i++)e[i]=arguments[i];(t=App.VM).open.apply(t,[O7.A67].concat(e))},t.prototype.GS17=function(){App.VM.close(O7.A67)},t.prototype.GO34=function(){for(var t,e=[],i=0;i<arguments.length;i++)e[i]=arguments[i];(t=App.VM).open.apply(t,[O7.A15].concat(e))},t.prototype.GM38=function(){App.VM.close(O7.A15)},t.prototype.onSelect=function(t){var e=App.VM.gOV(O7.C77);e&&e.select(t)},t.prototype.GY4=function(t){var e=this;if(200==t.head.state)if(t.body.cd_)P7.fightCoolingCD(t.body.cd_);else{var i=P7.isGetView(O7.C77);this.model.ZC13(t.body),this.model.notify(),App.CM.apF(O6.B99,N1.A11,t.body.fr,{rewards:t.body.ob,needResult:!1,type:P15.A1,isAuto:i},function(){App.VM.open(TF59.FA34(e.model.actid),O7.C77)},this)}else App.CM.apF(O6.B87,L10.A4,t)},t.prototype.GU10=function(t){200==t.head.state?(this.model.ZC13(t.body),this.model.notify()):App.CM.apF(O6.B87,L10.A4,t)},t.prototype.GV62=function(t){200==t.head.state?(this.model.ZC13(t.body),this.model.notify()):App.CM.apF(O6.B87,L10.A4,t)},t}(TE11);i.Controller=t,__reflect(t.prototype,"MergeServerBoss.Controller")}(MergeServerBoss||(MergeServerBoss={})),function(e){var t=function(i){function t(t){var e=i.call(this,t)||this;return e.openState=!1,e.redNum=0,e.firstLoginRedNum=0,e}return __extends(t,i),t.prototype.ZC13=function(t){t&&(null!=this.actData?this.actData.ZU63(t):this.actData=new e.Vo(t),this.updateRed())},t.prototype.updateRed=function(){this.redNum=this.FL35()},t.prototype.FL35=function(){for(var t=0,e=!1,i=0,s=this.actData.boss;i<s.length;i++){if(0<s[i].hp){e=!0;break}}if(e){var o=0;this.actData&&(o=this.actData.isAtk(this.actData.ci)?0:this.actData.count),t+=this.firstLoginRedNum+o}return t},t.prototype.notify=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];i.prototype.notifyView.apply(this,[this].concat(t))},t}(TG79);e.Model=t,__reflect(t.prototype,"MergeServerBoss.Model")}(MergeServerBoss||(MergeServerBoss={})),function(s){var t=function(i){function t(t){var e=i.call(this,t)||this;return e.rSM(P4.T66,e.GY4,e),e.rSM(P4.K13,e.GU10,e),e.rSM(P4.I39,e.GV62,e),e}return __extends(t,i),t.prototype.attack=function(){this.sSM({type:P4.T65,body:{}})},t.prototype.GY4=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.apF.apply(this,[s.Const.Attack_Res].concat(t))},t.prototype.buyTicket=function(t){this.sSM({type:P4.K12,body:{}})},t.prototype.GU10=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.apF.apply(this,[s.Const.Buy_Ticket_Res].concat(t))},t.prototype.loadRank=function(t,e){this.sSM({type:P4.I38,body:{id:t,page:e,pageSize:4}})},t.prototype.GV62=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.apF.apply(this,[s.Const.Load_Rank_Res].concat(t))},t}(TG80);s.Proxy=t,__reflect(t.prototype,"MergeServerBoss.Proxy")}(MergeServerBoss||(MergeServerBoss={}));var MergeServerBossItem=function(e){function t(){var t=e.call(this)||this;return t.skinName="mergeServerBossItemSkin",t}return __extends(t,e),t.prototype.childrenCreated=function(){e.prototype.childrenCreated.call(this),this.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClick,this),this.addEventListener(egret.Event.REMOVED_FROM_STAGE,this.onDestroy,this)},t.prototype.dataChanged=function(){e.prototype.dataChanged.call(this),P16.sGF(this.gpIcon,2===this.data.status),this.imgDeath.visible=1===this.data.status,this.imgBg.source=this.data.selected?"com_hefubosswj1_png":2===this.data.status?"com_hefubosswj2_png":"com_hefubosswj3_png",this.imgIcon.source=this.data.icon,this.boxBg.source=this.data.box,this.imgLock.visible=2===this.data.status,O5.FB13(this.lbName,this.data.name,6)},t.prototype.onClick=function(t){App.CM.apF(O6.A26,MergeServerBoss.Const.select,this.itemIndex)},t.prototype.onDestroy=function(){this.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClick,this),this.removeEventListener(egret.Event.REMOVED_FROM_STAGE,this.onDestroy,this),delete this.data},t}(eui.ItemRenderer);__reflect(MergeServerBossItem.prototype,"MergeServerBossItem");var MergeServerBossRankItem=function(e){function t(){var t=e.call(this)||this;return t.skinName="mergeServerBossRankItemSkin",t.addEventListener(egret.Event.ADDED_TO_STAGE,t.open,t),t.addEventListener(egret.Event.REMOVED_FROM_STAGE,t.close,t),t}return __extends(t,e),t.prototype.open=function(){},t.prototype.close=function(){this.dataSource.removeAll()},t.prototype.childrenCreated=function(){e.prototype.createChildren.call(this),this.initUI()},t.prototype.initUI=function(){this.listContent.itemRenderer=ItemIcon,this.dataSource=new eui.ArrayCollection,this.listContent.dataProvider=this.dataSource,this.awardsSc.viewport=this.listContent,this.awardsSc.scrollPolicyH=eui.ScrollPolicy.OFF,this.awardsSc.scrollPolicyV=eui.ScrollPolicy.OFF,this.lbMy.text=O3.tr(5490)},t.prototype.dataChanged=function(){var t=[],e=this.data.data;for(var i in e.reward){var s=N12.gID(e.reward[i].k),o=parseInt(this.data.spItem)==e.reward[i].k?TF59.FC9(s.quality):void 0,r={data:s,ct:e.reward[i].v,texiao:o};t.push({itemData:r,isBottom:!1,scale:1})}this.dataSource.replaceAll(t);var n=O4.getAid();this.gpMy.visible=e.id==n,this.lbName.text=e.name,this.data.isNear?this.lbPower.textFlow=M18.HTP.parser(1e4<=e.value?O3.tr(5363,(e.value/1e4).toFixed(1)):e.value+""):this.lbPower.text="0",this.lbRank.textFlow=M18.HTP.parser(O3.tr(5319,e.rank))},t}(eui.ItemRenderer);__reflect(MergeServerBossRankItem.prototype,"MergeServerBossRankItem");var MergeServerBossRankView=function(r){function t(t,e){var i=r.call(this,t,e)||this;return i.pageIndex=0,i.pageSize=4,i.maxPage=1,i.skinName="mergeServerBossRankSkin",i}return __extends(t,r),t.prototype.initUI=function(){r.prototype.initUI.call(this),this.title.text=O3.tr(5527),this.dataSource=new eui.ArrayCollection,this.dgReward.dataProvider=this.dataSource,this.dgReward.itemRenderer=MergeServerBossRankItem,this.closeBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.closeSelf,this),this.backBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.closeSelf,this),this.btnLeft.addEventListener(egret.TouchEvent.TOUCH_TAP,this.ZU55,this),this.btnRight.addEventListener(egret.TouchEvent.TOUCH_TAP,this.ZU55,this)},t.prototype.open=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];r.prototype.open.call(this);var s=App.CM.gtM(O6.A26);this.index=t,this.id=s.actData.boss[this.index].id,this.ZM81(s);var o=s.actData.my[this.id];o&&(this.pageIndex=Math.ceil(o.rank/4-1)),this.maxPage=Math.floor(s.actData.getRankMax(this.id)/this.pageSize),this.loadListData(),this.ZQ72()},t.prototype.loadListData=function(){var t=App.CM.gtM(O6.A26).actData.boss[this.index].id;App.CM.apF(O6.A26,MergeServerBoss.Const.Load_Rank,t,this.pageIndex+1)},t.prototype.uBM=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];r.prototype.uBM.call(this,t,e),t instanceof MergeServerBoss.Model&&this.ZM81(t)},t.prototype.ZM81=function(t){if(t=t||App.CM.gtM(O6.A26),void 0!==this.index&&t.actData.boss[this.index]){for(var e=[],i=this.pageIndex*this.pageSize+1,s=Math.min(i+4,t.actData.getRankMax(this.id)+1),o=i;o<s;o++){var r=o,n=t.actData.getRankInfo(o),a={spItem:parseInt(t.actData.reward),type:1,isNear:!1,data:{value:0,id:1,name:O3.tr(3304),sname:0,rank:r,reward:[]}};n&&(a.data.name=n.name,a.data.value=n.value,a.data.id=n.aid,a.isNear=!0),a.data.reward=t.actData.FG83(this.id,r),e.push(a)}this.dataSource.source=e}},t.prototype.ZQ72=function(){this.btnLeft.visible=0<this.pageIndex,this.btnRight.visible=this.pageIndex<this.maxPage},t.prototype.close=function(){this.closeBtn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.closeSelf,this),this.backBtn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.closeSelf,this),r.prototype.close.call(this),this.dataSource.removeAll()},t.prototype.ZU55=function(t){var e=0;if(t.currentTarget===this.btnLeft?e=-1:t.currentTarget===this.btnRight&&(e=1),e){var i=this.pageIndex+e;0<=i&&i<=this.maxPage&&(this.pageIndex=i,this.loadListData(),this.ZQ72(),this.ZM81())}},t.prototype.closeSelf=function(){App.CM.apF(O6.A26,MergeServerBoss.Const.GS17)},t}(BaseEuiView);__reflect(MergeServerBossRankView.prototype,"MergeServerBossRankView");var MergeServerBossRewardView=function(s){function t(t,e){var i=s.call(this,t,e)||this;return i.skinName="mergeServerBossRewardSkin",i}return __extends(t,s),t.prototype.initUI=function(){s.prototype.initUI.call(this),this.dataSource=new eui.ArrayCollection,this.listGroup.itemRenderer=ItemIcon,this.listGroup.dataProvider=this.dataSource,this.lbTitle.text=O3.tr(5525)},t.prototype.open=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];s.prototype.open.call(this),this.id=t,this.bgMask.addEventListener(egret.TouchEvent.TOUCH_TAP,this.closeSelf,this),this.backBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.closeSelf,this),this.closeBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.closeSelf,this),this.updateReward()},t.prototype.updateReward=function(){var o=App.CM.gtM(O6.A26),t=o.actData.getKillReward(this.id);this.dataSource.source=t.map(function(t,e){var i=N12.gID(t.k),s=o.actData.hasLight(t.k)?TF59.FC9(i.quality):void 0;return{itemData:{data:i,ct:t.v,texiao:s},isBottom:!1,scale:1}})},t.prototype.closeSelf=function(){App.VM.close(O7.A15)},t.prototype.close=function(){this.dataSource.removeAll(),this.bgMask.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.closeSelf,this),this.closeBtn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.closeSelf,this),this.backBtn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.closeSelf,this)},t}(BaseEuiView);__reflect(MergeServerBossRewardView.prototype,"MergeServerBossRewardView");var MergeServerBoss,MergeServerBossView=function(s){function t(t,e){var i=s.call(this,t,e)||this;return i.selectIndex=0,i.sGN("release_act1078"),i.skinName="MergeServerBossSkin",i}return __extends(t,s),Object.defineProperty(t.prototype,"model",{get:function(){return App.CM.gtM(O6.A26)},enumerable:!0,configurable:!0}),t.prototype.initUI=function(){var t=this;s.prototype.initUI.call(this),this.dataSource=new eui.ArrayCollection,this.listBoss.dataProvider=this.dataSource,this.listBoss.itemRenderer=MergeServerBossItem,this.dsReward=new eui.ArrayCollection,this.dgReward.dataProvider=this.dsReward,this.dgReward.itemRenderer=ItemIcon,this.labCheck.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickCheck,this),this.btnAtk.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickAtk,this),this.btnBuy.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickBuy,this),this.leftGroup.addEventListener(egret.TouchEvent.TOUCH_TAP,this.ZHH87,this),this.rightGroup.addEventListener(egret.TouchEvent.TOUCH_TAP,this.ZHH87,this),this.scHead.addEventListener(eui.UIEvent.CHANGE_END,this.ZQ72,this),this.btnAtk.label=O3.tr(6416);var e=this.model;if(this.labDesc.textFlow=M18.FG71(e.actData.desc),this.labDesc.touchEnabled=!0,this.labDesc.addEventListener(egret.TextEvent.LINK,this.ZHH88,this),this.labCheck.textFlow=M18.FG71(O3.tr(5522)),M18.FHH83(this.labCheck),this.lab0.textFlow=M18.FG71(O3.tr(5523)),this.lab.textFlow=M18.FG71(O3.tr(5520)),this.select(e.actData.currentIndex),5<=e.actData.currentIndex){var i=Math.min(e.actData.boss.length-5,e.actData.currentIndex);App.K16.doFrame(1,1,function(){t.scgHead.scrollH=95*i},this)}this.ZG18(),this.timer=this.timer||App.K16.doTimer(1e3,0,this.ZG18,this),this.pbHp.labelFunction=function(t,e){return Math.floor(t/e*100)+"%"}},t.prototype.select=function(t){var e=this.model;t<=e.actData.currentIndex?(this.selectIndex=t,this.id=e.actData.boss[this.selectIndex].id,this.ZQ73(e),this.updateModel(e),this.GX5(e),this.updateRank(e)):P18.sDP(O3.tr(5533))},t.prototype.uBM=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];s.prototype.uBM.apply(this,[t].concat(e)),t instanceof MergeServerBoss.Model&&(this.updateRank(t),this.ZQ73(t),this.updateModel(t),this.GX5(t))},t.prototype.updateRank=function(t){for(var e=(t=t||this.model).actData.boss[this.selectIndex],i=t.actData.rks[e.id],s=0;s<3;s++){var o=i[s],r=s+1,n=O3.tr(610),a=this.gRank.getChildAt(s);o&&(r=o.rank,n=o.name),a.textFlow=M18.FG71(O3.tr(5521,r,n))}var h=M18.FG71(O3.tr(5529)),p=t.actData.getMyRank(e.id);p&&(h=M18.FG71(O3.tr(5530,p.rank))),this.labMe.textFlow=h},t.prototype.ZQ73=function(n){var a=this;n=n||this.model;var h=!0,t=n.actData.boss.map(function(t,e){var i=N17.FF93(t.npc).id,s=7131;switch(t.npc){case 12010006:s=7132;break;case 12010007:s=7133;break;case 12010008:s=7134;break;case 12010009:s=7135;break;case 12010020:s=7136}var o=O3.tr(s),r=h?1:2;return t.id===n.actData.ci&&0<t.hp&&(h=!1,r=0),{status:r,name:o,icon:n.actData.getBossImg(t.id),box:N12.getBox(6),selected:e===a.selectIndex,id:i}});this.dataSource.source=t},t.prototype.updateModel=function(t){this.showObj&&this.showObj.destory();var e=(t=t||this.model).actData.boss[this.selectIndex],i={id:N17.FF93(e.npc).image,x:0,y:0,dir:Dir.br,objType:P13.A6,bt:BehaviourType.Stand_d};this.showObj=new FightGameObject,this.showObj.action=Action.Stand,this.showObj.setData(i,this.gPos)},t.prototype.ZG18=function(){var t=P6.FJ11(1e3*this.model.actData.ZHH64(),5);this.labTime.textFlow=M18.HTP.parser(O3.tr(3253,t))},t.prototype.GX5=function(o){var t=(o=o||this.model).actData.boss[this.selectIndex],e=7131;switch(t.npc){case 12010006:e=7132;break;case 12010007:e=7133;break;case 12010008:e=7134;break;case 12010009:e=7135;break;case 12010020:e=7136}var i=O3.tr(e);if(this.labName.text=i,this.labCount.textFlow=M18.FG71(O3.tr(5524,o.actData.count<=0?"#ff0000":"#feeedf",o.actData.count)),this.imgDeath.visible=t.hp<=0,this.dgReward.visible=o.actData.isAtk(this.id),this.imgTips.visible=!this.dgReward.visible,this.dgReward.visible){var s=o.actData.getMyRank(t.id);if(s){var r=o.actData.FG83(this.id,s.rank);this.dsReward.source=r.map(function(t,e){var i=N12.gID(t.k),s=o.actData.hasLight(t.k)?TF59.FC9(i.quality):void 0;return{itemData:{data:i,ct:t.v,texiao:s},isBottom:!1,scale:1}})}}this.pbHp.visible=0<t.hp,0<t.hp&&(this.pbHp.maximum=t.thp,this.pbHp.value=t.hp),this.btnAtk.visible=this.id===o.actData.ci&&0<t.hp,this.btnAtk.imgNew.visible=this.btnAtk.visible&&0<o.FL35(),this.gCount.visible=this.id===o.actData.ci&&0<t.hp},t.prototype.ZQ72=function(){var t=this.scgHead.scrollH<=0;P16.sGF(this.leftGroup,t),this.leftGroup.touchEnabled=!t,this.leftGroup.visible=!t;var e=this.listBoss.width-this.scgHead.scrollH-this.scgHead.width<=0;P16.sGF(this.rightGroup,e),this.rightGroup.touchEnabled=!e,this.rightGroup.visible=!e},t.prototype.open=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];s.prototype.open.apply(this,t),this.ZQ73(),this.updateModel(),this.updateRank(),this.GX5(),App.K16.doFrame(1,1,this.ZQ72,this)},t.prototype.close=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.showObj&&this.showObj.destory(),this.labCheck.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickCheck,this),this.btnAtk.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickAtk,this),this.btnBuy.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickBuy,this),this.labDesc.removeEventListener(egret.TextEvent.LINK,this.ZHH88,this),this.leftGroup.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.ZHH87,this),this.rightGroup.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.ZHH87,this),App.K16.removeAll(this),this.dataSource.removeAll(),s.prototype.close.apply(this,t)},t.prototype.ZHH87=function(t){var e=0;t.currentTarget===this.leftGroup?e=-Math.min(this.scgHead.scrollH,this.scgHead.width):t.currentTarget===this.rightGroup&&(e=Math.min(this.scgHead.width,this.listBoss.width-this.scgHead.scrollH-this.scgHead.width)),e&&t.currentTarget.touchEnabled&&(this.scgHead.scrollH+=e),this.ZQ72()},t.prototype.ZHH88=function(t){"reward"===t.text&&App.CM.apF(O6.A26,MergeServerBoss.Const.openLastAtkRewardView,this.id)},t.prototype.onClickAtk=function(){var t=this.model;t.actData.count<=0?this.onClickBuy():t.actData.boss&&t.actData.boss[this.selectIndex]&&t.actData.boss[this.selectIndex].id===t.actData.ci?App.CM.apF(O6.A26,MergeServerBoss.Const.Attack):P18.sDP(O3.tr(5531))},t.prototype.onClickCheck=function(){App.CM.apF(O6.A26,MergeServerBoss.Const.GU9,this.selectIndex)},t.prototype.onClickBuy=function(){var t=this.model;if(t.actData.canBuyCount-t.actData.buy<=0)P18.sDP(O3.tr(5534));else{var e={handler:function(){App.CM.apF(O6.A26,MergeServerBoss.Const.Buy_Ticket)},content:O3.tr(5532,t.actData.buyPrice,t.actData.canBuyCount-t.actData.buy)};App.VM.open(O7.C54,e)}},t}(BaseEuiView);__reflect(MergeServerBossView.prototype,"MergeServerBossView"),function(t){var e=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return __extends(t,n),t.prototype.initActData=function(t){var o=this;if(!this.initialed&&t.atmp){if(t.atmp.more)this.bossData={},M18.FL28(t.atmp.more,"|",",").forEach(function(t){var e=parseInt(t[0]),i=t[3];o.bossData[e]={id:e,img:i}});if(t.atmp.note){var e=t.atmp.note.split(",");this.dailyCount=parseInt(e[0]),this.canBuyCount=parseInt(e[1]);var i=e[2].split(":"),s=i[0],r=i[1];this.buyItem=parseInt(s),this.buyPrice=parseInt(r)}if(t.atmp.rank&&this.ZQ74(t.atmp.rank),t.atmp.cost)this.killRewardData={},t.atmp.cost.split("|").forEach(function(t){if(t){var e=t.split(","),i=e[0],s=e[1];o.killRewardData[i]=s.split(";").map(function(t){var e=t.split(":"),i=e[0],s=e[1];return{k:i,v:parseInt(s)}})}})}n.prototype.initActData.call(this,t)},t.prototype.ZU63=function(t){if(n.prototype.ZU63.call(this,t),this.boss=t.boss?t.boss:this.boss,this.rks=t.rks?t.rks:this.rks,this.my=t.my?t.my:this.my,this.ci=void 0!==t.ci?t.ci:this.ci,this.use=void 0!==t.use?t.use:this.use||0,this.buy=void 0!==t.buy?t.buy:this.buy||0,t.ub)for(var e in this.boss)if(this.boss[e].id===t.ub.id){this.boss[e]=t.ub;break}if(t.lr){this.lr=[];for(var i=0,s=t.lr;i<s.length;i++){var o=s[i];this.lr[o.rank]=o}}},t.prototype.getBossInfo=function(t){for(var e=0,i=this.boss;e<i.length;e++){var s=i[e];if(t===s.id)return s}},t.prototype.getMyRank=function(t){for(var e=0,i=this.my;e<i.length;e++){var s=i[e];if(s.id===t)return s}},t.prototype.getBossImg=function(t){return this.bossData&&this.bossData[t]?this.bossData[t].img:""},t.prototype.FL67=function(t){return[]},Object.defineProperty(t.prototype,"count",{get:function(){return this.dailyCount+this.buy-this.use},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"currentIndex",{get:function(){for(var t=0;t<this.boss.length;t++)if(this.boss[t].id===this.ci)return t;return 0},enumerable:!0,configurable:!0}),t.prototype.ZQ74=function(t){var r={};try{t.split("#").forEach(function(t){var e=t.split("@"),o=e[0],i=e[1];r[o]={},i.split("|").forEach(function(t){if(t){var e=t.split(","),i=(e[0],e[1]),s=e[2];r[o][i]=s.split(";").map(function(t){var e=t.split(":"),i=e[0],s=e[1];return{k:i,v:parseInt(s)}})}})})}catch(t){Log.trace(t)}this.rankData=r},t.prototype.FG83=function(t,e){if(this.rankData[t]){for(var i=void 0,s=0,o=Object.keys(this.rankData[t]).sort(function(t,e){return parseInt(e)-parseInt(t)});s<o.length;s++){var r=o[s];if(this.rankData[t][r],e>parseInt(r))break;i=r}if(i)return this.rankData[t][i]}return[]},t.prototype.getRankMax=function(t){if(this.rankData[t]){var e=Object.keys(this.rankData[t]).sort(function(t,e){return parseInt(e)-parseInt(t)});if(0<e.length)return parseInt(e[0])}return 0},t.prototype.getRankInfo=function(t){return this.lr&&this.lr[t]},t.prototype.isAtk=function(t){for(var e=0,i=this.my;e<i.length;e++){if(i[e].id===t)return!0}return!1},t.prototype.getKillReward=function(t){return this.killRewardData[t]},t.prototype.hasLight=function(t){return this.reward===t+""},t}(ActivityVo);t.Vo=e,__reflect(e.prototype,"MergeServerBoss.Vo")}(MergeServerBoss||(MergeServerBoss={}));var C14=function(){function t(){}return t.A4=10001,t.A3=10002,t.A1=10003,t.A2=10004,t}();__reflect(C14.prototype,"C14");var TA46=function(i){function t(){var t=i.call(this)||this,e=new TC11(t);return e.aLV(O7.C73),e.aLV(O7.F69),e.aLV(O7.I64),App.VM.register(O7.C73,"MysticalShopView2",t,K17.UI_Main),t.rgF(C14.A4,t.GF8,t),t.rgF(C14.A3,t.GE16,t),t.mysticalShopProxy=new TC12(t),t.rgF(C14.A1,t.GA36,t),t.rgF(C14.A2,t.GA37,t),t}return __extends(t,i),t.prototype.GA36=function(t,e){this.mysticalShopProxy.GA36(t,e)},t.prototype.GA37=function(t){if(200==t.head.state){var e=t.body,i=this.gtM();i.ZC13(e),i.notify(),P5.sIs(t.body.ob)}else 215==t.head.state?P7.FA78():App.CM.apF(O6.B87,L10.A4,t)},t.prototype.GF8=function(){App.VM.open(O7.F15);var t=App.CM.gtM(O6.A61);t.firstLoginRedNum=0,t.notify()},t.prototype.GE16=function(){App.VM.close(O7.F15)},t}(TE11);__reflect(TA46.prototype,"TA46");var TC11=function(i){function t(t){var e=i.call(this,t)||this;return e.openState=!1,e.redNum=0,e.firstLoginRedNum=0,e}return __extends(t,i),t.prototype.ZC13=function(t){t&&(null!=this.actData?this.actData.updateData(t):(this.actData=new MysticalShopData2(t),this.tips=this.actData.tips),this.updateRed())},t.prototype.updateRed=function(){this.redNum=this.FL35()},t.prototype.FL35=function(){var t=0;return t+=this.firstLoginRedNum},t.prototype.notify=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];i.prototype.notifyView.apply(this,[this].concat(t))},t}(TG79);__reflect(TC11.prototype,"TC11");var TC12=function(i){function t(t){var e=i.call(this,t)||this;return e.rSM(P4.A43,e.GA37,e),e}return __extends(t,i),t.prototype.GA36=function(t,e){var i={type:P4.A42,body:{index:t,num:e}};this.sSM(i)},t.prototype.GA37=function(t){this.apF(D14.A3,t)},t}(TG80);__reflect(TC12.prototype,"TC12");var MysticalShopView2=function(s){function t(t,e){var i=s.call(this,t,e)||this;return i.listData=[],i.skinName="MysticalShopSkin",i}return __extends(t,s),t.prototype.initUI=function(){s.prototype.initUI.call(this),this.createList(),this.resetLb.textFlow=M18.HTP.parse(O3.tr(3796))},t.prototype.createList=function(){var t={render:MysticalItem2,width:this.listGroup.width,height:this.listGroup.height,arrowScale:1,tileLayout:!0,verticalGap:10,horizontalGap:10};this.listView=new CommonListBase(t),this.listGroup.addChild(this.listView),this.listView.verticalCenter=0,this.listView.horizontalCenter=0},t.prototype.updateList=function(){this.listData=this.actData.confVo,this.listView.rfL(this.listData)},t.prototype.open=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];s.prototype.open.call(this),this.listView.open();var i=App.CM.gtM(O6.A25);this.ZA90(i)},t.prototype.uBM=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];s.prototype.uBM.call(this,t,e),t instanceof TC11&&this.ZA90(t)},t.prototype.ZA90=function(t){if(this.actData=t.actData,this.updateList(),null==this.timerHandler)if(0<this.actData.rs){this.leftCD=this.actData.ZHH64();var e=O3.tr(3253,P6.FJ11(1e3*this.leftCD,5));this.leftCdLb.textFlow=M18.HTP.parse(e),this.timerHandler=App.K16.doTimer(1e3,this.leftCD,this.GY14,this)}else this.leftCdLb.text=""},t.prototype.GY14=function(){this.leftCD--;var t=O3.tr(3253,P6.FJ11(1e3*this.leftCD,5));this.leftCdLb.textFlow=M18.HTP.parse(t),this.leftCD<=0&&(this.cTH(),this.leftCdLb.text="")},t.prototype.cTH=function(){null!=this.timerHandler&&(App.K16.rBH(this.timerHandler),this.timerHandler=null)},t.prototype.close=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];s.prototype.close.call(this),this.cTH(),this.listView.close()},t}(BaseEuiView);__reflect(MysticalShopView2.prototype,"MysticalShopView2");var MysticalItem2=function(e){function t(){var t=e.call(this)||this;return t.skinName="MysticalShopItemSkin",t.addEventListener(egret.Event.ADDED_TO_STAGE,t.open,t),t.addEventListener(egret.Event.REMOVED_FROM_STAGE,t.close,t),t}return __extends(t,e),t.prototype.open=function(){this.buyBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.clickBuy,this)},t.prototype.close=function(){this.buyBtn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.clickBuy,this)},t.prototype.childrenCreated=function(){e.prototype.createChildren.call(this),this.initUI()},t.prototype.initUI=function(){App.CM.gtM(O6.A25).actData;this.itemIcon=new ItemIcon,this.iconGp.addChild(this.itemIcon),this.lblyuanjia.textFlow=M18.HTP.parse(O3.tr(3797)),this.lblxianjia.textFlow=M18.HTP.parse(O3.tr(3799))},t.prototype.hasSkin=function(t,e){return TD5.hasSkin(t,e)},t.prototype.dataChanged=function(){var t=this.data.itemData.data,e=t.name,i=t.quality,s=t.skinid,o=t.id;this.nameLb.text=e,O5.FB13(this.nameLb,e,i),this.discountLb.text=O3.tr(3254,this.data.discount),this.limitBuyLb.text=O3.tr(3255,this.data.hasBuy,this.data.limitBuy),this.oldPriceLb.textFlow=M18.HTP.parse(O3.tr(3798,this.data.oldPrice)),this.nowPriceLb.textFlow=M18.HTP.parse(O3.tr(3800,this.data.nowPrice));var r={itemData:this.data.itemData,isBottom:!1};this.itemIcon.data=r,this.data.hasBuy>=this.data.limitBuy?(P16.sGF(this.buyBtn,!0),this.buyBtn.$setEnabled(!1),this.buyBtn.label=O3.tr(3295)):!App.TG81.inRange(66900,66999,parseInt(o),!0)&&this.hasSkin(o,s)?(P16.sGF(this.buyBtn,!0),this.buyBtn.$setEnabled(!1),this.buyBtn.label=O3.tr(3801)):(P16.sGF(this.buyBtn,!1),this.buyBtn.$setEnabled(!0),this.buyBtn.label=O3.tr(3294)),this.notResetImg.$setVisible(0==this.data.reset)},t.prototype.clickBuy=function(){var t={};t.controllerConst=O6.A25,t.reqConst=C14.A1,t.id=this.data.index;var e=this.data.commodity.k,i=this.data.commodity.v;t.itemname=N12.FK5(e),t.bg=N12.FL5(e),t.icon=N12.FJ86(e),t.itemid=Number(e),t.itemnum=Number(i);var s=N12.gID(e);t.desc=s.desc;var o=pack.I11.GOLD,r=this.data.nowPrice;t.costIcon=N12.FJ86(o),t.costNum=Number(r),t.costId=Number(o),t.cost="x"+r,t.limitnum=this.data.limitBuy,t.batchnum=this.data.limitBuy,t.buyTime=this.data.hasBuy,this.data.hasBuy<this.data.limitBuy?(t.soldout=0,t.txt=O3.tr(2508,this.data.hasBuy,this.data.limitBuy),App.VM.open(O7.I45,t)):P18.sDP(O3.tr(5649)),TG40.playClickEffect()},t}(eui.ItemRenderer);__reflect(MysticalItem2.prototype,"MysticalItem2");var MysticalShopConfVo2=function(){function t(t){this.hasBuy=0,this.initData(t)}return t.prototype.initData=function(t){if(t){this.index=t.index,this.oldPrice=t.originalPrice,this.nowPrice=t.presentPrice,this.discount=t.discount,this.limitBuy=t.limit,this.reset=t.reset,this.commodity=t.commodity;var e=N12.gID(String(this.commodity.k));this.itemData={data:e,ct:this.commodity.v}}},t}();__reflect(MysticalShopConfVo2.prototype,"MysticalShopConfVo2");var MysticalShopData2=function(i){function t(t){var e=i.call(this,t)||this;return e.updateData(t),e}return __extends(t,i),t.prototype.updateData=function(t){if(console.log(t),t){if(this.hasBuyList=t.rb||this.hasBuyList,t.confs){null!=this.confVo&&0<this.confVo.length&&this.confVo.splice(0,this.confVo.length),this.confVo=[];for(var e=0;e<t.confs.length;e++){var i=new MysticalShopConfVo2(t.confs[e]);this.confVo.push(i)}}if(null!=t.rb)for(e=0;e<this.confVo.length;e++)this.confVo[e].hasBuy=0;if(0<this.hasBuyList.length)for(e=0;e<this.hasBuyList.length;e++)for(var s=0;s<this.confVo.length;s++)if(this.confVo[s].index==this.hasBuyList[e].k){this.confVo[s].hasBuy=this.hasBuyList[e].v;break}this.ZU63(t)}},t}(ActivityVo);__reflect(MysticalShopData2.prototype,"MysticalShopData2");var C18=function(){function t(){}return t.A2=10001,t.A1=10002,t}();__reflect(C18.prototype,"C18");var RechargeRankControl2=function(i){function t(){var t=i.call(this)||this,e=new TC13(t);return e.aLV(O7.B37),e.aLV(O7.F69),e.aLV(O7.I64),App.VM.register(O7.B37,"RechargeRankView2",t,K17.UI_Main),App.VM.register(O7.A25,"RechargeRankListView2",t,K17.UI_Main_TOP),t.rgF(C18.A2,function(){return App.VM.open(O7.A25)},t),t.rgF(C18.A1,function(){return App.VM.close(O7.A25)},t),t.proxy=new TC14(t),t}return __extends(t,i),t}(TE11);__reflect(RechargeRankControl2.prototype,"RechargeRankControl2");var TC13=function(i){function t(t){var e=i.call(this,t)||this;return e.openState=!1,e}return __extends(t,i),t.prototype.ZC13=function(t){t&&(null!=this.actData?this.actData.updateData(t):this.actData=new RechargeRankData2(t))},t.prototype.updateRed=function(){},t.prototype.FL35=function(){return 0},t.prototype.notify=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];i.prototype.notifyView.apply(this,[this].concat(t))},t}(TG79);__reflect(TC13.prototype,"TC13");var TC14=function(e){function t(t){return e.call(this,t)||this}return __extends(t,e),t}(TG80);__reflect(TC14.prototype,"TC14");var TC65=function(){function t(){}return t.FE58=function(t){var e=[];if(!t||0===t.length)return e;if(10<t[0].nRank)return t.map(function(t,e){return t.index=e,t});for(var i=App.CM.gtM(O6.A10),s=Number(i.actData.tipsParams[0]),o=s-1;0<=o;o-=1){var r=t[o],n=void 0;n=r&&r.nRank===o+1?{sName:r.sName,noPalyer:!1,rm:r.rm,index:r.nRank-1,nRank:r.nRank}:(s=o,{sName:O3.tr(3304),noPalyer:!0,rm:0,index:o,nRank:o+1}),e.unshift(n)}for(o=s;o<t.length;o+=1){var a=t[o];e.push({sName:a.sName,noPalyer:!1,rm:a.rm,index:e.length,nRank:a.nRank})}return e},t}();__reflect(TC65.prototype,"TC65");var RechargeRankListView2=function(s){function t(t,e){var i=s.call(this,t,e)||this;return i.curIndex=0,i.pageNum=1,i.curPageNum=1,i.skinName="RechargeRankListSkin",i.dlg.ZU10().visible=!0,i}return __extends(t,s),t.prototype.initUI=function(){s.prototype.initUI.call(this);var t=App.CM.gtM(O6.A10);this.rankType=t.actData.rankType,this.dlg.title=O3.tr(6832),this.lbStr1.textFlow=M18.HTP.parser(O3.tr(6833)),this.lbStr2.textFlow=M18.HTP.parser(O3.tr(6834)),this.lbStr3.textFlow=M18.HTP.parser(O3.tr(6835));var e={render:RchargeRankListItem2,gap:0,width:this.listGroup.width,height:this.listGroup.height};this.listView=new CommonListBase(e),this.listGroup.addChild(this.listView),this.listView.verticalCenter=0,this.listView.horizontalCenter=0},t.prototype.open=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.listView.open(),this.dlg.ZM69(this.oCC,this),this.dlg.ZQ14(this.oCC,this),this.btnLeft.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickLeft,this),this.btnRight.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickRight,this),this.updateMyrank(),this.curPageNum=1,this.loadListData()},t.prototype.uBM=function(t,e){s.prototype.uBM.call(this,t,e),t instanceof TC13&&(e==P4.U30||e==P4.P76?this.oCC():this.loadListData()),t instanceof THH11&&e==P4.X79&&this.updateViews()},t.prototype.updateMyrank=function(){var t=App.CM.gtM(O6.A10);this.actData=t.actData;var e=this.actData.mine.r||0;if(100<e||e<=0){var i=O3.tr(3299,O3.tr(3252));this.myRankLb.textFlow=(new egret.HtmlTextParser).parser(i)}else{i=O3.tr(3299,e);this.myRankLb.textFlow=(new egret.HtmlTextParser).parser(i)}},t.prototype.updateViews=function(){var t=App.CM.gtM(O6.C19);if(t.rankList&&0<t.rankList.length){var e=TC65.FE58(t.rankList);this.listView.rfL(e)}this.curPageNum=null!=t.nCurrentPage?t.nCurrentPage:1,this.pageNum=null!=t.nAllPage?t.nAllPage:1,this.ZM92()},t.prototype.loadListData=function(){var t={type:this.rankType,currPage:this.curPageNum,size:10};App.CM.apF(O6.C19,O18.A5,t)},t.prototype.ZM92=function(){this.pageLb.text=this.curPageNum+"/"+this.pageNum},t.prototype.onClickLeft=function(){1!=this.curPageNum&&(this.curPageNum=this.curPageNum-1,this.loadListData(),this.ZM92())},t.prototype.onClickRight=function(){this.curPageNum>=this.pageNum||(this.curPageNum=this.curPageNum+1,this.loadListData(),this.ZM92())},t.prototype.oCC=function(){App.CM.apF(O6.A10,C18.A1)},t.prototype.close=function(){this.curPageNum=null,this.listView.close(),this.btnLeft.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickLeft,this),this.btnRight.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickRight,this),this.actData=null},t}(BaseEuiView);__reflect(RechargeRankListView2.prototype,"RechargeRankListView2");var RchargeRankListItem2=function(e){function t(){var t=e.call(this)||this;return t.skinName=ConsumeRankItemSkin,t}return __extends(t,e),t.prototype.dataChanged=function(){this.imgBg.visible=this.data.nRank%2!=0,this.lbRank.text=this.data.nRank,this.lbName.text=this.data.sName,this.lbConsumption.text="???";var t=App.CM.gtM(O6.A10).actData.mine.r,e=App.CM.gtM(O6.C19),i=TC65.FE58(e.rankList);if(null==t||100<t||0==t){var s=null!=e.nAllPage?e.nAllPage:1;e.nCurrentPage==s&&this.data.index==i.length-1&&(this.lbConsumption.text=Math.floor(100*this.data.rm)/100+"")}else this.data.nRank>=t-1&&this.data.nRank<=t+1&&(this.lbConsumption.text=Math.floor(100*this.data.rm)/100+"")},t}(eui.ItemRenderer);__reflect(RchargeRankListItem2.prototype,"RchargeRankListItem2");var RechargeRankView2=function(s){function t(t,e){var i=s.call(this,t,e)||this;return i.sGN("release_act1061"),i.skinName="RechargeRankSkin",i.labChecked.addEventListener(egret.TouchEvent.TOUCH_TAP,i.ZE67,i),i}return __extends(t,s),t.prototype.initUI=function(){s.prototype.initUI.call(this),this.labChecked.textFlow=M18.HTP.parse(O3.tr(3821))},t.prototype.open=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];s.prototype.open.apply(this,t)},t.prototype.ZE67=function(){App.CM.apF(O6.A10,C18.A2)},t.prototype.uBM=function(t){for(var i=this,e=[],s=1;s<arguments.length;s++)e[s-1]=arguments[s];if(t instanceof TC13&&(this.actData=t.actData,this.actData.rewardList.forEach(function(t,e){return i.updateAPage(i["content"+(e+1)],t.rs,t.re,t.rw)}),this.GX5(t),this.showBoss(this.actData.u),null==this.timerHandler))if(0<this.actData.rs){this.leftCD=this.actData.ZHH64();var o=O3.tr(3253,P6.FJ11(1e3*this.leftCD,5));this.leftCdLb.textFlow=M18.HTP.parse(o),this.timerHandler=App.K16.doTimer(1e3,this.leftCD,this.GY14,this)}else this.leftCdLb.text=""},t.prototype.showBoss=function(t){if(this.objBoss&&(this.grpBossArm.removeChildren(),this.objBoss.destory(),this.objBoss=null),t){this.objBoss=new FightGameObject,this.objBoss.action=Action.Stand;var e={x:0,y:0,dir:Dir.br,objType:P13.A6};this.objBoss.setBaseData(e),t.bt=BehaviourType.Attack_d,t.sr=1,this.objBoss.setData(t,this.grpBossArm)}},t.prototype.GX5=function(t){var e=Math.floor(100*(t.actData.mine.v||0))/100,i=t.actData.mine.r||0;this.myAmount.textFlow=M18.HTP.parser(O3.tr(3501,e)),this.myRankLb.textFlow=M18.HTP.parser(O3.tr(3299,100<i||i<=0?O3.tr(3252):i)),this.labNameOne.text=this.labName.text=t.actData.roles[0]?t.actData.roles[0].name:O3.tr(3304),this.labNameTwo.text=t.actData.roles[1]?t.actData.roles[1].name:O3.tr(3304),this.tips.text=O3.tr.apply(O3,[3502].concat(this.actData.tipsParams))},t.prototype.updateAPage=function(t,e,i,s){var o=this,r=t.getChildByName("rank"),n=t.getChildByName("scReward").getChildAt(0);r.text=e-i?O3.tr(6710,e,i):O3.tr(6711,e);var a=new eui.ArrayCollection;n.dataProvider=a,n.itemRenderer=rechargeItem2;var h=[];s.forEach(function(t){var e=N12.gID(t.k);h.push({itemData:{data:e,ct:t.v,texiao:o.actData.hasEffect(t.k)?TF59.FC9(e.quality):void 0},isBottom:!1,scale:.9})}),a.replaceAll(h)},t.prototype.GY14=function(){this.leftCD--;var t=O3.tr(3253,P6.FJ11(1e3*this.leftCD,5));this.leftCdLb.textFlow=M18.HTP.parse(t),this.leftCD<=0&&(this.cTH(),this.leftCdLb.text="")},t.prototype.cTH=function(){null!=this.timerHandler&&(App.K16.rBH(this.timerHandler),this.timerHandler=null)},t.prototype.close=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];s.prototype.close.call(this),this.labChecked.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.ZE67,this),this.actData=null,this.cTH(),this.grpBossArm.removeChildren(),this.objBoss&&(this.objBoss.destory(),this.objBoss=null)},t}(BaseEuiView);__reflect(RechargeRankView2.prototype,"RechargeRankView2");var rechargeItem2=function(i){function t(){return null!==i&&i.apply(this,arguments)||this}return __extends(t,i),t.prototype.setBottom=function(t){if(i.prototype.setBottom.call(this,t),!t){var e=this.getChildAt(0);this.height=e.height=80}},t}(ItemIcon);__reflect(rechargeItem2.prototype,"rechargeItem2");var RechargeRankData2=function(i){function t(t){var e=i.call(this,t)||this;return e.rewardList=[],e.roles=[],e.tipsParams=[],e.updateData(t),e.cost&&(e.tipsParams=e.cost.split("|")[0].split(",")),e}return __extends(t,i),t.prototype.updateData=function(t){this.rewardList=t.rw||this.rewardList,this.roles=t.r||this.roles,this.mine=t.me||this.mine,this.u=t.u||this.u,this.rankType=t.t||this.rankType,t&&this.ZU63(t)},t.prototype.hasEffect=function(t){return this.reward&&0<=this.reward.split(",").map(function(t){return parseInt(t)}).indexOf(t)},t}(ActivityVo);__reflect(RechargeRankData2.prototype,"RechargeRankData2");var TA35=function(i){function t(){var t=i.call(this)||this,e=new TB69(t);return e.aLV(O7.B95),e.aLV(O7.F69),t}return __extends(t,i),t}(TE11);__reflect(TA35.prototype,"TA35");var TB69=function(i){function t(t){var e=i.call(this,t)||this;return e.openState=!1,e.redNum=0,e.firstLoginRedNum=0,e}return __extends(t,i),t.prototype.ZC13=function(t){t&&(null!=this.actData?this.actData.ZU63(t):(this.actData=new ActivityVo(t),this.tips=this.actData.tips),this.updateRed())},t.prototype.updateRed=function(){this.redNum=this.FL35()},t.prototype.FL35=function(){return this.firstLoginRedNum},t.prototype.notify=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];i.prototype.notifyView.apply(this,[this].concat(t))},t}(TG79);__reflect(TB69.prototype,"TB69");var RechargeResetView2=function(s){function t(t,e){var i=s.call(this,t,e)||this;return i.sGN("release_act1046"),i.skinName=RechargeResetSkin,i}return __extends(t,s),t.prototype.initUI=function(){s.prototype.initUI.call(this),this.btnRecharge.label=O3.tr(3817)},t.prototype.open=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];s.prototype.open.call(this),this.btnRecharge.addEventListener(egret.TouchEvent.TOUCH_TAP,this.ZM93,this);var i=App.CM.gtM(O6.A19);this.bgImg.source=i.actData.picture,this.ZA17(i)},t.prototype.uBM=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];s.prototype.uBM.call(this,t,e),t instanceof TB69&&this.ZA17(t)},t.prototype.ZA17=function(t){this.leftCD=t.actData.ZHH64();var e=P6.FJ11(1e3*this.leftCD,5);this.lbTime.textFlow=M18.HTP.parser(O3.tr(3253,e)),this._timerHandler=App.K16.doTimer(1e3,this.leftCD,this.GY14,this)},t.prototype.GY14=function(){this.leftCD--;var t=P6.FJ11(1e3*this.leftCD,5);this.lbTime.textFlow=M18.HTP.parser(O3.tr(3253,t)),this.leftCD<=0&&(this.cTH(),this.lbTime.text="")},t.prototype.cTH=function(){null!=this._timerHandler&&(App.K16.rBH(this._timerHandler),this._timerHandler=null)},t.prototype.ZM93=function(){App.CM.apF(O6.C29,P8.A7)},t.prototype.close=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];s.prototype.close.call(this),this.btnRecharge.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.ZM93,this),this.cTH()},t}(BaseEuiView);__reflect(RechargeResetView2.prototype,"RechargeResetView2");var F12=function(){function t(){}return t.A4=10001,t.A3=10002,t.A1=10003,t.A2=10004,t}();__reflect(F12.prototype,"F12");var TB27=function(i){function t(){var t=i.call(this)||this,e=new TD76(t);return e.aLV(O7.F23),e.aLV(O7.F69),e.aLV(O7.I64),App.VM.register(O7.F23,"RingMatchView2",t,K17.UI_Main),t.rgF(F12.A4,t.GK53,t),t.rgF(F12.A3,t.GI55,t),t.ringMatchProxy=new TD77(t),t.rgF(F12.A1,t.GF11,t),t.rgF(F12.A2,t.GF12,t),t}return __extends(t,i),t.prototype.GF11=function(t){this.ringMatchProxy.GF11(t)},t.prototype.GF12=function(t){if(200==t.head.state){var e=t.body,i=this.gtM();i.ZC13(e),i.notify(),P5.sIs(t.body.ob)}else App.CM.apF(O6.B87,L10.A4,t)},t.prototype.GK53=function(){App.VM.open(O7.F23);var t=App.CM.gtM(O6.A69);t.firstLoginRedNum=0,t.notify()},t.prototype.GI55=function(){App.VM.close(O7.F23)},t}(TE11);__reflect(TB27.prototype,"TB27");var TD76=function(i){function t(t){var e=i.call(this,t)||this;return e.openState=!1,e.redNum=0,e.firstLoginRedNum=0,e}return __extends(t,i),t.prototype.ZC13=function(t){t&&(null!=this.actData?this.actData.updateData(t):(this.actData=new RingMatchData2(t),this.tips=this.actData.tips))},t.prototype.updateRed=function(){this.redNum=this.FL35()},t.prototype.FL35=function(){var t=0;t+=this.firstLoginRedNum;var e=this.actData.confVo;for(var i in e)if(e[i].getState==J13.A3){t+=1;break}return t},t.prototype.notify=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];i.prototype.notifyView.apply(this,[this].concat(t))},t}(TG79);__reflect(TD76.prototype,"TD76");var TD77=function(i){function t(t){var e=i.call(this,t)||this;return e.rSM(P4.D54,e.GF12,e),e}return __extends(t,i),t.prototype.GF11=function(t){var e={type:P4.D53,body:{index:t}};this.sSM(e)},t.prototype.GF12=function(t){this.apF(F12.A2,t)},t}(TG80);__reflect(TD77.prototype,"TD77");var RingMatchItemView2=function(e){function t(){var t=e.call(this)||this;return t.skinName=ChapterBreakItemSkin,t.addEventListener(egret.Event.ADDED_TO_STAGE,t.open,t),t.addEventListener(egret.Event.REMOVED_FROM_STAGE,t.close,t),t}return __extends(t,e),t.prototype.open=function(){this.getBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.ZU29,this)},t.prototype.close=function(){this.getBtn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.ZU29,this),this.dataSource.removeAll()},t.prototype.childrenCreated=function(){e.prototype.createChildren.call(this),this.initUI()},t.prototype.initUI=function(){this.listContent.itemRenderer=ItemIcon,this.dataSource=new eui.ArrayCollection,this.listContent.dataProvider=this.dataSource,this.awardsSc.viewport=this.listContent,this.awardsSc.scrollPolicyH=eui.ScrollPolicy.OFF,this.awardsSc.scrollPolicyV=eui.ScrollPolicy.OFF,this.getImg.$setVisible(!1)},t.prototype.dataChanged=function(){e.prototype.dataChanged.call(this),this.titleLb.textFlow=M18.HTP.parser(this.data.title),this.titleBgImg.width=this.titleLb.width+55,this.getBtn.imgNew.visible=!1,this.data.getState==J13.A1?(this.getBtn.bgStr="v1_btn_green_1_png",this.getBtn.label=O3.tr(3235),this.getBtn.$setVisible(!0),this.getImg.$setVisible(!1)):this.data.getState==J13.A3?(this.getBtn.colour=_ccBtn.brown,this.getBtn.bgStr="v1_btn_yellow_1_png",this.getBtn.label=O3.tr(3232),this.getBtn.$setVisible(!0),this.getImg.$setVisible(!1),this.getBtn.imgNew.visible=!0):(this.getBtn.$setVisible(!1),this.getImg.$setVisible(!0)),this.ZJ81(this.data.award)},t.prototype.ZJ81=function(t){var e=[];for(var i in t){var s={itemData:{data:N12.gID(t[i].k),ct:t[i].v},isBottom:!1};e.push(s)}this.dataSource.replaceAll(e)},t.prototype.ZU29=function(){this.data.getState==J13.A1?App.CM.apF(O6.C4,N6.A31):this.data.getState==J13.A3&&App.CM.apF(O6.A69,F12.A1,this.data.index)},t}(eui.ItemRenderer);__reflect(RingMatchItemView2.prototype,"RingMatchItemView2");var RingMatchView2=function(s){function t(t,e){var i=s.call(this,t,e)||this;return i.skinName=ChapterBreakSkin,i}return __extends(t,s),t.prototype.initUI=function(){s.prototype.initUI.call(this),this.banner.source="v1_bg_qumindaofl7_jpg";var t={render:RingMatchItemView2,gap:5,width:this.listGroup.width,height:this.listGroup.height,arrowScale:1};this.listView=new CommonListBase(t),this.listGroup.addChild(this.listView),this.listView.verticalCenter=0,this.listView.horizontalCenter=0,this.goBtn.label=O3.tr(3775)},t.prototype.open=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];s.prototype.open.call(this),this.goBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickGoBtn,this),this.listView.open();var i=App.CM.gtM(O6.A69);this.ZC18(i)},t.prototype.onClickGoBtn=function(){App.CM.apF(O6.C4,N6.A31)},t.prototype.ZC18=function(t){if(t.actData){this.actData=t.actData;var e=this.actData.getTopRank(),i=void 0;if(0<e){var s=O3.tr(3291,e);i=O3.tr(3290,s)}else i=O3.tr(3290,O3.tr(3292));if(this.missionLb.textFlow=M18.HTP.parser(i),null==this.timerHandler)if(0<this.actData.rs){this.leftCD=this.actData.ZHH64();var o=O3.tr(3253,P6.FJ11(1e3*this.leftCD,5));this.cdLb.textFlow=M18.HTP.parser(o),this.timerHandler=App.K16.doTimer(1e3,this.leftCD,this.GY14,this)}else this.cdLb.text="";var r=this.actData.confVo;this.listView.rfL(r)}},t.prototype.uBM=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];s.prototype.uBM.call(this,t,e),t instanceof TD76&&this.ZC18(t)},t.prototype.GY14=function(){this.leftCD--;var t=O3.tr(3253,P6.FJ11(1e3*this.leftCD,5));this.cdLb.textFlow=M18.HTP.parser(t),this.leftCD<=0&&(this.cTH(),this.cdLb.text="")},t.prototype.cTH=function(){null!=this.timerHandler&&(App.K16.rBH(this.timerHandler),this.timerHandler=null)},t.prototype.close=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];s.prototype.close.call(this),this.goBtn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickGoBtn,this),this.cTH(),this.listView.close()},t}(BaseEuiView);__reflect(RingMatchView2.prototype,"RingMatchView2");var ArenaRankActResConfVo2=function(){function t(t){this._title="",this.getState=J13.A1,this.initData(t)}return t.prototype.initData=function(t){t&&(this.index=t.index,this.rank=t.rank,this.award=t.award,this.title=O3.tr(3293,this.rank))},Object.defineProperty(t.prototype,"getState",{get:function(){return this._getState},set:function(t){this._getState=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"title",{get:function(){return this._title},set:function(t){this._title=t},enumerable:!0,configurable:!0}),t}();__reflect(ArenaRankActResConfVo2.prototype,"ArenaRankActResConfVo2");var RingMatchData2=function(i){function t(t){var e=i.call(this,t)||this;return e.confVo=[],e.hasGotList=[],e.nTopRank=0,e.updateData(t),e}return __extends(t,i),t.prototype.updateData=function(t){if(t){this.hasGotList=t.yaw||this.hasGotList;var e=App.CM.gtM(O6.C4);if(e&&(this.nTopRank=e.nTopRank),t.confs){null!=this.confVo&&0<this.confVo.length&&this.confVo.splice(0,this.confVo.length),this.confVo=[];for(var i=0;i<t.confs.length;i++){var s=new ArenaRankActResConfVo2(t.confs[i]);this.confVo.push(s)}}if(0<this.hasGotList.length)for(var i in this.confVo)for(var o in this.hasGotList)if(this.confVo[i].index==this.hasGotList[o]){this.confVo[i].getState=J13.A2;break}for(var i in this.confVo){var r=this.confVo[i];0<this.nTopRank&&this.nTopRank<=r.rank&&r.getState!=J13.A2&&(this.confVo[i].getState=J13.A3)}this.confVo.sort(function(t,e){return t.getState==e.getState?t.index-e.index:t.getState-e.getState}),this.ZU63(t)}},t.prototype.getTopRank=function(){return this.nTopRank},t}(ActivityVo);__reflect(RingMatchData2.prototype,"RingMatchData2");var ActivityBaseView=function(p){function t(t,e,i,s){var o=p.call(this,t,e)||this;o.actData=[],o.data=[],o.itemNum=6,o.skinName="CarnivalActBaseSkin",o.ae=s,o.view=i;for(var r=TE12.FC8(o.ae),n=0;n<r.length;n++){var a=r[n].id,h=TF59.FB46(a);null!=h&&App.VM.rgS(o.view,h.id,h.view,o.content)}return o}return __extends(t,p),t.prototype.initUI=function(){p.prototype.initUI.call(this),this.autoOut.visible=!1,this.title.textFlow=M18.HTP.parse(O3.tr(4900)),this.topScroller.viewport=this.topList,this.topScroller.scrollPolicyV=eui.ScrollPolicy.OFF,this.topCollection=new eui.ArrayCollection,this.topList.dataProvider=this.topCollection,this.topList.itemRenderer=CarnivalActIconView,this.autoOut.label=O3.tr(3876)},t.prototype.initData=function(){p.prototype.initData.call(this)},t.prototype.open=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.lbDes.text="",p.prototype.open.call(this,t),this.curView=t[0]||this.actData[0]&&this.actData[0].view,this.ZU39(),App.VM.open(this.curView),this.curView==this.actData[0].view&&(this.topList.scrollH=0),t[1]&&App.K16.doFrame(1,1,this.delayCall,this),this.bgMask.addEventListener(egret.TouchEvent.TOUCH_TAP,this.closeSelf,this),this.closeBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.closeSelf,this),this.backBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.closeSelf,this),this.leftGroup.addEventListener(egret.TouchEvent.TOUCH_TAP,this.ZQ40,this),this.rightGroup.addEventListener(egret.TouchEvent.TOUCH_TAP,this.ZM90,this),this.topScroller.addEventListener(eui.UIEvent.CHANGE_END,this.endScroller,this),this.autoOut.addEventListener(egret.Event.CHANGE,this.ZQ48,this),TF59.FJ22(this.curView,this.diImg,this.contentImg);var i=App.CM.gtM(O6.B82);this.ZE70(i)},t.prototype.delayCall=function(){if(this.actData.length<=this.itemNum)this.topList.scrollH=0;else{var t=this.topList.contentWidth/this.actData.length,e=this.ZE69(this.curView);e>=this.actData.length-this.itemNum&&(e=this.actData.length-this.itemNum),this.topList.scrollH=e*t}},t.prototype.ZQ48=function(){App.CM.apF(O6.B82,L13.A60,this.autoOut.selected)},t.prototype.ZM94=function(e){for(var t=function(t){t==e?(i.data[t].texiao=1,i.data[t].model.firstLoginRedNum=0,egret.Tween.get(i).wait(100).call(function(){this.data[t].model.notify()},i)):i.data[t].texiao=0},i=this,s=0;s<this.actData.length;s++)t(s);this.topCollection.replaceAll(this.data)},t.prototype.uBM=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];p.prototype.uBM.call(this,t,e);var s=e&&e[0]&&0<e[0].length?e[0]:"";s==P4.R37||s==P4.U30||s==P4.P76?(this.ZU39(),App.VM.open(this.curView)):this.ZQ44(t),this.endScroller(),t instanceof TG12&&this.ZE70(t)},t.prototype.ZE70=function(t){this.autoOut.$setSelected(1==t.avatarInfo.btj)},t.prototype.ZU39=function(){var t=TF59.FA2(this.ae);if(this.actData=t,0<this.data.length&&(this.data.splice(0,this.data.length),this.data=[]),0<this.actData.length){for(var e=0;e<this.actData.length;e++){var i={icon:this.actData[e].icon,type:this.actData[e].type,name:this.actData[e].name,red:this.actData[e].red,texiao:0,model:this.actData[e].model,subView:this.actData[e].view,mainView:this.view};this.data.push(i)}this.ZE69(this.curView)<0&&(this.curView=this.actData[0].view),this.ZM94(this.ZE69(this.curView))}else this.closeSelf()},t.prototype.ZQ44=function(t){var e;if(t.actid){var i=TF59.FB46(t.actid);-1!=i&&0<=(e=this.ZE69(i.id))&&(this.data[e].red=t.FL35())}this.topCollection.replaceAll(this.data)},t.prototype.endScroller=function(){if(this.topScroller.validateNow(),this.leftGroup.visible=!(this.topScroller.viewport.scrollH<=0),this.topScroller.viewport.contentWidth<=this.topScroller.width)this.rightGroup.visible=!1;else{this.topScroller.width+this.topScroller.viewport.scrollH>=this.topScroller.viewport.contentWidth?this.rightGroup.visible=!1:this.rightGroup.visible=!0,this.redLeft.visible=!1,this.redRight.visible=!1;for(var t=this.topScroller.viewport.scrollH,e=0;93<=t;)t-=93,e++;var i=e+this.itemNum-1,s=this.topCollection.getItemAt(this.topCollection.length-1);if(i>s.index&&(i=s.index),this.leftGroup.visible)for(var o=0;o<this.topCollection.length;o++){var r=this.topCollection.getItemAt(o);if(!(e<=o)&&0<r.red){this.redLeft.visible=!0;break}}if(this.rightGroup.visible)for(o=0;o<this.topCollection.length;o++){var n=this.topCollection.getItemAt(o);if(!(o<=i)&&0<n.red){this.redRight.visible=!0;break}}}},t.prototype.ZQ40=function(){var t=this.topScroller.viewport.scrollH-559;this.topScroller.viewport.scrollH=t<0?0:t,this.endScroller(),TG40.playClickEffect()},t.prototype.ZM90=function(){var t=this.topScroller.viewport.scrollH+559;t+this.topScroller.width>=this.topScroller.viewport.contentWidth?this.topScroller.viewport.scrollH=this.topScroller.viewport.contentWidth-this.topScroller.width:this.topScroller.viewport.scrollH=t,this.endScroller(),TG40.playClickEffect()},t.prototype.close=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];p.prototype.close.call(this,t),this.bgMask.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.closeSelf,this),this.closeBtn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.closeSelf,this),this.backBtn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.closeSelf,this),this.leftGroup.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.ZQ40,this),this.rightGroup.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.ZM90,this),this.topScroller.removeEventListener(eui.UIEvent.CHANGE_END,this.endScroller,this),this.autoOut.removeEventListener(egret.Event.CHANGE,this.ZQ48,this),this.curView=null,this.topCollection.removeAll(),egret.Tween.removeTweens(this)},t.prototype.closeSelf=function(){App.VM.GY64(this)},t.prototype.ZE69=function(t){var e=-1;if(null!=this.actData)for(var i=0;i<this.actData.length;i++)if(this.actData[i].view==t){e=i;break}return e},t.prototype.ZG19=function(t){var e=-1;if(null!=this.actData)for(var i=0;i<this.actData.length;i++)this.actData[i].view==t&&(e=i);return e},t}(BaseEuiView);__reflect(ActivityBaseView.prototype,"ActivityBaseView");var MergeServerBaseView=function(i){function t(t,e){return i.call(this,t,e,O7.F69,F17.A1)||this}return __extends(t,i),t}(ActivityBaseView);__reflect(MergeServerBaseView.prototype,"MergeServerBaseView");var F10=function(){function t(){}return t.A2=10001,t.A1=10002,t}();__reflect(F10.prototype,"F10");var TB28=function(e){function t(){var t=e.call(this)||this;return App.VM.register(O7.D33,"OpenSerActMainView",t,K17.UI_Main),t.rgF(F10.A2,t.GD26,t),t.rgF(F10.A1,t.GC31,t),t}return __extends(t,e),t.prototype.GD26=function(t){App.VM.open(O7.D33,t)},t.prototype.GC31=function(){App.VM.close(O7.D33)},t}(TE11);__reflect(TB28.prototype,"TB28");var E8=function(){function t(){}return t.A2=10001,t.A1=10002,t}();__reflect(E8.prototype,"E8");var TB2=function(i){function t(){var t=i.call(this)||this,e=new TD27(t);return e.aLV(O7.G5),e.aLV(O7.C32),e.aLV(O7.I64),e.aLV(O7.HH30),App.VM.register(O7.G5,"AdvanceRankView",t,K17.UI_Main),t.rgF(E8.A2,t.GG84,t),t.rgF(E8.A1,t.GF27,t),t.advanceRankProxy=new TD28(t),t}return __extends(t,i),t.prototype.GG84=function(){App.VM.open(O7.G5);var t=App.CM.gtM(O6.A75);t.firstLoginRedNum=0,t.notify()},t.prototype.GF27=function(){App.VM.close(O7.G5)},t}(TE11);__reflect(TB2.prototype,"TB2");var TD27=function(i){function t(t){var e=i.call(this,t)||this;return e.openState=!1,e.redNum=0,e.firstLoginRedNum=0,e}return __extends(t,i),t.prototype.ZC13=function(t){t&&(null!=this.advanceRankData?this.advanceRankData.updateData(t):(this.advanceRankData=new AdvanceRankData(t),this.tips=this.advanceRankData.tips),this.updateRed())},t.prototype.updateRed=function(){this.redNum=this.FL35()},t.prototype.FL35=function(){var t=0;return t+=this.firstLoginRedNum},t.prototype.notify=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];i.prototype.notifyView.call(this,this,t)},t}(TG79);__reflect(TD27.prototype,"TD27");var TD28=function(e){function t(t){return e.call(this,t)||this}return __extends(t,e),t}(TG80);__reflect(TD28.prototype,"TD28");var TD78=function(){function t(){}return t.FK41=function(t){for(var e=[],i=0;i<t.length;i++){var s=t[i];e.push({itemData:s,isBottom:!1,scale:.85})}return e},t.FD68=function(){var t={},e=App.CM.gtM(O6.A75).advanceRankData,i=e.ranks,s=M18.FL28(e.reward,"|",","),o=M18.FL28(e.rank,"|",",");i[0]?(t.name=i[0].name,t.score=i[0].score,t.firstModel=i[0].u):(t.name="",t.score=""),t.awd=P7.FF58(s[0][1]),t.limitLv=o[0][1],t.titleId=o[0][2];var r=K18.title[t.titleId];return t.itemId=null==r?"":r.item,t.desc=o[0][3],t},t.FE58=function(){for(var t=[],e=App.CM.gtM(O6.A75).advanceRankData,i=e.ranks,s=M18.FL28(e.reward,"|",","),o=M18.FL28(e.rank,"|",","),r=1;r<s.length;r++){var n=s[r][0].split("-"),a=parseInt(n[0]),h=parseInt(n[1]),p={};p.rank=a,p.rankStr=a==h?p.rank+"":a+"-"+h,i[r]?p.name=i[r].name:p.name="",p.awd=P7.FF58(s[r][1]),p.limitLv=o[r][1],p.titleId=o[r][2];var l=K18.title[p.titleId];p.itemId=l.item,p.desc=o[r][3],t.push(p)}return t},t}();__reflect(TD78.prototype,"TD78");var AdvanceRankView=function(s){function t(t,e){var i=s.call(this,t,e)||this;return i.listData=[],i.skinName=AdvanceRankSkin,i}return __extends(t,s),t.prototype.initUI=function(){s.prototype.initUI.call(this),this.createList(),this.goAdvanceBtn.label=O3.tr(3737)},t.prototype.createList=function(){var t={render:AdvanceRankItem,gap:5,width:this.listGroup.width,height:this.listGroup.height};this.listView=new CommonListBase(t),this.listGroup.addChild(this.listView),this.listView.verticalCenter=0,this.listView.horizontalCenter=0,this.dgRewards.itemRenderer=ItemIcon,this.rewardsCollection=new eui.ArrayCollection,this.dgRewards.dataProvider=this.rewardsCollection,this.awardsSc.viewport=this.dgRewards,this.awardsSc.scrollPolicyV=eui.ScrollPolicy.OFF},t.prototype.updateList=function(t){var e=t.advanceRankData.config.rankId,i=TD78.FD68();this.nameLb.textFlow=M18.HTP.parse(O3.tr(3738,i.name));var s=TG75.FF35(e);this.scoreLb.text=O3.tr(3308,s,i.score);var o=O3.tr(3307,"1",i.limitLv);this.limitLb.textFlow=M18.HTP.parse(o),this.descLb.textFlow=M18.HTP.parse(i.desc);var r=O1.init[i.titleId];this.chImg.source=String(r.picture).replace(".","_");var n=TD78.FK41(i.awd);this.rewardsCollection.replaceAll(n),this.showBoss(i.firstModel),this.chItemId=i.itemId,this.listData=TD78.FE58(),this.listView.rfL(this.listData)},t.prototype.open=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];s.prototype.open.call(this),this.listView.open(),this.goAdvanceBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.ZQ75,this),this.chImg.addEventListener(egret.TouchEvent.TOUCH_TAP,this.chDetail,this);var i=App.CM.gtM(O6.A75);this.ZB29(i)},t.prototype.chDetail=function(){var t=N12.gID(this.chItemId);P5.FC75(t)},t.prototype.uBM=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];s.prototype.uBM.call(this,t,e),t instanceof TD27&&this.ZB29(t)},t.prototype.ZB29=function(t){var e=t.advanceRankData,i=e.myRank.rank||0;if(100<i||i<=0){var s=O3.tr(3251,O3.tr(3252));this.myRankLb.textFlow=M18.HTP.parser(s)}else{s=O3.tr(3251,i);this.myRankLb.textFlow=M18.HTP.parser(s)}if(this.updateList(t),null==this._timerHandler)if(0<e.zeroCD){this.zeroCD=e.getZeroCD();s=O3.tr(3253,P6.FJ11(1e3*this.zeroCD,5));this.leftCdLb.textFlow=M18.HTP.parser(s),this._timerHandler=App.K16.doTimer(1e3,this.zeroCD,this.GY14,this)}else this.leftCdLb.text=""},t.prototype.GY14=function(){this.zeroCD--;var t=O3.tr(3253,P6.FJ11(1e3*this.zeroCD,5));this.leftCdLb.textFlow=M18.HTP.parser(t),this.zeroCD<=0&&(this.cTH(),this.leftCdLb.text="")},t.prototype.cTH=function(){null!=this._timerHandler&&(App.K16.rBH(this._timerHandler),this._timerHandler=null)},t.prototype.close=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];s.prototype.close.call(this),this.goAdvanceBtn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.ZQ75,this),this.chImg.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.chDetail,this),this.cTH(),this.listView.close(),this.rewardsCollection.removeAll(),this.grpBossArm.removeChildren(),this.objBoss.destory(),this.objBoss=null},t.prototype.showBoss=function(t){this.objBoss&&(this.grpBossArm.removeChildren(),this.objBoss.destory(),this.objBoss=null),this.objBoss=new FightGameObject,this.objBoss.action=Action.Stand;var e={x:0,y:0,dir:Dir.br,objType:P13.A6};this.objBoss.setBaseData(e),t.bt=BehaviourType.Attack_d,t.sr=1,this.objBoss.setData(t,this.grpBossArm)},t.prototype.ZQ75=function(){var t=App.CM.gtM(O6.A75).advanceRankData,e=new MissionData;e.sLink=t.sLink,TG84.goToDlg(e)},t}(BaseEuiView);__reflect(AdvanceRankView.prototype,"AdvanceRankView");var AdvanceRankItem=function(e){function t(){var t=e.call(this)||this;return t.skinName=RankItemSkin,t.addEventListener(egret.Event.ADDED_TO_STAGE,t.open,t),t.addEventListener(egret.Event.REMOVED_FROM_STAGE,t.close,t),t}return __extends(t,e),t.prototype.open=function(){this.chImg.addEventListener(egret.TouchEvent.TOUCH_TAP,this.chDetail,this)},t.prototype.close=function(){this.chImg.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.chDetail,this),this.rewardsCollection.removeAll()},t.prototype.childrenCreated=function(){e.prototype.createChildren.call(this),this.initUI()},t.prototype.initUI=function(){this.dgRewards.itemRenderer=ItemIcon,this.rewardsCollection=new eui.ArrayCollection,this.dgRewards.dataProvider=this.rewardsCollection,this.awardsSc.viewport=this.dgRewards,this.awardsSc.scrollPolicyV=eui.ScrollPolicy.OFF},t.prototype.chDetail=function(){var t=N12.gID(this.data.itemId);P5.FC75(t)},t.prototype.dataChanged=function(){2==this.data.rank&&(this.fontImg.source="v1_fonts_2nd_png"),3==this.data.rank&&(this.fontImg.source="v1_fonts_3rd_png"),4==this.data.rank&&(this.fontImg.source="v1_fonts_4th_png"),this.data.rank<4?(this.nameLb.textFlow=M18.HTP.parse(O3.tr(3739,this.data.name)),this.nameLb.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.ZQ76,this)):(this.nameLb.textFlow=M18.HTP.parse(O3.tr(3740)),this.nameLb.addEventListener(egret.TouchEvent.TOUCH_TAP,this.ZQ76,this));var t=O3.tr(3307,this.data.rankStr,this.data.limitLv);this.limitLb.textFlow=M18.HTP.parse(t),this.descLb.textFlow=M18.HTP.parse(this.data.desc);var e=O1.init[this.data.titleId];this.chImg.source=String(e.picture).replace(".","_");var i=TD78.FK41(this.data.awd);this.rewardsCollection.replaceAll(i)},t.prototype.ZQ76=function(){var t=App.CM.gtM(O6.A75).advanceRankData.config.rankId-1,e=App.CM.gtM(O6.B82),i=Number(TG75.init.openLv.value);if(e.avatarInfo.l<i){var s=K18.init.commonDesc1.value;P18.sDP(M18.format(s,[i]))}else App.CM.apF(O6.C19,O18.A4,t)},t}(eui.ItemRenderer);__reflect(AdvanceRankItem.prototype,"AdvanceRankItem");var AdvanceRankConfVo=function(t){this.rankId=t.rankId,this.rewards=t.rewards,this.titles=t.titles};__reflect(AdvanceRankConfVo.prototype,"AdvanceRankConfVo");var AdvanceRankData=function(i){function t(t){var e=i.call(this,t)||this;return e.zeroCD=0,e.updateData(t),e.sLink=parseInt(e.more),e}return __extends(t,i),t.prototype.updateData=function(t){t&&(this.zeroCD=null==t.cd?this.zeroCD:t.cd,this.ranks=t.ranks||this.ranks,this.myRank=t.myRank||this.myRank,t.config&&(this.config=new AdvanceRankConfVo(t.config)),t.cd&&(this.lastLoadTime=P6.getTime(!0)),this.ZU63(t))},t.prototype.getZeroCD=function(){var t=P6.getTime(!0)-this.lastLoadTime,e=this.zeroCD-t;return 0<e?e:0},t}(ActivityVo);__reflect(AdvanceRankData.prototype,"AdvanceRankData");var I14=function(){function t(){}return t.A4=10001,t.A3=10002,t.A1=10003,t.A2=10004,t}();__reflect(I14.prototype,"I14");var TC15=function(i){function t(){var t=i.call(this)||this,e=new TF26(t);return e.aLV(O7.I20),e.aLV(O7.C32),e.aLV(O7.I64),App.VM.register(O7.I20,"GodTrialView",t,K17.UI_Main),t.rgF(I14.A4,t.GM41,t),t.rgF(I14.A3,t.GK68,t),t.godTrialProxy=new TF27(t),t.rgF(I14.A1,t.GM39,t),t.rgF(I14.A2,t.GM40,t),t}return __extends(t,i),t.prototype.GM39=function(){P7.FF59()&&this.godTrialProxy.GM39()},t.prototype.GM40=function(t){if(200!=t.head.state)return App.CM.apF(O6.B87,L10.A4,t),void this.ZT94(O6.B99,N1.A5);TF59.FD61(F7.B11);var e=t.body,i=this.gtM();i.ZC13(e),i.notify(),App.CM.apF(O6.B99,N1.A11,e.rst,{rewards:e.ob,needResult:!0,help:!1,type:P15.A22},function(t,e){e&&TF59.FE54(F7.B11)},this)},t.prototype.GM41=function(){App.VM.open(O7.I20);var t=App.CM.gtM(O6.B46);t.firstLoginRedNum=0,t.notify()},t.prototype.GK68=function(){App.VM.close(O7.I20)},t}(TE11);__reflect(TC15.prototype,"TC15");var TF26=function(i){function t(t){var e=i.call(this,t)||this;return e.openState=!1,e.redNum=0,e.firstLoginRedNum=0,e}return __extends(t,i),t.prototype.ZC13=function(t){t&&(null!=this.godTrialData?this.godTrialData.updateData(t):(this.godTrialData=new GodTrialData(t),this.tips=this.godTrialData.tips),this.updateRed())},t.prototype.updateRed=function(){this.redNum=this.FL35()},t.prototype.FL35=function(){var t=0;return this.godTrialData.hasWinPost<this.godTrialData.godTrialConfVo.length&&(t+=this.firstLoginRedNum),t},t.prototype.notify=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];i.prototype.notifyView.call(this,this,t)},t}(TG79);__reflect(TF26.prototype,"TF26");var TF27=function(i){function t(t){var e=i.call(this,t)||this;return e.rSM(P4.R40,e.GM40,e),e}return __extends(t,i),t.prototype.GM39=function(){var t={type:P4.R39,body:{}};this.sSM(t)},t.prototype.GM40=function(t){this.apF(I14.A2,t)},t}(TG80);__reflect(TF27.prototype,"TF27");var TF72=function(){};__reflect(TF72.prototype,"TF72");var GodTrialView=function(s){function t(t,e){var i=s.call(this,t,e)||this;return i.listData=[],i.listData1=[],i.curSelect=0,i.itemNum=5,i.sGN("release_act1019"),i.skinName=GodTrialSkin,i}return __extends(t,s),t.prototype.initUI=function(){s.prototype.initUI.call(this),this.postList.itemRenderer=GodTrialPostIconView,this.dataSource=new eui.ArrayCollection(this.listData),this.postList.dataProvider=this.dataSource,this.postList1.itemRenderer=GodTrialPostExIconView,this.dataSource1=new eui.ArrayCollection(this.listData1),this.postList1.dataProvider=this.dataSource1,this.postScroller.viewport=this.postGrp,this.postScroller.scrollPolicyV=eui.ScrollPolicy.OFF,this.dgRewards.itemRenderer=ItemIcon,this.rewardsCollection=new eui.ArrayCollection,this.dgRewards.dataProvider=this.rewardsCollection,this.awardsSc.viewport=this.dgRewards,this.awardsSc.scrollPolicyV=eui.ScrollPolicy.OFF,this.challengeBtn.label=O3.tr(3742),this.lbltongguan.textFlow=M18.HTP.parse(O3.tr(3741))},t.prototype.updateList=function(){this.listData=this.godTrialData.FK2(),this.listData1=this.godTrialData.ZU84(),this.dataSource.replaceAll(this.listData),this.dataSource1.replaceAll(this.listData1)},t.prototype.open=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];s.prototype.open.call(this),this.challengeBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.ZQ78,this),this.leftArrowImg.addEventListener(egret.TouchEvent.TOUCH_TAP,this.ZQ40,this),this.rightArrowImg.addEventListener(egret.TouchEvent.TOUCH_TAP,this.ZM90,this),this.btnTujian.addEventListener(egret.TouchEvent.TOUCH_TAP,this.openTj,this),this.postList.addEventListener(eui.ItemTapEvent.ITEM_TAP,this.ZN17,this),this.postList1.addEventListener(eui.ItemTapEvent.ITEM_TAP,this.ZK6,this);var i=App.CM.gtM(O6.B46);this.godTrialData=i.godTrialData,this.listData=i.godTrialData.godTrialConfVo,this.godTrialData.hasWinPost>=this.godTrialData.ms[0]?(this.exGrp.includeInLayout=this.exGrp.visible=!0,this.dialogLb.textFlow=M18.HTP.parser(i.godTrialData.note.split("|")[1])):(this.exGrp.includeInLayout=this.exGrp.visible=!1,this.dialogLb.textFlow=M18.HTP.parser(i.godTrialData.note.split("|")[0])),i.godTrialData.hasWinPost<i.godTrialData.godTrialConfVo.length&&(this.curSelect=i.godTrialData.hasWinPost),this.curSelect=this.curSelect||0,this.ZC90(i),this.curSelect>=this.itemNum?App.K16.doFrame(1,1,this.delayCall,this):this.postGrp.scrollH=0},t.prototype.ZQ40=function(){var t=Math.ceil((this.postGrp.scrollH-110*this.itemNum)/110);t<this.itemNum&&(t=0),this.postGrp.scrollH=110*t},t.prototype.ZM90=function(){if(!(this.listData.length+this.listData1.length<=this.itemNum)){var t=Math.ceil((this.postGrp.scrollH+115*this.itemNum)/115),e=this.exGrp.visible?this.listData1.length:0;t>=this.listData.length+e-this.itemNum&&(t=this.listData.length+e-this.itemNum),this.postGrp.scrollH=115*t}},t.prototype.delayCall=function(){var t=this.curSelect,e=this.exGrp.visible?this.listData1.length:0;t>=this.listData.length+e-this.itemNum&&(t=this.listData.length+e-this.itemNum),this.postGrp.scrollH=110*t},t.prototype.uBM=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];s.prototype.uBM.call(this,t,e),t instanceof TF26&&this.ZC90(t)},t.prototype.ZC90=function(t){if(this.godTrialData=t.godTrialData,this.updateList(),null==this.timerHandler)if(0<this.godTrialData.rs){this.leftCD=this.godTrialData.ZHH64();var e=O3.tr(3253,P6.FJ11(1e3*this.leftCD,5));this.leftCdLb.textFlow=M18.HTP.parse(e),this.timerHandler=App.K16.doTimer(1e3,this.leftCD,this.GY14,this)}else this.leftCdLb.text="";this.curSelect<this.godTrialData.ms[0]?this.postList.selectedIndex=this.curSelect:this.postList1.selectedIndex=this.curSelect-this.godTrialData.ms[0],this.ZQ77(this.curSelect)},t.prototype.ZN17=function(t){this.curSelect=t.itemIndex;var e=this.postList1.selectedItem;e&&(e.currentState="up",e.selected=!1),this.postList1.selectedIndex=-1,this.ZQ77(this.curSelect)},t.prototype.ZK6=function(t){this.curSelect=this.godTrialData.ms[0]+t.itemIndex;var e=this.postList.selectedItem;e&&(e.currentState="up",e.selected=!1),this.postList.selectedIndex=-1,this.ZQ77(this.curSelect)},t.prototype.ZQ77=function(t){var e=this.godTrialData.godTrialConfVo[t],i=P7.FB45(e.id);this.postLb.text=O3.tr(3277,i),this.curSelect>=this.godTrialData.ms[0]?this.diImg.source="v1_img_sjslxinzeng_png":this.diImg.source="v1_img_shjashlian_jpg",this.challengeBtn.$setVisible(1!=e.killState),e.id==this.godTrialData.hasWinPost+1?(P16.sGF(this.challengeBtn,!1),this.challengeBtn.$setTouchEnabled(!0)):(P16.sGF(this.challengeBtn,!0),this.challengeBtn.$setTouchEnabled(!1)),this.objBoss||(this.objBoss=new FightGameObject);var s=N14.FF4(e.figure),o={id:parseInt(s.model),x:0,y:0,dir:Dir.br,objType:P13.A6,bt:BehaviourType.Attack_d,sr:1};this.objBoss.setData(o,this.grpBossArm),this.objBoss.action=Action.Stand;var r=this.FK41(e.awd);this.rewardsCollection.replaceAll(r)},t.prototype.openTj=function(){var t=this.godTrialData.godTrialConfVo[this.curSelect];App.CM.apF(O6.C12,O8.B9,t.figure)},t.prototype.FK41=function(t){var e=[],i=!0;P7.FM14()&&(i=!1);for(var s=0;s<t.length;s++){var o=N12.gID(t[s].k);if(o){o.ct=t[s].v;var r={data:o,ct:o.ct};e.push({itemData:r,isBottom:i,scale:.9,fl:0})}}return e},t.prototype.GY14=function(){this.leftCD--;var t=O3.tr(3253,P6.FJ11(1e3*this.leftCD,5));this.leftCdLb.textFlow=M18.HTP.parse(t),this.leftCD<=0&&(this.cTH(),this.leftCdLb.text="")},t.prototype.cTH=function(){null!=this.timerHandler&&(App.K16.rBH(this.timerHandler),this.timerHandler=null)},t.prototype.close=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];s.prototype.close.call(this),this.challengeBtn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.ZQ78,this),this.leftArrowImg.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.ZQ40,this),this.rightArrowImg.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.ZM90,this),this.postList.removeEventListener(eui.ItemTapEvent.ITEM_TAP,this.ZN17,this),this.postList1.removeEventListener(eui.ItemTapEvent.ITEM_TAP,this.ZK6,this),this.btnTujian.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.openTj,this),this.cTH(),this.listData1=null,this.listData=null,this.curSelect=null,this.dataSource.removeAll(),this.dataSource1.removeAll(),this.rewardsCollection.removeAll(),this.grpBossArm.removeChildren(),this.objBoss.destory(),this.objBoss=null},t.prototype.ZQ78=function(){App.CM.apF(O6.B46,I14.A1,this.godTrialData.hasWinPost+1)},t}(BaseEuiView);__reflect(GodTrialView.prototype,"GodTrialView");var GodTrialPostIconView=function(e){function t(){var t=e.call(this)||this;return t.skinName=IconGodTrialSkin,t}return __extends(t,e),t.prototype.dataChanged=function(){this.iconImg.source=this.data.iconData.icon,this.quaImg.source=N12.FL90(this.data.iconData.quality),this.killedImg.$setVisible(1==this.data.killState),P16.sGF(this.quaImg,1==this.data.killState),P16.sGF(this.iconImg,1==this.data.killState);var t=P7.FB45(this.data.id);this.postLb.text=O3.tr(3277,t)},t}(eui.ItemRenderer);__reflect(GodTrialPostIconView.prototype,"GodTrialPostIconView");var GodTrialPostExIconView=function(e){function t(){var t=e.call(this)||this;return t.skinName=IconGodTrialExSkin,t}return __extends(t,e),t.prototype.dataChanged=function(){this.iconImg.source=this.data.iconData.icon,this.quaImg.source=N12.FL90(this.data.iconData.quality),this.killedImg.$setVisible(1==this.data.killState),P16.sGF(this.quaImg,1==this.data.killState),P16.sGF(this.iconImg,1==this.data.killState);var t=P7.FB45(this.data.id);this.postLb.text=O3.tr(3277,t)},t}(eui.ItemRenderer);__reflect(GodTrialPostExIconView.prototype,"GodTrialPostExIconView");var GodTrialConfVo=function(){function t(t){this.killState=0,this.initData(t)}return t.prototype.initData=function(t){if(t&&(this.id=t.id,this.figure=t.r,this.monGroup=t.m,this.itemShow=t.i,this.awd=t.aw,this.itemShow)){var e=N12.gID(String(this.itemShow));this.iconData=e}},t}();__reflect(GodTrialConfVo.prototype,"GodTrialConfVo");var GodTrialData=function(i){function t(t){var e=i.call(this,t)||this;return e.hasKilledList=[],e.hasWinPost=0,e.ms=[],e.updateData(t),e}return __extends(t,i),t.prototype.updateData=function(t){if(t){if(this.ms=t.ms||this.ms,this.hasWinPost=null==t.m?this.hasWinPost:t.m,t.cf){null!=this.godTrialConfVo&&0<this.godTrialConfVo.length&&this.godTrialConfVo.splice(0,this.godTrialConfVo.length),this.godTrialConfVo=[];for(var e=0;e<t.cf.length;e++){var i=new GodTrialConfVo(t.cf[e]);this.godTrialConfVo.push(i)}}for(var e in this.godTrialConfVo){var s=this.godTrialConfVo[e];this.hasWinPost>=s.id&&(this.godTrialConfVo[e].killState=1)}t.atmp&&(this.initialed=!1),this.ZU63(t)}},t.prototype.FK2=function(){for(var t=[],e=0;e<this.ms[0];e++)t.push(this.godTrialConfVo[e]);return t},t.prototype.ZU84=function(){for(var t=[],e=this.ms[0];e<this.ms[0]+this.ms[1];e++)t.push(this.godTrialConfVo[e]);return t},t}(ActivityVo);__reflect(GodTrialData.prototype,"GodTrialData");var E17=function(){function t(){}return t.A4=1,t.A3=2,t.A1=100,t.A2=101,t}();__reflect(E17.prototype,"E17");var TB3=function(i){function t(){var t=i.call(this)||this,e=new TD29(t);return e.aLV(O7.F41),e.aLV(O7.C32),e.aLV(O7.I64),App.VM.register(O7.F41,"NewGoldTrialView",t,K17.UI_Main),t.rgF(E17.A4,t.GM41,t),t.rgF(E17.A3,t.GK68,t),t.godTrialProxy=new TD30(t),t.rgF(E17.A1,t.GM39,t),t.rgF(E17.A2,t.GM40,t),t}return __extends(t,i),t.prototype.GM39=function(){P7.FF59()&&this.godTrialProxy.GM39()},t.prototype.GM40=function(t){if(200!=t.head.state)return App.CM.apF(O6.B87,L10.A4,t),void this.ZT94(O6.B99,N1.A5);TF59.FD61(F7.A67);var e=t.body,i=this.gtM();i.ZC13(e),i.notify(),App.CM.apF(O6.B99,N1.A11,e.rst,{rewards:e.ob,needResult:!0,help:!1,type:P15.A22},function(t,e){e&&TF59.FE54(F7.A67)},this)},t.prototype.GM41=function(){App.VM.open(O7.F41);var t=App.CM.gtM(O6.A88);t.firstLoginRedNum=0,t.notify()},t.prototype.GK68=function(){App.VM.close(O7.F41)},t}(TE11);__reflect(TB3.prototype,"TB3");var TD29=function(i){function t(t){var e=i.call(this,t)||this;return e.openState=!1,e.redNum=0,e.firstLoginRedNum=0,e}return __extends(t,i),t.prototype.ZC13=function(t){t&&(null!=this.godTrialData?this.godTrialData.updateData(t):(this.godTrialData=new GodTrialData(t),this.tips=this.godTrialData.tips),this.updateRed())},t.prototype.updateRed=function(){this.redNum=this.FL35()},t.prototype.FL35=function(){var t=0;return this.godTrialData.hasWinPost<this.godTrialData.godTrialConfVo.length&&(t+=this.firstLoginRedNum),t},t.prototype.notify=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];i.prototype.notifyView.call(this,this,t)},t}(TG79);__reflect(TD29.prototype,"TD29");var TD30=function(e){function t(t){return e.call(this,t)||this}return __extends(t,e),t.prototype.GM39=function(){var t={type:P4.P77,body:{}};this.rSMO(P4.P78,this.GM40,this),this.sSM(t)},t.prototype.GM40=function(t){this.apF(E17.A2,t)},t}(TG80);__reflect(TD30.prototype,"TD30");var NewGodTrialView=function(s){function t(t,e){var i=s.call(this,t,e)||this;return i.listData=[],i.listData1=[],i.curSelect=0,i.itemNum=5,i.sGN("release_act1019"),i.skinName=GodTrialSkin,i}return __extends(t,s),t.prototype.initUI=function(){s.prototype.initUI.call(this),this.postList.itemRenderer=GodTrialPostIconView,this.dataSource=new eui.ArrayCollection(this.listData),this.postList.dataProvider=this.dataSource,this.postList1.itemRenderer=GodTrialPostExIconView,this.dataSource1=new eui.ArrayCollection(this.listData1),this.postList1.dataProvider=this.dataSource1,this.postScroller.viewport=this.postGrp,this.postScroller.scrollPolicyV=eui.ScrollPolicy.OFF,this.dgRewards.itemRenderer=ItemIcon,this.rewardsCollection=new eui.ArrayCollection,this.dgRewards.dataProvider=this.rewardsCollection,this.awardsSc.viewport=this.dgRewards,this.awardsSc.scrollPolicyV=eui.ScrollPolicy.OFF,this.challengeBtn.label=O3.tr(3742),this.lbltongguan.textFlow=M18.HTP.parse(O3.tr(3741))},t.prototype.updateList=function(){this.listData=this.godTrialData.FK2(),this.listData1=this.godTrialData.ZU84(),this.dataSource.replaceAll(this.listData),this.dataSource1.replaceAll(this.listData1)},t.prototype.open=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];s.prototype.open.call(this),this.challengeBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.ZQ78,this),this.leftArrowImg.addEventListener(egret.TouchEvent.TOUCH_TAP,this.ZQ40,this),this.rightArrowImg.addEventListener(egret.TouchEvent.TOUCH_TAP,this.ZM90,this),this.btnTujian.addEventListener(egret.TouchEvent.TOUCH_TAP,this.openTj,this),this.postList.addEventListener(eui.ItemTapEvent.ITEM_TAP,this.ZN17,this),this.postList1.addEventListener(eui.ItemTapEvent.ITEM_TAP,this.ZK6,this);var i=App.CM.gtM(O6.A88);this.godTrialData=i.godTrialData,this.listData=i.godTrialData.godTrialConfVo,i.godTrialData.note&&(this.godTrialData.hasWinPost>=this.godTrialData.ms[0]?(this.exGrp.includeInLayout=this.exGrp.visible=!0,this.dialogLb.textFlow=M18.HTP.parser(i.godTrialData.note.split("|")[1])):(this.exGrp.includeInLayout=this.exGrp.visible=!1,this.dialogLb.textFlow=M18.HTP.parser(i.godTrialData.note.split("|")[0]))),i.godTrialData.hasWinPost<i.godTrialData.godTrialConfVo.length&&(this.curSelect=i.godTrialData.hasWinPost),this.curSelect=this.curSelect||0,this.ZC90(i),this.curSelect>=this.itemNum?App.K16.doFrame(1,1,this.delayCall,this):this.postGrp.scrollH=0},t.prototype.ZQ40=function(){var t=Math.ceil((this.postGrp.scrollH-110*this.itemNum)/110);t<this.itemNum&&(t=0),this.postGrp.scrollH=110*t},t.prototype.ZM90=function(){if(!(this.listData.length+this.listData1.length<=this.itemNum)){var t=Math.ceil((this.postGrp.scrollH+115*this.itemNum)/115),e=this.exGrp.visible?this.listData1.length:0;t>=this.listData.length+e-this.itemNum&&(t=this.listData.length+e-this.itemNum),this.postGrp.scrollH=115*t}},t.prototype.delayCall=function(){var t=this.curSelect,e=this.exGrp.visible?this.listData1.length:0;t>=this.listData.length+e-this.itemNum&&(t=this.listData.length+e-this.itemNum),this.postGrp.scrollH=110*t},t.prototype.uBM=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];s.prototype.uBM.call(this,t,e),t instanceof TD29&&this.ZC90(t)},t.prototype.ZC90=function(t){if(this.godTrialData=t.godTrialData,this.updateList(),null==this.timerHandler)if(0<this.godTrialData.rs){this.leftCD=this.godTrialData.ZHH64();var e=O3.tr(3253,P6.FJ11(1e3*this.leftCD,5));this.leftCdLb.textFlow=M18.HTP.parse(e),this.timerHandler=App.K16.doTimer(1e3,this.leftCD,this.GY14,this)}else this.leftCdLb.text="";this.curSelect<this.godTrialData.ms[0]?this.postList.selectedIndex=this.curSelect:this.postList1.selectedIndex=this.curSelect-this.godTrialData.ms[0],this.ZQ77(this.curSelect)},t.prototype.ZN17=function(t){this.curSelect=t.itemIndex;var e=this.postList1.selectedItem;e&&(e.currentState="up",e.selected=!1),this.postList1.selectedIndex=-1,this.ZQ77(this.curSelect)},t.prototype.ZK6=function(t){this.curSelect=this.godTrialData.ms[0]+t.itemIndex;var e=this.postList.selectedItem;e&&(e.currentState="up",e.selected=!1),this.postList.selectedIndex=-1,this.ZQ77(this.curSelect)},t.prototype.ZQ77=function(t){var e=this.godTrialData.godTrialConfVo[t],i=P7.FB45(e.id);this.postLb.text=O3.tr(3277,i),this.curSelect>=this.godTrialData.ms[0]?this.diImg.source="v1_img_sjslxinzeng_png":this.diImg.source="v1_img_shjashlian_jpg",this.challengeBtn.$setVisible(1!=e.killState),e.id==this.godTrialData.hasWinPost+1?(P16.sGF(this.challengeBtn,!1),this.challengeBtn.$setTouchEnabled(!0)):(P16.sGF(this.challengeBtn,!0),this.challengeBtn.$setTouchEnabled(!1)),this.objBoss||(this.objBoss=new FightGameObject);var s=N14.FF4(e.figure),o={id:parseInt(s.model),x:0,y:0,dir:Dir.br,objType:P13.A6,bt:BehaviourType.Attack_d,sr:1};this.objBoss.setData(o,this.grpBossArm),this.objBoss.action=Action.Stand;var r=this.FK41(e.awd);this.rewardsCollection.replaceAll(r)},t.prototype.openTj=function(){var t=this.godTrialData.godTrialConfVo[this.curSelect];App.CM.apF(O6.C12,O8.B9,t.figure)},t.prototype.FK41=function(t){var e=[],i=!0;P7.FM14()&&(i=!1);for(var s=0;s<t.length;s++){var o=N12.gID(t[s].k);if(o){o.ct=t[s].v;var r={data:o,ct:o.ct};e.push({itemData:r,isBottom:i,scale:.9,fl:0})}}return e},t.prototype.GY14=function(){this.leftCD--;var t=O3.tr(3253,P6.FJ11(1e3*this.leftCD,5));this.leftCdLb.textFlow=M18.HTP.parse(t),this.leftCD<=0&&(this.cTH(),this.leftCdLb.text="")},t.prototype.cTH=function(){null!=this.timerHandler&&(App.K16.rBH(this.timerHandler),this.timerHandler=null)},t.prototype.close=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];s.prototype.close.call(this),this.challengeBtn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.ZQ78,this),this.leftArrowImg.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.ZQ40,this),this.rightArrowImg.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.ZM90,this),this.postList.removeEventListener(eui.ItemTapEvent.ITEM_TAP,this.ZN17,this),this.postList1.removeEventListener(eui.ItemTapEvent.ITEM_TAP,this.ZK6,this),this.btnTujian.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.openTj,this),this.cTH(),this.listData1=null,this.listData=null,this.curSelect=null,this.dataSource.removeAll(),this.dataSource1.removeAll(),this.rewardsCollection.removeAll(),this.grpBossArm.removeChildren(),this.objBoss.destory(),this.objBoss=null},t.prototype.ZQ78=function(){App.CM.apF(O6.A88,E17.A1,this.godTrialData.hasWinPost+1)},t}(BaseEuiView);__reflect(NewGodTrialView.prototype,"NewGodTrialView");var D7=function(){function t(){}return t.A8=10001,t.A7=10002,t.A3=10003,t.A1=10004,t.A4=10005,t.A2=10006,t.A5=10007,t.A6=10008,t}();__reflect(D7.prototype,"D7");var TA67=function(i){function t(){var t=i.call(this)||this,e=new TC66(t);return e.aLV(O7.F18),e.aLV(O7.B65),e.aLV(O7.B85),e.aLV(O7.C32),App.VM.register(O7.F18,"RedEnvelopesView",t,K17.UI_Main),t.rgF(D7.A8,t.GF28,t),t.rgF(D7.A7,t.GE26,t),App.VM.register(O7.B65,"RedEnvelopesDropView",t,K17.UI_Tips_Top),t.rgF(D7.A3,t.GB55,t),t.rgF(D7.A1,t.GB16,t),App.VM.register(O7.B85,"RedEnvelopesOpenView",t,K17.UI_Tips_Top),t.rgF(D7.A4,t.GB56,t),t.rgF(D7.A2,t.GB17,t),t.proxy=new TC67(t),t.rgF(D7.A5,t.GG85,t),t.rgF(D7.A6,t.GG86,t),t}return __extends(t,i),t.prototype.GG85=function(t){this.proxy.GG85(t)},t.prototype.GG86=function(t){if(200==t.head.state){var e=t.body,i=this.gtM();i.ZC13(e);var s=0;t.body.ob&&(s=t.body.ob[0].v),i.notify(P4.L76,t.body.takeId,t.body.takeState,s,t.body.ob)}else App.CM.apF(O6.B87,L10.A4,t)},t.prototype.GF28=function(){App.VM.open(O7.F18);var t=App.CM.gtM(O6.A63);t.firstLoginRedNum=0,t.notify()},t.prototype.GE26=function(){App.VM.close(O7.F18)},t.prototype.GB55=function(){var t=App.CM.gtM(O6.A63);if(null!=t&&1==t.openState&&t.actData.taked<t.actData.maxBindLimit){var e=App.CM.gtM(O6.B82);null!=e&&e.avatarInfo.l>=t.actData.lvLimit&&App.VM.open(O7.B65)}},t.prototype.GB16=function(){App.VM.close(O7.B65)},t.prototype.GB56=function(){for(var t,e=[],i=0;i<arguments.length;i++)e[i]=arguments[i];(t=App.VM).open.apply(t,[O7.B85].concat(e))},t.prototype.GB17=function(){App.VM.close(O7.B85)},t}(TE11);__reflect(TA67.prototype,"TA67");var TC66=function(i){function t(t){var e=i.call(this,t)||this;return e.copyData=[],e.openState=!1,e.redNum=0,e.firstLoginRedNum=0,e}return __extends(t,i),t.prototype.ZC13=function(t){t&&(null!=this.actData?this.actData.updateData(t):(this.actData=new RedEnvelopesData(t),this.tips=this.actData.tips),this.updateRed())},t.prototype.updateRed=function(){this.redNum=this.FL35()},t.prototype.FL35=function(){var t=0;return t+=this.firstLoginRedNum},t.prototype.ZQ35=function(){this.openState?App.CM.apF(O6.A63,D7.A3):App.CM.apF(O6.A63,D7.A1)},t.prototype.notify=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];i.prototype.notifyView.call(this,this,t)},t}(TG79);__reflect(TC66.prototype,"TC66");var TC67=function(i){function t(t){var e=i.call(this,t)||this;return e.rSM(P4.L76,e.GG86,e),e}return __extends(t,i),t.prototype.GG85=function(t){var e={type:P4.L75,body:{id:t}};this.sSM(e)},t.prototype.GG86=function(t){this.apF(D7.A6,t)},t}(TG80);__reflect(TC67.prototype,"TC67");var TD31=function(){};__reflect(TD31.prototype,"TD31");var RedEnvelopesDropView=function(o){function t(t,e){var i=o.call(this,t,e)||this;return i.skinName="RedEnvelopesDropSkin",i}return __extends(t,o),t.prototype.initUI=function(){o.prototype.initUI.call(this)},t.prototype.open=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];o.prototype.open.call(this),this.showGrp.width=App.TG37.getWidth(),this.showGrp.height=App.TG37.getHeight(),this.loadReds()},t.prototype.uBM=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];if(o.prototype.uBM.call(this,t,e),t instanceof TC66&&e[0]&&e[0][0]==P4.N58&&this.ZK7(t),t instanceof TC66&&e[0]&&e[0][0]==P4.L76){var s=e[0][1];this.ZG28(t,s)}},t.prototype.ZG28=function(t,e){for(var i in this.showGrp.$children){var s=this.showGrp.$children[i];if(s.id==e){this.showGrp&&this.showGrp.removeChild(s);break}}},t.prototype.ZK7=function(t){for(var e=t.actData.reds;0<e.length;){var i=e.pop();if(!(21<=P6.getTime(!0)-i.createTime/1e3)){var s=ObjectPool.pop("RedEnvelopes");s.setData(i),this.showGrp.addChild(s),s.startTimer(i.lifeTime)}}},t.prototype.saveReds=function(){var t=App.CM.gtM(O6.A63);for(var e in this.showGrp.$children){var i=this.showGrp.$children[e];t.copyData.push(i.toData())}this.showGrp.removeChildren()},t.prototype.loadReds=function(){var t=App.CM.gtM(O6.A63);for(var e in t.copyData){var i=t.copyData[e],s=RedEnvelopes.makeEntity(i);this.showGrp.addChild(s),s.restartTimer()}t.copyData=[]},t.prototype.close=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];o.prototype.close.call(this),this.saveReds()},t}(BaseEuiView);__reflect(RedEnvelopesDropView.prototype,"RedEnvelopesDropView");var RedEnvelopes=function(e){function t(){var t=e.call(this)||this;return t.width=138,t.height=157,t.source="v1_bg_hongbaotu_png",t.addEventListener(egret.Event.ADDED_TO_STAGE,t.onAddToStage,t),t.addEventListener(egret.Event.REMOVED_FROM_STAGE,t.ZHH89,t),t}return __extends(t,e),t.makeEntity=function(t){if(!(t.lifeTime<=0)){var e=ObjectPool.pop("RedEnvelopes");return e.id=t.red.id,e.redVo=t.red,e.lifeTime=t.lifeTime,e.x=t.x,e.y=t.y,e.toX=t.toX,e.toY=t.toY,e}},t.prototype.toData=function(){return{red:this.redVo,lifeTime:this.lifeTime,x:this.x,y:this.y,toX:this.toX,toY:this.toY}},t.prototype.setData=function(t){this.id=t.id,this.redVo=t,this.lifeTime=t.lifeTime},t.prototype.onAddToStage=function(){this.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClick,this)},t.prototype.ZHH89=function(){this.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClick,this),this.timerHandler&&(App.K16.rBH(this.timerHandler),this.timerHandler=null),egret.Tween.removeTweens(this),null!=this.parent&&null!=this.parent&&this.parent.removeChild(this),ObjectPool.push(this)},t.prototype.startTimer=function(t){var e=App.TF95.limit(this.width/2,App.TG37.getWidth()-this.width/2),i=0-this.height,s=e+App.TF95.limit(-300,300),o=App.TG37.getHeight()-this.height;this.startTimer0(t,e,i,s,o)},t.prototype.restartTimer=function(){this.startTimer0(this.lifeTime,this.x,this.y,this.toX,this.toY)},t.prototype.startTimer0=function(t,e,i,s,o){var r=this;this.timerHandler=App.K16.doTimer(1e3,t,function(){r.lifeTime-=1},this,function(){null!=r.parent&&null!=r.parent&&r.parent.removeChild(r)},this),this.x=e,this.y=i,this.toX=s,this.toY=o,this.toX<0&&(this.toX=0),this.toX>App.TG37.getWidth()-this.width&&(this.toX=App.TG37.getWidth()-this.width);var n=(this.toY-this.y)/100;egret.Tween.get(this).to({x:this.toX,y:this.toY},1e3*n)},t.prototype.onClick=function(){App.CM.apF(O6.A63,D7.A4,"open",this.redVo)},t}(eui.Image);__reflect(RedEnvelopes.prototype,"RedEnvelopes");var RedEnvelopesOpenView=function(r){function t(t,e){var i=r.call(this,t,e)||this;return i.skinName="RedEnvelopesOpenSkin",i}return __extends(t,r),t.prototype.initUI=function(){r.prototype.initUI.call(this),this.anchorOffsetX=.5,this.anchorOffsetY=.5,this.btnClose.label=O3.tr(5618)},t.prototype.open=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];r.prototype.open.call(this),this.maskGrp.addEventListener(egret.TouchEvent.TOUCH_TAP,this.clickClose,this),this.btnOpen.addEventListener(egret.TouchEvent.TOUCH_TAP,this.clickOpen,this),this.btnClose.addEventListener(egret.TouchEvent.TOUCH_TAP,this.clickClose,this),this.currentState="close",this.redVo=t[1],this.nameLb.text=this.redVo.name,this.touxImg.source=null!=this.redVo.icon?this.redVo.icon:K18.init.avatarMaleIcon1.value,this.sendLb.visible=!1,this.clickOpen()},t.prototype.uBM=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];if(r.prototype.uBM.call(this,t,e),t instanceof TC66&&e[0]&&e[0][0]==P4.L76){this.currentState="close";var s=e[0][2],o=e[0][3];this.btnClose.label=1==s&&0<o?(this.ob=e[0][4],this.moneyGrp.visible=!0,this.moneyLb.text=o+"",O3.tr(5618)):(this.moneyGrp.visible=!1,this.moneyLb.text=O3.tr(5619),O3.tr(5620))}},t.prototype.clickMask=function(){App.VM.close(O7.B85)},t.prototype.clickOpen=function(){var t=App.CM.gtM(O6.A63);if(t.actData.taked>=t.actData.maxBindLimit)return P18.sDP(O3.tr(3309)),void App.CM.apF(O6.A63,D7.A1);this.redVo.isTake||(this.redVo.isTake=!0,App.CM.apF(O6.A63,D7.A5,this.redVo.id))},t.prototype.clickClose=function(){P5.sIs(this.ob),this.ob=null,App.VM.close(O7.B85)},t.prototype.close=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];r.prototype.close.call(this),this.maskGrp.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.clickMask,this),this.btnOpen.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.clickOpen,this),this.btnClose.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.clickClose,this),this.currentState=null,this.redVo=null},t}(BaseEuiView);__reflect(RedEnvelopesOpenView.prototype,"RedEnvelopesOpenView");var RedEnvelopesView=function(s){function t(t,e){var i=s.call(this,t,e)||this;return i.sGN("release_act1039"),i.skinName="RedEnvelopesSkin",i}return __extends(t,s),t.prototype.initUI=function(){s.prototype.initUI.call(this),this.lblhuodong.textFlow=M18.HTP.parse(O3.tr(3778)),this.btnRecharge.label=O3.tr(3780)},t.prototype.open=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];s.prototype.open.call(this),this.btnRecharge.addEventListener(egret.TouchEvent.TOUCH_TAP,this.ZU85,this)},t.prototype.ZU85=function(){App.CM.apF(O6.C29,P8.A7)},t.prototype.uBM=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];s.prototype.uBM.call(this,t,e),t instanceof TC66&&this.ZA93(t)},t.prototype.ZA93=function(t){if(this.descLb.textFlow=M18.HTP.parse(O3.tr(3779,t.actData.desc)),null==this.timerHandler)if(0<t.actData.rs){this.leftCD=t.actData.ZHH64();var e=O3.tr(3253,P6.FJ11(1e3*this.leftCD,5));this.leftCdLb.textFlow=M18.HTP.parse(e),this.timerHandler=App.K16.doTimer(1e3,this.leftCD,this.GY14,this)}else this.leftCdLb.text=""},t.prototype.GY14=function(){this.leftCD--;var t=O3.tr(3253,P6.FJ11(1e3*this.leftCD,5));this.leftCdLb.textFlow=M18.HTP.parse(t),this.leftCD<=0&&(this.cTH(),this.leftCdLb.text="")},t.prototype.cTH=function(){null!=this.timerHandler&&(App.K16.rBH(this.timerHandler),this.timerHandler=null)},t.prototype.close=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];s.prototype.close.call(this),this.cTH(),this.btnRecharge.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.ZU85,this)},t}(BaseEuiView);__reflect(RedEnvelopesView.prototype,"RedEnvelopesView");var RedEnvelopesData=function(i){function t(t){var e=i.call(this,t)||this;return e.reds=[],e.updateData(t),e}return __extends(t,i),t.prototype.updateData=function(t){t&&(this.maxBindLimit=null==t.maxBindLimit?this.maxBindLimit:t.maxBindLimit,this.taked=null==t.taked?this.taked:t.taked,this.lvLimit=null==t.lvLimit?this.lvLimit:t.lvLimit,t.red&&this.reds.push(new RedVo(t.red)),this.ZU63(t))},t.prototype.removeRed=function(t){for(var e=0;e<this.reds.length;e++)if(this.reds[e].id==t){this.reds.splice(e,1);break}},t}(ActivityVo);__reflect(RedEnvelopesData.prototype,"RedEnvelopesData");var RedVo=function(t){this.isTake=!1,this.x=0,this.y=0,this.id=t.id,this.type=t.type,this.name=t.name,this.icon=t.icon,this.lifeTime=t.lifeTime,this.createTime=t.createTime};__reflect(RedVo.prototype,"RedVo");var OpenSerActMainView=function(a){function t(t,e){var i=a.call(this,t,e)||this;i.actData=[],i.data=[],i.itemNum=6,i.skinName="CarnivalActBaseSkin";for(var s=TE12.FC8(F17.A2),o=0;o<s.length;o++){var r=s[o].id,n=TF59.FB46(r);-1!=n&&App.VM.rgS(O7.D33,n.id,n.view,i.content)}return i}return __extends(t,a),t.prototype.initUI=function(){a.prototype.initUI.call(this),this.title.text=O3.tr(3250),this.topScroller.viewport=this.topList,this.topScroller.scrollPolicyV=eui.ScrollPolicy.OFF,this.topCollection=new eui.ArrayCollection,this.topList.dataProvider=this.topCollection,this.topList.itemRenderer=CarnivalActIconView},t.prototype.initData=function(){a.prototype.initData.call(this)},t.prototype.open=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.lbDes.text="",a.prototype.open.call(this,t),this.bgMask.addEventListener(egret.TouchEvent.TOUCH_TAP,this.closeSelf,this),this.closeBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.closeSelf,this),this.backBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.closeSelf,this),this.leftGroup.addEventListener(egret.TouchEvent.TOUCH_TAP,this.ZQ40,this),this.rightGroup.addEventListener(egret.TouchEvent.TOUCH_TAP,this.ZM90,this),this.topScroller.addEventListener(eui.UIEvent.CHANGE_END,this.endScroller,this),this.curView=t[0]||this.actData[0]&&this.actData[0].view,this.ZU39(),App.VM.open(this.curView),this.curView==this.actData[0].view&&(this.topList.scrollH=0),t[1]&&App.K16.doFrame(1,1,this.delayCall,this),TF59.FJ22(this.curView,this.diImg,this.contentImg)},t.prototype.delayCall=function(){if(this.actData.length<=this.itemNum)this.topList.scrollH=0;else{var t=this.topList.contentWidth/this.actData.length,e=this.ZE69(this.curView);e>=this.actData.length-this.itemNum&&(e=this.actData.length-this.itemNum),this.topList.scrollH=e*t}},t.prototype.ZM94=function(e){for(var t=function(t){t==e?(i.data[t].texiao=1,i.data[t].model.firstLoginRedNum=0,App.K16.doTimer(100,1,function(){this.data[t].model.notify()},i)):i.data[t].texiao=0},i=this,s=0;s<this.actData.length;s++)t(s);this.topCollection.replaceAll(this.data)},t.prototype.uBM=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];a.prototype.uBM.call(this,t,e);var s=e&&0<e[0].length?e[0]:"";s==P4.R37||s==P4.U30||s==P4.P76?(this.ZU39(),App.VM.open(this.curView)):this.ZQ44(t),this.endScroller()},t.prototype.ZU39=function(){var t=TF59.FA2(F17.A2);if(this.actData=t,0<this.data.length&&(this.data.splice(0,this.data.length),this.data=[]),0<this.actData.length){for(var e=0;e<this.actData.length;e++){var i={icon:this.actData[e].icon,type:this.actData[e].type,name:this.actData[e].name,red:this.actData[e].red,texiao:0,model:this.actData[e].model,subView:this.actData[e].model,mainView:O7.D33};this.data.push(i)}this.ZE69(this.curView)<0&&(this.curView=this.actData[0].view),this.ZM94(this.ZE69(this.curView))}else this.closeSelf()},t.prototype.ZQ44=function(t){var e;if(t.actid){var i=TF59.FB46(t.actid);-1!=i&&0<=(e=this.ZE69(i.id))&&(this.data[e].red=t.FL35())}this.topCollection.replaceAll(this.data)},t.prototype.endScroller=function(){if(this.topScroller.validateNow(),this.leftGroup.visible=!(this.topScroller.viewport.scrollH<=0),this.topScroller.viewport.contentWidth<=this.topScroller.width)this.rightGroup.visible=!1;else{this.topScroller.width+this.topScroller.viewport.scrollH>=this.topScroller.viewport.contentWidth?this.rightGroup.visible=!1:this.rightGroup.visible=!0,this.redLeft.visible=!1,this.redRight.visible=!1;for(var t=this.topScroller.viewport.scrollH,e=0;93<=t;)t-=93,e++;var i=e+this.itemNum-1,s=this.topCollection.getItemAt(this.topCollection.length-1);if(i>s.index&&(i=s.index),this.leftGroup.visible)for(var o=0;o<this.topCollection.length;o++){var r=this.topCollection.getItemAt(o);if(!(e<=o)&&0<r.red){this.redLeft.visible=!0;break}}if(this.rightGroup.visible)for(o=0;o<this.topCollection.length;o++){var n=this.topCollection.getItemAt(o);if(!(o<=i)&&0<n.red){this.redRight.visible=!0;break}}}},t.prototype.ZQ40=function(){var t=this.topScroller.viewport.scrollH-559;this.topScroller.viewport.scrollH=t<0?0:t,this.endScroller()},t.prototype.ZM90=function(){var t=this.topScroller.viewport.scrollH+559;t+this.topScroller.width>=this.topScroller.viewport.contentWidth?this.topScroller.viewport.scrollH=this.topScroller.viewport.contentWidth-this.topScroller.width:this.topScroller.viewport.scrollH=t,this.endScroller()},t.prototype.close=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];a.prototype.close.call(this,t),this.bgMask.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.closeSelf,this),this.closeBtn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.closeSelf,this),this.backBtn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.closeSelf,this),this.leftGroup.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.ZQ40,this),this.rightGroup.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.ZM90,this),this.topScroller.removeEventListener(eui.UIEvent.CHANGE_END,this.endScroller,this),this.actData=null,this.topCollection.removeAll(),this.curView=null},t.prototype.closeSelf=function(){App.VM.GY64(this)},t.prototype.ZE69=function(t){var e=-1;if(null!=this.actData)for(var i=0;i<this.actData.length;i++)if(this.actData[i].view==t){e=i;break}return e},t.prototype.ZG19=function(t){var e=-1;if(null!=this.actData)for(var i=0;i<this.actData.length;i++)this.actData[i].view==t&&(e=i);return e},t}(BaseEuiView);__reflect(OpenSerActMainView.prototype,"OpenSerActMainView");var TD79=function(){function o(){}return o.FK35=function(t){o.init=t.pointsets_init,o.pointsets=t.pointsets_pointsets},o.gIV=function(t){var e=void 0;return o.init?e=o.init[t].value:e},o.FG80=function(t){var e=[];for(var i in o.pointsets){var s=o.pointsets[i];t==Number(s.type)&&e.push(s)}return e},o.FE60=function(t){return o.pointsets[t]},o}();__reflect(TD79.prototype,"TD79");var G16=function(){function t(){}return t.A6=10001,t.A7=10002,t.A1=10003,t.A2=10004,t.A11=10005,t.A10=10006,t.A8=10007,t.A9=10008,t.A5=10009,t.A4=10010,t.A3=10011,t}();__reflect(G16.prototype,"G16");var TB70=function(i){function t(){var t=i.call(this)||this,e=new TE50(t);return e.aLV(O7.B30),e.aLV(O7.C60),e.aLV(O7.HH94),e.aLV(O7.I64),t.proxy=new TE51(t),t.rgF(G16.A6,t.turnReq,t),t.rgF(G16.A7,t.turnRes,t),t.rgF(G16.A1,t.GS18,t),t.rgF(G16.A2,t.GS19,t),App.VM.register(O7.E20,"PointsetsDescView",t,K17.UI_Popup),t.rgF(G16.A10,t.GE27,t),t.rgF(G16.A8,t.GD27,t),App.VM.register(O7.B79,"PointsetsRewardView",t,K17.UI_Popup),t.rgF(G16.A4,t.GB57,t),t.rgF(G16.A3,t.GB18,t),App.VM.register(O7.C60,"PointsetsReportView",t,K17.UI_Popup),t.rgF(G16.A9,t.GC32,t),t.rgF(G16.A5,t.GB58,t),t.rgF(G16.A11,t.GX7,t),t}return __extends(t,i),t.prototype.GX7=function(t){if(200==t.head.state){var e=this.gtM();t.body&&e.pointsetsData.dealAr(t.body,!1),e.notify(P4.A33)}else App.CM.apF(O6.B87,L10.A4,t)},t.prototype.turnReq=function(){this.proxy.turnReq()},t.prototype.turnRes=function(t){var e=this.gtM();if(200!=t.head.state)return App.CM.apF(O6.B87,L10.A4,t),void(e.moving=!1);t.body&&(t.body.yaw&&(e.pointsetsData.yaw=t.body.yaw),e.notify(P4.HH82,t.body),t.body.s&&(e.pointsetsData.s=t.body.s))},t.prototype.GS18=function(){return this.proxy.GS18()},t.prototype.GS19=function(t){if(200==t.head.state){var e=this.gtM();t.body&&e.updateReport(t.body),e.notify(P4.A53)}else App.CM.apF(O6.B87,L10.A4,t)},t.prototype.GE27=function(){App.VM.open(O7.E20)},t.prototype.GD27=function(){App.VM.close(O7.E20)},t.prototype.GB57=function(t){App.VM.open(O7.B79,t)},t.prototype.GB18=function(){App.VM.close(O7.B79)},t.prototype.GC32=function(){App.VM.open(O7.C60)},t.prototype.GB58=function(){App.VM.close(O7.C60)},t}(TE11);__reflect(TB70.prototype,"TB70");var TE50=function(i){function t(t){var e=i.call(this,t)||this;return e.openState=!1,e.redNum=0,e.firstLoginRedNum=0,e}return __extends(t,i),t.prototype.ZC13=function(t){t&&(null!=this.pointsetsData?this.pointsetsData.updateData(t):(this.pointsetsData=new PointsetsData(t),this.tips=this.pointsetsData.tips),this.updateRed())},t.prototype.updateReport=function(t){null!=this.pointsetsData||(this.pointsetsData=new PointsetsData(null)),this.pointsetsData.updateReport(t)},t.prototype.updateRed=function(){this.redNum=this.FL35()},t.prototype.FL35=function(){var t=0;if(0==this.openState)return t;if(this.isTakeAll())return t;t+=this.firstLoginRedNum;var e=P7.str2kv(TD79.gIV("pointSetsCost"),","),i=e[this.pointsetsData.s-1].k;return e[this.pointsetsData.s-1].v<=N12.giC(i)&&(t+=1),t},t.prototype.isTakeAll=function(){var t=TD79.FG80(this.pointsetsData.s);for(var e in t){var i=t[e].id;if(-1==this.pointsetsData.yaw.indexOf(Number(i)))return!1}return!0},t.prototype.notify=function(t,e){void 0===t&&(t=void 0),void 0===e&&(e=void 0),i.prototype.notifyView.call(this,this,t,e)},t}(TG79);__reflect(TE50.prototype,"TE50");var TE51=function(i){function t(t){var e=i.call(this,t)||this;return e.rSM(P4.A33,e.GX7,e),e}return __extends(t,i),t.prototype.GX7=function(t){this.apF(G16.A11,t)},t.prototype.turnReq=function(){var t={type:P4.HH81,body:{}};this.rSMO(P4.HH82,this.turnRes,this),this.sSM(t)},t.prototype.turnRes=function(t){this.apF(G16.A7,t)},t.prototype.GS18=function(){var s=this;return new Promise(function(e,t){var i={type:P4.A52,body:{}};s.rSMO(P4.A53,function(t){s.apF(G16.A2,t),e("请求点将记录完成")},s),s.sSM(i)})},t}(TG80);__reflect(TE51.prototype,"TE51");var TF28=function(){};__reflect(TF28.prototype,"TF28");var PointsetsDescView=function(s){function t(t,e){var i=s.call(this,t,e)||this;return i.skinName="PointsetsDescSkin",i}return __extends(t,s),t.prototype.initUI=function(){s.prototype.initUI.call(this),this.lbStr1.textFlow=M18.HTP.parse(O3.tr(5187))},t.prototype.open=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];s.prototype.open.call(this),this.bgMask.addEventListener(egret.TouchEvent.TOUCH_TAP,this.closeSelf,this),this.initView()},t.prototype.initLb=function(t,e,i,s){var o=t.text,r=e.text;o+=i+"\n",r+="概率："+s+"%\n",t.$setText(o),e.$setText(r)},t.prototype.initView=function(){this.lb1.text="",this.lb2.text="";var t=App.CM.gtM(O6.B12),e=TD79.FG80(t.pointsetsData.s);for(var i in e){var s=e[i],o=s.name,r=s.probability;this.initLb(this.lb1,this.lb2,o,r)}var n=this.lb1.text;n=n.substring(0,n.length-1),this.lb1.$setText(n);var a=this.lb2.text;a=a.substring(0,a.length-1),this.lb2.$setText(a)},t.prototype.close=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];s.prototype.close.call(this),this.bgMask.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.closeSelf,this)},t.prototype.closeSelf=function(){this.apF(G16.A8)},t}(BaseEuiView);__reflect(PointsetsDescView.prototype,"PointsetsDescView");var PointsetsReportView=function(s){function t(t,e){var i=s.call(this,t,e)||this;return i.skinName="PointsetsReportSkin",i}return __extends(t,s),t.prototype.initUI=function(){s.prototype.initUI.call(this),this.lbStr1.textFlow=M18.HTP.parse(O3.tr(5834))},t.prototype.open=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];s.prototype.open.call(this),this.bgMask.addEventListener(egret.TouchEvent.TOUCH_TAP,this.closeSelf,this);var i=App.CM.gtM(O6.B12);this.ZC24(i)},t.prototype.uBM=function(t){s.prototype.uBM.call(this,t),t instanceof TE50&&this.ZC24(t)},t.prototype.ZC24=function(t){for(var e=1;e<=10;e++)this["grp"+e].visible=!1;for(var i=t.pointsetsData.ar,s=0;s<i.length;s++){var o=s+1;this["lbName"+o].$setText(i[s].k);var r=N12.gID(i[s].v),n=this["lbPru"+o];O5.FB13(n,r.name,r.quality),this["grp"+o].visible=!0}},t.prototype.close=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];s.prototype.close.call(this),this.bgMask.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.closeSelf,this)},t.prototype.closeSelf=function(){this.apF(G16.A5)},t}(BaseEuiView);__reflect(PointsetsReportView.prototype,"PointsetsReportView");var PointsetsRewardView=function(s){function t(t,e){var i=s.call(this,t,e)||this;return i.closeCD=5,i.skinName="PointsetsResultViewSkin",i}return __extends(t,s),t.prototype.initUI=function(){s.prototype.initUI.call(this),this.dgRewards.dataProvider=this.rewardsCollection=new eui.ArrayCollection,this.dgRewards.itemRenderer=ItemIcon},t.prototype.open=function(t){this.params=t,P5.sIs(this.params.ob),this.bgMask.addEventListener(egret.TouchEvent.TOUCH_TAP,this.closeSelf,this),this.btnConfirm.addEventListener(egret.TouchEvent.TOUCH_TAP,this.closeSelf,this),this.updateViews()},t.prototype.close=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];s.prototype.close.call(this),this.bRegSkipTimer=!1,this.bgMask.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.closeSelf,this),this.btnConfirm.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.closeSelf,this),App.K16.remove(this.ZU23,this),this.params=null,this.rewardsCollection.removeAll(),this.closeCD=null},t.prototype.updateViews=function(){this.ZJ83(),this.ZU24()},t.prototype.ZJ83=function(){this.closeCD=5,this.ZU23(),this.bRegSkipTimer||(this.bRegSkipTimer=!0,App.K16.doTimer(1e3,this.closeCD,this.ZU23,this))},t.prototype.ZU23=function(){this.closeCD--,this.closeCD<=0?this.closeSelf():this.btnConfirm.label=O3.tr(5189,this.closeCD)},t.prototype.ZU24=function(){var t=[];if(this.params&&this.params.ob&&0<this.params.ob.length){var e=this.params.ob,i=!0;for(var s in P7.FM14()&&(i=!1),e){var o=e[s],r=N12.gID(o.k);if(r){var n={itemData:(this.params.id,{data:r,ct:o.v}),isBottom:i};t.push(n)}}}this.rewardsCollection.replaceAll(t)},t.prototype.closeSelf=function(){this.apF(G16.A3)},t}(BaseEuiView);__reflect(PointsetsRewardView.prototype,"PointsetsRewardView");var PointsetsData=function(i){function t(t){var e=i.call(this,t)||this;return e.ar=[],e.yaw=[],e.updateData(t),e}return __extends(t,i),t.prototype.updateData=function(t){t&&this.ZU63(t)},t.prototype.updateReport=function(t){t.yaw&&(this.yaw=t.yaw),t.s&&(this.s=t.s),this.dealAr(t,!0)},t.prototype.dealAr=function(t,e){if(t.ar&&!(t.ar.length<=0)){e&&(this.ar=[]);for(var i=t.ar,s=0;s<i.length;s++)this.ar.push(i[s]);var o=this.ar.length,r=[];if(10<o){for(var n=o-10;n<o;n++)r.push(this.ar[n]);this.ar=r}}},t}(ActivityVo);__reflect(PointsetsData.prototype,"PointsetsData");var N11=function(){function t(){}return t.A12=10001,t.A11=10002,t.A9=10003,t.A7=10004,t.A5=10005,t.A6=10006,t.A3=10007,t.A4=10008,t.A1=10009,t.A2=10010,t.A10=10011,t.A8=10012,t}();__reflect(N11.prototype,"N11");var TD80=function(i){function t(){var t=i.call(this)||this,e=new TG46(t);return e.aLV(O7.HH89),e.aLV(O7.HH94),t.proxy=new TG47(t),App.VM.register(O7.HH90,"FairyDescView",t,K17.UI_Popup),t.rgF(N11.A12,t.GK69,t),t.rgF(N11.A11,t.GI72,t),App.VM.register(O7.G36,"FairyRecordView",t,K17.UI_Popup),t.rgF(N11.A9,t.GG88,t),t.rgF(N11.A7,t.GF30,t),t.rgF(N11.A5,t.GU11,t),t.rgF(N11.A6,t.GU12,t),t.rgF(N11.A3,t.GO35,t),t.rgF(N11.A4,t.GO36,t),t.rgF(N11.A1,t.GM42,t),t.rgF(N11.A2,t.GM43,t),App.VM.register(O7.G37,"FairyRewardView",t,K17.UI_Popup),t.rgF(N11.A10,t.GG87,t),t.rgF(N11.A8,t.GF29,t),t}return __extends(t,i),t.prototype.GG87=function(t){App.VM.open(O7.G37,t)},t.prototype.GF29=function(){App.VM.close(O7.G37)},t.prototype.GU11=function(t){this.proxy.GU11(t)},t.prototype.GU12=function(t){var e=this.gtM();if(200!=t.head.state)return App.CM.apF(O6.B87,L10.A4,t),e.moving=!1,void(e.isTween=!0);e.ZC13(t.body),e.notify(P4.E45,t.body)},t.prototype.GO35=function(){this.proxy.GO35()},t.prototype.GO36=function(t){200==t.head.state?(this.gtM().ZC13(t.body),App.CM.apF(O6.C9,N11.A9)):App.CM.apF(O6.B87,L10.A4,t)},t.prototype.GM42=function(){this.proxy.GM42()},t.prototype.GM43=function(t){if(200==t.head.state){var e=this.gtM();e.ZC13(t.body),e.notify(P4.A98)}else App.CM.apF(O6.B87,L10.A4,t)},t.prototype.GG88=function(){App.VM.open(O7.G36)},t.prototype.GF30=function(){App.VM.close(O7.G36)},t.prototype.GK69=function(){App.VM.open(O7.HH90)},t.prototype.GI72=function(){App.VM.close(O7.HH90)},t}(TE11);__reflect(TD80.prototype,"TD80");var TG46=function(i){function t(t){var e=i.call(this,t)||this;return e.openState=!1,e}return __extends(t,i),t.prototype.ZC13=function(t){t&&(null!=this.fairyData?this.fairyData.updateData(t):this.fairyData=new FairyData(t),this.updateRed())},t.prototype.updateRed=function(){this.redNum=this.FL35()},t.prototype.FL35=function(){return this.fairyData&&0==this.fairyData.af?1:0},t.prototype.notify=function(t,e){void 0===t&&(t=void 0),void 0===e&&(e=void 0),i.prototype.notifyView.call(this,this,t,e)},t}(TG79);__reflect(TG46.prototype,"TG46");var TG47=function(e){function t(t){return e.call(this,t)||this}return __extends(t,e),t.prototype.GU11=function(t){var e={type:P4.E44,body:t};this.rSMO(P4.E45,this.GU12,this),this.sSM(e)},t.prototype.GU12=function(t){this.apF(N11.A6,t)},t.prototype.GO35=function(){var t={type:P4.B66,body:{}};this.rSMO(P4.B67,this.GO36,this),this.sSM(t)},t.prototype.GO36=function(t){this.apF(N11.A4,t)},t.prototype.GM42=function(){var t={type:P4.A97,body:{}};this.rSMO(P4.A98,this.GM43,this),this.sSM(t)},t.prototype.GM43=function(t){this.apF(N11.A2,t)},t}(TG80);__reflect(TG47.prototype,"TG47");var FairyDescView=function(s){function t(t,e){var i=s.call(this,t,e)||this;return i.skinName="FairyDescSkin",i}return __extends(t,s),t.prototype.initUI=function(){s.prototype.initUI.call(this),this.lbStr1.textFlow=M18.HTP.parse(O3.tr(4930))},t.prototype.open=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];s.prototype.open.call(this),this.bgMask.addEventListener(egret.TouchEvent.TOUCH_TAP,this.closeSelf,this),this.initView()},t.prototype.initView=function(){this.lb1.textFlow=O3.tr2(8376),this.lb2.textFlow=O3.tr2(8375)},t.prototype.close=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];s.prototype.close.call(this),this.bgMask.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.closeSelf,this)},t.prototype.closeSelf=function(){App.CM.apF(O6.C9,N11.A11)},t}(BaseEuiView);__reflect(FairyDescView.prototype,"FairyDescView");var FairyRecordView=function(s){function t(t,e){var i=s.call(this,t,e)||this;return i.skinName="FairyRecordSkin",i}return __extends(t,s),t.prototype.initUI=function(){s.prototype.initUI.call(this),this.lbStr1.textFlow=O3.tr2(8515)},t.prototype.open=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];s.prototype.open.call(this),this.bgMask.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onclick,this),this.isShowView()},t.prototype.isShowView=function(){var t=App.CM.gtM(O6.C9).fairyData.arl,e="";if(0!=t.length)for(var i in t)e+=O3.tr(8516,t[i].an,N12.FK5(t[i].i+""),t[i].n)+"\n";else e=O3.tr(8517);this.recordLb.textFlow=M18.FG71(e),this.imgBg.height=this.recordLb.height+this.recordLb.y+10},t.prototype.onclick=function(){App.CM.apF(O6.C9,N11.A7)},t.prototype.uBM=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];s.prototype.uBM.call(this,t,e)},t.prototype.close=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];s.prototype.close.call(this),this.bgMask.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onclick,this)},t}(BaseEuiView);__reflect(FairyRecordView.prototype,"FairyRecordView");var FairyRewardView=function(s){function t(t,e){var i=s.call(this,t,e)||this;return i.closeCD=10,i.confList=[],i.itemArr=[],i.skinName="FairyRewardSkin",i}return __extends(t,s),t.prototype.initUI=function(){s.prototype.initUI.call(this),this.dgRewards.dataProvider=this.rewardsCollection=new eui.ArrayCollection,this.dgRewards.itemRenderer=ItemIcon,this.btnOk.label=O3.tr(4249)},t.prototype.open=function(t){this.params=t,P5.sIs(t.ob),App.CM.gtM(O6.C9).moving=!1,this.bgMask.addEventListener(egret.TouchEvent.TOUCH_TAP,this.closeSelf,this),this.btnOk.addEventListener(egret.TouchEvent.TOUCH_TAP,this.closeSelf,this),this.updateViews()},t.prototype.close=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];s.prototype.close.call(this),this.bgMask.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.closeSelf,this),this.btnOk.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.closeSelf,this);for(var i=1;i<4;i++)this["btn"+i].removeEventListener(egret.TouchEvent.TOUCH_TAP,this.click,this);this.timeHandler&&(App.K16.rBH(this.timeHandler),this.timeHandler=null)},t.prototype.updateViews=function(){this.ZJ83(),this.ZU24(),this.updateBuyBtn()},t.prototype.updateBuyBtn=function(){var t=App.CM.gtM(O6.C9).fairyData.cost.split("|")[1].split(";"),e={};this.itemArr=[];for(var i=1;i<4;i++){var s=t[i-1].split(","),o=s[1].split(":"),r=s[2].split(":");e={count:s[0],itemId:o[0],currNum:o[1]},this.itemArr.push(e),this["imgItem"+i].source=N12.FJ86(o[0]),this["lbMoney"+i].text=o[1],this["btn"+i].label=O3.tr(8509,s[0]),this["btn"+i].label2=O3.tr(8510,M18.FF65(r[1])+N12.FK5(r[0])),this["btn"+i].name=i-1,this["btn"+i].addEventListener(egret.TouchEvent.TOUCH_TAP,this.click,this),this["btn"+i].labelY="12",this["btn"+i].size="22"}},t.prototype.ZM77=function(){App.CM.gtM(O6.C9).moving=!0},t.prototype.click=function(t){var e=this.itemArr[t.currentTarget.name];if(1!=App.CM.gtM(O6.C9).moving)if(N12.giC(Number(e.itemId))<Number(e.currNum))P7.FA78();else if(P7.FF59()){var i={num:e.count};App.CM.apF(O6.C9,N11.A5,i),this.ZM77(),this.closeSelf(!1)}},t.prototype.ZJ83=function(){this.closeCD=10,this.ZU23(),this.timeHandler||(this.timeHandler=App.K16.doTimer(1e3,this.closeCD,this.ZU23,this))},t.prototype.ZU23=function(){this.closeCD--,this.closeCD<=0?this.closeSelf(!0):this.lbTime.textFlow=M18.HTP.parser(O3.tr(6435,this.closeCD))},t.prototype.ZU24=function(){var t=[];if(this.params&&this.params.ob&&0<this.params.ob.length){var e=this.params.ob,i=!0;for(var s in P7.FM14()&&(i=!1),e){var o=e[s],r=N12.gID(o.k);if(r){var n={itemData:{data:r,ct:o.v},isBottom:i};t.push(n)}}}this.rewardsCollection.replaceAll(t)},t.prototype.closeSelf=function(t){var e=App.CM.gtM(O6.C9);e.isTween=null==t||t,this.apF(N11.A8)},t}(BaseEuiView);__reflect(FairyRewardView.prototype,"FairyRewardView");var ItemFairyView=function(i){function t(t){var e=i.call(this)||this;return e.data=t,e.skinName=DialBuyItem,e.setData(),e}return __extends(t,i),t.prototype.setData=function(){this.imgItem.source=N12.FJ86(this.data.itemId),this.lbMoney.text=this.data.currNum,this.btn.label=O3.tr(8509,this.data.count),this.btn.label2=O3.tr(8510,M18.FF65(this.data.itemNum)+this.data.itemName),this.btn.labelY="12",this.btn.size="22",1==this.data.count?(this.lbBuy.visible=!0,this.timer()):this.lbBuy.visible=!1,this.btn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickGet,this)},t.prototype.timer=function(t,e){t&&(this.data.cd=t,this.data.af=e),0==this.data.af?(this.timeHandler&&(App.K16.rBH(this.timeHandler),this.timeHandler=null),this.isGratis(!0),this.lbBuy.textFlow=O3.tr2(8511),this.imgNew.visible=!0,App.CM.apF(O6.C9,N11.A1)):this.timeHandler||(this.isGratis(!1),this.imgNew.visible=!1,this.lbBuy.textFlow=O3.tr2(8512,P6.FJ11(1e3*Number(--this.data.cd),1)),this.timeHandler=App.K16.doTimer(1e3,0,this.GY14,this))},t.prototype.isGratis=function(t){this.lbMoney.visible=t?(this.btn.label=O3.tr(8518),this.btn.label2="",this.btn.labelY="0",this.btn.size="24",this.lbBuy.visible=!1,this.imgItem.visible=!1):(this.btn.label=O3.tr(8509,this.data.count),this.btn.label2=O3.tr(8510,M18.FF65(this.data.itemNum)+this.data.itemName),this.btn.labelY="12",this.btn.size="22",this.lbBuy.visible=!0,this.imgItem.visible=!0)},t.prototype.GY14=function(){this.data.cd<=0?(this.isGratis(!0),this.lbBuy.textFlow=O3.tr2(8511),this.imgNew.visible=!0,this.timeHandler&&(App.K16.rBH(this.timeHandler),this.timeHandler=null),App.CM.apF(O6.C9,N11.A1)):(this.isGratis(!1),this.imgNew.visible=!1,this.lbBuy.textFlow=O3.tr2(8512,P6.FJ11(1e3*Number(--this.data.cd),1)))},t.prototype.onClickGet=function(){if(N12.giC(Number(this.data.itemId))<Number(this.data.currNum)&&0!=this.data.af)P7.FA78();else{var t=App.CM.gtM(O6.C9);if(1!=t.moving&&P7.FF59()){var e={num:this.data.count};t.isTween=!0,App.CM.apF(O6.C9,N11.A5,e),this.ZM77()}}},t.prototype.GY64=function(){this.btn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickGet,this),this.timeHandler&&(App.K16.rBH(this.timeHandler),this.timeHandler=null)},t.prototype.ZM77=function(){App.CM.gtM(O6.C9).moving=!0},t}(eui.Component);__reflect(ItemFairyView.prototype,"ItemFairyView");var FairyData=function(i){function t(t){var e=i.call(this,t)||this;return e.af=1,e.updateData(t),e}return __extends(t,i),t.prototype.updateData=function(t){t&&(this.af=null!=t.af?t.af:this.af,this.cd=null!=t.cd?t.cd:this.cd,this.arl=null!=t.arl?t.arl:this.arl,this.ZU63(t))},t}(ActivityVo);__reflect(FairyData.prototype,"FairyData");var A10=function(){function t(){}return t.A4=0,t.A3=1,t.A1=2,t.A2=3,t}();__reflect(A10.prototype,"A10");var TA15=function(i){function t(){var t=i.call(this)||this,e=new TA68(t);return e.aLV(O7.B33),e.aLV(O7.A21),e.aLV(O7.HH30),App.VM.register(O7.A21,"RechargeBackawardMainView",t,K17.UI_Main),t.rgF(A10.A4,t.GB19,t),t.rgF(A10.A3,t.GA82,t),t.rechargeBackawardProxy=new TA69(t),t.rgF(A10.A1,t.GA28,t),t.rgF(A10.A2,t.GA29,t),t}return __extends(t,i),t.prototype.GA28=function(t){this.rechargeBackawardProxy.ZA37(t)},t.prototype.GA29=function(t){if(200==t.head.state){var e=t.body,i=this.gtM();i.ZC13(e),i.notify(),t.body.ob&&P5.sIs(t.body.ob)}else App.CM.apF(O6.B87,L10.A4,t)},t.prototype.GB19=function(t){App.VM.open(O7.A21,t);var e=App.CM.gtM(O6.A8);e.firstLoginRedNum=0,e.notify()},t.prototype.GA82=function(){App.VM.close(O7.A21)},t}(TE11);__reflect(TA15.prototype,"TA15");var TA68=function(i){function t(t){var e=i.call(this,t)||this;return e.openState=!1,e.redNum=0,e.firstLoginRedNum=0,e}return __extends(t,i),t.prototype.ZC13=function(t){t&&(null!=this.rechargeBackawardData?this.rechargeBackawardData.updateData(t):(this.rechargeBackawardData=new RechargeBackawardData(t),this.tips=this.rechargeBackawardData.tips),this.updateRed())},t.prototype.updateRed=function(){this.redNum=this.FL35()},t.prototype.FL35=function(){var t=0;t+=this.firstLoginRedNum;var e=this.rechargeBackawardData.confs;for(var i in e)if(e[i].getState==J13.A3){t+=1;break}return t},t.prototype.notify=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];i.prototype.notifyView.apply(this,[this].concat(t))},t}(TG79);__reflect(TA68.prototype,"TA68");var TA69=function(i){function t(t){var e=i.call(this,t)||this;return e.rSM(P4.A15,e.ZA38,e),e}return __extends(t,i),t.prototype.ZA37=function(t){var e={type:P4.A14,body:{index:t}};this.sSM(e)},t.prototype.ZA38=function(t){this.apF(A10.A2,t)},t}(TG80);__reflect(TA69.prototype,"TA69");var TB4=function(){function t(){}return t.FHH85=function(){var t=new Array,e=this.gtM().rechargeBackawardData.confs;for(var i in e){var s=e[i],o={};o.index=s.index,o.money=s.money,o.jipin=s.jp,o.getState=s.getState,o.price=s.p,o.rewards=s.aw,t.push(o)}return t},t.gtM=function(){return App.CM.gtM(O6.A8)},t}();__reflect(TB4.prototype,"TB4");var RechargeBackawardItemsView=function(a){function t(){var t=a.call(this)||this;return t.skinName=RechargeBackawardItemSkin,t.addEventListener(egret.Event.ADDED_TO_STAGE,t.open,t),t.addEventListener(egret.Event.REMOVED_FROM_STAGE,t.close,t),t}return __extends(t,a),t.prototype.open=function(){this.getBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.ZU29,this)},t.prototype.close=function(){this.getBtn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.ZU29,this),this.dataSource.removeAll()},t.prototype.childrenCreated=function(){a.prototype.createChildren.call(this),this.initUI()},t.prototype.initUI=function(){this.listContent.itemRenderer=ItemIcon,this.dataSource=new eui.ArrayCollection,this.listContent.dataProvider=this.dataSource,this.awardsSc.viewport=this.listContent,this.awardsSc.scrollPolicyH=eui.ScrollPolicy.OFF,this.awardsSc.scrollPolicyV=eui.ScrollPolicy.OFF,this.itemIcon=new ItemIcon,this.jipinGroup.addChild(this.itemIcon),this.getImg.$setVisible(!1)},t.prototype.dataChanged=function(){a.prototype.dataChanged.call(this);var t=O3.tr(3247,this.data.money);this.titleLb.textFlow=M18.HTP.parser(t);var e=O3.tr(3248,this.data.price);this.priceLb.textFlow=M18.HTP.parser(e),this.getBtn.imgNew.visible=!1,this.data.getState==J13.A1?(this.getBtn.colour=_ccBtn.brown,this.getBtn.bgStr="v1_btn_yellow_1_png",this.getBtn.label=O3.tr(3241),this.getBtn.$setVisible(!0),this.getImg.$setVisible(!1)):this.data.getState==J13.A3?(this.getBtn.colour=_ccBtn.brown,this.getBtn.bgStr="v1_btn_yellow_1_png",this.getBtn.label=O3.tr(3232),this.getBtn.$setVisible(!0),this.getImg.$setVisible(!1),this.getBtn.imgNew.visible=!0):(this.getBtn.$setVisible(!1),this.getImg.$setVisible(!0));var i=N12.gID(this.data.jipin.itemId),s=this.data.jipin.num,o={},r=!0;P7.FM14()&&(r=!1);var n=TF59.FC9(i.quality);o=n?{itemData:{data:i,ct:s,texiao:n},isBottom:r}:{itemData:{data:i,ct:s},isBottom:r},this.itemIcon.data=o,this.ZJ81(this.data.rewards)},t.prototype.ZJ81=function(t){var e=[];for(var i in t){var s={itemData:{data:N12.gID(t[i].k),ct:t[i].v},isBottom:!1,scale:.8};e.push(s)}this.dataSource.replaceAll(e)},t.prototype.ZU29=function(){this.data.getState==J13.A1?App.CM.apF(O6.C29,P8.A7):this.data.getState==J13.A3&&App.CM.apF(O6.A8,A10.A1,this.data.index)},t}(eui.ItemRenderer);__reflect(RechargeBackawardItemsView.prototype,"RechargeBackawardItemsView");var RechargeBackawardMainView=function(s){function t(t,e){var i=s.call(this,t,e)||this;return i.sGN("release_act1021"),App.VM.rgS(O7.A21,O7.B33,"RechargeBackawardView",i.content),i}return __extends(t,s),t.prototype.initUI=function(){s.prototype.initUI.call(this),this.title=O3.tr(4489)},t.prototype.open=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];s.prototype.open.call(this),TF59.FB15(F7.A11).openState?App.VM.open(O7.B33):P18.sDP(O3.tr(3205))},t.prototype.uBM=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];s.prototype.uBM.apply(this,[t].concat(e))},t}(BasePanelView);__reflect(RechargeBackawardMainView.prototype,"RechargeBackawardMainView");var RechargeBackawardView=function(s){function t(t,e){var i=s.call(this,t,e)||this;return i.skinName=RechargeBackawardSkin,i}return __extends(t,s),t.prototype.initUI=function(){s.prototype.initUI.call(this);var t={render:RechargeBackawardItemsView,gap:5,width:this.listGroup.width,height:this.listGroup.height};this.listView=new CommonListBase(t),this.listGroup.addChild(this.listView),this.listView.verticalCenter=0,this.listView.horizontalCenter=0},t.prototype.open=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];s.prototype.open.call(this),this.listView.open(),this.GX5()},t.prototype.uBM=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];s.prototype.uBM.call(this,t,e),t instanceof TA68&&this.GX5()},t.prototype.GX5=function(){var t=TB4.gtM(),e=O3.tr(3243,t.rechargeBackawardData.money);this.missionLb.textFlow=M18.HTP.parse(O3.tr(4488,e)),this.leftCD=t.rechargeBackawardData.ZHH64();var i=P6.FJ11(1e3*this.leftCD,5);this.cdLb.textFlow=M18.HTP.parser(O3.tr(3253,i)),this._timerHandler=App.K16.doTimer(1e3,this.leftCD,this.GY14,this);var s=TB4.FHH85();this.listView.rfL(s)},t.prototype.GY14=function(){this.leftCD--;var t=P6.FJ11(1e3*this.leftCD,5);this.cdLb.textFlow=M18.HTP.parser(O3.tr(3253,t)),this.leftCD<=0&&(this.cTH(),this.cdLb.text="")},t.prototype.cTH=function(){null!=this._timerHandler&&(App.K16.rBH(this._timerHandler),this._timerHandler=null)},t.prototype.close=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];s.prototype.close.call(this),this.cTH(),this.listView.close(),this.leftCD=null},t}(BaseEuiView);__reflect(RechargeBackawardView.prototype,"RechargeBackawardView");var RechargeBackawardConfVo=function(t){this.aw=[],this.jp={},this.getState=J13.A1,t&&(this.index=t.index,this.money=t.money,this.aw=t.aw,this.jp.itemId=this.aw[0].k,this.jp.num=this.aw[0].v,this.aw=this.aw.slice(1))};__reflect(RechargeBackawardConfVo.prototype,"RechargeBackawardConfVo");var RechargeBackawardData=function(i){function t(t){var e=i.call(this,t)||this;return e.confs=[],e.money=0,e.yaw=[],e.updateData(t),e}return __extends(t,i),t.prototype.updateData=function(t){if(t){if(this.yaw=t.yaw||this.yaw,this.money=null==t.money?this.money:t.money,t.confs){var e=t.confs;this.confs=[];var i=t.more;for(var s in e){var o=new RechargeBackawardConfVo(e[s]),r=i[s];o.p=r,this.confs.push(o)}}for(var s in this.confs){if(this.confs[s].getState=J13.A1,0<this.yaw.length)for(var n in this.yaw)if(this.confs[s].index==this.yaw[n]){this.confs[s].getState=J13.A2;break}this.money>=this.confs[s].money&&this.confs[s].getState!=J13.A2&&(this.confs[s].getState=J13.A3)}this.confs.sort(function(t,e){return t.getState==e.getState?t.index-e.index:t.getState-e.getState})}this.ZU63(t)},t}(ActivityVo);__reflect(RechargeBackawardData.prototype,"RechargeBackawardData");var D11=function(){function t(){}return t.A4=10001,t.A3=10002,t.A1=10003,t.A2=10004,t}();__reflect(D11.prototype,"D11");var TA70=function(i){function t(){var t=i.call(this)||this,e=new TC68(t);return e.aLV(O7.F3),e.aLV(O7.I64),e.aLV(O7.HH30),App.VM.register(O7.F3,"RechargeGiftView",t,K17.UI_Main_TOP),t.rgF(D11.A4,t.GF31,t),t.rgF(D11.A3,t.GE28,t),t.rechargeGiftProxy=new TC69(t),t.rgF(D11.A1,t.GC33,t),t.rgF(D11.A2,t.GC34,t),t}return __extends(t,i),t.prototype.GC33=function(t){this.rechargeGiftProxy.GC33(t)},t.prototype.GC34=function(t){if(200==t.head.state){var e=t.body,i=this.gtM();i.ZC13(e),i.notify(P4.D49),P5.sIs(t.body.ob)}else App.CM.apF(O6.B87,L10.A4,t)},t.prototype.GF31=function(){App.VM.open(O7.F3);var t=App.CM.gtM(O6.A57);t.firstLoginRedNum=0,t.notify()},t.prototype.GE28=function(){App.VM.close(O7.F3)},t}(TE11);__reflect(TA70.prototype,"TA70");var TC68=function(i){function t(t){var e=i.call(this,t)||this;return e.openState=!1,e.closeEnter=0,e.redNum=0,e.firstLoginRedNum=0,e}return __extends(t,i),t.prototype.ZC13=function(t){t&&(t.c&&(this.closeEnter=t.c),this.openNum=t.openNum||this.openNum,this.openState&&1!=this.closeEnter||App.CM.apF(O6.A57,D11.A3),null!=this.rechargeGiftData?this.rechargeGiftData.updateData(t):(this.rechargeGiftData=new RechargeGiftData(t),this.tips=this.rechargeGiftData.tips),this.updateRed())},t.prototype.updateRed=function(){this.redNum=this.FL35()},t.prototype.FL35=function(){var t=0;return t+=this.firstLoginRedNum,0<TD32.FA55()&&(t+=1),t},t.prototype.notify=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];i.prototype.notifyView.apply(this,[this].concat(t))},t}(TG79);__reflect(TC68.prototype,"TC68");var TC69=function(i){function t(t){var e=i.call(this,t)||this;return e.rSM(P4.D49,e.GC34,e),e}return __extends(t,i),t.prototype.GC33=function(t){var e={type:P4.D48,body:{id:t}};this.sSM(e)},t.prototype.GC34=function(t){this.apF(D11.A2,t)},t}(TG80);__reflect(TC69.prototype,"TC69");var TD32=function(){function t(){}return t.FA55=function(){var t=0,e=App.CM.gtM(O6.A57),i=e.rechargeGiftData.hasGetList,s=e.rechargeGiftData.hasBuyList;if(i.length==s.length)return t;for(var o in s){var r=s[o];if(-1==i.indexOf(r)){t=r;break}}return t},t.FB16=function(){return App.CM.gtM(O6.A57).rechargeGiftData.rechargeGiftConf[0].id},t.FA81=function(){return App.CM.gtM(O6.A57).rechargeGiftData.rechargeGiftConf[0].pid},t}();__reflect(TD32.prototype,"TD32");var RechargeGiftView=function(s){function t(t,e){var i=s.call(this,t,e)||this;return i.sGN("release_act1006"),i.skinName=RechargeGiftSkin,i}return __extends(t,s),t.prototype.initUI=function(){s.prototype.initUI.call(this),this.getBtn.labelDisplay.bold=!0,this.dgRewards.itemRenderer=ItemIcon,this.rewardsCollection=new eui.ArrayCollection,this.dgRewards.dataProvider=this.rewardsCollection,this.awardsSc.viewport=this.dgRewards,this.awardsSc.scrollPolicyH=eui.ScrollPolicy.OFF,this.awardsSc.scrollPolicyV=eui.ScrollPolicy.OFF,this.bottipLb.text=O3.tr(3207)},t.prototype.open=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];s.prototype.open.call(this),this.bgMask.addEventListener(egret.TouchEvent.TOUCH_TAP,this.closeSelf,this),this.closeBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.closeSelf,this),this.getBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.ZQ79,this),this.leftGp.addEventListener(egret.TouchEvent.TOUCH_TAP,this.leftClick,this),this.rightGp.addEventListener(egret.TouchEvent.TOUCH_TAP,this.righttClick,this);var i=App.CM.gtM(O6.A57);this.rechargeData=i.rechargeGiftData,this.pictureParam=M18.FL28(this.rechargeData.picture,"|",","),this.showGiftId=TD32.FB16(),this.GX5(i)},t.prototype.uBM=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];s.prototype.uBM.call(this,t,e),t instanceof TC68&&(e[0]==P4.D49&&(this.showGiftId=TD32.FB16()),this.GX5(t))},t.prototype.GX5=function(t){this.rechargeData=t.rechargeGiftData;var e,i=this.rechargeData.rechargeGiftConf,s=!1;for(var o in i)if(this.showGiftId==i[o].id){s=!0,e=i[o];break}if(s){this.leftGp.visible=this.showGiftId!=i[0].id,this.rightGp.visible=this.showGiftId!=i[i.length-1].id;var r=M18.FL28(this.rechargeData.more,";",",");if(this.showGiftId!=i[0].id)for(var n in r)if(parseInt(r[n][0])==this.showGiftId-1){P7.FD57(r[n][1],this.lbL);break}if(this.showGiftId!=i[i.length-1].id)for(var n in r)if(parseInt(r[n][0])==this.showGiftId+1){P7.FD57(r[n][1],this.lbR);break}if(TD32.FB16()==this.showGiftId){if(null!=this._timerHandler&&(App.K16.rBH(this._timerHandler),this._timerHandler=null),this.tipLb.visible=!1,this.cdLb.visible=!0,0<this.rechargeData.zeroCD){this.zeroCD=this.rechargeData.getZeroCD();var a=O3.tr(3253,P6.FJ11(1e3*this.zeroCD,5));this.cdLb.textFlow=M18.HTP.parse(a),this._timerHandler=App.K16.doTimer(1e3,this.zeroCD,this.GY14,this)}else this.cdLb.text="";P16.sGF(this.getBtn,!1),this.getBtn.enabled=!0,P7.FD53(this.getBtn,t.FL35());var h=TD32.FA55();0<TF59.FB47(h)?(this.getBtn.labelDisplay.text=O3.tr(3204),this.canGetGiftId=h):this.getBtn.labelDisplay.text=O3.tr(3208,[e.money])}else this.tipLb.visible=!0,this.cdLb.visible=!1,this.tipLb.text=O3.tr(3305),P7.FD53(this.getBtn,0),this.getBtn.labelDisplay.text=O3.tr(3208,e.money),P16.sGF(this.getBtn,!0),this.getBtn.enabled=!1;var p=e.awd;this.ZU24(p),3==p.length?this.awardsSc.x=160:4==p.length?this.awardsSc.x=117:5==p.length&&(this.awardsSc.x=79),this.fontImg.source=this.pictureParam[this.showGiftId-1][0];var l=N12.gID(p[0].k);this.nameLb.text=l.name;var c=this.pictureParam[this.showGiftId-1][1].split(":");this.GY15(c)}},t.prototype.GY15=function(t){var e,i,s,o=parseInt(t[0]);8!=o?(this.roleObj&&(this.grpBossArm.removeChildren(),this.roleObj.destory(),this.roleObj=null),this.grpBossArm.visible=!0,this.specialItemImg.visible=!1,1!=o&&(i=(e=App.CM.gtM(O6.B82)).avatarInfo.us[J11.A7],s=P7.copyTab(i))):(this.grpBossArm.visible=!1,this.specialItemImg.visible=!0);var r=new TF39;switch(r.x=0,r.y=0,r.dir=Dir.br,r.objType=P13.A6,o){case 1:r.id=parseInt(t[1]),this.setModelData(r),this.roleObj.action=Action.Stand;break;case 2:s.t=parseInt(t[1]),s.f=void 0,this.setModelData(s),this.roleObj.name=null;break;case 3:var n=t[1].split(";");s.id=parseInt(n[e.avatarInfo.ge]),s.t=void 0,this.setModelData(s),this.roleObj.name=null;break;case 4:s.f=parseInt(t[1]),s.t=void 0,this.setModelData(s),this.roleObj.name=null;break;case 5:s.h=parseInt(t[1]),s.t=void 0,this.setModelData(s),this.roleObj.name=null;for(var a=this.grpBossArm.getChildAt(0),h=0;h<a.numChildren;h++){var p=a.getChildAt(h);p.fight_st&&"h"!=p.fight_st&&(p.visible=!1)}break;case 6:s.we=parseInt(t[1]),s.t=void 0,this.setModelData(s),this.roleObj.name=null;break;case 7:s.wi=parseInt(t[1]),s.t=void 0,this.setModelData(s),this.roleObj.name=null;break;case 8:this.specialItemImg.source=t[1]}},t.prototype.setModelData=function(t){this.roleObj&&(this.grpBossArm.removeChildren(),this.roleObj.destory(),this.roleObj=null),this.roleObj=new FightGameObject;var e=new TF39;e.x=0,e.y=0,e.dir=Dir.br,e.objType=P13.A6,this.roleObj.setBaseData(e),t.bt=BehaviourType.Attack_d,t.sr=1,this.roleObj.setData(t,this.grpBossArm)},t.prototype.GY14=function(){this.zeroCD--;var t=O3.tr(3253,P6.FJ11(1e3*this.zeroCD,5));this.cdLb.textFlow=M18.HTP.parse(t)},t.prototype.ZU24=function(t){var e=[];for(var i in t){var s=N12.gID(t[i].k),o={itemData:{data:s,ct:t[i].v},isBottom:!1};if(0==parseInt(i)){var r=TF59.FC9(s.quality);r&&(o.itemData.texiao=r)}e.push(o)}this.rewardsCollection.replaceAll(e)},t.prototype.close=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];s.prototype.close.call(this),this.bgMask.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.closeSelf,this),this.closeBtn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.closeSelf,this),this.getBtn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.ZQ79,this),this.leftGp.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.leftClick,this),this.rightGp.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.righttClick,this),this._timerHandler&&App.K16.rBH(this._timerHandler),this.rechargeData=null,this.pictureParam=null,this.showGiftId=null,this.grpBossArm.removeChildren(),this.roleObj&&(this.roleObj.destory(),this.roleObj=null),this.rewardsCollection.removeAll()},t.prototype.leftClick=function(){this.showGiftId-=1;var t=App.CM.gtM(O6.A57);this.GX5(t),TG40.playClickEffect()},t.prototype.righttClick=function(){this.showGiftId+=1;var t=App.CM.gtM(O6.A57);this.GX5(t),TG40.playClickEffect()},t.prototype.closeSelf=function(){this.apF(D11.A3)},t.prototype.ZQ79=function(){if(0<App.CM.gtM(O6.A57).FL35())App.CM.apF(O6.A57,D11.A1,this.canGetGiftId);else{var t=TD32.FA81();App.CM.apF(O6.C29,P8.A1,t)}},t}(BaseEuiView);__reflect(RechargeGiftView.prototype,"RechargeGiftView");var RechargeGiftConfVo=function(){function t(t){this.awd=[],this.getState=J13.A1,this.initData(t)}return t.prototype.initData=function(t){t&&(this.id=t.id,this.pid=t.pid,this.money=t.m,this.awd=t.aw)},t}();__reflect(RechargeGiftConfVo.prototype,"RechargeGiftConfVo");var RechargeGiftData=function(i){function t(t){var e=i.call(this,t)||this;return e.zeroCD=0,e.hasGetList=[],e.hasBuyList=[],e.updateData(t),e}return __extends(t,i),t.prototype.updateData=function(t){if(t){if(this.zeroCD=null==t.t?this.zeroCD:t.t,this.hasGetList=t.yaw||this.hasGetList,this.hasBuyList=t.buy||this.hasBuyList,t.t&&(this.lastLoadTime=P6.getTime(!0)),t.cf){var e=t.cf;this.rechargeGiftConf=[];for(var i=0;i<e.length;i++){var s=new RechargeGiftConfVo(e[i]);this.rechargeGiftConf.push(s)}}if(0<this.hasGetList.length&&(this.hasGetList.sort(function(t,e){return t[1]-e[1]}),t.yaw))for(var o in this.hasGetList)for(i=0;i<this.rechargeGiftConf.length;i++)if(this.rechargeGiftConf[i].id==this.hasGetList[o]){this.rechargeGiftConf.splice(i,1);break}0<this.hasBuyList.length&&this.hasBuyList.sort(function(t,e){return t[1]-e[1]}),this.ZU63(t)}},t.prototype.getZeroCD=function(){var t=P6.getTime(!0)-this.lastLoadTime,e=this.zeroCD-t;return 0<e?e:0},t}(ActivityVo);__reflect(RechargeGiftData.prototype,"RechargeGiftData");var F11=function(){function t(){}return t.A4=10001,t.A3=10002,t.A1=10003,t.A2=10004,t}();__reflect(F11.prototype,"F11");var TB29=function(i){function t(){var t=i.call(this)||this,e=new TD81(t);return e.aLV(O7.D13),e.aLV(O7.G84),e.aLV(O7.I64),e.aLV(O7.HH30),App.VM.register(O7.D13,"SevenLoginMainView",t,K17.UI_Main),t.rgF(F11.A4,t.GD28,t),t.rgF(F11.A3,t.GC37,t),t.sevenLoginProxy=new TD82(t),t.rgF(F11.A1,t.GC35,t),t.rgF(F11.A2,t.GC36,t),t}return __extends(t,i),t.prototype.GC35=function(t){"fth5"!==platform.name&&"japan"!==platform.name&&"english"!==platform.name&&"wakool"!==platform.name&&"freetop"!==platform.name&&"ft7477"!==platform.name&&"youle"!==platform.name&&"my1737"!==platform.name&&"huanyu"!==platform.name&&"militop"!==platform.name&&"btgame"!==platform.name&&"sdw"!==platform.name&&"gaga"!==platform.name||(2==t?platform.collect("AddToCart"):3==t&&platform.collect("Subscribe")),this.sevenLoginProxy.GC35(t)},t.prototype.GC36=function(t){if(200==t.head.state){var e=t.body,i=this.gtM();i.ZC13(e),i.loginData.hasGetList.length>=i.loginData.signConf.length&&(this.ZT94(O6.A96,F11.A3),i.openState=!1),i.notify(),P5.sIs(t.body.ob)}else App.CM.apF(O6.B87,L10.A4,t)},t.prototype.GD28=function(t){App.VM.open(O7.D13,t);var e=App.CM.gtM(O6.A96);e.firstLoginRedNum=0,e.notify()},t.prototype.GC37=function(){App.VM.close(O7.D13)},t}(TE11);__reflect(TB29.prototype,"TB29");var TD81=function(i){function t(t){var e=i.call(this,t)||this;return e.openState=!1,e.redNum=0,e.firstLoginRedNum=0,e}return __extends(t,i),t.prototype.ZC13=function(t){t&&(null!=this.loginData?this.loginData.updateData(t):(this.loginData=new LoginData(t),this.tips=this.loginData.tips),this.updateRed())},t.prototype.updateRed=function(){this.redNum=this.FL35()},t.prototype.FL35=function(){var t=0;t+=this.firstLoginRedNum;var e=TE52.FHH88();for(var i in e)if(e[i].getState==J13.A3){t+=1;break}return t},t.prototype.notify=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];i.prototype.notifyView.call(this,this,t)},t}(TG79);__reflect(TD81.prototype,"TD81");var TD82=function(i){function t(t){var e=i.call(this,t)||this;return e.rSM(P4.C69,e.GC36,e),e}return __extends(t,i),t.prototype.GC35=function(t){var e={type:P4.C68,body:{id:t}};this.sSM(e)},t.prototype.GC36=function(t){this.apF(F11.A2,t)},t}(TG80);__reflect(TD82.prototype,"TD82");var TE52=function(){function o(){}return o.FHH88=function(){var t=[];return t=App.CM.gtM(O6.A96).loginData.signConf||t},o.FF79=function(t){var e=0,i=o.FHH88();for(var s in i)if(i[s].day==t&&i[s].getState==J13.A3){e+=1;break}return e},o}();__reflect(TE52.prototype,"TE52");var SevenLoginMainView=function(s){function t(t,e){var i=s.call(this,t,e)||this;return i.sGN("release_act1005"),App.VM.rgS(O7.D13,O7.G84,"SevenLoginView",i.content),i}return __extends(t,s),t.prototype.initUI=function(){s.prototype.initUI.call(this);var t=[O7.G84];this.btnList=new ButtonList([],t,this.ZQ23.bind(this)),this.btnList.init(),this.btnGroup.addChild(this.btnList),this.btnList.visible=!1},t.prototype.open=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];s.prototype.open.call(this),this.updateBtnRed();var i=t[0]||O7.G84;this.ZQ23(i)},t.prototype.uBM=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];s.prototype.uBM.call(this,t,e),this.updateBtnRed()},t.prototype.ZQ23=function(t){switch(t){case O7.G84:var e=TF59.FB15(F7.A87);if(!e.openState)return P18.sDP(O3.tr(3205)),-1;this.title=e.loginData.name,this.btnList.ZM66(t)}},t.prototype.updateBtnRed=function(){},t}(BasePanelView);__reflect(SevenLoginMainView.prototype,"SevenLoginMainView");var SevenLoginView=function(o){function t(t,e){var i=o.call(this,t,e)||this;return i.skinName=LoginGiveGoldSkin,i}return __extends(t,o),t.prototype.initUI=function(){o.prototype.initUI.call(this);var t={render:SevenLoginItem,gap:5,width:this.listGroup.width,height:this.listGroup.height};this.listView=new CommonListBase(t),this.listGroup.addChild(this.listView),this.listView.verticalCenter=0,this.listView.horizontalCenter=0},t.prototype.open=function(){for(var t=this,e=[],i=0;i<arguments.length;i++)e[i]=arguments[i];o.prototype.open.call(this),this.listView.open();var s=App.CM.gtM(O6.A96);this.GX5(s),egret.Tween.get(this).wait(100).call(function(){TG68.FD9(t,N4.seven_login_btn,!1),t.ZD61(App.CM.gtM(O6.C20))},this)},t.prototype.uBM=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];o.prototype.uBM.call(this,t,e),t instanceof TD81?this.GX5(t):t instanceof TF84&&this.ZD61(t)},t.prototype.ZD61=function(t){var e=t.ZM12();this.listView.enable=!0,e&&e.nId==this.currStepId&&(t.ZJ29(this.currStepId)?TG68.FJ82(O7.D13,N4.basePanel):this.listView.enable=!1)},t.prototype.GX5=function(t){this.loginData=t.loginData,2<=this.loginData.day?this.bannerImg.source="v1_bg_tiantianb_jpg":this.bannerImg.source="v1_bg_tiantian_jpg";var e=this.loginData.signConf;this.listView.rfL(e)},t.prototype.close=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];o.prototype.close.call(this),this.listView.close()},t}(BaseEuiView);__reflect(SevenLoginView.prototype,"SevenLoginView");var SevenLoginItem=function(e){function t(){var t=e.call(this)||this;return t.skinName=LoginItemSkin,t.addEventListener(egret.Event.ADDED_TO_STAGE,t.open,t),t.addEventListener(egret.Event.REMOVED_FROM_STAGE,t.close,t),t}return __extends(t,e),t.prototype.open=function(){this.getBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.ZU29,this)},t.prototype.close=function(){this.getBtn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.ZU29,this),this.rewardsCollection.removeAll()},t.prototype.childrenCreated=function(){e.prototype.createChildren.call(this),this.initUI()},t.prototype.initUI=function(){this.dgRewards.itemRenderer=ItemIcon,this.rewardsCollection=new eui.ArrayCollection,this.dgRewards.dataProvider=this.rewardsCollection,this.awardsSc.viewport=this.dgRewards,this.awardsSc.scrollPolicyH=eui.ScrollPolicy.OFF,this.awardsSc.scrollPolicyV=eui.ScrollPolicy.OFF,this.getBtn.label=O3.tr(3887)},t.prototype.dataChanged=function(){this.waitLb.text="",this.dayImg.source="v1_fonts_dijt0"+this.data.day+"_png";var t=App.CM.gtM(O6.A96);this.data.day==t.loginData.day+1?this.tomorrowImg.visible=!0:(this.tomorrowImg.visible=!1,this.data.day>t.loginData.day+1&&(this.waitLb.text=O3.tr(3201))),this.data.getState==J13.A3?(this.getBtn.visible=!0,P7.FD53(this.getBtn,1)):(this.getBtn.visible=!1,P7.FD53(this.getBtn,0),this.data.getState==J13.A2&&(this.waitLb.text=O3.tr(3202)));var e=this.FK41(this.data.awd);if(2==this.data.day||7==this.data.day){var i=TF59.FC9(e[0].itemData.data.quality);i&&(e[0].itemData.texiao=i)}2==this.data.day&&this.data.getState!=J13.A2?this.imgTip.visible=!0:this.imgTip.visible=!1,this.rewardsCollection.replaceAll(e)},t.prototype.FK41=function(t){for(var e=[],i=0;i<t.length;i++){var s=N12.gID(t[i].k);if(s){s.ct=t[i].v;var o={data:s,ct:s.ct};P7.FM14()?e.push({itemData:o,isBottom:!1,scale:.85,scaleFirst:1,isFirstBottom:!1}):e.push({itemData:o,isBottom:!1,scale:.85,scaleFirst:1})}}return e},t.prototype.ZU29=function(){App.CM.apF(O6.A96,F11.A1,this.data.day)},t.prototype.onRemoveStage=function(){App.THH33.rEf(this.txGp,"square_zi"),App.THH33.rEf(this.txGp,"square_cheng")},t}(eui.ItemRenderer);__reflect(SevenLoginItem.prototype,"SevenLoginItem");var LoginData=function(i){function t(t){var e=i.call(this,t)||this;return e.signConf=[],e.day=1,e.hasGetList=[],e.updateData(t),e}return __extends(t,i),t.prototype.updateData=function(t){if(t){if(this.day=null==t.d?this.day:t.d,this.hasGetList=t.ad||this.hasGetList,t.cf){var e=t.cf;this.signConf=[];for(var i=0;i<e.length;i++){var s=new SignConfVo(e[i]);this.signConf.push(s)}}for(var i in this.signConf){if(0<this.hasGetList.length)for(var o in this.hasGetList)this.signConf[i].day==this.hasGetList[o]&&(this.signConf[i].getState=J13.A2);this.day>=this.signConf[i].day&&this.signConf[i].getState!=J13.A2&&(this.signConf[i].getState=J13.A3)}this.signConf.sort(function(t,e){return t.getState==e.getState?t.day-e.day:t.getState-e.getState}),this.ZU63(t)}},t}(ActivityVo);__reflect(LoginData.prototype,"LoginData");var SignConfVo=function(){function t(t){this.awd=[],this.getState=J13.A1,this.initData(t)}return t.prototype.initData=function(t){t&&(this.day=t.d,this.awd=t.aw)},t}();__reflect(SignConfVo.prototype,"SignConfVo");var K8=function(){function t(){}return t.A4=10001,t.A3=10002,t.A1=10003,t.A2=10004,t}();__reflect(K8.prototype,"K8");var TC70=function(i){function t(){var t=i.call(this)||this,e=new TF73(t);return e.aLV(O7.I46),e.aLV(O7.I64),e.aLV(O7.I77),e.aLV(O7.I87),e.aLV(O7.I65),e.aLV(O7.I88),App.VM.register(O7.I46,"ShootupView",t,K17.UI_Main_TOP),t.rgF(K8.A4,t.GO37,t),t.rgF(K8.A3,t.GM44,t),t.shootupProxy=new TF74(t),t.rgF(K8.A1,t.GG89,t),t.rgF(K8.A2,t.GG90,t),t}return __extends(t,i),t.prototype.GG89=function(){this.shootupProxy.GG89()},t.prototype.GG90=function(t){if(200==t.head.state){var e=t.body,i=this.gtM();i.ZC13(e),i.notify(),P5.sIs(t.body.ob)}else App.CM.apF(O6.B87,L10.A4,t)},t.prototype.GO37=function(){App.VM.open(O7.I46);var t=App.CM.gtM(O6.B67);t.firstLoginRedNum=0,t.notify()},t.prototype.GM44=function(){App.VM.close(O7.I46)},t}(TE11);__reflect(TC70.prototype,"TC70");var TF73=function(i){function t(t){var e=i.call(this,t)||this;return e.openState=!1,e.closeEnter=0,e.redNum=0,e.firstLoginRedNum=0,e}return __extends(t,i),t.prototype.ZC13=function(t){t&&(t.taked&&(this.closeEnter=t.taked),1==this.closeEnter&&App.CM.apF(O6.B67,K8.A3),null!=this.shootupData?this.shootupData.updateData(t):(this.shootupData=new ShootupData(t),this.tips=this.shootupData.tips),this.updateRed())},t.prototype.updateRed=function(){this.redNum=this.FL35()},t.prototype.FL35=function(){var t=0;if(this.openState){t+=this.firstLoginRedNum;var e=this.shootupData,i=e.shootUpConfVo.needMoney;e.hasRecharge>=i&&1!=e.taked&&(t+=1);var s=e.shootUpConfVo.awd[0].k;0<N12.giC(s)&&(t+=1)}return t},t.prototype.notify=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];i.prototype.notifyView.call(this,this,t)},t}(TG79);__reflect(TF73.prototype,"TF73");var TF74=function(i){function t(t){var e=i.call(this,t)||this;return e.rSM(P4.M24,e.GG90,e),e}return __extends(t,i),t.prototype.GG89=function(){var t={type:P4.M23,body:{}};this.sSM(t)},t.prototype.GG90=function(t){this.apF(D11.A2,t)},t}(TG80);__reflect(TF74.prototype,"TF74");var J12=function(){function t(){}return t.A5=1,t.A6=2,t.A4=3,t.A7=4,t.A2=5,t.A1=6,t.A3=7,t.A8=8,t}();__reflect(J12.prototype,"J12");var TG7=function(){function t(){}return t.FA12=function(t){switch(t){case J12.A5:return E5.A11;case J12.A6:return E5.A13;case J12.A4:return E5.A9;case J12.A7:return E5.A12;case J12.A2:return E5.A5;case J12.A1:return E5.A3;case J12.A3:return E5.A6;case J12.A8:return E5.A4}return 0},t.FA82=function(t,e){var i=N12.giC(e),s=App.CM.gtM(O6.B67);return null!=s.shootupData&&s.shootupData.parVer==t&&s.openState?!(1==s.closeEnter&&i<=0):0<i},t}();__reflect(TG7.prototype,"TG7");var ShootupView=function(s){function t(t,e){var i=s.call(this,t,e)||this;return i.sGN("release_act1003"),i.skinName=ShootupSkin,i}return __extends(t,s),t.prototype.initUI=function(){s.prototype.initUI.call(this),this.bottipLb.text=O3.tr(3233),this.listContent.itemRenderer=ItemIcon,this.dataSource=new eui.ArrayCollection,this.listContent.dataProvider=this.dataSource,this.awardsSc.viewport=this.listContent,this.awardsSc.scrollPolicyH=eui.ScrollPolicy.OFF,this.awardsSc.scrollPolicyV=eui.ScrollPolicy.OFF},t.prototype.open=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];s.prototype.open.call(this),this.bgMask.addEventListener(egret.TouchEvent.TOUCH_TAP,this.closeSelf,this),this.closeBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.closeSelf,this),this.getBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.ZQ79,this),this.getBtn.colour=_ccBtn.brown;var i=App.CM.gtM(O6.B67);this.rechargeLb.text=i.shootupData.cost+"",this.ZD62(i)},t.prototype.uBM=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];s.prototype.uBM.call(this,t,e),t instanceof TF73&&this.ZD62(t)},t.prototype.ZD62=function(t){this.shootupData=t.shootupData;var e=this.shootupData.picture.split(",");this.bgImg.source=e[0];var i=this.shootupData.shootUpConfVo;if(this.hasRechargeLb.text=O3.tr(3200,this.shootupData.hasRecharge),null==this._timerHandler)if(0<this.shootupData.zeroCD){this.zeroCD=this.shootupData.getZeroCD();var s=O3.tr(3276,P6.FJ11(1e3*this.zeroCD,5));this.cdLb.textFlow=M18.HTP.parse(s),this._timerHandler=App.K16.doTimer(1e3,this.zeroCD,this.GY14,this)}else this.cdLb.text="";var o=i.awd,r=[];for(var n in o){var a=N12.gID(o[n].k),h={itemData:{data:a,ct:o[n].v},isBottom:!1,scale:.9};if(0==parseInt(n)){var p=TF59.FC9(a.quality);p&&(h.itemData.texiao=p)}r.push(h)}this.dataSource.replaceAll(r);var l=t.FL35();P7.FD53(this.getBtn,l),this.getBtn.labelDisplay.text=0<l?O3.tr(3234):O3.tr(3203)},t.prototype.GY14=function(){this.zeroCD--;var t=O3.tr(3276,P6.FJ11(1e3*this.zeroCD,5));this.cdLb.textFlow=M18.HTP.parse(t),this.zeroCD<=0&&(this.cTH(),this.cdLb.text="")},t.prototype.cTH=function(){null!=this._timerHandler&&(App.K16.rBH(this._timerHandler),this._timerHandler=null)},t.prototype.close=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];s.prototype.close.call(this),this.bgMask.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.closeSelf,this),this.closeBtn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.closeSelf,this),this.getBtn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.ZQ79,this),this.cTH(),this.dataSource.removeAll()},t.prototype.closeSelf=function(){this.apF(D11.A3)},t.prototype.ZQ79=function(){0<App.CM.gtM(O6.B67).FL35()?App.CM.apF(O6.B67,K8.A1):App.CM.apF(O6.C29,P8.A7)},t}(BaseEuiView);__reflect(ShootupView.prototype,"ShootupView");var ShootUpConfVo=function(){function t(t){this.awd=[],this.initData(t)}return t.prototype.initData=function(t){t&&(this.needMoney=t.cost,this.awd=t.reward)},t}();__reflect(ShootUpConfVo.prototype,"ShootUpConfVo");var ShootupData=function(i){function t(t){var e=i.call(this,t)||this;return e.zeroCD=0,e.taked=0,e.hasRecharge=0,e.updateData(t),e}return __extends(t,i),t.prototype.updateData=function(t){t&&(this.taked=null==t.taked?this.taked:t.taked,this.hasRecharge=null==t.recharge?this.hasRecharge:t.recharge,this.zeroCD=null==t.cd?this.zeroCD:t.cd,t.cd&&(this.lastLoadTime=P6.getTime(!0)),t.config&&(this.shootUpConfVo=new ShootUpConfVo(t.config)),this.ZU63(t))},t.prototype.getZeroCD=function(){var t=P6.getTime(!0)-this.lastLoadTime,e=this.zeroCD-t;return 0<e?e:0},t}(ActivityVo);__reflect(ShootupData.prototype,"ShootupData");var J2=function(){function t(){}return t.A1=1,t.A2=2,t}();__reflect(J2.prototype,"J2");var TC16=function(i){function t(){var t=i.call(this)||this;t.proxy=new TF30(t);var e=new TF29(t);return e.aLV(O7.I28),e.aLV(O7.F64),t.rgF(J2.A1,t.GQ33,t),t.rgF(J2.A2,t.GQ34,t),t}return __extends(t,i),t.prototype.GQ33=function(){this.proxy.GQ33()},t.prototype.GQ34=function(t){var e=this.gtM();200==t.head.state?(P5.sIs(t.body.ob),e.ZC13(t.body),e.notify(P4.I45)):App.CM.apF(O6.B87,L10.A4,t)},t}(TE11);__reflect(TC16.prototype,"TC16");var TF29=function(i){function t(t){var e=i.call(this,t)||this;return e.openState=!1,e.redNum=0,e.firstLoginRedNum=0,e}return __extends(t,i),t.prototype.ZC13=function(t){t&&(null!=this.actData?this.actData.updateData(t):(this.actData=new SuperVipData(t),this.tips=this.actData.tips),this.updateRed())},t.prototype.updateRed=function(){this.redNum=this.FL35()},t.prototype.FL35=function(){return this.actData&&1==this.actData.svState?1:this.firstLoginRedNum},t.prototype.notify=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];i.prototype.notifyView.apply(this,[this].concat(t))},t}(TG79);__reflect(TF29.prototype,"TF29");var TF30=function(i){function t(t){var e=i.call(this,t)||this;return e.rSM(P4.I45,e.GQ34,e),e}return __extends(t,i),t.prototype.GQ33=function(){var t={type:P4.I44,body:{}};this.sSM(t)},t.prototype.GQ34=function(t){this.apF(J2.A2,t)},t}(TG80);__reflect(TF30.prototype,"TF30");var QRCode=function(s){function t(t,e){var i=s.call(this,t,e)||this;return i.imgUrl="./resource/assets/superVip/",i.skinName=QRCodeSkin,i}return __extends(t,s),t.prototype.open=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];s.prototype.open.call(this),App.TG37.getStage().addEventListener(egret.StageOrientationEvent.ORIENTATION_CHANGE,this.onResize,this),this.bgMask.addEventListener(egret.TouchEvent.TOUCH_TAP,this.closeSelf,this),this.onResize()},t.prototype.onResize=function(){this.imgUrl&&this.codeImg&&this.showCode(this.codeImg)},t.prototype.showCode=function(t){this.codeImg=t;var e=App.CM.gtM(O6.B52),i=this.imgUrl+e.actData.confs.url;if(null==this.myImg){var s=document.getElementById("gameDiv");this.myImg=document.createElement("img"),this.myImg.src=i,this.myImg.style.position="absolute",this.myImg.style.display="none",s.appendChild(this.myImg)}var o=App.TG37.getWidth(),r=App.TG37.getHeight();if(document.body.clientWidth<document.body.clientHeight){var n=document.body.clientWidth/o,a=document.body.clientHeight/r;this.myImg.style.width=t.width*n+"px",this.myImg.style.height=t.height*a+"px",this.myImg.style.left=(document.body.clientWidth-t.width*n)/2+"px",this.myImg.style.top=t.y*a+"px",this.myImg.style.display="inline"}else{n=document.body.clientWidth/r,a=document.body.clientHeight/o;this.myImg.style.width=t.height*n+"px",this.myImg.style.height=t.width*a+"px",this.myImg.style.top=(o-t.x-t.width)*a+"px",this.myImg.style.left=t.y*n+"px",this.myImg.style.display="inline"}},t.prototype.closeSelf=function(){App.CM.apF(O6.C29,P8.A14)},t.prototype.hideCode=function(){this.myImg&&(this.myImg.style.display="none")},t.prototype.close=function(){this.bgMask.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.closeSelf,this),this.hideCode()},t.prototype.onDestroy=function(){App.TG37.getStage().removeEventListener(egret.StageOrientationEvent.ORIENTATION_CHANGE,this.onResize,this),this.codeImg=null},t}(BaseEuiView);__reflect(QRCode.prototype,"QRCode");var SuperVipView=function(s){function t(t,e){var i=s.call(this,t,e)||this;return i.sGN("release_svip"),i.skinName=SuperVipSkin,i}return __extends(t,s),t.prototype.initUI=function(){this.itemCollection=new eui.ArrayCollection,this.dgAward.dataProvider=this.itemCollection,this.dgAward.itemRenderer=ItemIcon,this.btnRecharge.label=O3.tr(5794)},t.prototype.open=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];s.prototype.open.call(this),this.lbAdd.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickLink,this),this.btnRecharge.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickGo,this);var i=App.CM.gtM(O6.B52);this.ZE82(i),this.initReward(i)},t.prototype.uBM=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];s.prototype.uBM.call(this,t,e);e[0];t instanceof TF29&&this.ZE82(t)},t.prototype.ZE82=function(t){var e=t.actData.confs,i=t.actData.svState;if(1==t.actData.parVer){this.currentState="qq";var s=0!=i?e.ct:"*********";this.lbQQ.text=O3.tr(6487,s),this.lbAdd.textFlow=O3.tr2(7013)}else if(2==t.actData.parVer){this.currentState="wx",this.imgWx.visible=0!=i;var o=e.url.split(".");this.imgWx.source=o[0]+"_"+o[1],this.lbAdd.textFlow=O3.tr2(6488)}this.lbAdd.visible=0!=i,this.imgRed.visible=1==i,this.btnRecharge.enabled=0==i,P16.sGF(this.btnRecharge,0!=i),this.btnRecharge.enabled=0==i,this.imgPic.source=e.pic;var r=0;for(var n in e.cond)switch(r++,Number(n)){case 1:this["lbTip"+r].textFlow=O3.tr2(6873,r,e.cond[n]);break;case 2:this["lbTip"+r].textFlow=O3.tr2(6872,r,e.cond[n]);break;case 3:this["lbTip"+r].textFlow=O3.tr2(6871,r,e.cond[n])}for(var a=r+1;a<=3;a++)this["lbTip"+a].visible=this["lbTip"+a].includeInLayout=!1;var h=this.gpTip.layout;2==r?h.gap=4:3==r&&(h.gap=1)},t.prototype.initReward=function(t){var e=t.actData.confs.award,i=[];for(var s in e){var o=e[s],r={data:N12.gID(o.k),ct:o.v};i.push({itemData:r,isBottom:!1,scale:1})}this.itemCollection.replaceAll(i)},t.prototype.onClickGo=function(){App.CM.apF(O6.C29,P8.A7)},t.prototype.onClickLink=function(){App.CM.apF(O6.B52,J2.A1);var t=App.CM.gtM(O6.B52);"qq"==this.currentState?"wxgame"===platform.name?platform.setClipboardData(t.actData.confs.ct,function(){P18.sDP(O3.tr(5650))}):(O4.FE66(t.actData.confs.ct),P18.sDP(O3.tr(5650))):"wx"==this.currentState&&App.CM.apF(O6.C29,P8.A15)},t.prototype.close=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];s.prototype.close.call(this),this.lbAdd.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickLink,this),this.btnRecharge.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickGo,this)},t}(BaseEuiView);__reflect(SuperVipView.prototype,"SuperVipView");var SuperVipData=function(i){function t(t){var e=i.call(this,t)||this;return e.confs={pic:"",ct:"",url:"",award:[],cond:{},isShow:0},e.updateData(t),e}return __extends(t,i),t.prototype.updateData=function(t){t.sv&&(this.confs={pic:P7.getValue(t.sv.p,this.confs.pic),ct:P7.getValue(t.sv.ct,this.confs.ct),url:P7.getValue(t.sv.url,this.confs.url),award:P7.getValue(t.sv.aw,this.confs.award),cond:P7.getValue(t.sv.cond,this.confs.cond),isShow:P7.getValue(t.sv.sw,this.isShow)}),this.svState=P7.getValue(t.svSt,this.svState),this.ZU63(t)},t}(ActivityVo);__reflect(SuperVipData.prototype,"SuperVipData");var I8=function(){function i(){}return i.FK35=function(t){i.init=t.treasure_init,i.show=t.treasure_show,i.explain=t.treasure_explain},i.gIV=function(t){var e=void 0;return i.init?e=i.init[t].value:e},i.FJ28=function(t){var e=void 0;return i.show?e=i.show[t]:e},i.FK42=function(t){var e=this.getBuyInit(t);return{id:t,itemId:e.split(":")[0],itemNum:e.split(":")[1]}},i.getBuyInit=function(t){switch(t){case 1:return this.gIV("bangyuanCostTen");case 2:return this.gIV("yuanbaoCostSingle");case 3:return this.gIV("yuanbaoCostTen");default:return}},i.getBuyReward=function(t){switch(t){case 1:return this.gIV("bangyuanTemShow");case 2:return this.gIV("yuanbaoSingleShow");case 3:return this.gIV("yuanbaoTenShow");default:return}},i.FD69=function(t){for(var e=[],i=this.getBuyReward(t).split("|"),s=0;s<i.length;s++){var o=i[s].split(":"),r={id:o[0],itemId:o[1],itemNum:o[2]};e.push(r)}return e.sort(function(t,e){return t.id-e.id}),e},i}();__reflect(I8.prototype,"I8");var I12=function(){function t(){}return t.A6=10001,t.A7=10002,t.A1=10003,t.A2=10004,t.A9=10005,t.A8=10006,t.A5=10007,t.A4=10008,t.A3=10009,t}();__reflect(I12.prototype,"I12");var TC17=function(i){function t(){var t=i.call(this)||this,e=new TF31(t);return e.aLV(O7.A87),e.aLV(O7.I64),t.proxy=new TF32(t),t.rgF(I12.A6,t.huntReq,t),t.rgF(I12.A7,t.huntRes,t),t.rgF(I12.A1,t.GS20,t),t.rgF(I12.A2,t.GR93,t),App.VM.register(O7.F11,"TreasureDescView",t,K17.UI_Popup),t.rgF(I12.A8,t.GF32,t),t.rgF(I12.A5,t.GE29,t),App.VM.register(O7.C59,"TreasureRewardView",t,K17.UI_Popup),t.rgF(I12.A4,t.GC38,t),t.rgF(I12.A3,t.GB59,t),t.rgF(I12.A9,t.GX7,t),t}return __extends(t,i),t.prototype.GX7=function(t){if(200==t.head.state){var e=this.gtM();t.body&&e.ZC13(t.body),e.notify(P4.A74)}else App.CM.apF(O6.B87,L10.A4,t)},t.prototype.huntReq=function(t){this.proxy.huntReq(t)},t.prototype.huntRes=function(t){var e=this.gtM();if(200!=t.head.state)return App.CM.apF(O6.B87,L10.A4,t),e.moving=!1,void(e.isTween=!0);e.ZC13(t.body),e.notify(P4.L72,t.body)},t.prototype.GS20=function(){this.proxy.GS20()},t.prototype.GR93=function(t){if(200==t.head.state){var e=this.gtM();t.body&&(e.ZC13(t.body),null!=t.body.f&&(e.treasureData.f=t.body.f),null!=t.body.l&&(e.treasureData.l=t.body.l)),e.notify(P4.B16,t.body)}else App.CM.apF(O6.B87,L10.A4,t)},t.prototype.GF32=function(){App.VM.open(O7.F11)},t.prototype.GE29=function(){App.VM.close(O7.F11)},t.prototype.GC38=function(t){App.VM.open(O7.C59,t)},t.prototype.GB59=function(){App.VM.close(O7.C59)},t}(TE11);__reflect(TC17.prototype,"TC17");var TF31=function(i){function t(t){var e=i.call(this,t)||this;return e.openState=!1,e.redNum=0,e.openRemind=!1,e.firstLoginRedNum=0,e}return __extends(t,i),t.prototype.ZC13=function(t){t&&(null!=this.treasureData?this.treasureData.updateData(t):(this.treasureData=new TreasureData(t),this.tips=this.treasureData.tips),this.updateRed())},t.prototype.updateRed=function(){this.redNum=this.FL35(),this.ZJ86()},t.prototype.ZJ86=function(){var t=O4.getLv(),e=I8.init.pictureLevel.value,i=parseInt(M18.FL28(e,":")[0]),s=parseInt(M18.FL28(e,":")[1]);i<=t&&t<=s&&1==this.openState&&0<this.firstLoginRedNum?this.openRemind=!0:this.openRemind=!1},t.prototype.FL35=function(){var t=0;return t+=this.firstLoginRedNum,0<TF59.FB15(F7.A14).treasureData.freeNum&&(t+=1),t},t.prototype.notify=function(t,e){void 0===t&&(t=void 0),void 0===e&&(e=void 0),i.prototype.notifyView.call(this,this,t,e)},t}(TG79);__reflect(TF31.prototype,"TF31");var dial,TF32=function(i){function t(t){var e=i.call(this,t)||this;return e.rSM(P4.A74,e.GX7,e),e}return __extends(t,i),t.prototype.GX7=function(t){this.apF(I12.A9,t)},t.prototype.huntReq=function(t){var e={type:P4.L71,body:t};this.rSMO(P4.L72,this.huntRes,this),this.sSM(e)},t.prototype.huntRes=function(t){this.apF(I12.A7,t)},t.prototype.GS20=function(){var t={type:P4.B15,body:{}};this.rSMO(P4.B16,this.GR93,this),this.sSM(t)},t.prototype.GR93=function(t){this.apF(I12.A2,t)},t}(TG80);__reflect(TF32.prototype,"TF32"),function(t){var e=function(){};(dial||(dial={})).TreasureReportVo=e,__reflect(e.prototype,"dial.TreasureReportVo")}();var TF75=function(){function t(){}return t.FK40=function(){var t=App.CM.gtM(O6.B45),e=O4.getLv(),i=I8.init.pictureLevel.value,s=parseInt(M18.FL28(i,":")[0]),o=parseInt(M18.FL28(i,":")[1]);s<e&&e<o&&t&&1==t.openState&&0<t.firstLoginRedNum&&(t.openRemind=!0,t.notify())},t}();__reflect(TF75.prototype,"TF75");var ItemTrBuyView=function(i){function t(t){var e=i.call(this)||this;return e.index=t,e.skinName=DialBuyItem,e}return __extends(t,i),t.prototype.setData=function(t){this.ZU86(),this.index=t;var e=I8.FK42(t);this.itemId=e.itemId,this.itemNeed=e.itemNum,this.imgItem.source=N12.FJ86(e.itemId),this.lbMoney.textFlow=M18.HTP.parse(O3.tr(3851,e.itemNum)),this.btn.label=this.getBtnLabel(),1==this.index?(this.btn.bgStr="v1_btn_green_1_png",this.grplucky.visible=!1):(this.btn.bgStr="v1_btn_yellow_1_png",this.grplucky.visible=!0),this.isFree=!1;var i=TF59.FB15(F7.A14).treasureData;this.btn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickGet,this),2==this.index?(this.btn.validateNow(),0<i.freeNum?(this.imgNew.visible=!0,this.lbMoney.textFlow=M18.HTP.parse(O3.tr(5553,i.freeNum)),this.lbBuy.textFlow=M18.HTP.parse(O3.tr(5554)),this.imgItem.visible=this.imgItem.includeInLayout=!1,this.isFree=!0,this.FM13(),this.lbBuy.visible=!0):(this.imgNew.visible=!1,this.lbBuy.visible=!1,this.imgItem.visible=this.imgItem.includeInLayout=!0,this.FM13(O3.tr(3858)))):(this.imgNew.visible=!1,this.FM13(O3.tr(3853)),this.lbBuy.visible=!1),this.lblxingyun.textFlow=M18.HTP.parse(O3.tr(3854))},t.prototype.FM13=function(t){t?(this.btn.label2=t,this.btn.labelY="12",this.btn.size="22",this.grplucky.visible?this.btn.labelX2="15":this.btn.labelX2="0"):(this.btn.label2="",this.btn.labelY="0",this.btn.size="24")},t.prototype.ZU86=function(){P7.FG67()?this.lbBuy.visible=!1:this.lbBuy.visible=!0},t.prototype.getBtnLabel=function(){return 1==this.index?O3.tr(3216):2==this.index?O3.tr(3217):3==this.index?O3.tr(3218):""},t.prototype.onClickGet=function(){if(N12.giC(Number(this.itemId))<Number(this.itemNeed)&&!this.isFree)P7.FA78();else if(1!=App.CM.gtM(O6.B45).moving&&P7.FF59()){var t={type:this.index};App.CM.apF(O6.B45,I12.A6,t),this.ZM77()}},t.prototype.GY64=function(){this.btn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickGet,this)},t.prototype.ZM77=function(){App.CM.gtM(O6.B45).moving=!0},t.prototype.disLuckyGrp=function(){this.grplucky.visible=!1},t}(eui.Component);__reflect(ItemTrBuyView.prototype,"ItemTrBuyView");var TreasureDescView=function(s){function t(t,e){var i=s.call(this,t,e)||this;return i.skinName="DialDescSkin",i}return __extends(t,s),t.prototype.initUI=function(){s.prototype.initUI.call(this),this.lbStr1.textFlow=M18.HTP.parse(O3.tr(4930))},t.prototype.open=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];s.prototype.open.call(this),this.bgMask.addEventListener(egret.TouchEvent.TOUCH_TAP,this.closeSelf,this),this.initView()},t.prototype.initLb=function(t,e,i,s){var o=t.text,r=e.text;o+=i+"\n",r+=O3.tr(4929,THH24.FG77(s))+"\n",t.$setText(o),e.$setText(r)},t.prototype.initView=function(){this.lb1.text="",this.lb2.text="",this.lb3.text="",this.lb4.text="",this.lbTitle1.$setText(""),this.lbTitle2.$setText("");var t=I8.explain;for(var e in t){var i=t[e],s=Number(i.type);1==s?(this.lbTitle1.textFlow=M18.HTP.parse(O3.tr(4927)),this.initLb(this.lb1,this.lb2,i.txt,i.probability)):(s=2)&&(this.lbTitle2.textFlow=M18.HTP.parse(O3.tr(4928)),this.initLb(this.lb3,this.lb4,i.txt,i.probability))}this.lbTitle1.parent.includeInLayout=""!=this.lbTitle1.text,this.lb1.parent.includeInLayout=""!=this.lb1.text;var o=this.lb1.text;o=o.substring(0,o.length-1),this.lb1.$setText(o);var r=this.lb2.text;r=r.substring(0,r.length-1),this.lb2.$setText(r);var n=this.lb3.text;n=n.substring(0,n.length-1),this.lb3.$setText(n);var a=this.lb4.text;a=a.substring(0,a.length-1),this.lb4.$setText(a)},t.prototype.close=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];s.prototype.close.call(this),this.bgMask.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.closeSelf,this)},t.prototype.closeSelf=function(){this.apF(I12.A5)},t}(BaseEuiView);__reflect(TreasureDescView.prototype,"TreasureDescView");var TreasureRewardView=function(s){function t(t,e){var i=s.call(this,t,e)||this;return i.closeCD=10,i.confList=[],i.skinName="DialRewardSkin",i}return __extends(t,s),t.prototype.initUI=function(){s.prototype.initUI.call(this),this.dgRewards.dataProvider=this.rewardsCollection=new eui.ArrayCollection,this.dgRewards.itemRenderer=ItemIcon,this.btnOk.label=O3.tr(4249),this.lbBtn1.text=O3.tr(3809),this.lbBtn2.text=O3.tr(3809)},t.prototype.open=function(t){this.params=t,this.bgMask.addEventListener(egret.TouchEvent.TOUCH_TAP,this.closeSelf,this),this.btnOk.addEventListener(egret.TouchEvent.TOUCH_TAP,this.closeSelf,this),this.btn1.addEventListener(egret.TouchEvent.TOUCH_TAP,this.ZU36,this),this.btn2.addEventListener(egret.TouchEvent.TOUCH_TAP,this.ZU37,this),this.updateViews()},t.prototype.close=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];s.prototype.close.call(this),this.bRegSkipTimer=!1,this.bgMask.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.closeSelf,this),this.btnOk.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.closeSelf,this),this.btn1.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.ZU36,this),this.btn2.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.ZU37,this),App.K16.remove(this.ZU23,this),this.params=null},t.prototype.updateViews=function(){this.ZJ83(),this.ZU24(),this.updateBuyBtn()},t.prototype.updateBuyBtn=function(){this.buyItem1.$setVisible(!1),this.buyItem2.$setVisible(!1);for(var t=I8.FD69(this.params.t),e=2<(this.confList=t).length?2:t.length,i=0;i<e;i++){var s=t[i];this.ZHH68(i,s)}1==e?(this.buyItem1.$setVisible(!0),this.buyItem2.$setVisible(!1)):2==e&&(this.buyItem1.$setVisible(!0),this.buyItem2.$setVisible(!0)),this.ZU87()},t.prototype.ZU87=function(){var t=App.CM.gtM(O6.B45);if(t.treasureData.l){var e=I8.gIV("upperLucky");t.treasureData.l>parseInt(e)&&(this.grplucky1.visible=!1,this.grplucky2.visible=!1)}},t.prototype.getBtnLabel=function(t){return 1==t?O3.tr(3216):2==t?O3.tr(3217):3==t?O3.tr(3218):""},t.prototype.ZHH68=function(t,e){if(0==t){this.imgItem1.source=N12.FJ86(e.itemId),this.btn1.label=this.getBtnLabel(Number(e.id)),1==Number(e.id)?(this.btn1.bgStr="v1_btn_green_1_png",this.grplucky1.visible=!1):(this.btn1.bgStr="v1_btn_yellow_1_png",this.grplucky1.visible=!0),this.btn1.labelX2=this.grplucky1.visible?"15":"0";var i=TF59.FB15(F7.A14).treasureData;0<i.freeNum?(this.lbMoney1.textFlow=M18.HTP.parse(O3.tr(5553,i.freeNum)),P7.FM14()&&(this.lbMoney1.visible=!1),this.lbBuy1.visible=!0,this.lbBuy1.textFlow=M18.HTP.parse(O3.tr(5554)),this.imgItem1.visible=this.imgItem1.includeInLayout=!1):(this.lbMoney1.text=e.itemNum,this.lbBuy1.visible=!1,2==Number(e.id)?this.FM13(this.btn1,O3.tr(4932)):this.FM13(this.btn1,O3.tr(4933)),this.imgItem1.visible=this.imgItem1.includeInLayout=!0)}else 1==t&&(this.imgItem2.source=N12.FJ86(e.itemId),this.lbMoney2.$setText(e.itemNum),this.btn2.label=this.getBtnLabel(Number(e.id)),this.lbBuy2.visible=!1,2==Number(e.id)?this.FM13(this.btn2,O3.tr(4932)):this.FM13(this.btn2,O3.tr(4933)),1==Number(e.id)?(this.btn2.bgStr="v1_btn_green_1_png",this.grplucky2.visible=!1):(this.btn2.bgStr="v1_btn_yellow_1_png",this.grplucky2.visible=!0),this.btn2.labelX2=this.grplucky2.visible?"15":"0")},t.prototype.FM13=function(t,e){t.size=e?(t.label2=e,t.labelY="12","22"):(t.label2="",t.labelY="0","24")},t.prototype.ZU36=function(){var t=this.confList[0];this.click(t)},t.prototype.ZU37=function(){var t=this.confList[1];this.click(t)},t.prototype.ZM77=function(){App.CM.gtM(O6.B45).moving=!0},t.prototype.click=function(t){if(1!=App.CM.gtM(O6.B45).moving)if(N12.giC(Number(t.itemId))<Number(t.itemNum))P7.FA78();else if(P7.FF59()){var e={type:t.id};App.CM.apF(O6.B45,I12.A6,e),this.ZM77(),this.closeSelf(!1)}},t.prototype.ZJ83=function(){this.closeCD=10,this.ZU23(),this.bRegSkipTimer||(this.bRegSkipTimer=!0,App.K16.doTimer(1e3,this.closeCD,this.ZU23,this))},t.prototype.ZU23=function(){this.closeCD--,this.closeCD<=0?this.closeSelf(!0):this.lbTime.textFlow=M18.HTP.parser(O3.tr(6435,this.closeCD))},t.prototype.ZU24=function(){var t=[];if(this.params&&this.params.ob&&0<this.params.ob.length){var e=this.params.ob,i=!0;for(var s in P7.FM14()&&(i=!1),e){var o=e[s],r=N12.gID(o.k);if(r){var n={itemData:{data:r,ct:o.v},isBottom:i};t.push(n)}}}this.rewardsCollection.replaceAll(t)},t.prototype.closeSelf=function(t){var e=App.CM.gtM(O6.B45);e.isTween=null==t||t,this.apF(I12.A3)},t}(BaseEuiView);__reflect(TreasureRewardView.prototype,"TreasureRewardView");var TreasureData=function(i){function t(t){var e=i.call(this,t)||this;return e.ar=[],e.updateData(t),e}return __extends(t,i),t.prototype.updateData=function(t){t&&(this.freeNum=null!=t.free?t.free:this.freeNum,this.f=null!=t.f?t.f:this.f,this.l=null!=t.l?t.l:this.l,t.freeCd&&(this.freeCd=t.freeCd,this.lastLoadTime=P6.getTime()),this.dealAr(t,!1),this.ZU63(t))},t.prototype.getFreeCd=function(){var t=P6.getTime(!0)-this.lastLoadTime,e=this.freeCd-t;return 0<e?e:0},t.prototype.dealAr=function(t,e){if(t.ar&&!(t.ar.length<=0)){this.ar=t.ar||this.ar;var i=this.ar.length,s=[];if(9<i){for(var o=i-9;o<i;o++)s.push(this.ar[o]);this.ar=s}}},t}(ActivityVo);__reflect(TreasureData.prototype,"TreasureData");var FinishConfVo=function(){function t(t){this.r=1,this.updateData(t)}return t.prototype.updateData=function(t){t&&(this.target=null!=t.t?t.t:this.target,this.rewardList=null!=t.rw?t.rw:this.rewardList,this.momey=null!=t.m?t.m:this.momey,this.limit=null!=t.l?t.l:this.limit,this.r=null!=t.r?t.r:this.r)},t.prototype.getTarget=function(){return this.target},t.prototype.getList=function(){return this.rewardList},t.prototype.getLimit=function(){return this.limit},t}();__reflect(FinishConfVo.prototype,"FinishConfVo");var HH6=function(){function t(){}return t.A2=10001,t.A1=10002,t}();__reflect(HH6.prototype,"HH6");var TB71=function(e){function t(){var t=e.call(this)||this;return App.VM.register(O7.D86,"WonderActBaseView",t,K17.UI_Main),t.rgF(HH6.A2,t.GI73,t),t.rgF(HH6.A1,t.GG91,t),t}return __extends(t,e),t.prototype.GI73=function(t){App.VM.open(O7.D86,t)},t.prototype.GG91=function(){App.VM.close(O7.D86)},t}(TE11);__reflect(TB71.prototype,"TB71");var A2=function(){function t(){}return t.A4=10001,t.A3=10002,t.A1=10003,t.A2=10004,t}();__reflect(A2.prototype,"A2");var TA2=function(i){function t(){var t=i.call(this)||this,e=new TA7(t);return e.aLV(O7.A4),e.aLV(O7.D86),e.aLV(O7.I64),App.VM.register(O7.A4,"AccumulativeRechargeGiftView",t,K17.UI_Main),t.rgF(A2.A4,t.GA8,t),t.rgF(A2.A3,t.GA5,t),t.accumulativeRechargeGiftProxy=new TA8(t),t.rgF(A2.A1,t.GA1,t),t.rgF(A2.A2,t.GA2,t),t}return __extends(t,i),t.prototype.GA1=function(t){this.accumulativeRechargeGiftProxy.GA1(t)},t.prototype.GA2=function(t){if(200==t.head.state){var e=t.body,i=this.gtM();i.ZC13(e),i.notify(),P5.sIs(t.body.ob)}else App.CM.apF(O6.B87,L10.A4,t)},t.prototype.GA8=function(){App.VM.open(O7.A4);var t=App.CM.gtM(O6.A2);t.firstLoginRedNum=0,t.notify()},t.prototype.GA5=function(){App.VM.close(O7.A4)},t}(TE11);__reflect(TA2.prototype,"TA2");var TA7=function(i){function t(t){var e=i.call(this,t)||this;return e.openState=!1,e.redNum=0,e.firstLoginRedNum=0,e}return __extends(t,i),t.prototype.ZC13=function(t){t&&(null!=this.actData?this.actData.updateData(t):(this.actData=new AccumulativeRechargeGiftData(t),this.tips=this.actData.tips),this.updateRed())},t.prototype.updateRed=function(){this.redNum=this.FL35()},t.prototype.FL35=function(){var t=0;t+=this.firstLoginRedNum;var e=this.actData.confVo;for(var i in e)if(e[i].getState==J13.A3){t+=1;break}return t},t.prototype.notify=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];i.prototype.notifyView.call(this,this,t)},t}(TG79);__reflect(TA7.prototype,"TA7");var TA8=function(i){function t(t){var e=i.call(this,t)||this;return e.rSM(P4.A6,e.GA2,e),e}return __extends(t,i),t.prototype.GA1=function(t){var e={type:P4.A5,body:{index:t}};this.sSM(e)},t.prototype.GA2=function(t){this.apF(A2.A2,t)},t}(TG80);__reflect(TA8.prototype,"TA8");var TA10=function(){};__reflect(TA10.prototype,"TA10");var AccumulativeRechargeGiftView=function(s){function t(t,e){var i=s.call(this,t,e)||this;return i.skinName=ChapterBreakSkin,i}return __extends(t,s),t.prototype.initUI=function(){s.prototype.initUI.call(this),this.banner.source="v1_bg_qumindaofl8_jpg";var t={render:RechargeSumItemView,gap:5,width:this.listGroup.width,height:this.listGroup.height,arrowScale:1};this.listView=new CommonListBase(t),this.listGroup.addChild(this.listView),this.listView.verticalCenter=0,this.listView.horizontalCenter=0,this.goBtn.label=O3.tr(3791)},t.prototype.open=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];s.prototype.open.call(this),this.goBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickGoBtn,this),this.listView.open();var i=App.CM.gtM(O6.A2);this.ZA1(i)},t.prototype.uBM=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];s.prototype.uBM.call(this,t,e),t instanceof TA7&&this.ZA1(t)},t.prototype.ZA1=function(t){this.actData=t.actData;var e=O3.tr(3271,this.actData.hasRecharge);if(this.missionLb.textFlow=M18.HTP.parser(e),null==this.timerHandler)if(0<this.actData.rs){this.leftCD=this.actData.ZHH64();var i=O3.tr(3253,P6.FJ11(1e3*this.leftCD,5));this.cdLb.textFlow=M18.HTP.parser(i),this.timerHandler=App.K16.doTimer(1e3,this.leftCD,this.GY14,this)}else this.cdLb.text="";var s=this.actData.confVo;this.listView.rfL(s)},t.prototype.GY14=function(){this.leftCD--;var t=O3.tr(3253,P6.FJ11(1e3*this.leftCD,5));this.cdLb.textFlow=M18.HTP.parser(t),this.leftCD<=0&&(this.cTH(),this.cdLb.text="")},t.prototype.cTH=function(){null!=this.timerHandler&&(App.K16.rBH(this.timerHandler),this.timerHandler=null)},t.prototype.close=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];s.prototype.close.call(this),this.goBtn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickGoBtn,this),this.cTH(),this.listView.close()},t.prototype.onClickGoBtn=function(){App.CM.apF(O6.C29,P8.A7)},t}(BaseEuiView);__reflect(AccumulativeRechargeGiftView.prototype,"AccumulativeRechargeGiftView");var AccumulativeRechargeGiftConfVo=function(){function t(t){this.getState=J13.A1,this.sLink=1802,this.controllerConst=O6.A2,this.reqConst=A2.A1,this.initData(t)}return t.prototype.initData=function(t){t&&(this.id=t.index,this.tarRecharge=t.money,this.awd=t.aw,this.title=O3.tr(3285,this.tarRecharge))},t}();__reflect(AccumulativeRechargeGiftConfVo.prototype,"AccumulativeRechargeGiftConfVo");var AccumulativeRechargeGiftData=function(i){function t(t){var e=i.call(this,t)||this;return e.confVo=[],e.hasGotList=[],e.hasRecharge=0,e.updateData(t),e}return __extends(t,i),t.prototype.updateData=function(t){if(t){if(this.hasGotList=t.yaw||this.hasGotList,this.hasRecharge=null==t.money?this.hasRecharge:t.money,t.confs){null!=this.confVo&&0<this.confVo.length&&this.confVo.splice(0,this.confVo.length),this.confVo=[];for(var e=0;e<t.confs.length;e++){var i=new AccumulativeRechargeGiftConfVo(t.confs[e]);this.confVo.push(i)}}if(0<this.hasGotList.length)for(var e in this.confVo)for(var s in this.hasGotList)this.confVo[e].id==this.hasGotList[s]&&(this.confVo[e].getState=J13.A2);for(var e in this.confVo){var o=this.confVo[e];this.hasRecharge>=o.tarRecharge&&o.getState!=J13.A2&&(this.confVo[e].getState=J13.A3)}this.confVo.sort(function(t,e){return t.getState==e.getState?t.id-e.id:t.getState-e.getState}),this.ZU63(t)}},t}(ActivityVo);__reflect(AccumulativeRechargeGiftData.prototype,"AccumulativeRechargeGiftData"),function(t){var e=function(){function t(){}return t.DRAW=2001,t.DRAW_RES=2002,t.COUNT_REWARD_GET=2003,t.COUNT_REWARD_GET_RES=2004,t}();t.Const=e,__reflect(e.prototype,"DoubleRingDraw.Const")}(DoubleRingDraw||(DoubleRingDraw={})),function(o){var t=function(s){function t(){var t=s.call(this)||this;App.VM.register(O7.D63,"DoubleRingDrawView",t,K17.UI_Main),App.VM.register(O7.B8,"DoubleRingDrawHelpView",t,K17.UI_Main_TOP),App.VM.register(O7.A49,"DoubleRingDrawRewardView",t,K17.UI_Main_TOP),App.VM.register(O7.B12,"DoubleRingDrawQuestionView",t,K17.UI_Main_TOP);var e=new o.Model(t);e.aLV(O7.D63),e.aLV(O7.A49),e.aLV(O7.B12),e.aLV(O7.D86),e.aLV(O7.I64);var i=t.proxy=new o.Proxy(t);return t.rgF(o.Const.DRAW,t.draw,t),t.rgF(o.Const.DRAW_RES,t.drawRes,t),t.rgF(o.Const.COUNT_REWARD_GET,i.ZQ80,i),t.rgF(o.Const.COUNT_REWARD_GET_RES,t.GK70,t),t}return __extends(t,s),Object.defineProperty(t.prototype,"model",{get:function(){return this.gtM()},enumerable:!0,configurable:!0}),t.prototype.draw=function(t,e){this.model.type=t,this.model.playAni=!e,this.proxy.draw(t)},t.prototype.drawRes=function(t){if(200==t.head.state){this.model.ZC13(t.body),this.model.notify();var e=App.VM.gOV(O7.D63);t.body.hit&&(this.model.playAni?e&&e.playAnima(t.body.hit,t.body.ob):(e.cleanSelect(),t.body.ob&&0<t.body.ob.length&&App.VM.open(O7.A49,t.body.ob),3==t.body.hit.type&&e&&e.ZU88(),e.updateDouble()))}else 215==t.head.state?P7.FA78():App.CM.apF(O6.B87,L10.A4,t)},t.prototype.GK70=function(t){200==t.head.state?(this.model.ZC13(t.body),this.model.notify(),P5.sIs(t.body.ob)):App.CM.apF(O6.B87,L10.A4,t)},t}(TE11);o.Controller=t,__reflect(t.prototype,"DoubleRingDraw.Controller")}(DoubleRingDraw||(DoubleRingDraw={})),function(e){var t=function(i){function t(t){var e=i.call(this,t)||this;return e.openState=!1,e.redNum=0,e.firstLoginRedNum=1,e.playAni=!0,e}return __extends(t,i),t.prototype.ZC13=function(t){t&&(null!=this.actData?this.actData.updateData(t):this.actData=new e.ActData(t))},t.prototype.updateRed=function(){this.redNum=this.firstLoginRedNum+THH27.FB37()+this.getCanGetNum()},t.prototype.getCanGetNum=function(){var t=0;if(this.actData)for(var e=0,i=this.actData.questionList;e<i.length;e++){var s=i[e];this.actData.ZK9(s.target)==J13.A3&&(t+=1)}return t},t.prototype.FL35=function(){return this.updateRed(),this.redNum},t.prototype.notify=function(t){i.prototype.notifyView.call(this,this,t)},t}(TG79);e.Model=t,__reflect(t.prototype,"DoubleRingDraw.Model")}(DoubleRingDraw||(DoubleRingDraw={})),function(e){var t=function(i){function t(t){var e=i.call(this,t)||this;return e.rSM(P4.K19,e.drawRes,e),e}return __extends(t,i),t.prototype.draw=function(t){var e={type:P4.K18,body:{type:t}};this.sSM(e)},t.prototype.drawRes=function(t){this.apF(e.Const.DRAW_RES,t)},t.prototype.ZQ80=function(t){var e={type:P4.C17,body:{count:t}};this.rSMO(P4.C18,this.GK70,this),this.sSM(e)},t.prototype.GK70=function(t){this.apF(e.Const.COUNT_REWARD_GET_RES,t)},t}(TG80);e.Proxy=t,__reflect(t.prototype,"DoubleRingDraw.Proxy")}(DoubleRingDraw||(DoubleRingDraw={})),function(t){var e=function(){function t(){}return t.FL38=function(t){return P7.FL23(t,[1e4,1e3],[O3.tr(5613),O3.tr(5612)],function(t,e){return t<=0?"":""+t+e})},t}();t.Utils=e,__reflect(e.prototype,"DoubleRingDraw.Utils")}(DoubleRingDraw||(DoubleRingDraw={}));var DoubleRingDrawHelpView=function(s){function t(t,e){var i=s.call(this,t,e)||this;return i.skinName="DoubleRingDrawHelpSkin",i}return __extends(t,s),t.prototype.initUI=function(){s.prototype.initUI.call(this),this.bgMask.addEventListener(egret.TouchEvent.TOUCH_TAP,this.oCC,this),this.labTr7018.textFlow=O3.tr2(7018),this.labTr7019.textFlow=O3.tr2(7019),this.lb2.textFlow=O3.tr2(7020),this.lb1.textFlow=O3.tr2(7021)},t.prototype.close=function(){this.bgMask.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.oCC,this),s.prototype.close.call(this)},t.prototype.oCC=function(){App.VM.GY64(this)},t}(BaseEuiView);__reflect(DoubleRingDrawHelpView.prototype,"DoubleRingDrawHelpView");var DoubleRingDrawItemView=function(e){function t(){var t=e.call(this)||this;return t.skinName="DoubleRingRewardItemIconSkin",t}return __extends(t,e),t.prototype.dataChanged=function(){e.prototype.dataChanged.call(this),this.gTag.visible=this.data.d||this.data.n,this.data.d&&this.data.n?this.labTag.text=O3.tr(7009):this.data.d?this.labTag.text=O3.tr(7010):this.labTag.text=O3.tr(7011)},t}(ItemIconBase);__reflect(DoubleRingDrawItemView.prototype,"DoubleRingDrawItemView");var DoubleRingDrawQuestionView=function(s){function t(t,e){var i=s.call(this,t,e)||this;return i.skinName=CatchFishRewardSkin,i}return __extends(t,s),t.prototype.initUI=function(){s.prototype.initUI.call(this);var t={render:DoubleRingDrawQuestionItem,width:this.gpList.width,height:this.gpList.height,gap:5};this.myListView=new CommonListBase(t),this.gpList.addChild(this.myListView),this.dlg.ZM69(this.closeSelf.bind(this),this),this.dlg.title=O3.tr(7339)},t.prototype.open=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];s.prototype.open.call(this),this.myListView.open();var i=App.CM.gtM(O6.A38);this.GX5(i)},t.prototype.uBM=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];s.prototype.uBM.call(this,t,e),t instanceof DoubleRingDraw.Model&&this.GX5(t)},t.prototype.GX5=function(e){this.lbCatchNum.textFlow=O3.tr2(7341,e.actData.c),this.myListView.rfL(e.actData.questionList.map(function(t){return{conf:t,state:e.actData.ZK9(t.target)}}).sort(function(t,e){return t.state-e.state}))},t.prototype.close=function(){s.prototype.close.call(this),this.myListView.close()},t.prototype.closeSelf=function(){App.VM.GY64(this)},t}(BaseEuiView);__reflect(DoubleRingDrawQuestionView.prototype,"DoubleRingDrawQuestionView");var DoubleRingDrawRewardView=function(n){function t(t,e){var i=n.call(this,t,e)||this;return i.time=10,i.skinName="DoubleRingRewardSkin",i}return __extends(t,n),Object.defineProperty(t.prototype,"model",{get:function(){return App.CM.gtM(O6.A38)},enumerable:!0,configurable:!0}),t.prototype.initUI=function(){n.prototype.initUI.call(this),this.btnOk.addEventListener(egret.TouchEvent.TOUCH_TAP,this.oCC,this),this.bgMask.addEventListener(egret.TouchEvent.TOUCH_TAP,this.oCC,this),this.btnAgain.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickAgain,this),this.dgRewards.dataProvider=this.dataSource=new eui.ArrayCollection,this.dgRewards.itemRenderer=DoubleRingDrawItemView,this.btnOk.label=O3.tr(7012)},t.prototype.open=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];n.prototype.open.apply(this,[t].concat(e));var s=!0;P7.FM14()&&(s=!1),this.dataSource.source=t.map(function(t){return{itemData:{data:N12.gID(t.k),ct:t.v,texiao:!1},isBottom:s,scale:1,d:!!t.d,n:!!t.n}}),this.time=10,this.labTime.textFlow=O3.tr2(7007,this.time),App.K16.doTimer(1e3,this.time,this.countdown,this,this.oCC,this),P5.sIs(t);var o=this.model,r=o.actData.prices[o.type-1];P16.FL31(this.gConsume,75e3,r.gold,{textTemplate:"<font color=#75c01a>$1</font>",lackTextTemplate:"<font color=#d82222>$1</font>"}),this.btnAgain.label=O3.tr(7001,DoubleRingDraw.Utils.FL38(r.coin)),this.btnAgain.label2=O3.tr(7008,r.count),this.labTr7022.text=O3.tr(t.length<r.count?7022:7023,t.length)},t.prototype.close=function(){App.K16.removeAll(this),this.btnOk.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.oCC,this),this.bgMask.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.oCC,this),this.btnAgain.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickAgain,this),this.dataSource.removeAll(),n.prototype.close.call(this)},t.prototype.countdown=function(){this.time-=1,this.labTime.textFlow=O3.tr2(7007,this.time)},t.prototype.onClickAgain=function(){App.CM.apF(O6.A38,DoubleRingDraw.Const.DRAW,this.model.type,!0),this.oCC()},t.prototype.oCC=function(){App.VM.GY64(this)},t}(BaseEuiView);__reflect(DoubleRingDrawRewardView.prototype,"DoubleRingDrawRewardView");var DoubleRingDraw,LuxuryConsume,DoubleRingDrawView=function(s){function t(t,e){var i=s.call(this,t,e)||this;return i.dt=0,i.type=1,i.index=0,i.timeOnEnterFrame=0,i.aniList=[],i.skinName="DoubleRingDrawSkin",i}return __extends(t,s),Object.defineProperty(t.prototype,"model",{get:function(){return App.CM.gtM(O6.A38)},enumerable:!0,configurable:!0}),t.prototype.initUI=function(){s.prototype.initUI.call(this),this.btnOnce.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickBuy,this),this.btnTen.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickBuy,this),this.btnFifty.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickBuy,this),this.btnShop.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickShop,this),this.btnHelp.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickHelp,this),this.btnQuestion.addEventListener(egret.TouchEvent.TOUCH_TAP,this.ZN18,this),P7.FD57(O3.tr(7014),this.btnShop.lbName),this.btnQuestion.label=O3.tr(7342),this.GX5(this.model),this.updateDouble()},t.prototype.open=function(){var e=this;s.prototype.open.call(this),this.countdown(),App.K16.doTimer(1e3,0,this.countdown,this),App.K16.doFrame(1,1,function(){var t=App.VM.gOV(TF59.FA34(F7.A21));t&&t.autoOut&&(e.autoOutVis=t.autoOut.visible,t.autoOut.visible=!1)},this)},t.prototype.close=function(){App.K16.removeAll(this),this.removeEventListener(egret.Event.ENTER_FRAME,this.updateAnima,this),this.btnOnce.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickBuy,this),this.btnTen.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickBuy,this),this.btnFifty.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickBuy,this),this.btnShop.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickShop,this),this.btnHelp.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickHelp,this),this.btnQuestion.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.ZN18,this);var t=App.VM.gOV(TF59.FA34(F7.A21));t&&t.autoOut&&(t.autoOut.visible=this.autoOutVis),s.prototype.close.call(this)},t.prototype.uBM=function(t){t instanceof DoubleRingDraw.Model?this.GX5(t):(t instanceof TG12||t instanceof THH9)&&this.updateScore()},t.prototype.GX5=function(t){var o=this;t.actData.prices.forEach(function(t,e){var i=o.gBtns.getChildAt(e),s=i.getChildAt(1);P16.FL31(i.getChildAt(0),75e3,t.gold,{textTemplate:"<font color=#75c01a>$1</font>",lackTextTemplate:"<font color=#d82222>$1</font>"}),s.label=O3.tr(7001,DoubleRingDraw.Utils.FL38(t.coin)),s.label2=O3.tr(7002,t.count)});for(var e=0,i=0;e<this.glist.numChildren;e++)if(0!=e&&8!=e&&12!=e){var s=this.glist.getChildAt(e),r=t.actData.outsideList[i],n=N12.gID(r.itemid),a=r.eff?TF59.FC9(n.quality):void 0,h={itemData:{data:n,ct:r.count,texiao:a},isBottom:!1,scale:1};s.data=h,i++}for(e=0,i=0;e<this.glist2.numChildren;e++)if(0!=e){s=this.glist2.getChildAt(e),r=t.actData.insideList[i];var p=N12.gID(r.itemid);a=r.eff?TF59.FC9(p.quality):void 0,h={itemData:{data:p,ct:r.count,texiao:a},isBottom:!1,scale:1};s.data=h,i++}this.updateScore(),this.btnQuestion.imgNew.visible=0<t.getCanGetNum()},t.prototype.updateScore=function(){this.btnShop.imgNew.visible=0<THH27.FB37(),this.labTr7005.textFlow=O3.tr2(7005,N12.giC(N12.itemId.drp))},t.prototype.countdown=function(){this.labTr7004.textFlow=O3.tr2(7004,P6.FJ11(1e3*this.model.actData.ZHH64(),5))},t.prototype.onClickShop=function(){App.VM.open(O7.HH98,O7.E72,P12.A6)},t.prototype.onClickHelp=function(){App.VM.open(O7.B8)},t.prototype.ZN18=function(){App.VM.open(O7.B12)},t.prototype.onClickBuy=function(t){t.currentTarget==this.btnOnce?App.CM.apF(O6.A38,DoubleRingDraw.Const.DRAW,1):t.currentTarget==this.btnTen?App.CM.apF(O6.A38,DoubleRingDraw.Const.DRAW,2):t.currentTarget==this.btnFifty&&App.CM.apF(O6.A38,DoubleRingDraw.Const.DRAW,3)},t.prototype.updateAnima=function(t){var e=egret.getTimer()-this.timeOnEnterFrame;this.dt+=e;var i=this.aniList[this.index].time;if(this.dt>=i){this.dt-=i;var s=1==this.type?this.glist:this.glist2;if(this.index+=1,this.index>=this.aniList.length-1){var o=s.getChildAt(this.aniList[this.aniList.length-1].index);return this.stopAnima(),void(3==this.hit.type?this.playTwinkle(o):this.addEffect(o,this.type))}this.addEffect(s.getChildAt(this.aniList[this.index].index),this.type)}this.timeOnEnterFrame=egret.getTimer()},t.prototype.addEffect=function(t,e){1==e?App.THH32.aUE(t,"qmzz_shcj_sa_001",42,40,1,null,null,null,null,"bf_1"):App.THH32.aUE(t,"wdsg_shcj_aa_001",42,42,1)},t.prototype.cleanSelect=function(){for(var t=0;t<this.glist.numChildren;t++)App.THH32.rEf(this.glist.getChildAt(t),"qmzz_shcj_sa_001");for(t=0;t<this.glist2.numChildren;t++)App.THH32.rEf(this.glist2.getChildAt(t),"qmzz_shcj_sa_001")},t.prototype.updateDouble=function(){this.labTips.text=this.model.actData.d?O3.tr(7006):O3.tr(3292)},t.prototype.ZK8=function(t,e){this.index=0,this.timeOnEnterFrame=egret.getTimer(),this.twinkleTimer&&(App.K16.rBH(this.twinkleTimer),delete this.twinkleTimer);var i=1==(this.type=e)?this.glist.numChildren:this.glist2.numChildren;this.cleanSelect(),this.addEffect((1==e?this.glist:this.glist2).getChildAt(0),this.type);for(var s=[],o=3*i+(t+1),r=i/2,n=i/2,a=0,h=0;a<o;a++,h++)i<=h&&(h=0),a<r?s.push({index:h,time:100+a/r*-40}):o-n<a?s.push({index:h,time:60+(a-(o-n))/n*240}):s.push({index:h,time:60});this.aniList=s,this.btnTen.touchEnabled=this.btnFifty.touchEnabled=this.btnOnce.touchEnabled=!1,P16.sGF(this.btnTen,!0),P16.sGF(this.btnFifty,!0),P16.sGF(this.btnOnce,!0),this.addEventListener(egret.Event.ENTER_FRAME,this.updateAnima,this)},t.prototype.stopAnima=function(){this.removeEventListener(egret.Event.ENTER_FRAME,this.updateAnima,this),1!=this.hit.type||1==this.hit.type&&0==this.type?(this.btnTen.touchEnabled=this.btnFifty.touchEnabled=this.btnOnce.touchEnabled=!0,P16.sGF(this.btnTen,!1),P16.sGF(this.btnFifty,!1),P16.sGF(this.btnOnce,!1),this.ob&&this.ob.length&&App.VM.open(O7.A49,this.ob),this.updateDouble(),this.aniList=[],this.index=0,delete this.ob):this.ZK8(this.hit.id,0)},t.prototype.ZU88=function(){this.cleanSelect(),this.playTwinkle(this.glist.getChildAt(12))},t.prototype.playTwinkle=function(t){App.THH32.aUE(t,"qmzz_shcj_sa_001",42,40,0,null,null,null,null,"bf_2")},t.prototype.playAnima=function(t,e){this.hit=t,this.ob=e;var i=0;switch(t.type){case 1:i=8;break;case 2:8<=(i=t.id)&&(i+=1),12<=i&&(i+=1);break;case 3:i=12}this.ZK8(i,1)},t}(BaseEuiView);__reflect(DoubleRingDrawView.prototype,"DoubleRingDrawView"),function(t){var e=function(i){function t(t){var e=i.call(this,t)||this;return e.c=0,e.d=0,e.tc=0,e.rw=[],e.prices=[],e.insideList=[],e.outsideList=[],e.questionList=[],e.updateData(t),e}return __extends(t,i),t.prototype.initItem=function(t){var e=t.split("-"),i=(e[0],e[1]),h=[];return i.split(";").forEach(function(t){if(t){var e=t.split(","),i=e[0],s=e[1],o=e[2],r=P7.str2kv1(o),n=r.k,a=r.v;h.push({index:parseInt(i),eff:1<=parseInt(s),itemid:n,count:a})}}),h},t.prototype.initData=function(t){if(t.atmp){var e=t.atmp.reward.split("|"),i=e[0],s=e[1];this.insideList=this.initItem(i),this.outsideList=this.initItem(s),this.prices=t.atmp.more.split(";").map(function(t){var e=t.split(":").map(function(t){return parseInt(t)}),i=(e[0],e[1]);return{gold:e[2],coin:e[3],count:i}}),t.atmp.rank&&(this.questionList=t.atmp.rank.split("|").map(function(t){var e=t.split(","),i=e[0],s=e[1];return{target:parseInt(i),rewardList:P7.str2kv(s)}}))}},t.prototype.updateData=function(t){this.initData(t),this.c=null==t.c?this.c:t.c,this.d=null==t.d?this.d:t.d,this.tc=null==t.tc?this.tc:t.tc,this.rw=null==t.rw?this.rw:t.rw},t.prototype.ZK9=function(t){return 0<=this.rw.indexOf(t)?J13.A2:this.tc>=t?J13.A3:J13.A1},t}(ActivityVo);t.ActData=e,__reflect(e.prototype,"DoubleRingDraw.ActData")}(DoubleRingDraw||(DoubleRingDraw={})),function(t){var e=function(){function t(){}return t.ADDCOST_GETREWARD_REQ=200,t.ADDCOST_GETREWARD_RES=201,t}();t.Const=e,__reflect(e.prototype,"LuxuryConsume.Const")}(LuxuryConsume||(LuxuryConsume={})),function(i){var t=function(e){function t(){var t=e.call(this)||this;return t.proxy=new i.Proxy(t),t.rgF(i.Const.ADDCOST_GETREWARD_REQ,t.proxy.GV55,t.proxy),t.rgF(i.Const.ADDCOST_GETREWARD_RES,t.GV54,t),new i.Model(t),t.model.aLV(O7.E55),t.model.aLV(O7.D12),t}return __extends(t,e),Object.defineProperty(t.prototype,"model",{get:function(){return this.gtM()},enumerable:!0,configurable:!0}),t.prototype.GV54=function(t){200==t.head.state?(this.model.ZC13(t.body),P5.sIs(t.body.ob),this.model.notify(P4.O43)):App.CM.apF(O6.B87,L10.A4,t)},t}(TE11);i.Controller=t,__reflect(t.prototype,"LuxuryConsume.Controller")}(LuxuryConsume||(LuxuryConsume={})),function(t){var e=function(i){function t(t){var e=i.call(this,t)||this;return e.openState=!1,e.redNum=0,e.firstLoginRedNum=0,e}return __extends(t,i),t.prototype.ZC13=function(t){t&&(null!=this.actData?this.actData.updateData(t):(this.actData=new LuxuryConsumeData(t),this.tips=this.actData.tips),this.updateRed())},t.prototype.updateRed=function(){this.redNum=this.FL35()},t.prototype.FL35=function(){if(0<this.firstLoginRedNum)return 1;var t=this.actData.FG82();for(var e in t)if(t[e].state==J13.A3)return 1;return 0},t.prototype.notify=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];i.prototype.notifyView.apply(this,[this].concat(t))},t}(TG79);t.Model=e,__reflect(e.prototype,"LuxuryConsume.Model")}(LuxuryConsume||(LuxuryConsume={})),function(i){var t=function(e){function t(t){return e.call(this,t)||this}return __extends(t,e),t.prototype.GV55=function(t){var e={type:P4.O42,body:{index:t}};this.sSM(e),this.rSMO(P4.O43,this.GV54,this)},t.prototype.GV54=function(t){this.apF(i.Const.ADDCOST_GETREWARD_RES,t)},t}(TG80);i.Proxy=t,__reflect(t.prototype,"LuxuryConsume.Proxy")}(LuxuryConsume||(LuxuryConsume={}));var ItemLuxuryConsume=function(e){function t(){var t=e.call(this)||this;return t.skinName=ItemLuxuryConsumeSkin,t.pBarPro.labelFunction=function(t,e){return""},t.addEventListener(egret.Event.ADDED_TO_STAGE,t.open,t),t.addEventListener(egret.Event.REMOVED_FROM_STAGE,t.close,t),t}return __extends(t,e),t.prototype.open=function(){this.btnGet.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickGet,this)},t.prototype.close=function(){this.btnGet.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickGet,this),this.itemCollection.removeAll()},t.prototype.childrenCreated=function(){e.prototype.createChildren.call(this),this.itemCollection=new eui.ArrayCollection,this.listContent.dataProvider=this.itemCollection,this.listContent.itemRenderer=ItemIcon,this.awardsSc.scrollPolicyV=eui.ScrollPolicy.OFF,this.btnGet.label=O3.tr(3813)},t.prototype.dataChanged=function(){switch(this.lbTitle.textFlow=M18.HTP.parser(O3.tr(7160,this.data.process)),this.imgTitle.width=this.lbTitle.width+55,this.btnGet.imgNew.visible=!1,this.data.state){case J13.A3:this.btnGet.imgNew.visible=!0,this.btnGet.visible=!0,this.imgGot.visible=!1,P16.sGF(this.btnGet,!1),this.btnGet.enabled=!0,this.gpPro.visible=!1;break;case J13.A1:this.gpPro.visible=!0,this.lbState.text=O3.tr(3347),this.pBarPro.maximum=this.data.process,this.pBarPro.value=this.data.curPro,this.btnGet.visible=!1,this.imgGot.visible=!1,this.lbPro.text=O3.tr(516,this.data.curPro,this.data.process);break;case J13.A2:this.gpPro.visible=!1,this.btnGet.visible=!1,this.imgGot.visible=!0}var t=[];for(var e in this.data.reward){var i=this.data.reward[e],s=N12.gID(i.k),o=1==i.effect?TF59.FC9(s.quality):void 0,r={data:s,ct:i.v,texiao:o};t.push({itemData:r,isBottom:!1,scale:1})}this.itemCollection.replaceAll(t)},t.prototype.onClickGet=function(){App.CM.apF(O6.A54,LuxuryConsume.Const.ADDCOST_GETREWARD_REQ,this.data.id)},t}(eui.ItemRenderer);__reflect(ItemLuxuryConsume.prototype,"ItemLuxuryConsume");var LuxuryConsumeView=function(s){function t(t,e){var i=s.call(this,t,e)||this;return i.sGN("release_act1113"),i.skinName=ChapterBreakSkin,i}return __extends(t,s),t.prototype.initUI=function(){s.prototype.initUI.call(this),this.goBtn.label=O3.tr(3882),this.missionLb.visible=!1,this.goBtn.visible=!1,this.gpBannerLb.bottom=2,this.banner.source="com_banner_haohualx_jpg";var t={render:ItemLuxuryConsume,gap:5,width:this.listGroup.width,height:this.listGroup.height,arrowScale:1};this.listView=new CommonListBase(t),this.listGroup.addChild(this.listView),this.listView.verticalCenter=0,this.listView.horizontalCenter=0,this.btnShop=new com.Button,this.btnShop.label=O3.tr(3882),this.btnShop.bgStr="v1_btn_yellow_1_png",this.btnShop.horizontalCenter=0,this.btnShop.top=695,this.addChild(this.btnShop)},t.prototype.open=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];s.prototype.open.call(this),this.listView.open(),this.btnShop.addEventListener(egret.TouchEvent.TOUCH_TAP,this.openShopView,this);var i=App.CM.gtM(O6.A54);this.ZE83(i)},t.prototype.uBM=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];s.prototype.uBM.call(this,t,e),t instanceof LuxuryConsume.Model&&this.ZE83(t)},t.prototype.ZE83=function(t){t.actData;this.leftCD=t.actData.ZHH64();var e=P6.FJ11(1e3*this.leftCD,5);this.cdLb.textFlow=M18.HTP.parser(O3.tr(3253,e)),this._timerHandler=App.K16.doTimer(1e3,this.leftCD,this.GY14,this);var i=t.actData.FG82();this.listView.rfL(i),this.scrollToGet()},t.prototype.GY14=function(){this.leftCD--;var t=P6.FJ11(1e3*this.leftCD,5);this.cdLb.textFlow=M18.HTP.parser(O3.tr(3253,t)),this.leftCD<=0&&(this.cTH(),this.cdLb.text="")},t.prototype.cTH=function(){null!=this._timerHandler&&(App.K16.rBH(this._timerHandler),this._timerHandler=null)},t.prototype.scrollToGet=function(){var t=this.listView.getListData();for(var e in t)if(t[e].state==J13.A3){this.listView.ZQ18(parseInt(e));break}},t.prototype.openShopView=function(){App.VM.open(O7.HH98,O7.G57)},t.prototype.close=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];s.prototype.close.call(this),this.listView.close(),this.cTH(),this.btnShop.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.openShopView,this)},t}(BaseEuiView);__reflect(LuxuryConsumeView.prototype,"LuxuryConsumeView");var LuxuryRecharge,LuxuryConsumeData=function(i){function t(t){var e=i.call(this,t)||this;return e.updateData(t),e.rewardList=t.atmp.reward.split("|").map(function(t,e){var i=t.split(","),s=i[0],o=i[1],r=M18.FL28(o,";","-"),n=[];for(var a in r){var h=P7.str2kv1(r[a][0]);h.effect=Number(r[a][1]),n.push(h)}return{id:Number(s),award:n}}),e.processList=M18.FL28(t.atmp.cost,","),e}return __extends(t,i),t.prototype.updateData=function(t){this.gotList=null!=t.s?t.s:this.gotList,this.money=null!=t.m?t.m:this.money,this.ZU63(t)},t.prototype.FG82=function(){var t=[];for(var e in this.rewardList){var i=this.rewardList[e],s=this.ZU28(this.rewardList[e].id),o={id:i.id,process:this.processList[i.id-1],state:s,reward:i.award,curPro:this.money};t.push(o)}return t.sort(function(t,e){return t.state!=e.state?t.state-e.state:t.id-e.id}),t},t.prototype.ZU28=function(t){if(0<=this.gotList.indexOf(t))return J13.A2;for(var e in this.processList)if(Number(e)==t-1)return this.processList[e]<=this.money?J13.A3:J13.A1},t}(ActivityVo);__reflect(LuxuryConsumeData.prototype,"LuxuryConsumeData"),function(t){var e=function(){function t(){}return t.LUXURY_RECHARGE_TAKEAWD_REQ=200,t.LUXURY_RECHARGE_TAKEAWD_RES=201,t}();t.Const=e,__reflect(e.prototype,"LuxuryRecharge.Const")}(LuxuryRecharge||(LuxuryRecharge={})),function(i){var t=function(e){function t(){var t=e.call(this)||this;return t.proxy=new i.Proxy(t),t.rgF(i.Const.LUXURY_RECHARGE_TAKEAWD_REQ,t.proxy.GV55,t.proxy),t.rgF(i.Const.LUXURY_RECHARGE_TAKEAWD_RES,t.GV54,t),new i.Model(t),t.model.aLV(O7.D65),t.model.aLV(O7.I64),t}return __extends(t,e),Object.defineProperty(t.prototype,"model",{get:function(){return this.gtM()},enumerable:!0,configurable:!0}),t.prototype.GV54=function(t){200==t.head.state?(this.model.ZC13(t.body),P5.sIs(t.body.ob),this.model.notify(P4.D97)):App.CM.apF(O6.B87,L10.A4,t)},t}(TE11);i.Controller=t,__reflect(t.prototype,"LuxuryRecharge.Controller")}(LuxuryRecharge||(LuxuryRecharge={})),function(t){var e=function(i){function t(t){var e=i.call(this,t)||this;return e.openState=!1,e.redNum=0,e.firstLoginRedNum=0,e}return __extends(t,i),t.prototype.ZC13=function(t){t&&(null!=this.actData?this.actData.updateData(t):(this.actData=new LuxuryRechargeData(t),this.tips=this.actData.tips),this.updateRed())},t.prototype.ZK10=function(){var t=this.actData.getListView(1);for(var e in t)if(t[e].state==J13.A3)return t[e].id;return t[0].id},t.prototype.updateRed=function(){this.redNum=this.FL35()},t.prototype.FL35=function(){if(this.firstLoginRedNum)return 1;var t=this.actData.getListView(1);for(var e in t)if(t[e].state==J13.A3)return 1;return 0},t.prototype.notify=function(t){i.prototype.notifyView.call(this,this,t)},t}(TG79);t.Model=e,__reflect(e.prototype,"LuxuryRecharge.Model")}(LuxuryRecharge||(LuxuryRecharge={})),function(e){var t=function(i){function t(t){var e=i.call(this,t)||this;return e.rSM(P4.D97,e.GV54,e),e}return __extends(t,i),t.prototype.GV55=function(t){var e={type:P4.D96,body:{id:t}};this.sSM(e)},t.prototype.GV54=function(t){this.apF(e.Const.LUXURY_RECHARGE_TAKEAWD_RES,t)},t}(TG80);e.Proxy=t,__reflect(t.prototype,"LuxuryRecharge.Proxy")}(LuxuryRecharge||(LuxuryRecharge={}));var ItemLuxuryRecharge=function(e){function t(){var t=e.call(this)||this;return t.skinName="LuxuryRechargeItemSkin",t.addEventListener(egret.Event.ADDED_TO_STAGE,t.open,t),t.addEventListener(egret.Event.REMOVED_FROM_STAGE,t.close,t),t}return __extends(t,e),t.prototype.open=function(){},t.prototype.close=function(){},t.prototype.childrenCreated=function(){e.prototype.createChildren.call(this),this.item.ZG6(!1)},t.prototype.dataChanged=function(){this.lbTitle.text=O3.tr(7086,this.data.stage);var t=N12.gID(this.data.reward[0].k),e=1==this.data.reward[0].effect?TF59.FC9(t.quality):void 0,i={data:t,ct:this.data.reward[0].v,texiao:e};switch(this.item.data={itemData:i,isBottom:!1,scale:1},this.imgSelect.visible=this.data.select,this.imgRed.visible=this.data.state==J13.A3,this.data.state){case J13.A3:this.imgState.source="hhlc_fonts_kelingqu_png";break;case J13.A2:this.imgState.source="hhlc_fonts_yilingqu_png";break;case J13.A1:this.imgState.source="hhlc_fonts_weidacheng_png"}},t.prototype.oCI=function(){TG40.playClickEffect();var t=App.CM.gtM(O6.B79);t.curId=this.data.id,t.notify("changeGift")},t}(eui.ItemRenderer);__reflect(ItemLuxuryRecharge.prototype,"ItemLuxuryRecharge");var LuxuryRechargeView=function(s){function t(t,e){var i=s.call(this,t,e)||this;return i.skinName="LuxuryRechargeSkin",i.sGN("release_act1109"),i}return __extends(t,s),Object.defineProperty(t.prototype,"model",{get:function(){return App.CM.gtM(O6.A39)},enumerable:!0,configurable:!0}),t.prototype.open=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];s.prototype.open.apply(this,t),this.itemList.addEventListener(eui.ItemTapEvent.ITEM_TAP,this.ZN20,this),this.btnGet.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickGet,this),this.btnGo.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickGo,this),this.btnLeft.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickLeft,this),this.btnRight.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickRight,this);var i=this.model;this.curIndex=i.ZK10(),this.ZN19(i),App.K16.doFrame(1,1,this.delayCall,this)},t.prototype.initUI=function(){s.prototype.initUI.call(this);var t=this.itemList.layout;this.listGap=t.gap,this.collection=new eui.ArrayCollection,this.itemList.dataProvider=this.collection,this.itemList.itemRenderer=ItemLuxuryRecharge,this.scItem.scrollPolicyV=eui.ScrollPolicy.OFF,this.scItem.viewport=this.itemList,this.collection2=new eui.ArrayCollection,this.dgItem.dataProvider=this.collection2,this.dgItem.itemRenderer=ItemIcon,this.scItem2.scrollPolicyV=eui.ScrollPolicy.OFF,this.scItem2.viewport=this.dgItem,this.btnGo.label=O3.tr(3203)},t.prototype.delayCall=function(){if(this.collection.length<=4||this.curIndex<=4)this.itemList.scrollH=0;else{var t=(this.itemList.contentWidth-(this.collection.length-1)*this.listGap)/this.collection.length+this.listGap,e=this.curIndex-1;e>=this.collection.length-4&&(e=this.collection.length-4),this.itemList.scrollH=e*t}},t.prototype.uBM=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];s.prototype.uBM.apply(this,[t].concat(e));e&&0<e.length&&e[0];t instanceof LuxuryRecharge.Model&&this.ZN19(t)},t.prototype.ZN19=function(t){var e=(t=t||this.model).actData;this.leftCD=t.actData.ZHH64();var i=P6.FJ11(1e3*this.leftCD,5);this.lbCd.textFlow=O3.tr2(7090,i),this._timerHandler=App.K16.doTimer(1e3,this.leftCD,this.GY14,this);var s=e.getListView(this.curIndex);for(var o in this.collection.replaceAll(s),s)if(s[o].id==this.curIndex){this.curData=s[o];break}var r=this.curData.reward,n=[];for(var o in r){var a=N12.gID(r[o].k),h=1==r[o].effect?TF59.FC9(a.quality):void 0,p={data:a,ct:r[o].v,texiao:h};n.push({itemData:p,isBottom:!1,scale:.9})}if(this.collection2.replaceAll(n),this.lbMoney.text=this.curData.stage.toString(),this.curData.state==J13.A3)this.btnGet.enabled=!0,P16.sGF(this.btnGet,!1),this.lbRecharge.visible=!1,this.btnGet.label=O3.tr(6287),P7.FD53(this.btnGet,1);else if(this.curData.state==J13.A2)this.btnGet.enabled=!1,P16.sGF(this.btnGet,!0),this.btnGet.label=O3.tr(6923),this.lbRecharge.visible=!1,P7.FD53(this.btnGet,0);else{this.btnGet.enabled=!1,P16.sGF(this.btnGet,!0),this.lbRecharge.visible=!0;var l=this.curData.stage-e.gold;this.lbRecharge.text=O3.tr(7088,l),this.btnGet.label=O3.tr(6287),P7.FD53(this.btnGet,0)}},t.prototype.GY14=function(){this.leftCD--;var t=P6.FJ11(1e3*this.leftCD,5);this.lbCd.textFlow=O3.tr2(7090,t),this.leftCD<=0&&(this.cTH(),this.lbCd.text="")},t.prototype.cTH=function(){null!=this._timerHandler&&(App.K16.rBH(this._timerHandler),this._timerHandler=null)},t.prototype.ZN20=function(t){this.curIndex=t.item.id,this.ZN19()},t.prototype.onClickGet=function(){App.CM.apF(O6.A39,LuxuryRecharge.Const.LUXURY_RECHARGE_TAKEAWD_REQ,this.curData.id)},t.prototype.onClickGo=function(){App.CM.apF(O6.C29,P8.A7)},t.prototype.onClickRight=function(){if(!(this.collection.length<=4)){var t=(this.itemList.contentWidth-(this.collection.length-1)*this.listGap)/this.collection.length+this.listGap,e=Math.floor((this.itemList.scrollH+4*t)/t);e>=this.collection.length-4&&(e=this.collection.length-4),this.itemList.scrollH=e*t}},t.prototype.onClickLeft=function(){var t=(this.itemList.contentWidth-(this.collection.length-1)*this.listGap)/this.collection.length+this.listGap,e=Math.ceil((this.itemList.scrollH-4*t)/t);e<0&&(e=0),this.itemList.scrollH=e*t},t.prototype.close=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];s.prototype.close.apply(this,t),this.btnGet.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickGet,this),this.btnGo.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickGo,this),this.btnLeft.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickLeft,this),this.btnRight.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickRight,this),this.collection.removeAll(),this.collection2.removeAll(),this.curData=null,this.curIndex=null,this.listGap=null,this.cTH()},t}(BaseEuiView);__reflect(LuxuryRechargeView.prototype,"LuxuryRechargeView");var LuxuryRechargeData=function(i){function t(t){var e=i.call(this,t)||this;return e.updateData(t),e.stageList=M18.FL28(t.atmp.cost,","),e.rewardList=t.atmp.reward.split("|").map(function(t,e){var i=t.split(","),s=i[0],o=i[1],r=M18.FL28(o,";","-"),n=[];for(var a in r){var h=P7.str2kv1(r[a][0]);h.effect=Number(r[a][1]),n.push(h)}return{id:s,award:n}}),e}return __extends(t,i),t.prototype.updateData=function(t){this.gold=P7.getValue(t.g,this.gold),this.stateList=P7.getValue(t.b,this.stateList),this.ZU63(t)},t.prototype.getListView=function(t){var e=[];for(var i in this.rewardList){var s={id:this.rewardList[i].id,stage:Number(this.stageList[this.rewardList[i].id-1]),state:J13.A1,reward:this.rewardList[i].award,select:t==this.rewardList[i].id};for(var o in this.stateList){var r=this.stateList[o].k,n=this.stateList[o].v;this.rewardList[i].id==r&&(s.state=1==n?J13.A3:J13.A2)}e.push(s)}return e},t}(ActivityVo);__reflect(LuxuryRechargeData.prototype,"LuxuryRechargeData");var K3=function(){function t(){}return t.A6=10001,t.A5=10002,t.A4=10003,t.A3=10004,t.A1=10005,t.A2=10006,t}();__reflect(K3.prototype,"K3");var TC71=function(i){function t(){var t=i.call(this)||this,e=new TF76(t);return e.aLV(O7.G92),e.aLV(O7.E28),e.aLV(O7.D86),e.aLV(O7.I64),App.VM.register(O7.G92,"OpenBoxView",t,K17.UI_Main),t.rgF(K3.A6,t.GO38,t),t.rgF(K3.A5,t.GM45,t),App.VM.register(O7.E28,"OpenBoxRewardView",t,K17.UI_Main_TOP),t.openBoxProxy=new TF77(t),t.rgF(K3.A1,t.GX8,t),t.rgF(K3.A2,t.GX9,t),t}return __extends(t,i),t.prototype.GX8=function(t){this.openBoxProxy.GX8(t)},t.prototype.GX9=function(t){if(200==t.head.state){var e=t.body,i=this.gtM();i.ZC13(e),i.notify(),e&&App.CM.apF(O6.B12,G16.A4,e)}else App.CM.apF(O6.B87,L10.A4,t)},t.prototype.GO38=function(t){App.VM.open(O7.G92,t);var e=App.CM.gtM(O6.B70);e.firstLoginRedNum=0,e.notify()},t.prototype.GM45=function(){App.VM.close(O7.G92)},t}(TE11);__reflect(TC71.prototype,"TC71");var TF76=function(i){function t(t){var e=i.call(this,t)||this;return e.openState=!1,e.redNum=0,e.firstLoginRedNum=0,e}return __extends(t,i),t.prototype.ZC13=function(t){t&&(null!=this.actData?this.actData.updateData(t):(this.actData=new OpenBoxData(t),this.tips=this.actData.tips),this.updateRed())},t.prototype.updateRed=function(){this.redNum=this.FL35()},t.prototype.FL35=function(){var t=0;return t+=this.firstLoginRedNum,t+=this.actData.cu},t.prototype.notify=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];i.prototype.notifyView.call(this,this,t)},t}(TG79);__reflect(TF76.prototype,"TF76");var TF77=function(i){function t(t){var e=i.call(this,t)||this;return e.rSM(P4.P82,e.GX9,e),e}return __extends(t,i),t.prototype.GX8=function(t){var e={type:P4.P81,body:{id:t}};this.sSM(e)},t.prototype.GX9=function(t){this.apF(K3.A2,t)},t}(TG80);__reflect(TF77.prototype,"TF77");var OpenBoxRewardView=function(s){function t(t,e){var i=s.call(this,t,e)||this;return i.skinName="OpenBoxRewardLook",i}return __extends(t,s),t.prototype.initUI=function(){s.prototype.initUI.call(this),this.dataSource=new eui.ArrayCollection,this.listGroup.itemRenderer=ItemIcon,this.listGroup.dataProvider=this.dataSource,this.updateReward(),this.lbTitle.textFlow=M18.HTP.parse(O3.tr(6507))},t.prototype.open=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];s.prototype.open.call(this),this.bgMask.addEventListener(egret.TouchEvent.TOUCH_TAP,this.closeSelf,this),this.backBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.closeSelf,this),this.closeBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.closeSelf,this)},t.prototype.updateReward=function(){var t=App.CM.gtM(O6.B70);this.dataSource.replaceAll(t.actData.pre.map(function(t){return{itemData:{data:N12.gID(t.k),ct:t.v},isBottom:!1}}))},t.prototype.closeSelf=function(){App.VM.close(O7.E28)},t.prototype.close=function(){this.dataSource.removeAll(),this.bgMask.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.closeSelf,this),this.closeBtn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.closeSelf,this),this.backBtn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.closeSelf,this)},t}(BaseEuiView);__reflect(OpenBoxRewardView.prototype,"OpenBoxRewardView");var OpenBoxView=function(s){function t(t,e){var i=s.call(this,t,e)||this;return i.sGN("release_act1042"),i.skinName="OpenBoxSkin",i}return __extends(t,s),t.prototype.initUI=function(){s.prototype.initUI.call(this),this.lbldajiang.textFlow=M18.HTP.parse(O3.tr(3802)),this.lbTip.textFlow=M18.HTP.parse(O3.tr(3805))},t.prototype.open=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];s.prototype.open.call(this),this.grReward.addEventListener(egret.TouchEvent.TOUCH_TAP,this.openReward,this),this.btnBox1.addEventListener(egret.TouchEvent.TOUCH_TAP,this.openBox,this),this.btnBox2.addEventListener(egret.TouchEvent.TOUCH_TAP,this.openBox,this),this.btnBox3.addEventListener(egret.TouchEvent.TOUCH_TAP,this.openBox,this),this.btnBoxBig.addEventListener(egret.TouchEvent.TOUCH_TAP,this.openBox,this),this.effectBig.addEventListener(egret.TouchEvent.TOUCH_TAP,this.openBox,this),this.effects1.addEventListener(egret.TouchEvent.TOUCH_TAP,this.openBox,this),this.effects2.addEventListener(egret.TouchEvent.TOUCH_TAP,this.openBox,this),this.effects3.addEventListener(egret.TouchEvent.TOUCH_TAP,this.openBox,this)},t.prototype.uBM=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];s.prototype.uBM.call(this,t,e),t instanceof TF76&&this.ZD63(t)},t.prototype.ZD63=function(t){if(this.updateViews(),this.descLb.textFlow=M18.HTP.parse(O3.tr(3803,t.actData.desc)),null==this.timerHandler)if(0<t.actData.rs){this.leftCD=t.actData.ZHH64();var e=O3.tr(3311,P6.FJ11(1e3*this.leftCD,5));this.leftCdLb.textFlow=M18.HTP.parse(e),this.timerHandler=App.K16.doTimer(1e3,this.leftCD,this.GY14,this)}else this.leftCdLb.text=""},t.prototype.updateViews=function(){var t=App.CM.gtM(O6.B70);if(t){for(var e in t.actData.nd)this.limitNum=t.actData.nd[e];var i=this.limitNum;for(var e in t.actData.nd)if(t.actData.nd[e]>t.actData.mny){i=t.actData.nd[e];break}var s=t.actData.mny/i,o=Math.ceil(this.imgZone.width*s);if(o>this.imgZone.width&&(o=this.imgZone.width),this.imgPro.$setWidth(o),this.lbPro.textFlow=M18.HTP.parse(O3.tr(3804,t.actData.mny+"/"+i)),this.ZQ81(),t.actData.mny>i&&t.actData.cu<=0)this.lbNum.text=O3.tr(3321);else{var r=O3.tr(3310,t.actData.cu);this.lbNum.textFlow=M18.HTP.parse(r)}}},t.prototype.ZQ81=function(){var t=App.CM.gtM(O6.B70);this.btnBox1.bgStr=this.isOpenBox(1)?"v1_img_baoxiangweikai3c_png":"v1_img_baoxiangweikai2b_png",this.btnBox2.bgStr=this.isOpenBox(2)?"v1_img_baoxiangweikai3c_png":"v1_img_baoxiangweikai2b_png",this.btnBox3.bgStr=this.isOpenBox(3)?"v1_img_baoxiangweikai3c_png":"v1_img_baoxiangweikai2b_png",App.THH33.rEf(this.effects1,"small_box"),App.THH33.rEf(this.effects2,"small_box"),App.THH33.rEf(this.effects3,"small_box"),App.THH33.rEf(this.effectBig,"big_box"),0<t.actData.cu&&!this.isOpenBox(1)&&(this.btnBox1.bgStr="",this.ZQ82()),0<t.actData.cu&&!this.isOpenBox(2)&&(this.btnBox2.bgStr="",this.ZQ83()),0<t.actData.cu&&!this.isOpenBox(3)&&(this.btnBox3.bgStr="",this.ZQ84()),t.actData.idx.length<3?this.btnBoxBig.bgStr="v1_img_kildixida_png":this.isOpenBox(4)?this.btnBoxBig.bgStr="v1_img_kildixida3_png":0<t.actData.cu?(this.btnBoxBig.bgStr="",this.ZK11()):this.btnBoxBig.bgStr="v1_img_kildixida2_png"},t.prototype.ZQ82=function(){App.THH33.aUE(this.effects1,"small_box",-this.effects1.width/2,-this.effects1.height/2,-1)},t.prototype.ZQ83=function(){App.THH33.aUE(this.effects2,"small_box",-this.effects2.width/2,-this.effects2.height/2,-1)},t.prototype.ZQ84=function(){App.THH33.aUE(this.effects3,"small_box",-this.effects3.width/2,-this.effects3.height/2,-1)},t.prototype.ZK11=function(){App.THH33.aUE(this.effectBig,"big_box",-this.effectBig.width/2,-this.effectBig.height/2,-1)},t.prototype.isOpenBox=function(t){var e=App.CM.gtM(O6.B70).actData.idx;if(e&&0<e.length)for(var i in e)if(e[i]==t)return!0;return!1},t.prototype.GY14=function(){this.leftCD--;var t=O3.tr(3311,P6.FJ11(1e3*this.leftCD,5));this.leftCdLb.textFlow=M18.HTP.parse(t),this.leftCD<=0&&(this.cTH(),this.leftCdLb.text="")},t.prototype.openReward=function(){App.VM.open(O7.E28)},t.prototype.openBox=function(t){var e=App.CM.gtM(O6.B70),i=this.limitNum;if(e.actData.mny>i&&e.actData.cu<=0)P18.sDP(O3.tr(3317));else{var s=parseInt(t.currentTarget.name);this.isOpenBox(s)?P18.sDP(O3.tr(3316)):4!=s||e.actData.idx&&!(e.actData.idx.length<3)?e.actData.cu<=0?P18.sDP(O3.tr(3314)):App.CM.apF(O6.B70,K3.A1,s):P18.sDP(O3.tr(3315))}},t.prototype.cTH=function(){null!=this.timerHandler&&(App.K16.rBH(this.timerHandler),this.timerHandler=null)},t.prototype.close=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];s.prototype.close.call(this),this.grReward.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.openReward,this),this.btnBox1.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.openBox,this),this.btnBox2.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.openBox,this),this.btnBox3.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.openBox,this),this.btnBoxBig.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.openBox,this),this.effectBig.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.openBox,this),this.effects1.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.openBox,this),this.effects2.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.openBox,this),this.effects3.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.openBox,this),this.cTH()},t}(BaseEuiView);__reflect(OpenBoxView.prototype,"OpenBoxView");var OpenBoxConfVo=function(){function t(t){this.getState=J13.A1,this.sLink=1802,this.controllerConst=O6.B70,this.initData(t)}return t.prototype.initData=function(t){t&&(this.id=t.index,this.awd=t.aw)},t}();__reflect(OpenBoxConfVo.prototype,"OpenBoxConfVo");var OpenBoxData=function(i){function t(t){var e=i.call(this,t)||this;return e.cu=0,e.mny=0,e.updateData(t),e}return __extends(t,i),t.prototype.initActData=function(t){i.prototype.initActData.call(this,t),this.param&&(this.pre=this.param.split(";").map(function(t){var e=t.split(":").map(function(t){return parseInt(t)});return{k:e[0],v:e[1]}}))},t.prototype.updateData=function(t){t&&(this.cu=null==t.cu?this.cu:t.cu,this.mny=null==t.mny?this.mny:t.mny,this.nd=null==t.nd?this.nd:t.nd,this.idx=null==t.idx?this.idx:t.idx,this.ZU63(t))},t}(ActivityVo);__reflect(OpenBoxData.prototype,"OpenBoxData");var TA47=function(i){function t(){var t=i.call(this)||this,e=new TC18(t);return e.aLV(O7.E29),e.aLV(O7.D86),t}return __extends(t,i),t}(TE11);__reflect(TA47.prototype,"TA47");var TC18=function(i){function t(t){var e=i.call(this,t)||this;return e.openState=!1,e.redNum=0,e.firstLoginRedNum=0,e}return __extends(t,i),t.prototype.ZC13=function(t){t&&(null!=this.actData?this.actData.ZU63(t):(this.actData=new ActivityVo(t),this.tips=this.actData.tips),this.updateRed())},t.prototype.updateRed=function(){this.redNum=this.FL35()},t.prototype.FL35=function(){return this.firstLoginRedNum},t.prototype.notify=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];i.prototype.notifyView.apply(this,[this].concat(t))},t}(TG79);__reflect(TC18.prototype,"TC18");var RechargeResetView=function(s){function t(t,e){var i=s.call(this,t,e)||this;return i.sGN("release_act1046"),i.skinName=RechargeResetSkin,i}return __extends(t,s),t.prototype.initUI=function(){s.prototype.initUI.call(this),this.btnRecharge.label=O3.tr(3817)},t.prototype.open=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];s.prototype.open.call(this),this.btnRecharge.addEventListener(egret.TouchEvent.TOUCH_TAP,this.ZM93,this);var i=App.CM.gtM(O6.A49);this.bgImg.source=i.actData.picture,this.ZA17(i)},t.prototype.uBM=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];s.prototype.uBM.call(this,t,e),t instanceof TC18&&this.ZA17(t)},t.prototype.ZA17=function(t){this.leftCD=t.actData.ZHH64();var e=P6.FJ11(1e3*this.leftCD,5);this.lbTime.textFlow=M18.HTP.parser(O3.tr(3253,e)),this._timerHandler=App.K16.doTimer(1e3,this.leftCD,this.GY14,this)},t.prototype.GY14=function(){this.leftCD--;var t=P6.FJ11(1e3*this.leftCD,5);this.lbTime.textFlow=M18.HTP.parser(O3.tr(3253,t)),this.leftCD<=0&&(this.cTH(),this.lbTime.text="")},t.prototype.cTH=function(){null!=this._timerHandler&&(App.K16.rBH(this._timerHandler),this._timerHandler=null)},t.prototype.ZM93=function(){App.CM.apF(O6.C29,P8.A7)},t.prototype.close=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];s.prototype.close.call(this),this.btnRecharge.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.ZM93,this),this.cTH()},t}(BaseEuiView);__reflect(RechargeResetView.prototype,"RechargeResetView"),function(t){var e=function(){function t(){}return t.ATTACK=2001,t.ATTACK_RES=2002,t}();t.Const=e,__reflect(e.prototype,"ShootRange.Const")}(ShootRange||(ShootRange={})),function(o){var t=function(s){function t(){var t=s.call(this)||this,e=new o.Model(t);e.aLV(O7.HH8),e.aLV(O7.D15),e.aLV(O7.D66),e.aLV(O7.C14),e.aLV(O7.D86),e.aLV(O7.I64),App.VM.register(O7.HH8,"ShootRangeView",t,K17.UI_Main),App.VM.register(O7.D15,"ShootRangeBaseView",t,K17.UI_Main_TOP),App.VM.register(O7.E53,"ShootRangeTipView",t,K17.UI_Popup);var i=t.proxy=new o.Proxy(t);return t.rgF(o.Const.ATTACK,i.attack,i),t.rgF(o.Const.ATTACK_RES,t.GY4,t),t}return __extends(t,s),Object.defineProperty(t.prototype,"model",{get:function(){return this.gtM()},enumerable:!0,configurable:!0}),t.prototype.GY4=function(t){var e=App.VM.gOV(O7.HH8);if(e&&e.complete(),200==t.head.state){var i=t.body;this.model.ZC13(i),this.model.notify(),P5.sIs(t.body.ob)}else App.CM.apF(O6.B87,L10.A4,t)},t}(TE11);o.Controller=t,__reflect(t.prototype,"ShootRange.Controller")}(ShootRange||(ShootRange={})),function(e){var t=function(i){function t(t){var e=i.call(this,t)||this;return e.openState=!1,e.redNum=0,e.firstLoginRedNum=0,e.useGoldTips=!0,e}return __extends(t,i),t.prototype.ZC13=function(t){t&&(null!=this.actData?this.actData.updateData(t):this.actData=new e.ActData(t),this.updateRed())},t.prototype.updateRed=function(){this.redNum=this.FL35()},t.prototype.FL35=function(){var t=0;return t+=this.firstLoginRedNum,this.actData&&this.actData.fn<this.actData.freeCount&&(t+=1),t},t.prototype.notify=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];i.prototype.notifyView.call(this,this,t)},t}(TG79);e.Model=t,__reflect(t.prototype,"ShootRange.Model")}(ShootRange||(ShootRange={})),function(i){var t=function(e){function t(t){return e.call(this,t)||this}return __extends(t,e),t.prototype.attack=function(t){this.rSMO(P4.U81,this.GY4,this),this.sSM({type:P4.U80,body:{state:t}})},t.prototype.GY4=function(t){this.apF(i.Const.ATTACK_RES,t)},t}(TG80);i.Proxy=t,__reflect(t.prototype,"ShootRange.Proxy")}(ShootRange||(ShootRange={}));var ShootRangeBaseView=function(s){function t(t,e){var i=s.call(this,t,e)||this;return i.set(O7.D15,O3.tr(7083)).rgS(O7.D66,"ShootRangeRankView",O3.tr(7080),0).rgS(O7.C14,"ShootRangeRewardView",O3.tr(7081),0),i}return __extends(t,s),t}(BasePanelViewX);__reflect(ShootRangeBaseView.prototype,"ShootRangeBaseView");var ShootRangeRankItemView=function(o){function t(){var t=o.call(this)||this;return t.skinName="ShootRangeRankItemSkin",t}return __extends(t,o),t.prototype.dataChanged=function(){o.prototype.dataChanged.call(this);var t=this.data,e=t.nRank,i=t.sName,s=t.val;this.imgBg.visible=this.itemIndex%2==0,this.data&&(this.labName.text=i,this.labRank.text=e+"",this.labScore.text=s+"")},t}(eui.ItemRenderer);__reflect(ShootRangeRankItemView.prototype,"ShootRangeRankItemView");var ShootRangeRankView=function(s){function t(t,e){var i=s.call(this,t,e)||this;return i.roles=[],i.skinName="ShootRangeRankSkin",i}return __extends(t,s),t.prototype.initUI=function(){s.prototype.initUI.call(this),this.labTr7079.textFlow=O3.tr2(7079),this.labTr7074.textFlow=O3.tr2(7074),this.labTr7075.textFlow=O3.tr2(7075),this.labTr7076.textFlow=O3.tr2(7076),this.list=new CommonListBase({render:ShootRangeRankItemView,gap:0,width:this.listGroup.width,height:this.listGroup.height}),this.listGroup.addChild(this.list);for(var t=0;t<this.gRoles.numChildren;t++){var e=this.gRoles.getChildAt(t),i=new ItemWelfareRankRoleView(t);this.roles.push(i),e.addChild(i)}},t.prototype.open=function(){s.prototype.open.call(this),this.list.open(),this.loadRankData()},t.prototype.loadRankData=function(){var t={type:RankType.shootRange,currPage:1,size:TG75.rank[RankType.shootRange].count};App.CM.apF(O6.C19,O18.A5,t)},t.prototype.uBM=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];t instanceof THH11&&this.update(t,e[0])},t.prototype.update=function(t,e){if(e==P4.X79){if(t.nType!=RankType.shootRange)return;this.list.rfL(t.rankList);var i=t.myRankList.nRank>TG75.rank[RankType.shootRange].count?-1:t.myRankList.nRank;this.labRank.textFlow=O3.tr2(7071,i<=0?O3.tr(7072):i,(i<=0?_cc.red:_cc.green1).toString(16)),this.labStar.textFlow=O3.tr2(7078,t.myRankList.val);for(var s=0;s<3;s++){var o=t.rankList[s];this.roles[s].lbPlayerLv.visible=o?(this.roles[s].setData({level:o.nLv,name:o.sName,u:o.u}),!0):(this.roles[s].setData({level:0,name:O3.tr(610),u:null}),!1)}}else P4.R72},t.prototype.close=function(){this.list.close(),s.prototype.close.call(this)},t}(BaseEuiView);__reflect(ShootRangeRankView.prototype,"ShootRangeRankView");var ShootRangeRewardItemView=function(e){function t(){var t=e.call(this)||this;return t.skinName="ShootRangeRewardItemSkin",t}return __extends(t,e),t.prototype.childrenCreated=function(){e.prototype.childrenCreated.call(this),this.addEventListener(egret.Event.REMOVED_FROM_STAGE,this.onDestroy,this),this.dgItem.dataProvider=this.dataSource=new eui.ArrayCollection,this.dgItem.itemRenderer=ItemIcon},t.prototype.dataChanged=function(){e.prototype.dataChanged.call(this),this.data&&(this.labPower.text=O3.tr(7084,this.data.r),this.dataSource.source=this.data.rw.map(function(t){return{itemData:{data:N12.gID(t.k),ct:t.v},isBottom:!1}}))},t.prototype.onDestroy=function(){this.removeEventListener(egret.Event.REMOVED_FROM_STAGE,this.onDestroy,this),this.dataSource.removeAll()},t}(eui.ItemRenderer);__reflect(ShootRangeRewardItemView.prototype,"ShootRangeRewardItemView");var ShootRangeRewardView=function(s){function t(t,e){var i=s.call(this,t,e)||this;return i.skinName="ShootRangeRewardSkin",i}return __extends(t,s),t.prototype.initUI=function(){s.prototype.initUI.call(this),this.list=new CommonListBase({render:ShootRangeRewardItemView,gap:5,width:this.listGroup.width,height:this.listGroup.height}),this.listGroup.addChild(this.list),this.labTips.textFlow=O3.tr2(7085)},Object.defineProperty(t.prototype,"model",{get:function(){return App.CM.gtM(O6.B6)},enumerable:!0,configurable:!0}),t.prototype.open=function(){s.prototype.open.call(this),this.list.open();var t=this.model.actData.rankData.map(function(t){return{r:t.b==t.e?t.b+"":t.b+"-"+t.e,rw:t.rw}});this.list.rfL(t),this.GX5(this.model)},t.prototype.uBM=function(t){t instanceof ShootRange.Model&&this.GX5(t)},t.prototype.GX5=function(t){this.labRank.textFlow=O3.tr2(7071,t.actData.rk<0?O3.tr(7072):t.actData.rk,(t.actData.rk<0?_cc.red:_cc.green1).toString(16))},t.prototype.close=function(){this.list.close(),s.prototype.close.call(this)},t}(BaseEuiView);__reflect(ShootRangeRewardView.prototype,"ShootRangeRewardView");var ShootRangeStateEffect=function(e){function t(){var t=e.call(this)||this;return t.skinName="ShootRangeStateEffectSkin",t}return __extends(t,e),t.prototype.update=function(t,e){this.img.source=[,"com_bazizhengzhong_png","com_bazichazhi_png","com_bazijianshi_png"][t],this.lab.text=1==t&&1<e?"x"+e:""},t}(eui.Component);__reflect(ShootRangeStateEffect.prototype,"ShootRangeStateEffect");var ShootRangeTipView=function(s){function t(t,e){var i=s.call(this,t,e)||this;return i.skinName="ShootRangeTipSkin",i}return __extends(t,s),Object.defineProperty(t.prototype,"model",{get:function(){return App.CM.gtM(O6.B6)},enumerable:!0,configurable:!0}),t.prototype.initUI=function(){this.labItem.textFlow=O3.tr2(7101,this.model.actData.atkConsume),this.lbTitle.text=O3.tr(7104),this.ckDot.label=O3.tr(7105),this.btnConfirm.label=O3.tr(7103),this.btnCancel.label=O3.tr(7102),this.closeBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.oCC,this),this.bgMask.addEventListener(egret.TouchEvent.TOUCH_TAP,this.oCC,this),this.btnCancel.addEventListener(egret.TouchEvent.TOUCH_TAP,this.ZQ58,this),this.btnConfirm.addEventListener(egret.TouchEvent.TOUCH_TAP,this.oCC,this),this.ckDot.selected=!this.model.useGoldTips},t.prototype.open=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];s.prototype.open.call(this)},t.prototype.close=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.closeBtn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.oCC,this),this.bgMask.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.oCC,this),this.btnCancel.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.ZQ58,this),this.btnConfirm.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.oCC,this),s.prototype.close.apply(this,t)},t.prototype.save=function(){this.model.useGoldTips=!this.ckDot.selected},t.prototype.oCC=function(){App.VM.GY64(this),this.dispatchEventWith("CANCEL",!1)},t.prototype.ZQ58=function(){App.VM.GY64(this),this.save(),this.dispatchEventWith("CONFIRM",!1)},t}(BaseEuiView);__reflect(ShootRangeTipView.prototype,"ShootRangeTipView");var ShootRange,ShootRangeView=function(s){function t(t,e){var i=s.call(this,t,e)||this;return i.atkCd=0,i.time=0,i.scaleWidth=25,i.state=0,i.tagBasePos=0,i.ruleWidth=521,i.atkClock=0,i.skinName="ShootRangeSkin",i}return __extends(t,s),Object.defineProperty(t.prototype,"model",{get:function(){return App.CM.gtM(O6.B6)},enumerable:!0,configurable:!0}),t.prototype.initUI=function(){s.prototype.initUI.call(this),this.hideTarget(),this.labTr7071.textFlow=O3.tr2(7010),this.labTr7066.textFlow=O3.tr2(7066),this.btnRank.label=O3.tr(7080),this.btnRank.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickRank,this),this.btn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickAtk,this)},t.prototype.hideTarget=function(){this.gTarget.visible=this.a.visible=this.b.visible=this.imgTag.visible=!1,this.imgTag.x=0},t.prototype.open=function(){s.prototype.open.call(this),this.countdown(),App.K16.doTimer(1e3,0,this.countdown,this),this.complete(),this.time=P6.getTime(),this.GX5(this.model)},t.prototype.reset=function(){this.model.actData.resetPos(),this.gTarget.visible=this.a.visible=this.b.visible=this.imgTag.visible=!0},t.prototype.close=function(){this.btnRank.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickRank,this),this.btn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickAtk,this),App.K16.removeAll(this),s.prototype.close.call(this)},t.prototype.uBM=function(t){t instanceof ShootRange.Model&&this.GX5(t)},t.prototype.GX5=function(t){this.a.width=t.actData.widths[0]*(this.scaleWidth+Math.floor(t.actData.widths[0]))*2-1,this.a.x=t.actData.pos*(this.scaleWidth+1)-this.a.width/2,this.b.width=t.actData.widths[1]*(this.scaleWidth+Math.floor(t.actData.widths[1]))*2-1,this.b.x=t.actData.pos*(this.scaleWidth+1)-this.b.width/2,this.labDistance.textFlow=O3.tr2(7065,t.actData.pos),this.labTr7073.textFlow=O3.tr2(7073),this.labTr7069.textFlow=O3.tr2(7069),this.labTr7067.textFlow=O3.tr2(7067,t.actData.allCount-t.actData.fn),this.labTr7070.textFlow=O3.tr2(7070,t.actData.pc),this.labTr7071.textFlow=O3.tr2(7071,t.actData.rk<0?O3.tr(7072):t.actData.rk,(t.actData.rk<0?_cc.red:_cc.green1).toString(16)),this.imgTarget.y=this.gTarget.height-this.gTarget.height/10*(t.actData.pos-5),this.imgTarget.scaleX=this.imgTarget.scaleY=1-(t.actData.pos-5)/10*.5,this.imgTarget.x=t.actData.posY*this.gTarget.width,this.gDis.x=this.imgTarget.x+this.imgTarget.width*this.imgTarget.scaleX*.3,this.gDis.y=this.imgTarget.y-this.imgTarget.height*this.imgTarget.scaleY*.7,this.btn.label=O3.tr(0==this.state?7082:7096),this.btn.imgNew.visible=0<t.FL35(),t.actData.fn>=t.actData.freeCount?(this.gCons.visible=!0,P16.FL31(this.gCons,N12.itemId.gold,t.actData.atkConsume,{textTemplate:"<font color=#75c01a>$1</font>",lackTextTemplate:"<font color=#d82222>$1</font>"})):this.gCons.visible=!1},t.prototype.updateTag=function(){var t=this.model,e=this.ruleWidth,i=this.tagBasePos+(P6.getTime()-t.actData.cd)/1e3*(t.actData.speed*(this.scaleWidth+1));Math.ceil(i/e)%2==1?this.imgTag.x=i%e:this.imgTag.x=e-i%e},t.prototype.countdown=function(){var t=this.model;if(this.labTime.textFlow=O3.tr2(3253,P6.FJ11(t.actData.ZHH64(),5)),1==this.state){var e=Math.ceil((t.actData.cd+1e3*t.actData.time-P6.getTime())/1e3);this.labTr7068.textFlow=O3.tr2(7068,0<e?e:0)}else this.labTr7068.textFlow=O3.tr2(7068,t.actData.time)},t.prototype.onClickRank=function(){App.VM.open(O7.D15,O7.D66)},t.prototype.drawBow=function(){var t=this.model;this.reset(),App.THH32.rEf(this.imgTarget,"wdsg_lgjs_sa_gg_001"),this.state=1,t.actData.cd=P6.getTime(),this.btn.label=O3.tr(7096),this.updateTag(),this.updateTh=App.K16.doFrame(1,0,this.updateTag,this),this.autoAtkTh=App.K16.doTimer(1e3*t.actData.time,1,this.onClickAtk,this),this.GX5(t)},t.prototype.onClickAtk=function(){var t=this,e=this.model;if(0==this.state){if(P6.getTime()<this.atkClock)return;if(e.actData.fn>=e.actData.allCount)return void P18.sDP(O3.tr(7098));if(e.actData.fn>=e.actData.freeCount)if(e.useGoldTips){var i=App.VM.open(O7.E53);i&&i.addEventListener("CONFIRM",function(){N12.FL6([{k:N12.itemId.gold,v:e.actData.atkConsume}])?t.drawBow():P7.FA78()},this)}else N12.FL6([{k:N12.itemId.gold,v:e.actData.atkConsume}])?this.drawBow():P7.FA78();else this.drawBow()}else{this.atkClock=P6.getTime(!1)+500,App.K16.rBH(this.updateTh),this.updateTh=null,this.tagBasePos=this.tagBasePos+(P6.getTime()-e.actData.cd)/1e3*(e.actData.speed*(this.scaleWidth+1));var s=this.imgTag.x/(this.scaleWidth+1),o=e.actData.hitTest(s);this.playHitAnima(o);var r=0,n=0;n=1==o?(r=117,75):2==o?(r=117+45*Math.random()*(.5<Math.random()?1:-1),75+45*Math.random()*(.5<Math.random()?1:-1)):(r=.5<Math.random()?0:this.imgTarget.width,.5<Math.random()?0:this.imgTarget.height),App.THH32.aUE(this.imgTarget,"wdsg_lgjs_sa_gg_001",r,n,1,null,function(){e.actData.fn>=e.actData.allCount&&t.hideTarget()},null,null,[,"bf_1","bf_2","bf_3"][o]),App.CM.apF(O6.B6,ShootRange.Const.ATTACK,o),this.GX5(e)}},t.prototype.complete=function(){this.state=0,this.countdown(),this.autoAtkTh&&App.K16.rBH(this.autoAtkTh),this.autoAtkTh=null,this.GX5(this.model)},t.prototype.playHitAnima=function(t){if(t){var e=new ShootRangeStateEffect;e.update(t,this.model.actData.pc+1),this.gTarget.addChild(e),e.alpha=0,e.x=this.imgTarget.x,e.y=this.imgTarget.y-this.imgTarget.height*this.imgTarget.scaleY,e.anchorOffsetX=120,e.anchorOffsetY=30,e.scaleX=e.scaleY=0,egret.Tween.get(e).to({scaleX:1,scaleY:1,alpha:1},600,egret.Ease.backOut).to({y:e.y-50,alpha:0,scaleX:.95,scaleY:.95},400).call(function(){egret.Tween.removeTweens(e),App.TF56.ZJ66(e)})}},t}(BaseEuiView);__reflect(ShootRangeView.prototype,"ShootRangeView"),function(t){var e=function(i){function t(t){var e=i.call(this,t)||this;return e.speeds=[],e.time=15,e.widths=[],e.pos=0,e.posY=0,e.cd=0,e.speed=0,e.rankData=[],e.fn=0,e.c=0,e.cg=0,e.pc=0,e.rk=0,e.cf=[],e.allCount=0,e.freeCount=255,e.atkConsume=255,e.updateData(t),e}return __extends(t,i),t.prototype.initData=function(t){if(t.atmp){var e=t.atmp.cost.split(";"),i=e[0],s=e[1],o=i.split(",").map(function(t){return parseFloat(t)}),r=(o[0],o[1]),n=o[2],a=o[3],h=o[4];this.widths=[n,a,h],this.time=r,this.speeds=P7.str2kv(s,","),this.rankData=t.atmp.rank.split(",").map(function(t){var e=t.split("|"),i=e[0],s=e[1],o=P7.str2kv1(i,"-"),r=P7.str2kv(s,";");return{b:o.k,e:o.v,rw:r}});var p=t.atmp.more.split(","),l=p[0],c=p[1],u=P7.str2kv1(c,":");this.freeCount=parseFloat(l),this.atkConsume=u.v,this.allCount=this.freeCount+u.k}},t.prototype.updateData=function(t){this.initData(t),this.fn=null==t.fn?this.fn:t.fn,this.c=null==t.c?this.c:t.c,this.cg=null==t.cg?this.cg:t.cg,this.pc=null==t.pc?this.pc:t.pc,this.rk=null==t.rk?this.rk:t.rk,this.cf=null==t.cf?this.cf:t.cf,this.speed=this.getSpeed(this.pc),this.ZU63(t)},t.prototype.getSpeed=function(t){for(var e=0,i=this.speeds.sort(function(t,e){return t.k-e.k});e<i.length;e++){var s=i[e];if(t<s.k)return s.v}return this.speeds[this.speeds.length-1].v},t.prototype.resetPos=function(){this.pos=5+Math.floor(100*Math.random())/10,this.posY=Math.random()},t.prototype.hitTest=function(t){return t>=this.pos-this.widths[0]&&t<=this.pos+this.widths[0]?1:t>=this.pos-this.widths[1]&&t<=this.pos+this.widths[1]?2:3},t.prototype.FG83=function(t){for(var e=0,i=this.rankData;e<i.length;e++){var s=i[e];if(t>=s.b&&t<=s.e)return s.rw}return[]},t}(ActivityVo);t.ActData=e,__reflect(e.prototype,"ShootRange.ActData")}(ShootRange||(ShootRange={}));var WonderActBaseView=function(a){function t(t,e){var i=a.call(this,t,e)||this;i.actData=[],i.data=[],i.itemNum=6,i.skinName="CarnivalActBaseSkin";for(var s=TE12.FC8(F17.A6),o=0;o<s.length;o++){var r=s[o].id,n=TF59.FB46(r);null!=n&&App.VM.rgS(O7.D86,n.id,n.view,i.content)}return i}return __extends(t,a),t.prototype.initUI=function(){a.prototype.initUI.call(this),this.title.textFlow=M18.HTP.parse(O3.tr(3782)),this.topScroller.viewport=this.topList,this.topScroller.scrollPolicyV=eui.ScrollPolicy.OFF,this.topCollection=new eui.ArrayCollection,this.topList.dataProvider=this.topCollection,this.topList.itemRenderer=CarnivalActIconView},t.prototype.initData=function(){a.prototype.initData.call(this)},t.prototype.open=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.lbDes.text="",a.prototype.open.call(this,t),this.curView=t[0]||this.actData[0]&&this.actData[0].view,this.ZU39(),App.VM.open(this.curView),this.curView==this.actData[0].view&&(this.topList.scrollH=0),t[1]&&App.K16.doFrame(1,1,this.delayCall,this),this.bgMask.addEventListener(egret.TouchEvent.TOUCH_TAP,this.closeSelf,this),this.closeBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.closeSelf,this),this.backBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.closeSelf,this),this.leftGroup.addEventListener(egret.TouchEvent.TOUCH_TAP,this.ZQ40,this),this.rightGroup.addEventListener(egret.TouchEvent.TOUCH_TAP,this.ZM90,this),this.topScroller.addEventListener(eui.UIEvent.CHANGE_END,this.endScroller,this),TF59.FJ22(this.curView,this.diImg,this.contentImg)},t.prototype.delayCall=function(){if(this.actData.length<=this.itemNum)this.topList.scrollH=0;else{var t=this.topList.contentWidth/this.actData.length,e=this.ZE69(this.curView);e>=this.actData.length-this.itemNum&&(e=this.actData.length-this.itemNum),this.topList.scrollH=e*t}},t.prototype.ZM94=function(e){for(var t=function(t){t==e?(i.data[t].texiao=1,i.data[t].model.firstLoginRedNum=0,egret.Tween.get(i).wait(100).call(function(){this.data[t].model.notify()},i)):i.data[t].texiao=0},i=this,s=0;s<this.actData.length;s++)t(s);this.topCollection.replaceAll(this.data)},t.prototype.uBM=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];a.prototype.uBM.call(this,t,e);var s=e&&e[0]&&0<e[0].length?e[0]:"";s==P4.R37||s==P4.U30||s==P4.P76?(this.ZU39(),App.VM.open(this.curView)):this.ZQ44(t),this.endScroller()},t.prototype.ZU39=function(){var t=TF59.FA2(F17.A6);if(this.actData=t,0<this.data.length&&(this.data.splice(0,this.data.length),this.data=[]),0<this.actData.length){for(var e=0;e<this.actData.length;e++){var i={icon:this.actData[e].icon,type:this.actData[e].type,name:this.actData[e].name,red:this.actData[e].red,texiao:0,model:this.actData[e].model,subView:this.actData[e].view,mainView:O7.D86};this.data.push(i)}this.ZE69(this.curView)<0&&(this.curView=this.actData[0].view),this.ZM94(this.ZE69(this.curView))}else this.closeSelf()},t.prototype.ZQ44=function(t){var e;if(t.actid){var i=TF59.FB46(t.actid);-1!=i&&0<=(e=this.ZE69(i.id))&&(this.data[e].red=t.FL35())}if(t instanceof THH9||t instanceof THH14)for(var s=0,o=this.data;s<o.length;s++){var r=o[s];r.red=r.model.FL35()}this.topCollection.replaceAll(this.data)},t.prototype.endScroller=function(){if(this.topScroller.validateNow(),this.leftGroup.visible=!(this.topScroller.viewport.scrollH<=0),this.topScroller.viewport.contentWidth<=this.topScroller.width)this.rightGroup.visible=!1;else{this.topScroller.width+this.topScroller.viewport.scrollH>=this.topScroller.viewport.contentWidth?this.rightGroup.visible=!1:this.rightGroup.visible=!0,this.redLeft.visible=!1,this.redRight.visible=!1;for(var t=this.topScroller.viewport.scrollH,e=0;93<=t;)t-=93,e++;var i=e+this.itemNum-1,s=this.topCollection.getItemAt(this.topCollection.length-1);if(i>s.index&&(i=s.index),this.leftGroup.visible)for(var o=0;o<this.topCollection.length;o++){var r=this.topCollection.getItemAt(o);if(!(e<=o)&&0<r.red){this.redLeft.visible=!0;break}}if(this.rightGroup.visible)for(o=0;o<this.topCollection.length;o++){var n=this.topCollection.getItemAt(o);if(!(o<=i)&&0<n.red){this.redRight.visible=!0;break}}}},t.prototype.ZQ40=function(){var t=this.topScroller.viewport.scrollH-559;this.topScroller.viewport.scrollH=t<0?0:t,this.endScroller(),TG40.playClickEffect()},t.prototype.ZM90=function(){var t=this.topScroller.viewport.scrollH+559;t+this.topScroller.width>=this.topScroller.viewport.contentWidth?this.topScroller.viewport.scrollH=this.topScroller.viewport.contentWidth-this.topScroller.width:this.topScroller.viewport.scrollH=t,this.endScroller(),TG40.playClickEffect()},t.prototype.close=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];a.prototype.close.call(this,t),this.bgMask.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.closeSelf,this),this.closeBtn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.closeSelf,this),this.backBtn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.closeSelf,this),this.leftGroup.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.ZQ40,this),this.rightGroup.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.ZM90,this),this.topScroller.removeEventListener(eui.UIEvent.CHANGE_END,this.endScroller,this),this.curView=null,this.topCollection.removeAll(),egret.Tween.removeTweens(this)},t.prototype.closeSelf=function(){App.VM.GY64(this)},t.prototype.ZE69=function(t){var e=-1;if(null!=this.actData)for(var i=0;i<this.actData.length;i++)if(this.actData[i].view==t){e=i;break}return e},t.prototype.ZG19=function(t){var e=-1;if(null!=this.actData)for(var i=0;i<this.actData.length;i++)this.actData[i].view==t&&(e=i);return e},t}(BaseEuiView);__reflect(WonderActBaseView.prototype,"WonderActBaseView");var C10=function(){function t(){}return t.A3=0,t.A4=1,t.A1=2,t.A2=3,t}();__reflect(C10.prototype,"C10");var TA48=function(i){function t(){var t=i.call(this)||this,e=new TC19(t);return e.aLV(O7.E42),e.aLV(O7.I64),App.VM.register(O7.E42,"WorthLimitBuyView",t,K17.UI_Main_TOP),t.rgF(C10.A3,t.GM46,t),t.rgF(C10.A4,t.GM47,t),t.proxy=new TC20(t),t.rgF(C10.A1,t.GV55,t),t.rgF(C10.A2,t.GV54,t),t}return __extends(t,i),t.prototype.GV55=function(){this.proxy.GV55()},t.prototype.GV54=function(t){if(200==t.head.state){var e=t.body,i=this.gtM();i.ZC13(e),i.notify(),P5.sIs(t.body.ob)}else App.CM.apF(O6.B87,L10.A4,t)},t.prototype.GM46=function(){var t=App.CM.gtM(O6.A52);App.VM.open(O7.E42),t.firstLoginRedNum=0,t.openRemind=!1,t.notify()},t.prototype.GM47=function(){App.VM.close(O7.E42)},t}(TE11);__reflect(TA48.prototype,"TA48");var TC19=function(i){function t(t){var e=i.call(this,t)||this;return e.openState=!1,e.redNum=0,e.firstLoginRedNum=0,e.openRemind=!1,e}return __extends(t,i),t.prototype.ZC13=function(t){t&&(null!=this.actData?this.actData.updateData(t):(this.actData=new WorthLimitBuyData(t),this.tips=this.actData.tips),this.updateRed())},t.prototype.updateRed=function(){this.redNum=this.FL35()},t.prototype.FL35=function(){return 0<this.firstLoginRedNum?1:this.actData.rechargeId&&0==this.actData.isTake?1:0},t.prototype.notify=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];i.prototype.notifyView.apply(this,[this].concat(t))},t}(TG79);__reflect(TC19.prototype,"TC19");var TC20=function(i){function t(t){var e=i.call(this,t)||this;return e.rSM(P4.B92,e.GV54,e),e}return __extends(t,i),t.prototype.GV55=function(){var t={type:P4.B91,body:{}};this.sSM(t)},t.prototype.GV54=function(t){this.apF(C10.A2,t)},t}(TG80);__reflect(TC20.prototype,"TC20");var TC72=function(){function t(){}return t.FB51=function(t){var e=0,i=App.CM.gtM(O6.A44).firstRechargeData.firstRechargeAwdConf;for(var s in i)if(i[s].money==t&&i[s].getState==J13.A3){e+=1;break}return e},t.FHH86=function(){for(var t=0,e=App.CM.gtM(O6.A44).firstRechargeData.firstRechargeAwdConf,i=0;i<e.length;i++)if(e[i].getState==J13.A1){t=i;break}for(i=0;i<e.length;i++){var s=e[i].money;if(0<TC56.FB51(s)){t=i;break}}return t},t.FF77=function(t){var e=0,i=M18.FL28(t,";",":");for(var s in i){var o=K18.FJ32(i[s][0]).power;e+=parseInt(i[s][1])*o}return e},t.FK40=function(){var t=App.CM.gtM(O6.A44);if(t.openState&&t.firstRechargeData.hasBuyList.length<t.firstRechargeData.firstRechargeAwdConf.length){var e=App.CM.gtM(O6.B82).avatarInfo.l,i=t.firstRechargeData.cost.split(",");e>=parseInt(i[0])&&parseInt(i[1]);var s=parseInt(i[0]);if(parseInt(i[1])<e)return t.openRemind=!1,void t.notify();s<=e&&(e-s)%10==0&&(t.openRemind=!0,t.notify())}},t}();__reflect(TC72.prototype,"TC72");var WorthLimitBuyBtn=function(e){function t(){var t=e.call(this)||this;return t.skinName=WorthLimitBuyBtnSkin,t.addEventListener(egret.Event.ADDED_TO_STAGE,t.open,t),t.addEventListener(egret.Event.REMOVED_FROM_STAGE,t.close,t),t}return __extends(t,e),t.prototype.open=function(){this.lbTip.text=O3.tr(6418)},t.prototype.close=function(){},t.prototype.childrenCreated=function(){e.prototype.createChildren.call(this)},t.prototype.dataChanged=function(){this.data.state?(this.currentState="down",this.labName.textColor=15035394):(this.currentState="up",this.labName.textColor=8667431),this.labName.text=this.data.fonts,this.gpTip.visible=this.data.isRecommend,this.imgRed.visible=this.data.isRed},t}(eui.ItemRenderer);__reflect(WorthLimitBuyBtn.prototype,"WorthLimitBuyBtn");var WorthLimitBuyView=function(s){function t(t,e){var i=s.call(this,t,e)||this;return i.skinName=WorthLimitBuySkin,i}return __extends(t,s),t.prototype.initUI=function(){s.prototype.initUI.call(this);var t={render:WorthLimitBuyBtn,gap:-1,width:this.gpBtn.width,height:this.gpBtn.height};this.myListView=new CommonListBase(t),this.gpBtn.addChild(this.myListView),this.itemCollection=new eui.ArrayCollection,this.dgItem.dataProvider=this.itemCollection,this.dgItem.itemRenderer=ItemIcon,this.scItem.viewport=this.dgItem,this.scItem.scrollPolicyV=eui.ScrollPolicy.OFF},t.prototype.open=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];s.prototype.open.call(this),this.sGN("release_act1080"),this.btnBuy.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickGoBtn,this),this.closeBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.closeSelf,this),this.bgMask.addEventListener(egret.TouchEvent.TOUCH_TAP,this.closeSelf,this),this.myListView.ZM71(this.listListener.bind(this)),this.myListView.open();var i=App.CM.gtM(O6.A52);this.selectIndex=null!=t[0]?t[0]:0,this.ZN21(i,!0)},t.prototype.uBM=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];s.prototype.uBM.call(this,t,e),t instanceof TC19&&this.ZN21(t)},t.prototype.ZN21=function(t,e){void 0===e&&(e=!1);for(var i=t.actData,s=i.getBtnList(this.selectIndex),o=0;o<s.length;o++)e||this.myListView.ZJ79(s[o],o);if(e){this.myListView.rfL(s);var r=123*s.length;this.gpBtn.height=r,this.myListView.height=r,this.imgTail.y=this.gpBtn.top+r}this.myListView.ZQ17(this.selectIndex);var n=i.confData[this.selectIndex];this.lbCostOld.textFlow=M18.FG71(O3.tr(4708,n.oldCost)),this.lbCostCur.textFlow=M18.FG71(O3.tr(4709,n.curCost));var a=[];for(var h in n.award){var p={data:N12.gID(n.award[h].k),ct:n.award[h].v};a.push({itemData:p,isBottom:!1,scale:.9})}i.rechargeId?i.rechargeId==n.index?(0==i.isTake&&(this.btnBuy.label=O3.tr(1563),this.btnBuy.enabled=!0,P16.sGF(this.btnBuy,!1),P7.FD53(this.btnBuy,1),this.imgGot.visible=!1,this.btnBuy.visible=!0),1==i.isTake&&(this.btnBuy.visible=!1,this.imgGot.visible=!0)):(this.btnBuy.label=O3.tr(4690),this.btnBuy.enabled=!1,P16.sGF(this.btnBuy,!0),P7.FD53(this.btnBuy,0),this.imgGot.visible=!1,this.btnBuy.visible=!0):(this.btnBuy.label=O3.tr(3294),this.btnBuy.enabled=!0,P16.sGF(this.btnBuy,!1),P7.FD53(this.btnBuy,0),this.imgGot.visible=!1,this.btnBuy.visible=!0),this.itemCollection.replaceAll(a),this.leftCD=t.actData.ZHH64();var l=P6.FJ11(1e3*this.leftCD,5);this.lbTime.textFlow=M18.HTP.parser(O3.tr(3253,l)),this._timerHandler=App.K16.doTimer(1e3,this.leftCD,this.GY14,this),this.lbTip.text=O3.tr(4691)},t.prototype.GY14=function(){this.leftCD--;var t=P6.FJ11(1e3*this.leftCD,5);this.lbTime.textFlow=M18.HTP.parser(O3.tr(3253,t)),this.leftCD<=0&&(this.cTH(),this.lbTime.text="")},t.prototype.cTH=function(){null!=this._timerHandler&&(App.K16.rBH(this._timerHandler),this._timerHandler=null)},t.prototype.listListener=function(t){this.selectIndex=t.itemIndex;var e=App.CM.gtM(O6.A52);this.ZN21(e)},t.prototype.onClickGoBtn=function(){var t=App.CM.gtM(O6.A52).actData;if(t.rechargeId&&0==t.isTake)App.CM.apF(O6.A52,C10.A1);else{var e=t.confData[this.selectIndex];App.CM.apF(O6.C29,P8.A1,e.rechargeId)}},t.prototype.close=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];s.prototype.close.call(this),this.btnBuy.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickGoBtn,this),this.closeBtn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.closeSelf,this),this.bgMask.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.closeSelf,this),this.itemCollection.removeAll(),this.myListView.close(),this.picList=null,this.objModel&&(this.gpModel.removeChildren(),this.objModel.destory(),this.objModel=null)},t.prototype.closeSelf=function(){App.VM.GY64(this)},t}(BaseEuiView);__reflect(WorthLimitBuyView.prototype,"WorthLimitBuyView");var WorthLimitBuyData=function(i){function t(t){var e=i.call(this,t)||this;return e.updateData(t),e.setConfData(),e}return __extends(t,i),t.prototype.updateData=function(t){this.rechargeId=null!=t.rchId?t.rchId:this.rechargeId,this.isTake=null!=t.isTake?t.isTake:this.isTake,this.ZU63(t)},t.prototype.setConfData=function(){this.confData=[];var t=M18.FL28(this.reward,"|",";",":"),e=M18.FL28(this.cost,"|",",");for(var i in t){var s=[];for(var o in t[i]){var r={k:t[i][o][0],v:t[i][o][1]};s.push(r)}var n=parseInt(i)+1,a=e[i][0],h=e[i][1],p=e[i][2],l=e[i][3],c=new WorthLimitBuyVo({index:n,oldCost:h,curCost:p,award:s,id:a,title:l});this.confData.push(c)}},t.prototype.getBtnList=function(t){var e=[];for(var i in this.confData){var s=this.confData[i],o=!1;this.rechargeId&&this.rechargeId==s.index&&0==this.isTake&&(o=!0);var r={fonts:s.title,id:s.rechargeId,state:t==parseInt(i),isRecommend:0==parseInt(i),isRed:o};e.push(r)}return e},t}(ActivityVo);__reflect(WorthLimitBuyData.prototype,"WorthLimitBuyData");var WorthLimitBuyVo=function(){function t(t){this.initData(t)}return t.prototype.initData=function(t){this.index=t.index,this.rechargeId=t.id,this.oldCost=t.oldCost,this.curCost=t.curCost,this.award=t.award,this.title=t.title},t}();__reflect(WorthLimitBuyVo.prototype,"WorthLimitBuyVo");var TD83=function(){function n(){}return n.FK35=function(t){n.init=t.aim_init,n.therion=t.aim_therion,n.mission=t.aim_mission},n.gIV=function(t){return n.init[t].value},n.FE61=function(t){return n.mission[t]},n.FF80=function(t){return n.therion[t]},n.FHH89=function(t){var e=[],i=App.CM.gtM(O6.B27);for(var s in n.mission){var o=P7.copyTab(n.mission[s]);if(o.typeid==t){o.itstate=0;var r=i.missionList[o.id];r&&(o.itstate=0==r.finish?1:2,1==r.finish&&(o.itstate=0==r.state?2:3)),e.push(o)}}return e=e.sort(function(t,e){var i={2:1,1:2,3:3,0:4};return i[t.itstate]<i[e.itstate]?-1:i[t.itstate]>i[e.itstate]?1:t.id<e.id?-1:1})},n.FD70=function(t,e){for(var i=0,s=(App.CM.gtM(O6.B27),n.FHH89(t)),o=0;o<s.length;o++){var r=s[o];3==r.itstate&&r.attr.split(":")[0]==e&&(i+=Number(r.attr.split(":")[1]))}return Math.floor(1e3*i)},n.FE59=function(t){var e;return this.init?e=parseInt(this.init[t].value):e},n}();__reflect(TD83.prototype,"TD83");var G19=function(){function t(){}return t.A7=1001,t.A8=0,t.A9=1,t.A10=2,t.A1=3,t.A2=4,t.A5=5,t.A6=6,t.A3=7,t.A4=8,t}();__reflect(G19.prototype,"G19");var TB72=function(i){function t(){var t=i.call(this)||this,e=new TE53(t);return e.aLV(O7.G55),e.aLV(O7.F22),e.aLV(O7.HH30),t.proxy=new TE54(t),t.rgF(G19.A8,t.GX10,t),t.rgF(G19.A9,t.GX11,t),t.rgF(G19.A10,t.GV63,t),t.rgF(G19.A1,t.GO39,t),t.rgF(G19.A2,t.GO40,t),t.rgF(G19.A5,t.GO41,t),t.rgF(G19.A6,t.GO42,t),t.rgF(G19.A3,t.GM30,t),t.rgF(G19.A4,t.GM31,t),t.rgF(G19.A7,t.GV64,t),t}return __extends(t,i),t.prototype.GX10=function(){this.proxy.GX10()},t.prototype.GX11=function(t){if(200==t.head.state){var e=this.gtM();e.loadData(t.body),e.notify(P4.Y8)}else App.CM.apF(O6.B87,L10.A4,t)},t.prototype.GV63=function(t){if(200==t.head.state){var e=this.gtM();e.ZQ85(t.body),e.notify(P4.Y27)}else App.CM.apF(O6.B87,L10.A4,t)},t.prototype.GO39=function(t){this.proxy.GO39(t)},t.prototype.GO40=function(t){if(200==t.head.state){var e=this.gtM();t.body.m&&e.ZHH90(t.body.m),t.body.ob&&P5.sIs(t.body.ob),e.notify(P4.F46)}else App.CM.apF(O6.B87,L10.A4,t)},t.prototype.GO41=function(t){this.proxy.GO41(t)},t.prototype.GO42=function(t){if(200==t.head.state){var e=this.gtM();t.body.pa&&(e.passGet=t.body.pa),t.body.ob&&P5.sIs(t.body.ob),e.notify(P4.K60)}else App.CM.apF(O6.B87,L10.A4,t)},t.prototype.GM30=function(){this.proxy.GM30()},t.prototype.GM31=function(t){if(200==t.head.state){var e=this.gtM();t.body.fa&&(e.isGetFinal=t.body.fa),t.body.ob&&P5.sIs(t.body.ob),e.notify(P4.I84)}else App.CM.apF(O6.B87,L10.A4,t)},t.prototype.GV64=function(){var t=App.CM.gtM(O6.B82),e=App.CM.gtM(O6.B27),i=TD83.FE59("unlockLv"),s=TD83.FE59("unlockDate");if(!(t.avatarInfo.l<i||e.day<s)&&1!=App.CM.gtM(O6.B27).isGetFinal){var o=new Date,r=new Date(t.avatarInfo.ct),n=P6.FM1(o,r);t.isGrowRed&&!n&&(App.DelayOptManager.ZE59(this,function(){App.VM.open(O7.G55,O7.F22)}),t.isGrowRed=!1)}},t}(TE11);__reflect(TB72.prototype,"TB72");var TE53=function(i){function t(t){return i.call(this,t)||this}return __extends(t,i),t.prototype.loadData=function(t){if(this.isLoadData=!0,this.missionList||(this.missionList={}),t.ms)for(var e in t.ms){var i=t.ms[e];this.missionList[i.i]?this.missionList[i.i].ZC91(i):this.missionList[i.i]=new AimTacticData(i)}t.m&&this.missionList[t.i].ZC91(t.m),this.day=null!=t.d?t.d:this.day,this.passGet=null!=t.pa?t.pa:this.passGet,this.isGetFinal=null!=t.fa?t.fa:this.isGetFinal},t.prototype.ZQ85=function(t){if(this.isLoadData&&(this.day=null!=t.d?t.d:this.day,t.ms)){var e=[];for(var i in t.ms){var s=t.ms[i];if(this.missionList[s.i]){var o=this.missionList[s.i].finish;this.missionList[s.i].ZC91(s);var r=this.missionList[s.i].finish;o!=r&&1==r&&(0==this.missionList[s.i].isFight?e.push(s.i):(this.fightFinishId||(this.fightFinishId=[]),this.fightFinishId.push(s.i)))}else this.missionList[s.i]=new AimTacticData(s)}0<e.length&&TE55.FB17(e)}},t.prototype.ZHH90=function(t){this.missionList[t.i]&&this.missionList[t.i].ZC91(t)},t.prototype.ZU89=function(){var t=[];for(var e in TD83.therion){var i=P7.copyTab(TD83.therion[e]);this.day<i.unlockdate?i.unlock=0:i.unlock=1,this.ZQ86(i.id)?i.pass=1:i.pass=0,t.push(i)}return(t=t.sort(function(t,e){return t.unlock>e.unlock?-1:t.unlock<e.unlock?1:0==t.unlock?t.unlockdate<e.unlockdate?-1:1:t.pass<e.pass?-1:t.pass>e.pass?1:t.unlockdate<e.unlockdate?-1:1}))[0].id},t.prototype.ZU90=function(t){for(var e=!1,i=0,s=TD83.FHH89(t),o=0;o<s.length;o++)if(2<=s[o].itstate&&i++,2===s[o].itstate){e=!0;break}return e||(e=i==s.length&&-1==this.passGet.indexOf(t)),e},t.prototype.ZQ86=function(t){for(var e=0,i=TD83.FHH89(t),s=0;s<i.length;s++)2<=i[s].itstate&&e++;return e===i.length},t.prototype.getTotalRed=function(){var t=this.ZU90(1);if(t||(t=this.ZU90(2)),t||(t=this.ZU90(3)),t||(t=this.ZU90(4)),!t){var e=this.getPassTotal();t=0==this.isGetFinal&&e}return t},t.prototype.getPassTotal=function(){var t=!1;if(!this.missionList||Object.keys(this.missionList).length<=0)return t;for(var e in TD83.mission){var i=TD83.mission[e].id;if(!this.missionList[i]||0==this.missionList[i].finish)return t}return t=!0},t.prototype.notify=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];i.prototype.notifyView.apply(this,[this].concat(t))},t}(TG79);__reflect(TE53.prototype,"TE53");var TE54=function(i){function t(t){var e=i.call(this,t)||this;return e.rSM(P4.Y27,e.GV63,e),e}return __extends(t,i),t.prototype.GX10=function(){var s=this;return new Promise(function(e,t){var i={};i.type=P4.Y7,i.body={},s.rSMO(P4.Y8,function(t){s.apF(G19.A9,t),e("加载7日目标系统信息完成")},s),s.sSM(i)})},t.prototype.GV63=function(t){this.apF(G19.A10,t)},t.prototype.GO39=function(t){var e={};e.type=P4.F45,e.body={mid:t},this.rSMO(P4.F46,this.GO40,this),this.sSM(e)},t.prototype.GO40=function(t){this.apF(G19.A2,t)},t.prototype.GO41=function(t){var e={};e.type=P4.K59,e.body={tid:t},this.rSMO(P4.K60,this.GO42,this),this.sSM(e)},t.prototype.GO42=function(t){this.apF(G19.A6,t)},t.prototype.GM30=function(){var t={};t.type=P4.I83,t.body={},this.rSMO(P4.I84,this.GM31,this),this.sSM(t)},t.prototype.GM31=function(t){this.apF(G19.A4,t)},t}(TG80);__reflect(TE54.prototype,"TE54");var TE55=function(){function t(){}return t.FF81=function(t){for(var e=[],i=App.CM.gtM(O6.B27),s=TD83.FHH89(t),o=0;o<s.length;o++){var r={};r.id=s[o].id,r.itname=s[o].taskname;var n=s[o].attr,a=K18.FJ32(n.split(":")[0]).name;r.itattr=a+"+"+1e3*Number(n.split(":")[1])+"‰",r.ittask=s[o].taskdes,r.itstate=0;var h=i.missionList[r.id];h&&(r.itstate=0==h.finish?1:2,1==h.finish&&(r.itstate=0==h.state?2:3)),r.linked=s[o].linked,e.push(r)}return e},t.FB17=function(t){var e=App.TG37.getStage(),i=e.stageWidth/2,s=e.stageHeight-90,o=new eui.Group;o.touchEnabled=!1,K17.UI_Tips.addChild(o),o.x=i,o.y=s,o.list=[],P5.hightList.push(o);for(var r=0;r<t.length;r++){var n=TD83.FE61(t[r]),a={data:{icon:TD83.FF80(n.typeid).res,name:n.taskname,typeid:n.typeid},content:o,index:r};App.DelayOptManager.ZE59(this,this.FG81,a)}egret.Tween.get(o).wait(2500).to({alpha:0},500).call(function(){for(;0<o.list.length;){var t=o.list.shift();t&&(App.TF56.ZJ66(t),egret.Tween.removeTweens(t))}App.TF56.ZJ66(o),egret.Tween.removeTweens(o),o=null},this);var h=125*t.length;P5.hightList.forEach(function(t){if(t!=o){t.targetH?t.targetH-=h:t.targetH=t.y-h;var e=Math.floor((t.y-t.targetH)/250*1e3);egret.Tween.get(t).to({x:t.x,y:t.targetH},e)}});var p=App.CM.gtM(O6.B82);t.splice(0,t.length),p&&p.setting&&-1!=p.setting.indexOf(L17.A31)||App.SoundManager.playEffect("gain_mp3")},t.FG81=function(t){var e=new AimTacticTip,i=t.content,s=t.index;item&&i&&(e.setData(t.data),e.anchorOffsetX=e.width/2,e.anchorOffsetY=e.height,i.addChild(e),egret.Tween.get(e).to({x:e.x,y:e.y-100*s},150*s),i.list.push(e))},t.getAimCD=function(){var t=App.CM.gtM(O6.B27),e=App.CM.gtM(O6.B82),i=new Date(e.avatarInfo.lt);i.setHours(0),i.setMinutes(0),i.setSeconds(0),i.setMilliseconds(0);for(var s=e.avatarInfo.lt+(egret.getTimer()-e.avatarInfo.loginEtTime),o=new Date(s),r=Math.floor((o.getTime()-i.getTime())/1e3),n=1;n<=4;n++){var a=TD83.FF80(n);if(a.unlockdate>t.day)return 24*(a.unlockdate-t.day)*60*60-r}return 0},t}();__reflect(TE55.prototype,"TE55");var AimTacticData=function(){function t(t){this.ZC91(t),this.initData()}return t.prototype.ZC91=function(t){t&&(this.id=P7.getValue(t.i,this.id),this.progress=P7.getValue(t.p,this.progress),this.state=P7.getValue(t.w,this.state),this.finish=P7.getValue(t.f,this.finish))},t.prototype.initData=function(){if(this.id){var t=TD83.FE61(this.id);this.taskDes=t.taskdes,this.link=t.linked,this.needCount=t.needcount,this.mode=t.mode,this.typeId=t.typeid,this.isFight=t.isfight}},t}();__reflect(AimTacticData.prototype,"AimTacticData");var AimTacticIcon=function(e){function t(){var t=e.call(this)||this;return t.addEventListener(egret.Event.ADDED_TO_STAGE,t.open,t),t.addEventListener(egret.Event.REMOVED_FROM_STAGE,t.close,t),t}return __extends(t,e),t.prototype.open=function(){this.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClick,this)},t.prototype.close=function(){this.ZHH91(),this.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClick,this)},t.prototype.childrenCreated=function(){e.prototype.createChildren.call(this),this.initUI(),this.initData()},t.prototype.initUI=function(){},t.prototype.initData=function(){},t.prototype.onClick=function(){},t.prototype.setData=function(t,e){var i=TD83.FF80(t);switch(t){case 1:this.effGp.verticalCenter=-100,this.effGp.horizontalCenter=-105,this.imgIcon.source=e.day>=i.unlockdate?"v1_img_xw_czyd_png":"v1_img_xw_wjs_czyd_png",this.lbLock.left=30,this.lbLock.top=40,this.passImg.left=20,this.passImg.bottom=8;break;case 2:this.effGp.verticalCenter=-100,this.effGp.horizontalCenter=-112,this.imgIcon.source=e.day>=i.unlockdate?"v1_img_ql_czyd_png":"v1_img_ql_wjs_czyd_png",this.lbLock.left=20,this.lbLock.top=40,this.passImg.left=8,this.passImg.bottom=8;break;case 3:this.effGp.verticalCenter=-95,this.effGp.horizontalCenter=-110,this.imgIcon.source=e.day>=i.unlockdate?"v1_img_zq_czyd_png":"v1_img_zq_wjs_czyd_png",this.lbLock.left=20,this.lbLock.top=40,this.passImg.left=8,this.passImg.bottom=8;break;case 4:this.effGp.verticalCenter=-95,this.effGp.horizontalCenter=-90,this.imgIcon.source=e.day>=i.unlockdate?"v1_img_bh_czyd_png":"v1_img_bh_wjs_czyd_png",this.lbLock.left=45,this.lbLock.top=40,this.passImg.left=35,this.passImg.bottom=4}this.lbLock.visible=e.day<i.unlockdate,this.lbLock.visible&&(this.lbLock.text=O3.tr(5191,i.unlockdate-e.day)),this.passImg.visible=e.ZQ86(t);var s=e.ZU90(t);this.red.visible=s},t.prototype.ZK12=function(){this.ZHH91(),App.THH33.aUE(this.effGp,"hero_select",0,0,-1,null,null,null,.8,.8)},t.prototype.ZHH91=function(){App.THH33.rEf(this.effGp,"hero_select")},t}(eui.Component);__reflect(AimTacticIcon.prototype,"AimTacticIcon");var AimTacticTip=function(e){function t(){var t=e.call(this)||this;return t.skinName=HightItemShowSkin,t.addEventListener(egret.Event.ADDED_TO_STAGE,t.open,t),t.addEventListener(egret.Event.REMOVED_FROM_STAGE,t.close,t),t}return __extends(t,e),t.prototype.open=function(){this.actlabel.addEventListener(egret.TouchEvent.TOUCH_TAP,this.doJump,this)},t.prototype.close=function(){this.actlabel.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.doJump,this)},t.prototype.doJump=function(){App.VM.close(O7.F74);for(var t=K17.UI_Main.$children,e=0;e<t.length;e++){(i=t[e])instanceof BaseEuiView&&App.VM.GY64(i)}t=K17.UI_Main_TOP.$children;for(e=0;e<t.length;e++){var i;(i=t[e])instanceof BaseEuiView&&App.VM.GY64(i)}App.VM.open(O7.G55,O7.F22,this.typeid)},t.prototype.setData=function(t){this.lbName.text=t.name,this.lbName.textColor=_ccq.red,this.imgAim.source=t.icon,this.imgBg.source=null,this.imgQ.source=null,this.icon.source=null,this.lbGetText.text=O3.tr(4476),this.typeid=t.typeid,this.actlabel.visible=!0,this.actlabel.textFlow=M18.HTP.parser(O3.tr(5434))},t}(eui.Component);__reflect(AimTacticTip.prototype,"AimTacticTip");var GrowGuideAimView=function(o){function t(t,e){var i=o.call(this,t,e)||this;return i.skinName="GrowGuideAimSkin",i.sGN("release_guide_aim"),i}return __extends(t,o),t.prototype.initUI=function(){o.prototype.initUI.call(this),this.lbTitle.textFlow=M18.HTP.parse(O3.tr(4484))},t.prototype.initData=function(){o.prototype.initData.call(this),this.itemCollection=new eui.ArrayCollection,this.itemList.dataProvider=this.itemCollection,this.itemList.itemRenderer=ItemAimTactic},t.prototype.open=function(t){var e=this;o.prototype.open.call(this),this.apF(HH4.A1);var i=App.CM.gtM(O6.B82);i.isGrowRed=!1,i.notify(),this.GX5();var s=App.CM.gtM(O6.B27);t||(t=s.ZU89()),this.ZU95(t),this.tactic1.addEventListener(egret.TouchEvent.TOUCH_TAP,this.ZQ87,this),this.tactic2.addEventListener(egret.TouchEvent.TOUCH_TAP,this.ZQ87,this),this.tactic3.addEventListener(egret.TouchEvent.TOUCH_TAP,this.ZQ87,this),this.tactic4.addEventListener(egret.TouchEvent.TOUCH_TAP,this.ZQ87,this),this.scroll.addEventListener(eui.UIEvent.CHANGE_END,this.endScroller,this),this.upArrow.addEventListener(egret.TouchEvent.TOUCH_TAP,this.doUpArrow,this),this.downArrow.addEventListener(egret.TouchEvent.TOUCH_TAP,this.doDownArrow,this),this.gpLock.addEventListener(egret.TouchEvent.TOUCH_TAP,this.showFinal,this),this.gpHero.addEventListener(egret.TouchEvent.TOUCH_TAP,this.showFinal,this),this.tipImg.addEventListener(egret.TouchEvent.TOUCH_TAP,this.showFinal,this),this.awardIcon.addEventListener(egret.TouchEvent.TOUCH_TAP,this.ZU94,this),egret.Tween.get(this).wait(100).call(function(){TG68.FD9(e,N4.aim_btn,!1),e.ZD61(App.CM.gtM(O6.C20))},this)},t.prototype.GX5=function(){var t=App.CM.gtM(O6.B27);this.tactic1.setData(1,t),this.tactic2.setData(2,t),this.tactic3.setData(3,t),this.tactic4.setData(4,t),this.imgCanGet.visible=t.getPassTotal(),this.finalTip.text=TD83.gIV("finalTips"),this.imgCanGet.visible?(this.talkGp.visible=!1,this.ZU92()):this._timerHandler||(this.showTalk(),this._timerHandler=App.K16.doTimer(6e3,0,this.showTalk,this)),1==t.isGetFinal?(this.gpChain1.visible=this.gpChain2.visible=this.gpChain3.visible=this.gpChain4.visible=!1,this.gpLock.visible=!1,this.tipImg.visible=!0,this.tipImg.source="v1_fonts_ylq_czyd_png"):this.ZU91();var e=TD83.gIV("finalReward").split(":")[0],i=N12.gID(e),s=parseInt(i.skinid.split(":")[0]);this.ZU93(s)},t.prototype.ZU91=function(){this.gpChain4.removeChildren(),this.gpChain3.removeChildren(),this.gpChain2.removeChildren(),this.gpChain1.removeChildren(),this.gpLock.removeChildren();var t=App.CM.gtM(O6.B27);t.getPassTotal()?(this.gpChain1.visible=this.gpChain2.visible=this.gpChain3.visible=this.gpChain4.visible=!1,this.gpLock.visible=!1,this.tipImg.visible=!0,this.tipImg.source="v1_fonts_djlq_czyd_png"):(this.gpLock.visible=!0,App.THH32.aUE(this.gpLock,"wdsg_sxz_tl_m2_001",0,0,-1,null,null,null,null,"ztl001"),t.ZQ86(1)?this.gpChain1.visible=!1:(this.gpChain1.visible=!0,App.THH32.aUE(this.gpChain1,"wdsg_sxz_tl_m2_001",0,0,-1,null,null,null,null,"tl01")),t.ZQ86(2)?this.gpChain2.visible=!1:(this.gpChain2.visible=!0,App.THH32.aUE(this.gpChain2,"wdsg_sxz_tl_m2_001",0,0,-1,null,null,null,null,"tl02")),t.ZQ86(3)?this.gpChain3.visible=!1:(this.gpChain3.visible=!0,App.THH32.aUE(this.gpChain3,"wdsg_sxz_tl_m2_001",0,0,-1,null,null,null,null,"tl03")),t.ZQ86(4)?this.gpChain4.visible=!1:(this.gpChain4.visible=!0,App.THH32.aUE(this.gpChain4,"wdsg_sxz_tl_m2_001",0,0,-1,null,null,null,null,"tl04")),this.tipImg.visible=!1)},t.prototype.showTalk=function(){var t=this;this.talkGp.visible=!0,egret.Tween.get(this.talkGp).wait(3e3).call(function(){t.talkGp.visible=!1})},t.prototype.ZU92=function(){this._timerHandler&&(App.K16.rBH(this._timerHandler),this._timerHandler=null)},t.prototype.ZU93=function(t){this.heroObj&&(this.gpHero.removeChildren(),this.heroObj.destory(),this.heroObj=null);var e={id:t,x:0,y:0,dir:Dir.br,objType:P13.A6,bt:BehaviourType.Attack_d,sr:1};this.heroObj=new FightGameObject,this.heroObj.setData(e,this.gpHero),this.heroObj.action=Action.Stand},t.prototype.showFinal=function(){var t=App.CM.gtM(O6.B27);if(t.getPassTotal()&&0==t.isGetFinal)App.CM.apF(O6.B27,G19.A3);else{var e=TD83.gIV("finalReward").split(":")[0],i=N12.gID(e);P5.FC75(i)}},t.prototype.ZU94=function(t){for(var e=App.CM.gtM(O6.B27),i=TE55.FF81(this.selectTid),s=0,o=0;o<i.length;o++)2<=i[o].itstate&&s++;if(s===i.length&&-1===e.passGet.indexOf(this.selectTid))App.CM.apF(O6.B27,G19.A5,this.selectTid);else{var r=TD83.FF80(this.selectTid).clearreward.split(":")[0],n=N12.gID(r);P5.FC75(n)}},t.prototype.ZU95=function(t){var e=App.CM.gtM(O6.B27),i=TD83.FF80(t);switch(this.tactic1.ZHH91(),this.tactic2.ZHH91(),this.tactic3.ZHH91(),this.tactic4.ZHH91(),t){case 1:this.tactic1.ZK12();break;case 2:this.tactic2.ZK12();break;case 3:this.tactic3.ZK12();break;case 4:this.tactic4.ZK12()}for(var s=TE55.FF81(t),o=0,r=0;r<s.length;r++)2<=s[r].itstate&&o++;this.pBarPro.minimum=0,this.pBarPro.maximum=s.length,this.pBarPro.value=o;var n=i.clearreward,a=N12.gID(n.split(":")[0]);this.tItemIcon&&(this.awardIcon.removeChildren(),this.tItemIcon=null),this.tItemIcon=new ItemIcon,this.tItemIcon.ZG6(!1),this.awardIcon.addChild(this.tItemIcon),this.tItemIcon.data={itemData:{data:a,ct:n.split(":")[1]},isBottom:!1};var h=o===s.length&&-1===e.passGet.indexOf(t);this.tItemIcon.ZQ19(h);var p=i.attrtype.split(";");this.lbAttr1.textFlow=M18.HTP.parse(O3.tr(4472,K18.FD72(p[0]),TD83.FD70(t,p[0]))),this.lbAttr2.textFlow=M18.HTP.parse(O3.tr(4472,K18.FD72(p[1]),TD83.FD70(t,p[1]))),this.lbAttr3.textFlow=M18.HTP.parse(O3.tr(4472,K18.FD72(p[2]),TD83.FD70(t,p[2]))),this.lbAttr4.textFlow=M18.HTP.parse(O3.tr(4472,K18.FD72(p[3]),TD83.FD70(t,p[3]))),this.itemCollection.replaceAll(s),this.selectTid?this.selectTid!=t&&(this.selectTid=t,this.itemCollection.refresh()):this.selectTid=t,this.endScroller()},t.prototype.ZQ87=function(t){switch(t.currentTarget){case this.tactic1:this.ZU95(1);break;case this.tactic2:this.ZU95(2);break;case this.tactic3:this.ZU95(3);break;case this.tactic4:this.ZU95(4)}},t.prototype.doUpArrow=function(){if(this.scroll.scrollPolicyV!=eui.ScrollPolicy.OFF){var t=this.scroll.viewport.scrollV-143;this.scroll.viewport.scrollV=t<0?0:t,this.endScroller()}},t.prototype.doDownArrow=function(){if(this.scroll.scrollPolicyV!=eui.ScrollPolicy.OFF){var t=this.scroll.viewport.scrollV+143;t+this.scroll.height>=this.scroll.viewport.contentHeight?this.scroll.viewport.scrollV=this.scroll.viewport.contentHeight-this.scroll.height:this.scroll.viewport.scrollV=t,this.endScroller()}},t.prototype.endScroller=function(){this.scroll.validateNow(),this.upArrow.visible=!(this.scroll.viewport.scrollV<=0),this.scroll.viewport.contentHeight<=this.scroll.height?this.downArrow.visible=!1:this.scroll.height+this.scroll.viewport.scrollV>=this.scroll.viewport.contentHeight?this.downArrow.visible=!1:this.downArrow.visible=!0},t.prototype.uBM=function(t,e){o.prototype.uBM.call(this,t,e),t instanceof TE53?this.ZK13(t):t instanceof TF84&&this.ZD61(t)},t.prototype.ZK13=function(t){this.GX5(),this.ZU95(this.selectTid)},t.prototype.ZD61=function(t){var e=t.ZM12();this.scroll.scrollPolicyV=eui.ScrollPolicy.AUTO,e&&e.nId==this.currStepId&&(t.ZJ29(this.currStepId)?TG68.FJ82(O7.G55,N4.growGuideAimClose):this.scroll.scrollPolicyV=eui.ScrollPolicy.OFF)},t.prototype.close=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];o.prototype.close.call(this),this.tactic1.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.ZQ87,this),this.tactic2.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.ZQ87,this),this.tactic3.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.ZQ87,this),this.tactic4.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.ZQ87,this),this.scroll.removeEventListener(eui.UIEvent.CHANGE_END,this.endScroller,this),this.upArrow.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.doUpArrow,this),this.downArrow.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.doDownArrow,this),this.gpLock.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.showFinal,this),this.gpHero.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.showFinal,this),this.tipImg.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.showFinal,this),this.awardIcon.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.ZU94,this),egret.Tween.removeTweens(this.talkGp)},t}(BaseEuiView);__reflect(GrowGuideAimView.prototype,"GrowGuideAimView");var ItemAimTactic=function(e){function t(){var t=e.call(this)||this;return t.addEventListener(egret.Event.ADDED_TO_STAGE,t.open,t),t.addEventListener(egret.Event.REMOVED_FROM_STAGE,t.close,t),t}return __extends(t,e),t.prototype.open=function(){this.itbtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickBtn,this)},t.prototype.close=function(){this.itbtn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickBtn,this)},t.prototype.dataChanged=function(){this.itdesc&&(this.itdesc.textFlow=M18.HTP.parse(O3.tr(4473,this.data.itname,this.data.itattr))),this.ittask&&(this.ittask.textFlow=M18.HTP.parse(O3.tr(4474,this.data.ittask))),this.itbtn&&(this.itbtn.visible=0<this.data.itstate&&this.data.itstate<3,this.itbtn.visible&&1==this.data.itstate&&(this.itbtn.label=O3.tr(4485),this.itbtn.bgStr="v1_btn_green_3_png",this.itbtn.imgNew.visible=!1),this.itbtn.visible&&2==this.data.itstate&&(this.itbtn.label=O3.tr(4486),this.itbtn.bgStr="v1_btn_yellow_3_png",this.itbtn.imgNew.visible=!0)),this.ithas&&(this.ithas.visible=3==this.data.itstate)},t.prototype.onClickBtn=function(){this.itbtn.visible&&1==this.data.itstate?this.onClickTask():this.itbtn.visible&&2==this.data.itstate&&App.CM.apF(O6.B27,G19.A1,this.data.id)},t.prototype.onClickTask=function(){this.data.linked&&TG84.FM16(this.data.linked)},t}(eui.ItemRenderer);__reflect(ItemAimTactic.prototype,"ItemAimTactic");var AiWanFuliView=function(s){function t(t,e){var i=s.call(this,t,e)||this;return i.skinName="AiWanFuliViewSkin",i}return __extends(t,s),t.prototype.initUI=function(){s.prototype.initUI.call(this)},t.prototype.initData=function(){s.prototype.initData.call(this)},t.prototype.open=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];s.prototype.open.call(this);this.btn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.goSearch,this),this.backBg.addEventListener(egret.TouchEvent.TOUCH_TAP,this.closeSelf,this)},t.prototype.closeSelf=function(){App.VM.close(O7.I57)},t.prototype.goSearch=function(){window.open("https://iwan.qq.com/community/h5index?hidetitlebar=1&ADTAG=txsp.xyx.yxdl","_blank")},t.prototype.close=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];s.prototype.close.call(this);var i=this;i.btn.removeEventListener(egret.TouchEvent.TOUCH_TAP,i.goSearch,i),i.backBg.removeEventListener(egret.TouchEvent.TOUCH_TAP,i.closeSelf,i),RES.destroyRes(i.bg.source),RES.destroyRes(i.btn.source),i.bg=null,i.btn=null,i.backBg=null},t}(BaseEuiView);__reflect(AiWanFuliView.prototype,"AiWanFuliView");var TG90=function(){function t(){}return t.FE62=function(t){var e=new eui.Image("awfl_mc_xg_001_png"),i=new eui.Image("awfl_mc_xg_001_png");t.addChild(e),t.addChild(i),e.verticalCenter=-25,e.horizontalCenter=-25,e.scaleX=e.scaleY=.18,e.rotation=0,e.filters=[new egret.ColorMatrixFilter([1,0,0,0,100,0,1,0,0,100,0,0,1,0,100,0,0,0,1,0])],egret.Tween.get(e).wait(2e3).to({scaleX:1.37,scaleY:1.37,rotation:24},330).to({scaleX:0,scaleY:0,rotation:37},670).wait(100).call(function(){e.filters=null,egret.Tween.removeTweens(e),App.TF56.ZJ66(e),RES.destroyRes("awfl_mc_xg_001_png")}),i.verticalCenter=5,i.horizontalCenter=20,i.scaleX=i.scaleY=.18,i.rotation=0,i.filters=[new egret.ColorMatrixFilter([1,0,0,0,100,0,1,0,0,100,0,0,1,0,100,0,0,0,1,0])],egret.Tween.get(i).wait(2e3).to({scaleX:1.37,scaleY:1.37,rotation:-24},330).to({scaleX:0,scaleY:0,rotation:-37},670).wait(100).call(function(){i.filters=null,egret.Tween.removeTweens(i),App.TF56.ZJ66(i),RES.destroyRes("awfl_mc_xg_001_png")})},t}();__reflect(TG90.prototype,"TG90");var L12=function(){function t(){}return t.A69=1001,t.A70=1002,t.A71=1003,t.A62=1004,t.A63=1005,t.A64=1006,t.A65=1007,t.A58=1008,t.A59=1009,t.A49=1010,t.A50=1011,t.A51=1012,t.A52=1013,t.A66=1014,t.A67=1015,t.A45=1016,t.A46=1017,t.A19=1018,t.A20=1019,t.A21=1020,t.A22=1021,t.A11=1022,t.A12=1023,t.A3=1024,t.A4=1025,t.A5=1026,t.A6=1027,t.A1=1028,t.A2=1029,t.A27=1030,t.A28=1031,t.A29=1032,t.A30=1033,t.A23=1034,t.A24=1035,t.A13=1036,t.A14=1037,t.A15=1038,t.A16=1039,t.A7=1040,t.A8=1041,t.A39=1042,t.A40=1043,t.A41=1044,t.A42=1045,t.A37=1046,t.A38=1047,t.A31=1048,t.A32=1049,t.A33=1050,t.A34=1051,t.A25=1052,t.A26=1053,t.A53=1054,t.A54=1055,t.A9=1056,t.A10=1057,t.A17=1058,t.A18=1059,t.A35=1060,t.A36=1061,t.A68=1062,t.A60=1063,t.A55=1064,t.A61=1065,t.A56=1066,t.A44=1067,t.A43=1068,t.A57=1069,t.A47=1070,t.A74=1071,t.A73=1072,t.A75=1073,t.A76=1074,t.A72=1075,t.A48=1076,t}();__reflect(L12.prototype,"L12");var TD33=function(i){function t(){var t=i.call(this)||this;App.VM.register(O7.C57,"AnimalSkillMinView",t,K17.UI_Main_TOP),App.VM.register(O7.B78,"AnimalUnlockView",t,K17.UI_Main_TOP),App.VM.register(O7.G43,"AnimalMainView",t,K17.UI_Main),App.VM.register(O7.E17,"AnimalEverAdd",t,K17.UI_Popup),App.VM.register(O7.HH53,"AnimalDan",t,K17.UI_Popup),App.VM.register(O7.G3,"AnimalDermaView",t,K17.UI_Main_TOP),t.rgF(L12.A60,t.GG92,t),t.rgF(L12.A55,t.GF33,t),App.VM.register(O7.G4,"AnimalSkill",t,K17.UI_Main_TOP),t.rgF(L12.A61,t.GG93,t),t.rgF(L12.A56,t.GF34,t),App.VM.register(O7.D32,"AnimalSkillOne",t,K17.UI_Main_TOP),t.rgF(L12.A44,t.GD29,t),t.rgF(L12.A43,t.GC39,t),App.VM.register(O7.C25,"AnimalDermaSkillView",t,K17.UI_Popup),t.rgF(L12.A57,t.GF35,t);var e=new TG8(t);return e.aLV(O7.G55),e.aLV(O7.B35),e.aLV(O7.B92),e.aLV(O7.G43),e.aLV(O7.I67),e.aLV(O7.F4),e.aLV(O7.F5),e.aLV(O7.G85),e.aLV(O7.F86),e.aLV(O7.G58),e.aLV(O7.HH53),e.aLV(O7.G3),e.aLV(O7.G4),e.aLV(O7.D32),e.aLV(O7.I64),e.aLV(O7.I39),e.aLV(O7.I17),e.aLV(O7.I70),e.aLV(O7.I39),t.proxy=new TG9(t),t.rgF(L12.A68,t.GQ35,t),t.rgF(L12.A69,t.loadReq,t),t.rgF(L12.A70,t.loadRes,t),t.rgF(L12.A71,t.GX12,t),t.rgF(L12.A62,t.GM50,t),t.rgF(L12.A63,t.GM51,t),t.rgF(L12.A19,t.GK75,t),t.rgF(L12.A20,t.GK76,t),t.rgF(L12.A27,t.GM52,t),t.rgF(L12.A28,t.GM53,t),t.rgF(L12.A39,t.GO43,t),t.rgF(L12.A40,t.GO44,t),t.rgF(L12.A58,t.GK71,t),t.rgF(L12.A59,t.GK72,t),t.rgF(L12.A11,t.GI74,t),t.rgF(L12.A12,t.GI75,t),t.rgF(L12.A23,t.GK73,t),t.rgF(L12.A24,t.GK74,t),t.rgF(L12.A37,t.GM48,t),t.rgF(L12.A38,t.GM49,t),t.rgF(L12.A49,t.GG94,t),t.rgF(L12.A50,t.GG95,t),t.rgF(L12.A3,t.GF36,t),t.rgF(L12.A4,t.GF37,t),t.rgF(L12.A13,t.GG96,t),t.rgF(L12.A14,t.GG97,t),t.rgF(L12.A31,t.GI76,t),t.rgF(L12.A32,t.GI77,t),t.rgF(L12.A51,t.GG98,t),t.rgF(L12.A52,t.GG99,t),t.rgF(L12.A5,t.GF38,t),t.rgF(L12.A6,t.GF39,t),t.rgF(L12.A15,t.GHH1,t),t.rgF(L12.A16,t.GHH2,t),t.rgF(L12.A33,t.GI78,t),t.rgF(L12.A34,t.GI79,t),t.rgF(L12.A53,t.GI80,t),t.rgF(L12.A54,t.GI81,t),t.rgF(L12.A9,t.GHH3,t),t.rgF(L12.A10,t.GHH4,t),t.rgF(L12.A17,t.GI82,t),t.rgF(L12.A18,t.GI83,t),t.rgF(L12.A35,t.GK77,t),t.rgF(L12.A36,t.GK78,t),t.rgF(L12.A66,t.GX13,t),t.rgF(L12.A67,t.GX14,t),t.rgF(L12.A45,t.GHH5,t),t.rgF(L12.A46,t.GHH6,t),t.rgF(L12.A1,t.GF40,t),t.rgF(L12.A2,t.GF41,t),t.rgF(L12.A7,t.GHH7,t),t.rgF(L12.A8,t.GHH8,t),t.rgF(L12.A25,t.GI84,t),t.rgF(L12.A26,t.GI85,t),t.rgF(L12.A64,t.GM54,t),t.rgF(L12.A65,t.GM55,t),t.rgF(L12.A21,t.GK79,t),t.rgF(L12.A22,t.GK80,t),t.rgF(L12.A29,t.GM56,t),t.rgF(L12.A30,t.GM57,t),t.rgF(L12.A41,t.GO46,t),t.rgF(L12.A42,t.GO47,t),t.rgF(L12.A72,t.GU13,t),t.rgF(L12.A48,t.proxy.aSkillUpReq,t.proxy),t}return __extends(t,i),t.prototype.GU13=function(t){var e=App.VM.gOV(O7.G3);e&&e.select(t)},t.prototype.GG92=function(t){App.VM.open(O7.G3,t)},t.prototype.GF33=function(){App.VM.close(O7.G3)},t.prototype.GG93=function(t,e){App.VM.open(O7.G4,t,e)},t.prototype.GF34=function(){App.VM.close(O7.G4)},t.prototype.GD29=function(t,e){App.VM.open(O7.D32,t,e)},t.prototype.GC39=function(){App.VM.close(O7.D32)},t.prototype.GF35=function(t){var e=App.CM.gtM(O6.B91),i=e.ao.s?e.ao.s:K19.init.initialSkin.value;switch(t){case 1:var s={objData:{id:i,x:0,y:0,dir:Dir.br,objType:P13.A6}};App.VM.open(O7.G69,s);break;case 2:var o={objData:{id:i,aps:K19.psychic[e.apo.lv+""].skinid,x:0,y:0,dir:Dir.br,objType:P13.A6}};App.VM.open(O7.G69,o);break;case 3:var r={objData:{id:i,x:0,y:0,dir:Dir.br,objType:P13.A6}};App.VM.open(O7.G69,r);break;case 4:var n={objData:{id:i,ass:K19.soul[e.aso.lv+""].skinid,x:0,y:0,dir:Dir.br,objType:P13.A6}};App.VM.open(O7.G69,n)}},t.prototype.GX12=function(t){if(200==t.head.state){var e=this.gtM();t.body&&e.initData(t.body),e.isShowImgNew(),e.ZK14(),e.ZG29(),e.ZU97(),e.notify(P4.Y11)}else{var i=K18.getTips(t.head.state);P18.sDP(i)}},t.prototype.loadReq=function(){return this.proxy.loadReq()},t.prototype.loadRes=function(t){if(200==t.head.state){var e=this.gtM();t.body&&e.initData(t.body),e.isShowImgNew(),e.ZK14(),e.ZG29(),e.ZU97(),e.notify(P4.W36)}else{var i=K18.getTips(t.head.state);P18.sDP(i)}},t.prototype.GK71=function(){this.proxy.GK71()},t.prototype.GK72=function(t){if(200==t.head.state){var e=this.gtM();App.CM.gtM(O6.B98).ZL13(t.body.es),e.isShowImgNew(),e.notify(P4.R66)}else{var i=K18.getTips(t.head.state);P18.sDP(i)}},t.prototype.GI74=function(){this.proxy.GI74()},t.prototype.GI75=function(t){if(200==t.head.state){var e=this.gtM();App.CM.gtM(O6.B98).ZL13(t.body.es),e.ZK14(),e.notify(P4.D68)}else{var i=K18.getTips(t.head.state);P18.sDP(i)}},t.prototype.GK73=function(){this.proxy.GK73()},t.prototype.GK74=function(t){if(200==t.head.state){var e=this.gtM();App.CM.gtM(O6.B98).ZL13(t.body.es),e.ZG29(),e.notify(P4.E93)}else{var i=K18.getTips(t.head.state);P18.sDP(i)}},t.prototype.GM48=function(){this.proxy.GM48()},t.prototype.GM49=function(t){if(200==t.head.state){var e=this.gtM();App.CM.gtM(O6.B98).ZL13(t.body.es),e.ZU97(),e.notify(P4.I15)}else{var i=K18.getTips(t.head.state);P18.sDP(i)}},t.prototype.GM50=function(t){var e={way:t};this.proxy.GM50(e)},t.prototype.GM51=function(t){if(200==t.head.state){var e=this.gtM();e.ao.e=t.body.e,e.ao.lv=t.body.lv,e.ao.le=t.body.le,e.isShowImgNew(),e.notify(P4.T29)}else{238==t.head.state?App.VM.gOV(O7.I67).canExpend():App.CM.apF(O6.B87,L10.A4,t)}},t.prototype.GK75=function(t){var e={way:t};this.proxy.GK75(e)},t.prototype.GK76=function(t){if(200==t.head.state){var e=this.gtM();e.apo.e=t.body.e,e.apo.lv=t.body.lv,e.apo.le=t.body.le,e.apo.s=t.body.s,e.ZK14(),e.notify(P4.E89)}else{238==t.head.state?App.VM.gOV(O7.F4).canExpend():App.CM.apF(O6.B87,L10.A4,t)}},t.prototype.GM52=function(t){var e={way:t};this.proxy.GM52(e)},t.prototype.GM53=function(t){if(200==t.head.state){var e=this.gtM();e.aspo.e=t.body.e,e.aspo.lv=t.body.lv,e.aspo.le=t.body.le,e.aspo.s=t.body.s,e.ZG29(),e.notify(P4.G50)}else{238==t.head.state?App.VM.gOV(O7.F5).canExpend():App.CM.apF(O6.B87,L10.A4,t)}},t.prototype.GO43=function(t){var e={way:t};this.proxy.GO43(e)},t.prototype.GO44=function(t){if(200==t.head.state){var e=this.gtM();e.aso.e=t.body.e,e.aso.lv=t.body.lv,e.aso.le=t.body.le,e.aso.s=t.body.s,e.ZU97(),e.notify(P4.J94)}else{238==t.head.state?App.VM.gOV(O7.G85).canExpend():App.CM.apF(O6.B87,L10.A4,t)}},t.prototype.GG94=function(t){var e={num:t};this.proxy.GG94(e)},t.prototype.GG95=function(t){if(200==t.head.state){var e=this.gtM();e.ao.er=t.body.e,e.isShowImgNew(),e.notify(P4.P88)}else{var i=K18.getTips(t.head.state);P18.sDP(i)}},t.prototype.GF36=function(t){var e={num:t};this.proxy.GF36(e)},t.prototype.GF37=function(t){if(200==t.head.state){var e=this.gtM();e.apo.er=t.body.e,e.ZK14(),e.notify(P4.C77)}else{var i=K18.getTips(t.head.state);P18.sDP(i)}},t.prototype.GG96=function(t){var e={num:t};this.proxy.GG96(e)},t.prototype.GG97=function(t){if(200==t.head.state){var e=this.gtM();e.aspo.er=t.body.e,e.ZG29(),e.notify(P4.D70)}else{var i=K18.getTips(t.head.state);P18.sDP(i)}},t.prototype.GI76=function(t){var e={num:t};this.proxy.GI76(e)},t.prototype.GI77=function(t){if(200==t.head.state){var e=this.gtM();e.aso.er=t.body.e,e.ZU97(),e.notify(P4.G54)}else{var i=K18.getTips(t.head.state);P18.sDP(i)}},t.prototype.GG98=function(){this.proxy.GG98()},t.prototype.GG99=function(t){if(200==t.head.state){var e=this.gtM();e.ao.e=t.body.e,e.ao.lv=t.body.lv,e.ao.le=t.body.le,e.isShowImgNew(),e.notify(P4.P90)}else{var i=K18.getTips(t.head.state);P18.sDP(i)}},t.prototype.GF38=function(){this.proxy.GF38()},t.prototype.GF39=function(t){if(200==t.head.state){var e=this.gtM();e.apo.e=t.body.e,e.apo.lv=t.body.lv,e.apo.le=t.body.le,e.apo.s=t.body.s,e.ZK14(),e.notify(P4.C79)}else{var i=K18.getTips(t.head.state);P18.sDP(i)}},t.prototype.GHH1=function(){this.proxy.GHH1()},t.prototype.GHH2=function(t){if(200==t.head.state){var e=this.gtM();e.aspo.e=t.body.e,e.aspo.lv=t.body.lv,e.aspo.le=t.body.le,e.aspo.s=t.body.s,e.ZG29(),e.notify(P4.D72)}else{var i=K18.getTips(t.head.state);P18.sDP(i)}},t.prototype.GI78=function(){this.proxy.GI78()},t.prototype.GI79=function(t){if(200==t.head.state){var e=this.gtM();e.aso.e=t.body.e,e.aso.lv=t.body.lv,e.aso.le=t.body.le,e.aso.s=t.body.s,e.ZU97(),e.notify(P4.G56)}else{var i=K18.getTips(t.head.state);P18.sDP(i)}},t.prototype.GI80=function(t){var e={lv:t};this.proxy.GI80(e)},t.prototype.GI81=function(t){if(200==t.head.state){P5.sIs(t.body.ob);var e=this.gtM();e.ao.ag=t.body.al,e.isShowImgNew(),e.notify(P4.P92)}else{var i=K18.getTips(t.head.state);P18.sDP(i)}},t.prototype.GHH3=function(t){var e={lv:t};this.proxy.GHH3(e)},t.prototype.GHH4=function(t){if(200==t.head.state){P5.sIs(t.body.ob);var e=this.gtM();e.apo.ag=t.body.al,e.ZK14(),e.notify(P4.C83)}else{var i=K18.getTips(t.head.state);P18.sDP(i)}},t.prototype.GI82=function(t){var e={lv:t};this.proxy.GI82(e)},t.prototype.GI83=function(t){if(200==t.head.state){P5.sIs(t.body.ob);var e=this.gtM();e.aspo.ag=t.body.al,e.ZG29(),e.notify(P4.D74)}else{var i=K18.getTips(t.head.state);P18.sDP(i)}},t.prototype.GK77=function(t){var e={lv:t};this.proxy.GK77(e)},t.prototype.GK78=function(t){if(200==t.head.state){P5.sIs(t.body.ob);var e=this.gtM();e.aso.ag=t.body.al,e.ZU97(),e.notify(P4.G58)}else{var i=K18.getTips(t.head.state);P18.sDP(i)}},t.prototype.GX13=function(t){var e={skin:t};this.proxy.GX13(e)},t.prototype.GX14=function(t){if(200==t.head.state){var e=this.gtM();e.ao.acs.push(t.body.s),e.ao.s=t.body.s,e.ao.skinlv[t.body.s]=t.body.lv,e.isShowImgNew(),this.GF35(1),e.notify(P4.T33)}else{var i=K18.getTips(t.head.state);P18.sDP(i)}},t.prototype.GHH5=function(t){var e={skin:t};this.proxy.GHH5(e)},t.prototype.GHH6=function(t){if(200==t.head.state){var e=this.gtM();e.ao.s=t.body.s,e.isShowImgNew(),e.notify(P4.O6)}else{var i=K18.getTips(t.head.state);P18.sDP(i)}},t.prototype.GO45=function(t){if(200==t.head.state){var e=t.body,i=e.s,s=e.lv,o=this.gtM();o.ao.skinlv[i]=s,o.isShowImgNew(),o.notify(t.head.protoType)}else{var r=K18.getTips(t.head.state);P18.sDP(r)}},t.prototype.GF40=function(t){var e={lv:t};this.proxy.GF40(e)},t.prototype.GF41=function(t){if(200==t.head.state){var e=this.gtM();e.apo.s=t.body.s,e.ZK14(),e.notify(P4.B96)}else{var i=K18.getTips(t.head.state);P18.sDP(i)}},t.prototype.GHH7=function(t){var e={lv:t};this.proxy.GHH7(e)},t.prototype.GHH8=function(t){if(200==t.head.state){var e=this.gtM();e.aspo.s=t.body.s,e.ZG29(),e.notify(P4.C81)}else{var i=K18.getTips(t.head.state);P18.sDP(i)}},t.prototype.GI84=function(t){var e={lv:t};this.proxy.GI84(e)},t.prototype.GI85=function(t){if(200==t.head.state){var e=this.gtM();e.aso.s=t.body.s,e.ZU97(),e.notify(P4.E95)}else{var i=K18.getTips(t.head.state);P18.sDP(i)}},t.prototype.GM54=function(){this.proxy.GM54()},t.prototype.GM55=function(t){if(200==t.head.state){var e=this.gtM();e.ao.sl=t.body.sl,e.isShowImgNew(),e.notify(P4.T31)}else{var i=K18.getTips(t.head.state);P18.sDP(i)}},t.prototype.GK79=function(){this.proxy.GK79()},t.prototype.GK80=function(t){if(200==t.head.state){var e=this.gtM();e.apo.sl=t.body.sl,e.ZK14(),e.notify(P4.E91)}else{var i=K18.getTips(t.head.state);P18.sDP(i)}},t.prototype.GM56=function(){this.proxy.GM56()},t.prototype.GM57=function(t){if(200==t.head.state){var e=this.gtM();e.aspo.sl=t.body.sl,e.ZG29(),e.notify(P4.G52)}else{var i=K18.getTips(t.head.state);P18.sDP(i)}},t.prototype.GO46=function(){this.proxy.GO46()},t.prototype.GO47=function(t){if(200==t.head.state){var e=this.gtM();e.aso.sl=t.body.sl,e.ZU97(),e.notify(P4.J96)}else{var i=K18.getTips(t.head.state);P18.sDP(i)}},t.prototype.GQ35=function(t){App.VM.gOV(O7.G3).ZQ91(t)},t}(TE11);__reflect(TD33.prototype,"TD33");var TG8=function(i){function t(t){var e=i.call(this,t)||this;return e.red1=0,e.red2=0,e.red3=0,e.red4=0,e.isUseNow1=!1,e.isUseNow2=!1,e.isUseNow3=!1,e.isUseNow4=!1,e.isOpenUseYbView1=!0,e.isOpenUseYbView2=!0,e.isOpenUseYbView3=!0,e.isOpenUseYbView4=!0,e.base=K19.animal,e}return __extends(t,i),t.prototype.ZD48=function(t){if(t)switch(t.sys){case E5.A10:null!=this.pointData1?this.pointData1.initActData(t):this.pointData1=new RevealVo(t);break;case E5.A1:null!=this.pointData2?this.pointData2.initActData(t):this.pointData2=new RevealVo(t);break;case E5.A2:null!=this.pointData3?this.pointData3.initActData(t):this.pointData3=new RevealVo(t);break;case E5.A4:null!=this.pointData4?this.pointData4.initActData(t):this.pointData4=new RevealVo(t)}},t.prototype.updateRed=function(){switch(App.CM.gtM(O6.B95).riseConst){case E5.A10:this.isShowImgNew();break;case E5.A1:this.ZK14();break;case E5.A2:case E5.A4:this.ZG29();break;default:this.isShowImgNew(),this.ZK14(),this.ZG29(),this.ZG29()}},t.prototype.initData=function(t){t.ao&&(this.ao=t.ao),t.apo&&(this.apo=t.apo),t.aspo&&(this.aspo=t.aspo),t.aso&&(this.aso=t.aso)},t.prototype.ZHH92=function(){var t=0;this.ao&&(t=this.ZQ88());var e=0;this.apo&&(e=this.ZQ89());var i=0;this.aspo&&(i=this.ZQ90());var s=0;return this.aso&&(s=this.FI56()),t+e+i+s},t.prototype.ZQ88=function(){var t=0,e=App.CM.gtM(O6.B82).avatarInfo,i=e.v,s=K19.init.animalLv.value;if(e.l>=s||1==K18.vip[i].openanimal){var o=App.CM.gtM(O6.B98),r=0,n=0,a=0,h=N13.getData(K19.init.animalAttr.value);for(var p in h)for(var l in h[p]){r+=parseInt(h[p][l])*K18.attribute[l].power*this.ao.er}var c=o.animalEquip.sort(function(t,e){return t.i-e.i});for(p=0;p<c.length;p++){var u=M10.FD92(c[p].i,c[p].t);n+=M10.gAG(u.attr)+M10.gAG(u.addattr)*u.addlevel}var d=this.ao.lv,v=this.ao.e;this.count1=0,this.getCount1(d);for(p=0;p<this.count1;p++){var f=this.base[d-p+""].baseattr,g=this.base[d-p+""].addattr,m=d-p,y=N13.getData(f),A=N13.getData(g);if(0==p)for(var b in A)for(var l in A[b]){a+=parseInt(A[b][l])*v/K19.init.animalAdvExp.value*K18.attribute[l].power}else for(var b in A)for(var l in A[b])a+=parseInt(A[b][l])*this.base[m+""].exp/K19.init.animalAdvExp.value*K18.attribute[l].power;for(var b in y)for(var l in y[b])a+=parseInt(y[b][l])*K18.attribute[l].power}t=r+n+a}return t},t.prototype.ZQ89=function(){var t=0,e=App.CM.gtM(O6.B82).avatarInfo,i=e.v,s=K19.init.psychicLv.value;if(e.l>=s||1==K18.vip[i].openanimal){var o=App.CM.gtM(O6.B98),r=0,n=0,a=0,h=N13.getData(K19.init.psychicAttr.value);for(var p in h)for(var l in h[p]){r+=parseInt(h[p][l])*K18.attribute[l].power*this.apo.er}var c=o.psychicEquip.sort(function(t,e){return t.i-e.i});for(p=0;p<c.length;p++){var u=M10.FD92(c[p].i,c[p].t);n+=M10.gAG(u.attr)+M10.gAG(u.addattr)*u.addlevel}var d=this.apo.lv,v=this.apo.e;this.count2=0,this.getCount2(d);for(p=0;p<this.count2;p++){var f=this.base[d-p+""].baseattr,g=this.base[d-p+""].addattr,m=d-p,y=N13.getData(f),A=N13.getData(g);if(0==p)for(var b in A)for(var l in A[b]){a+=parseInt(A[b][l])*v/K19.init.psychicAdvExp.value*K18.attribute[l].power}else for(var b in A)for(var l in A[b])a+=parseInt(A[b][l])*this.base[m+""].exp/K19.init.psychicAdvExp.value*K18.attribute[l].power;for(var b in y)for(var l in y[b])a+=parseInt(y[b][l])*K18.attribute[l].power}t=r+n+a}return t},t.prototype.ZQ90=function(){var t=0,e=App.CM.gtM(O6.B82).avatarInfo,i=e.v,s=K19.init.spiritLv.value;if(e.l>=s||1==K18.vip[i].openanimal){var o=App.CM.gtM(O6.B98),r=0,n=0,a=0,h=N13.getData(K19.init.spiritAttr.value);for(var p in h)for(var l in h[p]){r+=parseInt(h[p][l])*K18.attribute[l].power*this.aspo.er}var c=o.spiritEquip.sort(function(t,e){return t.i-e.i});for(p=0;p<c.length;p++){var u=M10.FD92(c[p].i,c[p].t);n+=M10.gAG(u.attr)+M10.gAG(u.addattr)*u.addlevel}var d=this.aspo.lv,v=this.aspo.e;this.count3=0,this.getCount3(d);for(p=0;p<this.count3;p++){var f=this.base[d-p+""].baseattr,g=this.base[d-p+""].addattr,m=d-p,y=N13.getData(f),A=N13.getData(g);if(0==p)for(var b in A)for(var l in A[b]){a+=parseInt(A[b][l])*v/K19.init.spiritAdvExp.value*K18.attribute[l].power}else for(var b in A)for(var l in A[b])a+=parseInt(A[b][l])*this.base[m+""].exp/K19.init.spiritAdvExp.value*K18.attribute[l].power;for(var b in y)for(var l in y[b])a+=parseInt(y[b][l])*K18.attribute[l].power}t=r+n+a}return t},t.prototype.FI56=function(){var t=0,e=App.CM.gtM(O6.B82).avatarInfo,i=e.v,s=K19.init.soulLv.value;if(e.l>=s||1==K18.vip[i].openanimal){var o=App.CM.gtM(O6.B98),r=0,n=0,a=0,h=N13.getData(K19.init.soulAttr.value);for(var p in h)for(var l in h[p]){r+=parseInt(h[p][l])*K18.attribute[l].power*this.aso.er}var c=o.aSoulEquip.sort(function(t,e){return t.i-e.i});for(p=0;p<c.length;p++){var u=M10.FD92(c[p].i,c[p].t);n+=M10.gAG(u.attr)+M10.gAG(u.addattr)*u.addlevel}var d=this.aso.lv,v=this.aso.e;this.count4=0,this.getCount4(d);for(p=0;p<this.count4;p++){var f=this.base[d-p+""].baseattr,g=this.base[d-p+""].addattr,m=d-p,y=N13.getData(f),A=N13.getData(g);if(0==p)for(var b in A)for(var l in A[b]){a+=parseInt(A[b][l])*v/K19.init.soulAdvExp.value*K18.attribute[l].power}else for(var b in A)for(var l in A[b])a+=parseInt(A[b][l])*this.base[m+""].exp/K19.init.soulAdvExp.value*K18.attribute[l].power;for(var b in y)for(var l in y[b])a+=parseInt(y[b][l])*K18.attribute[l].power}t=r+n+a}return t},t.prototype.getCount1=function(t){this.base[t+""]&&(this.count1+=1,this.getCount1(t-1))},t.prototype.getCount2=function(t){this.base[t+""]&&(this.count2+=1,this.getCount2(t-1))},t.prototype.getCount3=function(t){this.base[t+""]&&(this.count3+=1,this.getCount3(t-1))},t.prototype.getCount4=function(t){this.base[t+""]&&(this.count4+=1,this.getCount4(t-1))},t.prototype.haveSkin=function(t,e){var i,s=!1;return 1==e?i=this.ao:2==e?i=this.apo:3==e?i=this.aspo:4==e&&(i=this.aso),i&&i.ss?s=-1!=i.ss.indexOf(t):s},t.prototype.haveSkin2=function(t,e){var i,s=!1;return 1==e?i=this.ao:2==e?i=this.apo:3==e?i=this.aspo:4==e&&(i=this.aso),i?s=-1!=i.acs.indexOf(t):s},t.prototype.ZC92=function(t){var e,i=K19.FG82(t);for(var s in 1==t?e=this.ao:2==t?e=this.apo:3==t?e=this.aspo:4==t&&(e=this.aso),i){var o=void 0;if(e&&parseInt(i[s].tid)<=e.lv){o=1;for(var r=0;r<e.ag.length;r++){var n=e.ag[r];if(parseInt(i[s].tid)==n){o=0;break}}}if(1==o)return o}return 0},t.prototype.isShowImgNew=function(){if(this.ao){this.red1=0;var t=App.CM.gtM(O6.B82),e=t.avatarInfo.l,i=(t.avatarInfo.v,K19.init.animalLv.value),s=this.ao.lv;if(i<=e){if((null==this.preAoLv||s>this.preAoLv)&&(TF13.FE57(E5.A10),this.preAoLv=s),this.redNum1=this.getRedNum1(),this.redNum1)return void(this.red1=1);if(-1!=K19.animal[this.ao.lv+""].exp){var o,r=K19.animal[this.ao.lv+""].cash<=t.avatarInfo.co;o=K19.animal[this.ao.lv+""].elixir;var n=N12.giC(parseInt(K19.init.animalAdvItem.value))+N12.giC(parseInt(K19.init.timeItem1.value))>=o;if(r&&n)return void(this.red1=1);if(N12.giC(parseInt(K19.init.animalUpItem.value)))return void(this.red1=1);if(N12.giC(K19.expDanData1[this.ao.lv+""]))return void(this.red1=1)}var a=N12.giC(parseInt(K19.init.animalAttrItem.value)),h=K18.init.attrUseMax.value;if(a&&this.ao.er<h)return void(this.red1=1);for(var p=K19.FHH90(!1),l=0;l<p.length;l++)if(0<N12.giC(p[l].itemid)&&-1==this.ao.acs.indexOf(p[l].id))return void(this.red1=1);if(App.CM.gtM(O6.B98).canAnimalEquip.length)return void(this.red1=1);var c=[this.ao];e>=K19.init.psychicLv.value&&c.push(this.apo),e>=K19.init.spiritLv.value&&c.push(this.aspo),e>=K19.init.soulLv.value&&c.push(this.aso);var u=void 0,d=K19.skillGroup;for(var v in d){u=parseInt(v);break}for(l=0;l<c.length;l++){if(c[l].sl){var f=d[u+""][c[l].sl-1];if(f&&f.cost){var g=f.cost.split(":"),m=N12.giC(parseInt(g[0]))+"",y=d[u+""].length;if(parseInt(g[1])<=parseInt(m)&&y>f.skilllv)return void(this.red1=1)}}u+=1}this.ZC92(1)&&(this.red1=1),this.canUpSkin()&&(this.red1=1)}}},t.prototype.ZK14=function(){if(this.apo){this.red2=0;var t=App.CM.gtM(O6.B82),e=t.avatarInfo.l,i=K19.init.psychicLv.value,s=this.apo.lv;if(!(e<i))if((null==this.preApoLv||s>this.preApoLv)&&(TF13.FE57(E5.A1),this.preApoLv=s),this.redNum2=this.getRedNum2(),this.redNum2)this.red2=1;else{if(-1!=K19.psychic[this.apo.lv+""].exp){var o,r=K19.psychic[this.apo.lv+""].cash<=t.avatarInfo.co;o=K19.psychic[this.apo.lv+""].elixir;var n=N12.giC(parseInt(K19.init.psychicAdvItem.value))+N12.giC(parseInt(K19.init.timeItem2.value))>=o;if(r&&n)return void(this.red2=1);if(N12.giC(parseInt(K19.init.psychicUpItem.value)))return void(this.red2=1);if(N12.giC(K19.expDanData2[this.apo.lv+""]))return void(this.red2=1)}var a=N12.giC(parseInt(K19.init.psychicAttrItem.value)),h=K18.init.attrUseMax.value;if(a&&this.apo.er<h)this.red2=1;else if(App.CM.gtM(O6.B98).canPsychicEquip.length)this.red2=1;else{var p,l=K19.skillGroup;for(var c in l){p=parseInt(c);break}if(p+=1,this.apo.sl){var u=l[p+""][this.apo.sl-1];if(u&&u.cost){var d=u.cost.split(":"),v=N12.giC(parseInt(d[0]))+"",f=l[p+""].length;if(parseInt(d[1])<=parseInt(v)&&f>u.skilllv)return void(this.red2=1)}}this.ZC92(2)&&(this.red2=1)}}}},t.prototype.ZG29=function(){if(this.aspo){this.red3=0;var t=App.CM.gtM(O6.B82),e=t.avatarInfo.l,i=K19.init.spiritLv.value,s=this.aspo.lv;if(!(e<i))if(this.redNum3=this.getRedNum3(),this.redNum3)this.redNum3=1;else{if((null==this.preAspoLv||s>this.preAspoLv)&&(TF13.FE57(E5.A2),this.preAspoLv=s),-1!=K19.spirit[this.aspo.lv+""].exp){var o,r=K19.spirit[this.aspo.lv+""].cash<=t.avatarInfo.co;o=K19.spirit[this.aspo.lv+""].elixir;var n=N12.giC(parseInt(K19.init.spiritAdvItem.value))+N12.giC(parseInt(K19.init.timeItem3.value))>=o;if(r&&n)return void(this.red3=1);if(N12.giC(parseInt(K19.init.spiritUpItem.value)))return void(this.red3=1);if(N12.giC(K19.expDanData3[this.aspo.lv+""]))return void(this.red3=1)}var a=N12.giC(parseInt(K19.init.spiritAttrItem.value)),h=K18.init.attrUseMax.value;if(a&&this.aspo.er<h)this.red3=1;else if(App.CM.gtM(O6.B98).canSpiritEquip.length)this.red3=1;else{var p,l=K19.skillGroup;for(var c in l){p=parseInt(c);break}if(p+=2,this.aspo.sl){var u=l[p+""][this.aspo.sl-1];if(u&&u.cost){var d=u.cost.split(":"),v=N12.giC(parseInt(d[0]))+"",f=l[p+""].length;if(parseInt(d[1])<=parseInt(v)&&f>u.skilllv)return void(this.red3=1)}}this.ZC92(3)&&(this.red3=1)}}}},t.prototype.ZU96=function(t){var e=K19.skin[t].itemid,i=1;if(0<=this.ao.acs.indexOf(t)){var s=this.ao.skinlv[t];if(!K19.skin_lv[t][s+1])return!1;i=K19.skin_lv[t][s+1].reqnum}return N12.giC(e)>=i},t.prototype.canUpSkin=function(){for(var t=0,e=K19.skinList;t<e.length;t++){var i=e[t];if(this.ZU96(i))return!0}return!1},t.prototype.ZU97=function(){if(this.aso){this.red4=0;var t=App.CM.gtM(O6.B82),e=t.avatarInfo.l,i=K19.init.soulLv.value,s=this.aso.lv;if(!(e<i))if((null==this.preAsoLv||s>this.preAsoLv)&&(TF13.FE57(E5.A4),this.preAsoLv=s),this.redNum4=this.getRedNum4(),this.redNum4)this.red4=1;else{if(-1!=K19.soul[this.aso.lv+""].exp){var o,r=K19.soul[this.aso.lv+""].cash<=t.avatarInfo.co;o=K19.soul[this.aso.lv+""].elixir;var n=N12.giC(parseInt(K19.init.soulAdvItem.value))+N12.giC(parseInt(K19.init.timeItem4.value))>=o;if(r&&n)return void(this.red4=1);if(N12.giC(parseInt(K19.init.soulUpItem.value)))return void(this.red4=1);if(N12.giC(K19.expDanData4[this.aso.lv+""]))return void(this.red4=1)}var a=N12.giC(parseInt(K19.init.soulAttrItem.value)),h=K18.init.attrUseMax.value;if(a&&this.aso.er<h)this.red4=1;else if(App.CM.gtM(O6.B98).canASoulEquip.length)this.red4=1;else{var p,l=K19.skillGroup;for(var c in l){p=parseInt(c);break}if(p+=3,this.aso.sl){var u=l[p+""][this.aso.sl-1];if(u&&u.cost){var d=u.cost.split(":"),v=N12.giC(parseInt(d[0]))+"",f=l[p+""].length;if(parseInt(d[1])<=parseInt(v)&&f>u.skilllv)return void(this.red4=1)}}this.ZC92(4)&&(this.red4=1)}}}},t.prototype.getRedNum1=function(){var t=0,e=this.ao.lv;if(L3.advancedLv>e||!this.pointData1)return t;var i=L3.FI89(this.pointData1.lv);if(i.advancelv<0&&this.pointData1.s==L3.starNum)return t;if(this.pointData1&&L3.openLv<=O4.getLv())if(this.pointData1.s!=L3.starNum){var s=N12.giC(parseInt(K19.init.animalAdvItem.value))+N12.giC(parseInt(K19.init.timeItem1.value)),o=i.starcost.split(":"),r=N12.giC(parseInt(o[0]));t=s>=i.pillcost&&r>=parseInt(o[1])?1:0}else if(0<i.advancelv&&i.advancelv<=e){var n=i.breakcost.split(":");t=N12.giC(parseInt(n[0]))>=parseInt(n[1])&&i.advancelv<=e?1:0}return t},t.prototype.getRedNum2=function(){var t=0,e=this.apo.lv;if(L3.advancedLv>e||!this.pointData2)return t;var i=L3.FI89(this.pointData2.lv);if(i.advancelv<0&&this.pointData2.s==L3.starNum)return t;if(this.pointData2&&L3.openLv<=O4.getLv())if(this.pointData2.s!=L3.starNum){var s=N12.giC(parseInt(K19.init.psychicAdvItem.value))+N12.giC(parseInt(K19.init.timeItem2.value)),o=i.starcost.split(":"),r=N12.giC(parseInt(o[0]));t=s>=i.pillcost&&r>=parseInt(o[1])?1:0}else if(0<i.advancelv&&i.advancelv<=e){var n=i.breakcost.split(":");t=N12.giC(parseInt(n[0]))>=parseInt(n[1])&&i.advancelv<=e?1:0}return t},t.prototype.getRedNum3=function(){var t=0,e=this.aspo.lv;if(L3.advancedLv>e||!this.pointData3)return t;var i=L3.FI89(this.pointData3.lv);if(i.advancelv<0&&this.pointData3.s==L3.starNum)return t;if(this.pointData3&&L3.openLv<=O4.getLv())if(this.pointData3.s!=L3.starNum){var s=N12.giC(parseInt(K19.init.spiritAdvItem.value))+N12.giC(parseInt(K19.init.timeItem3.value)),o=i.starcost.split(":"),r=N12.giC(parseInt(o[0]));t=s>=i.pillcost&&r>=parseInt(o[1])?1:0}else if(0<i.advancelv&&i.advancelv<=e){var n=i.breakcost.split(":");t=N12.giC(parseInt(n[0]))>=parseInt(n[1])&&i.advancelv<=e?1:0}return t},t.prototype.getRedNum4=function(){var t=0,e=this.aso.lv;if(L3.advancedLv>e||!this.pointData4)return t;var i=L3.FI89(this.pointData4.lv);if(i.advancelv<0&&this.pointData4.s==L3.starNum)return t;if(this.pointData4&&L3.openLv<=O4.getLv())if(this.pointData4.s!=L3.starNum){var s=N12.giC(parseInt(K19.init.soulAdvItem.value))+N12.giC(parseInt(K19.init.timeItem4.value)),o=i.starcost.split(":"),r=N12.giC(parseInt(o[0]));t=s>=i.pillcost&&r>=parseInt(o[1])?1:0}else if(0<i.advancelv&&i.advancelv<=e){var n=i.breakcost.split(":");t=N12.giC(parseInt(n[0]))>=parseInt(n[1])&&i.advancelv<=e?1:0}return t},t.prototype.notify=function(t){i.prototype.notifyView.call(this,this,t)},t}(TG79);__reflect(TG8.prototype,"TG8");var TG9=function(i){function t(t){var e=i.call(this,t)||this;return e.rSM(P4.Y11,e.GX12,e),e.rSM(P4.T29,e.GM51,e),e.rSM(P4.E89,e.GK76,e),e.rSM(P4.G50,e.GM53,e),e.rSM(P4.J94,e.GO44,e),e.rSM(P4.P88,e.GG95,e),e.rSM(P4.C77,e.GF37,e),e.rSM(P4.D70,e.GG97,e),e.rSM(P4.G54,e.GI77,e),e.rSM(P4.T31,e.GM55,e),e.rSM(P4.E91,e.GK80,e),e.rSM(P4.G52,e.GM57,e),e.rSM(P4.J96,e.GO47,e),e.rSM(P4.P90,e.GG99,e),e.rSM(P4.C79,e.GF39,e),e.rSM(P4.D72,e.GHH2,e),e.rSM(P4.G56,e.GI79,e),e.rSM(P4.G58,e.GK78,e),e.rSM(P4.D74,e.GI83,e),e.rSM(P4.C83,e.GHH4,e),e.rSM(P4.P92,e.GI81,e),e.rSM(P4.O8,t.GO45,t),e}return __extends(t,i),t.prototype.GX12=function(t){this.apF(L12.A71,t)},t.prototype.loadReq=function(){var s=this;return new Promise(function(e,t){var i={type:P4.W35,body:{}};s.rSMO(P4.W36,function(t){s.apF(L12.A70,t),e("灵兽数据加载完成")},s),s.sSM(i)})},t.prototype.GK71=function(){var t={type:P4.R65,body:{}};this.rSMO(P4.R66,this.GK72,this),this.sSM(t)},t.prototype.GK72=function(t){this.apF(L12.A59,t)},t.prototype.GI74=function(){var t={type:P4.D67,body:{}};this.rSMO(P4.D68,this.GI75,this),this.sSM(t)},t.prototype.GI75=function(t){this.apF(L12.A12,t)},t.prototype.GK73=function(){var t={type:P4.E92,body:{}};this.rSMO(P4.E93,this.GK74,this),this.sSM(t)},t.prototype.GK74=function(t){this.apF(L12.A24,t)},t.prototype.GM48=function(){var t={type:P4.I14,body:{}};this.rSMO(P4.I15,this.GM49,this),this.sSM(t)},t.prototype.GM49=function(t){this.apF(L12.A38,t)},t.prototype.GM50=function(t){var e={type:P4.T28,body:t};this.sSM(e)},t.prototype.GM51=function(t){this.apF(L12.A63,t)},t.prototype.GK75=function(t){var e={type:P4.E88,body:t};this.sSM(e)},t.prototype.GK76=function(t){this.apF(L12.A20,t)},t.prototype.GM52=function(t){var e={type:P4.G49,body:t};this.sSM(e)},t.prototype.GM53=function(t){this.apF(L12.A28,t)},t.prototype.GO43=function(t){var e={type:P4.J93,body:t};this.sSM(e)},t.prototype.GO44=function(t){this.apF(L12.A40,t)},t.prototype.GG94=function(t){var e={type:P4.P87,body:t};this.sSM(e)},t.prototype.GG95=function(t){this.apF(L12.A50,t)},t.prototype.GF36=function(t){var e={type:P4.C76,body:t};this.sSM(e)},t.prototype.GF37=function(t){this.apF(L12.A4,t)},t.prototype.GG96=function(t){var e={type:P4.D69,body:t};this.sSM(e)},t.prototype.GG97=function(t){this.apF(L12.A14,t)},t.prototype.GI76=function(t){var e={type:P4.G53,body:t};this.sSM(e)},t.prototype.GI77=function(t){this.apF(L12.A32,t)},t.prototype.GG98=function(){var t={type:P4.P89,body:{}};this.sSM(t)},t.prototype.GG99=function(t){this.apF(L12.A52,t)},t.prototype.GF38=function(){var t={type:P4.C78,body:{}};this.sSM(t)},t.prototype.GF39=function(t){this.apF(L12.A6,t)},t.prototype.GHH1=function(){var t={type:P4.D71,body:{}};this.sSM(t)},t.prototype.GHH2=function(t){this.apF(L12.A16,t)},t.prototype.GI78=function(){var t={type:P4.G55,body:{}};this.sSM(t)},t.prototype.GI79=function(t){this.apF(L12.A34,t)},t.prototype.GI80=function(t){var e={type:P4.P91,body:t};this.sSM(e)},t.prototype.GI81=function(t){this.apF(L12.A54,t)},t.prototype.GHH3=function(t){var e={type:P4.C82,body:t};this.sSM(e)},t.prototype.GHH4=function(t){this.apF(L12.A10,t)},t.prototype.GI82=function(t){var e={type:P4.D73,body:t};this.sSM(e)},t.prototype.GI83=function(t){this.apF(L12.A18,t)},t.prototype.GK77=function(t){var e={type:P4.G57,body:t};this.sSM(e)},t.prototype.GK78=function(t){this.apF(L12.A36,t)},t.prototype.GX13=function(t){var e={type:P4.T32,body:t};this.rSMO(P4.T33,this.GX14,this),this.sSM(e)},t.prototype.GX14=function(t){this.apF(L12.A67,t)},t.prototype.GHH5=function(t){var e={type:P4.O5,body:t};this.rSMO(P4.O6,this.GHH6,this),this.sSM(e)},t.prototype.GHH6=function(t){this.apF(L12.A46,t)},t.prototype.GF40=function(t){var e={type:P4.B95,body:t};this.rSMO(P4.B96,this.GF41,this),this.sSM(e)},t.prototype.GF41=function(t){this.apF(L12.A2,t)},t.prototype.GHH7=function(t){var e={type:P4.C80,body:t};this.rSMO(P4.C81,this.GHH8,this),this.sSM(e)},t.prototype.GHH8=function(t){this.apF(L12.A8,t)},t.prototype.GI84=function(t){var e={type:P4.E94,body:t};this.rSMO(P4.E95,this.GI85,this),this.sSM(e)},t.prototype.GI85=function(t){this.apF(L12.A26,t)},t.prototype.GM54=function(){var t={type:P4.T30,body:{}};this.sSM(t)},t.prototype.GM55=function(t){this.apF(L12.A65,t)},t.prototype.GK79=function(){var t={type:P4.E90,body:{}};this.sSM(t)},t.prototype.GK80=function(t){this.apF(L12.A22,t)},t.prototype.GM56=function(){var t={type:P4.G51,body:{}};this.sSM(t)},t.prototype.GM57=function(t){this.apF(L12.A30,t)},t.prototype.GO46=function(){var t={type:P4.J95,body:{}};this.sSM(t)},t.prototype.GO47=function(t){this.apF(L12.A42,t)},t.prototype.aSkillUpReq=function(t){var e={type:P4.O7,body:{skin:t}};this.sSM(e)},t}(TG80);__reflect(TG9.prototype,"TG9");var K19=function(){function r(){}return r.FK35=function(t){r.init=t.animal_init,r.animal=t.animal_animal,r.psychic=t.animal_psychic,r.spirit=t.animal_spirit,r.soul=t.animal_soul,r.skin=t.animal_skin,r.skill=t.animal_skill,r.reward=t.animal_reward,r.skillGroup=this.FI15(),r.expDanData1=this.FHH33(1),r.expDanData2=this.FHH33(2),r.expDanData3=this.FHH33(3),r.expDanData4=this.FHH33(4),r.transformlHelp=r.init.transformlHelp.value,r.ZU98(t.animal_skin_lv)},Object.defineProperty(r,"skinList",{get:function(){var t=P7.get("animalConfig_skinList");t||(t=r.FHH90(!1).map(function(t){return t.id}),P7.set("animalConfig_skinList",t));return t},enumerable:!0,configurable:!0}),r.ZU98=function(t){for(var e in r.skin_lv={},t){var i=t[e];r.skin_lv[i.id]||(r.skin_lv[i.id]={}),r.skin_lv[i.id][i.lv]=i}},r.FA36=function(t,e,i){void 0===i&&(i=!0);var s=i?P7.str2kv(r.skin[t].attr):[];return r.skin_lv[t][e]&&P7.mergekvs(s,P7.str2kv(r.skin_lv[t][e].baseattr),!0),s},r.FI15=function(){var t={};for(var e in r.skill){var i=r.skill[e],s=[],o=i.skillid+"";t[o]?t[o].push(i):(s.push(i),t[o]=s)}return t},r.gIV=function(t){var e=void 0;return r.init?e=r.init[t].value:e},r.FG82=function(t){if(r.reward){var e=[],i=r.reward;for(var s in i)i[s].type==t&&e.push(i[s]);return e}},r.FHH90=function(t){var e=[];if(t)for(var i in r.skin)-1==r.skin[i].itemid&&e.push(r.skin[i]);else for(var i in r.skin)-1!=r.skin[i].itemid&&e.push(r.skin[i]);return e},r.FHH33=function(t){var e={};if(!this.init)return e;for(var i=this.init["expItem"+t].value.split(";"),s=0;s<i.length;s++){var o=[],r=i[s].split(":"),n=r[0];e[n]||(o.push(r[1]),e[n]=o)}return e},r.FHH91=function(t){var e=r.skin[t];return e?{icon:e.skillicon,name:e.skillname}:{icon:void 0,name:void 0}},r.transformlHelp="",r}();__reflect(K19.prototype,"K19");var AnimalDan=function(s){function t(t,e){var i=s.call(this,t,e)||this;return i.skinName=WingDanSkin,i}return __extends(t,s),t.prototype.initUI=function(){s.prototype.initUI.call(this),this.lbStr1.textFlow=M18.HTP.parse(O3.tr(4062)),this.lbStr2.textFlow=M18.HTP.parse(O3.tr(4063)),this.lbStr3.textFlow=M18.HTP.parse(O3.tr(4066)),this.lbStr4.textFlow=M18.HTP.parse(O3.tr(4067)),this.lbStr5.textFlow=M18.HTP.parse(O3.tr(4069)),this.btnUse.label=O3.tr(4070),this.btnBigMinus.label=O3.tr(4071),this.btnBigAdd.label=O3.tr(4072)},t.prototype.open=function(t){this.type=t,this.dlg.ZM69(this.closeSelf,this),this.btnBigMinus.addEventListener(egret.TouchEvent.TOUCH_TAP,this.changeUse,this),this.btnMinus.addEventListener(egret.TouchEvent.TOUCH_TAP,this.changeUse,this),this.btnAdd.addEventListener(egret.TouchEvent.TOUCH_TAP,this.changeUse,this),this.btnBigAdd.addEventListener(egret.TouchEvent.TOUCH_TAP,this.changeUse,this),this.btnUse.addEventListener(egret.TouchEvent.TOUCH_TAP,this.startUse,this),this.grpDetail.addEventListener(egret.TouchEvent.TOUCH_TAP,this.ZQ49,this),this.updateUI()},t.prototype.close=function(){this.type=null,this.btnBigMinus.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.changeUse,this),this.btnMinus.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.changeUse,this),this.btnAdd.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.changeUse,this),this.btnBigAdd.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.changeUse,this),this.btnUse.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.startUse,this)},t.prototype.closeSelf=function(){App.VM.close(O7.HH53)},t.prototype.updateUI=function(){var t=App.CM.gtM(O6.B91);switch(this.init=K19.init,this.type){case 1:this.animalItem=this.init.animalAttrItem,this.animalAtrr=this.init.animalAttr,this.anModel=t.ao,this.typeConst=L12.A49,this.stName=O3.tr(125);break;case 2:this.animalItem=this.init.psychicAttrItem,this.animalAtrr=this.init.psychicAttr,this.anModel=t.apo,this.typeConst=L12.A3,this.stName=O3.tr(126);break;case 3:this.animalItem=this.init.spiritAttrItem,this.animalAtrr=this.init.spiritAttr,this.anModel=t.aspo,this.typeConst=L12.A13,this.stName=O3.tr(127);break;case 4:this.animalItem=this.init.soulAttrItem,this.animalAtrr=this.init.soulAttr,this.anModel=t.aso,this.typeConst=L12.A31,this.stName=O3.tr(128)}var e=N12.gID(this.animalItem.value);this.num=N12.giC(parseInt(this.animalItem.value)),this.lbOwn.text=O3.tr(1321,this.num);N12.base[this.animalItem.value].batchusenum;var i=K18.init.attrUseMax.value;if(this.anModel.er>=i)this.lbCount.textFlow=M18.HTP.parse(O3.tr(4068,0));else{var s=i-this.anModel.er;this.lbCount.textFlow=M18.HTP.parse(O3.tr(4068,String(this.num>s?s:this.num)))}this.dlg.title=e.name,this.imgQuality.source=N12.getBox(e.quality),O5.FB13(this.lbName,e.name,e.quality),this.imgHead.source=N12.FJ86(e.id),this.lbNum.textFlow=M18.HTP.parse(O3.tr(4064,this.anModel.er));var o=this.animalAtrr.value,r=N13.getData(o);for(var n in r)for(var a in r[n]){var h=parseInt(r[n][a])*this.anModel.er;this["lbAttr"+n].text=K18.attribute[a].name+"：",this["lbCount"+n].textFlow=M18.HTP.parse(O3.tr(4065,h))}},t.prototype.uBM=function(t,e){if(s.prototype.uBM.call(this,t,e),t instanceof TG8)switch(e){case P4.P88:case P4.C77:case P4.D70:case P4.G54:this.updateUI()}},t.prototype.changeUse=function(t){var e=parseInt(this.lbCount.text),i=this.animalItem.value,s=(N12.base[i].batchUse,App.CM.gtM(O6.B91),K18.init.attrUseMax.value),o=this.anModel.er,r=s-o,n=r<=this.num?r:this.num;if(!(s<=o))switch(t.target.name){case"-":0<e-1&&(this.lbCount.text=(e-1).toString());break;case"+":e+1<=n&&(this.lbCount.text=(e+1).toString());break;case"--":var a=parseInt(this.btnBigMinus.label);this.lbCount.text=0<e+a?(e+a).toString():(0<n?1:0)+"";break;case"++":var h=parseInt(this.btnBigAdd.label);this.lbCount.text=e+h<=n?(e+h).toString():n+""}},t.prototype.startUse=function(){K18.init.attrUseMax.value<=this.anModel.er?P18.sDP(this.stName):0!=parseInt(this.lbCount.text)?this.apF(this.typeConst,parseInt(this.lbCount.text)):P18.sDP(O3.tr(1318))},t.prototype.ZQ49=function(){var t=N12.gID(this.animalItem.value);this.aCF(O6.C11,O14.A15,t,this.num)},t}(BaseEuiView);__reflect(AnimalDan.prototype,"AnimalDan");var AnimalDerma=function(s){function t(t,e){var i=s.call(this,t,e)||this;return i.index=null,i.pageSize=6,i.itemWidth=95,i.skinName=WingDermaSkin,i.skinData.dataProvider=i.skinCollection=new eui.ArrayCollection,i.skinData.itemRenderer=AnimalSkinDataItem,i}return __extends(t,s),t.prototype.initUI=function(){s.prototype.initUI.call(this),this.btnActivate.label=O3.tr(6407),this.btnChange.label=O3.tr(4987),this.lbStr1.textFlow=O3.tr2(4970),P7.FM14()&&(this.itemWidth=186.75,this.pageSize=3)},t.prototype.open=function(t){this.index=0;var e=App.CM.gtM(O6.B82);this.avatarModel=e.avatarInfo.us[J11.A7],this.btnBack.addEventListener(egret.TouchEvent.TOUCH_TAP,this.closeSelf,this),this.btnClose.addEventListener(egret.TouchEvent.TOUCH_TAP,this.closeSelf,this),this.imgBg.addEventListener(egret.TouchEvent.TOUCH_TAP,this.closeSelf,this),this.attriCheck.addEventListener(egret.TouchEvent.TOUCH_TAP,this.openAddView,this),this.grpDetail.addEventListener(egret.TouchEvent.TOUCH_TAP,this.ZQ49,this),this.btnLeft.addEventListener(egret.TouchEvent.TOUCH_TAP,this.showNextData,this),this.btnRight.addEventListener(egret.TouchEvent.TOUCH_TAP,this.showNextData,this),this.btnChange.addEventListener(egret.TouchEvent.TOUCH_TAP,this.canChange,this),this.btnActivate.addEventListener(egret.TouchEvent.TOUCH_TAP,this.activate,this),this.grpShow.addEventListener(egret.TouchEvent.TOUCH_TAP,this.goShopPing,this),this.updateUI()},t.prototype.close=function(){this.index=null,this.avatarModel=null,this.scrRoll.removeEventListener(eui.UIEvent.CHANGE_END,this.ZQ72,this),this.btnBack.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.closeSelf,this),this.btnClose.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.closeSelf,this),this.imgBg.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.closeSelf,this),this.attriCheck.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.openAddView,this),this.grpDetail.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.ZQ49,this),this.btnLeft.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.showNextData,this),this.btnRight.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.showNextData,this),this.btnChange.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.canChange,this),this.btnActivate.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.activate,this),this.grpShow.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.goShopPing,this),this.gpBoss.removeChildren(),this.objBoss.destory(),this.objBoss=null,this.skinCollection.removeAll()},t.prototype.goShopPing=function(){var t={sLink:parseInt(this.lbSource.name)};TG84.goToDlg(t)},t.prototype.closeSelf=function(){App.VM.GY64(this)},t.prototype.activate=function(){this.apF(L12.A66,this.classData[this.index+""].id)},t.prototype.canChange=function(){this.apF(L12.A45,this.classData[this.index+""].id)},t.prototype.ZQ91=function(t){for(var e=0;e<this.skinCollection.length;e++)this.skinCollection.getItemAt(e).isShow=!1;this.index=t,this.skinCollection.getItemAt(t).isShow=!0,this.skinCollection.replaceAll(this.classData),this.ZN22(t)},t.prototype.updateUI=function(){this.lbTitle.text=O3.tr(100),this.lbAllText.text=O3.tr(117),this.lbOnText.text=O3.tr(118);var t=App.CM.gtM(O6.B91).ao;this.classData=this.adjust(K19.FHH90(!1).concat()),this.regularData=K19.FHH90(!1),this.skins=K19.skin,this.skinCollection.replaceAll(this.classData),this.classData.length<=6&&(this.btnRight.visible=!1);for(var e=0;e<this.classData.length;e++)if(this.classData[e].id==t.s){this.index=e;break}this.ZQ91(this.index)},t.prototype.adjust=function(t){for(var e=[],i=App.CM.gtM(O6.B91).ao,s=t.length-1;0<=s;s--){if(t[s].state=0,t[s].id==i.s)t[s].state=2;else 1<=N12.giC(t[s].itemid)?(t[s].state=3,e.unshift(t[s])):(t[s].state=1,e.push(t[s])),t.splice(s,1)}return e.sort(function(t,e){return t.state-e.state}),e=e.concat(t)},t.prototype.ZN22=function(t){this.index=t;var e=App.CM.gtM(O6.B91).ao;this.lbName.text=this.classData[t+""].name,this.classData[t+""].gainway,this.lbSource.text=this.classData[t+""].gainway,this.lbSource.name=this.classData[t+""].showid,0<this.classData[t+""].showid?M18.FHH83(this.lbSource):M18.FF64(this.lbSource),this.imgQuality.source=N12.getBox(N12.gID(this.classData[t+""].itemid+"").quality),this.imgHead.source=N12.FJ86(this.classData[t+""].itemid),this.imgHead.name=this.classData[t+""].itemid+"";var i={id:this.classData[t+""].id,x:0,y:0,dir:Dir.br,objType:P13.A6,bt:BehaviourType.Stand_d};this.objBoss||(this.objBoss=new FightGameObject),this.objBoss.setData(i,this.gpBoss);var s=N12.giC(this.classData[t+""].itemid);0==(this.num=s)?(this.lbNum.text="(0/1)",this.lbNum.textColor=14164514,this.btnActivate.visible=this.btnChange.visible=this.grpHave.visible=!1,this.grpNoLive.visible=this.grpDetail.visible=this.grpShow.visible=!0):(this.lbNum.textColor=7716890,this.lbNum.text="("+s+"/1)",this.grpNoLive.visible=this.grpDetail.visible=this.btnActivate.visible=!0,this.grpShow.visible=this.grpHave.visible=this.btnChange.visible=!1),0<=e.acs.indexOf(this.classData[t+""].id)&&(this.grpHave.visible=this.grpDetail.visible=this.grpNoLive.visible=!1,this.btnChange.visible=!0),e.s==this.classData[t+""].id&&(this.btnChange.visible=this.grpNoLive.visible=this.grpDetail.visible=!1,this.grpHave.visible=!0),this.scoreLb.text=M10.gAG(this.classData[t+""].attr)+"";var o=N13.getData(this.classData[t+""].attr);for(var r in o)for(var n in o[r])this["lbAttr"+r].text=K18.attribute[n].name+":"+o[r][n];this.grpHave.visible||this.btnChange.visible?this.lbAttr0.textColor=this.lbAttr1.textColor=this.lbAttr2.textColor=7716890:this.lbAttr0.textColor=this.lbAttr1.textColor=this.lbAttr2.textColor=16458017;var a=0,h=0;for(var r in e.acs)-1!=this.skins[e.acs[r]+""].itemid&&(h+=1,a+=M10.gAG(this.skins[e.acs[r]+""].attr));this.lbAllPower.text=a+"",this.lbHave.text=h+""},t.prototype.uBM=function(t,e){if(s.prototype.uBM.call(this,t,e),t instanceof TG8)switch(e){case P4.T33:case P4.O6:this.updateUI()}},t.prototype.isShowHong=function(){this.btnLeft.imgNew.visible=this.btnRight.imgNew.visible=!1;for(var t=this.getStartIndex,e=this.skinCollection.source,i=t,s=t+1+6,o=0;o<i;o++){if(N12.giC(e[o].itemid)){this.btnLeft.imgNew.visible=!0;break}}for(var r=this.skinCollection.source.length-1;s<r;r--){if(N12.giC(e[r].itemid)){this.btnRight.imgNew.visible=!0;break}}},t.prototype.doLeft=function(){var t=this.getStartIndex,e=Math.max(0,t-this.pageSize);this.scrRoll.viewport.scrollH=e*this.itemWidth,this.isShowHong(),this.ZQ72()},Object.defineProperty(t.prototype,"getStartIndex",{get:function(){return Math.floor(this.scrRoll.viewport.scrollH/this.itemWidth)},enumerable:!0,configurable:!0}),t.prototype.doRight=function(){var t=this.getStartIndex,e=this.skinCollection.length-this.pageSize,i=Math.min(e,t+this.pageSize);this.scrRoll.viewport.scrollH=e===i?this.scrRoll.viewport.contentWidth-this.scrRoll.width:i*this.itemWidth,this.isShowHong(),this.ZQ72()},t.prototype.ZQ72=function(){var t=this.scrRoll.viewport;this.btnLeft.visible=0!=t.scrollH,this.btnRight.visible=Math.abs(t.scrollH+this.scrRoll.width)<t.contentWidth},t.prototype.showNextData=function(t){switch(t.target.name){case"-":this.doLeft();break;case"+":this.doRight()}},t.prototype.openAddView=function(){App.VM.open(O7.E17,{power:0,index:0,type:1})},t.prototype.ZQ49=function(){var t=N12.gID(this.imgHead.name);this.aCF(O6.C11,O14.A15,t,this.num)},t}(BaseEuiView);__reflect(AnimalDerma.prototype,"AnimalDerma");var AnimalDermaIconItemView=function(e){function t(){var t=e.call(this)||this;return t.skinName="AnimalDermaIconItemSkin",t}return __extends(t,e),t.prototype.childrenCreated=function(){e.prototype.childrenCreated.call(this),this.once(egret.Event.REMOVED_FROM_STAGE,this.onRemove,this),this.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClick,this)},t.prototype.onRemove=function(){this.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClick,this)},t.prototype.dataChanged=function(){e.prototype.dataChanged.call(this),this.lbName.text=this.data.name;var t=N12.gID(K19.skin[this.data.id].itemid);O5.FB13(this.lbName,this.data.name,t.quality),this.data.own?O5.FB13(this.lbLv,O3.tr(7676,this.data.lv),t.quality):this.lbLv.textFlow=O3.tr2(7680),this.imgIcon.source=t.icon,this.imgBg.source=N12.getBox(t.quality),this.imgSel.visible=this.data.selected,P16.sGF(this.imgIcon,!this.data.own),this.imgRed.visible=this.data.red},t.prototype.onClick=function(){if(this.data.selected){var t=N12.gID(K19.skin[this.data.id].itemid);App.CM.apF(O6.C11,O14.A15,N12.gID(t.id))}else App.CM.apF(O6.B91,L12.A72,this.data.id)},t}(eui.ItemRenderer);__reflect(AnimalDermaIconItemView.prototype,"AnimalDermaIconItemView");var AnimalDermaSkillView=function(s){function t(t,e){var i=s.call(this,t,e)||this;return i.skinName="AnimalDermaSkillInfoSkin",i}return __extends(t,s),Object.defineProperty(t.prototype,"model",{get:function(){return App.CM.gtM(O6.B91)},enumerable:!0,configurable:!0}),t.prototype.initUI=function(){this.imgBg.once(egret.TouchEvent.TOUCH_TAP,this.oCC,this),this.labTr7678.textFlow=O3.tr2(7678),this.labTr7679.textFlow=O3.tr2(7679)},t.prototype.open=function(t){var e=this.model;this.id=t,this.updateSkill(e)},t.prototype.updateSkill=function(t){var e=t.ao.skinlv[this.id]||0,i=(K19.skin_lv[this.id][e],this.skillIcon),s=i.grpNot,o=i.imgHead,r=i.lbCount,n=i.lbNum,a=(i.imgNew,i.grpCount),h=K19.FHH91(this.id),p=h.icon,l=h.name;o.source=p,n.text=e+"",this.labSkillName.textFlow=O3.tr2(7701,l),0==e?(a.visible=!1,s.visible=!0,r.text=O3.tr(7700,1),this.labAtr1.textFlow=O3.tr2(7703,1)):(a.visible=!0,s.visible=!1,this.labAtr1.text=K19.skin_lv[this.id][e].desc),this.labAtr1.textAlign=0<e?"left":"center";var c=K19.skin_lv[this.id][e+1];c?this.labAtr2.text=c.desc:this.labAtr2.textFlow=O3.tr2(7683),this.labAtr2.textAlign=c?"left":"center"},t.prototype.oCC=function(){App.VM.GY64(this)},t}(BaseEuiView);__reflect(AnimalDermaSkillView.prototype,"AnimalDermaSkillView");var AnimalDermaView=function(s){function t(t,e){var i=s.call(this,t,e)||this;return i.itemWidth=100,i.pageSize=5,i.skinName="AnimalDermaSkin",i}return __extends(t,s),Object.defineProperty(t.prototype,"model",{get:function(){return App.CM.gtM(O6.B91)},enumerable:!0,configurable:!0}),t.prototype.initUI=function(){this.dlg.ZM69(this.oCC,this),this.dlg.ZQ14(this.oCC,this),this.dlg.ZQ16(this.onClickHelp,this),this.dlg.ZHH61(this.gView),this.dlg.ZU11().bold=!0,this.gView.y=0,this.dlg.title=O3.tr(7668),this.labTr7669.textFlow=O3.tr2(7669),this.labTr7671.textFlow=O3.tr2(7671),this.labTr7672.textFlow=O3.tr2(7672),this.btnChange.label=O3.tr(7666),this.btnUp.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickUp,this),this.btnChange.addEventListener(egret.TouchEvent.TOUCH_TAP,this.ZU55,this),this.btnLeft.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickMove,this),this.btnRight.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickMove,this),this.scrRoll.addEventListener(eui.UIEvent.CHANGE,this.ZQ72,this),this.skillIcon.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickSkill,this),this.imgQuality.addEventListener(egret.TouchEvent.TOUCH_TAP,this.oCI,this),this.skinData.dataProvider=this.dataSource=new eui.ArrayCollection,this.skinData.itemRenderer=AnimalDermaIconItemView;var t=this.model;this.updateList(t)},t.prototype.open=function(){this.select(this.dataSource.source[0].id)},t.prototype.close=function(){this.btnUp.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickUp,this),this.btnChange.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.ZU55,this),this.btnLeft.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickMove,this),this.btnRight.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickMove,this),this.scrRoll.removeEventListener(eui.UIEvent.CHANGE,this.ZQ72,this),this.skillIcon.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickSkill,this),this.imgQuality.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.oCI,this),this.dataSource.removeAll(),this.removeAvatar(),s.prototype.close.call(this)},t.prototype.uBM=function(t,e){if(t instanceof TG8)this.updateList(t),this.ZU99(t),this.ZN23(t),this.GX5(t),this.ZQ72();else if(t instanceof THH9){var i=this.model;this.updateList(i),this.ZU99(i),this.ZN23(i),this.GX5(i),this.ZQ72()}},t.prototype.GX5=function(t){var e=0<=t.ao.acs.indexOf(this.id);this.labLv.textFlow=e?(this.imgActivity.visible=t.ao.s==this.id,this.btnChange.visible=!this.imgActivity.visible,O3.tr2(7676,t.ao.skinlv[this.id])):(this.btnChange.visible=!1,this.imgActivity.visible=!1,O3.tr2(7680)),this.labCount.textFlow=O3.tr2(7674,t.ao.acs.length),this.updateSkill(t)},t.prototype.select=function(t){if(t!=this.id){this.id=t;var e=this.model;this.updateList(e),this.ZU99(e),this.ZN23(e),this.GX5(e),this.updateAvatar(),this.ZQ72()}},t.prototype.updateList=function(n){var a=this;function i(t){var e=-1/t;return 0<=n.ao.acs.indexOf(t)&&(e-=255),n.ao.s==t&&(e-=15),e}var t=K19.skinList.sort(function(t,e){return i(t)-i(e)}).map(function(t){var e=K19.skin[t],i=0,s=0<=n.ao.acs.indexOf(t),o=a.id==t,r=n.ZU96(t);return s&&(i=n.ao.skinlv[t]),{id:t,name:e.name,lv:i,own:s,selected:o,red:r}});this.dataSource.replaceAll(t)},t.prototype.ZU99=function(t){var e=this.id,i=t.ao.skinlv[e],s=K19.skin[e].itemid,o=1,r=!0;if(0<=t.ao.acs.indexOf(e)){var n=K19.skin_lv[e][i+1];(r=!!n)&&(o=n.reqnum),this.btnUp.label=O3.tr(7670)}else this.btnUp.label=O3.tr(7682);if(this.btnUp.touchEnabled=r,P16.sGF(this.btnUp,!this.btnUp.touchEnabled),this.btnUp.imgNew.visible=r&&t.ZU96(this.id),this.imgQuality.source=N12.FL5(s),r){var a=N12.FK5(s);P16.FL31(this.gConsume,s,o,{textTemplate:"<font color=#"+_cc.dgreen.toString(16)+">"+O3.tr(7673,a,"$0","$1")+"</font>",lackTextTemplate:"<font color=#d82222>"+O3.tr(7673,a,"$0","$1")+"</font>"})}else{var h=O3.tr(7683);P16.FL31(this.gConsume,s,o,{textTemplate:h,lackTextTemplate:h})}},t.prototype.ZN23=function(t){var e,i=this.id,s=0<=t.ao.acs.indexOf(i),o=t.ao.skinlv[i]||0,r=K19.FA36(i,o);s?K19.skin_lv[i][o+1]&&(e=K19.FA36(i,o+1)):r=(e=r).map(function(t){return{k:t.k,v:0}});var n={template:"$0:<font color=#"+_cc.green.toString(16)+">$1</font>"};this.labAtr1.textFlow=M18.FG71(P7.attr2str(r,void 0,s||0!=o?n:{template:"$0:<font color=#"+_cc.red.toString(16)+">$1</font>"})),e?(this.gAtr1.horizontalCenter=-190,this.gAtr2.visible=!0,this.labAtr2.textFlow=M18.FG71(P7.attr2str(e,void 0,n))):(this.gAtr1.horizontalCenter=-100,this.gAtr2.visible=!1);var a=M10.FHH18(r);this.labPower.text=a+"";for(var h=a,p=0,l=t.ao.acs;p<l.length;p++){var c=l[p];c!=this.id&&(h+=M10.FHH18(K19.FA36(c,t.ao.skinlv[c]||0)))}this.labAllPower.textFlow=O3.tr2(7675,h)},t.prototype.updateAvatar=function(){if(this.avatarId!=this.id){var t={id:this.id,x:0,y:0,dir:Dir.br,objType:P13.A6,bt:BehaviourType.Stand_d};this.objBoss||(this.objBoss=new FightGameObject),this.objBoss.setData(t,this.gpBoss),this.avatarId=this.id}},t.prototype.ZQ72=function(){for(var t=this.startIndex,e=!1,i=!1,s=0;s<t;s+=1){if(this.dataSource.source[s].red){e=!0;break}}for(s=t+5;s<this.dataSource.length;s+=1){if(this.dataSource.source[s].red){i=!0;break}}this.btnLeft.imgNew.visible=e,this.btnRight.imgNew.visible=i},t.prototype.updateSkill=function(t){var e=t.ao.skinlv[this.id]||0,i=(K19.skin_lv[this.id][e],this.skillIcon),s=i.grpNot,o=i.imgHead,r=i.lbCount,n=i.lbNum,a=(i.imgNew,i.grpCount),h=K19.FHH91(this.id),p=h.icon,l=h.name;o.source=p,n.text=e+"",this.labSkillName.text=l,0==e?(a.visible=!1,s.visible=!0,r.text=O3.tr(7700,1)):(a.visible=!0,s.visible=!1)},t.prototype.removeAvatar=function(){this.gpBoss.removeChildren(),this.objBoss.destory(),this.objBoss=null},t.prototype.oCC=function(){App.VM.GY64(this)},t.prototype.onClickHelp=function(){var t={title:O3.tr(7668),content:K19.transformlHelp};App.VM.open(O7.I8,t)},t.prototype.oCI=function(){var t=N12.gID(K19.skin[this.id].itemid);App.CM.apF(O6.C11,O14.A15,N12.gID(t.id))},t.prototype.onClickSkill=function(){App.VM.open(O7.C25,this.id)},t.prototype.onClickUp=function(){0<=this.model.ao.acs.indexOf(this.id)?App.CM.apF(O6.B91,L12.A48,this.id):App.CM.apF(O6.B91,L12.A66,this.id)},t.prototype.ZU55=function(){App.CM.apF(O6.B91,L12.A45,this.id)},t.prototype.onClickMove=function(t){var e=t.currentTarget.name,i=0;if("-"==e?i=-1:"+"==e&&(i=1),i){var s=this.startIndex,o=Math.max(0,Math.min(s+i*this.pageSize,this.dataSource.source.length-this.pageSize));this.scrRoll.viewport.scrollH=o*this.itemWidth}},Object.defineProperty(t.prototype,"startIndex",{get:function(){return Math.floor(this.scrRoll.viewport.scrollH/this.itemWidth)},enumerable:!0,configurable:!0}),t}(BaseEuiView);__reflect(AnimalDermaView.prototype,"AnimalDermaView");var AnimalEverAdd=function(s){function t(t,e){var i=s.call(this,t,e)||this;return i.skinPower=0,i.getIndex=1,i.array=[],i.strs=[O3.tr(5742),O3.tr(5743),O3.tr(5744)],i.type=1,i.skinName=WingEverAddSkin,i.attrAddData.dataProvider=i.attrAddCollection=new eui.ArrayCollection,i.attrAddData.itemRenderer=EverAddListItem,i}return __extends(t,s),t.prototype.initUI=function(){s.prototype.initUI.call(this)},t.prototype.open=function(t){s.prototype.open.call(this),this.type=t.type,this.num=t.index,this.power=t.power,this.btnBack.addEventListener(egret.TouchEvent.TOUCH_TAP,this.closeSelf,this),this.btnClose.addEventListener(egret.TouchEvent.TOUCH_TAP,this.closeSelf,this),this.imgBg.addEventListener(egret.TouchEvent.TOUCH_TAP,this.closeSelf,this),this.updateUI(),this.ZN24(Action.Attack)},t.prototype.close=function(){s.prototype.close.call(this),this.objBoss&&(this.objBoss.destory(),this.objBoss=null),this.btnBack.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.closeSelf,this),this.btnClose.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.closeSelf,this),this.imgBg.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.closeSelf,this),this.type=null,this.num=null,this.power=null,this.skins=null,this.init=null,this.attrAddCollection.removeAll()},t.prototype.closeSelf=function(){App.VM.GY64(this)},t.prototype.updateUI=function(){var t=App.CM.gtM(O6.B98),e=App.CM.gtM(O6.B91);switch(this.skins=K19.skin,this.init=K19.init,this.type){case 1:this.lbTitle.text=O3.tr(113),this.base=K19.animal,this.model=e.ao,this.fitDreData=t.animalEquip.sort(function(t,e){return t.i-e.i});break;case 2:this.lbTitle.text=O3.tr(114),this.base=K19.psychic,this.model=e.apo,this.fitDreData=t.psychicEquip.sort(function(t,e){return t.i-e.i});break;case 3:this.lbTitle.text=O3.tr(115),this.base=K19.spirit,this.model=e.aspo,this.fitDreData=t.spiritEquip.sort(function(t,e){return t.i-e.i});break;case 4:this.lbTitle.text=O3.tr(116),this.base=K19.soul,this.model=e.aso,this.fitDreData=t.aSoulEquip.sort(function(t,e){return t.i-e.i})}var i=this.getSkinPower(),s=this.getDanPower(),o=this.FJ47(),r=this.ZV1();this.array=[],this.num?(1==this.type?(this.scoreLb.text=this.power+"",this.array.push({name:O3.tr(1326)+O3.tr(2412),n0:o.n0,n1:o.n1,n2:o.n2,name1:O4.FD72(101,"："),name2:O4.FD72(102,"："),name3:O4.FD72(103,"：")}),this.array.push({name:O3.tr(1327)+O3.tr(2412),n0:r.n0,n1:r.n1,n2:r.n2,name1:O4.FD72(101,"："),name2:O4.FD72(102,"："),name3:O4.FD72(103,"：")}),this.array.push({name:O3.tr(1325)+O3.tr(2412),n0:i.n0,n1:i.n1,n2:i.n2,name1:O4.FD72(101,"："),name2:O4.FD72(102,"："),name3:O4.FD72(103,"：")})):(this.scoreLb.text=this.power+"",this.array.push({name:O3.tr(1326)+O3.tr(2412),n0:o.n0,n1:o.n1,n2:o.n2,name1:O4.FD72(101,"："),name2:O4.FD72(102,"："),name3:O4.FD72(103,"：")}),this.array.push({name:O3.tr(1327)+O3.tr(2412),n0:r.n0,n1:r.n1,n2:r.n2,name1:O4.FD72(101,"："),name2:O4.FD72(102,"："),name3:O4.FD72(103,"：")})),this.array.push({name:O3.tr(1328)+O3.tr(2412),n0:s.n0,n1:s.n1,n2:s.n2,name1:O4.FD72(101,"："),name2:O4.FD72(102,"："),name3:O4.FD72(103,"：")})):(this.scoreLb.text=this.skinPower+"",this.array.push({name:O3.tr(1325)+O3.tr(2412),n0:i.n0,n1:i.n1,n2:i.n2,name1:O4.FD72(101,"："),name2:O4.FD72(102,"："),name3:O4.FD72(103,"：")})),this.attrAddCollection.replaceAll(this.array)},t.prototype.ZN24=function(t){this.objBoss||(this.objBoss=new FightGameObject);var e=t==Action.Attack?1:null,i={id:K19.init.initialSkin.value,x:0,y:0,dir:Dir.br,objType:P13.A6,bt:BehaviourType.Attack_d,sr:e};2==this.type?i.aps=this.base[this.model.lv+""].skinid:4==this.type&&(i.ass=this.base[this.model.lv+""].skinid),this.objBoss.setData(i,this.gpBoss),this.objBoss.action=Action.Stand},t.prototype.getSkinPower=function(){for(var o=this,t=[],r={n0:0,n1:0,n2:0},e=App.CM.gtM(O6.B91),i=0,s=e.ao.acs;i<s.length;i++){var n=s[i];n!=this.init.initialSkin.value&&t.push(n)}for(var a=0;a<t.length;a++){var h=K19.FA36(t[a],e.ao.skinlv[t[a]],!0);this.skinPower+=M10.FHH18(h),h.forEach(function(t){var e=t.k,i=t.v,s=o.strs.indexOf(K18.attribute[e].name);r["n"+s]+=i})}return r},t.prototype.getDanPower=function(){var t,e={n0:0,n1:0,n2:0};1==this.type?t=this.init.animalAttr.value:2==this.type?t=this.init.psychicAttr.value:3==this.type?t=this.init.spiritAttr.value:4==this.type&&(t=this.init.soulAttr.value);var i=N13.getData(t);for(var s in i)for(var o in i[s]){var r=parseInt(i[s][o])*this.model.er,n=this.strs.indexOf(K18.attribute[o].name);0<=n&&(e["n"+n]=r)}return e},t.prototype.ZV1=function(){for(var t={n0:0,n1:0,n2:0},e=this.fitDreData,i=0;i<e.length;i++){var s=M10.FD92(e[i].i,e[i].t),o=N13.getData(s.attr),r=N13.getData(s.addattr);for(var n in o)for(var a in o[n]){0<=(h=this.strs.indexOf(K18.attribute[a].name))&&(t["n"+h]+=parseInt(o[n][a]))}for(var n in r)for(var a in r[n]){var h;0<=(h=this.strs.indexOf(K18.attribute[a].name))&&(t["n"+h]+=parseInt(o[n][a])*s.addlevel)}}return t},t.prototype.getCount=function(t){this.base[t-1+""]&&(this.getIndex+=1,this.getCount(t-1))},t.prototype.FJ47=function(){var t,e={n0:0,n1:0,n2:0},i=parseInt(this.model.lv),s=parseInt(this.model.e);this.getIndex=1,this.getCount(i),1==this.type?t=this.init.animalAdvExp.value:2==this.type?t=this.init.psychicAdvExp.value:3==this.type?t=this.init.spiritAdvExp.value:4==this.type&&(t=this.init.soulAdvExp.value);for(var o=0;o<this.getIndex;o++){var r=this.base[i-o+""].baseattr,n=this.base[i-o+""].addattr,a=i-o,h=N13.getData(r),p=N13.getData(n);if(0==o)for(var l in p)for(var c in p[l]){var u=parseInt(p[l][c])*s/t;0<=(f=this.strs.indexOf(K18.attribute[c].name))&&(e["n"+f]+=u)}else for(var d in p)for(var c in p[d]){0<=(f=this.strs.indexOf(K18.attribute[c].name))&&(e["n"+f]+=parseInt(p[d][c])*this.base[a+""].exp/t)}for(var v in h)for(var c in h[v]){var f;0<=(f=this.strs.indexOf(K18.attribute[c].name))&&(e["n"+f]+=parseInt(h[v][c]))}}return e},t}(BaseEuiView);__reflect(AnimalEverAdd.prototype,"AnimalEverAdd");var AnimalMainView=function(r){function t(t,e){var i=r.call(this,t,e)||this;i.sGN("release_animal"),App.VM.rgS(O7.G43,O7.I67,"AnimalView",i.content),App.VM.rgS(O7.G43,O7.F4,"AnimaPsychicView",i.content),App.VM.rgS(O7.G43,O7.F5,"AnimalSpiritView",i.content),App.VM.rgS(O7.G43,O7.G85,"AnimalSoulView",i.content);var s=[O3.tr(100),O3.tr(101),O3.tr(102),O3.tr(103)],o=[O7.I67,O7.F4,O7.F5,O7.G85];return i.btnList=new ButtonList(s,o,i.ZQ23.bind(i)),i.btnList.init(),i.btnGroup.addChild(i.btnList),i.helpBtn.visible=!0,i}return __extends(t,r),t.prototype.initUI=function(){r.prototype.initUI.call(this)},t.prototype.open=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];r.prototype.open.call(this,t);var i=App.CM.gtM(O6.B91);this.ZE84(i);var s=t[0]||O7.I67;this.ZQ23(s),this.helpBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.openHelpView,this),this.ZHH59()},t.prototype.openHelpView=function(){var t,e;switch(this.title){case O3.tr(104):case O3.tr(105):case O3.tr(106):case O3.tr(107):t=O3.tr(108),e=K19.init.animalHelp.value}var i={title:t,content:e};this.aCF(O6.C18,O10.A24,i)},t.prototype.ZQ23=function(t){var e,i=App.CM.gtM(O6.B82).avatarInfo,s=i.v;switch(t){case O7.I67:if(e=K19.init.animalLv.value,!(i.l>=e||1==K18.vip[s].openanimal)){var o=K18.init.commonDesc1.value;return P18.sDP(M18.format(o,[e])),-1}this.title=O3.tr(104),this.btnList.ZM66(t);break;case O7.F4:if(e=K19.init.psychicLv.value,i.l<e){o=K18.init.commonDesc1.value;return P18.sDP(M18.format(o,[e])),-1}this.title=O3.tr(105),this.btnList.ZM66(t);break;case O7.F5:if(e=K19.init.spiritLv.value,i.l<e){o=K18.init.commonDesc1.value;return P18.sDP(M18.format(o,[e])),-1}this.title=O3.tr(106),this.btnList.ZM66(t);break;case O7.G85:if(e=K19.init.soulLv.value,i.l<e){o=K18.init.commonDesc1.value;return P18.sDP(M18.format(o,[e])),-1}this.title=O3.tr(107),this.btnList.ZM66(t)}},t.prototype.uBM=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];r.prototype.uBM.call(this,t,e),t instanceof TG8&&this.ZE84(t),(t instanceof TB46||t instanceof TB14)&&this.ZHH59()},t.prototype.ZHH59=function(){this.btnList.ZHH59(O7.I67,P7.FD56(E5.A10)),this.btnList.ZHH59(O7.G85,P7.FD56(E5.A4)),this.btnList.ZHH59(O7.F4,P7.FD56(E5.A1)),this.btnList.ZHH59(O7.F5,P7.FD56(E5.A2))},t.prototype.ZE84=function(t){var e=App.CM.gtM(O6.B91);e.isShowImgNew(),e.ZK14(),e.ZG29(),e.ZU97(),this.btnList.ZHH58(O7.I67,e.red1),this.btnList.ZHH58(O7.F4,e.red2),this.btnList.ZHH58(O7.F5,e.red3),this.btnList.ZHH58(O7.G85,e.red4)},t.prototype.close=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];r.prototype.close.call(this,t),this.helpBtn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.openHelpView,this),P7.FK28()},t}(BasePanelView);__reflect(AnimalMainView.prototype,"AnimalMainView");var AnimalSkill=function(s){function t(t,e){var i=s.call(this,t,e)||this;return i.skinName=AnimalSkillSkin,i.grps=[i.grp0,i.grp1,i.grp2,i.grp3],i.grpEffects=[i.grpEffect0,i.grpEffect1,i.grpEffect2],i}return __extends(t,s),t.prototype.initUI=function(){s.prototype.initUI.call(this),this.lbStr1.textFlow=M18.HTP.parse(O3.tr(4079)),this.lbReach.textFlow=M18.HTP.parse(O3.tr(4080)),this.lbStr2.textFlow=M18.HTP.parse(O3.tr(4081)),this.lbCondition.textFlow=M18.HTP.parse(O3.tr(4082)),this.lbStr3.textFlow=M18.HTP.parse(O3.tr(4083)),this.lbStr4.textFlow=M18.HTP.parse(O3.tr(4085)),this.lbStr5.textFlow=M18.HTP.parse(O3.tr(4086)),this.btnUpgrade.label=O3.tr(4985)},t.prototype.open=function(t,e){this.index=t,this.lv=e,this.btnBack.addEventListener(egret.TouchEvent.TOUCH_TAP,this.closeSelf,this),this.btnClose.addEventListener(egret.TouchEvent.TOUCH_TAP,this.closeSelf,this),this.imgBg.addEventListener(egret.TouchEvent.TOUCH_TAP,this.closeSelf,this),this.grpInfo.addEventListener(egret.TouchEvent.TOUCH_TAP,this.GT53,this),this.btnUpgrade.addEventListener(egret.TouchEvent.TOUCH_TAP,this.upgrade,this);for(var i=0;i<this.grps.length;i++){this.grps[i].addEventListener(egret.TouchEvent.TOUCH_TAP,this.skillNew,this),this.grps[i].getChildByName("imgOpt").visible=i==this.index}this.updateUI()},t.prototype.close=function(){this.btnBack.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.closeSelf,this),this.btnClose.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.closeSelf,this),this.imgBg.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.closeSelf,this),this.grpInfo.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.GT53,this),this.btnUpgrade.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.upgrade,this);for(var t=0;t<this.grps.length;t++)this.grps[t].removeEventListener(egret.TouchEvent.TOUCH_TAP,this.skillNew,this);this.index=null,this.lv=null,this.init=null,this.skill=null,this.skillData=null},t.prototype.closeSelf=function(){App.VM.GY64(this)},t.prototype.GT53=function(){var t=this.skill[this.skillData[this.index].si+""][this.lv-1];if(t&&t.cost){var e=t.cost.split(":"),i=N12.gID(e[0]);this.aCF(O6.C11,O14.A15,i,this.lbOwn.text)}},t.prototype.upgrade=function(){if(O4.getLv()<K19.init.animalLv.value){var t=K18.init.commonDesc1.value;P18.sDP(M18.format(t,[K19.init.animalLv.value]))}else if(14164514!=this.lbOwn.textColor)10001==this.skillData[this.index].si?App.CM.apF(O6.B91,L12.A64):10002==this.skillData[this.index].si?App.CM.apF(O6.B91,L12.A21):10003==this.skillData[this.index].si?App.CM.apF(O6.B91,L12.A29):10004==this.skillData[this.index].si&&App.CM.apF(O6.B91,L12.A41);else{var e=this.skill[this.skillData[this.index].si+""][this.lv-1];if(e&&e.cost){var i=e.cost.split(":"),s=N12.gID(i[0]);App.VM.open(O7.G87,s.id,1)}}},t.prototype.uBM=function(t,e){if(s.prototype.uBM.call(this,t,e),t instanceof TG8)switch(e){case P4.T33:this.updateUI();break;case P4.T31:case P4.E91:case P4.G52:case P4.J96:this.updateUI(!0)}},t.prototype.updateUI=function(t){void 0===t&&(t=!1),this.init=K19.init,this.skill=K19.skillGroup,this.skillData=[];var e,i,s=App.CM.gtM(O6.B82),o=s.avatarInfo.l,r=s.avatarInfo.v;for(var n in this.skill){e=parseInt(n);break}for(var a=App.CM.gtM(O6.B91),h=[a.ao,a.apo,a.aspo,a.aso],p=0;p<4;p++){var l=this.ZV2(p);i=l<=o?h[p].sl||1:0,0==p&&1==K18.vip[r].openanimal&&(i=h[p].sl||1),this.skillData.push({si:e,sl:i,count:l}),e+=1}for(p=0;p<this.grps.length;p++){var c=this.grps[p].getChildByName("imgHead"),u=this.grps[p].getChildByName("grpCount"),d=this.grps[p].getChildByName("grpNotOpen");c.source=this.init["skillIcon"+(p+1)].value;var v=App.CM.gtM(O6.B91);v.ao,v.apo,v.aspo,v.aso;if(this.skillData[p].sl){var f=this.skill[this.skillData[p].si+""][this.skillData[p].sl-1],g=u.getChildAt(u.numChildren-1);u.visible=!0;var m=parseInt(g.text),y=this.grps[p].getChildByName("effect");if(this.skillData[p].sl>m&&t&&App.THH33.aUE(y,"iconSkill",-y.width/2+5,-y.height/2+5,1),g.text=""+this.skillData[p].sl,this.skill[this.skillData[p].si+""].length>f.skilllv){var A=f.cost.split(":");N12.giC(parseInt(A[0]));d.visible=!1}}else{d.visible=!0,u.visible=!1,d.getChildAt(d.numChildren-1).text=O3.tr(119,this.skillData[p].count)}}this.updateInfo(this.skillData[this.index])},t.prototype.updateInfo=function(t){var e=this.init["skillName"+(this.index+1)].value;if(this.lbName.textFlow=M18.HTP.parse(O3.tr(4084,e)),this.lbTitle.textFlow=M18.HTP.parse(O3.tr(4078,e)),this.lbClass.text=O3.tr(1331,t.sl),t.sl){var i=this.skill[t.si+""][t.sl-1];if(this.lbCurAttr.textFlow=M18.HTP.parse(i.desc),i&&i.cost){var s=i.cost.split(":"),o=N12.gID(s[0]);this.grpEffect0.visible=this.grpEffect0.includeInLayout=this.grpUpgrade.visible=!0,this.grpEffect2.visible=this.grpEffect2.includeInLayout=this.grpNo.visible=!1;var r=O3.tr(1300,o.name,s[1]);this.lbExpend.textFlow=M18.HTP.parser(r),this.lbOwn.text=N12.giC(s[0])+"",this.lbOwn.textColor=parseInt(this.lbOwn.text)>=s[1]?7716890:14164514,this.btnUpgrade.imgNew.visible=parseInt(this.lbOwn.text)>=s[1],this.imgHead.source=N12.FJ86(s[0]),this.imgQuality.source=N12.getBox(N12.base[s[0]].quality)}else this.grpUpgrade.visible=!1;var n=N13.getData(i.attr);for(var a in n)for(var h in n[a])this["lbNowAttr"+a].text=O3.tr(1330,K18.attribute[h].name),this["lbNowNum"+a].text=n[a][h]}else{this.grpEffect0.visible=this.grpEffect0.includeInLayout=this.grpUpgrade.visible=!1,this.grpEffect2.visible=this.grpEffect2.includeInLayout=this.grpNo.visible=!0;i=this.skill[t.si+""][t.sl];10001==t.si?O3.tr(120,t.count):10002==t.si?O3.tr(120,t.count):10003==t.si?O3.tr(120,t.count):10004==t.si&&O3.tr(120,t.count)}if(t.sl!=this.skill[t.si+""].length){this.lbReach.visible=!1;var p=this.skill[t.si+""][t.sl+""];this.lbNextAttr.visible=!0,this.lbNextAttr.textFlow=M18.HTP.parse(p.desc)}else this.lbNextAttr.visible=!1,this.grpUpgrade.visible=!1,this.lbReach.visible=!0},t.prototype.ZV2=function(t){var e;return 0==t?e=this.init.animalLv.value:1==t?e=this.init.psychicLv.value:2==t?e=this.init.spiritLv.value:3==t&&(e=this.init.soulLv.value),e},t.prototype.skillNew=function(t){var e=parseInt(t.target.name);this.index=e;for(var i=0;i<this.grps.length;i++){this.grps[i].getChildByName("imgOpt").visible=i==e}this.updateInfo(this.skillData[this.index]),TG40.playClickEffect()},t}(BaseEuiView);__reflect(AnimalSkill.prototype,"AnimalSkill");var AnimalSkillDataItem=function(e){function t(){var t=e.call(this)||this;return t.addEventListener(egret.Event.ADDED_TO_STAGE,t.open,t),t.addEventListener(egret.Event.REMOVED_FROM_STAGE,t.close,t),t}return __extends(t,e),t.prototype.open=function(){this.addEventListener(egret.TouchEvent.TOUCH_TAP,this.ZV3,this)},t.prototype.close=function(){this.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.ZV3,this)},t.prototype.childrenCreated=function(){e.prototype.createChildren.call(this),this.initUI()},t.prototype.initUI=function(){},t.prototype.ZV3=function(){1==this.data.type?App.CM.apF(O6.B91,L12.A61,this.data.index,this.data.sl):App.CM.apF(O6.B91,L12.A44,this.data.index,this.data.sl),TG40.playClickEffect()},t.prototype.dataChanged=function(){if(this.skill=K19.skillGroup,this.init=K19.init,1==this.data.type?this.imgHead.source=this.init["skillIcon"+(this.itemIndex+1)].value:this.imgHead.source=this.init["skillIcon"+this.data.type].value,this.data.sl){var t=this.skill[this.data.si+""][this.data.sl-1];if(this.grpCount.visible=!0,this.lbNum.text=this.data.sl,this.lbNum.textColor=16777215,this.grpNot.visible=!1,this.skill[this.data.si+""].length!=t.skilllv){var e=t.cost.split(":"),i=N12.giC(parseInt(e[0]))+"";this.imgNew.visible=parseInt(e[1])<=parseInt(i)}else this.imgNew.visible=!1}else this.grpNot.visible=!0,this.grpCount.visible=!1,this.imgNew.visible=!1,this.lbCount.text=O3.tr(119,this.data.count)},t}(eui.ItemRenderer);__reflect(AnimalSkillDataItem.prototype,"AnimalSkillDataItem");var AnimalSkillMinView=function(s){function t(t,e){var i=s.call(this,t,e)||this;return i.skinName="SkillInfoSkin",i}return __extends(t,s),t.prototype.initUI=function(){s.prototype.initUI.call(this),this.lbStr1.textFlow=M18.HTP.parser(O3.tr(4858)),this.lbStr2.textFlow=M18.HTP.parser(O3.tr(4859))},t.prototype.initData=function(){s.prototype.initData.call(this)},t.prototype.open=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.type=t[0],this.bgMask.addEventListener(egret.TouchEvent.TOUCH_TAP,this.closeSelf,this),this.refreshView()},t.prototype.refreshView=function(){this.lbName.text=K19.init["skillName"+(this.type+1)].value,this.lbType.text=O3.tr(6629);var t=10001+this.type,e=K19.skillGroup[t][1];this.lbDesc.textFlow=(new egret.HtmlTextParser).parse(e.desc),this.imgBg.source=K19.init["skillIcon"+(this.type+1)].value},t.prototype.closeSelf=function(){App.VM.GY64(this)},t.prototype.close=function(){this.bgMask.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.closeSelf,this)},t}(BaseEuiView);__reflect(AnimalSkillMinView.prototype,"AnimalSkillMinView");var AnimalSkillOne=function(s){function t(t,e){var i=s.call(this,t,e)||this;return i.skinName=AnimalSkillSkinOne,i.grp0.getChildByName("imgOpt").visible=!0,i}return __extends(t,s),t.prototype.open=function(t,e){this.index=t,this.lv=e,this.btnBack.addEventListener(egret.TouchEvent.TOUCH_TAP,this.closeSelf,this),this.btnClose.addEventListener(egret.TouchEvent.TOUCH_TAP,this.closeSelf,this),this.imgBg.addEventListener(egret.TouchEvent.TOUCH_TAP,this.closeSelf,this),this.grpInfo.addEventListener(egret.TouchEvent.TOUCH_TAP,this.GT53,this),this.btnUpgrade.addEventListener(egret.TouchEvent.TOUCH_TAP,this.upgrade,this),this.updateUI()},t.prototype.initUI=function(){s.prototype.initUI.call(this),this.btnUpgrade.label=O3.tr(4104),this.lbStr1.textFlow=M18.HTP.parse(O3.tr(4105)),this.lbReach.textFlow=M18.HTP.parse(O3.tr(4106)),this.lbStr2.textFlow=M18.HTP.parse(O3.tr(4107)),this.lbCondition.textFlow=M18.HTP.parse(O3.tr(4108)),this.lbStr3.textFlow=M18.HTP.parse(O3.tr(4109)),this.lbStr4.textFlow=M18.HTP.parse(O3.tr(4111)),this.lbStr5.textFlow=M18.HTP.parse(O3.tr(4112))},t.prototype.close=function(){this.btnBack.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.closeSelf,this),this.btnClose.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.closeSelf,this),this.imgBg.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.closeSelf,this),this.grpInfo.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.GT53,this),this.btnUpgrade.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.upgrade,this),this.index=null,this.lv=null,this.init=null,this.skill=null,this.skillData=null},t.prototype.closeSelf=function(){App.VM.GY64(this)},t.prototype.GT53=function(){var t=this.skill[this.skillData[0].si+""][this.lv-1];if(t&&t.cost){var e=t.cost.split(":"),i=N12.gID(e[0]);this.aCF(O6.C11,O14.A15,i,this.lbOwn.text)}},t.prototype.upgrade=function(){if(14164514!=this.lbOwn.textColor)10001==this.skillData[0].si?App.CM.apF(O6.B91,L12.A64):10002==this.skillData[0].si?App.CM.apF(O6.B91,L12.A21):10003==this.skillData[0].si?App.CM.apF(O6.B91,L12.A29):10004==this.skillData[0].si&&App.CM.apF(O6.B91,L12.A41);else{var t=this.skill[this.skillData[0].si+""][this.lv-1];if(t&&t.cost){var e=t.cost.split(":"),i=N12.gID(e[0]);App.VM.open(O7.G87,i.id,1)}}},t.prototype.uBM=function(t,e){if(s.prototype.uBM.call(this,t,e),t instanceof TG8){switch(e){case P4.E91:case P4.G52:case P4.J96:this.updateUI(!0)}this.updateUI()}},t.prototype.updateUI=function(t){void 0===t&&(t=!1),this.init=K19.init,this.skill=K19.skillGroup;var e=this.init["skillName"+(this.index+1)].value;this.lbTitle.text=e;var i,s,o=App.CM.gtM(O6.B82).avatarInfo.l;for(var r in this.skill){i=parseInt(r);break}var n=App.CM.gtM(O6.B91),a=[n.ao,n.apo,n.aspo,n.aso];this.skillData=[];var h=this.ZV2(this.index);s=h<=o?a[this.index].sl||1:0,this.lv=s,i+=this.index,this.skillData.push({si:i,sl:s,count:h});var p=this.grp0.getChildByName("imgHead"),l=this.grp0.getChildByName("grpCount"),c=this.grp0.getChildByName("grpNotOpen");if(p.source=this.init["skillIcon"+(this.index+1)].value,this.skillData[0].sl){var u=this.skill[this.skillData[0].si+""][this.skillData[0].sl-1],d=l.getChildAt(l.numChildren-1);l.visible=!0;var v=parseInt(d.text),f=this.grp0.getChildByName("effect");if(this.skillData[0].sl>v&&t&&App.THH33.aUE(f,"iconSkill",-f.width/2+5,-f.height/2+5,1),d.text=""+this.skillData[0].sl,this.skill[this.skillData[0].si+""].length>u.skilllv){var g=u.cost.split(":");N12.giC(parseInt(g[0]));c.visible=!1}}else{c.visible=!0,l.visible=!1,c.getChildAt(c.numChildren-1).text=O3.tr(119,this.skillData[0].count)}this.updateInfo(this.skillData[0])},t.prototype.updateInfo=function(t){var e=this.init["skillName"+(this.index+1)].value;if(this.lbName.textFlow=M18.HTP.parse(O3.tr(4110,e)),this.lbClass.text=O3.tr(1331,t.sl),t.sl){var i=this.skill[t.si+""][t.sl-1];if(this.lbCurAttr.textFlow=M18.HTP.parse(i.desc),i&&i.cost){var s=i.cost.split(":"),o=N12.gID(s[0]);this.grpEffect0.visible=this.grpEffect0.includeInLayout=this.grpUpgrade.visible=!0,this.grpEffect2.visible=this.grpEffect2.includeInLayout=this.grpNo.visible=!1;var r=O3.tr(1300,o.name,s[1]);this.lbExpend.textFlow=M18.HTP.parser(r),this.lbOwn.text=N12.giC(s[0])+"",this.lbOwn.textColor=parseInt(this.lbOwn.text)>=s[1]?7716890:14164514,this.btnUpgrade.imgNew.visible=parseInt(this.lbOwn.text)>=s[1],this.imgHead.source=N12.FJ86(s[0]),this.imgQuality.source=N12.getBox(N12.base[s[0]].quality)}else this.grpUpgrade.visible=!1;var n=N13.getData(i.attr);for(var a in n)for(var h in n[a])this["lbNowAttr"+a].text=O3.tr(1330,K18.attribute[h].name),this["lbNowNum"+a].text=n[a][h]}else{this.grpEffect0.visible=this.grpEffect0.includeInLayout=this.grpUpgrade.visible=!1,this.grpEffect2.visible=this.grpEffect2.includeInLayout=this.grpNo.visible=!0;i=this.skill[t.si+""][t.sl];10001==t.si?O3.tr(120,t.count):10002==t.si?O3.tr(120,t.count):10003==t.si?O3.tr(120,t.count):10004==t.si&&O3.tr(120,t.count)}if(t.sl!=this.skill[t.si+""].length){this.lbReach.visible=!1;var p=this.skill[t.si+""][t.sl+""];this.lbNextAttr.visible=!0,this.lbNextAttr.textFlow=M18.HTP.parse(p.desc)}else this.lbNextAttr.visible=!1,this.grpUpgrade.visible=!1,this.lbReach.visible=!0},t.prototype.ZV2=function(t){var e;return 0==t?e=this.init.animalLv.value:1==t?e=this.init.psychicLv.value:2==t?e=this.init.spiritLv.value:3==t&&(e=this.init.soulLv.value),e},t}(BaseEuiView);__reflect(AnimalSkillOne.prototype,"AnimalSkillOne");var AnimalSkinDataItem=function(e){function t(){var t=e.call(this)||this;return t.addEventListener(egret.Event.ADDED_TO_STAGE,t.open,t),t.addEventListener(egret.Event.REMOVED_FROM_STAGE,t.close,t),t}return __extends(t,e),t.prototype.open=function(){this.addEventListener(egret.TouchEvent.TOUCH_TAP,this.ZV4,this)},t.prototype.close=function(){this.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.ZV4,this),App.THH32.rEf(this,"wdsg_pf_paizi_tx_001")},t.prototype.ZV4=function(){App.CM.apF(O6.B91,L12.A68,this.itemIndex)},t.prototype.dataChanged=function(){var t=App.CM.gtM(O6.B91).ao;if(0<=t.acs.indexOf(this.data.id))this.imgGet.visible=!0,this.imgNew.visible=!1,this.lbName.textColor=11481344;else{this.imgGet.visible=!1,this.lbName.textColor=11301691;var e=N12.giC(this.data.itemid);this.imgNew.visible=0<e}this.grpHave.visible=t.s==this.data.id,this.data.isShow?P7.FM14()?App.THH32.aUE(this,"wdsg_pf_paizi_tx_001",157,43):App.THH32.aUE(this,"wdsg_pf_paizi_tx_001",53.5,157):App.THH32.rEf(this,"wdsg_pf_paizi_tx_001"),this.imgOn.visible=this.data.isShow,this.lbName.text=this.data.name},t}(eui.ItemRenderer);__reflect(AnimalSkinDataItem.prototype,"AnimalSkinDataItem");var AnimalSoulView=function(s){function t(t,e){var i=s.call(this,t,e)||this;return i.haveNum=0,i.timerArray=[],i.skinPower=0,i.danPower=0,i.raiPower=0,i.skillPower=0,i.equipPower=0,i.isAutoSelfRai=!1,i.skinName=AnimalViewSkin,i.skillData.dataProvider=i.skillCollection=new eui.ArrayCollection,i.skillData.itemRenderer=AnimalSkillDataItem,i.equipData.dataProvider=i.equipCollection=new eui.ArrayCollection,i.equipData.itemRenderer=AttrEquipDataItem,i.btnSkin.$setVisible(!1),i}return __extends(t,s),t.prototype.initUI=function(){s.prototype.initUI.call(this),this.classData=K19.FHH90(!1),this.lbStr1.textFlow=M18.HTP.parse(O3.tr(4130)),this.lbStr2.textFlow=M18.HTP.parse(O3.tr(4131)),this.lbStr3.textFlow=M18.HTP.parse(O3.tr(4132)),this.lbStr4.textFlow=M18.HTP.parse(O3.tr(4133)),this.lbShort.textFlow=M18.HTP.parse(O3.tr(4136)),this.btnChange.label=O3.tr(4142),this.btnEquip.label=O3.tr(4143),this.btnRaising.label=O3.tr(4144),this.btnSelfRai.label=O3.tr(4145),this.btnStop.label=O3.tr(4146),this.cbAutoSmelt.label=O3.tr(4731)},t.prototype.open=function(){this.getData(),this.updateMain(),this.ZN26(),this.initPBarPro(),this.useExpDan(),this.isCanUpDate=!0,this.btnDan.addEventListener(egret.TouchEvent.TOUCH_TAP,this.openDanView,this),this.btnExpDan.addEventListener(egret.TouchEvent.TOUCH_TAP,this.useExpDan,this),this.btnAward.addEventListener(egret.TouchEvent.TOUCH_TAP,this.ZV5,this),this.attriCheck.addEventListener(egret.TouchEvent.TOUCH_TAP,this.openAddView,this),this.btnLeft.addEventListener(egret.TouchEvent.TOUCH_TAP,this.showPhase,this),this.btnRight.addEventListener(egret.TouchEvent.TOUCH_TAP,this.showPhase,this),this.btnRaising.addEventListener(egret.TouchEvent.TOUCH_TAP,this.raising,this),this.btnSelfRai.addEventListener(egret.TouchEvent.TOUCH_TAP,this.autoRaising,this),this.btnAddOne.addEventListener(egret.TouchEvent.TOUCH_TAP,this.addOne,this),this.imgDan.addEventListener(egret.TouchEvent.TOUCH_TAP,this.openProsView,this),this.btnStop.addEventListener(egret.TouchEvent.TOUCH_TAP,this.stopAuto,this),this.btnChange.addEventListener(egret.TouchEvent.TOUCH_TAP,this.canChange,this),this.btnEquip.addEventListener(egret.TouchEvent.TOUCH_TAP,this.aKeyPull,this),this.cbAutoSmelt.addEventListener(egret.Event.CHANGE,this.autoSmelt,this),this.btnReveal.addEventListener(egret.TouchEvent.TOUCH_TAP,this.GI10,this),this.ZN25(),this.ZN24(Action.Attack)},t.prototype.close=function(){this.btnDan.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.openDanView,this),this.btnExpDan.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.useExpDan,this),this.btnAward.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.ZV5,this),this.attriCheck.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.openAddView,this),this.btnLeft.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.showPhase,this),this.btnRight.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.showPhase,this),this.btnRaising.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.raising,this),this.btnSelfRai.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.autoRaising,this),this.btnAddOne.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.addOne,this),this.imgDan.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.openProsView,this),this.btnStop.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.stopAuto,this),this.btnChange.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.canChange,this),this.btnEquip.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.aKeyPull,this),this.cbAutoSmelt.removeEventListener(egret.Event.CHANGE,this.autoSmelt,this),this.btnReveal.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.GI10,this),this.closeHandler(),this.stopAuto(),this.model=null,this.equipCollection.removeAll(),this.gpBoss.removeChildren(),this.objBoss.destory(),this.objBoss=null,this.hisLe=null,this.isCanUpDate=null,this.classData=null,this.arr=null,egret.Tween.removeTweens(this.pBarPro.imgShort),egret.Tween.removeTweens(this.pBarPro),egret.Tween.removeTweens(this.lbAddExp)},t.prototype.GI10=function(){TG76.FI91(E5.A4),App.CM.apF(O6.B95,M4.A4,this.arr)},t.prototype.autoSmelt=function(){TG40.playClickEffect()},t.prototype.raising=function(){this.ZQ92(!1,!1)},t.prototype.autoRaising=function(){this.autoUpgrade(!1)},t.prototype.openDanHint=function(){this.btnAddOne.imgNew.visible&&this.addOne()},t.prototype.closeHandler=function(){for(var t=0;t<this.timerArray.length;t++)App.K16.rBH(this.timerArray[t]),this.timerArray[t]=null;this.timerArray=[]},t.prototype.aKeyPull=function(){this.apF(L12.A37)},t.prototype.canChange=function(){var t=App.CM.gtM(O6.B91);this.model=t.aso,this.apF(L12.A25,this.num)},t.prototype.addOne=function(){this.btnAddOne.imgNew.visible?this.aCF(O6.C18,O10.A5,L12.A76):P18.sDP(O3.tr(1317))},t.prototype.openProsView=function(){var t=N12.gID(K19.init.soulAdvItem.value);this.aCF(O6.C11,O14.A15,t,this.haveNum)},t.prototype.useExpDan=function(){this.btnExpDan.visible&&this.aCF(O6.C18,O10.A5,L12.A76,!0)},t.prototype.ZN25=function(){var t=App.CM.gtM(O6.B91);this.btnReveal.imgNew.visible=!!t.redNum4},t.prototype.getData=function(){var t=App.CM.gtM(O6.B98),e=App.CM.gtM(O6.B91);this.model=e.aso,this.model&&!this.isAutoSelfRai&&(this.num=this.model.lv,this.fitDreData=t.aSoulEquip.sort(function(t,e){return t.i-e.i}),this.canASoulEquip=t.canASoulEquip,this.ZK15())},t.prototype.sureStop=function(){this.btnStop.visible&&this.stopAuto()},t.prototype.openDanView=function(){this.sureStop(),App.VM.open(O7.HH53,4)},t.prototype.ZV5=function(){this.sureStop(),App.CM.apF(O6.C12,O8.A93,O8.B4.ASOUL)},t.prototype.openAddView=function(){var t={power:this.scoreLb.text,index:1,type:4};App.VM.open(O7.E17,t)},t.prototype.showPhase=function(t){var e;switch(t.target.name){case"-":0<this.num&&(this.num-=1,this.btnRight.enabled=!0,P16.sGF(this.btnRight,!1)),this.btnRight.imgEnd.visible=this.num>=this.model.lv,e=1==this.num,P16.sGF(this.btnLeft,e),this.btnLeft.enabled=!e;break;case"+":e=this.num<=this.model.lv&&K19.soul[this.num+1+""],this.num!=this.model.lv&&K19.soul[this.num+1+""]||(this.btnRight.enabled=!1,P16.sGF(this.btnRight,!0)),e&&(this.num+=1,P16.sGF(this.btnLeft,!1),this.btnLeft.enabled=!0),this.btnRight.imgEnd.visible=this.num>=this.model.lv}this.realTime(),this.ZN24(Action.Stand)},t.prototype.updateChange=function(t){this.num>t.lv||(t.s==K19.soul[this.num+""].skinid?(this.btnChange.visible=this.grpAddPower.visible=!1,this.btnEquip.visible||(this.grpHave.visible=!0)):(this.btnEquip.visible||(this.btnChange.visible=!0),this.grpHave.visible=this.grpAddPower.visible=!1))},t.prototype.realTime=function(){if(this.generalLv.text=O3.tr(1332,K19.soul[this.num+""].level),this.updateChange(this.model),this.num==this.model.lv+1){this.btnChange.visible=this.grpHave.visible=!1,this.btnEquip.visible||(this.grpAddPower.visible=!0);var t=K19.soul[this.num+""].baseattr,e=K19.soul[this.num-1+""].addattr,i=Math.floor(M10.gAG(t)+M10.gAG(e)*K19.soul[this.num-1+""].exp/K19.init.soulAdvExp.value);this.lbPower.textFlow=M18.HTP.parse(O3.tr(4134,i))}},t.prototype.ZN24=function(t){this.objBoss||(this.objBoss=new FightGameObject);var e=App.CM.gtM(O6.B91),i=e.ao.s?e.ao.s:K19.init.initialSkin.value,s=K19.soul[this.num+""].skinid,o=t==Action.Attack?1:null,r={id:i,x:0,y:0,dir:Dir.br,objType:P13.A6,ass:s,bt:BehaviourType.Attack_d,sr:o};this.objBoss.setData(r,this.gpBoss),this.objBoss.action=Action.Stand},t.prototype.uBM=function(t,e){if(s.prototype.uBM.call(this,t,e),this.ZN25(),t instanceof TG8)switch(e){case P4.J94:this.littleAddExp(t),this.ZN26();break;case P4.G56:this.addExp(),this.ZN26();break;case P4.E95:this.updateChange(t.aso);break;case P4.V43:this.isCanUpDate&&this.getData();break;case P4.Y11:this.getData(),this.initPBarPro();break;case P4.G58:case P4.J96:case P4.I15:case P4.G54:this.getData()}t instanceof THH9&&this.getData(),t instanceof TG58&&this.getData()},t.prototype.ZN26=function(){this.btnExpDan.visible=!1;var t=N12.giC(parseInt(K19.init.soulUpItem.value));(this.btnAddOne.visible=!(t<=0),K19.expDanData4[this.num+""]&&-1!==K19.soul[this.num+""].exp)&&(N12.giC(K19.expDanData4[this.num+""])&&(this.btnExpDan.visible=this.btnExpDan.imgNew.visible=!0,this.btnAddOne.$setVisible(!1)))},t.prototype.littleAddExp=function(t){this.enabledBtn(!1);var e=this.pBarPro.value,i=0,s=1;e+(i=t.aso.e>=e?t.aso.e-e:this.pBarPro.maximum-e+t.aso.e)>this.pBarPro.maximum&&(s+=1),this.updataExp(e,i,s)},t.prototype.enabledBtn=function(t){this.btnRaising.enabled=this.btnAddOne.enabled=this.btnSelfRai.enabled=t},t.prototype.addExp=function(){var t=this.model.lv,e=this.model.le,i=K19.soul[t+""].level,s=this.pBarPro.value,o=0,r=1;s+(o=App.CM.gtM(O6.B91).isUseNow4?this.hisLe<e?e-this.hisLe:this.pBarPro.maximum-s+e:i<=6&&0==this.model.e?this.pBarPro.maximum-s:parseInt(K19.init.soulUpLv.value))>this.pBarPro.maximum&&(r+=1),this.updataExp(s,o,r)},t.prototype.ZK15=function(){var t;t=1==this.num,P16.sGF(this.btnLeft,t),P16.sGF(this.btnRight,!1),this.getDanPower(),this.FJ47(),this.FHH78(),this.ZV1(),this.btnLeft.enabled=!t,this.btnRight.enabled=!0;var e=App.CM.gtM(O6.B91);this.btnAward.imgNew.visible=0<e.ZC92(4),-1!=K19.soul[this.num+""].exp&&(this.pBarPro.maximum=K19.soul[this.num+""].exp,this.pBarPro.value=this.model.e),this.summit();var i=N12.giC(parseInt(K19.init.soulAttrItem.value)),s=!1;K18.init.attrUseMax.value>this.model.er&&(s=!!i),this.btnDan.imgNew.visible=s;var o,r,n=[],a=App.CM.gtM(O6.B82).avatarInfo.l;for(var h in K19.skillGroup){o=parseInt(h);break}var p=this.ZV2();r=p<=a?e.aso.sl||1:0,o+=3,n.push({si:o,sl:r,count:p,index:3,type:4});this.skillCollection.replaceAll(n),this.scoreLb.text=Math.round(this.skinPower+this.danPower+this.raiPower+this.skillPower+this.equipPower)+"",this.btnEquip.visible=!1;for(var l=[{},{},{},{}],c=1;c<=l.length;c++){for(var u=0;u<this.fitDreData.length;u++){if(c==M10.FD92(this.fitDreData[u].i,this.fitDreData[u].t).pos){l[c-1]={i:this.fitDreData[u].i,ok:!0,isNew:!1,t:this.fitDreData[u].t};break}}if("{}"==JSON.stringify(l[c-1]))for(var h in M10.asoul)if(M10.asoul[h].pos==c){l[c-1]={i:M10.asoul[h].id,ok:!1,isNew:!1,t:M10.asoul[h].equiptype};break}}for(u=1;u<=l.length;u++)0<=this.canASoulEquip.indexOf(u.toString())&&(l[u-1].isNew=!0,this.btnEquip.visible=!0,this.btnEquip.imgNew.visible=!0,this.grpHave.visible=!1,this.btnChange.visible=!1);this.realTime(),this.equipCollection.replaceAll(l)},t.prototype.ZV2=function(){return K19.init.soulLv.value},t.prototype.updateMain=function(){this.skillName.text=O3.tr(124),this.imgGlod.source=N12.FJ86(pack.I11.COIN),this.imgDan.source=N12.FJ86(K19.init.soulAdvItem.value)},t.prototype.initPBarPro=function(){this.pBarPro.slideDuration=0;var t=this.model.le;this.hisLe=t,this.lbShort.visible=!!t,this.pBarPro.imgShort.width=t?this.pBarPro.width*(t/this.pBarPro.maximum):0,this.pBarPro.imgShort.x=this.pBarPro.width*(this.pBarPro.value/this.pBarPro.maximum)-this.pBarPro.imgShort.width},t.prototype.canExpend=function(){var t=this,e=App.CM.gtM(O6.B91);if(e.isOpenUseYbView4)if(this.btnRaising.filters){var i=function(){t.autoUpgrade(!0),e.isOpenUseYbView4=!1};App.VM.open(O7.HH38,M18.FG71(O3.tr(3406)),this,i,void 0,this.stopAuto,void 0)}else{i=function(){t.ZQ92(!1,!0),e.isOpenUseYbView4=!1};App.VM.open(O7.HH38,M18.FG71(O3.tr(3406)),this,i,void 0,this.stopAuto,void 0)}else this.autoUpgrade(!0)},t.prototype.ZQ92=function(t,e){var i=App.CM.gtM(O6.B82),s=App.CM.gtM(O6.B91),o=N12.giC(parseInt(K19.init.timeItem4.value)),r=N12.giC(parseInt(K19.init.soulAdvItem.value))+o,n=1,a=K19.soul[this.model.lv].elixir-r;if(0<a&&!this.cbAutoSmelt.selected)return App.VM.open(O7.G87,K19.init.soulAdvItem.value,K19.soul[this.model.lv].elixir-r),t&&this.stopAuto(),!1;if(K19.soul[this.model.lv].cash>i.avatarInfo.co)return App.VM.open(O7.F12),t&&this.stopAuto(),!1;if(this.cbAutoSmelt.selected&&K19.soul[this.model.lv].cash<=i.avatarInfo.co&&0<a){var h=parseInt(K19.init.soulAdvItem.value),p=N15.FA50(h),l=N15.FB92(h),c=K19.soul[this.model.lv+""].elixir;if(i.avatarInfo.bg>=p)n=2;else{if(!e&&s.isOpenUseYbView4)return this.canExpend(),this.closeHandler(),!1;if(!(i.avatarInfo.g>=l*(r?c-r:c)))return P7.FA78(),this.stopAuto(),!1;n=3}}return this.apF(L12.A39,n),s.isUseNow4=0<o,!0},t.prototype.autoUpgrade=function(t){var e=this;this.isAutoSelfRai=!0,this.btnStop.visible=!0,this.btnSelfRai.visible=!1,this.btnRaising.imgNew.visible=!1,this.btnRaising.filters||P16.sGF(this.btnRaising,!0),this.enabledBtn(!1);var i,s=this,o=(this.pBarPro.maximum-this.pBarPro.value)/parseInt(K19.init.soulAdvExp.value);if(t||(i=this.ZQ92(!0,!1))&&(o-=1),t||i){var r=App.K16.doTimer(500,o,function(){s.ZQ92(!0,t)},s,function(){e.stopAuto()});this.timerArray.push(r)}},t.prototype.stopAuto=function(){this.btnSelfRai.visible=!0,this.btnStop.visible=!1,this.isAutoSelfRai=!1,this.btnRaising.imgNew.visible=this.btnSelfRai.imgNew.visible,P16.sGF(this.btnRaising,!1),this.closeHandler(),this.enabledBtn(!0)},t.prototype.clearSkin=function(){this.apF(L12.A57,4),this.ZN26()},t.prototype.summit=function(){if(-1==K19.soul[this.model.lv+""].exp)return this.pBarPro.labelFunction=function(t,e){return O3.tr(1463)},this.lbShort.visible=!1,this.pBarPro.maximum=this.pBarPro.value=100,this.pBarPro.imgShort.width=0,P16.sGF(this.btnRaising,!0),P16.sGF(this.btnSelfRai,!0),P16.sGF(this.btnStop,!0),this.cbAutoSmelt.visible=this.costGrp.visible=this.btnRaising.imgNew.visible=this.btnSelfRai.imgNew.visible=this.btnRaising.enabled=this.btnStop.enabled=this.btnSelfRai.enabled=!1,!1;this.pBarPro.labelFunction=null,this.haveNum=N12.giC(parseInt(K19.init.soulAdvItem.value))+N12.giC(parseInt(K19.init.timeItem4.value));var t;t=K19.soul[this.num+""].elixir,this.haveNum>=t?this.lbAmount.textFlow=M18.HTP.parse(O3.tr(4138,this.haveNum,t)):this.lbAmount.textFlow=M18.HTP.parse(O3.tr(4139,this.haveNum,t));var e=App.CM.gtM(O6.B82);return K19.soul[this.num+""].cash<=e.avatarInfo.co?this.lbPay.textFlow=M18.HTP.parse(O3.tr(4140,K19.psychic[this.num+""].cash)):this.lbPay.textFlow=M18.HTP.parse(O3.tr(4141,K19.psychic[this.num+""].cash)),this.haveNum>=t&&K19.soul[this.num+""].cash<=e.avatarInfo.co?(this.btnRaising.filters||(this.btnRaising.imgNew.visible=!0),this.btnSelfRai.imgNew.visible=!0):this.btnRaising.imgNew.visible=this.btnSelfRai.imgNew.visible=!1,this.btnAddOne.imgNew.visible=0<N12.giC(parseInt(K19.init.soulUpItem.value)),!0},t.prototype.updataExp=function(t,e,i){var h=this.model.le;if(!this.summit())return this.getData(),this.clearSkin(),void this.enabledBtn(!1);this.isCanUpDate=!1;var p=this,l=function(t,e,i){var s,o=0,r=p.num;(s=((o=e+i>=p.pBarPro.maximum?(i-=p.pBarPro.maximum-e,p.pBarPro.maximum):i+e)-p.pBarPro.value)/p.pBarPro.maximum*1e3)<250&&(s=250);var n=p.pBarPro.width*(h/p.pBarPro.maximum),a=p.pBarPro.width*((o-h)/p.pBarPro.maximum);App.CM.gtM(O6.B91).isUseNow4?(p.hisLe>h&&(n=p.pBarPro.width-p.pBarPro.imgShort.x),p.hisLe=h,egret.Tween.get(p.pBarPro.imgShort).to({width:n},s)):(p.hisLe>h&&(a=p.pBarPro.width-p.pBarPro.imgShort.width),egret.Tween.get(p.pBarPro.imgShort).to({x:a},s),p.hisLe=h),egret.Tween.get(p.pBarPro).to({value:o},s).wait(10).call(function(){(egret.Tween.removeTweens(p.pBarPro),p.lbAddExp.textFlow=M18.HTP.parse(O3.tr(4137,K19.init.soulAdvExp.value)),p.lbShort.visible=!!h,p.pBarPro.value==p.pBarPro.maximum)&&(e=0,r+=1,p.pBarPro.maximum=K19.soul[r+""].exp,egret.Tween.removeTweens(p.pBarPro.imgShort),p.pBarPro.value=p.pBarPro.slideDuration=p.pBarPro.imgShort.width=p.pBarPro.imgShort.x=0,0<t-1?l(--t,e,i):this.isCanUpDate=!0,App.CM.gtM(O6.B98).ZW35(),p.stopAuto(),p.getData(),p.clearSkin());egret.Tween.get(p.lbAddExp).to({visible:!0}).to({y:p.lbAddExp.y-15},200).call(function(){p.lbAddExp.y=60,p.lbAddExp.visible=!1,p.getData(),egret.Tween.removeTweens(p.lbAddExp)}),p.enabledBtn(!0)})};l(i,t,e)},t.prototype.getDanPower=function(){this.danPower=0;var t=K19.init.soulAttr.value,e=N13.getData(t);for(var i in e)for(var s in e[i]){var o=parseInt(e[i][s])*K18.attribute[s].power*this.model.er;this.danPower+=o}},t.prototype.FHH78=function(){this.skillPower=0},t.prototype.ZV1=function(){for(var t=this.fitDreData,e=this.equipPower=0;e<t.length;e++){var i=M10.FD92(t[e].i,t[e].t),s=M10.gAG(i.attr)+M10.gAG(i.addattr)*i.addlevel;this.equipPower+=s}},t.prototype.FJ47=function(){var t=this.model.lv,e=this.model.e;this.raiPower=0,this.count=0,this.arr={101:0,102:0,103:0},this.getCount(t);for(var i=0;i<this.count;i++){var s=K19.soul[t-i+""].baseattr,o=K19.soul[t-i+""].addattr,r=t-i,n=N13.getData(s),a=N13.getData(o);if(0==i)for(var h in a)for(var p in a[h]){var l=parseInt(a[h][p])*e/K19.init.soulAdvExp.value*K18.attribute[p].power;this.raiPower+=l;var c=parseInt(a[h][p])*e/K19.init.soulAdvExp.value;0<=(u=L3.strs.indexOf(K18.attribute[p].name))&&(this.arr["10"+(u+1)]+=c)}else for(var h in a)for(var p in a[h]){this.raiPower+=parseInt(a[h][p])*K19.soul[r+""].exp/K19.init.soulAdvExp.value*K18.attribute[p].power,0<=(u=L3.strs.indexOf(K18.attribute[p].name))&&(this.arr["10"+(u+1)]+=parseInt(a[h][p])*K19.soul[r+""].exp/K19.init.soulAdvExp.value)}for(var h in n)for(var p in n[h]){var u;this.raiPower+=parseInt(n[h][p])*K18.attribute[p].power,0<=(u=L3.strs.indexOf(K18.attribute[p].name))&&(this.arr["10"+(u+1)]+=parseInt(n[h][p]))}}},t.prototype.getCount=function(t){K19.soul[t+""]&&(this.count+=1,this.getCount(t-1))},t}(BaseEuiView);__reflect(AnimalSoulView.prototype,"AnimalSoulView");var AnimalSpiritView=function(s){function t(t,e){var i=s.call(this,t,e)||this;return i.haveNum=0,i.timerArray=[],i.skinPower=0,i.danPower=0,i.raiPower=0,i.skillPower=0,i.equipPower=0,i.isAutoSelfRai=!1,i.skinName=AnimalViewSkin,i.skillData.dataProvider=i.skillCollection=new eui.ArrayCollection,i.skillData.itemRenderer=AnimalSkillDataItem,i.equipData.dataProvider=i.equipCollection=new eui.ArrayCollection,i.equipData.itemRenderer=AttrEquipDataItem,i.btnSkin.$setVisible(!1),i}return __extends(t,s),t.prototype.initUI=function(){s.prototype.initUI.call(this),this.classData=K19.FHH90(!1),this.lbStr1.textFlow=M18.HTP.parse(O3.tr(4113)),this.lbStr2.textFlow=M18.HTP.parse(O3.tr(4114)),this.lbStr3.textFlow=M18.HTP.parse(O3.tr(4115)),this.lbStr4.textFlow=M18.HTP.parse(O3.tr(4116)),this.lbShort.textFlow=M18.HTP.parse(O3.tr(4119)),this.btnChange.label=O3.tr(4125),this.btnEquip.label=O3.tr(4126),this.btnRaising.label=O3.tr(4127),this.btnSelfRai.label=O3.tr(4128),this.btnStop.label=O3.tr(4129),this.cbAutoSmelt.label=O3.tr(4731)},t.prototype.open=function(){this.getData(),this.updateMain(),this.ZN26(),this.initPBarPro(),this.useExpDan(),this.isCanUpDate=!0,this.btnDan.addEventListener(egret.TouchEvent.TOUCH_TAP,this.openDanView,this),this.btnExpDan.addEventListener(egret.TouchEvent.TOUCH_TAP,this.useExpDan,this),this.btnAward.addEventListener(egret.TouchEvent.TOUCH_TAP,this.ZV5,this),this.attriCheck.addEventListener(egret.TouchEvent.TOUCH_TAP,this.openAddView,this),this.btnLeft.addEventListener(egret.TouchEvent.TOUCH_TAP,this.showPhase,this),this.btnRight.addEventListener(egret.TouchEvent.TOUCH_TAP,this.showPhase,this),this.btnRaising.addEventListener(egret.TouchEvent.TOUCH_TAP,this.raising,this),this.btnSelfRai.addEventListener(egret.TouchEvent.TOUCH_TAP,this.autoRaising,this),this.btnAddOne.addEventListener(egret.TouchEvent.TOUCH_TAP,this.addOne,this),this.imgDan.addEventListener(egret.TouchEvent.TOUCH_TAP,this.openProsView,this),this.btnStop.addEventListener(egret.TouchEvent.TOUCH_TAP,this.stopAuto,this),this.btnChange.addEventListener(egret.TouchEvent.TOUCH_TAP,this.canChange,this),this.btnEquip.addEventListener(egret.TouchEvent.TOUCH_TAP,this.aKeyPull,this),this.cbAutoSmelt.addEventListener(egret.Event.CHANGE,this.autoSmelt,this),this.btnReveal.addEventListener(egret.TouchEvent.TOUCH_TAP,this.GI10,this),this.ZN25(),this.ZN24()},t.prototype.close=function(){this.btnDan.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.openDanView,this),this.btnExpDan.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.useExpDan,this),this.btnAward.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.ZV5,this),this.attriCheck.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.openAddView,this),this.btnLeft.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.showPhase,this),this.btnRight.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.showPhase,this),this.btnRaising.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.raising,this),this.btnSelfRai.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.autoRaising,this),this.btnAddOne.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.addOne,this),this.imgDan.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.openProsView,this),this.btnStop.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.stopAuto,this),this.btnChange.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.canChange,this),this.btnEquip.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.aKeyPull,this),this.cbAutoSmelt.removeEventListener(egret.Event.CHANGE,this.autoSmelt,this),this.btnReveal.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.GI10,this),this.closeHandler(),this.stopAuto(),this.gpBoss.removeChildren(),this.objBoss.destory(),this.objBoss=null,this.model=null,this.num=null,this.fitDreData=null,this.canSpiritEquip=null,this.hisLe=null,this.arr=null,egret.Tween.removeTweens(this.pBarPro.imgShort),egret.Tween.removeTweens(this.pBarPro),egret.Tween.removeTweens(this.lbAddExp)},t.prototype.GI10=function(){TG76.FI91(E5.A2),App.CM.apF(O6.B95,M4.A4,this.arr)},t.prototype.autoSmelt=function(){TG40.playClickEffect()},t.prototype.raising=function(){this.ZQ92(!1,!1)},t.prototype.autoRaising=function(){this.autoUpgrade(!1)},t.prototype.openDanHint=function(){this.btnAddOne.imgNew.visible&&this.addOne()},t.prototype.closeHandler=function(){for(var t=0;t<this.timerArray.length;t++)App.K16.rBH(this.timerArray[t]),this.timerArray[t]=null;this.timerArray=[]},t.prototype.aKeyPull=function(){this.apF(L12.A23)},t.prototype.canChange=function(){var t=App.CM.gtM(O6.B91);this.model=t.aspo,this.apF(L12.A7,this.num)},t.prototype.addOne=function(){this.btnAddOne.imgNew.visible?this.aCF(O6.C18,O10.A5,L12.A75):P18.sDP(O3.tr(1317))},t.prototype.openProsView=function(){var t=N12.gID(K19.init.spiritAdvItem.value);this.aCF(O6.C11,O14.A15,t,this.haveNum)},t.prototype.useExpDan=function(){this.btnExpDan.visible&&this.aCF(O6.C18,O10.A5,L12.A75,!0)},t.prototype.ZN25=function(){var t=App.CM.gtM(O6.B91);this.btnReveal.imgNew.visible=!!t.redNum3},t.prototype.getData=function(){var t=App.CM.gtM(O6.B98),e=App.CM.gtM(O6.B91);this.model=e.aspo,this.model&&!this.isAutoSelfRai&&(this.num=this.model.lv,this.fitDreData=t.spiritEquip.sort(function(t,e){return t.i-e.i}),this.canSpiritEquip=t.canSpiritEquip,this.ZK15())},t.prototype.sureStop=function(){this.btnStop.visible&&this.stopAuto()},t.prototype.openDanView=function(){this.sureStop(),App.VM.open(O7.HH53,3)},t.prototype.ZV5=function(){this.sureStop(),App.CM.apF(O6.C12,O8.A93,O8.B4.SPIRIT)},t.prototype.openAddView=function(){var t={power:this.scoreLb.text,index:1,type:3};App.VM.open(O7.E17,t)},t.prototype.showPhase=function(t){var e;switch(t.target.name){case"-":0<this.num&&(this.num-=1,this.btnRight.enabled=!0,P16.sGF(this.btnRight,!1)),this.btnRight.imgEnd.visible=this.num>=this.model.lv,e=1==this.num,P16.sGF(this.btnLeft,e),this.btnLeft.enabled=!e;break;case"+":e=this.num<=this.model.lv&&K19.spirit[this.num+1+""],this.num!=this.model.lv&&K19.spirit[this.num+1+""]||(this.btnRight.enabled=!1,P16.sGF(this.btnRight,!0)),e&&(this.num+=1,P16.sGF(this.btnLeft,!1),this.btnLeft.enabled=!0),this.btnRight.imgEnd.visible=this.num>=this.model.lv}this.realTime()},t.prototype.updateChange=function(t){this.num>t.lv||(t.s==K19.spirit[this.num+""].skinid?(this.btnChange.visible=this.grpAddPower.visible=!1,this.btnEquip.visible||(this.grpHave.visible=!0)):(this.btnEquip.visible||(this.btnChange.visible=!0),this.grpHave.visible=this.grpAddPower.visible=!1))},t.prototype.realTime=function(){if(this.generalLv.text=O3.tr(1332,K19.spirit[this.num+""].level),this.updateChange(this.model),this.num==this.model.lv+1){this.btnChange.visible=this.grpHave.visible=!1,this.btnEquip.visible||(this.grpAddPower.visible=!0);var t=K19.spirit[this.num+""].baseattr,e=K19.spirit[this.num-1+""].addattr,i=Math.floor(M10.gAG(t)+M10.gAG(e)*K19.spirit[this.num-1+""].exp/K19.init.spiritAdvExp.value);this.lbPower.textFlow=M18.HTP.parse(O3.tr(4117,i))}},t.prototype.ZN24=function(){this.objBoss||(this.objBoss=new FightGameObject);var t=App.CM.gtM(O6.B91),e={id:t.ao.s?t.ao.s:K19.init.initialSkin.value,x:0,y:0,dir:Dir.br,objType:P13.A6,bt:BehaviourType.Attack_d,sr:1};this.objBoss.setData(e,this.gpBoss),this.objBoss.action=Action.Stand},t.prototype.uBM=function(t,e){if(s.prototype.uBM.call(this,t,e),this.ZN25(),t instanceof TG8)switch(e){case P4.G50:this.littleAddExp(t),this.ZN26();break;case P4.D72:this.addExp(),this.ZN26();break;case P4.C81:this.updateChange(t.aspo);break;case P4.V43:this.isCanUpDate&&this.getData();break;case P4.Y11:this.getData(),this.initPBarPro();break;case P4.D74:case P4.G52:case P4.E93:case P4.D70:this.getData()}t instanceof THH9&&this.getData(),t instanceof TG58&&this.getData()},t.prototype.ZN26=function(){this.btnExpDan.visible=!1;var t=N12.giC(parseInt(K19.init.spiritUpItem.value));(this.btnAddOne.visible=!(t<=0),K19.expDanData3[this.num+""]&&-1!==K19.spirit[this.num+""].exp)&&(N12.giC(K19.expDanData3[this.num+""])&&(this.btnExpDan.visible=this.btnExpDan.imgNew.visible=!0,this.btnAddOne.$setVisible(!1)))},t.prototype.littleAddExp=function(t){this.enabledBtn(!1);var e=this.pBarPro.value,i=0,s=1;e+(i=t.aspo.e>=e?t.aspo.e-e:this.pBarPro.maximum-e+t.aspo.e)>this.pBarPro.maximum&&(s+=1),this.updataExp(e,i,s)},t.prototype.enabledBtn=function(t){this.btnRaising.enabled=this.btnAddOne.enabled=this.btnSelfRai.enabled=t},t.prototype.addExp=function(){var t=this.model.lv,e=this.model.le,i=K19.spirit[t+""].level,s=this.pBarPro.value,o=0,r=1;s+(o=App.CM.gtM(O6.B91).isUseNow3?this.hisLe<e?e-this.hisLe:this.pBarPro.maximum-s+e:i<=6&&0==this.model.e?this.pBarPro.maximum-s:parseInt(K19.init.spiritUpExp.value))>this.pBarPro.maximum&&(r+=1),this.updataExp(s,o,r)},t.prototype.ZK15=function(){var t;t=1==this.num,P16.sGF(this.btnLeft,t),P16.sGF(this.btnRight,!1),this.getDanPower(),this.FJ47(),this.FHH78(),this.ZV1(),this.btnLeft.enabled=!t,this.btnRight.enabled=!0;var e=App.CM.gtM(O6.B91);this.btnAward.imgNew.visible=0<e.ZC92(3),-1!=K19.spirit[this.num+""].exp&&(this.pBarPro.maximum=K19.spirit[this.num+""].exp,this.pBarPro.value=this.model.e),this.summit();var i=N12.giC(parseInt(K19.init.spiritAttrItem.value)),s=!1;K18.init.attrUseMax.value>this.model.er&&(s=!!i),this.btnDan.imgNew.visible=s;var o,r,n=[],a=App.CM.gtM(O6.B82).avatarInfo.l;for(var h in K19.skillGroup){o=parseInt(h);break}var p=this.ZV2();r=p<=a?e.aspo.sl||1:0,o+=2,n.push({si:o,sl:r,count:p,index:2,type:3});this.skillCollection.replaceAll(n),this.scoreLb.text=Math.round(this.skinPower+this.danPower+this.raiPower+this.skillPower+this.equipPower)+"",this.btnEquip.visible=!1;for(var l=[{},{},{},{}],c=1;c<=l.length;c++){for(var u=0;u<this.fitDreData.length;u++){if(c==M10.FD92(this.fitDreData[u].i,this.fitDreData[u].t).pos){l[c-1]={i:this.fitDreData[u].i,ok:!0,isNew:!1,t:this.fitDreData[u].t};break}}if("{}"==JSON.stringify(l[c-1]))for(var h in M10.spirit)if(M10.spirit[h].pos==c){l[c-1]={i:M10.spirit[h].id,ok:!1,isNew:!1,t:M10.spirit[h].equiptype};break}}for(u=1;u<=l.length;u++)0<=this.canSpiritEquip.indexOf(u.toString())&&(l[u-1].isNew=!0,this.btnEquip.visible=!0,this.btnEquip.imgNew.visible=!0,this.grpHave.visible=!1,this.btnChange.visible=!1);this.realTime(),this.equipCollection.replaceAll(l)},t.prototype.ZV2=function(){return K19.init.spiritLv.value},t.prototype.initPBarPro=function(){this.pBarPro.slideDuration=0;var t=this.model.le;this.hisLe=t,this.lbShort.visible=!!t,this.pBarPro.imgShort.width=t?this.pBarPro.width*(t/this.pBarPro.maximum):0,this.pBarPro.imgShort.x=this.pBarPro.width*(this.pBarPro.value/this.pBarPro.maximum)-this.pBarPro.imgShort.width},t.prototype.updateMain=function(){this.skillName.text=O3.tr(123),this.imgGlod.source=N12.FJ86(pack.I11.COIN),this.imgDan.source=N12.FJ86(K19.init.spiritAdvItem.value)},t.prototype.canExpend=function(){var t=this,e=App.CM.gtM(O6.B91);if(e.isOpenUseYbView3)if(this.btnRaising.filters){var i=function(){t.autoUpgrade(!0),e.isOpenUseYbView3=!1};App.VM.open(O7.HH38,M18.FG71(O3.tr(3406)),this,i,void 0,this.stopAuto,void 0)}else{i=function(){t.ZQ92(!1,!0),e.isOpenUseYbView3=!1};App.VM.open(O7.HH38,M18.FG71(O3.tr(3406)),this,i,void 0,this.stopAuto,void 0)}else this.autoUpgrade(!0)},t.prototype.ZQ92=function(t,e){var i=App.CM.gtM(O6.B82),s=App.CM.gtM(O6.B91),o=N12.giC(parseInt(K19.init.timeItem3.value)),r=N12.giC(parseInt(K19.init.spiritAdvItem.value))+o,n=1,a=K19.spirit[this.model.lv].elixir-r;if(0<a&&!this.cbAutoSmelt.selected)return App.VM.open(O7.G87,K19.init.spiritAdvItem.value,K19.spirit[this.model.lv].elixir-r),t&&this.stopAuto(),!1;if(K19.spirit[this.model.lv].cash>i.avatarInfo.co)return App.VM.open(O7.F12),t&&this.stopAuto(),!1;if(this.cbAutoSmelt.selected&&K19.spirit[this.model.lv].cash<=i.avatarInfo.co&&0<a){var h=parseInt(K19.init.spiritAdvItem.value),p=N15.FA50(h),l=N15.FB92(h),c=K19.spirit[this.model.lv+""].elixir;if(i.avatarInfo.bg>=p)n=2;else{if(!e&&s.isOpenUseYbView3)return this.canExpend(),this.closeHandler(),!1;if(!(i.avatarInfo.g>=l*(r?c-r:c)))return P7.FA78(),this.stopAuto(),!1;n=3}}return this.apF(L12.A27,n),s.isUseNow3=0<o,!0},t.prototype.autoUpgrade=function(t){var e=this;this.isAutoSelfRai=!0,this.btnStop.visible=!0,this.btnSelfRai.visible=!1,this.btnRaising.imgNew.visible=!1,this.btnRaising.filters||P16.sGF(this.btnRaising,!0),this.enabledBtn(!1);var i,s=this,o=(this.pBarPro.maximum-this.pBarPro.value)/parseInt(K19.init.spiritAdvExp.value);if(t||(i=this.ZQ92(!0,!1))&&(o-=1),t||i){var r=App.K16.doTimer(500,o,function(){s.ZQ92(!0,t)},s,function(){e.stopAuto()});this.timerArray.push(r)}},t.prototype.stopAuto=function(){this.btnSelfRai.visible=!0,this.btnStop.visible=!1,this.isAutoSelfRai=!1,this.btnRaising.imgNew.visible=this.btnSelfRai.imgNew.visible,P16.sGF(this.btnRaising,!1),this.closeHandler(),this.enabledBtn(!0)},t.prototype.clearSkin=function(){this.apF(L12.A57,3),this.ZN26()},t.prototype.summit=function(){if(-1==K19.spirit[this.model.lv+""].exp)return this.pBarPro.labelFunction=function(t,e){return O3.tr(1463)},this.lbShort.visible=!1,this.pBarPro.maximum=this.pBarPro.value=100,this.pBarPro.imgShort.width=0,P16.sGF(this.btnRaising,!0),P16.sGF(this.btnSelfRai,!0),P16.sGF(this.btnStop,!0),this.cbAutoSmelt.visible=this.costGrp.visible=this.btnRaising.imgNew.visible=this.btnSelfRai.imgNew.visible=this.btnRaising.enabled=this.btnStop.enabled=this.btnSelfRai.enabled=!1,!1;this.pBarPro.labelFunction=null,this.haveNum=N12.giC(parseInt(K19.init.spiritAdvItem.value))+N12.giC(parseInt(K19.init.timeItem3.value));var t;t=K19.spirit[this.num+""].elixir,this.haveNum>=t?this.lbAmount.textFlow=M18.HTP.parse(O3.tr(4121,this.haveNum,t)):this.lbAmount.textFlow=M18.HTP.parse(O3.tr(4122,this.haveNum,t));var e=App.CM.gtM(O6.B82);return K19.spirit[this.num+""].cash<=e.avatarInfo.co?this.lbPay.textFlow=M18.HTP.parse(O3.tr(4123,K19.psychic[this.num+""].cash)):this.lbPay.textFlow=M18.HTP.parse(O3.tr(4124,K19.psychic[this.num+""].cash)),this.haveNum>=t&&K19.spirit[this.num+""].cash<=e.avatarInfo.co?(this.btnRaising.filters||(this.btnRaising.imgNew.visible=!0),this.btnSelfRai.imgNew.visible=!0):this.btnRaising.imgNew.visible=this.btnSelfRai.imgNew.visible=!1,this.btnAddOne.imgNew.visible=0<N12.giC(parseInt(K19.init.spiritUpItem.value)),!0},t.prototype.updataExp=function(t,e,i){var h=this.model.le;if(!this.summit())return this.getData(),this.clearSkin(),void this.enabledBtn(!1);this.isCanUpDate=!1;var p=this,l=function(t,e,i){var s,o=0,r=p.num;(s=((o=e+i>=p.pBarPro.maximum?(i-=p.pBarPro.maximum-e,p.pBarPro.maximum):i+e)-p.pBarPro.value)/p.pBarPro.maximum*1e3)<250&&(s=250);var n=p.pBarPro.width*(h/p.pBarPro.maximum),a=p.pBarPro.width*((o-h)/p.pBarPro.maximum);App.CM.gtM(O6.B91).isUseNow3?(p.hisLe>h&&(n=p.pBarPro.width-p.pBarPro.imgShort.x),p.hisLe=h,egret.Tween.get(p.pBarPro.imgShort).to({width:n},s)):(p.hisLe>h&&(a=p.pBarPro.width-p.pBarPro.imgShort.width),egret.Tween.get(p.pBarPro.imgShort).to({x:a},s),p.hisLe=h),egret.Tween.get(p.pBarPro).to({value:o},s).wait(10).call(function(){(egret.Tween.removeTweens(p.pBarPro),p.lbAddExp.textFlow=M18.HTP.parse(O3.tr(4120,K19.init.spiritAdvExp.value)),p.lbShort.visible=!!h,p.pBarPro.value==p.pBarPro.maximum)&&(e=0,r+=1,p.pBarPro.maximum=K19.spirit[r+""].exp,egret.Tween.removeTweens(p.pBarPro.imgShort),p.pBarPro.value=p.pBarPro.slideDuration=p.pBarPro.imgShort.width=p.pBarPro.imgShort.x=0,0<t-1?l(--t,e,i):this.isCanUpDate=!0,App.CM.gtM(O6.B98).ZW35(),p.stopAuto(),p.getData(),p.clearSkin());egret.Tween.get(p.lbAddExp).to({visible:!0}).to({y:p.lbAddExp.y-15},200).call(function(){p.lbAddExp.y=60,p.lbAddExp.visible=!1,p.getData(),egret.Tween.removeTweens(p.lbAddExp)}),p.enabledBtn(!0)})};l(i,t,e)},t.prototype.getDanPower=function(){this.danPower=0;var t=K19.init.spiritAttr.value,e=N13.getData(t);for(var i in e)for(var s in e[i]){var o=parseInt(e[i][s])*K18.attribute[s].power*this.model.er;this.danPower+=o}},t.prototype.FHH78=function(){this.skillPower=0},t.prototype.ZV1=function(){for(var t=this.fitDreData,e=this.equipPower=0;e<t.length;e++){var i=M10.FD92(t[e].i,t[e].t),s=M10.gAG(i.attr)+M10.gAG(i.addattr)*i.addlevel;this.equipPower+=s}},t.prototype.FJ47=function(){var t=this.model.lv,e=this.model.e;this.raiPower=0,this.count=0,this.arr={101:0,102:0,103:0},this.getCount(t);for(var i=0;i<this.count;i++){var s=K19.spirit[t-i+""].baseattr,o=K19.spirit[t-i+""].addattr,r=t-i,n=N13.getData(s),a=N13.getData(o);if(0==i)for(var h in a)for(var p in a[h]){var l=parseInt(a[h][p])*e/K19.init.spiritAdvExp.value*K18.attribute[p].power;this.raiPower+=l;var c=parseInt(a[h][p])*e/K19.init.spiritAdvExp.value;0<=(u=L3.strs.indexOf(K18.attribute[p].name))&&(this.arr["10"+(u+1)]+=c)}else for(var h in a)for(var p in a[h]){this.raiPower+=parseInt(a[h][p])*K19.spirit[r+""].exp/K19.init.spiritAdvExp.value*K18.attribute[p].power,0<=(u=L3.strs.indexOf(K18.attribute[p].name))&&(this.arr["10"+(u+1)]+=parseInt(a[h][p])*K19.spirit[r+""].exp/K19.init.spiritAdvExp.value)}for(var h in n)for(var p in n[h]){var u;this.raiPower+=parseInt(n[h][p])*K18.attribute[p].power,0<=(u=L3.strs.indexOf(K18.attribute[p].name))&&(this.arr["10"+(u+1)]+=parseInt(n[h][p]))}}},t.prototype.getCount=function(t){K19.spirit[t+""]&&(this.count+=1,this.getCount(t-1))},t}(BaseEuiView);__reflect(AnimalSpiritView.prototype,"AnimalSpiritView");var AnimalUnlockView=function(s){function t(t,e){var i=s.call(this,t,e)||this;return i.skinName="AnimalUnlockSkin",i}return __extends(t,s),t.prototype.initUI=function(){s.prototype.initUI.call(this),this.skills=[this.skill1,this.skill2,this.skill3,this.skill4],this.recBtn.label=O3.tr(5794),this.lbStr1.textFlow=M18.HTP.parse(O3.tr(5796))},t.prototype.initData=function(){s.prototype.initData.call(this),this.giftItemCollection=new eui.ArrayCollection,this.giftGroup.itemRenderer=ItemIcon,this.giftGroup.dataProvider=this.giftItemCollection},t.prototype.open=function(){for(var t=0;t<this.skills.length;t++)this.skills[t].name=t.toString(),this.skills[t].addEventListener(egret.TouchEvent.TOUCH_TAP,this.ZQ93,this);this.btnClose.addEventListener(egret.TouchEvent.TOUCH_TAP,this.closeSelf,this),this.imgBg.addEventListener(egret.TouchEvent.TOUCH_TAP,this.closeSelf,this),this.recBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.ZN27,this),this.refreshView(),this.ZN24()},t.prototype.ZN24=function(){this.objBoss||(this.objBoss=new FightGameObject);var t={id:K19.init.initialSkin.value,x:0,y:0,dir:Dir.br,objType:P13.A6,bt:BehaviourType.Attack_d,sr:1};this.objBoss.setData(t,this.gpBoss),this.objBoss.action=Action.Stand},t.prototype.refreshView=function(){this.refreshSkill();var t=THH34.FK45(9).vipgift,e=new Array;if(t&&0<t.split(";").length){for(var i=t.split(";"),s=0;s<i.length;s++){var o=i[s].split(":")[0],r=i[s].split(":")[1],n=N12.gID(o),a={};a.data=n,a.ct=Number(r);var h={};h.itemData=a,h.scale=.9,h.isBottom=!1,e.push(h)}this.giftItemCollection.replaceAll(e)}O4.getVipLv()>=THH34.FJ1()&&(this.recBtn.label=O3.tr(5795),this.recBtn.imgNew.visible=!0)},t.prototype.refreshSkill=function(){for(var t=0;t<this.skills.length;t++)this.skills[t].imgHead.source=K19.init["skillIcon"+(t+1)].value,this.skills[t].lbNum.text="1"},t.prototype.ZQ93=function(t){App.VM.open(O7.C57,parseInt(t.currentTarget.name))},t.prototype.ZN27=function(){if(O4.getVipLv()>=THH34.FJ1()){var t=THH34.FJ1();App.CM.apF(O6.C29,P8.A8,t)}else{var e=App.CM.gtM(O6.A4);e&&e.openState&&0==e.actData.ZJ93()?App.VM.open(O7.A41):App.VM.open(O7.F72)}},t.prototype.closeSelf=function(){App.VM.GY64(this)},t.prototype.close=function(){for(var t=0;t<this.skills.length;t++)this.skills[t].removeEventListener(egret.TouchEvent.TOUCH_TAP,this.ZQ93,this);this.btnClose.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.closeSelf,this),this.imgBg.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.closeSelf,this),this.recBtn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.ZN27,this),this.giftItemCollection.removeAll(),this.gpBoss.removeChildren(),this.objBoss.destory(),this.objBoss=null},t}(BaseEuiView);__reflect(AnimalUnlockView.prototype,"AnimalUnlockView");var AnimalView=function(s){function t(t,e){var i=s.call(this,t,e)||this;return i.haveNum=0,i.timerArray=[],i.skinPower=0,i.danPower=0,i.raiPower=0,i.skillPower=0,i.equipPower=0,i.skinName=AnimalViewSkin,i.skillData.dataProvider=i.skillCollection=new eui.ArrayCollection,i.skillData.itemRenderer=AnimalSkillDataItem,i.equipData.dataProvider=i.equipCollection=new eui.ArrayCollection,i.equipData.itemRenderer=AttrEquipDataItem,i.btnLeft.$setVisible(!1),i.btnRight.$setVisible(!1),i}return __extends(t,s),t.prototype.initUI=function(){s.prototype.initUI.call(this),this.lbStr1.textFlow=M18.HTP.parse(O3.tr(4046)),this.lbStr2.textFlow=M18.HTP.parse(O3.tr(4047)),this.lbShort.textFlow=M18.HTP.parse(O3.tr(4050)),this.lbStr3.textFlow=M18.HTP.parse(O3.tr(4052)),this.lbStr4.textFlow=M18.HTP.parse(O3.tr(4133)),this.btnChange.label=O3.tr(4057),this.btnEquip.label=O3.tr(4058),this.btnRaising.label=O3.tr(4059),this.btnSelfRai.label=O3.tr(4060),this.btnStop.label=O3.tr(4061),this.cbAutoSmelt.label=O3.tr(4731)},t.prototype.open=function(){this.getData(),this.updateMain(),this.ZN26(),this.initPBarPro(),this.useExpDan(),this.isCanUpDate=!0,this.btnSkin.addEventListener(egret.TouchEvent.TOUCH_TAP,this.openSkinView,this),this.btnDan.addEventListener(egret.TouchEvent.TOUCH_TAP,this.openDanView,this),this.btnExpDan.addEventListener(egret.TouchEvent.TOUCH_TAP,this.useExpDan,this),this.btnAward.addEventListener(egret.TouchEvent.TOUCH_TAP,this.ZV5,this),this.attriCheck.addEventListener(egret.TouchEvent.TOUCH_TAP,this.openAddView,this),this.btnRaising.addEventListener(egret.TouchEvent.TOUCH_TAP,this.raising,this),this.btnSelfRai.addEventListener(egret.TouchEvent.TOUCH_TAP,this.autoRaising,this),this.btnAddOne.addEventListener(egret.TouchEvent.TOUCH_TAP,this.addOne,this),this.imgDan.addEventListener(egret.TouchEvent.TOUCH_TAP,this.openProsView,this),this.btnStop.addEventListener(egret.TouchEvent.TOUCH_TAP,this.stopAuto,this),this.btnChange.addEventListener(egret.TouchEvent.TOUCH_TAP,this.canChange,this),this.btnEquip.addEventListener(egret.TouchEvent.TOUCH_TAP,this.aKeyPull,this),this.cbAutoSmelt.addEventListener(egret.Event.CHANGE,this.autoSmelt,this),this.btnReveal.addEventListener(egret.TouchEvent.TOUCH_TAP,this.GI10,this),this.ZN25(),this.ZN24()},t.prototype.close=function(){this.btnSkin.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.openSkinView,this),this.btnDan.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.openDanView,this),this.btnExpDan.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.useExpDan,this),this.btnAward.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.ZV5,this),this.attriCheck.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.openAddView,this),this.btnRaising.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.raising,this),this.btnSelfRai.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.autoRaising,this),this.btnAddOne.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.addOne,this),this.imgDan.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.openProsView,this),this.btnStop.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.stopAuto,this),this.btnChange.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.canChange,this),this.btnEquip.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.aKeyPull,this),this.cbAutoSmelt.removeEventListener(egret.Event.CHANGE,this.autoSmelt,this),this.btnReveal.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.GI10,this),this.closeHandler(),this.stopAuto(),this.gpBoss.removeChildren(),this.objBoss.destory(),this.objBoss=null,this.model=null,this.num=null,this.fitDreData=null,this.canAnimalEquip=null,this.fitAllData=null,this.classData=null,this.hisLe=null,this.arr=null,egret.Tween.removeTweens(this.pBarPro.imgShort),egret.Tween.removeTweens(this.pBarPro),egret.Tween.removeTweens(this.lbAddExp)},t.prototype.GI10=function(){TG76.FI91(E5.A10),App.CM.apF(O6.B95,M4.A4,this.arr)},t.prototype.autoSmelt=function(){TG40.playClickEffect()},t.prototype.raising=function(){if(O4.getLv()<K19.init.animalLv.value){var t=K18.init.commonDesc1.value;P18.sDP(M18.format(t,[K19.init.animalLv.value]))}else this.ZQ92(!1,!1)},t.prototype.autoRaising=function(){if(O4.getLv()<K19.init.animalLv.value){var t=K18.init.commonDesc1.value;P18.sDP(M18.format(t,[K19.init.animalLv.value]))}else this.autoUpgrade(!1)},t.prototype.openDanHint=function(){this.btnAddOne.imgNew.visible&&this.addOne()},t.prototype.closeHandler=function(){for(var t=0;t<this.timerArray.length;t++)App.K16.rBH(this.timerArray[t]),this.timerArray[t]=null;this.timerArray=[]},t.prototype.aKeyPull=function(){this.apF(L12.A58)},t.prototype.canChange=function(){this.apF(L12.A45,K19.init.initialSkin.value)},t.prototype.addOne=function(){if(O4.getLv()<K19.init.animalLv.value){var t=K18.init.commonDesc1.value;P18.sDP(M18.format(t,[K19.init.animalLv.value]))}else this.btnAddOne.imgNew.visible?this.aCF(O6.C18,O10.A5,L12.A74):P18.sDP(O3.tr(1317))},t.prototype.openProsView=function(){var t=N12.gID(K19.init.animalAdvItem.value);this.aCF(O6.C11,O14.A15,t,this.haveNum)},t.prototype.useExpDan=function(){this.btnExpDan.visible&&this.aCF(O6.C18,O10.A5,L12.A74,!0)},t.prototype.ZN25=function(){var t=App.CM.gtM(O6.B91);this.btnReveal.imgNew.visible=!!t.redNum1},t.prototype.getData=function(){O4.getLv()<K19.init.animalLv.value&&(this.btnEquip.visible=!1,this.btnAward.visible=!1);var t=App.CM.gtM(O6.B98),e=App.CM.gtM(O6.B91);this.model=e.ao,this.model&&(this.num=this.model.lv,this.fitDreData=t.animalEquip.sort(function(t,e){return t.i-e.i}),this.canAnimalEquip=t.canAnimalEquip,this.fitAllData=M10.animal,this.classData=K19.FHH90(!1),this.ZK15())},t.prototype.sureStop=function(){this.btnStop.visible&&this.stopAuto()},t.prototype.openSkinView=function(){this.sureStop(),App.VM.open(O7.G3)},t.prototype.openDanView=function(){if(O4.getLv()<K19.init.animalLv.value){var t=K18.init.commonDesc1.value;P18.sDP(M18.format(t,[K19.init.animalLv.value]))}else this.sureStop(),App.VM.open(O7.HH53,1)},t.prototype.ZV5=function(){this.sureStop(),App.CM.apF(O6.C12,O8.A93,O8.B4.ANIMAL)},t.prototype.openAddView=function(){var t={power:this.scoreLb.text,index:1,type:1};App.VM.open(O7.E17,t)},t.prototype.updateChange=function(t){K19.init.initialSkin.value==t.s?(this.btnEquip.visible||(this.grpHave.visible=!0),this.btnChange.visible=this.grpAddPower.visible=!1):(this.btnEquip.visible||(this.btnChange.visible=!0),this.grpHave.visible=this.grpAddPower.visible=!1)},t.prototype.realTime=function(){if(this.generalLv.text=O3.tr(1332,K19.animal[this.num+""].level),this.updateChange(this.model),this.num==this.model.lv+1){this.btnChange.visible=this.grpHave.visible=!1,this.btnEquip.visible||(this.grpAddPower.visible=!0);var t=K19.animal[this.num+""].baseattr,e=K19.animal[this.num-1+""].addattr,i=Math.floor(M10.gAG(t)+M10.gAG(e)*K19.animal[this.num-1+""].exp/K19.init.animalAdvExp.value);this.lbPower.textFlow=M18.HTP.parse(O3.tr(4048,i))}},t.prototype.ZN24=function(){this.objBoss||(this.objBoss=new FightGameObject);var t={id:K19.init.initialSkin.value,x:0,y:0,dir:Dir.br,objType:P13.A6,bt:BehaviourType.Attack_d,sr:1};this.objBoss.setData(t,this.gpBoss),this.objBoss.action=Action.Stand},t.prototype.uBM=function(t,e){if(s.prototype.uBM.call(this,t,e),this.ZN25(),t instanceof TG8)switch(e){case P4.T29:this.littleAddExp(t),this.ZN26();break;case P4.P90:this.addExp(),this.ZN26();break;case P4.O6:case P4.T33:this.updateChange(t.ao),this.getData();break;case P4.V43:this.isCanUpDate&&this.getData();break;case P4.Y11:this.getData(),this.initPBarPro();break;case P4.P92:case P4.T31:case P4.E91:case P4.G52:case P4.J96:case P4.R66:case P4.P88:this.getData()}t instanceof THH9&&this.getData(),t instanceof TG58&&this.getData()},t.prototype.ZN26=function(){this.btnExpDan.visible=!1;var t=N12.giC(parseInt(K19.init.animalUpItem.value));(this.btnAddOne.visible=!(t<=0),K19.expDanData1[this.num+""]&&-1!==K19.animal[this.num+""].exp)&&(N12.giC(K19.expDanData1[this.num+""])&&(O4.getLv()>=K19.init.animalLv.value&&(this.btnExpDan.visible=this.btnExpDan.imgNew.visible=!0),this.btnAddOne.$setVisible(!1)))},t.prototype.littleAddExp=function(t){this.enabledBtn(!1);var e=this.pBarPro.value,i=0,s=1;e+(i=t.ao.e>=e?t.ao.e-e:this.pBarPro.maximum-e+t.ao.e)>this.pBarPro.maximum&&(s+=1),this.updataExp(e,i,s)},t.prototype.enabledBtn=function(t){this.btnRaising.enabled=this.btnAddOne.enabled=this.btnSelfRai.enabled=t},t.prototype.addExp=function(){var t=this.model.lv,e=this.model.le,i=K19.animal[t+""].level,s=this.pBarPro.value,o=0,r=1;s+(o=App.CM.gtM(O6.B91).isUseNow1?this.hisLe<e?e-this.hisLe:this.pBarPro.maximum-s+e:i<=6&&0==this.model.e?this.pBarPro.maximum-s:parseInt(K19.init.animalUpExp.value))>this.pBarPro.maximum&&(r+=1),this.updataExp(s,o,r)},t.prototype.ZK15=function(){this.getSkinPower(),this.getDanPower(),this.FJ47(),this.FHH78(),this.ZV1();var t=App.CM.gtM(O6.B91);this.btnAward.imgNew.visible=0<t.ZC92(1),-1!=K19.animal[this.num+""].exp&&(this.pBarPro.maximum=K19.animal[this.num+""].exp,this.pBarPro.value=this.model.e),this.summit();var e=N12.giC(parseInt(K19.init.animalAttrItem.value)),i=!1;K18.init.attrUseMax.value>this.model.er&&(i=!!e),O4.getLv()>=K19.init.animalLv.value&&(this.btnDan.imgNew.visible=i);var s,o,r=[],n=[t.ao,t.apo,t.aspo,t.aso],a=App.CM.gtM(O6.B82),h=a.avatarInfo.l,p=a.avatarInfo.v;for(var l in K19.skillGroup){s=parseInt(l);break}for(var c=0;c<4;c++){var u=this.ZV2(c);o=u<=h?n[c].sl||1:0,0==c&&1==K18.vip[p].openanimal&&(o=n[c].sl||1),r.push({si:s,sl:o,count:u,index:c,type:1}),s+=1}this.skillCollection.replaceAll(r),this.scoreLb.text=Math.round(this.skinPower+this.danPower+this.raiPower+this.skillPower+this.equipPower)+"",this.btnEquip.visible=!1,this.btnSkin.imgNew.visible=t.canUpSkin();for(var d=[{},{},{},{}],v=1;v<=d.length;v++){for(var f=0;f<this.fitDreData.length;f++){if(v==M10.FD92(this.fitDreData[f].i,this.fitDreData[f].t).pos){d[v-1]={i:this.fitDreData[f].i,ok:!0,isNew:!1,t:this.fitDreData[f].t};break}}if("{}"==JSON.stringify(d[v-1]))for(var l in this.fitAllData)if(this.fitAllData[l].pos==v){d[v-1]={i:this.fitAllData[l].id,ok:!1,isNew:!1,t:this.fitAllData[l].equiptype};break}}for(f=1;f<=d.length;f++)0<=this.canAnimalEquip.indexOf(f.toString())&&(d[f-1].isNew=!0,this.btnEquip.visible=!0,this.btnEquip.imgNew.visible=!0,this.grpHave.visible=!1,this.btnChange.visible=!1);this.realTime(),this.equipCollection.replaceAll(d)},t.prototype.initPBarPro=function(){this.pBarPro.slideDuration=0;var t=this.model.le;this.hisLe=t,this.lbShort.visible=!!t,this.pBarPro.imgShort.width=t?this.pBarPro.width*(t/this.pBarPro.maximum):0,this.pBarPro.imgShort.x=this.pBarPro.width*(this.pBarPro.value/this.pBarPro.maximum)-this.pBarPro.imgShort.width},t.prototype.ZV2=function(t){var e;return 0==t?e=K19.init.animalLv.value:1==t?e=K19.init.psychicLv.value:2==t?e=K19.init.spiritLv.value:3==t&&(e=K19.init.soulLv.value),e},t.prototype.updateMain=function(){this.skillName.text=O3.tr(121),this.imgGlod.source=N12.FJ86(pack.I11.COIN),this.imgDan.source=N12.FJ86(K19.init.animalAdvItem.value)},t.prototype.canExpend=function(){var t=this,e=App.CM.gtM(O6.B91);if(e.isOpenUseYbView1)if(this.btnRaising.filters){var i=function(){t.autoUpgrade(!0),e.isOpenUseYbView1=!1};App.VM.open(O7.HH38,M18.FG71(O3.tr(3406)),this,i,void 0,this.stopAuto,void 0)}else{i=function(){t.ZQ92(!1,!0),e.isOpenUseYbView1=!1};App.VM.open(O7.HH38,M18.FG71(O3.tr(3406)),this,i,void 0,this.stopAuto,void 0)}else this.autoUpgrade(!0)},t.prototype.ZQ92=function(t,e){var i=App.CM.gtM(O6.B82),s=App.CM.gtM(O6.B91),o=N12.giC(parseInt(K19.init.timeItem1.value)),r=N12.giC(parseInt(K19.init.animalAdvItem.value))+o,n=1,a=K19.animal[this.model.lv].elixir-r;if(0<a&&!this.cbAutoSmelt.selected)return App.VM.open(O7.G87,K19.init.animalAdvItem.value,K19.animal[this.model.lv].elixir-r),t&&this.stopAuto(),!1;if(K19.animal[this.model.lv].cash>i.avatarInfo.co)return App.VM.open(O7.F12),t&&this.stopAuto(),!1;if(this.cbAutoSmelt.selected&&K19.animal[this.model.lv].cash<=i.avatarInfo.co&&0<a){var h=parseInt(K19.init.animalAdvItem.value),p=N15.FA50(h),l=N15.FB92(h),c=K19.animal[this.model.lv+""].elixir;if(i.avatarInfo.bg>=p)n=2;else{if(!e&&s.isOpenUseYbView1)return this.canExpend(),this.closeHandler(),!1;if(!(i.avatarInfo.g>=l*(r?c-r:c)))return P7.FA78(),this.stopAuto(),!1;n=3}}return this.apF(L12.A62,n),s.isUseNow1=0<o,!0},t.prototype.autoUpgrade=function(t){var e=this;this.btnStop.visible=!0,this.btnSelfRai.visible=!1,this.btnRaising.imgNew.visible=!1,this.btnRaising.filters||P16.sGF(this.btnRaising,!0),this.enabledBtn(!1);var i,s=this,o=(this.pBarPro.maximum-this.pBarPro.value)/parseInt(K19.init.animalAdvExp.value);if(t||(i=this.ZQ92(!0,!1))&&(o-=1),t||i){var r=App.K16.doTimer(500,o,function(){s.ZQ92(!0,t)},s,function(){e.stopAuto()});this.timerArray.push(r)}},t.prototype.stopAuto=function(){this.btnSelfRai.visible=!0,this.btnStop.visible=!1,this.btnRaising.imgNew.visible=this.btnSelfRai.imgNew.visible,P16.sGF(this.btnRaising,!1),this.closeHandler(),this.enabledBtn(!0)},t.prototype.clearSkin=function(){this.ZN26()},t.prototype.summit=function(){if(-1==K19.animal[this.model.lv+""].exp)return this.lbShort.visible=!1,this.pBarPro.labelFunction=function(t,e){return O3.tr(1463)},this.pBarPro.maximum=this.pBarPro.value=100,this.pBarPro.imgShort.width=0,P16.sGF(this.btnRaising,!0),P16.sGF(this.btnSelfRai,!0),P16.sGF(this.btnStop,!0),this.cbAutoSmelt.visible=this.costGrp.visible=this.btnRaising.imgNew.visible=this.btnSelfRai.imgNew.visible=this.btnRaising.enabled=this.btnStop.enabled=this.btnSelfRai.enabled=!1,!1;this.pBarPro.labelFunction=null,this.haveNum=N12.giC(parseInt(K19.init.animalAdvItem.value))+N12.giC(parseInt(K19.init.timeItem1.value));var t;t=K19.animal[this.num+""].elixir,this.haveNum>=t?this.lbAmount.textFlow=M18.HTP.parse(O3.tr(4053,this.haveNum,t)):this.lbAmount.textFlow=M18.HTP.parse(O3.tr(4054,this.haveNum,t));var e=App.CM.gtM(O6.B82);return K19.animal[this.num+""].cash<=e.avatarInfo.co?this.lbPay.textFlow=M18.HTP.parse(O3.tr(4055,K19.animal[this.num+""].cash)):this.lbPay.textFlow=M18.HTP.parse(O3.tr(4056,K19.animal[this.num+""].cash)),this.haveNum>=t&&K19.animal[this.num+""].cash<=e.avatarInfo.co?(this.btnRaising.filters||O4.getLv()>=K19.init.animalLv.value&&(this.btnRaising.imgNew.visible=!0),O4.getLv()>=K19.init.animalLv.value&&(this.btnSelfRai.imgNew.visible=!0)):this.btnRaising.imgNew.visible=this.btnSelfRai.imgNew.visible=!1,O4.getLv()>=K19.init.animalLv.value&&(this.btnAddOne.imgNew.visible=0<N12.giC(parseInt(K19.init.animalUpItem.value))),!0},t.prototype.updataExp=function(t,e,i){var h=this.model.le;if(!this.summit())return this.getData(),this.clearSkin(),void this.enabledBtn(!1);this.isCanUpDate=!1;var p=this,l=function(t,e,i){var s,o=0,r=p.num;(s=((o=e+i>=p.pBarPro.maximum?(i-=p.pBarPro.maximum-e,p.pBarPro.maximum):i+e)-p.pBarPro.value)/p.pBarPro.maximum*1e3)<250&&(s=250);var n=p.pBarPro.width*(h/p.pBarPro.maximum),a=p.pBarPro.width*((o-h)/p.pBarPro.maximum);App.CM.gtM(O6.B91).isUseNow1?(p.hisLe>h&&(n=p.pBarPro.width-p.pBarPro.imgShort.x),p.hisLe=h,egret.Tween.get(p.pBarPro.imgShort).to({width:n},s)):(p.hisLe>h&&(a=p.pBarPro.width-p.pBarPro.imgShort.width),egret.Tween.get(p.pBarPro.imgShort).to({x:a},s),p.hisLe=h),egret.Tween.get(p.pBarPro).to({value:o},s).wait(10).call(function(){(egret.Tween.removeTweens(p.pBarPro),p.lbAddExp.textFlow=M18.HTP.parse(O3.tr(4051,K19.init.animalAdvExp.value)),p.lbShort.visible=!!h,p.pBarPro.value==p.pBarPro.maximum)&&(e=0,r+=1,p.pBarPro.maximum=K19.animal[r+""].exp,egret.Tween.removeTweens(p.pBarPro.imgShort),p.pBarPro.value=p.pBarPro.slideDuration=p.pBarPro.imgShort.width=p.pBarPro.imgShort.x=0,0<t-1?l(--t,e,i):this.isCanUpDate=!0,App.CM.gtM(O6.B98).ZW35(),p.stopAuto(),p.getData(),p.clearSkin());egret.Tween.get(p.lbAddExp).to({visible:!0}).to({y:p.lbAddExp.y-15},200).call(function(){p.lbAddExp.y=60,p.lbAddExp.visible=!1,p.getData(),egret.Tween.removeTweens(p.lbAddExp)}),p.enabledBtn(!0)})};l(i,t,e)},t.prototype.getSkinPower=function(){for(var t=this.skinPower=0,e=this.model.acs||[];t<e.length;t++){var i=e[t];i!=K19.init.initialSkin.value&&K19.skin[i+""]&&(this.skinPower+=M10.gAG(K19.skin[i+""].attr))}},t.prototype.getDanPower=function(){this.danPower=0;var t=K19.init.animalAttr.value,e=N13.getData(t);for(var i in e)for(var s in e[i]){var o=parseInt(e[i][s])*K18.attribute[s].power*this.model.er;this.danPower+=o}},t.prototype.FHH78=function(){this.skillPower=0},t.prototype.ZV1=function(){for(var t=this.fitDreData,e=this.equipPower=0;e<t.length;e++){var i=M10.FD92(t[e].i,t[e].t),s=M10.gAG(i.attr)+M10.gAG(i.addattr)*i.addlevel;this.equipPower+=s}},t.prototype.FJ47=function(){var t=this.model.lv,e=this.model.e;this.raiPower=0,this.count=0,this.arr={101:0,102:0,103:0},this.getCount(t);for(var i=0;i<this.count;i++){var s=K19.animal[t-i+""].baseattr,o=K19.animal[t-i+""].addattr,r=t-i,n=N13.getData(s),a=N13.getData(o);if(0==i)for(var h in a)for(var p in a[h]){var l=parseInt(a[h][p])*e/K19.init.animalAdvExp.value*K18.attribute[p].power;this.raiPower+=l;var c=parseInt(a[h][p])*e/K19.init.animalAdvExp.value;0<=(u=L3.strs.indexOf(K18.attribute[p].name))&&(this.arr["10"+(u+1)]+=c)}else for(var h in a)for(var p in a[h]){this.raiPower+=parseInt(a[h][p])*K19.animal[r+""].exp/K19.init.animalAdvExp.value*K18.attribute[p].power,0<=(u=L3.strs.indexOf(K18.attribute[p].name))&&(this.arr["10"+(u+1)]+=parseInt(a[h][p])*K19.animal[r+""].exp/K19.init.animalAdvExp.value)}for(var h in n)for(var p in n[h]){var u;this.raiPower+=parseInt(n[h][p])*K18.attribute[p].power,0<=(u=L3.strs.indexOf(K18.attribute[p].name))&&(this.arr["10"+(u+1)]+=parseInt(n[h][p]))}}},t.prototype.getCount=function(t){K19.animal[t+""]&&(this.count+=1,this.getCount(t-1))},t}(BaseEuiView);__reflect(AnimalView.prototype,"AnimalView");var AnimaPsychicView=function(s){function t(t,e){var i=s.call(this,t,e)||this;return i.haveNum=0,i.timerArray=[],i.skinPower=0,i.danPower=0,i.raiPower=0,i.skillPower=0,i.equipPower=0,i.isAutoSelfRai=!1,i.skinName=AnimalViewSkin,i.skillData.dataProvider=i.skillCollection=new eui.ArrayCollection,i.skillData.itemRenderer=AnimalSkillDataItem,i.equipData.dataProvider=i.equipCollection=new eui.ArrayCollection,i.equipData.itemRenderer=AttrEquipDataItem,i.btnSkin.$setVisible(!1),i}return __extends(t,s),t.prototype.initUI=function(){s.prototype.initUI.call(this),this.classData=K19.FHH90(!1),this.lbStr1.textFlow=M18.HTP.parse(O3.tr(4087)),this.lbStr2.textFlow=M18.HTP.parse(O3.tr(4088)),this.lbStr3.textFlow=M18.HTP.parse(O3.tr(4089)),this.lbStr4.textFlow=M18.HTP.parse(O3.tr(4090)),this.lbShort.textFlow=M18.HTP.parse(O3.tr(4093)),this.btnChange.label=O3.tr(4099),this.btnEquip.label=O3.tr(4100),this.btnRaising.label=O3.tr(4101),this.btnSelfRai.label=O3.tr(4102),this.btnStop.label=O3.tr(4103),this.cbAutoSmelt.label=O3.tr(4731)},t.prototype.open=function(){this.getData(),this.updateMain(),this.ZN26(),this.initPBarPro(),this.useExpDan(),this.isCanUpDate=!0,this.btnDan.addEventListener(egret.TouchEvent.TOUCH_TAP,this.openDanView,this),this.btnExpDan.addEventListener(egret.TouchEvent.TOUCH_TAP,this.useExpDan,this),this.btnAward.addEventListener(egret.TouchEvent.TOUCH_TAP,this.ZV5,this),this.attriCheck.addEventListener(egret.TouchEvent.TOUCH_TAP,this.openAddView,this),this.btnLeft.addEventListener(egret.TouchEvent.TOUCH_TAP,this.showPhase,this),this.btnRight.addEventListener(egret.TouchEvent.TOUCH_TAP,this.showPhase,this),this.btnRaising.addEventListener(egret.TouchEvent.TOUCH_TAP,this.raising,this),this.btnSelfRai.addEventListener(egret.TouchEvent.TOUCH_TAP,this.autoRaising,this),this.btnAddOne.addEventListener(egret.TouchEvent.TOUCH_TAP,this.addOne,this),this.imgDan.addEventListener(egret.TouchEvent.TOUCH_TAP,this.openProsView,this),this.btnStop.addEventListener(egret.TouchEvent.TOUCH_TAP,this.stopAuto,this),this.btnChange.addEventListener(egret.TouchEvent.TOUCH_TAP,this.canChange,this),this.btnEquip.addEventListener(egret.TouchEvent.TOUCH_TAP,this.aKeyPull,this),this.cbAutoSmelt.addEventListener(egret.Event.CHANGE,this.autoSmelt,this),this.btnReveal.addEventListener(egret.TouchEvent.TOUCH_TAP,this.GI10,this),this.ZN25(),this.ZN24(Action.Attack)},t.prototype.close=function(){this.btnDan.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.openDanView,this),this.btnExpDan.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.useExpDan,this),this.btnAward.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.ZV5,this),this.attriCheck.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.openAddView,this),this.btnLeft.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.showPhase,this),this.btnRight.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.showPhase,this),this.btnRaising.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.raising,this),this.btnSelfRai.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.autoRaising,this),this.btnAddOne.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.addOne,this),this.imgDan.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.openProsView,this),this.btnStop.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.stopAuto,this),this.btnChange.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.canChange,this),this.btnEquip.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.aKeyPull,this),this.cbAutoSmelt.removeEventListener(egret.Event.CHANGE,this.autoSmelt,this),this.btnReveal.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.GI10,this),this.closeHandler(),this.stopAuto(),this.gpBoss.removeChildren(),this.objBoss.destory(),this.objBoss=null,this.model=null,this.num=null,this.fitDreData=null,this.canPsychicEquip=null,this.hisLe=null,this.arr=null,egret.Tween.removeTweens(this.pBarPro.imgShort),egret.Tween.removeTweens(this.pBarPro),egret.Tween.removeTweens(this.lbAddExp)},t.prototype.GI10=function(){TG76.FI91(E5.A1),App.CM.apF(O6.B95,M4.A4,this.arr)},t.prototype.autoSmelt=function(){TG40.playClickEffect()},t.prototype.raising=function(){this.ZQ92(!1,!1)},t.prototype.autoRaising=function(){this.autoUpgrade(!1)},t.prototype.openDanHint=function(){this.btnAddOne.imgNew.visible&&this.addOne()},t.prototype.closeHandler=function(){for(var t=0;t<this.timerArray.length;t++)App.K16.rBH(this.timerArray[t]),this.timerArray[t]=null;this.timerArray=[]},t.prototype.aKeyPull=function(){this.apF(L12.A11)},t.prototype.canChange=function(){var t=App.CM.gtM(O6.B91);this.model=t.apo,this.apF(L12.A1,this.num)},t.prototype.addOne=function(){this.btnAddOne.imgNew.visible?this.aCF(O6.C18,O10.A5,L12.A73):P18.sDP(O3.tr(1317))},t.prototype.openProsView=function(){var t=N12.gID(K19.init.psychicAdvItem.value);this.aCF(O6.C11,O14.A15,t,this.haveNum)},t.prototype.useExpDan=function(){this.btnExpDan.visible&&this.aCF(O6.C18,O10.A5,L12.A73,!0)},t.prototype.ZN25=function(){var t=App.CM.gtM(O6.B91);this.btnReveal.imgNew.visible=!!t.redNum2},t.prototype.getData=function(){var t=App.CM.gtM(O6.B98),e=App.CM.gtM(O6.B91);this.model=e.apo,this.model&&!this.isAutoSelfRai&&(this.num=this.model.lv,this.fitDreData=t.psychicEquip.sort(function(t,e){return t.i-e.i}),this.canPsychicEquip=t.canPsychicEquip,this.ZK15())},t.prototype.sureStop=function(){this.btnStop.visible&&this.stopAuto()},t.prototype.openDanView=function(){this.sureStop(),App.VM.open(O7.HH53,2)},t.prototype.ZV5=function(){this.sureStop(),App.CM.apF(O6.C12,O8.A93,O8.B4.PSYCHIC)},t.prototype.openAddView=function(){var t={power:this.scoreLb.text,index:1,type:2};App.VM.open(O7.E17,t)},t.prototype.showPhase=function(t){var e;switch(t.target.name){case"-":0<this.num&&(this.num-=1,this.btnRight.enabled=!0,P16.sGF(this.btnRight,!1)),this.btnRight.imgEnd.visible=this.num>=this.model.lv,e=1==this.num,P16.sGF(this.btnLeft,e),this.btnLeft.enabled=!e;break;case"+":e=this.num<=this.model.lv&&K19.psychic[this.num+1+""],this.num!=this.model.lv&&K19.psychic[this.num+1+""]||(this.btnRight.enabled=!1,P16.sGF(this.btnRight,!0)),e&&(this.num+=1,P16.sGF(this.btnLeft,!1),this.btnLeft.enabled=!0),this.btnRight.imgEnd.visible=this.num>=this.model.lv}this.realTime(),this.ZN24(Action.Stand)},t.prototype.updateChange=function(t){this.num>t.lv||(t.s==K19.psychic[this.num+""].skinid?(this.btnChange.visible=this.grpAddPower.visible=!1,this.btnEquip.visible||(this.grpHave.visible=!0)):(this.btnEquip.visible||(this.btnChange.visible=!0),this.grpHave.visible=this.grpAddPower.visible=!1))},t.prototype.realTime=function(){if(this.generalLv.text=O3.tr(1332,K19.psychic[this.num+""].level),this.updateChange(this.model),this.num==this.model.lv+1){this.btnChange.visible=this.grpHave.visible=!1,this.btnEquip.visible||(this.grpAddPower.visible=!0);var t=K19.psychic[this.num+""].baseattr,e=K19.psychic[this.num-1+""].addattr,i=Math.floor(M10.gAG(t)+M10.gAG(e)*K19.psychic[this.num-1+""].exp/K19.init.psychicAdvExp.value);this.lbPower.textFlow=M18.HTP.parse(O3.tr(4091,i))}},t.prototype.ZN24=function(t){this.objBoss||(this.objBoss=new FightGameObject);var e=App.CM.gtM(O6.B91),i=e.ao.s?e.ao.s:K19.init.initialSkin.value,s=K19.psychic[this.num+""].skinid,o=t==Action.Attack?1:null,r={id:i,x:0,y:0,dir:Dir.br,objType:P13.A6,aps:s,bt:BehaviourType.Attack_d,sr:o};this.objBoss.setData(r,this.gpBoss),this.objBoss.action=Action.Stand},t.prototype.uBM=function(t,e){if(s.prototype.uBM.call(this,t,e),this.ZN25(),t instanceof TG8)switch(e){case P4.E89:this.littleAddExp(t),this.ZN26();break;case P4.C79:this.addExp(),this.ZN26();break;case P4.B96:this.updateChange(t.apo);break;case P4.V43:this.isCanUpDate&&this.getData();break;case P4.Y11:this.getData(),this.initPBarPro();break;case P4.C83:case P4.E91:case P4.D68:case P4.C77:this.getData()}t instanceof THH9&&this.getData(),t instanceof TG58&&this.getData()},t.prototype.ZN26=function(){this.btnExpDan.visible=!1;var t=N12.giC(parseInt(K19.init.psychicUpItem.value));(this.btnAddOne.visible=!(t<=0),K19.expDanData2[this.num+""]&&-1!==K19.psychic[this.num+""].exp)&&(N12.giC(K19.expDanData2[this.num+""])&&(this.btnExpDan.visible=this.btnExpDan.imgNew.visible=!0,this.btnAddOne.$setVisible(!1)))},t.prototype.littleAddExp=function(t){this.enabledBtn(!1);var e=this.pBarPro.value,i=0,s=1;e+(i=t.apo.e>=e?t.apo.e-e:this.pBarPro.maximum-e+t.apo.e)>this.pBarPro.maximum&&(s+=1),this.updataExp(e,i,s)},t.prototype.enabledBtn=function(t){this.btnRaising.enabled=this.btnAddOne.enabled=this.btnSelfRai.enabled=t},t.prototype.addExp=function(){var t=this.model.lv,e=this.model.le,i=K19.psychic[t+""].level,s=this.pBarPro.value,o=0,r=1;s+(o=App.CM.gtM(O6.B91).isUseNow2?this.hisLe<e?e-this.hisLe:this.pBarPro.maximum-s+e:i<=6&&0==this.model.e?this.pBarPro.maximum-s:parseInt(K19.init.psychicUpExp.value))>this.pBarPro.maximum&&(r+=1),this.updataExp(s,o,r)},t.prototype.ZK15=function(){var t;t=1==this.num,P16.sGF(this.btnLeft,t),P16.sGF(this.btnRight,!1),this.getDanPower(),this.FJ47(),this.FHH78(),this.ZV1(),this.btnLeft.enabled=!t,this.btnRight.enabled=!0;var e=App.CM.gtM(O6.B91);this.btnAward.imgNew.visible=0<e.ZC92(2),-1!=K19.psychic[this.num+""].exp&&(this.pBarPro.maximum=K19.psychic[this.num+""].exp,this.pBarPro.value=this.model.e),this.summit();var i=N12.giC(parseInt(K19.init.psychicAttrItem.value)),s=!1;K18.init.attrUseMax.value>this.model.er&&(s=!!i),this.btnDan.imgNew.visible=s;var o,r,n=[],a=App.CM.gtM(O6.B82).avatarInfo.l;for(var h in K19.skillGroup){o=parseInt(h);break}var p=this.ZV2();r=p<=a?e.apo.sl||1:0,o+=1,n.push({si:o,sl:r,count:p,index:1,type:2});this.skillCollection.replaceAll(n),this.scoreLb.text=Math.round(this.skinPower+this.danPower+this.raiPower+this.skillPower+this.equipPower)+"",this.btnEquip.visible=!1;for(var l=[{},{},{},{}],c=1;c<=l.length;c++){for(var u=0;u<this.fitDreData.length;u++){if(c==M10.FD92(this.fitDreData[u].i,this.fitDreData[u].t).pos){l[c-1]={i:this.fitDreData[u].i,ok:!0,isNew:!1,t:this.fitDreData[u].t};break}}if("{}"==JSON.stringify(l[c-1]))for(var h in M10.psychic)if(M10.psychic[h].pos==c){l[c-1]={i:M10.psychic[h].id,ok:!1,isNew:!1,t:M10.psychic[h].equiptype};break}}for(u=1;u<=l.length;u++)0<=this.canPsychicEquip.indexOf(u.toString())&&(l[u-1].isNew=!0,this.btnEquip.visible=!0,this.btnEquip.imgNew.visible=!0,this.grpHave.visible=!1,this.btnChange.visible=!1);this.realTime(),this.ZN24(Action.Stand),this.equipCollection.replaceAll(l)},t.prototype.initPBarPro=function(){this.pBarPro.slideDuration=0;var t=this.model.le;this.hisLe=t,this.lbShort.visible=!!t,this.pBarPro.imgShort.width=t?this.pBarPro.width*(t/this.pBarPro.maximum):0,this.pBarPro.imgShort.x=this.pBarPro.width*(this.pBarPro.value/this.pBarPro.maximum)-this.pBarPro.imgShort.width},t.prototype.ZV2=function(){return K19.init.psychicLv.value},t.prototype.updateMain=function(){this.skillName.text=O3.tr(122),this.imgGlod.source=N12.FJ86(pack.I11.COIN),this.imgDan.source=N12.FJ86(K19.init.psychicAdvItem.value)},t.prototype.canExpend=function(){var t=this,e=App.CM.gtM(O6.B91);if(e.isOpenUseYbView2)if(this.btnRaising.filters){var i=function(){t.autoUpgrade(!0),e.isOpenUseYbView2=!1};App.VM.open(O7.HH38,M18.FG71(O3.tr(3406)),this,i,void 0,this.stopAuto,void 0)}else{i=function(){t.ZQ92(!1,!0),e.isOpenUseYbView2=!1};App.VM.open(O7.HH38,M18.FG71(O3.tr(3406)),this,i,void 0,this.stopAuto,void 0)}else this.autoUpgrade(!0)},t.prototype.ZQ92=function(t,e){var i=App.CM.gtM(O6.B82),s=App.CM.gtM(O6.B91),o=N12.giC(parseInt(K19.init.timeItem2.value)),r=N12.giC(parseInt(K19.init.psychicAdvItem.value))+o,n=1,a=K19.psychic[this.model.lv].elixir-r;if(0<a&&!this.cbAutoSmelt.selected)return App.VM.open(O7.G87,K19.init.psychicAdvItem.value,K19.psychic[this.model.lv].elixir-r),t&&this.stopAuto(),!1;if(K19.psychic[this.model.lv].cash>i.avatarInfo.co)return App.VM.open(O7.F12),t&&this.stopAuto(),!1;if(this.cbAutoSmelt.selected&&K19.psychic[this.model.lv].cash<=i.avatarInfo.co&&0<a){var h=parseInt(K19.init.psychicAdvItem.value),p=N15.FA50(h),l=N15.FB92(h),c=K19.psychic[this.model.lv+""].elixir;if(i.avatarInfo.bg>=p)n=2;else{if(!e&&s.isOpenUseYbView2)return this.canExpend(),this.closeHandler(),!1;if(!(i.avatarInfo.g>=l*(r?c-r:c)))return P7.FA78(),this.stopAuto(),!1;n=3}}return this.apF(L12.A19,n),s.isUseNow2=0<o,!0},t.prototype.autoUpgrade=function(t){var e=this;this.isAutoSelfRai=!0,this.btnStop.visible=!0,this.btnSelfRai.visible=!1,this.btnRaising.imgNew.visible=!1,this.btnRaising.filters||P16.sGF(this.btnRaising,!0),this.enabledBtn(!1);var i,s=this,o=(this.pBarPro.maximum-this.pBarPro.value)/parseInt(K19.init.psychicAdvExp.value);if(t||(i=this.ZQ92(!0,!1))&&(o-=1),t||i){var r=App.K16.doTimer(500,o,function(){s.ZQ92(!0,t)},s,function(){e.stopAuto()});this.timerArray.push(r)}},t.prototype.stopAuto=function(){this.btnSelfRai.visible=!0,this.btnStop.visible=!1,this.isAutoSelfRai=!1,this.btnRaising.imgNew.visible=this.btnSelfRai.imgNew.visible,P16.sGF(this.btnRaising,!1),this.closeHandler(),this.enabledBtn(!0)},t.prototype.clearSkin=function(){this.apF(L12.A57,2),this.ZN26()},t.prototype.summit=function(){if(-1==K19.psychic[this.model.lv+""].exp)return this.lbShort.visible=!1,this.pBarPro.labelFunction=function(t,e){return O3.tr(1463)},this.pBarPro.maximum=this.pBarPro.value=100,this.pBarPro.imgShort.width=0,P16.sGF(this.btnRaising,!0),P16.sGF(this.btnSelfRai,!0),P16.sGF(this.btnStop,!0),this.cbAutoSmelt.visible=this.costGrp.visible=this.btnRaising.imgNew.visible=this.btnSelfRai.imgNew.visible=this.btnRaising.enabled=this.btnStop.enabled=this.btnSelfRai.enabled=!1,!1;this.pBarPro.labelFunction=null,this.haveNum=N12.giC(parseInt(K19.init.psychicAdvItem.value))+N12.giC(parseInt(K19.init.timeItem2.value));var t;t=K19.psychic[this.num+""].elixir,this.haveNum>=t?this.lbAmount.textFlow=M18.HTP.parse(O3.tr(4095,this.haveNum,t)):this.lbAmount.textFlow=M18.HTP.parse(O3.tr(4096,this.haveNum,t));var e=App.CM.gtM(O6.B82);return K19.psychic[this.num+""].cash<=e.avatarInfo.co?this.lbPay.textFlow=M18.HTP.parse(O3.tr(4097,K19.psychic[this.num+""].cash)):this.lbPay.textFlow=M18.HTP.parse(O3.tr(4098,K19.psychic[this.num+""].cash)),this.haveNum>=t&&K19.psychic[this.num+""].cash<=e.avatarInfo.co?(this.btnRaising.filters||(this.btnRaising.imgNew.visible=!0),this.btnSelfRai.imgNew.visible=!0):this.btnRaising.imgNew.visible=this.btnSelfRai.imgNew.visible=!1,this.btnAddOne.imgNew.visible=0<N12.giC(parseInt(K19.init.psychicUpItem.value)),!0},t.prototype.updataExp=function(t,e,i){var h=this.model.le;if(!this.summit())return this.getData(),this.clearSkin(),void this.enabledBtn(!1);this.isCanUpDate=!1;var p=this,l=function(t,e,i){var s,o=0,r=p.num;(s=((o=e+i>=p.pBarPro.maximum?(i-=p.pBarPro.maximum-e,p.pBarPro.maximum):i+e)-p.pBarPro.value)/p.pBarPro.maximum*1e3)<250&&(s=250);var n=p.pBarPro.width*(h/p.pBarPro.maximum),a=p.pBarPro.width*((o-h)/p.pBarPro.maximum);App.CM.gtM(O6.B91).isUseNow2?(p.hisLe>h&&(n=p.pBarPro.width-p.pBarPro.imgShort.x),p.hisLe=h,egret.Tween.get(p.pBarPro.imgShort).to({width:n},s)):(p.hisLe>h&&(a=p.pBarPro.width-p.pBarPro.imgShort.width),egret.Tween.get(p.pBarPro.imgShort).to({x:a},s),p.hisLe=h),egret.Tween.get(p.pBarPro).to({value:o},s).wait(10).call(function(){(egret.Tween.removeTweens(p.pBarPro),p.lbAddExp.textFlow=M18.HTP.parse(O3.tr(4094,K19.init.psychicAdvExp.value)),p.lbShort.visible=!!h,p.pBarPro.value==p.pBarPro.maximum)&&(e=0,r+=1,p.pBarPro.maximum=K19.psychic[r+""].exp,egret.Tween.removeTweens(p.pBarPro.imgShort),p.pBarPro.value=p.pBarPro.slideDuration=p.pBarPro.imgShort.width=p.pBarPro.imgShort.x=0,0<t-1?l(--t,e,i):this.isCanUpDate=!0,App.CM.gtM(O6.B98).ZW35(),p.stopAuto(),p.getData(),p.clearSkin());egret.Tween.get(p.lbAddExp).to({visible:!0}).to({y:p.lbAddExp.y-15},200).call(function(){p.lbAddExp.y=60,p.lbAddExp.visible=!1,p.getData(),egret.Tween.removeTweens(p.lbAddExp)}),p.enabledBtn(!0)})};l(i,t,e)},t.prototype.getDanPower=function(){this.danPower=0;var t=K19.init.psychicAttr.value,e=N13.getData(t);for(var i in e)for(var s in e[i]){var o=parseInt(e[i][s])*K18.attribute[s].power*this.model.er;this.danPower+=o}},t.prototype.FHH78=function(){this.skillPower=0},t.prototype.ZV1=function(){for(var t=this.fitDreData,e=this.equipPower=0;e<t.length;e++){var i=M10.FD92(t[e].i,t[e].t),s=M10.gAG(i.attr)+M10.gAG(i.addattr)*i.addlevel;this.equipPower+=s}},t.prototype.FJ47=function(){var t=this.model.lv,e=this.model.e;this.raiPower=0,this.count=0,this.arr={101:0,102:0,103:0},this.getCount(t);for(var i=0;i<this.count;i++){var s=K19.psychic[t-i+""].baseattr,o=K19.psychic[t-i+""].addattr,r=t-i,n=N13.getData(s),a=N13.getData(o);if(0==i)for(var h in a)for(var p in a[h]){var l=parseInt(a[h][p])*e/K19.init.psychicAdvExp.value*K18.attribute[p].power;this.raiPower+=l;var c=parseInt(a[h][p])*e/K19.init.psychicAdvExp.value;0<=(u=L3.strs.indexOf(K18.attribute[p].name))&&(this.arr["10"+(u+1)]+=c)}else for(var h in a)for(var p in a[h]){this.raiPower+=parseInt(a[h][p])*K19.psychic[r+""].exp/K19.init.psychicAdvExp.value*K18.attribute[p].power,0<=(u=L3.strs.indexOf(K18.attribute[p].name))&&(this.arr["10"+(u+1)]+=parseInt(a[h][p])*K19.psychic[r+""].exp/K19.init.psychicAdvExp.value)}for(var h in n)for(var p in n[h]){var u;this.raiPower+=parseInt(n[h][p])*K18.attribute[p].power,0<=(u=L3.strs.indexOf(K18.attribute[p].name))&&(this.arr["10"+(u+1)]+=parseInt(n[h][p]))}}},t.prototype.getCount=function(t){K19.psychic[t+""]&&(this.count+=1,this.getCount(t-1))},t}(BaseEuiView);__reflect(AnimaPsychicView.prototype,"AnimaPsychicView");var TF78=function(){function i(){}return i.FK35=function(t){i.init=t.answer_init,i.question=t.answer_question,this.doubleTime=this.ZV6()},i.gIV=function(t){var e=void 0;return i.init?e=i.init[t].value:e},i.FE63=function(t){var e=void 0;return i.question?e=i.question[t]:e},i.FK43=function(t){for(var e=this.gIV("obtain").split("|"),i=0;i<e.length;i++){var s=e[i].split(","),o=Number(s[0].split("-")[0]),r=Number(s[0].split("-")[1]);if(o<=t&&t<=r)return s[1]}return null},i.ZV6=function(){var t={};if(!this.init)return t;var e=this.gIV("openTime"),i=parseInt(this.gIV("anTime")),s=parseInt(this.gIV("maxNum")),o=parseInt(this.gIV("cdTime")),r=P6.FM3(e);return t={pt:r,vt:(i+o)*s*1e3+r}},i}();__reflect(TF78.prototype,"TF78");var M3=function(){function t(){}return t.A11=10001,t.A12=10002,t.A7=10003,t.A8=10004,t.A9=10005,t.A10=10006,t.A3=10007,t.A4=10008,t.A1=10009,t.A2=10010,t.A16=10011,t.A5=10012,t.A6=10013,t.A13=10014,t.A15=10015,t.A14=10016,t}();__reflect(M3.prototype,"M3");var TD34=function(i){function t(){var t=i.call(this)||this,e=new TG10(t);return e.aLV(O7.G44),e.aLV(O7.I69),e.aLV(O7.E24),e.aLV(O7.HH56),e.aLV(O7.I76),e.aLV(O7.I64),e.aLV(O7.I39),e.aLV(O7.HH98),e.aLV(O7.I3),e.aLV(O7.E50),e.aLV(O7.I85),t.proxy=new TG11(t),App.VM.register(O7.G44,"AnswerMainView",t,K17.UI_Main_TOP),App.VM.register(O7.HH55,"AnswerEndView",t,K17.UI_Popup),App.VM.register(O7.HH56,"AnswerPreView",t,K17.UI),t.rgF(M3.A15,t.GK81,t),t.rgF(M3.A14,t.GI86,t),t.rgF(M3.A11,t.GS21,t),t.rgF(M3.A12,t.GS22,t),t.rgF(M3.A5,t.GS23,t),t.rgF(M3.A6,t.GS24,t),t.rgF(M3.A9,t.GY12,t),t.rgF(M3.A10,t.GY13,t),t.rgF(M3.A1,t.GX15,t),t.rgF(M3.A2,t.GX16,t),t.rgF(M3.A3,t.GT95,t),t.rgF(M3.A4,t.GT91,t),t.rgF(M3.A7,t.GU14,t),t.rgF(M3.A8,t.GV65,t),t.rgF(M3.A13,t.endPush,t),t.rgF(M3.A16,t.ansPush,t),t}return __extends(t,i),t.prototype.ansPush=function(t){if(200==t.head.state){var e=this.gtM();t.body&&e.ZQ94(t.body),e.notify(P4.Y13)}else App.CM.apF(O6.B87,L10.A4,t)},t.prototype.GU14=function(t){if(200==t.head.state){var e=this.gtM();t.body&&e.ZG30(t.body),e.notify(P4.Q32)}else App.CM.apF(O6.B87,L10.A4,t)},t.prototype.GV65=function(t){if(200==t.head.state){var e=this.gtM();t.body&&e.ZHH93(t.body),t.body.ob&&P5.sIs(t.body.ob),e.notify(P4.S12)}else App.CM.apF(O6.B87,L10.A4,t)},t.prototype.endPush=function(t){if(200==t.head.state){var e=this.gtM();t.body&&e.ZV7(t.body),e.notify(P4.W51),null!=e.r&&null!=e.inte&&App.VM.open(O7.HH55)}else App.CM.apF(O6.B87,L10.A4,t)},t.prototype.GS21=function(){return this.proxy.GS21()},t.prototype.GS22=function(t){if(200==t.head.state){var e=this.gtM();t.body&&e.ZQ94(t.body),e.notify(P4.W50)}else App.CM.apF(O6.B87,L10.A4,t)},t.prototype.GS23=function(){this.proxy.GS23()},t.prototype.GS24=function(t){if(200==t.head.state){var e=this.gtM();t.body&&e.ZQ95(t.body),e.notify(P4.O32)}else App.CM.apF(O6.B87,L10.A4,t)},t.prototype.GY12=function(t){this.proxy.GY12(t)},t.prototype.GY13=function(t){200==t.head.state?this.gtM().notify(P4.U75):App.CM.apF(O6.B87,L10.A4,t)},t.prototype.GX15=function(){this.proxy.GX15()},t.prototype.GX16=function(t){if(200==t.head.state){var e=this.gtM();t.body.l&&e.ZV8(t.body.l),e.notify(P4.C12)}else App.CM.apF(O6.B87,L10.A4,t)},t.prototype.GT95=function(){this.proxy.GT95()},t.prototype.GT91=function(t){if(200==t.head.state){var e=this.gtM();t.body.gs&&(e.gs=t.body.gs),t.body.ob&&P5.sIs(t.body.ob),e.notify(P4.I35)}else App.CM.apF(O6.B87,L10.A4,t)},t.prototype.GK81=function(){var t=this.gtM();t.s&&0!=t.s&&App.VM.open(O7.HH56)},t.prototype.GI86=function(){App.VM.close(O7.HH56)},t}(TE11);__reflect(TD34.prototype,"TD34");var TG10=function(i){function t(t){var e=i.call(this,t)||this;return e.myAnswer=0,e}return __extends(t,i),t.prototype.ZQ94=function(t){null!=t.an&&(this.an=t.an),null!=t.gs&&(this.gs=t.gs),null!=t.r&&(this.r=t.r),this.s=t.s,this.cd=t.cd,this.qn=t.qn,this.lastRefreshTime=P6.getTime(!0)},t.prototype.ZQ95=function(t){this.s=t.s,this.qn=t.qn,this.qi=t.qi,this.ma=t.ma,this.ra=t.ra,this.rcd=t.rcd,this.cn=t.cn,this.en=t.en,this.gs=t.gs,this.ZV8(t.l),this.initRndMap(!0)},t.prototype.ZHH93=function(t){t.an&&(this.an=t.an),this.s=t.s,this.rcd=t.rcd,this.ra=t.ra},t.prototype.ZG30=function(t){this.s=t.s,this.qn=t.qn,this.qi=t.qi,this.rcd=t.rcd,this.ma=0,this.myAnswer=0,this.initRndMap(!1)},t.prototype.initRndMap=function(t){if(!t||null==this.rndMap){this.rndMap={};for(var e=[1,2,3],i=1;i<=3;i++){var s=Math.floor(Math.random()*e.length);this.rndMap[i]=e[s],e.splice(s,1)}}},t.prototype.rndMapTurn=function(t){return this.rndMap[t]},t.prototype.ZQ96=function(t){for(var e in this.rndMap)if(this.rndMap[e]==t)return Number(e)},t.prototype.ZV7=function(t){this.s=t.s,this.cn=t.cn,this.en=t.en,this.rcd=t.rcd,this.r=t.r,this.inte=t.inte},t.prototype.ZV8=function(t){if(this.answerLists=[],null!=t&&0<t.length)for(var e=0;e<t.length;e++){var i=t[e],s=new answer.AnswerList(i);this.answerLists.push(s)}},t.prototype.cutCd=function(){this.cd&&(this.cd=this.cd-1)},t.prototype.notify=function(t){i.prototype.notifyView.call(this,this,t)},t.prototype.FL35=function(){var t=0;return 0==this.gs&&0==this.s&&0<this.r&&(t+=1),t},t}(TG79);__reflect(TG10.prototype,"TG10");var TG11=function(i){function t(t){var e=i.call(this,t)||this;return e.rSM(P4.Q32,e.GU14,e),e.rSM(P4.S12,e.GV65,e),e.rSM(P4.W51,e.endPush,e),e.rSM(P4.Y13,e.ansPush,e),e}return __extends(t,i),t.prototype.ansPush=function(t){this.apF(M3.A16,t)},t.prototype.GU14=function(t){this.apF(M3.A7,t)},t.prototype.GV65=function(t){this.apF(M3.A8,t)},t.prototype.endPush=function(t){this.apF(M3.A13,t)},t.prototype.GS21=function(){var s=this;return new Promise(function(e,t){var i={type:P4.W49,body:{}};s.rSMO(P4.W50,function(t){s.apF(M3.A12,t),e("加载答题信息完成")},s),s.sSM(i)})},t.prototype.GS22=function(t){this.apF(M3.A12,t)},t.prototype.GS23=function(){var t={type:P4.O31,body:{}};this.rSMO(P4.O32,this.GS24,this),this.sSM(t)},t.prototype.GS24=function(t){this.apF(M3.A6,t)},t.prototype.GY12=function(t){var e={type:P4.U74,body:t};this.rSMO(P4.U75,this.GY13,this),this.sSM(e)},t.prototype.GY13=function(t){this.apF(M3.A10,t)},t.prototype.GX15=function(){var t={type:P4.C11,body:{}};this.rSMO(P4.C12,this.GX16,this),this.sSM(t)},t.prototype.GX16=function(t){this.apF(M3.A2,t)},t.prototype.GT95=function(){var t={type:P4.I34,body:{}};this.rSMO(P4.I35,this.GT91,this),this.sSM(t)},t.prototype.GT91=function(t){this.apF(M3.A4,t)},t}(TG80);__reflect(TG11.prototype,"TG11");var ItemAnswerRank=function(e){function t(){var t=e.call(this)||this;return t.skinName=ItemAnswerRankSkin,t}return __extends(t,e),t.prototype.dataChanged=function(){var t=this.data,e=t.nRank;e%2==1?this.imgDi.$setVisible(!0):this.imgDi.$setVisible(!1),this.lbName.$setText(t.sName),this.lbRank.$setText(e+""),this.lbScore.$setText(t.inte+"")},t}(eui.ItemRenderer);__reflect(ItemAnswerRank.prototype,"ItemAnswerRank");var ItemRewardConf=function(e){function t(){var t=e.call(this)||this;return t.skinName=ItemAnswerRewardsSkin,t.addEventListener(egret.Event.ADDED_TO_STAGE,t.onAddToStage,t),t.addEventListener(egret.Event.REMOVED_FROM_STAGE,t.onRemoveStage,t),t}return __extends(t,e),t.prototype.onAddToStage=function(){this.btnGet.addEventListener(egret.TouchEvent.TOUCH_TAP,this.oCI,this)},t.prototype.onRemoveStage=function(){this.btnGet.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.oCI,this),this.dataSource.removeAll()},t.prototype.oCI=function(){App.CM.apF(O6.B94,M3.A3)},t.prototype.childrenCreated=function(){e.prototype.createChildren.call(this),this.initUI()},t.prototype.initUI=function(){this.listContent.itemRenderer=ItemIcon,this.dataSource=new eui.ArrayCollection,this.listContent.dataProvider=this.dataSource,this.btnGet.label=O3.tr(5767)},t.prototype.dataChanged=function(){var t=App.CM.gtM(O6.B94),e=String(this.data).split(","),i=Number(e[0].split("-")[0]),s=Number(e[0].split("-")[1]);this.imgGet.$setVisible(!1),this.btnGet.$setVisible(!1),t.r>=i&&t.r<=s&&(1==t.gs?(this.imgGet.$setVisible(!0),this.btnGet.$setVisible(!1)):0==t.gs&&0==t.s&&(this.imgGet.$setVisible(!1),this.btnGet.$setVisible(!0),this.btnGet.imgNew.visible=!0)),i==s&&1==i?(this.lbTitle.$setText(O3.tr(210)),this.lbTitle.$setTextColor(16773120)):i==s&&2==i?(this.lbTitle.$setText(O3.tr(211)),this.lbTitle.$setTextColor(5898495)):i==s&&3==i?(this.lbTitle.$setText(O3.tr(212)),this.lbTitle.$setTextColor(65334)):(this.lbTitle.text=i==s?O3.tr(4360,i):O3.tr(4361,e[0]),this.lbTitle.$setTextColor(16709064)),this.imgTitle.width=this.lbTitle.width+55;for(var o=M18.FL28(e[1],";",":"),r=[],n=0;n<o.length;n++){var a={itemData:{data:N12.gID(o[n][0]),ct:o[n][1]},isBottom:!1};r.push(a)}this.dataSource.replaceAll(r)},t}(eui.ItemRenderer);__reflect(ItemRewardConf.prototype,"ItemRewardConf");var AnswerEndView=function(s){function t(t,e){var i=s.call(this,t,e)||this;return i.skinName="AnswerEndSkin",i}return __extends(t,s),t.prototype.initUI=function(){s.prototype.initUI.call(this),this.listContent.itemRenderer=ItemIcon,this.dataSource=new eui.ArrayCollection,this.listContent.dataProvider=this.dataSource,this.lbTip.text=O3.tr(5938),this.lbTitle.text=O3.tr(5937),this.getBtn.label=O3.tr(5939)},t.prototype.open=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];s.prototype.open.apply(this,t),this.bgMask.addEventListener(egret.TouchEvent.TOUCH_TAP,this.closeSelf,this),this.backBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.closeSelf,this),this.closeBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.closeSelf,this),this.getBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.FK43,this),this.ZU24()},t.prototype.ZU24=function(){var t=App.CM.gtM(O6.B94);this.lbRank.text=String(t.r),this.lbInte.$setText(O3.tr(5940)+t.inte);var e=TF78.FK43(t.r);if(null!=e){for(var i=M18.FL28(e,";",":"),s=[],o=0;o<i.length;o++){var r={itemData:{data:N12.gID(i[o][0]),ct:i[o][1]},isBottom:!0};s.push(r)}this.dataSource.replaceAll(s)}},t.prototype.close=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];s.prototype.close.call(this),this.bgMask.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.closeSelf,this),this.closeBtn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.closeSelf,this),this.backBtn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.closeSelf,this),this.getBtn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.FK43,this),this.dataSource.removeAll()},t.prototype.FK43=function(){App.CM.apF(O6.B94,M3.A3),App.VM.close(O7.HH55)},t.prototype.closeSelf=function(){App.CM.apF(O6.B94,M3.A3),App.VM.close(O7.HH55)},t}(BaseEuiView);__reflect(AnswerEndView.prototype,"AnswerEndView");var AnswerMainView=function(o){function t(t,e){var i=o.call(this,t,e)||this;return i.sGN("release_answer"),i}return __extends(t,o),t.prototype.initUI=function(){o.prototype.initUI.call(this),App.VM.rgS(O7.G44,O7.I69,"AnswerView",this.content),App.VM.rgS(O7.G44,O7.G88,"AnswerRankView",this.content),App.VM.rgS(O7.G44,O7.E24,"AnswerRewardView",this.content);var t=[O3.tr(200),O3.tr(201),O3.tr(202)],e=[O7.I69,O7.G88,O7.E24];this.btnList=new ButtonList(t,e,this.ZQ23.bind(this)),this.btnList.init(),this.btnGroup.addChild(this.btnList)},t.prototype.open=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];o.prototype.open.call(this,t),this.btnShop||(this.btnShop=new com.Button,this.btnShop.bgStr="v1_btn_datishangdian_png",this.content.addChild(this.btnShop),this.btnShop.$setX(0),this.btnShop.$setY(-55)),this.btnShop.addEventListener(egret.TouchEvent.TOUCH_TAP,this.ZG31,this);var i=App.CM.gtM(O6.B94);this.ZE85(i);var s=t[0]||O7.I69;this.ZQ23(s),this.updateShopRp()},t.prototype.updateShopRp=function(){var t=THH27.FE38();this.btnShop.imgNew.visible=0<t&&!O4.FF89(L17.A42)},t.prototype.ZQ23=function(t){switch(this.title=O3.tr(203),t){case O7.I69:case O7.E24:case O7.G88:this.btnList.ZM66(t)}},t.prototype.uBM=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];o.prototype.uBM.call(this,t,e),t instanceof TG10&&this.ZE85(t),t instanceof THH14&&this.updateShopRp()},t.prototype.ZE85=function(t){this.btnList.ZHH58(O7.E24,t.FL35())},t.prototype.close=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];o.prototype.close.call(this,t),this.btnShop.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.ZG31,this),this.btnShop=null},t.prototype.ZG31=function(){var t=O4.getLv(),e=N15.FG47(P12.A19);if(t<e){var i=K18.init.commonDesc1.value;P18.sDP(M18.format(i,[e]))}else App.VM.open(O7.HH98,O7.I3,P12.A19)},t}(BasePanelView);__reflect(AnswerMainView.prototype,"AnswerMainView");var AnswerPreView=function(s){function t(t,e){var i=s.call(this,t,e)||this;return i.skinName="AnswerPreSkin",i}return __extends(t,s),t.prototype.initUI=function(){s.prototype.initUI.call(this)},t.prototype.open=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];s.prototype.open.apply(this,t),this.grpAns.addEventListener(egret.TouchEvent.TOUCH_TAP,this.openAnsView,this),this.loadDatas()},t.prototype.openAnsView=function(){var t=App.CM.gtM(O6.B82).avatarInfo.l,e=parseInt(TF78.gIV("openLv"));if(t<e){var i=K18.init.commonDesc1.value;P18.sDP(M18.format(i,[e]))}else App.VM.open(O7.G44)},t.prototype.close=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];s.prototype.close.call(this),this.removeTimer(),this.grpAns.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.openAnsView,this),this.cd=null},t.prototype.removeTimer=function(){this.cutCdTimer&&App.K16.remove(this.cdCut,this)},t.prototype.loadDatas=function(){App.CM.apF(O6.B94,M3.A11)},t.prototype.uBM=function(t,e){if(s.prototype.uBM.call(this,t),t instanceof TG10)switch(e){case P4.W50:case P4.Y13:this.ZE85(t);break;case P4.W51:this.close();break;case P4.Q32:this.removeTimer(),this.lbUp.$setText("第"+t.qn+"题"),this.lbDown.$setText(O3.tr(215))}},t.prototype.cdCut=function(){this.cd--;var t=P6.FJ11(1e3*this.cd,1);this.lbUp.$setText(t)},t.prototype.ZE85=function(t){var e=t.s;if(0==e||1==e){this.cd=t.cd;var i=P6.FJ11(1e3*this.cd,1);this.lbUp.$setText(i),0<this.cd&&(this.cutCdTimer=App.K16.doTimer(1e3,this.cd,this.cdCut,this)),this.lbDown.$setText(O3.tr(216))}else 2!=e&&3!=e||(this.lbUp.$setText("第"+t.qn+"题"),this.lbDown.$setText(O3.tr(215)))},t}(BaseEuiView);__reflect(AnswerPreView.prototype,"AnswerPreView");var AnswerRankView=function(s){function t(t,e){var i=s.call(this,t,e)||this;return i.objs=[],i.skinName="AnswerRankSkin",i}return __extends(t,s),t.prototype.initUI=function(){s.prototype.initUI.call(this),this.itemList.itemRenderer=ItemAnswerRank,this.dataSource=new eui.ArrayCollection,this.itemList.dataProvider=this.dataSource,this.lbStr1.textFlow=M18.HTP.parse(O3.tr(4355)),this.lbStr2.textFlow=M18.HTP.parse(O3.tr(4356)),this.lbStr3.textFlow=M18.HTP.parse(O3.tr(4357)),this.lb1.textFlow=M18.HTP.parse(O3.tr(5914)),this.lbS1.textFlow=M18.HTP.parse(O3.tr(5915)),this.lb2.textFlow=M18.HTP.parse(O3.tr(5914)),this.lbS2.textFlow=M18.HTP.parse(O3.tr(5915)),this.lb3.textFlow=M18.HTP.parse(O3.tr(5914)),this.lbS3.textFlow=M18.HTP.parse(O3.tr(5915))},t.prototype.open=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.grps=[this.grp1,this.grp2,this.grp3],this.imgs=[this.imgk1,this.imgk2,this.imgk3],s.prototype.open.apply(this,t),this.itemScroller.addEventListener(eui.UIEvent.CHANGE,this.moveHandler,this),this.itemScroller.addEventListener(eui.UIEvent.CHANGE_END,this.outHandler,this),this.ZU17()},t.prototype.close=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var i in s.prototype.close.call(this),this.itemScroller.removeEventListener(eui.UIEvent.CHANGE,this.moveHandler,this),this.itemScroller.removeEventListener(eui.UIEvent.CHANGE_END,this.outHandler,this),this.dataSource.removeAll(),this.grps)this.grps[i].removeChildren();for(var i in this.objs)this.objs[i].destory(),this.objs[i];this.objs=[],this.grps=[],this.imgs=[]},t.prototype.moveHandler=function(t){this.btnArrow.visible=!0},t.prototype.outHandler=function(t){this.btnArrow.visible=!1},t.prototype.ZU17=function(){var t={type:RankType.answer,currPage:1,size:20};App.CM.apF(O6.C19,O18.A5,t)},t.prototype.uBM=function(t,e){s.prototype.uBM.call(this,t),t instanceof THH11&&this.ZHH63(t)},t.prototype.ZHH63=function(t){if(t.nType==RankType.answer){var e=App.CM.gtM(O6.B94),i=t.rankList;if(i&&0<i.length)for(var s=0;s<i.length;s++){var o=i[s].nRank;1!=o&&2!=o&&3!=o||this.ZK16(o,i[s])}t.myRankList&&(e.inte=t.myRankList.inte,e.r=t.myRankList.nRank,this.lbMs.textFlow=M18.HTP.parse(O3.tr(4359,e.inte)),0==e.r?this.lbS4.$setText(O3.tr(214)):this.lbS4.textFlow=M18.HTP.parse(O3.tr(4358,e.r))),i.sort(function(t,e){return t.nRank-e.nRank}),this.dataSource.replaceAll(i),this.initRoleView(i)}},t.prototype.ZK16=function(t,e){this["imgk"+t].visible=!1,this["lb"+t].textFlow=M18.HTP.parse(O3.tr(4353,e.sName)),this["lbS"+t].textFlow=M18.HTP.parse(O3.tr(4354,e.inte))},t.prototype.initRoleView=function(t){for(var e=0;e<3;e++)if(t[e]){if(this.imgs[e].visible=!1,!this.objs[e]){var i=new FightGameObject;this.objs.push(i),this.objs[e].action=Action.Stand;var s={x:0,y:0,dir:Dir.br,objType:P13.A6,sr:1};this.objs[e].setBaseData(s)}t[e].obj.bt=BehaviourType.Attack_d,this.objs[e].setData(t[e].obj,this.grps[e])}else this.imgs[e].visible=!0},t}(BaseEuiView);__reflect(AnswerRankView.prototype,"AnswerRankView");var AnswerRewardView=function(s){function t(t,e){var i=s.call(this,t,e)||this;return i.skinName="AnswerRewardsSkin",i}return __extends(t,s),t.prototype.initUI=function(){s.prototype.initUI.call(this),this.listView.itemRenderer=ItemRewardConf,this.dataSource=new eui.ArrayCollection,this.listView.dataProvider=this.dataSource},t.prototype.open=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];s.prototype.open.apply(this,t),this.scContent.addEventListener(eui.UIEvent.CHANGE,this.moveHandler,this),this.scContent.addEventListener(eui.UIEvent.CHANGE_END,this.outHandler,this),this.ZU24()},t.prototype.close=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];s.prototype.close.call(this),this.scContent.removeEventListener(eui.UIEvent.CHANGE,this.moveHandler,this),this.scContent.removeEventListener(eui.UIEvent.CHANGE_END,this.outHandler,this),this.dataSource.removeAll()},t.prototype.moveHandler=function(t){this.btnArrow.visible=!0},t.prototype.outHandler=function(t){this.btnArrow.visible=!1},t.prototype.uBM=function(t,e){if(s.prototype.uBM.call(this,t),t instanceof TG10)switch(e){case P4.I35:this.ZU24()}},t.prototype.ZU24=function(){var t=App.CM.gtM(O6.B94);0==t.r?this.lbS.$setText(O3.tr(214)):this.lbS.textFlow=M18.HTP.parse(O3.tr(4362,t.r)),this.lbMs.textFlow=M18.HTP.parse(O3.tr(4363,t.inte));var e=TF78.gIV("obtain").split("|");this.dataSource.replaceAll(e)},t}(BaseEuiView);__reflect(AnswerRewardView.prototype,"AnswerRewardView");var answer,AnswerView=function(s){function r(t,e){var i=s.call(this,t,e)||this;return i.timerArray={},i.skinName="AnswerSkin",i}return __extends(r,s),r.prototype.initUI=function(){s.prototype.initUI.call(this),this.initLabel()},r.prototype.initLabel=function(){this.lbStr1.textFlow=M18.HTP.parse(O3.tr(4341)),this.lbStr2.textFlow=M18.HTP.parse(O3.tr(4342)),this.lbStr3.textFlow=M18.HTP.parse(O3.tr(4343)),this.lbStr4.textFlow=M18.HTP.parse(O3.tr(4342)),this.lbStr5.textFlow=M18.HTP.parse(O3.tr(4344)),this.lbStr6.textFlow=M18.HTP.parse(O3.tr(4342)),this.lbStr7.textFlow=M18.HTP.parse(O3.tr(4345)),this.lbStr8.textFlow=M18.HTP.parse(O3.tr(4342)),this.lbStr9.textFlow=M18.HTP.parse(O3.tr(4346)),this.lbStr10.textFlow=M18.HTP.parse(O3.tr(4342)),this.lbStr11.textFlow=M18.HTP.parse(O3.tr(4342)),this.lbStr12.textFlow=M18.HTP.parse(O3.tr(4347)),this.lbStr13.textFlow=M18.HTP.parse(O3.tr(4348)),this.lbStr14.textFlow=M18.HTP.parse(O3.tr(4349)),this.shareBtn.label=O3.tr(4351),this.btnS1.label=O3.tr(4352),this.btnS2.label=O3.tr(4352),this.btnS3.label=O3.tr(4352)},r.prototype.open=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];s.prototype.open.call(this),this.ZU17(),this.ZN28(),this.btnS1.addEventListener(egret.TouchEvent.TOUCH_TAP,this.answerQueOne,this),this.btnS2.addEventListener(egret.TouchEvent.TOUCH_TAP,this.answerQueTwo,this),this.btnS3.addEventListener(egret.TouchEvent.TOUCH_TAP,this.ZR1,this),this.shareBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.shareScore,this)},r.prototype.close=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];s.prototype.close.call(this),this.btnS1.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.answerQueOne,this),this.btnS2.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.answerQueTwo,this),this.btnS3.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.ZR1,this),this.shareBtn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.shareScore,this),this.closeHandler(),this.groupBoss.removeChildren(),this.objBoss&&(this.objBoss.destory(),this.objBoss=null)},r.prototype.closeHandler=function(){for(var t in this.timerArray)App.K16.rBH(this.timerArray[t]),this.timerArray[t]=null;this.timerArray={}},r.prototype.closeSelf=function(){},r.prototype.uBM=function(t,e){if(s.prototype.uBM.call(this,t),t instanceof TG10)switch(e){case P4.O32:this.ZE85(t);break;case P4.U75:this.ZHH94(t);break;case P4.Q32:this.ZK17(t);break;case P4.S12:this.ZU17(),this.ZE86(t);break;case P4.C12:this.ZV9(t);break;case P4.W51:this.clearAnsList(),this.ZE85(t)}t instanceof THH11&&this.ZHH63(t)},r.prototype.ZHH63=function(t){if(t.nType==RankType.answer){var e=t.rankList;if(!e||e.length<=0)this.grpGirl.visible=!0,this.grpPres.visible=!1;else{this.grpGirl.visible=!1,this.grpPres.visible=!0,this.clearGrpPres();for(var i=App.CM.gtM(O6.B82).avatarInfo.n,s=!1,o=0;o<e.length;o++){var r=e[o].nRank;1==r&&(this.lbBigName.textFlow=M18.HTP.parse(O3.tr(4340,e[o].sName)),this.showBoss(e[o].obj)),this["grpPre"+r].visible=!0,this["lbSocre"+r].$setText(e[o].inte),i==e[o].sName&&(s=!0),this["lbName"+r].$setText(e[o].sName)}t.myRankList&&!s&&(this.grpMyPre.visible=!0,this.lbMyName.$setText(t.myRankList.sName),0==t.myRankList.nRank?this.lbMyRank.$setText(O3.tr(214)+" "):this.lbMyRank.$setText(t.myRankList.nRank+"."),this.lbMySocre.$setText(t.myRankList.inte+""))}if(t.myRankList){var n=App.CM.gtM(O6.B94);n.inte=t.myRankList.inte,n.r=t.myRankList.nRank}}},r.prototype.clearGrpPres=function(){for(var t=1;t<=5;t++)this["grpPre"+t].visible=!1;this.grpMyPre.visible=!1},r.prototype.ZE85=function(t){this.ZQ97(t.s),"ansPre"==this.currentState?this.ZD64(t):"ansIng"==this.currentState&&(this.updateQusCd(t),this.updateQus(t),this.ZV9(t),this.ZQ99(t),this.ZK18())},r.prototype.ZD64=function(t){this.cd=t.rcd;var e=P6.FJ11(1e3*this.cd,1);if(this.lbStartTime.textFlow=M18.HTP.parse(O3.tr(4350,e)),0<this.cd){App.K16.isExists(this.cdCut,this)&&(App.K16.remove(this.cdCut,this),this.timerArray[r.CDTIMER]=null);var i=App.K16.doTimer(1e3,this.cd,this.cdCut,this);this.timerArray[r.CDTIMER]=i}this.lbDesc.textFlow=M18.HTP.parser(TF78.gIV("help"));var s=t.cn,o=t.en;this.lbhit.textFlow=M18.HTP.parser(O3.tr(204,s+"",o+""))},r.prototype.ZQ97=function(t){0!=t&&1!=t||(this.currentState="ansPre"),2!=t&&3!=t||(this.currentState="ansIng"),this.initLabel()},r.prototype.ZU17=function(){var t={type:RankType.answer,currPage:1,size:5};App.CM.apF(O6.C19,O18.A5,t)},r.prototype.ZN28=function(){App.CM.apF(O6.B94,M3.A5)},r.prototype.cdCut=function(){this.cd--;var t=P6.FJ11(1e3*this.cd,1);this.lbStartTime.textFlow=M18.HTP.parse(O3.tr(4350,t))},r.prototype.updateQusCd=function(t){if(this.rcd=t.rcd,this.setLbTime(),0<this.rcd){App.K16.isExists(this.rcdCut,this)&&(App.K16.remove(this.rcdCut,this),this.timerArray[r.RCDTIMER]=null);var e=App.K16.doTimer(1e3,this.rcd,this.rcdCut,this);this.timerArray[r.RCDTIMER]=e}var i=t.qn+"",s=TF78.gIV("maxNum");this.lbQusNum.textFlow=M18.HTP.parser(O3.tr(206,i,s))},r.prototype.rcdCut=function(){this.rcd--,this.setLbTime()},r.prototype.setLbTime=function(){var t=App.CM.gtM(O6.B94),e=this.rcd+"s";if(2==t.s)this.lbRtime.textFlow=M18.HTP.parser(O3.tr(205,e));else if(3==t.s){var i=TF78.gIV("maxNum");t.qn==Number(i)?this.lbRtime.textFlow=M18.HTP.parser(O3.tr(213,e)):this.lbRtime.textFlow=M18.HTP.parser(O3.tr(207,e))}},r.prototype.updateQus=function(t){var e=t.qi,i=TF78.FE63(e);this.lbQus.$setText(i.question);for(var s=1;s<=3;s++){var o=this.ZQ98(t,s);this["lbAns"+s].$setText(i[o])}},r.prototype.ZQ98=function(t,e){switch(t.rndMapTurn(e)){case 1:return"answera";case 2:return"answerb";case 3:return"answerc";default:return null}},r.prototype.ZV9=function(t){this.clearAnsList();for(var e=t.answerLists,i=App.CM.gtM(O6.B82).avatarInfo.n,s=0;s<e.length;s++)for(var o=e[s],r=10*(t.ZQ96(o.a)-1),n=o.r,a=0;a<n.length;a++){var h=a+1,p=r+h;this["lbN"+p].$setText(h+"."+n[a]),i==n[a]?this["lbN"+p].$setTextColor("0x44b6fe"):this["lbN"+p].$setTextColor("0xfeeedf")}},r.prototype.clearAnsList=function(){for(var t=1;t<=30;t++)this["lbN"+t].$setText("")},r.prototype.ZQ99=function(t){if(this.ZV10(),2==t.s)if(0==t.ma)for(var e=1;e<=3;e++)this["btnS"+e].label=O3.tr(208),this["btnS"+e].visible=!0;else this["btnS"+(i=t.ZQ96(t.ma))].label=O3.tr(209),this["btnS"+i].visible=!0;else if(3==t.s){var i,s=t.ra;if(this["imgTx"+(i=t.ZQ96(s))].visible=!0,this["imgGou"+i].visible=!0,t.ma!=s&&0!=t.ma){var o=t.ZQ96(t.ma);this["btnS"+o].label=O3.tr(209),this["btnS"+o].visible=!0}else if(t.myAnswer!=s&&0!=t.myAnswer){var r=t.ZQ96(t.myAnswer);this["btnS"+r].label=O3.tr(209),this["btnS"+r].visible=!0}}},r.prototype.ZV10=function(){for(var t=1;t<=3;t++)this["btnS"+t].visible=!1,this["imgTx"+t].visible=!1,this["imgGou"+t].visible=!1},r.prototype.answerQueOne=function(){var t=App.CM.gtM(O6.B94),e=t.rndMapTurn(1),i={answer:e};this.apF(M3.A9,i),t.myAnswer=e},r.prototype.answerQueTwo=function(){var t=App.CM.gtM(O6.B94),e=t.rndMapTurn(2),i={answer:e};this.apF(M3.A9,i),t.myAnswer=e},r.prototype.ZR1=function(){var t=App.CM.gtM(O6.B94),e=t.rndMapTurn(3),i={answer:e};this.apF(M3.A9,i),t.myAnswer=e},r.prototype.ZHH94=function(t){var e=t.myAnswer,i=t.ZQ96(e);this.ZV10(),this["btnS"+i].label=O3.tr(209),this["btnS"+i].visible=!0},r.prototype.ZE86=function(t){this.ZQ97(t.s),"ansPre"==this.currentState?this.ZD64(t):"ansIng"==this.currentState&&(this.updateQusCd(t),this.ZQ99(t))},r.prototype.ZK17=function(t){this.ZQ97(t.s),"ansPre"==this.currentState?this.ZD64(t):"ansIng"==this.currentState&&(this.ZK18(),this.clearAnsList(),this.updateQusCd(t),this.updateQus(t),this.ZQ99(t))},r.prototype.ZK18=function(){if(!this.timerArray[r.ANSLIS_TTIMER]){var t=App.K16.doTimer(1e3,0,this.ZK19,this);this.timerArray[r.ANSLIS_TTIMER]=t}},r.prototype.ZK19=function(){App.CM.apF(O6.B94,M3.A1)},r.prototype.shareScore=function(){var t=App.CM.gtM(O6.B94),e=t.cn,i=t.en,s=M18.format("$0,$1",[e,i]),o={nid:F8.A16,channelId:1,param:s};App.CM.apF(O6.C13,O12.A13,o)},r.prototype.showBoss=function(t){null==this.objBoss&&(this.objBoss=new FightGameObject),this.objBoss.action=Action.Stand;var e={x:0,y:0,dir:Dir.br,objType:P13.A6,sr:1};this.objBoss.setBaseData(e),t.bt=BehaviourType.Attack_d,this.objBoss.setData(t,this.groupBoss)},r.CDTIMER="cdTimer",r.RCDTIMER="rcdTimer",r.ANSLIS_TTIMER="ansListTimer",r}(BaseEuiView);__reflect(AnswerView.prototype,"AnswerView"),function(t){var e=function(t){this.r=[],this.a=t.a,this.r=t.r};(answer||(answer={})).AnswerList=e,__reflect(e.prototype,"answer.AnswerList")}();var M15=function(){function o(){}return o.FK35=function(t){o.init=t.arena_init,o.award=t.arena_award,o.lucky=t.arena_lucky,o.npc=t.arena_npc,this.awardList=o.award,this.luckAwardList=o.lucky},o.FF82=function(){return o.init.openLevel.value},o.FC77=function(){return o.init.fightInitCount.value},o.FD71=function(t){if(null!=t)for(var e=o.init.buyArena.value.split(","),i=0;i<e.length;i++)if(i==t)return e[i]},o.FF83=function(t){for(var e=0,i=o.init.fightBuyCosts.value.split(","),s=0;s<i.length;s++)s==t&&(e=parseInt(i[s]));return e},o.FF84=function(){return o.init.fightBuyCosts.value.split(",").length},o.FHH92=function(){return o.init.rank.value},o.FG83=function(t){for(var e in this.awardList){if(t>=this.awardList[e].startrk&&t<=this.awardList[e].endrk)return M18.FL28(this.awardList[e].items,";",":")}},o.FC78=function(t){for(var e in this.luckAwardList){if(t>=this.luckAwardList[e].top&&t<=this.luckAwardList[e].low)return M18.FL28(this.luckAwardList[e].items,";",":")}},o.FJ29=function(t){var e=o.npc;for(var i in e)if(t>=e[i].rankleft&&t<=e[i].rankright)return parseInt(e[i].power)},o.FK44=function(t){var e=o.npc;for(var i in e)if(t>=e[i].rankleft&&t<=e[i].rankright)return e[i].name},o}();__reflect(M15.prototype,"M15");var N6=function(){function t(){}return t.A16=10001,t.A17=10002,t.A36=10003,t.A37=10004,t.A2=10005,t.A3=10006,t.A6=10007,t.A7=10008,t.A18=10009,t.A19=10010,t.A4=10011,t.A5=10012,t.A20=10013,t.A21=10014,t.A1=10015,t.A30=10016,t.A8=10017,t.A25=10018,t.A26=10019,t.A11=10020,t.A12=10021,t.A31=11003,t.A27=11004,t.A22=11005,t.A13=11006,t.A32=11007,t.A28=11008,t.A10=11009,t.A9=11010,t.A23=11011,t.A14=11012,t.A33=11013,t.A29=11014,t.A24=11015,t.A15=11016,t.A35=11017,t.A34=11018,t}();__reflect(N6.prototype,"N6");var TD84=function(i){function t(){var t=i.call(this)||this;App.VM.register(O7.HH22,"ArenaMainView",t,K17.UI_Main_TOP),t.rgF(N6.A31,t.GK86,t),t.rgF(N6.A27,t.GI87,t),App.VM.register(O7.F87,"ArenaRecordView",t,K17.UI_Main_TOP),t.rgF(N6.A22,t.GHH9,t),t.rgF(N6.A13,t.GF45,t),App.VM.register(O7.HH44,"ArenaRankView",t,K17.UI_Main_TOP),t.rgF(N6.A32,t.GK87,t),t.rgF(N6.A28,t.GI88,t),App.VM.register(O7.D23,"ArenaLuckyRankView",t,K17.UI_Main_TOP),t.rgF(N6.A10,t.GD30,t),t.rgF(N6.A9,t.GC40,t),App.VM.register(O7.F88,"ArenaBuyTipView",t,K17.UI_Popup),t.rgF(N6.A23,t.GHH10,t),t.rgF(N6.A14,t.GF46,t),t.rgF(N6.A35,t.GM62,t),t.rgF(N6.A34,t.GK88,t),App.VM.register(O7.F89,"ArenaRewardView",t,K17.UI_Popup),t.rgF(N6.A24,t.GHH11,t),t.rgF(N6.A15,t.GF47,t);var e=new TG48(t);return e.aLV(O7.HH22),e.aLV(O7.D22),e.aLV(O7.F87),e.aLV(O7.HH44),e.aLV(O7.D23),e.aLV(O7.F88),e.aLV(O7.HH98),e.aLV(O7.I3),e.aLV(O7.HH29),e.aLV(O7.F89),e.aLV(O7.I64),e.aLV(O7.I63),e.aLV(O7.I39),t.arenaProxy=new TG49(t),t.rgF(N6.A16,t.GK84,t),t.rgF(N6.A17,t.GK85,t),t.rgF(N6.A36,t.GS25,t),t.rgF(N6.A37,t.GS26,t),t.rgF(N6.A2,t.GB60,t),t.rgF(N6.A3,t.GB61,t),t.rgF(N6.A6,t.GF42,t),t.rgF(N6.A7,t.GF43,t),t.rgF(N6.A18,t.GM58,t),t.rgF(N6.A19,t.GM59,t),t.rgF(N6.A4,t.GE30,t),t.rgF(N6.A5,t.GE31,t),t.rgF(N6.A20,t.GM60,t),t.rgF(N6.A21,t.GM61,t),t.rgF(N6.A30,t.GO48,t),t.rgF(N6.A8,t.GF44,t),t.rgF(N6.A11,t.GK82,t),t.rgF(N6.A12,t.GK83,t),t}return __extends(t,i),t.prototype.GK82=function(t){this.arenaProxy.GK82(t)},t.prototype.GK83=function(t){var e=this.gtM();if(e.lock=1,200==t.head.state){if(e.initData(t.body),e.ZV11(t.body.views),e.ZG32(t.body.report,!1),e.notify(),t.body.ob){var i={rewards:t.body.ob};App.VM.open(O7.F74,!0,i)}}else P18.sDP(K18.getTips(t.head.state))},t.prototype.GK84=function(){this.arenaProxy.ZHH95()},t.prototype.GK85=function(t){if(200==t.head.state){var e=this.gtM();e.initData(t.body),e.ZV11(t.body.views),e.notify(),0<e.nCdTime&&this.GS27()}else P18.sDP(K18.getTips(t.head.state))},t.prototype.GS25=function(t){if(App.CM.gtM(O6.B99).canReqAtk){this.ZT94(O6.B99,N1.A5,!1);var e=this.gtM(),i={rank:e.myViewList[t].nRank,targeId:e.myViewList[t].nId};this.arenaProxy.ZK21(i)}},t.prototype.GS26=function(t){var i=this,s=this.gtM();if(null!=t){if(200!=t.head.state)return s.lock=1,321==t.head.state?this.apF(N6.A35):P18.sDP(K18.getTips(t.head.state)),void this.ZT94(O6.B99,N1.A5);if(t.body.cd_)P7.fightCoolingCD(t.body.cd_);else{P7.isGetView(O7.HH22);s.initData(t.body),s.ZV11(t.body.views),s.ZG32(t.body.report,!1),s.notify(),this.apF(N6.A27),App.VM.isOpen(O7.HH23)&&App.CM.apF(O6.C5,N3.A47),App.SceneManager.runScene(M2.A4),App.VM.isOpen(O7.G55)&&App.VM.close(O7.G55),App.CM.apF(O6.B99,N1.A11,t.body.fr,{rewards:t.body.ob,type:P15.A14,needResult:!0},function(t,e){e&&i.apF(N6.A31),s.lock=1},this)}}else s.lock=1},t.prototype.GB60=function(){this.arenaProxy.ZA39()},t.prototype.GB61=function(t){if(200==t.head.state){var e=this.gtM();e.initData(t.body),e.notify()}else P18.sDP(K18.getTips(t.head.state))},t.prototype.GF42=function(t){var e={ten:t};this.arenaProxy.ZB65(e)},t.prototype.GF43=function(t){if(200==t.head.state){P18.sDP(O3.tr(320));var e=this.gtM();e.initData(t.body),e.notify()}else P18.sDP(K18.getTips(t.head.state))},t.prototype.GM58=function(){this.arenaProxy.ZD65()},t.prototype.GM59=function(t){if(200==t.head.state){var e=this.gtM();e.ZK20(t.body.rl),e.notify(P4.R96)}else P18.sDP(K18.getTips(t.head.state))},t.prototype.GE30=function(){this.arenaProxy.ZA94()},t.prototype.GE31=function(t){if(200==t.head.state){var e=this.gtM();e.ZC93(t.body.ll),e.notify(P4.G69)}else P18.sDP(K18.getTips(t.head.state))},t.prototype.GM60=function(t){return this.arenaProxy.ZD67()},t.prototype.GM61=function(t){if(200==t.head.state){var e=this.gtM();e.initData(t.body),e.ZG32(t.body.report,!0),e.notify(),0<e.nCdTime&&this.GS27()}else P18.sDP(K18.getTips(t.head.state))},t.prototype.GO48=function(t){if(200==t.head.state){var e=this.gtM();e.initData(t.body),e.notify()}else P18.sDP(K18.getTips(t.head.state))},t.prototype.GF44=function(t){if(200==t.head.state){var e=this.gtM();e.initData(t.body),e.ZG32(t.body.report,!1),e.notify()}else P18.sDP(K18.getTips(t.head.state))},t.prototype.GK86=function(){App.VM.open(O7.HH22)},t.prototype.GI87=function(){App.VM.close(O7.HH22)},t.prototype.GHH9=function(){App.VM.open(O7.F87)},t.prototype.GF45=function(){App.VM.close(O7.F87)},t.prototype.GK87=function(){App.VM.open(O7.HH44)},t.prototype.GI88=function(){App.VM.close(O7.HH44)},t.prototype.GD30=function(){App.VM.open(O7.D23)},t.prototype.GC40=function(){App.VM.close(O7.D23)},t.prototype.GHH10=function(){App.VM.open(O7.F88)},t.prototype.GF46=function(){App.VM.close(O7.F88)},t.prototype.GHH11=function(t){App.VM.open(O7.F89,t)},t.prototype.GF47=function(){App.VM.close(O7.F89)},t.prototype.GM62=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var i=t[0];App.VM.open(O7.I12,i);var s=App.VM.gOV(O7.I12);s.lbContent.text=O3.tr(324),s.stringTip="",s.controllerConst=O6.C4,s.reqConst=N6.A16},t.prototype.GK88=function(){App.VM.close(O7.I12)},t.prototype.GK89=function(){App.VM.open(O7.HH98,O7.HH29,P12.A26)},t.prototype.GS27=function(){var t=App.CM.gtM(O6.C4);null==this._timerHandler&&(this._timerHandler=App.K16.doTimer(1e3,t.nCdTime,this.GY14,this,this.GO49,this))},t.prototype.GO49=function(){App.CM.apF(O6.C4,N6.A2),this._timerHandler&&(App.K16.rBH(this._timerHandler),this._timerHandler=null)},t.prototype.GY14=function(){var t=App.CM.gtM(O6.C4);t.nCdTime--,t.notify("time")},t}(TE11);__reflect(TD84.prototype,"TD84");var TG48=function(i){function t(t){var e=i.call(this,t)||this;return e.nCdTime=0,e.nBuyTimes=0,e.nMyRank=0,e.nTopRank=0,e}return __extends(t,i),t.prototype.initData=function(t){if(null!=t){this.nCdTime=null!=t.ccd?t.ccd:this.nCdTime,this.nBuyTimes=null!=t.vc?t.vc:this.nBuyTimes,this.nClTimes=null!=t.c?t.c:this.nClTimes,this.nMyRank=null!=t.r?t.r:this.nMyRank,this.nTopRank=null!=t.hr?t.hr:this.nTopRank,this.arenaLuckyList=null!=t.li?t.li:this.arenaLuckyList;var e=TF59.FB15(F7.A97);e&&e.openState&&(e.ZC13(!0),e.notify());var i=TF59.FB15(F7.A65);i&&i.openState&&(i.ZC13(!0),i.notify())}},t.prototype.isLuckyOne=function(t){if(null!=this.arenaLuckyList&&0<this.arenaLuckyList.length)for(var e=0;e<this.arenaLuckyList.length;e++)if(t==this.arenaLuckyList[e].k)return this.arenaLuckyList[e].v;return!1},t.prototype.ZV11=function(t){if(this.myViewList=[],null!=t&&0<t.length)for(var e=0;e<t.length;e++){var i=new ArenaData(t[e]);this.myViewList[e]=i}},t.prototype.ZK20=function(t){if(this.arenaRankList=[],null!=t&&0<t.length)for(var e=0;e<t.length;e++)this.arenaRankList.push({nRank:t[e].rank,sName:t[e].name,nPower:t[e].sc,index:e+1,nId:t[e].aid,nType:1,obj:t[e].u})},t.prototype.ZC93=function(t){if(this.arenaLuckyRankList=[],null!=t&&0<t.length)for(var e=0;e<t.length;e++)this.arenaLuckyRankList.push({nRank:t[e].rank,sName:t[e].name,nPower:t[e].sc,index:e+1,nType:2})},t.prototype.ZG32=function(t,e){if(t){if(e){if(this.arenaFightList=[],0<t.length)for(var i=0;i<t.length;i++)this.arenaFightList.push({sAckName:t[i].ackName,sDefName:t[i].defName,nTime:t[i].time,nRank:t[i].rank,nResult:t[i].result,index:0})}else this.arenaFightList=null!=this.arenaFightList?this.arenaFightList:[],this.arenaFightList.push({sAckName:t[0].ackName,sDefName:t[0].defName,nTime:t[0].time,nRank:t[0].rank,nResult:t[0].result,index:0});this.arenaFightList.sort(function(t,e){return t.nTime>e.nTime?-1:1}),this.arenaFightList.length>M15.init.recordCount.value&&this.arenaFightList.splice(this.arenaFightList.length-1,1)}},t.prototype.notify=function(t){if("time"==t){var e=App.VM.gOV(O7.D22);e&&e.uBM(this,t)}else i.prototype.notifyView.call(this,this,t)},t.prototype.getTopRank=function(){return this.nTopRank},t}(TG79);__reflect(TG48.prototype,"TG48");var TG49=function(i){function t(t){var e=i.call(this,t)||this;return e.rSM(P4.U67,e.ZN29,e),e.rSM(P4.K6,e.GF44,e),e}return __extends(t,i),t.prototype.ZN29=function(t){this.apF(N6.A30,t)},t.prototype.GF44=function(t){this.apF(N6.A8,t)},t.prototype.GK82=function(t){var e={type:P4.Q16,body:t};this.rSMO(P4.Q17,this.GK83,this),this.sSM(e)},t.prototype.GK83=function(t){this.apF(N6.A12,t)},t.prototype.ZHH95=function(){var t={type:P4.R93,body:{}};this.rSMO(P4.R94,this.ZHH96,this),this.sSM(t)},t.prototype.ZHH96=function(t){this.apF(N6.A17,t)},t.prototype.ZK21=function(t){var e={type:P4.W42,body:t};this.rSMO(P4.W43,this.ZK22,this),this.sSM(e)},t.prototype.ZK22=function(t){this.apF(N6.A37,t)},t.prototype.ZA39=function(){var t={type:P4.D78,body:{}};this.rSMO(P4.D79,this.ZB64,this),this.sSM(t)},t.prototype.ZB64=function(t){this.apF(N6.A3,t)},t.prototype.ZB65=function(t){var e={type:P4.K4,body:t};this.rSMO(P4.K5,this.ZB30,this),this.sSM(e)},t.prototype.ZB30=function(t){this.apF(N6.A7,t)},t.prototype.ZD65=function(){var t={type:P4.R95,body:{}};this.rSMO(P4.R96,this.ZD66,this),this.sSM(t)},t.prototype.ZD66=function(t){this.apF(N6.A19,t)},t.prototype.ZA94=function(){var t={type:P4.G68,body:{}};this.rSMO(P4.G69,this.ZA95,this),this.sSM(t)},t.prototype.ZA95=function(t){this.apF(N6.A5,t)},t.prototype.ZD67=function(){var s=this;return new Promise(function(e,t){var i={type:P4.R97,body:{}};s.rSMO(P4.R98,function(t){s.apF(N6.A21,t),e("加载竞技场数据完成")},s),s.sSM(i)})},t.prototype.ZK23=function(t){var e={type:P4.T41,body:t};this.rSMO(P4.T42,this.ZK24,this),this.sSM(e)},t.prototype.ZK24=function(t){this.apF(N6.A26,t)},t}(TG80);__reflect(TG49.prototype,"TG49");var ArenaBuyTipView=function(l){function t(t,e){var i=l.call(this,t,e)||this;return i.skinName="ArenaBuyTip",i}return __extends(t,l),t.prototype.initUI=function(){l.prototype.initUI.call(this)},t.prototype.initData=function(){l.prototype.initData.call(this),this.lbTitle.text=O3.tr(5870),this.buyBtn.label=O3.tr(5869)},t.prototype.open=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];l.prototype.open.call(this),this.bgMask.addEventListener(egret.TouchEvent.TOUCH_TAP,this.closeSelf,this),this.backBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.closeSelf,this),this.closeBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.closeSelf,this),this.buyBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.buyClick,this);var i=App.CM.gtM(O6.B82),s=App.CM.gtM(O6.C4);this.nVip=i.avatarInfo.v,this.vipBuyTime=K18.vip[this.nVip].arenabuylimit;var o=this.vipBuyTime-s.nBuyTimes,r=O3.tr(306,o,this.vipBuyTime);0==o&&(r=O3.tr(323,o,this.vipBuyTime));var n=O3.tr(307,r);this.lbTip.textFlow=(new egret.HtmlTextParser).parser(n);var a=this.nVip,h=this.vipBuyTime;K18.vip[a+1]&&(a=this.nVip+1,h=K18.vip[a].arenabuylimit);var p=O3.tr(308,a,h);this.lbTip1.textFlow=(new egret.HtmlTextParser).parser(p),this.ZN30()},t.prototype.ZN30=function(){var t=App.CM.gtM(O6.B82).avatarInfo.g,e=App.CM.gtM(O6.C4),i=M15.FF83(e.nBuyTimes),s=O3.tr(306,parseInt(i),t);this.lbAmount.textFlow=(new egret.HtmlTextParser).parser(s);var o=M15.init.buyNum.value,r=O3.tr(327,parseInt(i),o);this.lbOne.textFlow=(new egret.HtmlTextParser).parser(r)},t.prototype.uBM=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];l.prototype.uBM.call(this,t,e),t instanceof TG48&&this.ZG33(t),this.ZN30()},t.prototype.ZG33=function(t){var e=this.vipBuyTime-t.nBuyTimes,i=O3.tr(306,e,this.vipBuyTime);0==e&&(i=O3.tr(323,e,this.vipBuyTime));var s=O3.tr(307,i);this.lbTip.textFlow=(new egret.HtmlTextParser).parser(s)},t.prototype.close=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];l.prototype.close.call(this),this.bgMask.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.closeSelf,this),this.closeBtn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.closeSelf,this),this.buyBtn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.buyClick,this),this.nVip=null,this.vipBuyTime=null},t.prototype.closeSelf=function(){this.apF(N6.A14)},t.prototype.buyClick=function(){var t=App.CM.gtM(O6.B82),e=App.CM.gtM(O6.C4);if(t.avatarInfo.g<M15.FF83(e.nBuyTimes))return P7.FA78(),void this.apF(N6.A14);e.nBuyTimes<this.vipBuyTime?this.apF(N6.A6,1):P18.sDP(O3.tr(319)),this.apF(N6.A14)},t}(BaseEuiView);__reflect(ArenaBuyTipView.prototype,"ArenaBuyTipView");var ArenaChallengeView=function(o){function t(t,e){var i=o.call(this,t,e)||this;return i.viewNum=5,i.skinName="ArenaChallengeSkin",i.grps=[i.roleFirst,i.roleSec,i.roleThird,i.roleForth,i.roleFifth],i}return __extends(t,o),t.prototype.initUI=function(){o.prototype.initUI.call(this),this.lbCheckRank.textFlow=O3.tr2(7385),this.btnBuy.label=O3.tr(4284),this.lbStr1.textFlow=M18.HTP.parse(O3.tr(4285))},t.prototype.initData=function(){o.prototype.initData.call(this)},t.prototype.open=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];o.prototype.open.call(this),this.lbCheckRank.addEventListener(egret.TextEvent.LINK,this.onClickRank,this),this.btnRank.addEventListener(egret.TouchEvent.TOUCH_TAP,this.ZK26,this),this.btnRecord.addEventListener(egret.TouchEvent.TOUCH_TAP,this.ZU49,this),this.initRoleView(),App.CM.gtM(O6.C4).lock=1,this.apF(N6.A16);var i=App.CM.gtM(O6.B82).avatarInfo.s,s=O3.tr(301,i);this.lbPower.textFlow=M18.HTP.parser(s),this.btnBuy.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onBuyClick,this)},t.prototype.initRoleView=function(){this.roleArray=[];for(var t=0;t<this.viewNum;t++)if(!this.roleArray[t]){var e=new ItemArenaRoleView(t);this.roleArray.push(e),this.grps[t].addChild(this.roleArray[t])}},t.prototype.onBuyClick=function(){var t=App.CM.gtM(O6.B82),e=App.CM.gtM(O6.C4),i=t.avatarInfo.v;K18.vip[i].arenabuylimit-e.nBuyTimes<=0?P18.sDP(O3.tr(319)):this.aCF(O6.C4,N6.A23)},t.prototype.uBM=function(t,e){if(o.prototype.uBM.call(this,t,e),t instanceof TG48)if("time"==e){var i=O3.tr(302,P6.FJ11(1e3*t.nCdTime,1));this.lbTime.textFlow=M18.HTP.parse(i)}else this.ZG33(t)},t.prototype.ZG33=function(t){this.ZK25(t.nMyRank),this.ZN31(t.myViewList);var e=t.nClTimes,i="";i=0<e?O3.tr(303,e,M15.FC77()):O3.tr(304,e,M15.FC77()),this.lbLeftNum.textFlow=M18.HTP.parser(i),t.isLuckyOne(t.nMyRank)?this.groupLuck.$setVisible(!0):this.groupLuck.$setVisible(!1),t.nClTimes>=M15.FC77()?this.lbTime.$setVisible(!1):this.lbTime.$setVisible(!0);var s=O3.tr(300,t.nMyRank);this.lbRank.textFlow=M18.HTP.parser(s)},t.prototype.ZN31=function(t){if(t.length<this.viewNum)for(var e=t.length;e<this.viewNum;e++)this.roleArray[e]&&this.grps[e].removeChild(this.roleArray[e]);if(t&&0<t.length)for(e=0;e<t.length;e++)this.roleArray[e].setData(t[e])},t.prototype.ZK25=function(t){var e=M15.FG83(t);if(e[0]){this.iconReward0||(this.iconReward0=new ItemIcon,this.passGroup0.addChild(this.iconReward0));var i=N12.gID(e[0][0]),s=e[0][1];if(i){var o={itemData:{data:i,ct:s},isBottom:!1};this.iconReward0.data=o}}if(e[1]){this.iconReward1||(this.iconReward1=new ItemIcon,this.passGroup1.addChild(this.iconReward1));var r=N12.gID(e[1][0]),n=e[1][1];if(r){var a={itemData:{data:r,ct:n},isBottom:!1};this.iconReward1.data=a}}},t.prototype.onClickRank=function(){App.CM.apF(O6.C4,N6.A32)},t.prototype.ZK26=function(){App.CM.apF(O6.C4,N6.A10)},t.prototype.ZU49=function(){App.CM.apF(O6.C4,N6.A22)},t.prototype.close=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var i in o.prototype.close.call(this),this.grps)this.grps[i].removeChildren();this.roleArray=null,this.btnBuy.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onBuyClick,this),this.btnRecord.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.ZU49,this),this.btnRecord.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.ZU49,this),this.lbCheckRank.removeEventListener(egret.TextEvent.LINK,this.onClickRank,this)},t}(BaseEuiView);__reflect(ArenaChallengeView.prototype,"ArenaChallengeView");var ArenaLuckyRankView=function(o){function t(t,e){var i=o.call(this,t,e)||this;i.skinName="ArenaLuckRank",i.groupLuck.$setVisible(!1),i.grpCost.$setVisible(!1);var s=O3.tr(309);return i.lbTip.textFlow=(new egret.HtmlTextParser).parser(s),i}return __extends(t,o),t.prototype.initUI=function(){o.prototype.initUI.call(this),this.dlg.title=O3.tr(318);var t={render:ItemArenaRankView,gap:10,width:this.listGroup.width,height:this.listGroup.height,arrowScale:1};this.listView=new CommonListBase(t),this.listGroup.addChild(this.listView),this.listView.verticalCenter=0,this.listView.horizontalCenter=0,this.lbName.textFlow=M18.HTP.parse(O3.tr(5769)),this.lbPower.textFlow=M18.HTP.parse(O3.tr(5770)),this.lbReward.textFlow=M18.HTP.parse(O3.tr(5771)),this.stringLb1.textFlow=M18.HTP.parse(O3.tr(4285)),this.stringLb2.textFlow=M18.HTP.parse(O3.tr(4292))},t.prototype.initData=function(){o.prototype.initData.call(this)},t.prototype.open=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];o.prototype.open.call(this),this.dlg.ZM69(this.closeSelf,this),this.listView.open(),this.apF(N6.A4)},t.prototype.uBM=function(t,e){o.prototype.uBM.call(this,t,e),t instanceof TG48&&e==P4.G69&&this.ZG33(t)},t.prototype.ZG33=function(t){var e=t.arenaLuckyRankList;this.lbRank.text=O3.tr(311),e&&0<e.length&&this.listView.rfL(e);var i=O3.tr(310,t.nMyRank);this.lbMyRank.textFlow=(new egret.HtmlTextParser).parser(i),t.isLuckyOne(t.nMyRank)?(this.groupLuck.$setVisible(!0),this.grpCost.$setVisible(!0),this.showAward(t.nMyRank)):(this.groupLuck.$setVisible(!1),this.grpCost.$setVisible(!1))},t.prototype.showAward=function(t){var e=M15.FC78(t);if(e[0]){this.iconReward0||(this.iconReward0=new ItemIcon,this.passGroup0.addChild(this.iconReward0),this.iconReward0.setIconScale(.5));var i=N12.gID(e[0][0]);if(this.lbAward0.text=e[0][1],i){var s={itemData:{data:i,ct:0},isBottom:!1};this.iconReward0.data=s}}if(e[1]){this.iconReward1||(this.iconReward1=new ItemIcon,this.passGroup1.addChild(this.iconReward1),this.iconReward1.setIconScale(.5));var o=N12.gID(e[1][0]);if(this.lbAward1.text=e[1][1],o){var r={itemData:{data:o,ct:0},isBottom:!1};this.iconReward1.data=r}}},t.prototype.closeSelf=function(){App.CM.apF(O6.C4,N6.A9)},t.prototype.close=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];o.prototype.close.call(this),this.listView.close()},t}(BaseEuiView);__reflect(ArenaLuckyRankView.prototype,"ArenaLuckyRankView");var ArenaMainView=function(r){function t(t,e){var i=r.call(this,t,e)||this;i.sGN("release_arena"),App.VM.rgS(O7.HH22,O7.D22,"ArenaChallengeView",i.content),i.helpBtn.$setVisible(!0);var s=[O3.tr(7426)],o=[O7.D22];return App.CM.gtM(O6.A89).openState&&(App.VM.rgS(O7.HH22,O7.G29,"CrossLeagueView",i.content),s.push(O3.tr(7468)),o.push(O7.G29)),0<App.CM.gtM(O6.HeroBattle).st&&(App.VM.rgS(O7.HH22,O7.HeroBattle,"HeroBattleView",i.content),s.push(O3.tr(8815)),o.push(O7.HeroBattle)),i.btnList=new ButtonList(s,o,i.ZQ23.bind(i)),i.btnList.init(),i.btnGroup.addChild(i.btnList),i}return __extends(t,r),t.prototype.initUI=function(){r.prototype.initUI.call(this)},t.prototype.open=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];r.prototype.open.call(this,t),this.updateRed(),this.btnShop=new com.Button,this.btnShop.bgStr="v1_btn_jingjishangdian_png",this.content.addChild(this.btnShop),this.btnShop.$setX(60),this.btnShop.$setY(-58),this.btnShop.addEventListener(egret.TouchEvent.TOUCH_TAP,this.ZN32,this),this.helpBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.openHelpView,this);var i=t[0]||O7.D22;this.ZQ23(i)},t.prototype.ZQ23=function(t){switch(this.btnShop.bgStr="v1_btn_jingjishangdian_png",this.helpBtn.visible=this.btnShop.visible=!0,t){case O7.D22:this.title=O3.tr(7426),this.btnList.ZM66(t);break;case O7.F87:this.title=O3.tr(316),this.btnList.ZM66(t);break;case O7.HH44:this.title=O3.tr(317),this.btnList.ZM66(t);break;case O7.D23:this.title=O3.tr(318),this.btnList.ZM66(t);break;case O7.G29:var e=App.CM.gtM(O6.A89).openState;e&&CrossLeague.Config.isOpen()?(this.btnShop.visible=!1,this.title=O3.tr(7468),this.btnList.ZM66(t)):e?P18.sDP(O3.tr(5054,CrossLeague.Config.openDate,CrossLeague.Config.openLv)):P18.sDP(O3.tr(3205));break;case O7.HeroBattle:if(HeroBattleConfig.isOpen()){var i=App.CM.gtM(O6.C12);9<=THH1.FD12(i)?(this.btnShop.visible=!0,this.btnShop.bgStr="com_bidoushangdian_png",this.title=O3.tr(8815),this.btnList.ZM66(t)):P18.sDP(O3.tr(8988))}else P18.sDP(O3.tr(5054,HeroBattleConfig.openDay,HeroBattleConfig.openLv))}this.curView=t,this.content.addChildAt(this.btnShop,this.content.numChildren-1)},t.prototype.uBM=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];r.prototype.uBM.call(this,t,e),this.updateRed()},t.prototype.updateRed=function(){var t=App.CM.gtM(O6.A89);this.btnList.ZHH58(O7.G29,t.FL35());var e=App.CM.gtM(O6.C4);this.ZG33(e);var i=App.CM.gtM(O6.HeroBattle);this.btnList.ZHH58(O7.HeroBattle,i.FL35())},t.prototype.ZG33=function(t){this.btnList.ZHH58(O7.D22,t.nClTimes)},t.prototype.close=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];r.prototype.close.call(this,t),this.btnShop.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.ZN32,this),this.helpBtn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.openHelpView,this)},t.prototype.ZN32=function(){if(this.curView==O7.D22){if(O4.getLv()<(e=N15.FG47(P12.A26))){var t=K18.init.commonDesc1.value;return void P18.sDP(M18.format(t,[e]))}App.VM.open(O7.HH98,O7.HH29,P12.A26)}else if(this.curView==O7.HeroBattle){var e;if(O4.getLv()<(e=N15.FG47(P12.HEROBATTLE_SHOP))){t=K18.init.commonDesc1.value;return void P18.sDP(M18.format(t,[e]))}App.VM.open(O7.HH98,O7.HH29,P12.HEROBATTLE_SHOP)}},t.prototype.openHelpView=function(){var t=this.btnList.getCurView();if(t==O7.D22){var e={title:O3.tr(2635),content:M15.init.help.value};App.VM.open(O7.I8,e)}else if(t==O7.G29){e={title:O3.tr(7495),content:O3.tr(7496)};App.VM.open(O7.I8,e)}else if(t==O7.HeroBattle){e={title:O3.tr(8827),content:O3.tr(8828)};App.VM.open(O7.I8,e)}},t}(BasePanelView);__reflect(ArenaMainView.prototype,"ArenaMainView");var ArenaRankView=function(s){function t(t,e){var i=s.call(this,t,e)||this;return i.roleArray=[],i.skinName="ArenaRank",i.lbRank.text=O3.tr(325,M15.FHH92()),i.groupLuck.$setVisible(!1),i.grps=[i.group1,i.group2,i.group3],i.initRoleView(),i}return __extends(t,s),t.prototype.initUI=function(){s.prototype.initUI.call(this);var t={render:ItemArenaRankView,gap:10,width:this.listGroup.width,height:this.listGroup.height,arrowScale:1};this.listView=new CommonListBase(t),this.listGroup.addChild(this.listView),this.listView.verticalCenter=0,this.listView.horizontalCenter=0,this.lbName.textFlow=M18.HTP.parse(O3.tr(4289)),this.lbPower.textFlow=M18.HTP.parse(O3.tr(4290)),this.lbReward.textFlow=M18.HTP.parse(O3.tr(4291)),this.lbStr1.textFlow=M18.HTP.parse(O3.tr(4292)),this.lbStr2.textFlow=M18.HTP.parse(O3.tr(4293)),this.dlg.title=O3.tr(317),this.lbTip.textFlow=O3.tr2(305)},t.prototype.initData=function(){s.prototype.initData.call(this)},t.prototype.open=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];s.prototype.open.call(this),this.dlg.ZM69(this.closeSelf,this),this.listView.open(),this.apF(N6.A18),this.btnShop.addEventListener(egret.TouchEvent.TOUCH_TAP,this.ZN32,this)},t.prototype.uBM=function(t,e){s.prototype.uBM.call(this,t,e),t instanceof TG48&&e==P4.R96&&this.ZG33(t)},t.prototype.ZG33=function(t){var e=t.arenaRankList;e&&0<e.length&&(this.listView.rfL(e),this.ZN31(e));var i=O3.tr(310,t.nMyRank);this.lbMyRank.textFlow=M18.HTP.parser(i),t.isLuckyOne(t.nMyRank)?this.groupLuck.$setVisible(!0):this.groupLuck.$setVisible(!1),this.showAward(t.nMyRank)},t.prototype.showAward=function(t){var e=M15.FG83(t);if(e[0]){this.iconReward0||(this.iconReward0=new ItemIcon,this.passGroup0.addChild(this.iconReward0),this.iconReward0.setIconScale(.5));var i=N12.gID(e[0][0]);if(this.lbAward0.textFlow=M18.HTP.parse(O3.tr(4294,e[0][1])),i){var s={itemData:{data:i,ct:0},isBottom:!1};this.iconReward0.data=s}}if(e[1]){this.iconReward1||(this.iconReward1=new ItemIcon,this.passGroup1.addChild(this.iconReward1),this.iconReward1.setIconScale(.5));var o=N12.gID(e[1][0]);if(this.lbAward1.textFlow=M18.HTP.parse(O3.tr(4295,e[1][1])),o){var r={itemData:{data:o,ct:0},isBottom:!1};this.iconReward1.data=r}}},t.prototype.initRoleView=function(){for(var t=0;t<3;t++)if(!this.roleArray[t]){var e=new ItemArenaRankRoleView(t);this.roleArray.push(e),this.grps[t].addChild(this.roleArray[t])}},t.prototype.ZN31=function(t){for(var e=0;e<3;e++)this.roleArray[e].setData(t[e])},t.prototype.ZN32=function(){var t=O4.getLv(),e=N15.FG47(P12.A26);if(t<e){var i=K18.init.commonDesc1.value;P18.sDP(M18.format(i,[e]))}else App.VM.open(O7.HH98,O7.HH29,P12.A26)},t.prototype.closeSelf=function(){App.CM.apF(O6.C4,N6.A28)},t.prototype.close=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var i in s.prototype.close.call(this),this.listView.close(),this.btnShop.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.ZN32,this),this.grps)this.grps[i].removeChildren()},t}(BaseEuiView);__reflect(ArenaRankView.prototype,"ArenaRankView");var ItemArenaRankRoleView=function(i){function t(t){var e=i.call(this)||this;return e.index=t,e.skinName=ArenaRankRoleView,e.initUI(),e.addEventListener(egret.Event.REMOVED_FROM_STAGE,e.close,e),e}return __extends(t,i),t.prototype.initUI=function(){this.setRankImg()},t.prototype.setData=function(t){this.lbPlayerName.text=t.sName.toString(),this.showBoss(t.obj)},t.prototype.showBoss=function(t){if(this.objBoss&&(this.objBoss.destory(),this.objBoss=null),this.grpBossArm.removeChildren(),null==this.objBoss){this.objBoss=new FightGameObject,this.objBoss.action=Action.Stand;var e={x:0,y:0,dir:Dir.br,objType:P13.A6,sr:1};this.objBoss.setBaseData(e)}t.bt=BehaviourType.Attack_d,this.objBoss.setData(t,this.grpBossArm)},t.prototype.setRankImg=function(){switch(this.index){case 0:this.imgStar.source="v1_img_first_png";break;case 1:this.imgStar.source="v1_img_scend_png";break;case 2:this.imgStar.source="v1_img_third_png"}},t.prototype.close=function(){this.objBoss&&(this.objBoss.destory(),this.objBoss=null),this.grpBossArm.removeChildren()},t}(eui.Component);__reflect(ItemArenaRankRoleView.prototype,"ItemArenaRankRoleView");var ArenaRecordView=function(s){function t(t,e){var i=s.call(this,t,e)||this;return i.skinName="ArenaRecordSkin",i}return __extends(t,s),t.prototype.initUI=function(){s.prototype.initUI.call(this),this.dlg.title=O3.tr(316);var t={render:ItemArenaRecordView,gap:10,width:this.listGroup.width,height:this.listGroup.height,arrowScale:1};this.listView=new CommonListBase(t),this.listGroup.addChild(this.listView),this.listView.verticalCenter=0,this.listView.horizontalCenter=0},t.prototype.open=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];s.prototype.open.call(this),this.dlg.ZM69(this.closeSelf,this),this.listView.open(),this.refreshView()},t.prototype.refreshView=function(){var t=App.CM.gtM(O6.C4).arenaFightList;if(t&&0<t.length){for(var e=0;e<t.length;e++)t[e].index=e;this.listView.rfL(t)}},t.prototype.closeSelf=function(){App.CM.apF(O6.C4,N6.A13)},t.prototype.close=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];s.prototype.close.call(this),this.listView.close()},t}(BaseEuiView);__reflect(ArenaRecordView.prototype,"ArenaRecordView");var ArenaRewardView=function(s){function t(t,e){var i=s.call(this,t,e)||this;return i.skinName="ArenaRewardSkin",i.listContent.itemRenderer=ItemIcon,i.dataSource=new eui.ArrayCollection,i.listContent.dataProvider=i.dataSource,i}return __extends(t,s),t.prototype.initUI=function(){s.prototype.initUI.call(this)},t.prototype.open=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.params=t[0],s.prototype.open.call(this),this.bgMask.addEventListener(egret.TouchEvent.TOUCH_TAP,this.closeSelf,this),this.backBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.closeSelf,this),this.closeBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.closeSelf,this),this.getBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.ZQ79,this);var i=App.CM.gtM(O6.C4);this.lbRank.text=String(i.nMyRank),this.ZU24()},t.prototype.ZU24=function(){if(this.params&&0<this.params.length){for(var t=[],e=0;e<this.params.length;e++){var i={itemData:{data:N12.gID(this.params[e].k.toString()),ct:this.params[e].v},isBottom:!0};t.push(i)}this.dataSource.replaceAll(t)}},t.prototype.close=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];s.prototype.close.call(this),this.bgMask.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.closeSelf,this),this.closeBtn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.closeSelf,this),this.getBtn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.ZQ79,this),this.params=null,this.dataSource.removeAll()},t.prototype.closeSelf=function(){this.apF(N6.A15)},t.prototype.ZQ79=function(){P18.sDP(O3.tr(321)),this.closeSelf()},t}(BaseEuiView);__reflect(ArenaRewardView.prototype,"ArenaRewardView");var ItemArenaRankView=function(e){function t(){var t=e.call(this)||this;return t.skinName=ItemRankArenaSkin,t}return __extends(t,e),t.prototype.dataChanged=function(){if(this.lbRank.textFlow=M18.HTP.parse(O3.tr(4296,this.data.nRank)),this.lbName.textFlow=M18.HTP.parse(O3.tr(4297,this.data.sName)),1e4<this.data.nPower){var t=THH13.FL93(this.data.nPower);this.lbPower.textFlow=M18.HTP.parse(O3.tr(4298,t))}else this.lbPower.textFlow=M18.HTP.parse(O3.tr(4298,this.data.nPower));this.imgBg.visible=this.data.index%2==0,this.showAward()},t.prototype.showAward=function(){if(1==this.data.nType){if((o=M15.FG83(this.data.nRank))[0]){this.iconReward0||(this.iconReward0=new ItemIcon,this.passGroup0.addChild(this.iconReward0),this.iconReward0.setIconScale(.5));var t=N12.gID(o[0][0]);if(this.lbAward0.text=o[0][1],t){var e={itemData:{data:t,ct:0},isBottom:!1};this.iconReward0.data=e}}if(o[1]){this.group0.$setY(0),this.iconReward1||(this.iconReward1=new ItemIcon,this.passGroup1.addChild(this.iconReward1),this.iconReward1.setIconScale(.5));var i=N12.gID(o[1][0]);if(this.lbAward1.text=o[1][1],i){var s={itemData:{data:i,ct:0},isBottom:!1};this.iconReward1.data=s}}else this.passGroup0.$setY(18)}else if(2==this.data.nType){var o;if((o=M15.FC78(this.data.nRank))[0]){this.iconReward0||(this.iconReward0=new ItemIcon,this.passGroup0.addChild(this.iconReward0),this.iconReward0.setIconScale(.5));t=N12.gID(o[0][0]);if(this.lbAward0.text=o[0][1],t){e={itemData:{data:t,ct:0},isBottom:!1};this.iconReward0.data=e}}if(o[1]){this.group0.$setY(0),this.iconReward1||(this.iconReward1=new ItemIcon,this.passGroup1.addChild(this.iconReward1),this.iconReward1.setIconScale(.5));i=N12.gID(o[1][0]);if(this.lbAward1.text=o[1][1],i){s={itemData:{data:i,ct:0},isBottom:!1};this.iconReward1.data=s}}else this.group0.$setY(18)}},t}(eui.ItemRenderer);__reflect(ItemArenaRankView.prototype,"ItemArenaRankView");var ItemArenaRecordView=function(e){function t(){var t=e.call(this)||this;return t.skinName=ItemArenaRecordSkin,t}return __extends(t,e),t.prototype.dataChanged=function(){var t=TG50.FG84(this.data.nTime);this.lbTime.textFlow=M18.HTP.parse(O3.tr(4287,t)),this.lbName.textFlow=M18.HTP.parse(O3.tr(4286,this.data.sAckName,this.data.sDefName)),1==this.data.nResult?this.imgResult.source="v1_fonts_sheng_png":this.imgResult.source="v1_fonts_bai_png",0<this.data.nRank?(this.imgArrow.$setVisible(!0),this.lbRank.textFlow=M18.HTP.parse(O3.tr(4288,this.data.nRank)),this.imgArrow.source="v1_img_shangsheng_jiantou_png"):this.data.nRank<0?(this.imgArrow.$setVisible(!0),this.lbRank.textFlow=M18.HTP.parse(O3.tr(4288,-1*this.data.nRank)),this.imgArrow.source="v1_img_xiajiang_jiantou_png"):(this.imgArrow.$setVisible(!1),this.lbRank.textFlow=M18.HTP.parse(O3.tr(4288,""))),this.imgBg.visible=this.data.index%2!=0},t}(eui.ItemRenderer);__reflect(ItemArenaRecordView.prototype,"ItemArenaRecordView");var ItemArenaRoleView=function(i){function t(t){var e=i.call(this)||this;return e.index=t,e.skinName=ArenaRoleViewSkin,e.addEventListener(egret.Event.ADDED_TO_STAGE,e.open,e),e.addEventListener(egret.Event.REMOVED_FROM_STAGE,e.close,e),e}return __extends(t,i),t.prototype.open=function(){this.gpBase.addEventListener(egret.TouchEvent.TOUCH_TAP,this.ZV12,this)},t.prototype.close=function(){this.gpBase.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.ZV12,this),this.objBoss&&(this.objBoss.destory(),this.objBoss=null),this.grpBossArm.removeChildren()},t.prototype.setData=function(t){this.data=t;var e,i=O3.tr(322,t.nRank);this.lbPlayerRank.textFlow=M18.HTP.parser(i),e=t.npc?M15.FJ29(t.nRank):t.nPower,this.lbPlayerName.text=t.sName.toString();var s=O3.tr(326,TG50.FG85(e));this.lbPlayerPower.textFlow=M18.HTP.parser(s),this.showLuckIcon(t.nRank),this.showBoss(t.obj)},t.prototype.showLuckIcon=function(t){var e=App.CM.gtM(O6.C4),i=e.isLuckyOne(t);4==this.index&&e.nMyRank<=this.data.nRank?(this.lbLuck.textFlow=M18.HTP.parse(O3.tr(5881)),this.imgLuck1.source="v1_img_biaoqian_jjc2_png",this.groupLuck.$setVisible(!0)):i?(this.groupLuck.$setVisible(!0),this.lbLuck.textFlow=M18.HTP.parse(O3.tr(5882)),this.imgLuck1.source="v1_img_biaoqian_jjc_png"):this.groupLuck.$setVisible(!1)},t.prototype.showBoss=function(t){if(this.objBoss&&(this.objBoss.destory(),this.objBoss=null),this.grpBossArm.removeChildren(),null!=t){this.objBoss=new FightGameObject,this.objBoss.action=Action.Stand;var e={x:0,y:0,dir:Dir.br,objType:P13.A6};this.objBoss.setBaseData(e),t.bt=BehaviourType.Attack_d,t.sr=1,this.objBoss.setData(t,this.grpBossArm)}},t.prototype.buyTimes=function(){var t=App.CM.gtM(O6.B82),e=App.CM.gtM(O6.C4),i=t.avatarInfo.v;K18.vip[i].arenabuylimit-e.nBuyTimes<=0?P18.sDP(O3.tr(319)):App.CM.apF(O6.C4,N6.A23)},t.prototype.ZV12=function(t){if(!TG53.FJ54()){var e=App.CM.gtM(O6.C4);if(0!=e.lock){if((e.lock=0)<e.nClTimes)if(4==this.index&&e.nMyRank<=this.data.nRank){var i={rank:this.data.nRank,targeId:this.data.nId};App.CM.apF(O6.C4,N6.A11,i)}else App.CM.apF(O6.C4,N6.A36,this.index);else this.buyTimes(),e.lock=1;TG40.playClickEffect()}}},t}(eui.ItemRenderer);__reflect(ItemArenaRoleView.prototype,"ItemArenaRoleView");var ArenaData=function(){function t(t){this.initData(t)}return t.prototype.initData=function(t){t&&(this.nRank=t.rank,this.sName=t.name,this.nPower=t.sc,this.nId=t.aid,this.obj=t.u,this.npc=t.npc)},t}();__reflect(ArenaData.prototype,"ArenaData");var TF79,TG50=function(){function t(){}return t.FG84=function(t){var e=new Date(t);return e.getFullYear()+"-"+(e.getMonth()+1)+"-"+e.getDate()+" "+e.getHours()+":"+e.getMinutes()},t.FG85=function(t){return 1e9<=t?M18.FL93(t/1e4,1)+"万":1e8<=t?M18.FL93(t/1e4,.1)+"万":1e7<=t?M18.FL93(t/1e4,.01)+"万":t+""},t}();__reflect(TG50.prototype,"TG50"),function(t){var e=function(){function i(){}return i.FK35=function(t){var e=t.auction_init;i.serverDate=parseFloat(e.unlockDate.value),i.openLv=parseFloat(e.unlockLv.value),i.flowTime=parseFloat(e.flowTime.value),i.recoveryRatio=parseFloat(e.recoveryRatio.value),i.activeLimit=parseFloat(e.activeLimit.value),i.recordTime=parseFloat(e.recordTime.value),i.recordLimit=parseFloat(e.recordLimit.value),i.rechargeRatio=e.rechargeRatio.value.split(":").map(function(t){return parseFloat(t)}),i.activeRatio=e.activeRatio.value.split(":").map(function(t){return parseFloat(t)})},i.isOpen=function(){var t=App.CM.gtM(O6.B43);return O4.getLv()>=this.openLv&&t.serOpenDay+1>=this.serverDate},i.serverDate=1,i.openLv=1,i.rechargeRatio=[1,1],i.activeRatio=[1,1],i.flowTime=1,i.recoveryRatio=1,i.activeLimit=1,i.recordTime=1,i.recordLimit=1,i}();t.Config=e,__reflect(e.prototype,"Auction.Config")}(Auction||(Auction={})),function(t){var e=function(){function t(){}return t.OpenMainView=10001,t.CloseMainView=10002,t.LOAD_REQ=20001,t.LOAD_RES=20002,t.BID_REQ=20003,t.BID_RES=20004,t.GET_REQ=20005,t.GET_RES=20006,t.PUSH=2e4,t}();t.Const=e,__reflect(e.prototype,"Auction.Const")}(Auction||(Auction={})),function(i){var t=function(e){function t(){var t=e.call(this)||this;return App.VM.register(O7.F70,"AuctionBaseView",t,K17.UI_Main),t.rgF(i.Const.OpenMainView,t.GT93,t),t.rgF(i.Const.CloseMainView,t.GR99,t),App.VM.register(O7.E46,"AuctionRecordView",t,K17.UI_Main_TOP),App.VM.register(O7.HH3,"AuctionBidView",t,K17.UI_Main_TOP),App.VM.register(O7.B41,"AuctionAmountTipsView",t,K17.UI_Main_TOP),App.VM.register(O7.A99,"AuctionManagerHelpTipsView",t,K17.UI_Main_TOP),new i.Model(t),t.model.aLV(O7.I63),t.model.aLV(O7.I39),t.model.aLV(O7.F70),t.model.aLV(O7.E45),t.model.aLV(O7.D53),t.model.aLV(O7.B41),t.model.aLV(O7.E46),t.model.aLV(O7.HH3),t.proxy=new i.Proxy(t),t.rgF(i.Const.LOAD_REQ,t.proxy.load,t.proxy),t.rgF(i.Const.LOAD_RES,t.loadRes,t),t.rgF(i.Const.BID_REQ,t.proxy.bid,t.proxy),t.rgF(i.Const.BID_RES,t.bidRes,t),t.rgF(i.Const.GET_REQ,t.proxy.get,t.proxy),t.rgF(i.Const.GET_RES,t.getRes,t),t.rgF(i.Const.PUSH,t.push,t),t}return __extends(t,e),Object.defineProperty(t.prototype,"model",{get:function(){return this.gtM()},enumerable:!0,configurable:!0}),t.prototype.GT93=function(){for(var t,e=[],i=0;i<arguments.length;i++)e[i]=arguments[i];(t=App.VM).open.apply(t,[O7.F70].concat(e))},t.prototype.GR99=function(){App.VM.close(O7.F70)},t.prototype.push=function(t){200==t.head.state?this.model.ZD48(t.body):App.CM.apF(O6.B87,L10.A4,t)},t.prototype.bidRes=function(t){200==t.head.state?this.model.ZD48(t.body):App.CM.apF(O6.B87,L10.A4,t)},t.prototype.getRes=function(t){200==t.head.state?(this.model.ZD48(t.body),P5.sIs(t.body.ob)):App.CM.apF(O6.B87,L10.A4,t)},t.prototype.loadRes=function(t){200==t.head.state?this.model.ZD48(t.body):App.CM.apF(O6.B87,L10.A4,t)},t}(TE11);i.Controller=t,__reflect(t.prototype,"Auction.Controller")}(Auction||(Auction={})),function(e){var t=function(i){function t(t){var e=i.call(this,t)||this;return e.redNum=0,e}return __extends(t,i),t.prototype.ZD48=function(t){null!=this.data?this.data.update(t):this.data=new e.AuctionVo(t),this.notify()},t.prototype.updateRed=function(){if(this.redNum=0,this.data)for(var t=0,e=this.data.myitems;t<e.length;t++){var i=e[t];if(0<i.isSuc&&1===i.takeState)return void(this.redNum+=1)}},t.prototype.FL35=function(){return this.updateRed(),this.redNum},t.prototype.notify=function(t){i.prototype.notifyView.call(this,this,t)},t}(TG79);e.Model=t,__reflect(t.prototype,"Auction.Model")}(Auction||(Auction={})),function(s){var t=function(i){function t(t){var e=i.call(this,t)||this;return e.rSM(P4.W86,e.bidRes,e),e.rSM(P4.W9,e.loadRes,e),e.rSM(P4.P16,e.getRes,e),e.rSM(P4.U10,e.push,e),e.rSM(P4.D15,e.push,e),e.rSM(P4.I97,e.push,e),e.rSM(P4.F52,e.push,e),e}return __extends(t,i),t.prototype.push=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.apF.apply(this,[s.Const.PUSH].concat(t))},t.prototype.load=function(){this.sSM({type:P4.W8,body:{}})},t.prototype.loadRes=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.apF.apply(this,[s.Const.LOAD_RES].concat(t))},t.prototype.bid=function(t,e){this.sSM({type:P4.W85,body:{uid:t,price:e}})},t.prototype.bidRes=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.apF.apply(this,[s.Const.BID_RES].concat(t))},t.prototype.get=function(t){this.sSM({type:P4.P15,body:{uid:t}})},t.prototype.getRes=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.apF.apply(this,[s.Const.GET_RES].concat(t))},t}(TG80);s.Proxy=t,__reflect(t.prototype,"Auction.Proxy")}(Auction||(Auction={})),function(t){var e=function(){function t(){}return t.FK53=function(){var t=App.CM.gtM(O6.B76),e=Auction.Config.openLv;return O4.getLv()>=e&&0<t.FL35()},t}();t.Utils=e,__reflect(e.prototype,"TF79.Utils")}(TF79||(TF79={}));var AuctionAmountTipsView=function(s){function t(t,e){var i=s.call(this,t,e)||this;return i.skinName="AuctionAmountTipsSkin",i}return __extends(t,s),t.prototype.initUI=function(){s.prototype.initUI.call(this),this.bgMask.addEventListener(egret.TouchEvent.TOUCH_TAP,this.oCC,this),this.btnClose.addEventListener(egret.TouchEvent.TOUCH_TAP,this.oCC,this),this.GX5()},t.prototype.close=function(){this.bgMask.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.oCC,this),this.btnClose.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.oCC,this),s.prototype.close.call(this)},t.prototype.uBM=function(t){t instanceof Auction.Model&&this.GX5(t)},t.prototype.GX5=function(t){t=t||App.CM.gtM(O6.B76),this.labTr6261.textFlow=O3.tr2(6261),this.labTr6257.textFlow=O3.tr2(6257,t.data.rl),this.labTr6258.textFlow=O3.tr2(6258,t.data.al,Auction.Config.activeLimit),this.labTr6259.textFlow=O3.tr2(6259),this.labTr6260.textFlow=O3.tr2(6260,Auction.Config.rechargeRatio[0],Auction.Config.rechargeRatio[1],Auction.Config.activeRatio[1])},t.prototype.oCC=function(){App.VM.GY64(this)},t}(BaseEuiView);__reflect(AuctionAmountTipsView.prototype,"AuctionAmountTipsView");var AuctionBaseView=function(s){function t(t,e){var i=s.call(this,t,e)||this;return i.set(O7.F70,O3.tr(6231)).rgS(O7.E45,"AuctionLegionView",O3.tr(6232),Auction.Config.openLv).rgS(O7.D53,"AuctionManagerView",O3.tr(6233),Auction.Config.openLv),i}return __extends(t,s),t.prototype.updateDot=function(t,e){var i=App.CM.gtM(O6.B76);return e===O7.D53&&(i&&0<i.FL35())},t}(BasePanelViewX);__reflect(AuctionBaseView.prototype,"AuctionBaseView");var AuctionBidView=function(s){function t(t,e){var i=s.call(this,t,e)||this;return i.min=0,i.max=1,i.maxPrice=1,i.num=50,i.skinName="AuctionBidSkin",i}return __extends(t,s),t.prototype.initUI=function(){s.prototype.initUI.call(this),this.bgMask.addEventListener(egret.TouchEvent.TOUCH_TAP,this.oCC,this),this.btn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickBid,this),this.deOneBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.ZV13,this),this.deTenBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.ZV13,this),this.inOneBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.ZV13,this),this.inTenBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.ZV13,this),this.itemicon.addEventListener(egret.TouchEvent.TOUCH_TAP,this.ZN33,this),this.btn.label=O3.tr(6496),this.labTr6234.textFlow=O3.tr2(6234),this.labTr6239.textFlow=O3.tr2(6239),this.labTr6245.textFlow=O3.tr2(6245),this.labTr6246.textFlow=O3.tr2(6246)},t.prototype.open=function(t){this.uid=t,s.prototype.open.call(this),this.GX5(void 0,!0)},t.prototype.close=function(){this.bgMask.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.oCC,this),this.btn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickBid,this),this.deOneBtn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.ZV13,this),this.deTenBtn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.ZV13,this),this.inOneBtn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.ZV13,this),this.inTenBtn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.ZV13,this),this.itemicon.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.ZN33,this),s.prototype.close.call(this)},t.prototype.uBM=function(t){t instanceof Auction.Model&&this.GX5(t)},t.prototype.GX5=function(t,e){var i=(t=t||App.CM.gtM(O6.B76)).data.getItem(this.uid);if(i&&0===i.isSuc){var s=i.cPrice||i.iPrice,o=i.fPrice,r=M18.FL30("$1",{color:"#fffd0e"});P16.FL31(this.gcPrice,s.k,s.v,{textTemplate:r,lackTextTemplate:r}),P16.FL31(this.gPrice,o.k,o.v,{textTemplate:r,lackTextTemplate:r}),this.consumeItemId=s.k,this.min=s.v,this.max=Math.max(this.min,Math.min(t.data.amount,N12.giC(s.k),o.v)),this.maxPrice=o.v,e&&(this.price=this.min),this.updateItem(i.item.k,i.item.v)}else P18.sDP(O3.tr(6262)),this.oCC()},t.prototype.updateItem=function(t,e){this.itemid=t,this.itemcount=e;var i=this.itemicon,s=N12.gID(t);i.lbCt.text=e.toString(),i.lbName.visible=!1,i.imgIcon.source=s.icon,i.imgBg.source=N12.FL5(t)},Object.defineProperty(t.prototype,"price",{get:function(){return parseInt(this.copies.text)},set:function(t){this.copies.text=t.toString()},enumerable:!0,configurable:!0}),t.prototype.ZV13=function(t){var e=t.currentTarget,i=0;e===this.inOneBtn?i=1:e===this.inTenBtn?i=this.num:e===this.deOneBtn?i=-1:e===this.deTenBtn&&(i=-this.num);var s=this.price,o=i+s;if(o<this.min)s<=this.min&&P18.sDP(O3.tr(6315)),o=this.min;else if(o>=this.max){if(this.max>=this.maxPrice)P18.sDP(O3.tr(6317));else{App.CM.gtM(O6.B76);var r=function(){var t=App.CM.gtM(O6.A4);t&&t.openState&&0==t.actData.ZJ93()?App.VM.open(O7.A41):App.VM.open(O7.F72)};N12.giC(this.consumeItemId)<o?App.VM.open(O7.HH38,O3.tr2(6318),this,r):App.VM.open(O7.HH38,O3.tr2(6319),this,r)}o=this.max}this.price=o},t.prototype.ZN33=function(t){this.itemid&&this.aCF(O6.C11,O14.A15,N12.gID(this.itemid),this.itemcount)},t.prototype.oCC=function(){App.VM.GY64(this)},t.prototype.onClickBid=function(){this.price>this.min?(this.aCF(O6.B76,Auction.Const.BID_REQ,this.uid,this.price),this.oCC()):P18.sDP(O3.tr(6315))},t}(BaseEuiView);__reflect(AuctionBidView.prototype,"AuctionBidView");var AuctionLegionItemView=function(o){function t(){var t=o.call(this)||this;return t.skinName="LegionAuctionItemSkin",t.once(egret.Event.REMOVED_FROM_STAGE,t.remove,t),t}return __extends(t,o),t.prototype.childrenCreated=function(){o.prototype.childrenCreated.call(this),this.btn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClick,this),this.imgIcon.addEventListener(egret.TouchEvent.TOUCH_TAP,this.ZN34,this),this.labTr6234.textFlow=O3.tr2(6234),this.btn.label=O3.tr(6489)},t.prototype.dataChanged=function(){o.prototype.dataChanged.call(this),this.labBuyer.textFlow=O3.tr2(6236,this.data.aname||O3.tr(6247)),this.labSeller.textFlow=O3.tr2(6235,this.data.wname);var t=N12.gID(this.data.item.k);this.imgIcon.source=t.icon,this.lbCt.text=this.data.item.v+"";var e=this.data.cPrice||this.data.iPrice,i=M18.FL30("$1",{color:"#fffd0e"});P16.FL31(this.gPrice,e.k,e.v,{textTemplate:i,lackTextTemplate:i});var s=App.CM.gtM(O6.B76);this.labTime.text=P6.FJ11(1e3*s.data.getCd(this.data),1)},t.prototype.onClick=function(){App.VM.open(O7.HH3,this.data.uid)},t.prototype.ZN34=function(){App.CM.apF(O6.C11,O14.A15,N12.gID(this.data.item.k),this.data.item.v)},t.prototype.remove=function(){this.btn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClick,this),this.imgIcon.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.ZN34,this)},t}(eui.ItemRenderer);__reflect(AuctionLegionItemView.prototype,"AuctionLegionItemView");var AuctionLegionView=function(s){function t(t,e){var i=s.call(this,t,e)||this;return i.pageIndex=0,i.pageSize=5,i.pageNum=0,i.skinName="LegionAuctionSkin",i}return __extends(t,s),Object.defineProperty(t.prototype,"model",{get:function(){return App.CM.gtM(O6.B76)},enumerable:!0,configurable:!0}),t.prototype.initUI=function(){s.prototype.initUI.call(this),this.labRecord.addEventListener(egret.TouchEvent.TOUCH_TAP,this.ZU49,this),this.labAmount.addEventListener(egret.TouchEvent.TOUCH_TAP,this.ZV14,this),this.btnLeft.addEventListener(egret.TouchEvent.TOUCH_TAP,this.ZU55,this),this.btnRight.addEventListener(egret.TouchEvent.TOUCH_TAP,this.ZU55,this),P16.FL32(this.labTr6266,!0),this.labTr6266.textFlow=O3.tr2(6266),this.labRecord.textFlow=O3.tr2(6241),this.dataSource=new eui.ArrayCollection,this.list.dataProvider=this.dataSource,this.list.itemRenderer=AuctionLegionItemView,App.K16.doTimer(1e3,0,this.GX42,this)},t.prototype.open=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];s.prototype.open.apply(this,t),this.GX5(),this.ZQ72(),this.GX42()},t.prototype.close=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];App.K16.removeAll(this),P16.FL32(this.labTr6266,!1),this.btnLeft.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.ZU55,this),this.btnRight.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.ZU55,this),this.labRecord.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.ZU49,this),this.labAmount.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.ZV14,this),this.dataSource.removeAll(),s.prototype.close.apply(this,t)},t.prototype.uBM=function(t){t instanceof Auction.Model&&(this.GX5(t),this.GX42(),this.ZQ72())},t.prototype.GX42=function(){for(var t=this.model.data.items,e=this.pageIndex*this.pageSize,i=e+this.pageSize,s=[],o=e;o<i;o++)t[o]&&s.push(t[o]);this.dataSource.source=s},t.prototype.GX5=function(t){t=t||this.model,this.labAmount.textFlow=O3.tr2(6240,t.data.amount),this.labTr6266.visible=t.data.items.length<=0,this.pageNum=Math.ceil(t.data.items.length/this.pageSize)-1,this.pageIndex>this.pageNum&&(this.pageIndex=this.pageNum)},t.prototype.ZQ72=function(){this.btnLeft.visible=0<this.pageIndex,this.btnRight.visible=this.pageIndex<this.pageNum},t.prototype.ZU49=function(){App.VM.open(O7.E46)},t.prototype.ZV14=function(){App.VM.open(O7.B41)},t.prototype.ZU55=function(t){var e=t.currentTarget,i=0;e===this.btnLeft?i=-1:e===this.btnRight&&(i=1);var s=this.pageIndex+i;0<=s&&s<=this.pageNum&&(this.pageIndex=s,this.ZQ72(),this.GX42())},t}(BaseEuiView);__reflect(AuctionLegionView.prototype,"AuctionLegionView");var AuctionManagerHelpTipsView=function(s){function t(t,e){var i=s.call(this,t,e)||this;return i.skinName="AuctionManagerHelpTipsSkin",i}return __extends(t,s),t.prototype.initUI=function(){s.prototype.initUI.call(this),this.bgMask.addEventListener(egret.TouchEvent.TOUCH_TAP,this.oCC,this),this.btnClose.addEventListener(egret.TouchEvent.TOUCH_TAP,this.oCC,this),this.labTr6248.textFlow=O3.tr2(6248,Auction.Config.flowTime,Math.floor(100*Auction.Config.recoveryRatio)),this.btnClose.label=O3.tr(5355)},t.prototype.close=function(){this.bgMask.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.oCC,this),this.btnClose.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.oCC,this),s.prototype.close.call(this)},t.prototype.oCC=function(){App.VM.GY64(this)},t}(BaseEuiView);__reflect(AuctionManagerHelpTipsView.prototype,"AuctionManagerHelpTipsView");var AuctionManagerItemView=function(o){function t(){var t=o.call(this)||this;return t.skinName="AuctionManagerItemSkin",t.once(egret.Event.REMOVED_FROM_STAGE,t.remove,t),t}return __extends(t,o),t.prototype.childrenCreated=function(){o.prototype.childrenCreated.call(this),this.btn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClick,this),this.imgIcon.addEventListener(egret.TouchEvent.TOUCH_TAP,this.ZN34,this),this.btnHelp.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickHelp,this),this.labTr6234.textFlow=O3.tr2(6234),this.labTr6243.textFlow=O3.tr2(6243,Auction.Config.flowTime),this.labTr6244.textFlow=O3.tr2(6244),this.btn.label=O3.tr(6508)},t.prototype.dataChanged=function(){o.prototype.dataChanged.call(this),this.labState.textFlow=O3.tr2(6251,0<this.data.isSuc?O3.tr(6252):O3.tr(6253)),this.labBuyer.textFlow=O3.tr2(0<this.data.isSuc?6237:6236,this.data.aname||(0<this.data.isSuc?O3.tr(6325):O3.tr(6247))),this.labSeller.textFlow=O3.tr2(6235,this.data.wname),this.labTr6234.textFlow=O3.tr2(0<this.data.isSuc?6238:6234);var t=N12.gID(this.data.item.k);this.imgIcon.source=t.icon,this.lbCt.text=this.data.item.v+"";var e=this.data.cPrice||this.data.iPrice,i=M18.FL30("$1",{color:"#fffd0e"});P16.FL31(this.gPrice,e.k,e.v,{textTemplate:i,lackTextTemplate:i});var s=App.CM.gtM(O6.B76);this.labTime.visible=this.imgSell.visible=this.btn.imgNew.visible=this.g1.visible=this.g2.visible=!1,0<this.data.isSuc?(this.g1.visible=!0,this.btn.touchEnabled=1===this.data.takeState,P16.sGF(this.btn,!this.btn.touchEnabled),this.btn.imgNew.visible=this.btn.touchEnabled,this.imgSell.visible=!0,this.data.obtain&&P16.FL31(this.gReward,this.data.obtain.k,this.data.obtain.v,{textTemplate:i,lackTextTemplate:i})):(this.g2.visible=!0,this.labTime.text=P6.FJ11(1e3*s.data.getCd(this.data),1),this.labTime.visible=!0)},t.prototype.remove=function(){this.imgIcon.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.ZN34,this),this.btn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClick,this),this.btnHelp.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickHelp,this)},t.prototype.ZN34=function(){App.CM.apF(O6.C11,O14.A15,N12.gID(this.data.item.k),this.data.item.v)},t.prototype.onClick=function(){App.CM.apF(O6.B76,Auction.Const.GET_REQ,this.data.uid)},t.prototype.onClickHelp=function(){App.VM.open(O7.A99)},t}(eui.ItemRenderer);__reflect(AuctionManagerItemView.prototype,"AuctionManagerItemView");var AuctionManagerView=function(s){function t(t,e){var i=s.call(this,t,e)||this;return i.pageIndex=0,i.pageSize=5,i.pageNum=0,i.skinName="AuctionManagerSkin",i}return __extends(t,s),Object.defineProperty(t.prototype,"model",{get:function(){return App.CM.gtM(O6.B76)},enumerable:!0,configurable:!0}),t.prototype.initUI=function(){s.prototype.initUI.call(this),this.btnLeft.addEventListener(egret.TouchEvent.TOUCH_TAP,this.ZU55,this),this.btnRight.addEventListener(egret.TouchEvent.TOUCH_TAP,this.ZU55,this),this.labRecord.addEventListener(egret.TouchEvent.TOUCH_TAP,this.ZU49,this),this.labAmount.addEventListener(egret.TouchEvent.TOUCH_TAP,this.ZV14,this),P16.FL32(this.labTr6267,!0),this.labTr6267.textFlow=O3.tr2(6267),this.labRecord.textFlow=O3.tr2(6241),this.dataSource=new eui.ArrayCollection,this.list.dataProvider=this.dataSource,this.list.itemRenderer=AuctionManagerItemView,App.K16.doTimer(1e3,0,this.GX42,this)},t.prototype.open=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];s.prototype.open.apply(this,t),this.GX42(),this.GX5(),this.ZQ72()},t.prototype.close=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];App.K16.removeAll(this),P16.FL32(this.labTr6267,!1),this.btnLeft.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.ZU55,this),this.btnRight.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.ZU55,this),this.labRecord.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.ZU49,this),this.labAmount.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.ZV14,this),this.dataSource.removeAll(),s.prototype.close.apply(this,t)},t.prototype.GX42=function(){for(var t=this.model.data.myitems,e=this.pageIndex*this.pageSize,i=e+this.pageSize,s=[],o=e;o<i;o++)t[o]&&s.push(t[o]);this.dataSource.source=s},t.prototype.ZQ72=function(){this.btnLeft.visible=0<this.pageIndex,this.btnRight.visible=this.pageIndex<this.pageNum},t.prototype.uBM=function(t){t instanceof Auction.Model&&(this.GX42(),this.GX5(t),this.ZQ72())},t.prototype.GX5=function(t){t=t||this.model,this.labAmount.textFlow=O3.tr2(6240,t.data.amount),this.pageNum=Math.ceil(t.data.myitems.length/this.pageSize)-1,this.labTr6267.visible=t.data.myitems.length<=0,this.pageIndex>this.pageNum&&(this.pageIndex=this.pageNum)},t.prototype.ZU49=function(){App.VM.open(O7.E46)},t.prototype.ZV14=function(){App.VM.open(O7.B41)},t.prototype.ZU55=function(t){var e=t.currentTarget,i=0;e===this.btnLeft?i=-1:e===this.btnRight&&(i=1);var s=this.pageIndex+i;0<=s&&s<=this.pageNum&&(this.pageIndex=s,this.ZQ72(),this.GX42())},t}(BaseEuiView);__reflect(AuctionManagerView.prototype,"AuctionManagerView");var AuctionRecordItemView=function(r){function t(){var t=r.call(this)||this;return t.skinName="AuctionRecordItemSkin",t}return __extends(t,r),t.prototype.dataChanged=function(){r.prototype.dataChanged.call(this),this.labBuyer.textFlow=O3.tr2(6237,this.data.aname||O3.tr(6325)),this.labSeller.textFlow=O3.tr2(6235,this.data.wname);var t=N12.gID(this.data.item.k);this.imgIcon.source=t.icon,this.lbCt.text=this.data.item.v+"";var e=this.data.cPrice||this.data.iPrice,i=M18.FL30("$1",{color:"#fffd0e"});P16.FL31(this.gPrice,e.k,e.v,{textTemplate:i,lackTextTemplate:i,tag:O3.tr(6238)});P6.getTime();var s=this.data.diffDay,o=O3.tr(6249);0<s&&(o=O3.tr(6250,s)),this.labTime.textFlow=O3.tr2(6242,this.data.sucTime,o)},t}(eui.ItemRenderer);__reflect(AuctionRecordItemView.prototype,"AuctionRecordItemView");var Auction,AuctionRecordView=function(s){function t(t,e){var i=s.call(this,t,e)||this;return i.pageIndex=0,i.pageSize=4,i.pageNum=0,i.skinName="AuctionRecordSkin",i}return __extends(t,s),Object.defineProperty(t.prototype,"model",{get:function(){return App.CM.gtM(O6.B76)},enumerable:!0,configurable:!0}),t.prototype.initUI=function(){this.bgMask.addEventListener(egret.TouchEvent.TOUCH_TAP,this.oCC,this),this.closeBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.oCC,this),this.backBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.oCC,this),this.btnLeft.addEventListener(egret.TouchEvent.TOUCH_TAP,this.ZU55,this),this.btnRight.addEventListener(egret.TouchEvent.TOUCH_TAP,this.ZU55,this),this.title.text=O3.tr(6412),this.labTr6268.textFlow=O3.tr2(6268,Auction.Config.recordTime),this.dataSource=new eui.ArrayCollection,this.list.dataProvider=this.dataSource,this.list.itemRenderer=AuctionRecordItemView},t.prototype.open=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];s.prototype.open.apply(this,t);var i=this.model;this.GX5(i),this.ZQ72(),this.updateList(i)},t.prototype.uBM=function(t){t instanceof Auction.Model&&(this.GX5(t),this.ZQ72(),this.updateList(t))},t.prototype.close=function(){this.bgMask.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.oCC,this),this.closeBtn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.oCC,this),this.backBtn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.oCC,this),this.btnLeft.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.ZU55,this),this.btnRight.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.ZU55,this),this.dataSource.removeAll(),s.prototype.close.call(this)},t.prototype.GX5=function(t){t=t||this.model,this.pageNum=Math.ceil(t.data.rcds.length/this.pageSize)-1,this.labTr6268.visible=t.data.rcds.length<=0,this.pageIndex>this.pageNum&&(this.pageIndex=this.pageNum)},t.prototype.updateList=function(t){for(var e=this.model.data.rcds,i=this.pageIndex*this.pageSize,s=i+this.pageSize,o=[],r=i;r<s;r++)e[r]&&o.push(e[r]);this.dataSource.source=o},t.prototype.ZQ72=function(){this.btnLeft.visible=0<this.pageIndex,this.btnRight.visible=this.pageIndex<this.pageNum},t.prototype.oCC=function(){App.VM.GY64(this)},t.prototype.ZU55=function(t){var e=t.currentTarget,i=0;e===this.btnLeft?i=-1:e===this.btnRight&&(i=1);var s=this.pageIndex+i;0<=s&&s<=this.pageNum&&(this.pageIndex=s,this.ZQ72(),this.updateList())},t}(BaseEuiView);__reflect(AuctionRecordView.prototype,"AuctionRecordView"),function(c){var t=function(){function t(t){this._items=[],this.myitems=[],this.items=[],this.rcds=[],this.al=0,this.rl=0,this.itemsTimeDifferance={},this.update(t)}return t.prototype.update=function(t){if(t.items){this._items=t.items;for(var e=0,i=this._items;e<i.length;e++){var s=i[e];this.itemsTimeDifferance[s.uid]=P6.getTime(!0)}this.updateItems()}if(this.rcds=t.rcds?t.rcds:this.rcds,t.item){var o=!1;for(var r in this._items)if(this._items[r].uid===t.item.uid){this._items[r]=t.item,o=!0;break}this.itemsTimeDifferance[t.item.uid]=P6.getTime(!0),o||this._items.unshift(t.item),this.updateItems()}if(t.uids){for(var n=0,a=t.uids;n<a.length;n++)for(s=a[n],r=this._items.length-1;0<=r;r--)if(this._items[r].uid===s){this._items.splice(r,1);break}this.updateItems()}if(t.rmvids)for(var h=0,p=t.rmvids;h<p.length;h++)for(s=p[h],r=this.rcds.length-1;0<=r;r--)this.rcds[r].uid===s&&this.rcds.splice(r,1);if(t.rcd){var l=!1;for(var r in this.rcds)if(this.rcds[r].uid===t.rcd.uid){this.rcds[r]=t.rcd,l=!0;break}l||this.rcds.unshift(t.rcd)}for(;this.rcds.length>c.Config.recordLimit;)this.rcds.pop();this.rl=void 0===t.rl?this.rl:t.rl,this.al=void 0===t.al?this.al:t.al},t.prototype.getItem=function(t){for(var e=0,i=this._items;e<i.length;e++){var s=i[e];if(s.uid===t)return s}},t.prototype.getCd=function(t){var e;if(e="string"==typeof t?this.getItem(t):t){var i=P6.getTime(!0)-(this.itemsTimeDifferance[e.uid]||0);return Math.max(0,e.cd-i)}return 0},Object.defineProperty(t.prototype,"amount",{get:function(){return this.al+this.rl},enumerable:!0,configurable:!0}),t.prototype.getScore=function(t){var e=1/t.start;return 0<t.isSuc&&(e-=15),1===t.takeState?e-=255:2===t.takeState&&(e+=255),e},t.prototype.pushMyitems=function(t){for(var e in this.myitems)if(this.myitems[e].uid===t.uid)return void(this.myitems[e]=t);this.myitems.push(t)},t.prototype.pushItems=function(t){for(var e in this.items)if(this.items[e].uid===t.uid)return void(this.items[e]=t);this.items.push(t)},t.prototype.updateItems=function(){var i=this;this.myitems=[],this.items=[],this._items.forEach(function(t){0<t.takeState&&i.pushMyitems(t),t.isSuc||i.pushItems(t)}),this.myitems.sort(function(t,e){return i.getScore(t)-i.getScore(e)}),this.items.sort(function(t,e){return e.cd-t.cd})},t}();c.AuctionVo=t,__reflect(t.prototype,"Auction.AuctionVo")}(Auction||(Auction={}));var I3=function(){function t(){}return t.A3=1,t.A4=2,t.A1=3,t.A2=4,t}();__reflect(I3.prototype,"I3");var TB73=function(i){function t(){var t=i.call(this)||this;App.VM.register(O7.HH93,"AuthorizeView",t,K17.UI_Main_TOP);var e=new TE56(t);return e.aLV(O7.HH93),e.aLV(O7.I85),e.aLV(O7.I4),t.proxy=new TE57(t),t.rgF(I3.A3,t.GX17,t),t.rgF(I3.A4,t.GX18,t),t.rgF(I3.A1,t.GO50,t),t.rgF(I3.A2,t.GO51,t),t}return __extends(t,i),t.prototype.GX17=function(t){this.proxy.GX17(t)},t.prototype.GX18=function(t){if(200==t.head.state){var e=this.gtM(),i=App.CM.gtM(O6.B82);e.ep=t.body.ep,t.body.ic&&(i.avatarInfo.i=e.ic=t.body.ic),e.notify()}else App.CM.apF(O6.B87,L10.A4,t)},t.prototype.GO50=function(){this.proxy.GO50()},t.prototype.GO51=function(t){if(200==t.head.state){var e=this.gtM();e.ep=t.body.ep,P5.sIs(t.body.ob),e.notify(P4.D47)}else App.CM.apF(O6.B87,L10.A4,t)},t}(TE11);__reflect(TB73.prototype,"TB73");var TE56=function(s){function t(t){return s.call(this,t)||this}return __extends(t,s),t.prototype.notify=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];s.prototype.notifyView.apply(this,[this,t].concat(e))},t}(TG79);__reflect(TE56.prototype,"TE56");var TE57=function(e){function t(t){return e.call(this,t)||this}return __extends(t,e),t.prototype.GX17=function(t){var e={type:P4.S91,body:{}};t&&(e.body={icon:t}),this.rSMO(P4.S92,this.GX18,this),this.sSM(e)},t.prototype.GX18=function(t){this.apF(I3.A4,t)},t.prototype.GO50=function(){var t={type:P4.D46,body:{}};this.rSMO(P4.D47,this.GO51,this),this.sSM(t)},t.prototype.GO51=function(t){this.apF(I3.A2,t)},t}(TG80);__reflect(TE57.prototype,"TE57");var AuthorizeView=function(s){function t(t,e){var i=s.call(this,t,e)||this;return i.skinName="AuthorizeSkin",i}return __extends(t,s),t.prototype.initUI=function(){s.prototype.initUI.call(this),this.getBtn.label=O3.tr(8604)},t.prototype.initData=function(){s.prototype.initData.call(this),this.listContent.itemRenderer=ItemIcon,this.dataSource=new eui.ArrayCollection,this.listContent.dataProvider=this.dataSource,this.awardsSc.viewport=this.listContent,this.awardsSc.scrollPolicyH=eui.ScrollPolicy.AUTO,this.awardsSc.scrollPolicyV=eui.ScrollPolicy.OFF},t.prototype.open=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];s.prototype.open.apply(this,t),this.bgMask.addEventListener(egret.TouchEvent.TOUCH_TAP,this.closeSelf,this),this.imgClose.addEventListener(egret.TouchEvent.TOUCH_TAP,this.closeSelf,this),this.getBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.FK43,this),this.showAward(K18.init.powerReward.value);var i=App.CM.gtM(O6.B41);this.GX5(i)},t.prototype.GX5=function(t){var e=this;0==t.ep?(this.getBtn.visible=!1,App.K16.doFrame(5,1,function(){if(App.VM.isOpen(O7.HH93)){var t=e.getBtn.parent.localToGlobal(e.getBtn.x,e.getBtn.y);platform.createAuthButton(e.wxAuthAction,e,App.TG37.getWidth(),App.TG37.getHeight(),t.x,t.y,153,56,"v1_btn_shouquan.png")}},this)):(this.getBtn.visible=!0,this.getBtn.imgNew.visible=!0)},t.prototype.showAward=function(t){var e=M18.FL28(t,";"),i=[];for(var s in e){var o=M18.FL28(e[s],":"),r={itemData:{data:N12.gID(o[0]),ct:o[1]},isBottom:!1};i.push(r)}this.dataSource.replaceAll(i)},t.prototype.close=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];s.prototype.close.call(this),this.bgMask.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.closeSelf,this),this.imgClose.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.closeSelf,this),this.getBtn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.FK43,this),this.closeSelf(),this.dataSource.removeAll()},t.prototype.uBM=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];t instanceof TE56&&(2==t.ep?(this.getBtn.visible=!1,this.getBtn.imgNew.visible=!1):1==t.ep&&(this.getBtn.visible=!0,this.getBtn.imgNew.visible=!0,window.authButton&&window.authButton.destroy()))},t.prototype.FK43=function(){App.CM.apF(O6.B41,I3.A1)},t.prototype.wxAuthAction=function(){var t=platform.wxUserInfo,e=void 0;t&&(e=t.avatarUrl),App.CM.apF(O6.B41,I3.A3,e)},t.prototype.closeSelf=function(){window.authButton&&window.authButton.destroy(),App.VM.close(O7.HH93)},t}(BaseEuiView);__reflect(AuthorizeView.prototype,"AuthorizeView");var K18=function(){function l(){}return l.FK35=function(t){l.init=t.avatar_init,l.nameCollect=l.FE52(t.avatar_name),l.levelup=t.avatar_levelup,l.vip=t.avatar_vip,l.recharge=t.recharge_recharge,l.tips=t.avatar_tips,l.attribute=t.avatar_attribute,l.skills=t.avatar_skill,l.skillUps=t.avatar_skill_lv,l.fashion=t.avatar_fashion,l.title=t.avatar_title,this.planNames.push(O3.tr(7025)),this.planNames.push(O3.tr(7026)),this.planNames.push(O3.tr(7027))},l.gIV=function(t){var e="";return this.init?e=this.init[t].value:e},l.FE59=function(t){var e;return this.init?e=parseInt(this.init[t].value):e},l.FE52=function(t){var e=new Array,i=new Array;for(var s in t){var o=t[s];e.push(o.first),i.push(o.last)}var r={};return r.first=e,r.last=i,r},l.FD58=function(){var t=l.nameCollect,e=t.first;if(!e||0==e.length)return Log.trace("读取玩家名称配表出错!"),"";var i=Math.floor(Math.random()*e.length),s=t.last;if(!s||0==s.length)return Log.trace("读取玩家名称配表出错!"),"";var o=Math.floor(Math.random()*s.length);return e[i]+s[o]},l.FHH93=function(t){var e=-1;if(!l.levelup||!l.levelup[t])return e;var i=l.levelup[t];return i?e=i.exp:e},l.dealAttr=function(t,e){void 0===e&&(e=0);for(var i,s=l.attribute,o=t.split(";"),r="",n=0;n<o.length;n++){i=s[o[n].split(":")[0]].name+":";var a=Number(o[n].split(":")[1]);r+=i+(a+=Math.floor(a*e))+"\n"}return r=r.substring(0,r.length-1)},l.FJ30=function(t,e){for(var i,s,o=l.attribute,r=t.split(";"),n="",a="",h=0;h<r.length;h++)i=o[r[h].split(":")[0]].name+":",s=r[h].split(":")[1],e<=h?a+=i+s+"\n":n+=i+s+"\n";var p=[];return n=n.substring(0,n.length-1),p.push(n),a&&(a=a.substring(0,a.length-1),p.push(a)),p},l.FJ31=function(t){for(var e="",i=0;i<t.length;i++)e+=t[i].k+":"+t[i].v+";";return e=e.substring(0,e.length-1)},l.FB52=function(t){for(var e,i,s=l.attribute,o=t.split(";"),r=[],n=0;n<o.length;n++)e=s[o[n].split(":")[0]].name+":",i=o[n].split(":")[1],r[n]=[],r[n].name=e,r[n].num=i;return r},l.FK45=function(t){var e=null;return l.vip?e=l.vip[t]:e},l.FL39=function(){var t=0;if(!l.vip)return t;for(var e in l.vip){var i=l.vip[e];i.level>t&&(t=i.level)}return t},l.FL40=function(){var t=-1;if(!l.vip)return t;for(var e in l.vip){var i=l.vip[e];-1!==t?i.level<t&&(t=i.level):t=i.level}return t},l.FE64=function(t){var e={};for(var i in l.skills){var s=l.skills[i];if(s.country==t){var o=new avatar.AvatarSkill;o.initByDB(s),e[o.pos]=o}}return e},l.FF85=function(t){return l.skills[String(t)]},l.FA83=function(t){var e=String(t);return l.skillUps[e]?l.skillUps[e].coin:0},l.getTips=function(t){var e=t+"提示语未配置";return l.tips&&l.tips[t]&&(e=l.tips[t].content),e},l.FE65=function(t){if(t)return l.recharge[t]},l.FJ32=function(t){if(t)return l.attribute[t]},l.FD72=function(t){if(t)return l.attribute[t].name},l.FB18=function(t){for(var e=l.FL39();1<=e;e--){var i=l.vip[e];if(1==t){if(0==i.minetimes)return l.vip[e+1]}else if(2==t&&0==i.robbertimes)return l.vip[e+1]}},l.FHH94=function(t){return l.title[t]},l.ar=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];var s=t;if(!s)return"{"+t+"}";for(var o=e.length,r=0;r<o;r++)s=s.replace("{"+r+"}",e[r]);return s},l.FD73=function(){return"v1_img_touxiang_zjm"+Math.ceil(6*Math.random())+"_png"},l.FF86=function(t){if(l.filterRec)return l.filterRec;var e={},i={};for(var s in t=Number(t),l.recharge){var o=l.recharge[s],r=Number(o.channel);0===r&&(i[o.pid]=o),t===r&&(e[o.pid]=o)}return l.filterRec=Object.keys(e).length<=0?i:e},l.planNames=[],l}();__reflect(K18.prototype,"K18");var L13=function(){function t(){}return t.A67=10001,t.A68=10002,t.A73=10003,t.A74=10004,t.A41=10005,t.A42=10006,t.A56=10007,t.A57=10008,t.A58=10009,t.A59=10010,t.A31=10011,t.A32=10012,t.A14=10013,t.A15=10014,t.A51=10015,t.A16=10016,t.A17=10017,t.A47=10018,t.A18=10019,t.A24=10020,t.A25=10021,t.A7=10022,t.A8=10023,t.A5=10024,t.A6=10025,t.A19=10026,t.A20=10027,t.A9=10028,t.A10=10029,t.A33=10030,t.A34=10031,t.A35=10032,t.A36=10033,t.A11=10034,t.A12=10035,t.A60=10036,t.A61=10037,t.A26=10038,t.A27=10039,t.A1=10040,t.A2=10041,t.A3=10042,t.A4=10043,t.A52=10044,t.A53=10045,t.A21=11003,t.A13=11004,t.A64=11005,t.A62=11006,t.A43=11007,t.A37=11008,t.A44=11009,t.A38=11010,t.A39=11011,t.A28=11012,t.A45=11013,t.A40=11014,t.A63=11015,t.A54=11016,t.A55=11017,t.A48=11018,t.A49=11019,t.A46=11020,t.A29=11021,t.A22=11022,t.A30=11023,t.A23=11024,t.A50=11025,t.A70=11026,t.A71=11027,t.A77=11028,t.A75=11029,t.A65=11030,t.A76="UPDATE_POWER",t.A69="avatarUpdateLv",t.A72={wing:3,faqi:4,soul:6,prestige:7,weapon:8,horse:9,formate:11,genereral:12},t.A66={1:"img_toukui_png",2:"img_wuqi_png",3:"img_yifu_png",4:"img_jiezhi_png",5:"img_xianglian_png",6:"img_xiezi_png",7:"img_hujian_png",8:"img_yaodai_png",9:"img_kuzi_png",10:"img_huwan_png"},t}();__reflect(L13.prototype,"L13");var TD35=function(i){function t(){var t=i.call(this)||this;App.VM.register(O7.G45,"AvatarMainView",t,K17.UI_Main),t.rgF(L13.A55,t.GI89,t),t.rgF(L13.A48,t.GHH12,t),App.VM.register(O7.C40,"AvatarAttributeView",t,K17.UI_Popup),t.rgF(L13.A21,t.GC41,t),t.rgF(L13.A13,t.GB62,t),App.VM.register(O7.E75,"AvatarDetailView",t,K17.UI_Main_TOP),t.rgF(L13.A64,t.GM63,t),t.rgF(L13.A62,t.GK90,t),App.VM.register(O7.E76,"AvatarRenameView",t,K17.UI_Popup),t.rgF(L13.A44,t.GF48,t),t.rgF(L13.A38,t.GE32,t),App.VM.register(O7.D92,"ConfirmRenameView",t,K17.UI_Popup),t.rgF(L13.A39,t.GE33,t),t.rgF(L13.A28,t.GD31,t),App.VM.register(O7.E77,"AvatarReheadView",t,K17.UI_Popup),t.rgF(L13.A45,t.GF49,t),t.rgF(L13.A40,t.GE34,t),App.VM.register(O7.HH31,"SystemSetView",t,K17.UI_Popup),t.rgF(L13.A63,t.GK91,t),t.rgF(L13.A54,t.GI90,t),App.VM.register(O7.E15,"AvatarFashionView",t,K17.UI_Main_TOP),App.VM.register(O7.G1,"AvatarTitleView",t,K17.UI_Main_TOP),App.VM.register(O7.A83,"AvatarSkillSort",t,K17.UI_Popup),t.rgF(L13.A29,t.GD33,t),t.rgF(L13.A22,t.GC43,t),App.VM.register(O7.G27,"AvatarResetView",t,K17.UI_Popup),t.rgF(L13.A70,t.GS28,t),t.rgF(L13.A71,t.GS29,t);var e=new TG12(t);return e.aLV(O7.G58),e.aLV(O7.G45),e.aLV(O7.G10),e.aLV(O7.C40),e.aLV(O7.E75),e.aLV(O7.E76),e.aLV(O7.D92),e.aLV(O7.HH30),e.aLV(O7.I39),e.aLV(O7.I4),e.aLV(O7.I40),e.aLV(O7.F72),e.aLV(O7.F71),e.aLV(O7.D16),e.aLV(O7.A83),e.aLV(O7.HH25),e.aLV(O7.I79),e.aLV(O7.E1),e.aLV(O7.B73),e.aLV(O7.D98),e.aLV(O7.F82),e.aLV(O7.E85),e.aLV(O7.I11),e.aLV(O7.G75),e.aLV(O7.G76),e.aLV(O7.HH45),e.aLV(O7.D97),e.aLV(O7.I89),e.aLV(O7.E15),e.aLV(O7.G1),e.aLV(O7.D99),e.aLV(O7.G52),e.aLV(O7.E11),e.aLV(O7.HH51),e.aLV(O7.E12),e.aLV(O7.E21),e.aLV(O7.I76),e.aLV(O7.I61),e.aLV(O7.I41),e.aLV(O7.E10),e.aLV(O7.I64),e.aLV(O7.I66),e.aLV(O7.D14),e.aLV(O7.G46),e.aLV(O7.I63),e.aLV(O7.C45),e.aLV(O7.B76),e.aLV(O7.E90),e.aLV(O7.B27),e.aLV(O7.E4),e.aLV(O7.I17),e.aLV(O7.HH98),e.aLV(O7.G57),e.aLV(O7.I3),e.aLV(O7.HH29),e.aLV(O7.E72),e.aLV(O7.HH28),e.aLV(O7.I85),e.aLV(O7.I70),e.aLV(O7.C33),e.aLV(O7.E77),e.aLV(O7.HH1),e.aLV(O7.C4),e.aLV(O7.D63),e.aLV(O7.D86),e.aLV(O7.G27),e.aLV(O7.B27),e.aLV(O7.HH96),e.aLV(O7.E73),e.aLV(O7.F40),e.aLV(O7.C67),e.aLV(O7.I56),e.aLV(O7.C98),e.aLV(O7.C99),e.aLV(O7.HH75),e.aLV(O7.HH78),e.aLV(O7.I16),e.aLV(O7.I83),e.aLV(O7.F53),e.aLV(O7.D80),e.aLV(O7.D10),e.aLV(O7.D6),e.aLV(O7.B59),e.aLV(O7.B60),e.aLV(O7.ReincarnateSoul),e.aLV(O7.C28),e.aLV(O7.MilitaryFlag),e.aLV(O7.MilitaryFlagConView),t.avatarProxy=new TG13(t),t.rgF(L13.A67,t.GV66,t),t.rgF(L13.A68,t.GV67,t),t.rgF(L13.A51,t.GK92,t),t.rgF(L13.A73,t.GX19,t),t.rgF(L13.A74,t.GX20,t),t.rgF(L13.A31,t.GM64,t),t.rgF(L13.A32,t.GM65,t),t.rgF(L13.A14,t.GQ36,t),t.rgF(L13.A15,t.GQ37,t),t.rgF(L13.A41,t.GS30,t),t.rgF(L13.A42,t.GS31,t),t.rgF(L13.A56,t.GO52,t),t.rgF(L13.A57,t.GO53,t),t.rgF(L13.A58,t.GO54,t),t.rgF(L13.A59,t.GO55,t),t.rgF(L13.A16,t.GQ38,t),t.rgF(L13.A17,t.GQ39,t),t.rgF(L13.A24,t.GK93,t),t.rgF(L13.A25,t.GK94,t),t.rgF(L13.A7,t.GM66,t),t.rgF(L13.A8,t.GM67,t),t.rgF(L13.A5,t.GK95,t),t.rgF(L13.A6,t.GK96,t),t.rgF(L13.A19,t.GQ40,t),t.rgF(L13.A20,t.GQ41,t),t.rgF(L13.A9,t.GO57,t),t.rgF(L13.A10,t.GO58,t),t.rgF(L13.A35,t.GU16,t),t.rgF(L13.A36,t.GU17,t),t.rgF(L13.A11,t.GO59,t),t.rgF(L13.A12,t.GO60,t),t.rgF(L13.A47,t.GV69,t),t.rgF(L13.A18,t.GO56,t),t.rgF(L13.A33,t.GS32,t),t.rgF(L13.A34,t.GS33,t),t.rgF(L13.A50,t.GHH14,t),t.rgF(L13.A60,t.banTjReq,t),t.rgF(L13.A61,t.banTjRes,t),t.rgF(L13.A26,t.GS34,t),t.rgF(L13.A27,t.GS35,t),t.rgF(L13.A1,t.GY16,t),t.rgF(L13.A2,t.GY17,t),t.rgF(L13.A3,t.GY18,t),t.rgF(L13.A4,t.GY19,t),t.rgF(L13.A52,t.avatarProxy.rebirthReq,t.avatarProxy),t.rgF(L13.A53,t.GX22,t),t.rgF(L13.A77,t.avatarProxy.buyGift,t.avatarProxy),t.rgF(L13.A75,t.GX23,t),t.rgF(L13.A65,t.GU18,t),t}return __extends(t,i),t.prototype.GI89=function(){App.VM.open(O7.G45)},t.prototype.GHH12=function(){App.VM.close(O7.G45)},t.prototype.GC41=function(){App.VM.open(O7.C40)},t.prototype.GB62=function(){App.VM.close(O7.C40)},t.prototype.GM63=function(){App.VM.open(O7.E75)},t.prototype.GK90=function(){App.VM.close(O7.E75)},t.prototype.GF48=function(){App.VM.open(O7.E76)},t.prototype.GE32=function(){App.VM.close(O7.E76)},t.prototype.GE33=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var i=t[0];App.VM.open(O7.D92,i)},t.prototype.GD31=function(){App.VM.close(O7.D92)},t.prototype.GF49=function(){App.VM.open(O7.E77)},t.prototype.GE34=function(){App.VM.close(O7.E77)},t.prototype.GK91=function(){App.VM.open(O7.HH31)},t.prototype.GI90=function(){App.VM.close(O7.HH31)},t.prototype.GHH13=function(){App.VM.open(O7.F71)},t.prototype.GF50=function(){App.VM.close(O7.F71)},t.prototype.GD32=function(){App.VM.open(O7.D16)},t.prototype.GC42=function(){App.VM.close(O7.D16)},t.prototype.GD33=function(){App.VM.open(O7.A83)},t.prototype.GC43=function(){App.VM.close(O7.A83)},t.prototype.GS28=function(){App.VM.open(O7.G27)},t.prototype.GS29=function(){App.VM.close(O7.G27)},t.prototype.GV66=function(){return this.avatarProxy.GV66()},t.prototype.GV67=function(t){if(t&&t.head&&200==t.head.state){var e=this.gtM();e.ZR2(t.body),e.isCanGrade(),e.ZK28(t.body.sl),THH25.FI5(),Classup.Config.FL58(),e.orLevel=O4.getLv();var i=K18.init.animalTipsLv.value,s=parseInt(M18.FL28(i,",")[0]);e.orLevel<s&&(e.orLevel=s),0==e.avatarInfo.fl&&(e.isHide=!0),1==e.avatarInfo.fl&&(e.isWxRed=!0,e.isGrowRed=!0),"nativeAndroid"!==platform.name&&"nativeVivo"!==platform.name||platform.uploadUserInfo(),this.GU15(),App.CM.gtM(O6.B41).ep=t.body.ep}else P18.sDP(K18.getTips(t.head.state))},t.prototype.GU15=function(){var t=App.CM.gtM(O6.B82).avatarInfo.fl,e=O4.FF89(L17.A28);t&&e&&App.CM.apF(O6.B82,L13.A24,L17.A28),e=O4.FF89(L17.A11),t&&e&&App.CM.apF(O6.B82,L13.A24,L17.A11),e=O4.FF89(L17.A29),t&&e&&App.CM.apF(O6.B82,L13.A24,L17.A29)},t.prototype.GX19=function(){this.avatarProxy.GX19()},t.prototype.GX20=function(t){if(200==t.head.state){var e=t.body,i=this.gtM();if(i.avatarInfo.l=e.l,i.avatarInfo.e=e.e,i.isCanGrade(),t.body.l)THH25.FL45(),App.CM.gtM(O6.B88).isShowImgNew(),App.CM.apF(O6.C13,O12.A18),TC56.FK40(),THH34.FK40(),i.isRefreshPre=this.GY15();i.notify(),"nativeAndroid"!==platform.name&&"nativeVivo"!==platform.name||platform.uploadUserInfo()}else App.CM.apF(O6.B87,L10.A4,t)},t.prototype.GY15=function(){var t=TF50.preview;for(var e in t)if(parseInt(t[e].lv)==O4.getLv())return!0;return!1},t.prototype.GM64=function(){this.avatarProxy.GM64()},t.prototype.GM65=function(t){if(200==t.head.state){var e=t.body,i=this.gtM();i.ZK28(e.sl),i.notify()}else App.CM.apF(O6.B87,L10.A4,t)},t.prototype.GQ36=function(t){this.avatarProxy.GQ36(t)},t.prototype.GQ37=function(t){if(200==t.head.state){var e=t.body,i=this.gtM();i.ZK28(e.sl),i.notify()}else App.CM.apF(O6.B87,L10.A4,t)},t.prototype.GS30=function(){this.avatarProxy.GS30()},t.prototype.GS31=function(t){if(200==t.head.state){var e=t.body;this.gtM().ats=e.v.ats,this.GC41()}else App.CM.apF(O6.B87,L10.A4,t)},t.prototype.GO52=function(t){this.avatarProxy.GO52(t)},t.prototype.GO53=function(t){if(200==t.head.state){var e=t.body,i=this.gtM();i.avatarInfo.n=e.n,i.avatarInfo.rnn=e.rnn,i.notify(),P18.sDP("改名成功"),this.GE32()}else App.CM.apF(O6.B87,L10.A4,t)},t.prototype.GO54=function(t,e,i,s){this.avatarProxy.GO54(t,e,i,s)},t.prototype.GK92=function(t){if(t&&t.head&&200==t.head.state){var e=t.body,i=this.gtM(),s=i.avatarInfo.v;null!=e.adcn&&(i.watchCount=t.adcn,i.currentWatch=t.adgn+1),i.ZK27(e),s<i.avatarInfo.v&&!i.showGiftRed&&this.apF(L13.A65),i.ZK28(e.sl),i.isCanGrade();var o=App.CM.gtM(O6.B98),r=App.CM.gtM(O6.C23),n=App.CM.gtM(O6.B58);t.body.l&&o.ZW35(),o.updateLegend(),r.isShowImgNew(),t.body.al&&i.ZV19(t.body.al),t.body.bl&&i.setAvatarAttrB(t.body.bl);var a=1==Object.keys(t.body).length&&t.body.s?L13.A76:void 0;if(n.notify(P4.S88),o.notify(P4.S88,a),i.notify(P4.S88,a),e.s&&i.avatarInfo&&e.s!=i.avatarInfo.olds){if(e.s<=i.avatarInfo.olds)return void(i.avatarInfo.olds=e.s);i.isFlyScore=!0,App.VM.isOpen(O7.G69)||(this.scoreTimeHandler&&this.GV68(),this.scoreTimeHandler=App.K16.doTimer(1500,1,this.GX21,this,this.GV68,this))}"nativeAndroid"!==platform.name&&"nativeVivo"!==platform.name||!e.l||platform.uploadUserInfo()}else{var h=K18.getTips(t.head.state);P18.sDP(h)}},t.prototype.GX21=function(){var t=App.CM.gtM(O6.B82);!App.VM.isOpen(O7.G69)&&t.isFlyScore&&App.VM.open(O7.G10)},t.prototype.GV68=function(){App.K16.rBH(this.scoreTimeHandler),this.scoreTimeHandler=null},t.prototype.GO55=function(t){var e=this.gtM();if(200==t.head.state){var i=t.body;e.avatarInfo.n=i.n,e.avatarInfo.ge=i.ge,e.avatarInfo.c=i.c,e.avatarInfo.i=i.i,e.avatarInfo.skin=i.skin,e.ZR4(),e.ZK28(i.sl),App.CM.apF(O6.A87,Reincarnate.Const.LOAD_REQ)}else e.ZR4();var s=App.CM.gtM(O6.B97);"fth5"===platform.name||"insgame"===platform.name||"japan"===platform.name||"english"===platform.name||"ft7477"===platform.name||"my1737"===platform.name||"huanyu"===platform.name||"militop"===platform.name||"btgame"===platform.name||"sdw"===platform.name||"gaga"===platform.name?platform.updateRole("createRole"):"wxgame"===platform.name||"qq"===platform.name||"awy"===platform.name||"crazy"===platform.name||"h5"===platform.name||"wanba"===platform.name||"oppo"===platform.name||"meizu"===platform.name||"cx"===platform.name||"vivo"===platform.name||"nativeVivo"===platform.name||"huawei"===platform.name?platform.updateRole(s.getRoleInfo(),"createRole"):"freetop"===platform.name||"wakool"===platform.name?(0==s.rl.length&&platform.collect("CompleteRegistration"),platform.updateRole("createRole")):"youle"===platform.name&&(platform.updateRole("createRole"),window.fbq("track","CompleteRegistration"));var o=THH1.FI58(e.avatarInfo.c);App.CM.apF(O6.C12,O8.A42,o),"nativeAndroid"!==platform.name&&"nativeVivo"!==platform.name||platform.uploadUserInfo(),"wxgame"===platform.name&&platform.updateRole(s.getRoleInfo(),"enterGame")},t.prototype.GQ38=function(){return this.avatarProxy.GQ38()},t.prototype.GQ39=function(t){200==t.head.state?this.gtM().setting=t.body.s:App.CM.apF(O6.B87,L10.A4,t)},t.prototype.GV69=function(t){200==t.head.state?this.gtM().setting=t.body.s:App.CM.apF(O6.B87,L10.A4,t)},t.prototype.GK93=function(t){this.avatarProxy.GK93(t)},t.prototype.GK94=function(t){if(200==t.head.state){var e=t.body,i=this.gtM(),s=i.setting.indexOf(e.opt);-1==s?i.setting.push(e.opt):i.setting.splice(s,1),i.notify(P4.S94)}else App.CM.apF(O6.B87,L10.A4,t)},t.prototype.GO56=function(t){if(200==t.head.state){var e=this.gtM();e.ZE87(t.body),e.notify(P4.J63)}else App.CM.apF(O6.B87,L10.A4,t)},t.prototype.GM66=function(t){this.avatarProxy.GM66(t)},t.prototype.GM67=function(t){if(200==t.head.state){var e=t.body,i=this.gtM();i.avatarInfo.actFashion=e.actFashion,i.avatarInfo.fashion=e.actId;var s=i.avatarInfo.us[J11.A7],o=P7.copyTab(s);o.t=void 0,o.n=void 0,o.x=0,o.y=0,o.dir=Dir.br,o.objType=P13.A6;var r={objData:o};App.VM.open(O7.G69,r),i.notify(P4.G19)}else App.CM.apF(O6.B87,L10.A4,t)},t.prototype.GK95=function(t){this.avatarProxy.GK95(t)},t.prototype.GK96=function(t){if(200==t.head.state){var e=t.body,i=this.gtM();i.avatarInfo.actFashion=e.actFashion,i.avatarInfo.fashion=e.actId,i.notify(P4.E71)}else App.CM.apF(O6.B87,L10.A4,t)},t.prototype.GQ40=function(t){this.avatarProxy.GQ40(t)},t.prototype.GQ41=function(t){this.GQ42(t)&&this.gtM().notify(P4.J62)},t.prototype.GO57=function(t){this.avatarProxy.GO57(t)},t.prototype.GO58=function(t){this.GQ42(t)&&this.gtM().notify(P4.HH74)},t.prototype.GU16=function(t){this.avatarProxy.GU16(t)},t.prototype.GU17=function(t){this.GQ42(t)&&this.gtM().notify(P4.N53)},t.prototype.GO59=function(t){this.avatarProxy.GO59()},t.prototype.GO60=function(t){this.GQ42(t)&&this.gtM().notify(P4.HH76)},t.prototype.GQ42=function(t){if(200!=t.head.state)return App.CM.apF(O6.B87,L10.A4,t),!1;var e=t.body,i=this.gtM();return i.avatarInfo.actTitle=null!=e.actTitle?e.actTitle:i.avatarInfo.actTitle,i.avatarInfo.title=null!=e.actId?e.actId:i.avatarInfo.title,i.avatarInfo.kt=null!=e.kt?e.kt:i.avatarInfo.kt,e.trcd&&i.avatarInfo.setTrcd(e.trcd),!0},t.prototype.GX22=function(t){if(200==t.head.state){var e=this.gtM();if(e.avatarInfo.ge=t.body.ge,e.avatarInfo.c=t.body.c,e.avatarInfo.i=t.body.i,e.ZK28(t.body.sl,!0),t.body.skin&&(e.avatarInfo.skin=t.body.skin),t.body.af&&(e.avatarInfo.actFashion=t.body.af),e.notify(P4.S90),t.body.skDts)App.CM.gtM(O6.A87).ZD48(t.body)}else App.CM.apF(O6.B87,L10.A4,t)},t.prototype.GS32=function(){this.avatarProxy.GS32()},t.prototype.GS33=function(t){if(200==t.head.state)if(t.body.cd_)P7.fightCoolingCD(t.body.cd_);else{var e=t.body;e.fr&&(App.VM.close(O7.G69),App.CM.apF(O6.B99,N1.A11,e.fr,{needResult:!1,type:P15.A22},function(t,e){},this))}else App.CM.apF(O6.B87,L10.A4,t)},t.prototype.GHH14=function(){this.gtM().ZN36()},t.prototype.banTjReq=function(t){this.avatarProxy.banTjReq(t)},t.prototype.banTjRes=function(t){if(200==t.head.state){var e=this.gtM();e.avatarInfo.btj=t.body.btj,e.notify()}},t.prototype.GS34=function(t){this.avatarProxy.GS34(t)},t.prototype.GS35=function(t){if(200==t.head.state){var e=t.body,i=this.gtM();i.avatarInfo.i=e.i,i.notify("-2021")}else App.CM.apF(O6.B87,L10.A4,t)},t.prototype.GY16=function(t){this.avatarProxy.GY16(t)},t.prototype.GY17=function(t){if(200==t.head.state){var e=t.body,i=this.gtM();e.cp&&(i.checkIndex=e.cp),i.ZK28(e.sl),i.notify()}else App.CM.apF(O6.B87,L10.A4,t)},t.prototype.GY18=function(t){this.avatarProxy.GY18(t)},t.prototype.GY19=function(t){var e=this.gtM();if(200!=t.head.state)return App.CM.apF(O6.B87,L10.A4,t),void e.notify();t.body;e.updatePlanName(t.body.spn),e.notify()},t.prototype.GX23=function(t){if(200==t.head.state){var e=this.gtM();e.set=t.body.set,P5.sIs(t.body.ob),e.notify()}else App.CM.apF(O6.B87,L10.A4,t)},t.prototype.GU18=function(t){this.gtM();this.apF(L13.A24,L17.A29)},t}(TE11);__reflect(TD35.prototype,"TD35");var AvatarMainView=function(s){function t(t,e){var i=s.call(this,t,e)||this;return i.sGN("release_avatar"),i}return __extends(t,s),t.prototype.initUI=function(){s.prototype.initUI.call(this),App.VM.rgS(O7.G45,O7.G58,"AvatarInfoView",this.content),App.VM.rgS(O7.G45,O7.D16,"AvatarSkillNewView",this.content),App.VM.rgS(O7.G45,O7.HH50,"PelletView",this.content),App.VM.rgS(O7.G45,O7.D30,"PelletStarGazeView",this.content);var t=[O3.tr(401),O3.tr(402),O3.tr(403),O3.tr(404)],e=[O7.G58,O7.D16,O7.HH50,O7.D30];this.btnList=new ButtonList(t,e,this.ZQ23.bind(this)),this.btnList.init(),this.btnGroup.addChild(this.btnList)},t.prototype.initData=function(){s.prototype.initData.call(this)},t.prototype.open=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];s.prototype.open.call(this,t);var i=t[0]||O7.G58;this.ZQ23(i),this.updateRed(),this.ZHH98(),this.ZHH99()},t.prototype.ZQ23=function(t){switch(t){case O7.G58:this.content.top=38,this.title=O3.tr(4557),this.btnList.ZM66(t);break;case O7.D16:this.content.top=45,this.title=O3.tr(405),this.btnList.ZM66(t);break;case O7.HH50:this.ZHH97(t);break;case O7.D30:this.ZC30(t)}},t.prototype.ZC30=function(t){var e=App.CM.gtM(O6.B82).avatarInfo.l,i=parseInt(L9.gIV("starGazeLv"));if(e<i){var s=K18.init.commonDesc1.value;P18.sDP(M18.format(s,[i]))}else this.title=O3.tr(407),this.btnList.ZM66(t),this.content.top=45},t.prototype.ZHH97=function(t){var e=App.CM.gtM(O6.B82).avatarInfo.l,i=parseInt(L9.gIV("pelletLV"));if(e<i){var s=K18.init.commonDesc1.value;P18.sDP(M18.format(s,[i]))}else this.title=O3.tr(406),this.btnList.ZM66(t),this.content.top=45},t.prototype.ZHH98=function(){var t=App.CM.gtM(O6.C10);this.btnList.ZHH58(O7.G58,t.equipHong())},t.prototype.uBM=function(t,e){s.prototype.uBM.call(this,t,e),this.ZHH98(),(t instanceof THH9||t instanceof TG25)&&this.updateRed(),t instanceof TG12&&this.ZHH99()},t.prototype.ZHH99=function(){var t=App.CM.gtM(O6.B82);this.btnList.ZHH58(O7.D16,t.canSkill)},t.prototype.close=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];s.prototype.close.call(this),P7.FK28()},t.prototype.updateRed=function(){var t=App.CM.gtM(O6.B88);this.btnList.ZHH58(O7.HH50,t.pelletNum),this.btnList.ZHH58(O7.D30,t.stargaze)},t}(BasePanelView);__reflect(AvatarMainView.prototype,"AvatarMainView");var TG12=function(s){function t(t){var e=s.call(this,t)||this;return e.canSkill=0,e.canGrade=0,e.checkIndex=1,e.newActTitle=!1,e.newActFashion=!1,e.isHide=!1,e.isRefreshPre=!1,e.isFlyScore=!1,e.isWxRed=!1,e.isGrowRed=!1,e.hasOutTj=!1,e.sTimeStart=0,e.dailyPack=1,e.dailyBasics=[],e.watchCount=0,e.currentWatch=0,e.vipdr=1,e.set=[],e.useGoldBuyVipGiftTips=!1,e}return __extends(t,s),t.prototype.isCanSkill=function(){if(this.canSkill=0,!this.sl||this.sl.length)return!1;for(var t=5;0<t;t--){var e=this.sl[t];if(e){var i=e.getUpCost(e.lv);if(this.avatarInfo.co>=i&&0!=e.lv&&e.lv<this.avatarInfo.l){this.canSkill=1;break}}}},t.prototype.isCanGrade=function(){this.canGrade=0;var t=K18.FHH93(this.avatarInfo.l),e=this.avatarInfo.e;this.canGrade=t<=0?-1:0<t&&e<t?0:1},t.prototype.ZV15=function(){this.newActTitle=!1;var t=this.avatarInfo.actTitle;for(var e in K18.title){var i=K18.title[e];if(this.newActTitle=!!(i.isshow&&-1==t.indexOf(i.id)&&1<=N12.giC(i.item)),this.newActTitle)break}},t.prototype.ZN35=function(){this.newActFashion=!1;var t=this.avatarInfo.actFashion,e=this.avatarInfo.ge;for(var i in K18.fashion){var s=K18.fashion[i],o=1==e?s.man:s.woman;if(this.newActFashion=-1==t.indexOf(o)&&1<=N12.giC(s.item),this.newActFashion)break}},t.prototype.ZR2=function(t){this.avatarInfo=new avatar.AvatarInfo(t),this.checkIndex=void 0!==t.cp?t.cp:this.checkIndex,this.skillPlanList={};for(var e=1;e<=3;e++)this.skillPlanList[e]=new AvatarPlanVo(e),t.spn&&t.spn[e]&&this.skillPlanList[e].updataDataName(t.spn[e]);this.updatePlanName(t.spn),this.ZN36(),this.avatarInfo.olds=this.avatarInfo.s,this.avatarInfo.lastLoadTime=P6.getTime(),this.ZR4(),App.CM.apF(O6.B87,L10.A1),this.set=P7.getValue(t.set,this.set),this.dailyPack=t.dr,this.dailyBasics=t.gr,this.watchCount=t.adcn,this.currentWatch=t.adgn+1,this.vipdr=t.vipdr,t.al&&this.ZV19(t.al),t.bl&&this.setAvatarAttrB(t.bl)},t.prototype.ZV16=function(t){if(this.dailyBasics&&0<this.dailyBasics.length)for(var e=0;e<this.dailyBasics.length;e++)if(this.dailyBasics[e].k==t&&1==this.dailyBasics[e].v)return!1;return!0},t.prototype.updatePlanName=function(t){for(var e in t)this.skillPlanList[parseInt(e)].updataDataName(t[e])},t.prototype.ZK27=function(t){if(this.avatarInfo){for(var e in t)this.avatarInfo[e]=t[e];if(t.l&&(App.CM.apF(O6.B87,L10.A1),this.notify(L13.A69)),t.s&&"english"===platform.gameId){var i=new Date,s=this.avatarInfo.ct;4e5==t.s&&P6.FM1(new Date(s),i)?platform.collect("D1Power"):12e5==t.s&&P6.FM1(new Date(s+1728e5),i)?platform.collect("D3Power"):25e5==t.s&&P6.FM1(new Date(s+5184e5),i)?platform.collect("D7Power"):45e5==t.s&&P6.FM1(new Date(s+11232e5),i)?platform.collect("D14Power"):8e6==t.s&&P6.FM1(new Date(s+25056e5),i)&&platform.collect("D30Power")}App.CM.apF(O6.A63,D7.A3),App.CM.apF(O6.A43,UltimateBattle.Const.LEVEL_UPDATE);var o=App.CM.gtM(O6.C7);o.getRedNum2(),o.notify(P4.U9)}},t.prototype.ZR3=function(t){this.ats=t},t.prototype.ZR4=function(){this.sl=K18.FE64(this.avatarInfo.c),this.isCanSkill()},t.prototype.ZK28=function(t,e){var o=this;void 0===e&&(e=!1),null!=t&&(e&&(this.sl=K18.FE64(this.avatarInfo.c)),t.forEach(function(t,e){for(var i in o.sl){var s=o.sl[i];if(s.skillid==t.id){s.ZD70(t,e);break}}}),this.isCanSkill())},t.prototype.ZE87=function(t){if(1==t.r)this.avatarInfo.us&&(this.avatarInfo.us[t.u.ty]=null,delete this.avatarInfo.us[t.u.ty]);else{null==this.avatarInfo.us&&(this.avatarInfo.us={});var e=this.avatarInfo.us[t.u.ty];if(e)for(var i in t.u)e[i]=t.u[i];else this.avatarInfo.us[t.u.ty]=t.u}},t.prototype.getAvatarRes=function(t){var e=NaN;switch(t){case pack.I11.BIND_GOLD:e=this.avatarInfo.bg;break;case pack.I11.COIN:e=this.avatarInfo.co;break;case pack.I11.COMPETITION_COIN:break;case pack.I11.EXP:e=this.avatarInfo.e;break;case pack.I11.GOLD:e=this.avatarInfo.g;break;case pack.I11.VIP_POINT:e=this.avatarInfo.vp}return e},t.prototype.haveSkin=function(t){var e=!1;return this.avatarInfo&&this.avatarInfo.actFashion?e=-1!=this.avatarInfo.actFashion.indexOf(t):e},t.prototype.getRestTime=function(t){if(this.avatarInfo.trcd[t]){var e=P6.getTime();return Math.max(0,1e3*this.avatarInfo.trcd[t]-(e-this.avatarInfo.lastLoadTime))}return-1},t.prototype.ZN36=function(){var t,e=this;for(var i in this.avatarInfo.trcd)(!t||t>this.avatarInfo.trcd[i])&&(t=this.avatarInfo.trcd[i]);this.ZG34(),t&&(this.rfTitleHandler=App.K16.doTimer(1e3,t,function(){},this,function(){App.CM.apF(O6.B82,L13.A11),e.ZG34()},this))},t.prototype.ZG34=function(){this.rfTitleHandler&&(App.K16.rBH(this.rfTitleHandler),this.rfTitleHandler=null)},t.prototype.ZV17=function(){return this.setting.indexOf(L17.A4)<0?this.canGrade:0},t.prototype.ZN37=function(t,e){return 0<=this.set.indexOf(t)?J13.A2:this.avatarInfo.v>e?J13.A3:J13.A1},t.prototype.ZV18=function(){if(this.showGiftRed)for(var t in THH20.vipshop)if(this.ZN37(parseInt(t),THH20.vipshop[t].viplv)==J13.A3)return!0;return!1},Object.defineProperty(t.prototype,"showGiftRed",{get:function(){return this.setting.indexOf(L17.A29)<0},enumerable:!0,configurable:!0}),t.prototype.ZV19=function(t){this.avatarAttrList=t},t.prototype.setAvatarAttrB=function(t){this.avatarAttrListB=t},t.prototype.getAvatarAttrA=function(t){for(var e in this.avatarAttrList)if(this.avatarAttrList[e].k==t)return this.avatarAttrList[e].v},t.prototype.getAvatarAttrB=function(t){for(var e in this.avatarAttrListB)if(this.avatarAttrListB[e].k==t)return this.avatarAttrListB[e].v},t.prototype.notify=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];s.prototype.notifyView.apply(this,[this,t].concat(e))},t}(TG79);__reflect(TG12.prototype,"TG12");var TG13=function(i){function t(t){var e=i.call(this,t)||this;return e.rSM(P4.S88,e.ZR5,e),e.rSM(P4.X99,e.GV69,e),e.rSM(P4.J63,e.GO56,e),e}return __extends(t,i),t.prototype.ZR5=function(t){this.apF(L13.A51,t)},t.prototype.GV69=function(t){this.apF(L13.A47,t)},t.prototype.GO56=function(t){this.apF(L13.A18,t)},t.prototype.GV66=function(){var s=this;return new Promise(function(e,t){var i={type:P4.W18,body:{}};s.rSMO(P4.W19,function(t){s.apF(L13.A68,t),e("加载角色信息完成")},s),s.sSM(i)})},t.prototype.GX19=function(){var t={type:P4.W20,body:{}};this.rSMO(P4.W21,this.GX20,this),this.sSM(t)},t.prototype.GX20=function(t){this.apF(L13.A74,t)},t.prototype.GY16=function(t){var e={type:P4.D42,body:{page:t}};this.rSMO(P4.D43,this.GY17,this),this.sSM(e)},t.prototype.GY17=function(t){this.apF(L13.A2,t)},t.prototype.GY18=function(t){var e={type:P4.D44,body:{name:t}};this.rSMO(P4.D45,this.GY19,this),this.sSM(e)},t.prototype.GY19=function(t){this.apF(L13.A4,t)},t.prototype.GM64=function(){var t={type:P4.N48,body:{}};this.rSMO(P4.N49,this.GM65,this),this.sSM(t)},t.prototype.GM65=function(t){this.apF(L13.A32,t)},t.prototype.GQ36=function(t){var e={type:P4.J59,body:{order:t}};this.rSMO(P4.J60,this.GQ37,this),this.sSM(e)},t.prototype.GQ37=function(t){this.apF(L13.A15,t)},t.prototype.GS30=function(){var t={};t.type=P4.P69,t.body={},this.rSMO(P4.P70,this.GS31,this),this.sSM(t)},t.prototype.GS31=function(t){this.apF(L13.A42,t)},t.prototype.GO52=function(t){var e={};e.type=P4.U26,e.body={name:t},this.rSMO(P4.U27,this.GO53,this),this.sSM(e)},t.prototype.GO53=function(t){this.apF(L13.A57,t)},t.prototype.GO54=function(t,e,i,s){var o;o="wxgame"===platform.name&&s?{type:P4.N44,body:{name:t,gender:e,country:i,icon:s}}:{type:P4.N44,body:{name:t,gender:e,country:i}},this.rSMO(P4.N45,this.GO55,this),this.sSM(o)},t.prototype.GO55=function(t){this.apF(L13.A59,t)},t.prototype.GQ38=function(){var s=this;return new Promise(function(e,t){var i={type:P4.V39,body:{}};s.rSMO(P4.V40,function(t){s.apF(L13.A17,t),e("加载角色设置信息完成")},s),s.sSM(i)})},t.prototype.GK93=function(t){var e={};e.type=P4.S93,e.body={opt:t},this.rSMO(P4.S94,this.ZI1,this),this.sSM(e)},t.prototype.ZI1=function(t){this.apF(L13.A25,t)},t.prototype.GM66=function(t){var e={};e.type=P4.G18,e.body={fid:t},this.rSMO(P4.G19,this.GM67,this),this.sSM(e)},t.prototype.GM67=function(t){this.apF(L13.A8,t)},t.prototype.GK95=function(t){var e={};e.type=P4.E70,e.body={fid:t},this.rSMO(P4.E71,this.GK96,this),this.sSM(e)},t.prototype.GK96=function(t){this.apF(L13.A6,t)},t.prototype.GQ40=function(t){var e={};e.type=P4.J61,e.body={tid:t},this.rSMO(P4.J62,this.GQ41,this),this.sSM(e)},t.prototype.GQ41=function(t){this.apF(L13.A20,t)},t.prototype.GO57=function(t){var e={};e.type=P4.HH73,e.body={tid:t},this.rSMO(P4.HH74,this.GO58,this),this.sSM(e)},t.prototype.GO58=function(t){this.apF(L13.A10,t)},t.prototype.GU17=function(t){this.apF(L13.A36,t)},t.prototype.GU16=function(t){var e={};e.type=P4.N52,e.body={tid:t},this.rSMO(P4.N53,this.GU17,this),this.sSM(e)},t.prototype.GO60=function(t){this.apF(L13.A12,t)},t.prototype.GO59=function(){var t={};t.type=P4.HH75,t.body={},this.rSMO(P4.HH76,this.GO60,this),this.sSM(t)},t.prototype.GS32=function(){var t={body:{}};t.type=P4.N50,this.rSMO(P4.N51,this.GS33,this),this.sSM(t)},t.prototype.GS33=function(t){this.apF(L13.A34,t)},t.prototype.banTjReq=function(t){var e={};e.body={ban:t?1:0},e.type=P4.U28,this.rSMO(P4.U29,this.banTjRes,this),this.sSM(e)},t.prototype.banTjRes=function(t){this.apF(L13.A61,t)},t.prototype.GS34=function(t){var e={};e.body={icon:t},e.type=2021,this.rSMO("-2021",this.GS35,this),this.sSM(e)},t.prototype.GS35=function(t){this.apF(L13.A27,t)},t.prototype.rebirthReq=function(t,e,i){var s;s="wxgame"===platform.name&&i?{type:P4.S89,body:{gender:t,country:e,icon:i}}:{type:P4.S89,body:{gender:t,country:e}},this.rSMO(P4.S90,this.GX22,this),this.sSM(s)},t.prototype.GX22=function(t){this.apF(L13.A53,t)},t.prototype.buyGift=function(t){var e={};e.type=P4.R35,e.body={index:t},this.rSMO(P4.R36,this.GX23,this),this.sSM(e)},t.prototype.GX23=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.apF.apply(this,[L13.A75].concat(t))},t}(TG80);__reflect(TG13.prototype,"TG13");var O4=function(){function p(){}return Object.defineProperty(p,"model",{get:function(){return App.CM.gtM(O6.B82)},enumerable:!0,configurable:!0}),p.FK46=function(t){var e="";if(P7.FM14()){if(t<1e4)e=String(t);else if(1e4<=t&&t<1e6){if(0<(o=String(t/1e3).split(".")).length&&(e+=o[0]),1<o.length&&o[0].length<4){for(var i="",s=o[0].length;s<4;s++){i+=o[1].charAt(s-o[0].length)}e+="."+i}e+="K"}else if(1e6<=t&&t<1e9){if(0<(o=String(t/1e6).split(".")).length&&(e+=o[0]),1<o.length&&o[0].length<4){for(i="",s=o[0].length;s<4;s++){i+=o[1].charAt(s-o[0].length)}e+="."+i}e+="M"}else if(1e9<t){if(0<(o=String(t/1e9).split(".")).length&&(e+=o[0]),1<o.length&&o[0].length<4){for(i="",s=o[0].length;s<4;s++){i+=o[1].charAt(s-o[0].length)}e+="."+i}e+="B"}}else if(t<1e6)e=String(t);else if(1e6<=t&&t<1e8){if(0<(o=String(t/1e4).split(".")).length&&(e+=o[0]),1<o.length&&o[0].length<4){for(i="",s=o[0].length;s<4;s++){i+=o[1].charAt(s-o[0].length)}e+="."+i}e+=O3.tr(5734)}else if(1e8<=t&&t<=1e11){if(0<(o=String(t/1e8).split(".")).length&&(e+=o[0]),1<o.length&&o[0].length<4){for(i="",s=o[0].length;s<4;s++){i+=o[1].charAt(s-o[0].length)}e+="."+i}e+=O3.tr(5735)}else if(1e11<t){var o;if(0<(o=String(t/1e11).split(".")).length&&(e+=o[0]),1<o.length&&o[0].length<4){for(i="",s=o[0].length;s<4;s++){i+=o[1].charAt(s-o[0].length)}e+="."+i}e+=O3.tr(5736)}return e},p.FE66=function(t){if("meizu"===platform.name)window.mz.setClipboardData({data:t,success:function(t){},fail:function(t){},complete:function(t){}});else{var e=document.createElement("input");e.value=t,document.body.appendChild(e),e.select(),e.setSelectionRange(0,e.value.length),document.execCommand("Copy"),document.body.removeChild(e)}},p.FA84=function(t){var e={};if(!t||!t.ats)return e;for(var i=0,s=t.ats;i<s.length;i++){var o=s[i];200<o.k?e[o.k]=o.v:e[o.k]=Math.floor(o.v)}return e},p.FJ33=function(t){t=t||0;return(t*=100).toFixed(2)+"%"},p.getScore=function(t){var e=0;if(!t)return e;if(!K18.attribute)return e;for(var i in t){var s=K18.attribute[i];s&&(e+=t[i]*s.power)}return Math.floor(e)},p.FC79=function(){var t=parseInt(L9.gIV("pelletLV"));if(p.getLv()<t)return 0;var e=App.CM.gtM(O6.B88).calcAttrAdd();for(var i in e)this["lb"+i]&&(this["lb"+i].text=e[i]);return p.getScore(e)},p.FA85=function(){var t=parseInt(L9.gIV("starGazeLv"));if(p.getLv()<t)return 0;var e=App.CM.gtM(O6.B88),i=e.sd.k,s=e.sd.v,o=(Object.keys(L9.stargaze).length,L9.FK81(i,s));return p.getScore(o)},p.FA56=function(){for(var t=0,e=0,i=App.CM.gtM(O6.B82).avatarInfo.actFashion;e<i.length;e++){var s=i[e],o=this.FE67(p.FF88(),s);if(o){var r=P7.FL92(o.attribute);t+=p.getScore(r)}}return t},p.FF87=function(){for(var t=App.CM.gtM(O6.B90).cellsData,e=0,i=0,s=0;s<4;s++)if(t){for(var o=0;o<t.length;o++)if(t[o].tid==t[s].tid){e=t[o].ratio;break}var r=L5.base[t[s].tid+""];r&&r.attr&&(i+=M10.gAG(r.attr)+Math.floor(M10.gAG(r.attr)*e))}return i},p.suitAttr=function(){for(var t=0,e=App.CM.gtM(O6.B98).avaEquip,i=0;i<e.length;i++)if(e[i]){var s=M10.ava[e[i].i.toString()];t+=this.FK47(s.attr)}return t},p.FG86=function(){for(var t=0,e=App.CM.gtM(O6.B98).avaEquip,i=0;i<e.length;i++)if(e[i]){var s=M10.ava[e[i].i.toString()];if(e[i].eatr&&(s.ats=e[i].eatr.ats),s.equiptype==M19.A96){var o=s.ats,r=M10.ava[s.id+""];if(r.addattr="",o&&o.length){for(var n=0;n<o.length;n++)r.addattr+=o[n].k+":"+o[n].v+";";r.addattr=r.addattr.substring(0,r.addattr.length-1)}r&&r.addattr&&(t+=this.FK47(r.addattr))}}return t},p.FK47=function(t){for(var e=0,i=M18.FL28(t,";"),s=0;s<i.length;s++)e+=parseInt(M18.FL28(i[s],":")[1]);return e},p.FE67=function(t,e){for(var i=0,s=t;i<s.length;i++){var o=s[i];if(o.id==e)return o}},p.FF88=function(){var t=new Array,e=App.CM.gtM(O6.B82),i=e.avatarInfo.actFashion,s=e.avatarInfo.fashion,o=e.avatarInfo.ge;for(var r in K18.fashion){var n=K18.fashion[r],a={};a.id=1==o?n.man:n.woman,a.name=n.name,a.attribute=n.attribute,a.item=n.item,a.channel=n.channel,a.jump=n.jump,a.selected=0,a.active=-1==i.indexOf(a.id)?0:1,a.huanhua=a.id!=s?0:1,a.red=-1==i.indexOf(a.id)&&1<=N12.giC(n.item)?1:0,t.push(a)}t=t.sort(p.FC11);var h=1;for(r=0;r<t.length;r++){t[r].index=h,h++}return t},p.FC11=function(t,e){return t.red>e.red?-1:t.red<e.red?1:t.huanhua>e.huanhua?-1:t.huanhua==e.huanhua?t.active>e.active?-1:t.active==e.active?t.id<e.id?-1:t.id==e.id?0:1:1:1},p.FHH95=function(){var t=new Array,e=App.CM.gtM(O6.B82),i=e.avatarInfo.actTitle,s=e.avatarInfo.title;for(var o in K18.title){var r=K18.title[o];if(r.isshow){var n={};n.id=r.id,n.name=r.name,n.attribute=r.attribute,n.item=r.item,n.channel=r.channel,n.jump=r.jump,n.number=r.number,n.show=r.show,n.selected=0,n.active=-1==i.indexOf(n.id)?0:1,n.huanhua=n.id!=s?0:1,n.red=-1==i.indexOf(n.id)&&1<=N12.giC(r.item)?1:0,t.push(n)}}t=t.sort(p.FC11);var a=1;for(o=0;o<t.length;o++){t[o].index=a,a++}return t},p.FD72=function(t,e){var i="";switch(t){case avatar.AttributeKey.ATK:i=O3.tr(5402);break;case avatar.AttributeKey.DEF:i=O3.tr(5403);break;case avatar.AttributeKey.HP:i=O3.tr(5404);break;case avatar.AttributeKey.HIT:i=O3.tr(5405);break;case avatar.AttributeKey.DOD:i=O3.tr(5406);break;case avatar.AttributeKey.CRIT:i=O3.tr(5407);break;case avatar.AttributeKey.PHY:i=O3.tr(5408);break;case avatar.AttributeKey.IGNDEF:i=O3.tr(5409);break;case avatar.AttributeKey.IGNBKE:i=O3.tr(5410);break;case avatar.AttributeKey.SPEED:i=O3.tr(5411);break;case avatar.AttributeKey.DAEXT:i=O3.tr(5412);break;case avatar.AttributeKey.DABKE:i=O3.tr(5413);break;case avatar.AttributeKey.CRITEXT:i=O3.tr(5414);break;case avatar.AttributeKey.CRITBKE:i=O3.tr(5415);break;case avatar.AttributeKey.PVEEXT:i=O3.tr(5416);break;case avatar.AttributeKey.PVEBKE:i=O3.tr(5417);break;case avatar.AttributeKey.PVPEXT:i=O3.tr(5418);break;case avatar.AttributeKey.PVPBKE:i=O3.tr(5419);break;case avatar.AttributeKey.CRITMUL:i=O3.tr(5420);break;case avatar.AttributeKey.CRITRATE:i=O3.tr(5421);break;case avatar.AttributeKey.PHYRATE:i=O3.tr(5422);break;case avatar.AttributeKey.CONTROL:i=O3.tr(6851);break;case avatar.AttributeKey.POWER:i=O3.tr(6852);break;case avatar.AttributeKey.WISDOM:i=O3.tr(6853)}return e&&(i+=e),i},p.FHH96=function(t,e){var i="";if(1==t)switch(e){case 1:i=K18.init.avatarMaleShow1.value;break;case 2:i=K18.init.avatarMaleShow2.value;break;case 3:i=K18.init.avatarMaleShow3.value}else switch(e){case 1:i=K18.init.avatarFemaleShow1.value;break;case 2:i=K18.init.avatarFemaleShow2.value;break;case 3:i=K18.init.avatarFemaleShow3.value}return i},p.FG87=function(t,e){var i="";if(1==t)switch(e){case 1:i=K18.init.avatarMaleSkin1.value;break;case 2:i=K18.init.avatarMaleSkin2.value;break;case 3:i=K18.init.avatarMaleSkin3.value}else switch(e){case 1:i=K18.init.avatarFemaleSkin1.value;break;case 2:i=K18.init.avatarFemaleSkin2.value;break;case 3:i=K18.init.avatarFemaleSkin3.value}return i},p.getLv=function(){var t=App.CM.gtM(O6.B82);if(t.avatarInfo)return t.avatarInfo.l},p.getVipLv=function(){return App.CM.gtM(O6.B82).avatarInfo.v},p.getName=function(){return App.CM.gtM(O6.B82).avatarInfo.n},p.getAid=function(){return App.CM.gtM(O6.B82).avatarInfo.id},p.getSid=function(){return App.CM.gtM(O6.B82).avatarInfo.sid},p.getHead=function(){return App.CM.gtM(O6.B82).avatarInfo.i},p.getSex=function(){return App.CM.gtM(O6.B82).avatarInfo.ge},p.FG88=function(t,e){var i=App.CM.gtM(O6.B82);switch(e){case 1:return t<=i.avatarInfo.g;case 2:return t<=i.avatarInfo.bg;case 3:return t<=i.avatarInfo.co;default:return!1}},p.FE68=function(){for(var t=App.CM.gtM(O6.B82),e=t.avatarInfo.vg,i=K18.FL40();i<=t.avatarInfo.v;i++){if(!e||0==e.length)return i;if(-1==e.indexOf(i))return i}var s=K18.FL39();return t.avatarInfo.v+1>s?s:t.avatarInfo.v+1},p.FJ34=function(){var t=this.model,e=[];for(var i in t.skillPlanList)e.push(t.skillPlanList[i]);return e},p.FJ35=function(){var t=this.model;return t.skillPlanList[t.checkIndex].name},p.FF89=function(t){var e=App.CM.gtM(O6.B82).setting;if(e&&0!=e.length)return-1!=e.indexOf(t)},p.updateAddState=function(){0<=App.CM.gtM(O6.B82).setting.indexOf(L17.A4)&&App.CM.apF(O6.B82,L13.A24,L17.A4)},p}();__reflect(O4.prototype,"O4");var L17=function(){function t(){}return t.A31=1e4,t.A37=10001,t.A38=10002,t.A39=10003,t.A34=10004,t.A40=10005,t.A19=10006,t.A21=10007,t.A24=10008,t.A25=10009,t.A26=10010,t.A20=10011,t.A27=10012,t.A22=10013,t.A41=10014,t.A13=10015,t.A14=10016,t.A15=10017,t.A16=10018,t.A17=10019,t.A18=10020,t.A35=10021,t.A36=10022,t.A1=10023,t.A3=10024,t.A23=10025,t.A4=10026,t.A32=10027,t.A2=10028,t.A12=10029,t.A42=10030,t.A5=10031,t.A6=10032,t.A7=10033,t.A8=10034,t.A9=10035,t.A10=10036,t.A28=10037,t.A11=10038,t.A29=10039,t.A43=10040,t.A33=10041,t.A30=10042,t.MFLAG_CON=10043,t}();__reflect(L17.prototype,"L17");var AvatarSkillItem=function(e){function t(){var t=e.call(this)||this;return t.isSelected=!1,t.skinName=AvatarSkillItemSkin,t.touchEnabled=!1,t.imgSelected.visible=!1,t.addEventListener(egret.TouchEvent.TOUCH_TAP,t.ZU35,t),t}return __extends(t,e),t.prototype.destroy=function(){this.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.ZU35,this)},t.prototype.setData=function(t){this.data=t,this.data?(this.icon=this.data.icon||"v1_img_jinengdi_png",this.data.isOpen()?(this.currentState="name_unlock",this.lbName.text=this.data.name,this.setLevel(t.lv)):(this.currentState="name_lock",this.lbName.text=M18.format("$0级开启",[this.data.unlocklv]))):this.currentState="name_unopen"},t.prototype.setLevel=function(t){this.lbLevel.text=String(t),this.lbLevel.validateNow(),this.grpLevel.width=this.lbLevel.width+10},t.prototype.ZK29=function(t,e){this.selectHandler=t,this.selectCallObj=e},t.prototype.ZU35=function(){"name_unlock"==this.currentState&&this.selectHandler&&this.selectHandler.call(this.selectCallObj,this)},Object.defineProperty(t.prototype,"selected",{get:function(){return this.isSelected},set:function(t){this.isSelected=t,this.imgSelected.visible=this.isSelected},enumerable:!0,configurable:!0}),t}(eui.Component);__reflect(AvatarSkillItem.prototype,"AvatarSkillItem");var AvatarSkillItemNew=function(e){function t(){var t=e.call(this)||this;return t.isSelected=!1,t.skinName=AvatarSkillItemSkinNew,t.touchEnabled=!1,t.imgSelected.visible=!1,t.imgChoose.visible=!1,t.addEventListener(egret.TouchEvent.TOUCH_TAP,t.ZU35,t),t}return __extends(t,e),t.prototype.destroy=function(){this.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.ZU35,this)},t.prototype.setData=function(t){if(this.data=t,this.data)if(this.icon=this.data.icon||"v1_img_jinengdi_png",this.data.isOpen()){this.currentState="name_unlock",this.lbName.text=this.data.name,P7.FM14()?this.lbName.visible=!1:this.lbName.visible=!0;var e=parseInt(this.lbLevel.text);t.lv>e&&App.THH33.aUE(this.gpEffect,"iconSkill",-this.gpEffect.width/2,-this.gpEffect.height/2,1),this.setLevel(t.lv)}else this.currentState="name_lock",this.lbName.text=O3.tr(5820,this.data.unlocklv);else this.currentState="name_unopen"},t.prototype.setLevel=function(t){this.lbLevel.text=String(t),this.lbLevel.validateNow(),this.grpLevel.width=this.lbLevel.width+10},t.prototype.ZK29=function(t,e){this.selectHandler=t,this.selectCallObj=e},t.prototype.ZU35=function(){this.selectHandler&&this.selectHandler.call(this.selectCallObj,this)},Object.defineProperty(t.prototype,"selected",{get:function(){return this.isSelected},set:function(t){this.isSelected=t,this.imgSelected.visible=this.isSelected,this.imgChoose.visible=this.isSelected},enumerable:!0,configurable:!0}),t}(eui.Component);__reflect(AvatarSkillItemNew.prototype,"AvatarSkillItemNew");var AvatarSkillSortItem=function(e){function t(){var t=e.call(this)||this;return t.addEventListener(egret.Event.ADDED_TO_STAGE,t.open,t),t.addEventListener(egret.Event.REMOVED_FROM_STAGE,t.close,t),t}return __extends(t,e),t.prototype.open=function(){this.btnMove.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickMove,this)},t.prototype.close=function(){this.btnMove.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickMove,this)},t.prototype.onClickMove=function(){App.CM.apF(O6.B82,L13.A14,this.data.order)},t.prototype.dataChanged=function(){this.btnMove.label=O3.tr(5722),this.skillName=this.data.name||"",this.lbDesc.textFlow=M18.HTP.parse(this.data.getDesc()),this.skillIcon.setData(this.data),this.skillIcon.currentState="normal",this.indexStr=String(this.data.order)},t}(eui.ItemRenderer);__reflect(AvatarSkillSortItem.prototype,"AvatarSkillSortItem");var EquipItem=function(e){function t(){var t=e.call(this)||this;return t.iconBg="",t.icon="",t.equipLv="",t}return __extends(t,e),t}(eui.Component);__reflect(EquipItem.prototype,"EquipItem");var FashionTitleShareRender=function(t){function e(){return t.call(this)||this}return __extends(e,t),e.prototype.dataChanged=function(){this.lbName.text=this.data.name,this.lbName.textColor=1==this.data.active?11481344:11301691,this.imgGet.visible=1==this.data.active,this.imgNew.visible=1==this.data.red,this.grpHave.visible=1==this.data.huanhua,this.imgOn.visible=1==this.data.selected;var t=K18.FHH94(this.data.id);this.imgClock.visible=!!t&&0<t.time,1==this.data.selected?P7.FM14()?App.THH32.aUE(this,"wdsg_pf_paizi_tx_001",157,43):App.THH32.aUE(this,"wdsg_pf_paizi_tx_001",53.5,157):App.THH32.rEf(this,"wdsg_pf_paizi_tx_001")},e}(eui.ItemRenderer);__reflect(FashionTitleShareRender.prototype,"FashionTitleShareRender");var AvatarAttributeView=function(s){function t(t,e){var i=s.call(this,t,e)||this;return i.skinName="AvatarAttributeSkin",i}return __extends(t,s),t.prototype.initUI=function(){s.prototype.initUI.call(this);for(var t=1;t<=19;t++)this["lbStr"+t].textFlow=M18.HTP.parse(O3.tr(4656+t));for(t=20;t<=22;t++)this["lbStr"+t].textFlow=M18.HTP.parse(O3.tr(t-20+6945));this.lbStrPoZhao.textFlow=O3.tr2(8385),this.lbStrZhaoJia.textFlow=O3.tr2(8386),this.lbStrChuanci.textFlow=O3.tr2(8387),this.lbStrFangHu.textFlow=O3.tr2(8388)},t.prototype.open=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];s.prototype.open.call(this),this.bgMask.addEventListener(egret.TouchEvent.TOUCH_TAP,this.closeSelf,this),this.backBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.closeSelf,this);var i=App.CM.gtM(O6.B82);this.ZE70(i)},t.prototype.uBM=function(t){s.prototype.uBM.call(this,t),t instanceof TG12&&this.ZE70(t)},t.prototype.ZE70=function(t){var e=O4.FA84(t),i=avatar.AttributeKey;this.atkLb.text=e[i.ATK]?String(e[i.ATK]):"0",this.defLb.text=e[i.DEF]?String(e[i.DEF]):"0",this.hpLb.text=e[i.HP]?String(e[i.HP]):"0",this.speedLb.text=e[i.SPEED]?String(e[i.SPEED]):"0",this.hitLb.text=e[i.HIT]?String(e[i.HIT]):"0",this.dodLb.text=e[i.DOD]?String(e[i.DOD]):"0",this.critLb.text=e[i.CRIT]?String(e[i.CRIT]):"0",this.phyLb.text=e[i.PHY]?String(e[i.PHY]):"0",this.ignDefLb.text=e[i.IGNDEF]?String(e[i.IGNDEF]):"0",this.ignBkeLb.text=e[i.IGNBKE]?String(e[i.IGNBKE]):"0",this.ctrDecLb.text=e[i.CONTROL]?String(e[i.CONTROL]):"0",this.powDecLb.text=e[i.POWER]?String(e[i.POWER]):"0",this.wisDecLb.text=e[i.WISDOM]?String(e[i.WISDOM]):"0",this.daExtLb.text=O4.FJ33(e[i.DAEXT]),this.daBkeLb.text=O4.FJ33(e[i.DABKE]),this.critExtLb.text=O4.FJ33(e[i.CRITEXT]),this.critBkeLb.text=O4.FJ33(e[i.CRITBKE]),this.pvpIncLb.text=O4.FJ33(e[i.PVPEXT]),this.pvpDecLb.text=O4.FJ33(e[i.PVPBKE]),this.pveIncLb.text=O4.FJ33(e[i.PVEEXT]),this.pveDecLb.text=O4.FJ33(e[i.PVEBKE]);var s=e[i.POZHAO];this.valuePoZhao.text=s?s=s<1?O4.FJ33(e[i.POZHAO]):""+s:"0";var o=e[i.ZHAOJIA];this.valueZhaoJia.text=o?o=o<1?O4.FJ33(e[i.ZHAOJIA]):""+o:"0";var r=e[i.CHUANCI];this.valueChuanci.text=r?r=r<1?O4.FJ33(e[i.CHUANCI]):""+r:"0";var n=e[i.FANGHU];this.valueFangHu.text=n?n=n<1?O4.FJ33(e[i.FANGHU]):""+n:"0"},t.prototype.close=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];s.prototype.close.call(this),this.bgMask.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.closeSelf,this),this.backBtn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.closeSelf,this)},t.prototype.closeSelf=function(){this.apF(L13.A13)},t}(BaseEuiView);__reflect(AvatarAttributeView.prototype,"AvatarAttributeView");var AvatarDetailView=function(a){function t(t,e){var i=a.call(this,t,e)||this;return i.skinName="AvatarDetailSkin",i}return __extends(t,a),t.prototype.initUI=function(){a.prototype.initUI.call(this),platform.wxUserInfo?(this.mHead.visible=!0,this.mHead.includeInLayout=!0):(this.mHead.visible=!1,this.mHead.includeInLayout=!1),"P0004973"!==platform.gameId&&"P0004983"!==platform.gameId&&"P0005515"!==platform.gameId&&"P0005516"!==platform.gameId||(this.btnCopy.visible=!1),this.lbStr1.textFlow=M18.HTP.parse(O3.tr(4409)),this.lbStr2.textFlow=M18.HTP.parse(O3.tr(4410)),this.lbStr3.textFlow=M18.HTP.parse(O3.tr(4411)),this.lbStr4.textFlow=M18.HTP.parse(O3.tr(4412)),this.lbStr5.textFlow=M18.HTP.parse(O3.tr(4413)),this.lbStr6.textFlow=M18.HTP.parse(O3.tr(4414)),this.lbStr7.textFlow=M18.HTP.parse(O3.tr(5712)),this.btnCopy.label=O3.tr(4421),this.modifyName.label=O3.tr(4422),this.sysSet.label=O3.tr(4423),this.mHead.label=O3.tr(4424),this.switchAcc.visible="PM001087"===platform.gameId||"PM001012"===platform.gameId,"nativeAndroid"!==platform.name&&"nativeVivo"!==platform.name||(this.switchAcc.visible=!1)},t.prototype.open=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];a.prototype.open.call(this),this.bgMask.addEventListener(egret.TouchEvent.TOUCH_TAP,this.closeSelf,this),this.closeBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.closeSelf,this),this.backBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.closeSelf,this),this.modifyName.addEventListener(egret.TouchEvent.TOUCH_TAP,this.ZR6,this),this.vipBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.GP81,this),this.monthBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.ZV21,this),this.sysSet.addEventListener(egret.TouchEvent.TOUCH_TAP,this.ZV22,this),this.mHead.addEventListener(egret.TouchEvent.TOUCH_TAP,this.ZR7,this),this.btnCopy.addEventListener(egret.TouchEvent.TOUCH_TAP,this.copyID,this),this.switchAcc.addEventListener(egret.TouchEvent.TOUCH_TAP,this.ZR8,this);var i=App.CM.gtM(O6.B82);this.ZE70(i);var s=App.CM.gtM(O6.B89);this.ZE88(s);var o=App.CM.gtM(O6.B42);this.ZC94(o);var r=App.CM.gtM(O6.B66);this.ZD69(r);var n=i.avatarInfo.us[J11.A7];this.ZN38(n),this.FG75()},t.prototype.FG75=function(){P7.FG67()&&(this.vipBtn.visible=!1,this.monthBtn.visible=!1)},t.prototype.ZE70=function(t){this.avatarHead.source=O4.getHead(),this.avatarHead.width=this.avatarHead.height=82,this.scoreLb.text=String(t.avatarInfo.s),this.nameLb.textFlow=M18.HTP.parse(O3.tr(4415,t.avatarInfo.n)),0==t.avatarInfo.ge?this.genderLb.textFlow=M18.HTP.parse(O3.tr(4416,O3.tr(6713))):this.genderLb.textFlow=M18.HTP.parse(O3.tr(4416,O3.tr(6714))),this.lvLb.textFlow=M18.HTP.parse(O3.tr(4417,String(t.avatarInfo.l))),this.labRoleID.textFlow=M18.HTP.parse(O3.tr(4420,t.avatarInfo.id.toString()))},t.prototype.ZN38=function(t){var e={x:0,y:0,dir:Dir.br,objType:P13.A6};this.roleObj=new FightGameObject,this.roleObj.action=Action.Stand,this.roleObj.setBaseData(e),t.bt=BehaviourType.Attack_d,t.sr=1,this.roleObj.setData(t,this.roleGrp),this.roleObj.name=null},t.prototype.ZE88=function(t){this.unionLb.textFlow=M18.HTP.parse(O3.tr(4418,O3.tr(6715)));var e=t.myLegion;e&&e.legion&&(this.unionLb.textFlow=M18.HTP.parse(O3.tr(4418,String(e.legion.name))))},t.prototype.ZD69=function(t){0<t.monthCd?this.monthBtn.bgStr="v1_btn_yk_wjxq_png":this.monthBtn.bgStr="v1_btn_yk_wjxq02_png"},t.prototype.ZC94=function(t){this.partnerLb.textFlow=M18.HTP.parse(O3.tr(4419,O3.tr(6715))),t.fere&&(this.partnerLb.textFlow=M18.HTP.parse(O3.tr(4419,String(t.fere.name))))},t.prototype.uBM=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];a.prototype.uBM.call(this,t,e),t instanceof TG12&&this.ZE70(t),t instanceof TG20&&this.ZE88(t),t instanceof TF45&&this.ZC94(t),t instanceof TF89&&this.ZD69(t)},t.prototype.close=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];a.prototype.close.call(this),this.bgMask.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.closeSelf,this),this.closeBtn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.closeSelf,this),this.backBtn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.closeSelf,this),this.modifyName.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.ZR6,this),this.vipBtn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.GP81,this),this.monthBtn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.ZV21,this),this.sysSet.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.ZV22,this),this.mHead.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.ZR7,this),this.btnCopy.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.copyID,this),this.switchAcc.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.ZR8,this),this.roleGrp.removeChildren(),this.roleObj.destory(),this.roleObj=null},t.prototype.closeSelf=function(){this.apF(L13.A62)},t.prototype.ZR6=function(){this.apF(L13.A44)},t.prototype.ZR7=function(){this.apF(L13.A45)},t.prototype.ZV21=function(){App.VM.open(O7.F64,O7.C53)},t.prototype.ZV22=function(){this.apF(L13.A63)},t.prototype.GP81=function(){App.VM.open(O7.I40)},t.prototype.copyName=function(){var t=this.nameLb.text;"wxgame"===platform.name?platform.setClipboardData(t,function(){P18.sDP(O3.tr(5650))}):(O4.FE66(t),P18.sDP(O3.tr(5650)))},t.prototype.copyID=function(){var t=this.labRoleID.text;"wxgame"===platform.name||"oppo"===platform.name||"vivo"===platform.name?platform.setClipboardData(t,function(){P18.sDP(O3.tr(5650))}):(O4.FE66(t),P18.sDP(O3.tr(5650)))},t.prototype.ZR8=function(){window.ShSdk.logout(),window.location.reload()},t}(BaseEuiView);__reflect(AvatarDetailView.prototype,"AvatarDetailView");var AvatarFashionView=function(n){function t(t,e){var i=n.call(this,t,e)||this;return i.pageSize=6,i.itemWidth=95,i.skinName="FashionTitleShareSkin",i}return __extends(t,n),t.prototype.initData=function(){this._collection=new eui.ArrayCollection,this.skinData.dataProvider=this._collection,this.skinData.itemRenderer=FashionTitleShareRender},t.prototype.initUI=function(){n.prototype.initUI.call(this),this.lbStr1.textFlow=M18.HTP.parse(O3.tr(4567)),this.btnActive.label=O3.tr(4565),this.btnChange.label=O3.tr(4566),P7.FM14()&&(this.itemWidth=186.75,this.pageSize=3)},t.prototype.open=function(t){void 0===t&&(t=void 0),n.prototype.open.call(this,t),this.title.text=O3.tr(409),this.totalDesc.text=O3.tr(411),this.activeDesc.text=O3.tr(412);var e=O4.FF88();this._curSelect=t?this.FE67(e,t):e[0],this._curSelect&&(this._curSelect.selected=1,this._collection.replaceAll(e)),this.location=0,this.scroller.addEventListener(eui.UIEvent.CHANGE_END,this.ZQ72,this),this.skinData.addEventListener(eui.ItemTapEvent.ITEM_TAP,this.onItemTap,this),this.bgMask.addEventListener(egret.TouchEvent.TOUCH_TAP,this.closeSelf,this),this.closeBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.closeSelf,this),this.backBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.closeSelf,this),this.btnLeft.addEventListener(egret.TouchEvent.TOUCH_TAP,this.doLeft,this),this.btnRight.addEventListener(egret.TouchEvent.TOUCH_TAP,this.doRight,this),this.btnActive.addEventListener(egret.TouchEvent.TOUCH_TAP,this.doActive,this),this.btnChange.addEventListener(egret.TouchEvent.TOUCH_TAP,this.doHuanhua,this),this.lbSource.addEventListener(egret.TouchEvent.TOUCH_TAP,this.jumpPage,this),this.groupIcon.addEventListener(egret.TouchEvent.TOUCH_TAP,this.openProsView,this),this.GX5()},t.prototype.ZE89=function(){if(this._collection.length<=6)this._pageStart=this._collection.getItemAt(0),this._pageEnd=this._collection.getItemAt(this._collection.length-1);else{for(var t=this._collection.getItemAt(this._collection.length-1),e=this._curSelect.index;e%6!=0&&e!=t.index;)e++;this._pageStart=e%6!=0?this.ZI2(this._collection.source,e-e%6+1):this.ZI2(this._collection.source,e-5),this._pageEnd=this.ZI2(this._collection.source,e)}},t.prototype.FE67=function(t,e){for(var i=0,s=t;i<s.length;i++){var o=s[i];if(o.id==e)return o}},t.prototype.ZI2=function(t,e){for(var i=0,s=t;i<s.length;i++){var o=s[i];if(o.index==e)return o}},t.prototype.GX5=function(t){void 0===t&&(t=void 0),this.ZG35(),this.ZK30(),this.ZN23(),this.ZR9(),this.ZK31(),this.ZN39(),t||(this.ZE89(),this.updateArrow()),this.ZR10(),this.ZQ72()},t.prototype.ZG35=function(){var t=P7.FL92(this._curSelect.attribute),e=O4.getScore(t);this.score.text=String(e)},t.prototype.ZK30=function(){this.roleObj||(this.roleObj=new FightGameObject);var t=App.CM.gtM(O6.B82).avatarInfo.us[J11.A7],e=P7.copyTab(t);e.id=this._curSelect.id,e.t=void 0,e.bt=BehaviourType.Attack_d,e.sr=1;var i={x:0,y:0,dir:Dir.br,objType:P13.A6};this.roleObj.setBaseData(i),this.roleObj.setData(e,this.imgSkin),this.roleObj.name=null},t.prototype.ZN23=function(){var t=P7.FL92(this._curSelect.attribute),e=1;for(var i in t){var s=parseInt(i);1==e?this.attr1.text=O4.FD72(s)+"："+t[i]:2==e?this.attr2.text=O4.FD72(s)+"："+t[i]:this.attr3.text=O4.FD72(s)+"："+t[i],e++}1==this._curSelect.active?(this.attr1.textColor=7716890,this.attr2.textColor=7716890,this.attr3.textColor=7716890):(this.attr1.textColor=16458017,this.attr2.textColor=16458017,this.attr3.textColor=16458017)},t.prototype.ZR9=function(){this.itemBg.source=N12.FL5(this._curSelect.item),this.itemIcon.source=N12.FJ86(this._curSelect.item),this.lbName.text=N12.FK5(this._curSelect.item),this.lbNum.text=O3.tr(408,N12.giC(this._curSelect.item),1),this.lbSource.text=this._curSelect.channel,this._curSelect.jump?M18.FHH83(this.lbSource):M18.FF64(this.lbSource),this.btnActive.visible=0==this._curSelect.active&&1<=N12.giC(this._curSelect.item),this.grpShow.visible=!this.btnActive.visible,1==this._curSelect.active?this.grpNoLive.visible=!1:this.grpNoLive.visible=!0},t.prototype.ZK31=function(){if(this.grpNoLive.visible)return this.grpHave.visible=!1,void(this.btnChange.visible=!1);1==this._curSelect.huanhua?(this.grpHave.visible=!0,this.btnChange.visible=!1):(this.grpHave.visible=!1,this.btnChange.visible=!0)},t.prototype.ZN39=function(){for(var t=App.CM.gtM(O6.B82).avatarInfo.actFashion,e=0,i=0,s=t;i<s.length;i++){var o=s[i],r=this.FE67(this._collection.source,o);if(r){var n=P7.FL92(r.attribute);e+=O4.getScore(n)}}this.totalScore.text=String(e),this.totalActive.text=String(t.length)},t.prototype.updateArrow=function(){if(this._collection.length<=6)this.btnLeft.visible=this.btnRight.visible=!1;else{var t=this._collection.getItemAt(this._collection.length-1);1==this._pageStart.index?this.btnLeft.visible=!1:this.btnLeft.visible=!0,this._pageEnd.index==t.index?this.btnRight.visible=!1:this.btnRight.visible=!0}},t.prototype.ZR10=function(){if(this.btnLeft.visible){this.btnLeft.imgNew.visible=!1;for(var t=0;t<this._collection.length;t++){var e=this._collection.getItemAt(t);if(!(e.index>=this._pageStart.index)&&1==e.red){this.btnLeft.imgNew.visible=!0;break}}}if(this.btnRight.visible){this.btnRight.imgNew.visible=!1;for(t=0;t<this._collection.length;t++){var i=this._collection.getItemAt(t);if(!(i.index<=this._pageEnd.index)&&1==i.red){this.btnRight.imgNew.visible=!0;break}}}},t.prototype.uBM=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];n.prototype.uBM.call(this,t,e);var s=e[0];if(t instanceof TG12){if(s==P4.G19||s==P4.E71){var o=this._curSelect.id,r=O4.FF88();this._curSelect=0<o?this.FE67(r,o):r[0],this._curSelect&&(this._curSelect.selected=1,this._collection.replaceAll(r),this.GX5())}}else if(t instanceof THH9){o=this._curSelect.id,r=O4.FF88();this._curSelect=0<o?this.FE67(r,o):r[0],this._curSelect&&(this._curSelect.selected=1,this._collection.replaceAll(r),this.GX5(t))}},t.prototype.onItemTap=function(t){this._curSelect.id!=t.item.id&&(this._curSelect.selected=0,t.item.selected=1,this._curSelect=t.item,this._collection.replaceAll(this._collection.source),this.GX5())},t.prototype.close=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];n.prototype.close.call(this),this.scroller.removeEventListener(eui.UIEvent.CHANGE_END,this.ZQ72,this),this.skinData.removeEventListener(eui.ItemTapEvent.ITEM_TAP,this.onItemTap,this),this.bgMask.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.closeSelf,this),this.closeBtn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.closeSelf,this),this.backBtn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.closeSelf,this),this.btnLeft.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.doLeft,this),this.btnRight.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.doRight,this),this.btnActive.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.doActive,this),this.btnChange.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.doHuanhua,this),this.lbSource.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.jumpPage,this),this.groupIcon.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.openProsView,this),this.imgSkin.removeChildren(),this.roleObj.destory(),this.roleObj=null,this._collection.removeAll(),this._curSelect=null,this._pageStart=null,this._pageEnd=null},t.prototype.closeSelf=function(){App.VM.close(O7.E15)},t.prototype.doLeft=function(){var t=this.getStartIndex,e=Math.max(0,t-this.pageSize);this.scroller.viewport.scrollH=e*this.itemWidth,this.ZQ72(),this.ZR10()},Object.defineProperty(t.prototype,"getStartIndex",{get:function(){return Math.floor(this.scroller.viewport.scrollH/this.itemWidth)},enumerable:!0,configurable:!0}),t.prototype.doRight=function(){var t=this.getStartIndex,e=this._collection.length-this.pageSize,i=Math.min(e,t+this.pageSize);this.scroller.viewport.scrollH=e===i?this.scroller.viewport.contentWidth-this.scroller.width:i*this.itemWidth,this.ZQ72(),this.ZR10()},t.prototype.ZQ72=function(){if(this._collection.length>this.pageSize){var t=this.scroller.viewport;this.btnLeft.visible=0!=t.scrollH,this.btnRight.visible=!this.btnLeft.visible||Math.abs(t.scrollH+this.scroller.width)<t.contentWidth}else this.btnLeft.visible=this.btnRight.visible=!1},t.prototype.doActive=function(){var t=this._curSelect.id;1!=this._curSelect.active?this.apF(L13.A7,t):P18.sDP(O3.tr(5646))},t.prototype.doHuanhua=function(){var t=this._curSelect.id;1!=this._curSelect.huanhua?this.apF(L13.A5,t):P18.sDP(O3.tr(5647))},t.prototype.jumpPage=function(){this._curSelect.jump&&TG84.FM16(this._curSelect.jump)},t.prototype.openProsView=function(){var t=N12.gID(this._curSelect.item);P5.FC75(t)},t}(BaseEuiView);__reflect(AvatarFashionView.prototype,"AvatarFashionView");var AvatarInfoView=function(r){function t(t,e){var i=r.call(this,t,e)||this;return i.skinName="AvatarInfoSkin",i}return __extends(t,r),t.prototype.initUI=function(){r.prototype.initUI.call(this),this.items=[this.item0,this.item1,this.item2,this.item3,this.item4,this.item5,this.item6,this.item7,this.item8,this.item9],this.openEquipList.horizontalCenter=NaN,this.openEquipList.left=NaN,this.lbStr1.textFlow=M18.HTP.parse(O3.tr(4558)),this.lbStr2.textFlow=M18.HTP.parse(O3.tr(4559)),this.change.label=O3.tr(4563),this.upLv.label=O3.tr(4564)},t.prototype.initData=function(){r.prototype.initData.call(this),this._openEquip=new eui.ArrayCollection,this.openEquipList.dataProvider=this._openEquip},t.prototype.equipListNew=function(){for(var t,e=this._openEquip.source,i=App.CM.gtM(O6.B98),s=App.CM.gtM(O6.B90),o=App.CM.gtM(O6.B82),r=0;r<e.length;r++)switch(e[r].openView){case O7.G47:t=i.legendHong(),e[r].showNew=!!t,this._openEquip.itemUpdated(e[r]);break;case O7.G52:t=s.haveHong(),e[r].showNew=!!t,this._openEquip.itemUpdated(e[r]);break;case O7.G1:e[r].showNew=o.newActTitle,this._openEquip.itemUpdated(e[r]);break;case O7.E15:e[r].showNew=o.newActFashion,this._openEquip.itemUpdated(e[r])}},t.prototype.open=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];r.prototype.open.call(this),this.attriCheck.addEventListener(egret.TouchEvent.TOUCH_TAP,this.ZR11,this),this.avatarImg.addEventListener(egret.TouchEvent.TOUCH_TAP,this.ZR11,this),this.leftScroller.addEventListener(egret.TouchEvent.TOUCH_TAP,this.ZQ40,this),this.rightScroller.addEventListener(egret.TouchEvent.TOUCH_TAP,this.ZM90,this),this.upLv.addEventListener(egret.TouchEvent.TOUCH_TAP,this.doUpLelvel,this),this.btnHorse.addEventListener(egret.TouchEvent.TOUCH_TAP,this.openAttrView,this),this.btnFaqi.addEventListener(egret.TouchEvent.TOUCH_TAP,this.openAttrView,this),this.btnWeapon.addEventListener(egret.TouchEvent.TOUCH_TAP,this.openAttrView,this),this.btnWing.addEventListener(egret.TouchEvent.TOUCH_TAP,this.openAttrView,this),this.btnJade.addEventListener(egret.TouchEvent.TOUCH_TAP,this.ZV23,this),this.btnHuanLing.addEventListener(egret.TouchEvent.TOUCH_TAP,this.ZK33,this),this.btnReincarnate.addEventListener(egret.TouchEvent.TOUCH_TAP,this.ZV23,this),this.btnFaBao.addEventListener(egret.TouchEvent.TOUCH_TAP,this.ZV24,this),this.change.addEventListener(egret.TouchEvent.TOUCH_TAP,this.equipChange,this);for(var i=0;i<this.items.length;i++)this.items[i].addEventListener(egret.TouchEvent.TOUCH_TAP,this.ZN40,this);this.openEquipList.addEventListener(eui.ItemTapEvent.ITEM_TAP,this.onItemTap,this),this.equipScroller.viewport.scrollH=0;var s=App.CM.gtM(O6.B82);this.ZE70(s);var o=App.CM.gtM(O6.B98);this.updateEquip(o),this.attrHong(),this.equipListNew()},t.prototype.ZN40=function(t){for(var e,i=App.CM.gtM(O6.B98),s=(i.canAvaEquip,i.avaEquip),o=0;o<s.length;o++){var r=M10.ava[s[o].i.toString()];if(parseInt(t.target.name)==r.pos){e=s[o];break}}if(e){var n=P7.copyTab(M10.ava[e.i.toString()]);n.u=e.u,e.eatr&&!n.ats&&(n.ats=e.eatr.ats),i.clickPosEquip=n.pos,App.CM.apF(O6.B98,M19.A17,n)}TG40.playClickEffect()},t.prototype.equipChange=function(){if(!this.change.imgNew.visible)return!1;App.CM.apF(O6.B98,M19.A74)},t.prototype.updateEquip=function(t){var e=App.CM.gtM(O6.A87),i=t.nowAvaEquip,s=t.avaEquip,o=t.canAvaEquip,r=TG60.getAlvData();t.shopPosEquip=[],this.change.visible=this.change.imgNew.visible=0<o.length,egret.Tween.get(this).wait(200).call(function(){TG68.FD9(this,N4.avartar_fit_btn,!1,this.change)},this);for(var n=0;n<this.items.length;n++){var a=0<=o.indexOf((n+1).toString());if(this.items[n].imgNew.visible&&!a&&App.THH32.aUE(this.items[n],"lg_qhyh_01",40,40,1),this.items[n].imgNew.visible=a,-1==i.indexOf(n+1+""))this.items[n].lbClass.visible=!1;else{this.items[n].lbClass.visible=!0;for(var h=0;h<s.length;h++){var p=M10.FD92(s[h].i.toString(),s[h].t);if(this.items[n].labRewake.visible=!1,n+1==p.pos){if(e.data){var l=e.data.getPartInfo(parseInt(p.pos));l&&(this.items[n].labRewake.visible=1===l.ulck,this.items[n].labRewake.textFlow=O3.tr2(6578,M18.FF66(l.lv)))}this.items[n].imgHead.source=p.icon,this.items[n].imgQuality.source=N12.getBox(p.quality),6==p.quality?r[p.pos]?(App.THH33.rEf(this.items[n],"square_hong"),this.items[n].imgQuality.source="v1_img_kuang_hong2_png",App.THH32.aUE(this.items[n],"wdsg_shengzjuex_sa_001",40,40,-1)):(App.THH32.rEf(this.items[n],"wdsg_shengzjuex_sa_001"),App.THH33.aUE(this.items[n],"square_hong",-51,-50,-1)):(App.THH33.rEf(this.items[n],"square_hong"),App.THH32.rEf(this.items[n],"wdsg_shengzjuex_sa_001")),this.items[n].lbClass.text=O3.tr(5361,p.level),this.items[n].data=p.quality,p.quality<=5?this.items[n].scoreTip.visible=THH27.FI92(p.pos):this.items[n].scoreTip.visible=!1;break}}}}},t.prototype.uBM=function(t,e){r.prototype.uBM.call(this,t,e),t instanceof TG12&&this.ZE70(t),t instanceof TG58&&this.updateEquip(t),t instanceof TF84&&this.ZD61(t),this.equipListNew(),this.attrHong()},t.prototype.ZD61=function(t){this.currStepId&&t.ZJ29(this.currStepId)&&TG68.FJ82(O7.G45,N4.basePanel)},t.prototype.ZE70=function(t){6<this._openEquip.length?(this.leftScroller.visible=!0,this.rightScroller.visible=!0,this.openEquipList.horizontalCenter=NaN,this.openEquipList.left=0):(this.leftScroller.visible=!1,this.rightScroller.visible=!1,this.openEquipList.horizontalCenter=0,this.openEquipList.left=NaN),this.avatarImg.source=O4.FHH96(t.avatarInfo.ge,t.avatarInfo.c),this.scoreLb.text=String(t.avatarInfo.s),this.lvLb.textFlow=M18.HTP.parse(O3.tr(4560,String(t.avatarInfo.l)));var e=K18.FHH93(t.avatarInfo.l);e=-1==e?K18.FHH93(t.avatarInfo.l-1):e;var i=t.avatarInfo.e;if(this.expLb.textFlow=M18.HTP.parse(O3.tr(4561,O4.FK46(i),O4.FK46(e))),this.grpAdd.visible=!1,1!=t.avatarInfo.gm)if(t.canGrade<0)P16.sGF(this.upLv,!0),this.upLv.enabled=!1,P7.FD53(this.upLv,0);else if(0==t.canGrade)P16.sGF(this.upLv,!0),this.upLv.enabled=!1,P7.FD53(this.upLv,0);else{P16.sGF(this.upLv,!1),this.upLv.enabled=!0,App.CM.gtM(O6.B82).setting.indexOf(L17.A4)<0?(P7.FD53(this.upLv,1),this.grpAdd.visible=!0,egret.Tween.get(this.imgAdd,{loop:!0}).to({alpha:1}).to({alpha:.5},500).to({alpha:1},500)):(P7.FD53(this.upLv,0),this.grpAdd.visible=!1)}if(1<=t.avatarInfo.l){for(var s=!1,o=0;o<this._openEquip.source.length;o++)if(this._openEquip.source[o].openView==O7.G1){s=!0;break}s||this._openEquip.addItem({equipImg:"chenghao_png",equipName:O3.tr(6803),openView:O7.G1,showNew:!1})}if(1<=t.avatarInfo.l){var r=!1;for(o=0;o<this._openEquip.source.length;o++)if(this._openEquip.source[o].openView==O7.E15){r=!0;break}r||this._openEquip.addItem({equipImg:"v1_btn_pifu_png",equipName:O3.tr(6804),openView:O7.E15,showNew:!1})}if(t.avatarInfo.l>=parseInt(L5.init.openLv.value)){var n=!1;for(o=0;o<this._openEquip.source.length;o++)if(this._openEquip.source[o].openView==O7.G52){n=!0;break}n||this._openEquip.addItem({equipImg:"V1_entry_tactic_png",equipName:O3.tr(6805),openView:O7.G52,showNew:!1})}if(t.avatarInfo.l>=parseInt(D5.gIV("openLv"))){var a=!1,h=void 0;for(o=0;o<this._openEquip.source.length;o++)if(this._openEquip.source[o].openView==O7.E15&&(h=o+1),this._openEquip.source[o].openView==O7.I17){a=!0;break}a||(h||(h=this._openEquip.source.length),this._openEquip.addItemAt({equipImg:"taozhuang_png",equipName:O3.tr(6806),openView:O7.I17,showNew:!1},h))}if(t.avatarInfo.l>=parseInt(L6.init.legendLv.value)){var p=!1;for(o=0;o<this._openEquip.source.length;o++)if(this._openEquip.source[o].openView==O7.G47){p=!0;break}p||this._openEquip.addItem({equipImg:"legend_png",equipName:O3.tr(6807),openView:O7.G47,showNew:!1})}var l=!1;for(o=0;o<this._openEquip.source.length;o++)if(this._openEquip.source[o].openView==O7.HH42){l=!0;break}l||this._openEquip.addItem({equipImg:"v1_img_dzhuang_png",equipName:O3.tr(6808),openView:O7.HH42,showNew:!1}),this._openEquip.refresh()},t.prototype.close=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];r.prototype.close.call(this),this.attriCheck.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.ZR11,this),this.avatarImg.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.ZR11,this),this.leftScroller.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.ZQ40,this),this.rightScroller.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.ZM90,this),this.upLv.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.doUpLelvel,this),this.btnHorse.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.openAttrView,this),this.btnFaqi.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.openAttrView,this),this.btnWeapon.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.openAttrView,this),this.btnWing.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.openAttrView,this),this.btnJade.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.ZV23,this),this.btnHuanLing.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.ZK33,this),this.btnReincarnate.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.ZV23,this),this.btnFaBao.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.ZV24,this),this.change.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.equipChange,this);for(var i=0;i<this.items.length;i++)this.items[i].removeEventListener(egret.TouchEvent.TOUCH_TAP,this.ZN40,this),App.THH32.rEf(this.items[i],"lg_qhyh_01"),App.THH33.rEf(this.items[i],"square_hong"),App.THH32.rEf(this.items[i],"wdsg_shengzjuex_sa_001");this.openEquipList.removeEventListener(eui.ItemTapEvent.ITEM_TAP,this.onItemTap,this),this._openEquip.removeAll(),egret.Tween.removeTweens(this),egret.Tween.removeTweens(this.imgAdd)},t.prototype.ZR11=function(){this.apF(L13.A41)},t.prototype.onItemTap=function(t){var e=App.CM.gtM(O6.B82),i=t.item.openView;switch(this._openEquip.refresh(),i){case O7.E15:if(e.avatarInfo.l<K18.init.fashionLv.value){var s=K18.init.commonDesc1.value;return void P18.sDP(M18.format(s,[K18.init.fashionLv.value]))}break;case O7.G1:if(e.avatarInfo.l<K18.init.titleLv.value){s=K18.init.commonDesc1.value;return void P18.sDP(M18.format(s,[K18.init.titleLv.value]))}}App.VM.open(i),TG40.playClickEffect()},t.prototype.ZQ40=function(){var t=this.equipScroller.viewport.scrollH-25;this.equipScroller.viewport.scrollH=t<0?0:t},t.prototype.ZM90=function(){var t=this.equipScroller.viewport.scrollH+25;t+this.equipScroller.width>this.equipScroller.viewport.contentWidth?this.equipScroller.viewport.scrollH=this.equipScroller.viewport.contentWidth-this.equipScroller.width:this.equipScroller.viewport.scrollH=t},t.prototype.attrHong=function(){var t=App.CM.gtM(O6.C18);t.updateNew(),this.btnWing.imgNew.visible=!!t.isHong;var e=App.CM.gtM(O6.C2);this.btnHorse.imgNew.visible=!!e.isHong;var i=App.CM.gtM(O6.C17);this.btnFaqi.imgNew.visible=!!i.isHong;var s=App.CM.gtM(O6.B83);this.btnWeapon.imgNew.visible=!!s.isHong;var o=App.CM.gtM(O6.C25);this.btnJade.imgNew.visible=0<o.FL35()||Jade.Utils.FL83();var r=App.CM.gtM(O6.A87);this.btnReincarnate.imgNew.visible=0<r.FL35();var n=App.CM.gtM(O6.C7);this.btnFaBao.imgNew.visible=n.getRed();var a=App.CM.gtM(O6.B59),h=a.canHlUpLevel()||a.zhenTuRed()||a.canJuLingRed();this.btnHuanLing.imgNew.visible=h},t.prototype.doUpLelvel=function(){var t=App.CM.gtM(O6.B82);if(1!=t.avatarInfo.gm){var e=K18.FHH93(t.avatarInfo.l);if(!(t.avatarInfo.e<e)){var i=O3.tr(415,String(t.avatarInfo.l+1)),s=function(){App.CM.apF(O6.B82,L13.A73)},o=App.CM.gtM(O6.B82);if(o.setting.indexOf(L17.A4)<0){var r={handler:s,content:i,isShowCb:!0,cbHandler:function(){App.CM.apF(O6.B82,L13.A24,L17.A4)},cbStr:O3.tr(4469),cbState:0<=o.setting.indexOf(L17.A4)};App.VM.open(O7.C54,r)}else s()}}else App.CM.apF(O6.B82,L13.A73)},t.prototype.ZV23=function(t){var e,i,s=255;if(t.target===this.btnJade)s=Jade.Config.openLv,e=O6.C25,i=Jade.Const.OpenMainView;else if(t.target===this.btnReincarnate){if(!Reincarnate.Config.isOpen())return P18.sDP(O3.tr(3370,Reincarnate.Config.openDays,Reincarnate.Config.openLv));s=Reincarnate.Config.openLv,e=O6.A87,i=Reincarnate.Const.OpenMainView}App.CM.gtM(O6.B82).avatarInfo.l>=s?App.CM.apF(e,i):P18.sDP(O3.tr(400,s))},t.prototype.ZV24=function(){App.CM.gtM(O6.B82);var t=TG19.FE59("openLv"),e=TG19.FE59("openDay");TG64.FI45()?App.CM.apF(O6.C7,N9.A32):P18.sDP(O3.tr(3370,e,t))},t.prototype.ZK32=function(){Practice.Utils.FG43()&&App.CM.apF(O6.B54,Practice.Const.GT58)},t.prototype.openAttrView=function(t){var e,i=App.CM.gtM(O6.B82),s=parseInt(t.target.name),o=0;switch(s){case O10.A37:if(e=O7.I77,o=parseInt(M13.init.unlockLevel.value),i.avatarInfo.l<o)return void P18.sDP(O3.tr(400,o));break;case O10.A38:if(e=O7.I87,o=parseInt(N16.init.unlockLevel.value),i.avatarInfo.l<o)return void P18.sDP(O3.tr(400,o));break;case O10.A36:if(e=O7.I65,o=parseInt(L2.init.unlockLevel.value),i.avatarInfo.l<o)return void P18.sDP(O3.tr(400,o));break;case O10.A39:if(e=O7.I88,o=parseInt(N13.init.unlockLevel.value),i.avatarInfo.l<o)return void P18.sDP(O3.tr(400,o))}N13.type=s,App.CM.apF(O6.C18,O10.A25,e,!1)},t.prototype.ZK33=function(){var t=App.CM.gtM(O6.B82).avatarInfo,e=TE98.init.openLv.value,i=TE98.init.openDay.value;if(t.l<e||t.od<i){var s=O3.tr(5054,i,e);P18.sDP(s)}else App.VM.open(O7.F57)},t}(BaseEuiView);__reflect(AvatarInfoView.prototype,"AvatarInfoView");var AvatarReheadView=function(s){function t(t,e){var i=s.call(this,t,e)||this;return i.skinName="AvatarReheadSkin",i}return __extends(t,s),t.prototype.initData=function(){s.prototype.initData.call(this)},t.prototype.open=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];s.prototype.open.call(this),this.bgMask.addEventListener(egret.TouchEvent.TOUCH_TAP,this.closeSelf,this),this.closeBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.closeSelf,this),this.backBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.closeSelf,this),this.switch1.addEventListener(egret.TouchEvent.TOUCH_TAP,this.switchUrl,this),this.switch2.addEventListener(egret.TouchEvent.TOUCH_TAP,this.switchUrl,this);var i=App.CM.gtM(O6.B82);this.ZE70(i)},t.prototype.ZE70=function(t){this.icon1.source=P7.FHH81(96),this.icon2.source=this.ZV25(t.avatarInfo.ge,t.avatarInfo.c),-1!==t.avatarInfo.i.indexOf("http")?(this.lb1.visible=!0,this.lb1.text="当前使用",this.switch1.visible=!1,this.lb2.visible=!1,this.switch2.visible=!0):(this.lb2.visible=!0,this.lb2.text="当前使用",this.switch2.visible=!1,this.lb1.visible=!1,this.switch1.visible=!0)},t.prototype.ZV25=function(t,e){var i="";if(1==t)switch(e){case 1:i=K18.init.avatarMaleIcon1.value;break;case 2:i=K18.init.avatarMaleIcon2.value;break;case 3:i=K18.init.avatarMaleIcon3.value}else switch(e){case 1:i=K18.init.avatarFemaleIcon1.value;break;case 2:i=K18.init.avatarFemaleIcon2.value;break;case 3:i=K18.init.avatarFemaleIcon3.value}return i},t.prototype.uBM=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];s.prototype.uBM.call(this,t,e),t instanceof TG12&&this.ZE70(t)},t.prototype.close=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];s.prototype.close.call(this),this.bgMask.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.closeSelf,this),this.closeBtn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.closeSelf,this),this.backBtn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.closeSelf,this),this.switch1.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.switchUrl,this),this.switch2.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.switchUrl,this)},t.prototype.switchUrl=function(t){var e=t.currentTarget,i=App.CM.gtM(O6.B82);switch(e){case this.switch1:this.apF(L13.A26,P7.FHH81(96));break;case this.switch2:var s=this.ZV25(i.avatarInfo.ge,i.avatarInfo.c);this.apF(L13.A26,s)}},t.prototype.closeSelf=function(){this.apF(L13.A40)},t}(BaseEuiView);__reflect(AvatarReheadView.prototype,"AvatarReheadView");var AvatarRenameView=function(s){function t(t,e){var i=s.call(this,t,e)||this;return i.skinName="AvatarRenameSkin",i}return __extends(t,s),t.prototype.initUI=function(){s.prototype.initUI.call(this),this.lbStr1.textFlow=M18.HTP.parse(O3.tr(5810)),this.lbStr2.textFlow=M18.HTP.parse(O3.tr(5811)),this.confirm.label=O3.tr(5826),this.nameInput.prompt=O3.tr(5827)},t.prototype.open=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];s.prototype.open.call(this),this.bgMask.addEventListener(egret.TouchEvent.TOUCH_TAP,this.closeSelf,this),this.closeBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.closeSelf,this),this.backBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.closeSelf,this),this.confirm.addEventListener(egret.TouchEvent.TOUCH_TAP,this.doCofirm,this),this.nameInput.addEventListener(egret.TouchEvent.TOUCH_TAP,this.FL26,this);var i=App.CM.gtM(O6.B82);this.ZE70(i)},t.prototype.ZE70=function(t){var e=pack.I11.GOLD;this.costIcon.source=N12.FJ86(e),0<t.avatarInfo.rnn?this.costDesc.text="x"+K18.init.renameCost.value:this.costDesc.text=O3.tr(5812)},t.prototype.uBM=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];s.prototype.uBM.call(this,t,e);e[0];t instanceof TG12&&this.ZE70(t)},t.prototype.close=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];s.prototype.close.call(this),this.bgMask.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.closeSelf,this),this.closeBtn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.closeSelf,this),this.backBtn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.closeSelf,this),this.confirm.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.doCofirm,this),this.nameInput.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.FL26,this)},t.prototype.FL26=function(){P7.FL26()},t.prototype.closeSelf=function(){this.apF(L13.A38)},t.prototype.doCofirm=function(){var t=this.nameInput.text;t?this.apF(L13.A56,t):P18.sDP(O3.tr(5651),!0)},t}(BaseEuiView);__reflect(AvatarRenameView.prototype,"AvatarRenameView");var AvatarResetView=function(o){function t(t,e){var i=o.call(this,t,e)||this;return i._countryOrder=["shu","wei","wu"],i._countryPosition1={x:0,rx:490,lx:-256,ry:-100,y:0,scaleX:.7,scaleY:.7,gp:null},i._countryPosition2={x:181.33,scaleX:.9,scaleY:.9,gp:null},i._countryPosition3={x:397,rx:490,lx:-256,ry:-100,y:0,scaleX:.7,scaleY:.7,gp:null},i._imgPosition1={x:0,alpha:0,img:null},i._imgPosition2={x:560,alpha:1,img:null},i._imgPosition3={x:1e3,alpha:0,img:null},i.skinName="AvatarCreateSkin",i}return __extends(t,o),t.prototype.initUI=function(){o.prototype.initUI.call(this),App.THH32.aUE(this.bird,"wdsg_niaofeix_lj_001_1",0,0,-1,null,null,null,null,"Animation1"),App.THH32.aUE(this.flower,"wdsg_hb_22ljdh_0004",0,0,-1,null,null,null,null,"Animation1"),this.btnBack.visible=!0,this.countLb.visible=!1,this.gpName.visible=!1},t.prototype.initData=function(){var t=App.CM.gtM(O6.B82);this.nameInput.textColor=14012878,this.nameInput.textDisplay.verticalAlign=egret.VerticalAlign.MIDDLE,this.nameInput.textDisplay.horizontalCenter=egret.HorizontalAlign.LEFT,this.nameInput.textDisplay.height=28,this.nameInput.textDisplay.size=28;var e=t.avatarInfo.n;this.nameInput.text=e;var i=t.avatarInfo.c;switch(this._countryOrder=1==i?["wei","shu","wu"]:2==i?["wu","wei","shu"]:["shu","wu","wei"],this._curSex=t.avatarInfo.ge,P16.sGF(this.btnMan,0==this._curSex),P16.sGF(this.btnSex,1==this._curSex),this._countryOrder[0]){case"wei":this.countryImg1.source="v1_btn_wei_png",this.img1.source=TG39.FD59(this._countryOrder[0],this._curSex);break;case"shu":this.countryImg1.source="v1_btn_shu_png",this.img1.source=TG39.FD59(this._countryOrder[0],this._curSex);break;case"wu":this.countryImg1.source="v1_btn_wu_png",this.img1.source=TG39.FD59(this._countryOrder[0],this._curSex)}switch(this._countryOrder[1]){case"wei":this._curCountry=1,this.countryImg2.source="v1_btn_wei_png",this.img2.source=TG39.FD59(this._countryOrder[1],this._curSex),this.btnMan.bgStr="v1_btn_wn_cjjs_png",this.btnSex.bgStr="v1_btn_wv_cjjs_png";break;case"shu":this._curCountry=2,this.countryImg2.source="v1_btn_shu_png",this.img2.source=TG39.FD59(this._countryOrder[1],this._curSex),this.btnMan.bgStr="v1_btn_sn_cjjs_png",this.btnSex.bgStr="v1_btn_sv_cjjs_png";break;case"wu":this._curCountry=3,this.countryImg2.source="v1_btn_wu_png",this.img2.source=TG39.FD59(this._countryOrder[1],this._curSex),this.btnMan.bgStr="v1_btn_wgn_cjjs_png",this.btnSex.bgStr="v1_btn_wgv_cjjs_png"}switch(this._countryOrder[2]){case"wei":this.countryImg3.source="v1_btn_wei_png",this.img3.source=TG39.FD59(this._countryOrder[2],this._curSex);break;case"shu":this.countryImg3.source="v1_btn_shu_png",this.img3.source=TG39.FD59(this._countryOrder[2],this._curSex);break;case"wu":this.countryImg3.source="v1_btn_wu_png",this.img3.source=TG39.FD59(this._countryOrder[2],this._curSex)}this.ZM64()},t.prototype.open=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];o.prototype.open.call(this,t),this.btnBack.addEventListener(egret.TouchEvent.TOUCH_TAP,this.oCC,this),this.country1.addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.ZE61,this),this.country2.addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.ZE61,this),this.country3.addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.ZE61,this),this.img1.addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.ZJ77,this),this.img2.addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.ZJ77,this),this.img3.addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.ZJ77,this),this.leftArrow.addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.doLeft,this),this.rightArrow.addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.doRight,this),this.random.addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.randomName,this),this.login.addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.doLoginGame,this),this.btnMan.addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.selectMan,this),this.btnSex.addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.selectGirl,this),this._countryPosition1.gp=this.country1,this._countryPosition2.gp=this.country2,this._countryPosition3.gp=this.country3,this._imgPosition1.img=this.img1,this._imgPosition2.img=this.img2,this._imgPosition3.img=this.img3,this.canClick=!0},t.prototype.close=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];o.prototype.close.call(this,t),this.btnBack.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.oCC,this),this.country1.removeEventListener(egret.TouchEvent.TOUCH_BEGIN,this.ZE61,this),this.country2.removeEventListener(egret.TouchEvent.TOUCH_BEGIN,this.ZE61,this),this.country3.removeEventListener(egret.TouchEvent.TOUCH_BEGIN,this.ZE61,this),this.img1.removeEventListener(egret.TouchEvent.TOUCH_BEGIN,this.ZJ77,this),this.img2.removeEventListener(egret.TouchEvent.TOUCH_BEGIN,this.ZJ77,this),this.img3.removeEventListener(egret.TouchEvent.TOUCH_BEGIN,this.ZJ77,this),this.leftArrow.removeEventListener(egret.TouchEvent.TOUCH_BEGIN,this.doLeft,this),this.rightArrow.removeEventListener(egret.TouchEvent.TOUCH_BEGIN,this.doRight,this),this.random.removeEventListener(egret.TouchEvent.TOUCH_BEGIN,this.randomName,this),this.login.removeEventListener(egret.TouchEvent.TOUCH_BEGIN,this.doLoginGame,this),this.btnMan.removeEventListener(egret.TouchEvent.TOUCH_BEGIN,this.selectMan,this),this.btnSex.removeEventListener(egret.TouchEvent.TOUCH_BEGIN,this.selectGirl,this),this._countryPosition1.gp=null,this._countryPosition2.gp=null,this._countryPosition3.gp=null,this._imgPosition1.img=null,this._imgPosition2.img=null,this._imgPosition3.img=null,this.canClick=null,egret.Tween.removeTweens(this.titleFirst),egret.Tween.removeTweens(this.titleSecond),egret.Tween.removeTweens(this.titleThird),egret.Tween.removeTweens(this.titleFour),App.THH32.rEf(this.bird,"wdsg_niaofeix_lj_001_1"),App.THH32.rEf(this.flower,"wdsg_hb_22ljdh_0004")},t.prototype.uBM=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];o.prototype.uBM.call(this,t,e);var s=e[0];t instanceof TG12&&s&&s==P4.S90&&this.oCC()},t.prototype.selectMan=function(){var t=this;this._curSex=1,this.p1Tween=null,this.p2Tween=null,egret.Tween.removeTweens(this.imgGroup),egret.Tween.removeTweens(this.hideGroup),P16.sGF(this.btnMan,!1),P16.sGF(this.btnSex,!0),this.p2Tween=egret.Tween.get(this.hideGroup).to({x:-244,y:244},100).call(function(){t.hideGroup.x=-244,t.hideGroup.y=1138,t.img4.source=TG39.FA7(t.countryImg1.source,0),t.img5.source=TG39.FA7(t.countryImg2.source,0),t.img6.source=TG39.FA7(t.countryImg3.source,0),t.img1.source=TG39.FA7(t.countryImg1.source,1),t.img2.source=TG39.FA7(t.countryImg2.source,1),t.img3.source=TG39.FA7(t.countryImg3.source,1)})},t.prototype.selectGirl=function(){var t=this;this._curSex=0,this.p1Tween=null,this.p2Tween=null,egret.Tween.removeTweens(this.imgGroup),egret.Tween.removeTweens(this.hideGroup),P16.sGF(this.btnMan,!0),P16.sGF(this.btnSex,!1),this.p2Tween=egret.Tween.get(this.hideGroup).to({x:-244,y:244},100).call(function(){t.hideGroup.x=-244,t.hideGroup.y=1138,t.img1.source=TG39.FA7(t.countryImg1.source,0),t.img2.source=TG39.FA7(t.countryImg2.source,0),t.img3.source=TG39.FA7(t.countryImg3.source,0),t.img4.source=TG39.FA7(t.countryImg1.source,1),t.img5.source=TG39.FA7(t.countryImg2.source,1),t.img6.source=TG39.FA7(t.countryImg3.source,1)})},t.prototype.randomName=function(){this.p1Tween=null,egret.Tween.removeTweens(this.random),this.p1Tween=egret.Tween.get(this.random).to({x:-5},30).to({y:5},30).to({x:0},30).to({y:0},30).to({x:-5},30).to({y:5},30).to({x:0},30).to({y:0},30);var t=TF57.FD58();this.nameInput.text=t},t.prototype.doLeft=function(){this.canClick&&(this.canClick=!1,this.dealCountry(this._countryPosition2.gp,-10),this.dealRole(this._imgPosition2.img,-10))},t.prototype.doRight=function(){this.canClick&&(this.canClick=!1,this.dealCountry(this._countryPosition2.gp,10),this.dealRole(this._imgPosition2.img,10))},t.prototype.startMove=function(t){this.offsetX=t.stageX},t.prototype.ZE61=function(t){var e,i=t.currentTarget;switch(t.type){case egret.TouchEvent.TOUCH_MOVE:break;case egret.TouchEvent.TOUCH_BEGIN:this._countryPosition2.gp==i?(i.addEventListener(egret.TouchEvent.TOUCH_MOVE,this.ZE61,this),i.addEventListener(egret.TouchEvent.TOUCH_END,this.ZE61,this),this.startMove(t)):this._countryPosition1.gp==i?this.doRight():this._countryPosition3.gp==i&&this.doLeft();break;case egret.TouchEvent.TOUCH_END:i.removeEventListener(egret.TouchEvent.TOUCH_MOVE,this.ZE61,this),e=t.stageX-this.offsetX,this.dealCountry(i,e),this.dealRole(this._imgPosition2.img,e)}},t.prototype.ZJ77=function(t){var e,i=t.currentTarget;switch(t.type){case egret.TouchEvent.TOUCH_MOVE:break;case egret.TouchEvent.TOUCH_BEGIN:this._imgPosition2.img==i&&(i.addEventListener(egret.TouchEvent.TOUCH_MOVE,this.ZJ77,this),i.addEventListener(egret.TouchEvent.TOUCH_END,this.ZJ77,this),this.startMove(t));break;case egret.TouchEvent.TOUCH_END:i.removeEventListener(egret.TouchEvent.TOUCH_MOVE,this.ZJ77,this),e=t.stageX-this.offsetX,this.dealRole(i,e),this.dealCountry(this._countryPosition2.gp,e)}},t.prototype.dealCountry=function(t,e){var i=this;if(this.p1Tween=null,this.p2Tween=null,this.p3Tween=null,egret.Tween.removeTweens(this.country1),egret.Tween.removeTweens(this.country2),egret.Tween.removeTweens(this.country3),t==this.country1)0<e?(this._countryPosition3.gp=this.country1,this.p3Tween=egret.Tween.get(this.country1),this.p3Tween.to({x:this._countryPosition3.x,scaleX:this._countryPosition3.scaleX,scaleY:this._countryPosition3.scaleY},100),this.country3.parent.setChildIndex(this.country3,2),this._countryPosition2.gp=this.country3,this.p2Tween=egret.Tween.get(this.country3),this.p2Tween.to({x:this._countryPosition2.x,scaleX:this._countryPosition2.scaleX,scaleY:this._countryPosition2.scaleY},100),this.country2.parent.setChildIndex(this.country2,0),this._countryPosition1.gp=this.country2,this.p1Tween=egret.Tween.get(this.country2),this.p1Tween.to({x:this._countryPosition1.rx,y:this._countryPosition1.ry},100).to({x:this._countryPosition1.lx}).to({x:this._countryPosition1.x,y:this._countryPosition1.y,scaleX:this._countryPosition1.scaleX,scaleY:this._countryPosition1.scaleY},100).call(function(){i.canClick=!0})):e<0&&(this._countryPosition1.gp=this.country1,this.p1Tween=egret.Tween.get(this.country1),this.p1Tween.to({x:this._countryPosition1.x,scaleX:this._countryPosition1.scaleX,scaleY:this._countryPosition1.scaleY},100),this.country2.parent.setChildIndex(this.country2,2),this._countryPosition2.gp=this.country2,this.p2Tween=egret.Tween.get(this.country2),this.p2Tween.to({x:this._countryPosition2.x,scaleX:this._countryPosition2.scaleX,scaleY:this._countryPosition2.scaleY},100),this.country3.parent.setChildIndex(this.country3,0),this._countryPosition3.gp=this.country3,this.p3Tween=egret.Tween.get(this.country3),this.p3Tween.to({x:this._countryPosition3.lx,y:this._countryPosition3.ry},100).to({x:this._countryPosition3.rx}).to({x:this._countryPosition3.x,y:this._countryPosition3.y,scaleX:this._countryPosition3.scaleX,scaleY:this._countryPosition3.scaleY},100).call(function(){i.canClick=!0}));else if(t==this.country2)if(0<e){this._countryPosition3.gp=this.country2,this.p3Tween=egret.Tween.get(this.country2),this.p3Tween.to({x:this._countryPosition3.x,scaleX:this._countryPosition3.scaleX,scaleY:this._countryPosition3.scaleY},100),this.country1.parent.setChildIndex(this.country1,2),this._countryPosition2.gp=this.country1,this.p2Tween=egret.Tween.get(this.country1),this.p2Tween.to({x:this._countryPosition2.x,scaleX:this._countryPosition2.scaleX,scaleY:this._countryPosition2.scaleY},100),this.country3.parent.setChildIndex(this.country3,0),this._countryPosition1.gp=this.country3,this.p1Tween=egret.Tween.get(this.country3);this.p1Tween.to({x:this._countryPosition1.rx,y:this._countryPosition1.ry},100).to({x:this._countryPosition1.lx}).to({x:this._countryPosition1.x,y:this._countryPosition1.y,scaleX:this._countryPosition1.scaleX,scaleY:this._countryPosition1.scaleY},100).call(function(){i.canClick=!0})}else e<0&&(this._countryPosition1.gp=this.country2,this.p1Tween=egret.Tween.get(this.country2),this.p1Tween.to({x:this._countryPosition1.x,scaleX:this._countryPosition1.scaleX,scaleY:this._countryPosition1.scaleY},100),this.country3.parent.setChildIndex(this.country3,2),this._countryPosition2.gp=this.country3,this.p2Tween=egret.Tween.get(this.country3),this.p2Tween.to({x:this._countryPosition2.x,scaleX:this._countryPosition2.scaleX,scaleY:this._countryPosition2.scaleY},100),this.country1.parent.setChildIndex(this.country1,0),this._countryPosition3.gp=this.country1,this.p3Tween=egret.Tween.get(this.country1),this.p3Tween.to({x:this._countryPosition3.lx,y:this._countryPosition3.ry},100).to({x:this._countryPosition3.rx}).to({x:this._countryPosition3.x,y:this._countryPosition3.y,scaleX:this._countryPosition3.scaleX,scaleY:this._countryPosition3.scaleY},100).call(function(){i.canClick=!0}));else t==this.country3&&(0<e?(this._countryPosition3.gp=this.country3,this.p3Tween=egret.Tween.get(this.country3),this.p3Tween.to({x:this._countryPosition3.x,scaleX:this._countryPosition3.scaleX,scaleY:this._countryPosition3.scaleY},100),this.country2.parent.setChildIndex(this.country2,2),this._countryPosition2.gp=this.country2,this.p2Tween=egret.Tween.get(this.country2),this.p2Tween.to({x:this._countryPosition2.x,scaleX:this._countryPosition2.scaleX,scaleY:this._countryPosition2.scaleY},100),this.country1.parent.setChildIndex(this.country1,0),this._countryPosition1.gp=this.country1,this.p1Tween=egret.Tween.get(this.country1),this.p1Tween.to({x:this._countryPosition1.rx,y:this._countryPosition1.ry},100).to({x:this._countryPosition1.lx}).to({x:this._countryPosition1.x,y:this._countryPosition1.y,scaleX:this._countryPosition1.scaleX,scaleY:this._countryPosition1.scaleY},100).call(function(){i.canClick=!0})):e<0&&(this._countryPosition1.gp=this.country3,this.p1Tween=egret.Tween.get(this.country3),this.p1Tween.to({x:this._countryPosition1.x,scaleX:this._countryPosition1.scaleX,scaleY:this._countryPosition1.scaleY},100),this.country1.parent.setChildIndex(this.country1,2),this._countryPosition2.gp=this.country1,this.p2Tween=egret.Tween.get(this.country1),this.p2Tween.to({x:this._countryPosition2.x,scaleX:this._countryPosition2.scaleX,scaleY:this._countryPosition2.scaleY},100),this.country2.parent.setChildIndex(this.country2,0),this._countryPosition3.gp=this.country2,this.p3Tween=egret.Tween.get(this.country2),this.p3Tween.to({x:this._countryPosition3.lx,y:this._countryPosition3.ry},100).to({x:this._countryPosition3.rx}).to({x:this._countryPosition3.x,y:this._countryPosition3.y,scaleX:this._countryPosition3.scaleX,scaleY:this._countryPosition3.scaleY},100).call(function(){i.canClick=!0})));this.ZU7()},t.prototype.ZJ78=function(t){var e=1;switch(t){case"wei":e=1;break;case"shu":e=2;break;case"wu":e=3}return e},t.prototype.ZU7=function(){var t=this._countryPosition2.gp,e=this._curCountry;switch(t){case this.country1:this._curCountry=this.ZJ78(this._countryOrder[0]),"wei"==this._countryOrder[0]?(this.btnMan.bgStr="v1_btn_wn_cjjs_png",this.btnSex.bgStr="v1_btn_wv_cjjs_png"):"shu"==this._countryOrder[0]?(this.btnMan.bgStr="v1_btn_sn_cjjs_png",this.btnSex.bgStr="v1_btn_sv_cjjs_png"):(this.btnMan.bgStr="v1_btn_wgn_cjjs_png",this.btnSex.bgStr="v1_btn_wgv_cjjs_png");break;case this.country2:this._curCountry=this.ZJ78(this._countryOrder[1]),"wei"==this._countryOrder[1]?(this.btnMan.bgStr="v1_btn_wn_cjjs_png",this.btnSex.bgStr="v1_btn_wv_cjjs_png"):"shu"==this._countryOrder[1]?(this.btnMan.bgStr="v1_btn_sn_cjjs_png",this.btnSex.bgStr="v1_btn_sv_cjjs_png"):(this.btnMan.bgStr="v1_btn_wgn_cjjs_png",this.btnSex.bgStr="v1_btn_wgv_cjjs_png");break;case this.country3:this._curCountry=this.ZJ78(this._countryOrder[2]),"wei"==this._countryOrder[2]?(this.btnMan.bgStr="v1_btn_wn_cjjs_png",this.btnSex.bgStr="v1_btn_wv_cjjs_png"):"shu"==this._countryOrder[2]?(this.btnMan.bgStr="v1_btn_sn_cjjs_png",this.btnSex.bgStr="v1_btn_sv_cjjs_png"):(this.btnMan.bgStr="v1_btn_wgn_cjjs_png",this.btnSex.bgStr="v1_btn_wgv_cjjs_png")}e!=this._curCountry&&this.ZM64()},t.prototype.dealRole=function(t,e){this.p1Tween=null,this.p2Tween=null,this.p3Tween=null,egret.Tween.removeTweens(this.img1),egret.Tween.removeTweens(this.img2),egret.Tween.removeTweens(this.img3),t==this.img1?0<e?(this._imgPosition3.img=this.img1,this.p3Tween=egret.Tween.get(this.img1),this.p3Tween.to({x:this._imgPosition3.x,alpha:this._imgPosition3.alpha},200),this.img3.parent.setChildIndex(this.img3,2),this._imgPosition2.img=this.img3,this.p2Tween=egret.Tween.get(this.img3),this.p2Tween.to({x:this._imgPosition2.x,alpha:this._imgPosition2.alpha},200),this.img2.parent.setChildIndex(this.img2,0),this._imgPosition1.img=this.img2,this.p1Tween=egret.Tween.get(this.img2),this.p1Tween.to({x:this._imgPosition1.x,alpha:this._imgPosition1.alpha},200)):e<0&&(this._imgPosition1.img=this.img1,this.p1Tween=egret.Tween.get(this.img1),this.p1Tween.to({x:this._imgPosition1.x,alpha:this._imgPosition1.alpha},200),this.img2.parent.setChildIndex(this.img2,2),this._imgPosition2.img=this.img2,this.p2Tween=egret.Tween.get(this.img2),this.p2Tween.to({x:this._imgPosition2.x,alpha:this._imgPosition2.alpha},200),this.img3.parent.setChildIndex(this.img3,0),this._imgPosition3.img=this.img3,this.p3Tween=egret.Tween.get(this.img3),this.p3Tween.to({x:this._imgPosition3.x,alpha:this._imgPosition3.alpha},200)):t==this.img2?0<e?(this._imgPosition3.img=this.img2,this.p3Tween=egret.Tween.get(this.img2),this.p3Tween.to({x:this._imgPosition3.x,alpha:this._imgPosition3.alpha},200),this.img1.parent.setChildIndex(this.img1,2),this._imgPosition2.img=this.img1,this.p2Tween=egret.Tween.get(this.img1),this.p2Tween.to({x:this._imgPosition2.x,alpha:this._imgPosition2.alpha},200),this.img3.parent.setChildIndex(this.img3,0),this._imgPosition1.img=this.img3,this.p1Tween=egret.Tween.get(this.img3),this.p1Tween.to({x:this._imgPosition1.x,alpha:this._imgPosition1.alpha},200)):e<0&&(this.img3.parent.setChildIndex(this.img3,2),this._imgPosition2.img=this.img3,this.p2Tween=egret.Tween.get(this.img3),this.p2Tween.to({x:this._imgPosition2.x,alpha:this._imgPosition2.alpha},200),this._imgPosition1.img=this.img2,this.p1Tween=egret.Tween.get(this.img2),this.p1Tween.to({x:this._imgPosition1.x,alpha:this._imgPosition1.alpha},200),this.img1.parent.setChildIndex(this.img1,0),this._imgPosition3.img=this.img1,this.p3Tween=egret.Tween.get(this.img1),this.p3Tween.to({x:this._imgPosition3.x,alpha:this._imgPosition3.alpha},200)):t==this.img3&&(0<e?(this._imgPosition3.img=this.img3,this.p3Tween=egret.Tween.get(this.img3),this.p3Tween.to({x:this._imgPosition3.x,alpha:this._imgPosition3.alpha},200),this.img2.parent.setChildIndex(this.img2,2),this._imgPosition2.img=this.img2,this.p2Tween=egret.Tween.get(this.img2),this.p2Tween.to({x:this._imgPosition2.x,alpha:this._imgPosition2.alpha},200),this.img1.parent.setChildIndex(this.img1,0),this._imgPosition1.img=this.img1,this.p1Tween=egret.Tween.get(this.img1),this.p1Tween.to({x:this._imgPosition1.x,alpha:this._imgPosition1.alpha},200)):e<0&&(this._imgPosition1.img=this.img3,this.p1Tween=egret.Tween.get(this.img3),this.p1Tween.to({x:this._imgPosition1.x,alpha:this._imgPosition1.alpha},200),this.img1.parent.setChildIndex(this.img1,2),this._imgPosition2.img=this.img1,this.p2Tween=egret.Tween.get(this.img1),this.p2Tween.to({x:this._imgPosition2.x,alpha:this._imgPosition2.alpha},200),this.img2.parent.setChildIndex(this.img2,0),this._imgPosition3.img=this.img2,this.p3Tween=egret.Tween.get(this.img2),this.p3Tween.to({x:this._imgPosition3.x,alpha:this._imgPosition3.alpha},200)))},t.prototype.doLoginGame=function(){return __awaiter(this,void 0,void 0,function(){var e,i;return __generator(this,function(t){return e=this._curSex,i=this._curCountry,App.CM.apF(O6.B82,L13.A52,e,i),[2]})})},t.prototype.ZM64=function(){switch(this._curCountry){case 1:this.titleSecond.source="v1_fonts_bd_wg2a_png",this.titleThird.source="v1_fonts_bd_wg2a_png",this.titleFour.source="v1_fonts_bd_wg2_png";break;case 2:this.titleSecond.source="v1_fonts_bd_wg1a_png",this.titleThird.source="v1_fonts_bd_wg1a_png",this.titleFour.source="v1_fonts_bd_wg1_png";break;case 3:this.titleSecond.source="v1_fonts_bd_wg3a_png",this.titleThird.source="v1_fonts_bd_wg3a_png",this.titleFour.source="v1_fonts_bd_wg3_png"}egret.Tween.get(this.titleFirst).to({scaleX:1,scaleY:.2}).to({scaleX:1,scaleY:1.1},300).to({scaleX:1,scaleY:1},120),egret.Tween.get(this.titleSecond).to({scaleX:5,scaleY:5,alpha:0}).to({scaleX:5,scaleY:5,alpha:0},120).to({scaleX:5,scaleY:5,alpha:.25},10).to({scaleX:1,scaleY:1,alpha:1},200),egret.Tween.get(this.titleThird).wait(330).to({scaleX:1.1,scaleY:1.1,alpha:.8}).to({scaleX:1.17,scaleY:1.17,alpha:0},750),egret.Tween.get(this.titleFour).to({alpha:0}).wait(330).to({alpha:1},750)},t.prototype.oCC=function(){App.CM.apF(O6.B82,L13.A71)},t}(BaseEuiView);__reflect(AvatarResetView.prototype,"AvatarResetView");var AvatarSkillNewView=function(o){function t(t,e){var i=o.call(this,t,e)||this;return i.bossPos={x:-102,y:-46},i.skinName=AvatarSkillSkinNew,i}return __extends(t,o),t.prototype.initUI=function(){o.prototype.initUI.call(this),this.ZR12(),this.btnOneKey.label=O3.tr(4635),this.lbStr1.textFlow=M18.HTP.parse(O3.tr(4636)),this.lbStr2.textFlow=M18.HTP.parse(O3.tr(4637)),this.lbFull.textFlow=M18.HTP.parse(O3.tr(5835))},t.prototype.initData=function(){o.prototype.initData.call(this)},t.prototype.open=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];o.prototype.open.call(this,t),this.btnSetting.addEventListener(egret.TouchEvent.TOUCH_TAP,this.ZR13,this),this.btnOneKey.addEventListener(egret.TouchEvent.TOUCH_TAP,this.ZU30,this);var i=App.CM.gtM(O6.B82);this.ZE70(i),egret.Tween.get(this).wait(200).call(function(){TG68.FD9(this,N4.skill_lvUp_btn,!1)},this);var s=this.grpNewSkills.getChildAt(0);this.firstSelect(s),this.setMap()},t.prototype.setMap=function(){var t=App.CM.gtM(O6.B64).FL64();this.grpMap.setMapName(t.resource),this.grpMap.bottom=FightD.MAP_ROW*SET_MAP_WH[mapWH.SET_360_450][1]-this.grpMapBg.height},t.prototype.cTH=function(){null!=this.timerHandler&&(App.K16.rBH(this.timerHandler),this.timerHandler=null)},t.prototype.close=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];o.prototype.close.call(this),this.ZN41(),this.btnSetting.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.ZR13,this),this.btnOneKey.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.ZU30,this),this.cTH(),this.grpMy.removeChildren(),this.objMy&&(this.objMy.destory(),this.objMy=null),this.grpBoss.removeChildren(),this.objBoss&&(this.objBoss.destory(),this.objBoss=null)},t.prototype.ZN41=function(){egret.Tween.removeTweens(this.objMy),egret.Tween.removeTweens(this.objBoss),egret.Tween.removeTweens(this)},t.prototype.uBM=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];o.prototype.uBM.call(this,t,e),t instanceof TG12&&this.ZE70(t),t instanceof TF84&&this.ZD61(t)},t.prototype.ZD61=function(t){this.currStepId&&t.ZJ29(this.currStepId)&&TG68.FJ82(O7.G45,N4.basePanel)},t.prototype.ZR12=function(){this.grpMap=new FightMapView,this.grpMapBg.addChild(this.grpMap);for(var t=0;t<5;t++){var e=this.grpNewSkills.getChildAt(t);e&&e.ZK29(this.GW87,this)}},t.prototype.ZE70=function(t){if(t){for(var e=t.sl,i=0;i<5;i++){var s=this.grpNewSkills.getChildAt(i);if(s){var o=e[i+1];s.setData(o),s.selected=!1,o&&o.isOpen()&&null==this.selectedSkill&&(this.selectedSkill=s)}}this.selectedSkill&&(this.selectedSkill.selected=!0),this.ZQ39()}},t.prototype.ZQ39=function(){if(this.selectedSkill&&this.selectedSkill.data){var t=this.selectedSkill.data;this.lbSkillName.textFlow=M18.HTP.parse(O3.tr(5360,t.name,t.lv));var e=new eui.Label;e.size=20;for(var i="";i+="　",e.textFlow=M18.HTP.parse(i),e.width<this.imgText.width-15;);var s=M18.HTP.parse(i+t.getDesc());this.lbDesc.textFlow=s,this.labCost.text=t.getUpCost().toString();var o=App.CM.gtM(O6.B82);this.labCost.textColor=o.avatarInfo.co>=t.getUpCost()?15058860:14164514,this.btnOneKey.imgNew.visible=!!o.canSkill}else this.lbSkillName.text="",this.lbDesc.text="",this.labCost.text="",this.btnOneKey.imgNew.visible=!1;for(var r,n=App.CM.gtM(O6.B82).sl,a=!1,h=this.grpNewSkills.numChildren;0<h;h--){var p=n[h];if(p&&p.isOpen()&&p.canUp()){a=!0;var l=p.getUpCost();null==r?r=l:l<r&&(r=l);break}}this.grpCost.visible=a,this.lbFull.visible=!a},t.prototype.firstSelect=function(t){this.selectedSkill&&(this.selectedSkill.selected=!1),this.selectedSkill=t,this.selectedSkill.selected=!0,this.ZQ39(),this.moveToAtkPos(),this.timerHandler=App.K16.doTimer(3e3,0,this.moveToAtkPos,this,null,this)},t.prototype.GW87=function(t){t&&this.selectedSkill&&t.data.skillid==this.selectedSkill.data.skillid||(this.selectedSkill&&(this.selectedSkill.selected=!1),this.selectedSkill=t,this.selectedSkill.selected=!0,this.ZQ39(),this.moveToAtkPos(),this.cTH(),this.timerHandler=App.K16.doTimer(3e3,0,this.moveToAtkPos,this,null,this))},t.prototype.moveToAtkPos=function(){var t=this;this.ZK34();var e=this.FI15(this.selectedSkill.data.skillid,2),i=this.getObjAtkPos(e);i.x===this.objMy.x&&i.y===this.objMy.y?this.attack():(this.objMy.batMoving=!0,this.objMy.action=Action.Move,this.objMy.setAtkShowLv(!0),egret.Tween.get(this.objMy).to({x:i.x,y:i.y},P17.A24/FightD.BT_PLAY_SPEED_LIST[1],egret.Ease.circOut).wait(P17.A34/FightD.BT_PLAY_SPEED_LIST[1]).call(function(){t.objMy&&(t.objMy.batMoving=!1,t.objMy.action!=Action.Die&&(t.objMy.action=Action.Stand),t.attack())}))},t.prototype.attack=function(){this.playSkill()},t.prototype.getObjAtkPos=function(t){var e={x:0,y:0};switch(t.attackRage){case 2:e.x=this.objMy.x,e.y=this.objMy.y;break;case 1:default:this.objBoss&&(e=this.bossPos)}return e},t.prototype.playSkill=function(){this.objMy.action=Action.Attack,egret.Tween.removeTweens(this.objBoss),this.objBoss.setBaseData({x:0,y:0});var t=this.FI15(this.selectedSkill.data.skillid,1);t.picture&&0<t.picture.length&&this.playSkillAni(t),this.playHurt(P17.A18,t)},t.prototype.playSkillAni=function(t){this.playOneSkill(t,TG67.FJ77(t,Dir.tl,this.objMy))},t.prototype.playOneSkill=function(t,e){if(this.objBoss){var i=ObjectPool.pop(J14.C_SkillNew),s=this.ZI3();i.setParams({data:t,x:this.grpBoss.x,y:s,dir:Dir.tl,gameView:this}),i.start(),this.selectedSkill.data.skillid,App.K16.doTimer(P17.A18,1,this.ZV26,this,null,this)}},t.prototype.playHurt=function(t,e){var i=this;switch(e.attackRage){case 2:1010002==e.id?this.playHurtAni({data:e,dir:Dir.tl}):egret.Tween.get(this).wait(100).call(function(){i.playHurtAni({data:e,dir:Dir.tl})},this);break;case 1:default:App.K16.doTimer(1,1,function(){i.playHurtAni({data:e,dir:Dir.tl})},this,null,this)}},t.prototype.playHurtAni=function(t){if(this.objBoss&&(this.stepBackward(),t.data.hitResName&&0<t.data.hitResName.length)){var e=ObjectPool.pop(J14.C_HitNew),i=TF40.FJ80(t.data),s=this.ZI3();e.setParams({data:i,x:this.grpBoss.x,y:s,dir:t.dir,gameView:this}),e.start(),App.K16.doTimer(P17.A18,1,this.ZV26,this,null,this)}},t.prototype.ZI3=function(){var t=this.grpBoss.y;switch(this.selectedSkill.data.skillid){case 1010001:t=this.grpBoss.y-30;break;case 1010002:case 1010003:t=this.grpBoss.y-50;break;case 1010011:t=this.grpBoss.y-20;break;case 1010012:t=this.grpBoss.y-30;break;case 1010021:case 1010022:t=this.grpBoss.y-40}return t},t.prototype.stepBackward=function(){var t=this,e=(this.objBoss.getComponent(J14.C_Avatar),TG67.FD5(this.objBoss.side,FightD.BT_BACK_DIS,this.objBoss.x,this.objBoss.y));this.objBoss.batMoving=!0,this.objBoss.action=Action.Attacked,egret.Tween.get(this.objBoss).to(e,P17.A21/FightD.BT_PLAY_SPEED_LIST[1]).call(function(){t.objBoss&&t.objBoss.action!=Action.Die&&(t.objBoss.action=Action.Move)}).to({x:this.objBoss.x,y:this.objBoss.y},P17.A21/FightD.BT_PLAY_SPEED_LIST[1]).call(function(){t.objBoss&&(t.objBoss.batMoving=!1,t.objBoss.action!=Action.Die&&(t.objBoss.action=Action.Stand))})},t.prototype.ZV26=function(){var t=this;this.objMy&&this.bossPos&&this.objMy.x==this.bossPos.x&&this.objMy.y==this.bossPos.y&&(this.objMy.batMoving=!0,this.objMy.action=Action.Move,egret.Tween.get(this.objMy).to({x:0,y:0},P17.A20/FightD.BT_PLAY_SPEED_LIST[1],egret.Ease.circOut).call(function(){t.objMy&&t.objMy.action!=Action.Die&&(t.objMy.action=Action.Stand)}).wait(P17.A9/FightD.BT_PLAY_SPEED_LIST[1]).call(function(){t.objMy&&(t.objMy.setAtkShowLv(!1),t.objMy.batMoving=!1)}))},t.prototype.FI15=function(t,e){var i=TF40.getSkill(t,e);return null==i&&(i=TF40.getSkill(1010001,e)),i},t.prototype.ZV27=function(){return this.grpSkill},t.prototype.ZK34=function(){if(!this.objBoss){this.objBoss=new FightGameObject,this.objBoss.action=Action.Stand;var t={id:10501,x:0,y:0,dir:Dir.br,objType:P13.A1,s:2,p:1,bt:BehaviourType.Attack_d};this.objBoss.setData(t,this.grpBoss)}var e=App.CM.gtM(O6.B82).avatarInfo.us[J11.A7];if(!this.objMy){this.objMy=new FightGameObject;t={x:0,y:0,dir:Dir.tl,objType:P13.A1,bt:BehaviourType.Fight_u};this.objMy.setBaseData(t)}e.bt=BehaviourType.Fight_u,this.objMy.setData(e,this.grpMy)},t.prototype.ZR13=function(){this.apF(L13.A29)},t.prototype.ZU30=function(){for(var t,e=App.CM.gtM(O6.B82),i=e.sl,s=!1,o=this.grpNewSkills.numChildren;0<o;o--){var r=i[o];if(r&&r.isOpen()&&r.canUp()){s=!0;var n=r.getUpCost();null==t?t=n:n<t&&(t=n);break}}s?t>e.avatarInfo.co?App.VM.open(O7.F12):this.apF(L13.A31):P18.sDP(O3.tr(5652))},t}(BaseEuiView);__reflect(AvatarSkillNewView.prototype,"AvatarSkillNewView");var AvatarSkillPlanItemView=function(e){function t(){var t=e.call(this)||this;return t.skinName="AvatarSkillPlanItemSkin",t.addEventListener(egret.Event.ADDED_TO_STAGE,t.onAddToStage,t),t.addEventListener(egret.Event.REMOVED_FROM_STAGE,t.onRemoveStage,t),t}return __extends(t,e),t.prototype.onAddToStage=function(){this.addEventListener(egret.TouchEvent.TOUCH_TAP,this.ZV28,this)},t.prototype.onRemoveStage=function(){this.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.ZV28,this)},t.prototype.ZV28=function(){this.imgSelection.visible||App.CM.apF(O6.B82,L13.A1,this.data.index)},t.prototype.childrenCreated=function(){e.prototype.createChildren.call(this)},t.prototype.dataChanged=function(){var t=App.CM.gtM(O6.B82);this.imgSelection.visible=t.checkIndex==this.data.index,this.lbName.textFlow=M18.HTP.parse(O3.tr(7024,this.data.name))},t}(eui.ItemRenderer);__reflect(AvatarSkillPlanItemView.prototype,"AvatarSkillPlanItemView");var AvatarSkillSort=function(s){function t(t,e){var i=s.call(this,t,e)||this;return i.skinName=AvatarSkillSortSkin,i.dlg.ZU10().visible=!0,i}return __extends(t,s),t.prototype.initUI=function(){s.prototype.initUI.call(this),this.dgList.dataProvider=this.listCol=new eui.ArrayCollection,this.dgList.itemRenderer=AvatarSkillSortItem,this.planData.dataProvider=this.planCol=new eui.ArrayCollection,this.planData.itemRenderer=AvatarSkillPlanItemView,this.lbStr1.textFlow=M18.HTP.parse(O3.tr(5720)),this.dlg.title=O3.tr(5721)},t.prototype.initData=function(){s.prototype.initData.call(this)},t.prototype.open=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];s.prototype.open.call(this,t),this.dlg.ZM69(this.oCC,this),this.dlg.ZQ14(this.oCC,this);var i=App.CM.gtM(O6.B82);this.ZE70(i),this.imgArrow.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickArrow,this),this.testText.addEventListener(egret.FocusEvent.FOCUS_OUT,this.onFocusTest,this),this.dlg.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickBg,this),this.downState()},t.prototype.uBM=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];s.prototype.uBM.call(this,t,e),t instanceof TG12&&this.ZE70(t,e)},t.prototype.onFocusTest=function(){this.aCF(O6.B82,L13.A3,this.testText.text)},t.prototype.onClickBg=function(){this.downState()},t.prototype.ZE70=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];this.planCol.replaceAll(O4.FJ34()),this.testText.textFlow=M18.HTP.parse(O3.tr(7024,O4.FJ35()));var s=t.sl||{},o=[];for(var r in s){var n=s[r];n.isOpen()&&o.push(n)}o.sort(function(t,e){return t.order<e.order?-1:t.order>e.order?1:0}),this.listCol.replaceAll(o)},t.prototype.close=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];s.prototype.close.call(this),this.listCol.removeAll(),this.testText.removeEventListener(egret.FocusEvent.FOCUS_OUT,this.onFocusTest,this),this.imgArrow.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickArrow,this),this.dlg.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickBg,this)},t.prototype.oCC=function(){this.apF(L13.A22)},t.prototype.upState=function(){var t=this;egret.Tween.get(this.planData).to({y:0},100).call(function(){t.imgArrow.touchEnabled=!0,t.imgArrow.source="v1_btn_shangyi_zjm_png"})},t.prototype.downState=function(){0==this.planData.y&&(this.planData.y=this.grp.height,this.imgArrow.source="v1_btn_xiala_zjm_png")},t.prototype.onClickArrow=function(){0==this.planData.y?this.downState():(this.imgArrow.touchEnabled=!1,this.upState())},t}(BaseEuiView);__reflect(AvatarSkillSort.prototype,"AvatarSkillSort");var AvatarTitleView=function(n){function t(t,e){var i=n.call(this,t,e)||this;return i.pageSize=6,i.itemWidth=95,i.skinName="FashionTitleShareSkin",i.cbKeep.visible=!0,i}return __extends(t,n),t.prototype.initUI=function(){n.prototype.initUI.call(this),this.btnActive.label=O3.tr(4565),this.btnChange.label=O3.tr(4566),this.lbStr1.textFlow=M18.HTP.parse(O3.tr(4567)),this.cbKeep.label=O3.tr(4568),this.btnActive.imgNew.visible=!0,P7.FM14()&&(this.itemWidth=186.75,this.pageSize=3)},t.prototype.initData=function(){this._collection=new eui.ArrayCollection,this.skinData.dataProvider=this._collection,this.skinData.itemRenderer=FashionTitleShareRender},t.prototype.open=function(t){void 0===t&&(t=void 0),n.prototype.open.call(this,t),this.title.text=O3.tr(410),this.totalDesc.text=O3.tr(413),this.activeDesc.text=O3.tr(414);var e=O4.FHH95();this._curSelect=t?this.ZV29(e,t):e[0],this.location=0,this._curSelect.selected=1,this._collection.replaceAll(e),this.scroller.addEventListener(eui.UIEvent.CHANGE_END,this.ZQ72,this),this.skinData.addEventListener(eui.ItemTapEvent.ITEM_TAP,this.onItemTap,this),this.bgMask.addEventListener(egret.TouchEvent.TOUCH_TAP,this.closeSelf,this),this.closeBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.closeSelf,this),this.backBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.closeSelf,this),this.btnLeft.addEventListener(egret.TouchEvent.TOUCH_TAP,this.doLeft,this),this.btnRight.addEventListener(egret.TouchEvent.TOUCH_TAP,this.doRight,this),this.btnActive.addEventListener(egret.TouchEvent.TOUCH_TAP,this.doActive,this),this.btnChange.addEventListener(egret.TouchEvent.TOUCH_TAP,this.doHuanhua,this),this.lbSource.addEventListener(egret.TouchEvent.TOUCH_TAP,this.jumpPage,this),this.groupIcon.addEventListener(egret.TouchEvent.TOUCH_TAP,this.openProsView,this),this.cbKeep.addEventListener(egret.Event.CHANGE,this.onChangeCb,this),this.GX5()},t.prototype.ZE89=function(){if(this._collection.length<=6)this._pageStart=this._collection.getItemAt(0),this._pageEnd=this._collection.getItemAt(this._collection.length-1);else{for(var t=this._collection.getItemAt(this._collection.length-1),e=this._curSelect.index;e%6!=0&&e!=t.index;)e++;this._pageStart=e%6!=0?this.ZN42(this._collection.source,e-e%6+1):this.ZN42(this._collection.source,e-5),this._pageEnd=this.ZN42(this._collection.source,e)}},t.prototype.ZV29=function(t,e){for(var i=0,s=t;i<s.length;i++){var o=s[i];if(o.id==e)return o}},t.prototype.ZN42=function(t,e){for(var i=0,s=t;i<s.length;i++){var o=s[i];if(o.index==e)return o}},t.prototype.GX5=function(t){var e;if(void 0===t&&(t=void 0),this.ZK35(),this.updateTitleImg(),this.ZN23(),this.ZR9(),this.ZK31(),this.ZN39(),t||(this.ZE89(),this.updateArrow()),this.ZR10(),e=t&&t instanceof TG12?t:App.CM.gtM(O6.B82),this.ZHH70(),1==this._curSelect.active){e.avatarInfo.kt==this._curSelect.id?this.cbKeep.selected=!0:this.cbKeep.selected=!1,0<e.getRestTime(this._curSelect.id)?(this.updateCd(),this.timeHandler=App.K16.doTimer(1e3,0,this.updateCd,this)):this.gpTime.visible=!1}else{var i=K18.FHH94(this._curSelect.id);if(0<i.time){this.gpTime.visible=!0;var s=P6.FJ11(1e3*i.time,1);this.lbTime.textFlow=M18.HTP.parser(O3.tr(416,s))}else this.gpTime.visible=!1}},t.prototype.updateCd=function(){var t=App.CM.gtM(O6.B82).getRestTime(this._curSelect.id);if(0<t){this.gpTime.visible=!0;var e=P6.FJ11(t,1);this.lbTime.textFlow=M18.HTP.parser(O3.tr(416,e))}else this.gpTime.visible=!1,this.ZHH70()},t.prototype.ZHH70=function(){this.timeHandler&&(App.K16.rBH(this.timeHandler),this.timeHandler=null)},t.prototype.ZK35=function(){var t=P7.FL92(this._curSelect.attribute),e=O4.getScore(t);this.score.text=String(e)},t.prototype.updateTitleImg=function(){return __awaiter(this,void 0,void 0,function(){var e,i;return __generator(this,function(t){return e=O1.getSkin(this._curSelect.id),this.imgSel.source!=e.picture&&(i=FightD.AV_RES_PATH+e.type+"/"+e.picture,FightRes.ZS35(this.imgSel,e.picture,i)),[2]})})},t.prototype.ZN23=function(){var t=P7.FL92(this._curSelect.attribute),e=1;if(0<this._curSelect.number){var i=P7.FB44(this._curSelect.show);this.attr4.text=O3.tr(5643,i.name,this._curSelect.number)}else this.attr4.text="";for(var s in t){var o=parseInt(s),r=parseFloat(t[s]),n=-1!==(r+"").indexOf(".")?100*r+"%":r;this["attr"+e].text=O4.FD72(o)+"："+n,e++}1==this._curSelect.active?(this.attr1.textColor=7716890,this.attr2.textColor=7716890,this.attr3.textColor=7716890,this.attr4.textColor=7716890):(this.attr1.textColor=16458017,this.attr2.textColor=16458017,this.attr3.textColor=16458017,this.attr4.textColor=16458017)},t.prototype.ZR9=function(){this.itemBg.source=N12.FL5(this._curSelect.item),this.itemIcon.source=N12.FJ86(this._curSelect.item),this.lbName.text=N12.FK5(this._curSelect.item);var t=N12.giC(this._curSelect.item);this.lbNum.textFlow=1<=t?M18.HTP.parser(O3.tr(6860,t,1)):M18.HTP.parser(O3.tr(6859,t,1)),this.lbSource.text=this._curSelect.channel,this._curSelect.jump?M18.FHH83(this.lbSource):M18.FF64(this.lbSource),this.btnActive.visible=0==this._curSelect.active&&1<=N12.giC(this._curSelect.item),this.grpShow.visible=!this.btnActive.visible,1==this._curSelect.active?(this.grpNoLive.visible=!1,this.cbKeep.visible=!0):(this.grpNoLive.visible=!0,this.cbKeep.visible=!1)},t.prototype.ZK31=function(){if(this.grpNoLive.visible)return this.grpHave.visible=!1,void(this.btnChange.visible=!1);1==this._curSelect.huanhua?(this.grpHave.visible=!0,this.btnChange.visible=!1):(this.grpHave.visible=!1,this.btnChange.visible=!0)},t.prototype.ZN39=function(){for(var t=App.CM.gtM(O6.B82).avatarInfo.actTitle,e=0,i=0,s=t;i<s.length;i++){var o=s[i],r=this.ZV29(this._collection.source,o),n=P7.FL92(r.attribute);e+=O4.getScore(n)}this.totalScore.text=String(e),this.totalActive.text=String(t.length)},t.prototype.updateArrow=function(){if(this._collection.length<=6)this.btnLeft.visible=this.btnRight.visible=!1;else{var t=this._collection.getItemAt(this._collection.length-1);1==this._pageStart.index?this.btnLeft.visible=!1:this.btnLeft.visible=!0,this._pageEnd.index==t.index?this.btnRight.visible=!1:this.btnRight.visible=!0}},t.prototype.ZR10=function(){if(this.btnLeft.visible){this.btnLeft.imgNew.visible=!1;for(var t=0;t<this._collection.length;t++){var e=this._collection.getItemAt(t);if(!(e.index>=this._pageStart.index)&&1==e.red){this.btnLeft.imgNew.visible=!0;break}}}if(this.btnRight.visible){this.btnRight.imgNew.visible=!1;for(t=0;t<this._collection.length;t++){var i=this._collection.getItemAt(t);if(!(i.index<=this._pageEnd.index)&&1==i.red){this.btnRight.imgNew.visible=!0;break}}}},t.prototype.uBM=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];n.prototype.uBM.call(this,t,e);var s=e[0];if(t instanceof TG12){if(s==P4.J62||s==P4.HH74||s==P4.N53||s==P4.HH76){var o=this._curSelect.id,r=O4.FHH95();this._curSelect=0<o?this.ZV29(r,o):r[0],this._curSelect.selected=1,this._collection.replaceAll(r),this.GX5(t)}}else if(t instanceof THH9){o=this._curSelect.id,r=O4.FHH95();this._curSelect=0<o?this.ZV29(r,o):r[0],this._curSelect.selected=1,this._collection.replaceAll(r),this.GX5(t)}},t.prototype.onItemTap=function(t){this._curSelect.id!=t.item.id&&(this._curSelect.selected=0,t.item.selected=1,this._curSelect=t.item,this._collection.replaceAll(this._collection.source),this.GX5())},t.prototype.onChangeCb=function(){var t=this.cbKeep.selected?this._curSelect.id:0;this.apF(L13.A35,t)},t.prototype.close=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];n.prototype.close.call(this),this.scroller.removeEventListener(eui.UIEvent.CHANGE_END,this.ZQ72,this),this.skinData.removeEventListener(eui.ItemTapEvent.ITEM_TAP,this.onItemTap,this),this.bgMask.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.closeSelf,this),this.closeBtn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.closeSelf,this),this.backBtn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.closeSelf,this),this.btnLeft.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.doLeft,this),this.btnRight.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.doRight,this),this.btnActive.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.doActive,this),this.btnChange.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.doHuanhua,this),this.lbSource.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.jumpPage,this),this.groupIcon.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.openProsView,this),this._collection.removeAll()},t.prototype.closeSelf=function(){App.VM.close(O7.G1)},t.prototype.doLeft=function(){var t=this.getStartIndex,e=Math.max(0,t-this.pageSize);this.scroller.viewport.scrollH=e*this.itemWidth,this.ZQ72(),this.ZR10()},Object.defineProperty(t.prototype,"getStartIndex",{get:function(){return Math.floor(this.scroller.viewport.scrollH/this.itemWidth)},enumerable:!0,configurable:!0}),t.prototype.doRight=function(){var t=this.getStartIndex,e=this._collection.length-this.pageSize,i=Math.min(e,t+this.pageSize);this.scroller.viewport.scrollH=e===i?this.scroller.viewport.contentWidth-this.scroller.width:i*this.itemWidth,this.ZQ72(),this.ZR10()},t.prototype.ZQ72=function(){if(this._collection.length>this.pageSize){var t=this.scroller.viewport;this.btnLeft.visible=0!=t.scrollH,this.btnRight.visible=!this.btnLeft.visible||Math.abs(t.scrollH+this.scroller.width)<t.contentWidth}else this.btnLeft.visible=this.btnRight.visible=!1},t.prototype.doActive=function(){var t=this._curSelect.id;1!=this._curSelect.active?this.apF(L13.A19,t):P18.sDP(O3.tr(5644))},t.prototype.doHuanhua=function(){var t=this._curSelect.id;1!=this._curSelect.huanhua?this.apF(L13.A9,t):P18.sDP(O3.tr(5645))},t.prototype.jumpPage=function(){this._curSelect.jump&&TG84.FM16(this._curSelect.jump)},t.prototype.openProsView=function(){var t=N12.gID(this._curSelect.item);P5.FC75(t)},t}(BaseEuiView);__reflect(AvatarTitleView.prototype,"AvatarTitleView");var ConfirmRenameView=function(s){function t(t,e){var i=s.call(this,t,e)||this;return i.skinName="ConfirmRenameSkin",i}return __extends(t,s),t.prototype.open=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];s.prototype.open.call(this,t),this.bgMask.addEventListener(egret.TouchEvent.TOUCH_TAP,this.closeSelf,this),this.closeBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.closeSelf,this),this.backBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.closeSelf,this);var i=App.CM.gtM(O6.B82);this.ZE70(i)},t.prototype.ZE70=function(t){},t.prototype.uBM=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];s.prototype.uBM.call(this,t,e),t instanceof TG12&&this.ZE70(t)},t.prototype.close=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];s.prototype.close.call(this),this.bgMask.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.closeSelf,this),this.closeBtn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.closeSelf,this),this.backBtn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.closeSelf,this)},t.prototype.closeSelf=function(){this.apF(L13.A28)},t}(BaseEuiView);__reflect(ConfirmRenameView.prototype,"ConfirmRenameView");var JumpBulletinView=function(o){function t(t,e){var i=o.call(this)||this;i.isShow=!1;var s=i;return s.data=t,s.lv=e,s.skinName="JumpBulletinSkin",s.addEventListener(egret.Event.ADDED_TO_STAGE,s.open,s),s.addEventListener(egret.Event.REMOVED_FROM_STAGE,s.close,s),i}return __extends(t,o),t.prototype.childrenCreated=function(){o.prototype.childrenCreated.call(this),this.height=App.TG37.getHeight(),this.width=App.TG37.getWidth()},t.prototype.open=function(){var t=this;t.getBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,t.doClick,t),t.closeImg.addEventListener(egret.TouchEvent.TOUCH_TAP,t.closeSelf,t),t.bgMask.addEventListener(egret.TouchEvent.TOUCH_TAP,t.closeSelf,t),t.content.textFlow=M18.FG71(t.data.notice_content)},t.prototype.doClick=function(){window.wx.navigateToMiniProgram({appId:this.data.go_appid,path:this.data.go_path,success:function(t){console.log("跳转成功")}})},t.prototype.close=function(){this.getBtn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.doClick,this),this.closeImg.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.closeSelf,this),this.bgMask.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.closeSelf,this)},t.prototype.closeSelf=function(){0==this.data.must_navigateto&&this.lv<40?App.TF56.ZJ66(this):this.isShow?(this.contentGp.visible=!0,this.bgMask.alpha=1,this.isShow=!1):(this.contentGp.visible=!1,this.bgMask.alpha=0,this.isShow=!0)},t}(eui.Component);__reflect(JumpBulletinView.prototype,"JumpBulletinView");var SystemSetView=function(s){function t(t,e){var i=s.call(this,t,e)||this;return i.skinName="SystemSetSkin",i}return __extends(t,s),t.prototype.initUI=function(){s.prototype.initUI.call(this),this.lbStr1.textFlow=M18.HTP.parse(O3.tr(4445)),this.lbStr2.textFlow=M18.HTP.parse(O3.tr(4446)),this.lbStr3.textFlow=M18.HTP.parse(O3.tr(4447)),this.lbStr4.textFlow=M18.HTP.parse(O3.tr(4448)),this.lbStr5.textFlow=M18.HTP.parse(O3.tr(4449)),this.saveBtn.label=O3.tr(4450),this.closeSound.label=O3.tr(4451),this.hideAvatars.label=O3.tr(4452),this.fightSpeed1.label=O3.tr(4453),this.fightSpeed2.label=O3.tr(4454),this.hideVIP.label=O3.tr(7322)},t.prototype.open=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];s.prototype.open.call(this),this.bgMask.addEventListener(egret.TouchEvent.TOUCH_TAP,this.closeSelf,this),this.closeBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.closeSelf,this),this.backBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.closeSelf,this),this.saveBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.closeSelf,this),this.closeBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.closeSelf,this),this.closeSound.addEventListener(egret.Event.CHANGE,this.doSave,this),this.hideAvatars.addEventListener(egret.Event.CHANGE,this.doSave,this),this.hideVIP.addEventListener(egret.Event.CHANGE,this.doSave,this),this.fightSpeed1.addEventListener(egret.Event.CHANGE,this.doSave,this),this.fightSpeed2.addEventListener(egret.Event.CHANGE,this.doSave,this),this.GX5()},t.prototype.GX5=function(){var t=App.CM.gtM(O6.B82).setting;t&&0!=t.length&&(this.closeSound.selected=-1!=t.indexOf(L17.A31),this.hideAvatars.selected=-1!=t.indexOf(L17.A24),this.fightSpeed1.selected=-1!=t.indexOf(L17.A25),this.fightSpeed2.selected=-1!=t.indexOf(L17.A26),this.hideVIP.selected=-1!=t.indexOf(L17.A32))},t.prototype.uBM=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];s.prototype.uBM.call(this,t,e),t instanceof TG12&&this.GX5()},t.prototype.close=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];s.prototype.close.call(this),this.bgMask.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.closeSelf,this),this.closeBtn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.closeSelf,this),this.backBtn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.closeSelf,this),this.saveBtn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.closeSelf,this),this.closeSound.removeEventListener(egret.Event.CHANGE,this.doSave,this),this.hideAvatars.removeEventListener(egret.Event.CHANGE,this.doSave,this),this.hideVIP.removeEventListener(egret.Event.CHANGE,this.doSave,this),this.fightSpeed1.removeEventListener(egret.Event.CHANGE,this.doSave,this),this.fightSpeed2.removeEventListener(egret.Event.CHANGE,this.doSave,this)},t.prototype.closeSelf=function(){this.apF(L13.A54)},t.prototype.doSave=function(t){var e=t.currentTarget,i=App.CM.gtM(O6.B82),s=NaN;switch(e){case this.closeSound:s=L17.A31,FightSoundManager.ZL34();break;case this.hideAvatars:s=L17.A24;break;case this.fightSpeed1:if(-1!=i.setting.indexOf(L17.A25))return void(this.fightSpeed1.selected=!0);if(this.fightSpeed1.selected&&this.fightSpeed2.selected)this.fightSpeed2.selected=!1,-1!=(o=i.setting.indexOf(L17.A26))&&i.setting.splice(o,1);s=L17.A25;break;case this.fightSpeed2:if(-1!=i.setting.indexOf(L17.A26))return void(this.fightSpeed2.selected=!0);var o;if(this.fightSpeed1.selected&&this.fightSpeed2.selected)this.fightSpeed1.selected=!1,-1!=(o=i.setting.indexOf(L17.A25))&&i.setting.splice(o,1);s=L17.A26;break;case this.hideVIP:s=L17.A32}this.apF(L13.A24,s),TG40.playClickEffect()},t}(BaseEuiView);__reflect(SystemSetView.prototype,"SystemSetView"),function(t){var e=function(){function t(){}return t.ATK=101,t.DEF=102,t.HP=103,t.HIT=104,t.DOD=105,t.CRIT=106,t.PHY=107,t.IGNDEF=108,t.IGNBKE=109,t.SPEED=110,t.DAEXT=201,t.DABKE=202,t.CRITEXT=203,t.CRITBKE=204,t.PVEEXT=205,t.PVEBKE=206,t.PVPEXT=207,t.PVPBKE=208,t.CRITMUL=209,t.CRITRATE=210,t.PHYRATE=211,t.CONTROL=114,t.POWER=115,t.WISDOM=116,t.POZHAO=117,t.ZHAOJIA=118,t.AllAtk=219,t.AllDef=220,t.AllHp=221,t.CHUANCI=240,t.FANGHU=241,t}();t.AttributeKey=e,__reflect(e.prototype,"avatar.AttributeKey")}(avatar||(avatar={})),function(t){var e=function(){};(avatar||(avatar={})).AttribVo=e,__reflect(e.prototype,"avatar.AttribVo")}(),function(t){var e=function(){function t(t){this.isShare=!1,this.initData(t)}return t.prototype.initData=function(t){for(var e in t)this[e]=t[e];this.loginEtTime=egret.getTimer()},t.prototype.setTrcd=function(t){this.trcd=t,this.lastLoadTime=P6.getTime(),App.CM.apF(O6.B82,L13.A50)},t}();t.AvatarInfo=e,__reflect(e.prototype,"avatar.AvatarInfo")}(avatar||(avatar={}));var avatar,AvatarPlanVo=function(){function t(t){this.initData(t)}return t.prototype.initData=function(t){this.index=t,this.name=K18.planNames[this.index-1]},t.prototype.updataDataName=function(t){this.name=t},t}();__reflect(AvatarPlanVo.prototype,"AvatarPlanVo"),function(t){var e=function(){function t(){this.lv=0,this.baserate=0}return t.prototype.initByDB=function(t){for(var e in t)this[e]=t[e]},t.prototype.ZD70=function(t,e){null!=t&&(this.lv=t.lv,this.order=e+1)},t.prototype.isOpen=function(){var t=App.CM.gtM(O6.B82);return this.unlocklv<=t.avatarInfo.l},t.prototype.canUp=function(){var t=App.CM.gtM(O6.B82);return this.lv<t.avatarInfo.l},t.prototype.getUpCost=function(t){return t=null==t?this.lv:t,K18.FA83(t)},t.prototype.getDesc=function(){var t=App.CM.gtM(O6.A87),e=this.baserate;if(t&&t.data&&Reincarnate.Config.isOpen()){var i=t.data.getSkillInfo(this.skillid),s=i.lv,o=i.isUnlock,r=i.sid;o&&s&&(e=Reincarnate.Config.FI88(r,s))}var n=100*e+"";return 100*e!==Math.floor(100*e)&&(n=(100*e).toFixed(1)),M18.FM18(this.des,this.getDmg(),n)},t.prototype.getDmg=function(){return this.basedmg+this.regulardmg*this.lv},t}();t.AvatarSkill=e,__reflect(e.prototype,"avatar.AvatarSkill")}(avatar||(avatar={})),function(t){var e=function(){};(avatar||(avatar={})).SkillVo=e,__reflect(e.prototype,"avatar.SkillVo")}();var D8=function(){function t(){}return t.A1=10001,t.A2=10002,t.A3=10003,t}();__reflect(D8.prototype,"D8");var TA71=function(e){function t(){var t=e.call(this)||this;return t.awyAttentionProxy=new TC74(t),new TC73(t).aLV(O7.HH30),t.rgF(D8.A3,t.GHH15,t),t.rgF(D8.A1,t.GA10,t),t.rgF(D8.A2,t.GA11,t),t}return __extends(t,e),t.prototype.GHH15=function(){var t=this;platform.attention(function(){t.awyAttentionProxy.GA10()},this)},t.prototype.GA10=function(){this.awyAttentionProxy.GA10()},t.prototype.GA11=function(t){if(200==t.head.state){var e=this.gtM();1==t.body.af&&(e.isRead=!1,e.isShow=1),App.VM.gOV(O7.HH30).ZB9(e)}},t}(TE11);__reflect(TA71.prototype,"TA71");var TC73=function(e){function t(t){return e.call(this,t)||this}return __extends(t,e),t.prototype.initData=function(t){this.isRead=0==t,this.isShow=t},t.prototype.notify=function(t){e.prototype.notifyView.call(this,this,t)},t}(TG79);__reflect(TC73.prototype,"TC73");var TC74=function(i){function t(t){var e=i.call(this,t)||this;return e.rSM(P4.A19,e.GA11,e),e}return __extends(t,i),t.prototype.GA10=function(){var t={type:P4.A18,body:{}};this.sSM(t)},t.prototype.GA11=function(t){this.apF(D8.A2,t)},t}(TG80);__reflect(TC74.prototype,"TC74");var F9=function(){function t(){}return t.A6=10001,t.A7=10002,t.A1=10003,t.A2=10004,t.A16=10005,t.A17=10006,t.A8=10007,t.A5=10008,t.A3=10009,t.A4=10010,t.A11=10011,t.A14=10012,t.A15=10013,t.A9=10014,t.A10=10015,t.A12=10016,t.A13=10017,t}();__reflect(F9.prototype,"F9");var TB30=function(i){function t(){var t=i.call(this)||this;App.VM.register(O7.G53,"AwyAutonymView",t,K17.UI_Main_TOP),App.VM.register(O7.F35,"AwyBindPhoneView",t,K17.UI_Main_TOP),App.VM.register(O7.I55,"InspireView",t,K17.UI_Main_TOP),t.awyAutonymProxy=new TD86(t);var e=new TD85(t);return e.aLV(O7.G53),e.aLV(O7.I64),e.aLV(O7.F35),t.rgF(F9.A8,t.GE35,t),t.rgF(F9.A5,t.GC44,t),t.rgF(F9.A16,t.GM68,t),t.rgF(F9.A17,t.GM69,t),t.rgF(F9.A6,t.GF51,t),t.rgF(F9.A7,t.GF52,t),t.rgF(F9.A1,t.GA16,t),t.rgF(F9.A2,t.GA17,t),t.rgF(F9.A3,t.GB63,t),t.rgF(F9.A4,t.GB64,t),t.rgF(F9.A11,t.GK97,t),t.rgF(F9.A14,t.GS38,t),t.rgF(F9.A15,t.GS39,t),t.rgF(F9.A9,t.GX24,t),t.rgF(F9.A10,t.GX25,t),t.rgF(F9.A12,t.GS36,t),t.rgF(F9.A13,t.GS37,t),t}return __extends(t,i),t.prototype.GS36=function(t){this.awyAutonymProxy.GS36(t)},t.prototype.GS37=function(t){200==t.head.state||P18.sDP(K18.getTips(t.head.state))},t.prototype.GS38=function(){this.awyAutonymProxy.GS38()},t.prototype.GS39=function(t){200==t.head.state?(App.CM.gtM(O6.B82).watchCount=t.body.adcn,App.VM.open(O7.I55),this.gtM().notify()):P18.sDP(K18.getTips(t.head.state))},t.prototype.GX24=function(){this.awyAutonymProxy.GX24()},t.prototype.GX25=function(t){if(200==t.head.state){var e=this.gtM();App.CM.gtM(O6.B82).currentWatch=t.body.adgn+1,e.notify()}else P18.sDP(K18.getTips(t.head.state))},t.prototype.GK97=function(){var t=this.gtM(),e={account:App.CM.gtM(O6.B97).account,verify:0,wallow:0};if(this.awyAutonymProxy.GM68(e),platform instanceof AwyPlaform)platform.bindPhonePanel(this.GY20,this);else if(platform instanceof H5Platform){platform.bindPhonePanel(this.GY20,this)}t.notify()},t.prototype.GY20=function(){this.gtM().state=0},t.prototype.GE35=function(){App.VM.open(O7.G53),this.gtM().notify()},t.prototype.GC44=function(){App.VM.open(O7.F35),this.gtM().notify()},t.prototype.GF51=function(){return this.awyAutonymProxy.GF51()},t.prototype.GF52=function(t){if(200==t.head.state){var e=this.gtM();if(e.initData(t.body),platform instanceof AwyPlaform)platform.checkBindPhone().then(function(t){e.state=t.error});else"h5"==platform.name&&"PM000750"===platform.gameId&&(e.state=1);App.CM.gtM(O6.A62).initData(t.body.af),App.CM.gtM(O6.B15).initData(t.body.cd)}else P18.sDP(K18.getTips(t.head.state))},t.prototype.GA16=function(){this.awyAutonymProxy.GA16()},t.prototype.GA17=function(t){if(200==t.head.state){var e=this.gtM();P5.sIs(t.body.ob),1==t.body.rec&&(e.isRead=!1,e.rec=t.body.rec),e.notify()}else P18.sDP(K18.getTips(t.head.state))},t.prototype.GM68=function(t){platform.autonym(this.awyAutonymProxy,t)},t.prototype.GM69=function(t){if(0===t.s){var e=this.gtM();"success"==t.r&&(e.fontBtn=!1,e.vf=1),e.notify()}else P18.sDP(O3.tr(5653),!0)},t.prototype.GB63=function(){this.awyAutonymProxy.GB63()},t.prototype.GB64=function(t){if(200==t.head.state){var e=this.gtM();P5.sIs(t.body.ob),1==t.body.tm&&(e.tm=t.body.tm),e.notify()}else P18.sDP(K18.getTips(t.head.state))},t}(TE11);__reflect(TB30.prototype,"TB30");var TD85=function(i){function t(t){var e=i.call(this,t)||this;return e.state=2,e}return __extends(t,i),t.prototype.initData=function(t){this.vf=t.vf,this.isRead=0==t.rec,this.rec=t.rec,this.fontBtn=0==t.vf,this.tm=t.tm},t.prototype.notify=function(t){i.prototype.notifyView.call(this,this,t)},t}(TG79);__reflect(TD85.prototype,"TD85");var TD86=function(i){function t(t){var e=i.call(this,t)||this;return e.rSM(P4.A17,e.ZA12,e),e.rSM(P4.C35,e.GB64,e),e}return __extends(t,i),t.prototype.GF51=function(){var s=this;return new Promise(function(e,t){var i={type:P4.K36,body:{}};s.rSMO(P4.K37,function(t){s.apF(F9.A7,t),e("加载爱微游实名验证信息完成")},s),s.sSM(i)})},t.prototype.GA16=function(){var t={type:P4.A16,body:{}};this.sSM(t)},t.prototype.ZA12=function(t){this.apF(F9.A2,t)},t.prototype.GM68=function(t){this.rSMO("action/user/saveRealNameUser",this.GM69,this),this.sendHttpMsg("action/user/saveRealNameUser",t)},t.prototype.GM69=function(t){this.apF(F9.A17,t)},t.prototype.GB63=function(){var t={type:P4.C34,body:{}};this.sSM(t)},t.prototype.GB64=function(t){this.apF(F9.A4,t)},t.prototype.GS38=function(){var t={type:P4.R33,body:{}};this.rSMO(P4.R34,this.GS39,this),this.sSM(t)},t.prototype.GS39=function(t){this.apF(F9.A15,t)},t.prototype.GX24=function(){var t={type:P4.J66,body:{}};this.rSMO(P4.J67,this.GX25,this),this.sSM(t)},t.prototype.GX25=function(t){this.apF(F9.A10,t)},t.prototype.GS36=function(t){var e={type:P4.P74,body:{num:t}};this.rSMO(P4.P75,this.GS37,this),this.sSM(e)},t.prototype.GS37=function(t){this.apF(F9.A13,t)},t}(TG80);__reflect(TD86.prototype,"TD86");var AwyAutonymView=function(s){function t(t,e){var i=s.call(this,t,e)||this;return i.skinName=AwyAutonymSkin,i}return __extends(t,s),t.prototype.initUI=function(){s.prototype.initUI.call(this),this.listContent.itemRenderer=ItemIcon,this.dataSource=new eui.ArrayCollection,this.listContent.dataProvider=this.dataSource,this.awardsSc.viewport=this.listContent,this.awardsSc.scrollPolicyH=eui.ScrollPolicy.OFF,this.awardsSc.scrollPolicyV=eui.ScrollPolicy.OFF,this.lblTitle.textFlow=M18.HTP.parse(O3.tr(6731)),this.buyBtn.label=O3.tr(6732)},t.prototype.initData=function(){s.prototype.initData.call(this)},t.prototype.open=function(){this.buyBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.getAward,this),this.closeBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.closePage,this),this.bgMask.addEventListener(egret.TouchEvent.TOUCH_TAP,this.closePage,this),this.GX5()},t.prototype.uBM=function(t,e){s.prototype.uBM.call(this,t),t instanceof TD85&&(0==t.rec?t.fontBtn?this.buyBtn.label=O3.tr(6732):this.buyBtn.label=O3.tr(6733):(this.buyBtn.visible=!1,this.getImg.visible=!0))},t.prototype.GX5=function(){this.showAward(J17.init.verifyReward.value)},t.prototype.getAward=function(){var t=App.CM.gtM(O6.A98),e=App.CM.gtM(O6.B97);0==t.vf?this.apF(F9.A16,e.account):this.apF(F9.A1)},t.prototype.showAward=function(t){var e=M18.FL28(t,";"),i=[];for(var s in e){var o=M18.FL28(e[s],":"),r={itemData:{data:N12.gID(o[0]),ct:o[1]},isBottom:!0};i.push(r)}this.dataSource.replaceAll(i)},t.prototype.closePage=function(){App.VM.close(O7.G53)},t.prototype.close=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.listContent=null,this.awardsSc=null,this.getImg=null,this.dataSource.removeAll(),this.buyBtn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.getAward,this),this.closeBtn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.closePage,this),this.bgMask.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.closePage,this);var i=App.VM.gOV(O7.I64),s=App.CM.gtM(O6.A98);i.ZB88(s)},t}(BaseEuiView);__reflect(AwyAutonymView.prototype,"AwyAutonymView");var AwyBindPhoneView=function(s){function t(t,e){var i=s.call(this,t,e)||this;return i.skinName=AwyAutonymSkin,i}return __extends(t,s),t.prototype.initUI=function(){s.prototype.initUI.call(this),this.listContent.itemRenderer=ItemIcon,this.dataSource=new eui.ArrayCollection,this.listContent.dataProvider=this.dataSource,this.awardsSc.viewport=this.listContent,this.awardsSc.scrollPolicyH=eui.ScrollPolicy.OFF,this.awardsSc.scrollPolicyV=eui.ScrollPolicy.OFF,this.lblTitle.textFlow=M18.HTP.parse(O3.tr(6734)),this.buyBtn.label=O3.tr(6735)},t.prototype.initData=function(){s.prototype.initData.call(this)},t.prototype.open=function(){this.buyBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.getAward,this),this.closeBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.closePage,this),this.bgMask.addEventListener(egret.TouchEvent.TOUCH_TAP,this.closePage,this),this.GX5()},t.prototype.uBM=function(t,e){s.prototype.uBM.call(this,t),t instanceof TD85&&(0==t.tm?1==t.state?this.buyBtn.label=O3.tr(6735):this.buyBtn.label=O3.tr(6733):(this.buyBtn.visible=!1,this.getImg.visible=!0))},t.prototype.GX5=function(){this.showAward(K18.init.awyNumberReward.value)},t.prototype.getAward=function(){1==App.CM.gtM(O6.A98).state?this.apF(F9.A11):this.apF(F9.A3)},t.prototype.showAward=function(t){var e=M18.FL28(t,";"),i=[];for(var s in e){var o=M18.FL28(e[s],":"),r={itemData:{data:N12.gID(o[0]),ct:o[1]},isBottom:!0};i.push(r)}this.dataSource.replaceAll(i)},t.prototype.closePage=function(){App.VM.close(O7.F35)},t.prototype.close=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.listContent=null,this.awardsSc=null,this.getImg=null,this.dataSource.removeAll(),this.buyBtn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.getAward,this),this.closeBtn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.closePage,this),this.bgMask.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.closePage,this);var i=App.VM.gOV(O7.I64),s=App.CM.gtM(O6.A98);i.ZB88(s)},t}(BaseEuiView);__reflect(AwyBindPhoneView.prototype,"AwyBindPhoneView");var InspireView=function(s){function t(t,e){var i=s.call(this,t,e)||this;return i.skinName=InspireSkin,i}return __extends(t,s),t.prototype.initUI=function(){s.prototype.initUI.call(this),this.listContent.itemRenderer=ItemIcon,this.dataSource=new eui.ArrayCollection,this.listContent.dataProvider=this.dataSource,this.awardsSc.viewport=this.listContent,this.awardsSc.scrollPolicyH=eui.ScrollPolicy.OFF,this.awardsSc.scrollPolicyV=eui.ScrollPolicy.OFF,this.dlg.ZM69(this.closePage,this),this.dlg.setOKHandler(this.onClick,this),this.dlg.ZQ14(this.closePage,this),this.dlg.strBtnOK=O3.tr(7057),this.dlg.title=O3.tr(7300),this.lbStr2.textFlow=M18.HTP.parse(O3.tr(7162)),this.lbStr0.textFlow=M18.HTP.parse(O3.tr(7163))},t.prototype.initData=function(){s.prototype.initData.call(this)},t.prototype.open=function(){this.GX5()},t.prototype.GX5=function(){this.showAward(K18.init.videoAdvertising.value)},t.prototype.showAward=function(t){var e=App.CM.gtM(O6.B82),i=M18.FL28(t,"-"),s=M18.FL28(i[1],"|"),o=[];for(var r in s){var n=M18.FL28(s[r],",");if(n[0]==e.currentWatch){var a=M18.FL28(n[1],";");for(var h in a){var p=M18.FL28(a[h],":"),l={itemData:{data:N12.gID(p[0]),ct:p[1]},isBottom:!1};o.push(l)}}}this.dataSource.replaceAll(o),this.lbStr1.textFlow=M18.HTP.parse(O3.tr(7164,Number(i[0])-e.watchCount))},t.prototype.closePage=function(){App.VM.close(O7.I55)},t.prototype.onClick=function(){if(platform instanceof EnglishPlatform){App.CM.apF(O6.A98,F9.A12,20);var t=App.CM.gtM(O6.B82),e=App.CM.gtM(O6.B97),i=platform,s={uname:window.sdkuser.uname,server_id:e.lastServer.id,role_id:t.avatarInfo.id,params:{}};i.admobOpen(s,this.receiveAward,this)}},t.prototype.receiveAward=function(){App.CM.apF(O6.A98,F9.A9)},t.prototype.close=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];s.prototype.close.call(this,t)},t}(BaseEuiView);__reflect(InspireView.prototype,"InspireView");var G11=function(){function e(){}return e.FK35=function(t){e.init=t.share_init,e.share_everwd=t.share_everwd,e.share_accrwd=t.share_accrwd,e.share_invitrwd=t.share_invitrwd,e.share_invitlvrwd=t.share_invitlvrwd},e}();__reflect(G11.prototype,"G11");var G18=function(){function t(){}return t.A5=10001,t.A6=10002,t.A9=10003,t.A7=10004,t.A8=10005,t.A1=10006,t.A2=10007,t.A3=10008,t.A4=10009,t}();__reflect(G18.prototype,"G18");var TB74=function(i){function t(){var t=i.call(this)||this;App.VM.register(O7.HH26,"AwyInviteView",t,K17.UI_Main_TOP),App.VM.register(O7.D87,"AwyFirstShareView",t,K17.UI_Main_TOP),t.awyInviteProxy=new TE59(t);var e=new TE58(t);return e.aLV(O7.HH26),e.aLV(O7.D87),e.aLV(O7.HH30),t.rgF(G18.A5,t.GHH16,t),t.rgF(G18.A6,t.GHH17,t),t.rgF(G18.A9,t.GQ43,t),t.rgF(G18.A7,t.GI91,t),t.rgF(G18.A8,t.GI92,t),t.rgF(G18.A1,t.GD34,t),t.rgF(G18.A2,t.GD35,t),t.rgF(G18.A3,t.GD36,t),t.rgF(G18.A4,t.GD37,t),t}return __extends(t,i),t.prototype.GHH16=function(){return this.awyInviteProxy.GHH16()},t.prototype.GHH17=function(t){if(200==t.head.state){var e=this.gtM();e.ZN43(t.body),e.getIsRead(),e.notify()}else App.CM.apF(O6.B87,L10.A4,t)},t.prototype.GQ43=function(){var t=this;platform.invite(function(){t.awyInviteProxy.GI91()},this)},t.prototype.GI91=function(){this.awyInviteProxy.GI91()},t.prototype.GI92=function(t){if(200==t.head.state){var e=this.gtM();e.setCd(t.body.cd),e.fs=t.body.fi,e.evs=t.body.ev,e.getIsRead(),e.notify()}else App.CM.apF(O6.B87,L10.A4,t)},t.prototype.GD34=function(){this.awyInviteProxy.GD34()},t.prototype.GD35=function(t){if(200==t.head.state){var e=this.gtM();e.fs=t.body.fi,P5.sIs(t.body.ob),e.getIsRead(),e.notify()}else App.CM.apF(O6.B87,L10.A4,t)},t.prototype.GD36=function(t){var e={id:t};this.awyInviteProxy.GD36(e)},t.prototype.GD37=function(t){if(200==t.head.state){var e=this.gtM();e.evtk=t.body.evt,e.getIsRead(),P5.sIs(t.body.ob),e.notify()}else App.CM.apF(O6.B87,L10.A4,t)},t}(TE11);__reflect(TB74.prototype,"TB74");var TE58=function(e){function t(t){return e.call(this,t)||this}return __extends(t,e),t.prototype.initData=function(t){this.cd=t},t.prototype.getCd=function(){var t;return(t=this.cd-(P6.getTime(!0)-this.lastRefreshTime))<0?0:t},t.prototype.setCd=function(t){this.cd=t,this.lastRefreshTime=P6.getTime(!0)},t.prototype.ZN43=function(t){this.fs=t.fi,this.evs=t.ev,this.evtk=t.evt,this.lastRefreshTime=P6.getTime(!0)},t.prototype.getIsRead=function(){2===this.fs?this.isRead=this.evs!=this.evtk.length:this.isRead=!0},t.prototype.ZA96=function(){var t=!1,e=App.CM.gtM(O6.B82).avatarInfo,i=G11.init.unlockLv.value;if(e.l<i)return t;for(var s in G11.share_everwd){var o=G11.share_everwd[s];if(-1===this.evtk.indexOf(o.id)&&this.evs>=o.times)return t=!0}return t},t.prototype.ZA97=function(){var t=App.CM.gtM(O6.B82).avatarInfo,e=G11.init.unlockLv.value;if(t.l<e)return!1;for(var i in G11.share_accrwd)G11.share_accrwd[i];return!1},t.prototype.ZB66=function(){var t=App.CM.gtM(O6.B82).avatarInfo,e=G11.init.unlockLv.value;if(t.l<e)return!1;for(var i in G11.share_invitrwd){G11.share_invitrwd[i];return!1}return!1},t.prototype.ZC31=function(){var t=App.CM.gtM(O6.B82).avatarInfo,e=G11.init.unlockLv.value;if(t.l<e)return!1;for(var i in G11.share_invitlvrwd){G11.share_invitlvrwd[i];0}return!1},t.prototype.ZB31=function(){var t=!1,e=App.CM.gtM(O6.B82).avatarInfo,i=G11.init.unlockLv.value;return e.l<i?t:t=!0},t.prototype.notify=function(t){e.prototype.notifyView.call(this,this,t)},t}(TG79);__reflect(TE58.prototype,"TE58");var TE59=function(i){function t(t){var e=i.call(this,t)||this;return e.rSM(P4.M53,e.GI92,e),e.rSM(P4.E21,e.GD35,e),e.rSM(P4.E23,e.GD37,e),e}return __extends(t,i),t.prototype.GI91=function(){var t={type:P4.M52,body:{}};this.sSM(t)},t.prototype.GI92=function(t){this.apF(G18.A8,t)},t.prototype.GHH16=function(){var s=this;return new Promise(function(e,t){var i={type:P4.K38,body:{}};s.rSMO(P4.K39,function(t){s.apF(G18.A6,t),e("加载邀请信息完成")},s),s.sSM(i)})},t.prototype.GD34=function(){var t={type:P4.E20,body:{}};this.sSM(t)},t.prototype.GD35=function(t){this.apF(G18.A2,t)},t.prototype.GD36=function(t){var e={type:P4.E22,body:t};this.sSM(e)},t.prototype.GD37=function(t){this.apF(G18.A4,t)},t}(TG80);__reflect(TE59.prototype,"TE59");var AwyInviteItem=function(h){function t(){var t=h.call(this)||this;return t.addEventListener(egret.Event.ADDED_TO_STAGE,t.open,t),t.addEventListener(egret.Event.REMOVED_FROM_STAGE,t.close,t),t}return __extends(t,h),t.prototype.open=function(){this.btnGet.addEventListener(egret.TouchEvent.TOUCH_TAP,this.ZK36,this)},t.prototype.close=function(){this.btnGet.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.ZK36,this)},t.prototype.ZK36=function(){App.CM.apF(O6.B15,G18.A3,this.data.id)},t.prototype.dataChanged=function(){if(h.prototype.dataChanged.call(this),this.shareTip&&this.data.shareTip&&(this.shareTip.text=this.data.shareTip),this.shareAward&&this.data.award){for(var t=this.data.award.split(";"),e=new eui.ArrayCollection,i=0;i<t.length;i++){var s=t[i].split(":")[0],o=t[i].split(":")[1],r=N12.gID(s),n={};n.data=r,n.ct=Number(o);var a={};a.itemData=n,a.isBottom=!1,e.addItem(a)}this.shareAward.dataProvider=e,this.shareAward.itemRenderer=ItemIcon}this.btnGet&&(this.btnGet.visible=!0,0==this.data.state?(this.btnGet.filters=[THH23.colorFlilter],this.btnGet.touchEnabled=!1,this.btnGet.label=O3.tr(5917),this.btnGet.imgNew.visible=!1):1==this.data.state?(this.btnGet.filters=[],this.btnGet.touchEnabled=!0,this.btnGet.label=O3.tr(5918),this.btnGet.imgNew.visible=!0):this.btnGet.visible=!1),this.hasGet&&(this.hasGet.visible=2==this.data.state)},t.prototype.partAdded=function(t,e){h.prototype.partAdded.call(this,t,e),this.data},t}(eui.ItemRenderer);__reflect(AwyInviteItem.prototype,"AwyInviteItem");var AwyFirstShareView=function(s){function t(t,e){var i=s.call(this,t,e)||this;return i.skinName="WxFirstShareSkin",i}return __extends(t,s),t.prototype.initUI=function(){s.prototype.initUI.call(this),this.shareLb.text="首次邀请  送绝版武将"},t.prototype.initData=function(){s.prototype.initData.call(this),this.collection=new eui.ArrayCollection,this.awards.dataProvider=this.collection,this.awards.itemRenderer=ItemIcon},t.prototype.open=function(t){s.prototype.open.call(this),this.bgMask.addEventListener(egret.TouchEvent.TOUCH_TAP,this.closeSelf,this),this.closeBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.closeSelf,this),this.shareBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.doBtnClick,this),this.updateAwards(),this.upateBtn(),this.aCF(O6.C20,K2.A1,22)},t.prototype.updateAwards=function(){var t=G11.init.firstReward.value,e=new Array;if(t&&0<t.split(";").length){for(var i=t.split(";"),s=0;s<i.length;s++){var o=i[s].split(":")[0],r=i[s].split(":")[1],n=N12.gID(o),a={};a.data=n,a.ct=Number(r);var h={};h.itemData=a,h.isBottom=!1,e.push(h)}this.collection.replaceAll(e)}},t.prototype.upateBtn=function(){var t=App.CM.gtM(O6.B15);this.shareBtn.visible=!0,0===t.fs?(this.shareBtn.label=O3.tr(3106),this.shareBtn.imgNew.visible=!1):1===t.fs?(this.shareBtn.label=O3.tr(3107),this.shareBtn.imgNew.visible=!0):this.shareBtn.visible=!1},t.prototype.uBM=function(t,e){s.prototype.uBM.call(this,t,e),t instanceof TE58&&(this.upateBtn(),e===P4.I66&&this.closeSelf())},t.prototype.close=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];s.prototype.close.call(this),this.bgMask.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.closeSelf,this),this.closeBtn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.closeSelf,this),this.shareBtn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.doBtnClick,this),this.collection.removeAll()},t.prototype.doBtnClick=function(){var t=App.CM.gtM(O6.B15);if(0===t.fs)this.doShare();else{if(1!==t.fs)return;this.ZV30()}},t.prototype.doShare=function(){this.apF(G18.A9)},t.prototype.ZV30=function(){this.apF(G18.A1)},t.prototype.closeSelf=function(){App.VM.close(O7.D87)},t}(BaseEuiView);__reflect(AwyFirstShareView.prototype,"AwyFirstShareView");var Boatrace,AwyInviteView=function(s){function t(t,e){var i=s.call(this,t,e)||this;return i.skinName=AwyInviteSkin,i}return __extends(t,s),t.prototype.initUI=function(){s.prototype.initUI.call(this),this.shareBtn.label=O3.tr(4946)},t.prototype.initData=function(){s.prototype.initData.call(this),this.collection=new eui.ArrayCollection,this.awardList.dataProvider=this.collection,this.awardList.itemRenderer=AwyInviteItem},t.prototype.open=function(t){s.prototype.open.call(this),this.bgMask.addEventListener(egret.TouchEvent.TOUCH_TAP,this.closeSelf,this),this.closeBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.closeSelf,this),this.shareBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.doBtnClick,this),this.awardScroller.addEventListener(eui.UIEvent.CHANGE_END,this.endScroller,this),this.upArrow.addEventListener(egret.TouchEvent.TOUCH_TAP,this.doUpArrow,this),this.downArrow.addEventListener(egret.TouchEvent.TOUCH_TAP,this.doDownArrow,this),this.shareWord.source="v1_bg_haoyoufxwenzi1_png",this.ZR14(),this.updateAwards(),this.ZV31(),this.endScroller()},t.prototype.ZR14=function(){var t=G11.init.dailyShareLimit.value,e=App.CM.gtM(O6.B15);this.shareTimeLb.textFlow=M18.HTP.parser(O3.tr(3108,e.evs,t))},t.prototype.updateAwards=function(){var t=new Array,e=App.CM.gtM(O6.B15),i=e.evs,s=e.evtk||[];for(var o in G11.share_everwd){var r=G11.share_everwd[o],n={};n.id=r.id,n.shareTip=O3.tr(3115,r.times),n.award=r.reward,n.times=r.times,-1!==s.indexOf(r.id)?n.state=2:i>=r.times?n.state=1:n.state=0,t.push(n)}t.sort(this.sortAward),this.collection.replaceAll(t)},t.prototype.sortAward=function(t,e){var i={1:1,0:2,2:3};return i[t.state]<i[e.state]?-1:i[t.state]==i[e.state]&&t.times<e.times?-1:1},t.prototype.ZV31=function(){var t=App.CM.gtM(O6.B15);if(this.shareCD=t.getCd(),this.shareCD<=0)this.shareCdLb.visible=!1;else{this.shareCdLb.visible=!0;var e=P6.FJ11(1e3*this.shareCD,3);600<this.shareCD?this.shareCdLb.textFlow=M18.HTP.parser(O3.tr(3109,e)):this.shareCdLb.textFlow=M18.HTP.parser(O3.tr(3116,e)),this.cdTimer=App.K16.doTimer(1e3,this.shareCD,this.refreshCdTip,this,this.ZV31,this)}N12.gID(75009),N12.giC(75009)},t.prototype.refreshCdTip=function(){App.CM.gtM(O6.B15);this.shareCD--;var t=P6.FJ11(1e3*this.shareCD,3);600<this.shareCD?this.shareCdLb.textFlow=M18.HTP.parser(O3.tr(3109,t)):this.shareCdLb.textFlow=M18.HTP.parser(O3.tr(3116,t))},t.prototype.endScroller=function(){this.awardScroller.validateNow(),this.upArrow.visible=!(this.awardScroller.viewport.scrollV<=0),this.awardScroller.viewport.contentHeight<=this.awardScroller.height?this.downArrow.visible=!1:this.awardScroller.height+this.awardScroller.viewport.scrollV>=this.awardScroller.viewport.contentHeight?this.downArrow.visible=!1:this.downArrow.visible=!0},t.prototype.doUpArrow=function(){var t=this.awardScroller.viewport.scrollV-415;this.awardScroller.viewport.scrollV=t<0?0:t,this.endScroller()},t.prototype.doDownArrow=function(){var t=this.awardScroller.viewport.scrollV+415;t+this.awardScroller.height>=this.awardScroller.viewport.contentHeight?this.awardScroller.viewport.scrollV=this.awardScroller.viewport.contentHeight-this.awardScroller.height:this.awardScroller.viewport.scrollV=t,this.endScroller()},t.prototype.uBM=function(t,e){s.prototype.uBM.call(this,t,e),t instanceof TE58&&(this.ZR14(),this.updateAwards(),this.ZV31(),this.endScroller())},t.prototype.close=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];s.prototype.close.call(this),this.bgMask.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.closeSelf,this),this.closeBtn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.closeSelf,this),this.shareBtn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.doBtnClick,this),this.awardScroller.removeEventListener(eui.UIEvent.CHANGE_END,this.endScroller,this),this.upArrow.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.doUpArrow,this),this.downArrow.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.doDownArrow,this),this.cdTimer&&(App.K16.rBH(this.cdTimer),this.cdTimer=null)},t.prototype.doBtnClick=function(){0<App.CM.gtM(O6.B15).getCd()?P18.sDP(O3.tr(7089)):this.apF(G18.A9)},t.prototype.closeSelf=function(){App.VM.close(O7.HH26)},t}(BaseEuiView);__reflect(AwyInviteView.prototype,"AwyInviteView"),function(r){var t=function(){function n(){}return n.FK35=function(t){var e=t.dragonboat_init,i=t.dragonboat_skill,s=(t.dragonboat_map,t.dragonboat_rank1),o=t.dragonboat_rank2;n.mapA=e.mapA.value.split(",").map(function(t){return parseInt(t)}),n.mapB=e.mapB.value.split(",").map(function(t){return parseInt(t)}),n.mapC=e.mapC.value.split(",").map(function(t){return parseInt(t)}),n.speed=parseFloat(e.speed.value),n.directionCD=parseFloat(e.directionCD.value),n.skillCD=parseFloat(e.skillCD.value),n.openTime=parseInt(e.openDay.value),n.skill=i,n.rank2=o,n.angleCoor=e.angleCoor.value.split(":").map(function(t){return parseInt(t)}),n.help=e.help.value,n.boatTime=e.boatTime.value,n.returnTime=parseFloat(e.returnTime.value),n.boatLv=parseFloat(e.boatLv.value),n.groupSize=parseFloat(e.groupSize.value),n.rankNum=parseFloat(e.rankNum.value),n.boatDay=parseFloat(e.boatDay.value),n.boatVolume=e.boatVolume.value.split(",").map(function(t){return parseInt(t)}),e.finishCoo.value.split(",").forEach(function(t){return t.split(":").forEach(function(t){return n.finishCoo.push(parseInt(t))})}),e.starCoo.value.split(",").forEach(function(t){return t.split(":").forEach(function(t){return n.starCoo.push(parseInt(t))})}),n.finishPoint=[r.Config.finishCoo[0]+(r.Config.finishCoo[2]-r.Config.finishCoo[0])/2,r.Config.finishCoo[1]+(r.Config.finishCoo[3]-r.Config.finishCoo[1])/2],n.startPoint=[r.Config.starCoo[0]+(r.Config.starCoo[2]-r.Config.starCoo[0])/2,r.Config.starCoo[1]+(r.Config.starCoo[3]-r.Config.starCoo[1])/2],this.initRankData(s),this.doubleTime=this.ZV6()},n.ZV6=function(){var t={};if(!this.boatTime)return t;var e=P7.copyTab(this.boatTime).split(",");return t={pt:P6.FM3(e[0]),vt:P6.FM3(e[1])}},n.initRankData=function(t){for(var e in t){var i=t[e],s=P7.str2kv1(i.rank,","),o=s.k,r=s.v;n.singleRankData.push({section:[o,r],award:P7.str2kv(i.award)})}},n.FB53=function(t){for(var e=0,i=this.singleRankData;e<i.length;e++){var s=i[e];if(t>=s.section[0]&&t<=s.section[1])return s.award}return[]},n.FB54=function(t){return n.rank2[t]?P7.str2kv(n.rank2[t].award):[]},n.openLv=255,n.openDay=255,n.speed=0,n.skill={},n.singleRankData=[],n.rank2={},n.angleCoor=[0,0],n.directionCD=15,n.skillCD=15,n.returnTime=255,n.boatVolume=[0,0],n.boatTime="",n.boatLv=255,n.boatDay=255,n.finishCoo=[],n.starCoo=[],n.finishPoint=[],n.startPoint=[],n.rankNum=0,n.groupSize=0,n}();r.Config=t,__reflect(t.prototype,"Boatrace.Config")}(Boatrace||(Boatrace={})),function(t){var e=function(){function t(){}return t.OpenMainView=100001,t.CloseMainView=100002,t.OpenTeamView=100003,t.CloseTeamView=100004,t.Exit=100005,t.SELECT_BOAT=100007,t.USE_SKILL=100008,t.LOAD_STATE_REQ=200001,t.LOAD_STATE_RES=200002,t.LOAD_DATA_REQ=200003,t.LOAD_DATA_RES=200004,t.LOAD_TEAM_REQ=200005,t.LOAD_TEAM_RES=200006,t.CREATE_TEAM_REQ=200007,t.CREATE_TEAM_RES=200008,t.JOIN_TEAM_REQ=200009,t.JOIN_TEAM_RES=200010,t.LEAVE_TEAM_REQ=200011,t.LEAVE_TEAM_RES=200012,t.DISMISSION_TEAM_REQ=200013,t.DISMISSION_TEAM_RES=200014,t.TEAM_PUSH=200016,t.START_REQ=200017,t.START_RES=200018,t.GAME_PUSH=200020,t.TURN_REQ=200021,t.TURN_RES=200022,t.RANDMON_SKILL_REQ=200023,t.RANDMON_SKILL_RES=200024,t.GAME_RESULT_PUSH=200026,t.GET_REWARD_REQ=200027,t.GET_REWARD_RES=200028,t.GAME_EXIT_REQ=200029,t.GAME_EXIT_RES=200030,t.LOAD_SERVER_RANK_REQ=200031,t.LOAD_SERVER_RANK_RES=200032,t.LOAD_SINGLE_RANK_REQ=200033,t.LOAD_SINGLE_RANK_RES=200034,t.STATE_PUSH=200036,t.USE_SKILL_REQ=200037,t.USE_SKILL_RES=200038,t.TURN_TIPS_PUSH=200040,t}();t.Const=e,__reflect(e.prototype,"Boatrace.Const")}(Boatrace||(Boatrace={})),function(o){var t=function(s){function t(){var t=s.call(this)||this;App.VM.register(O7.F32,"BoatraceMainView",t,K17.Fight),t.rgF(o.Const.OpenMainView,t.GT93,t),t.rgF(o.Const.CloseMainView,t.GR99,t),App.VM.register(O7.F33,"BoatraceTeamView",t,K17.Fight),t.rgF(o.Const.OpenTeamView,t.GU19,t),t.rgF(o.Const.CloseTeamView,t.GS40,t),App.VM.register(O7.D59,"BoatraceMyTeamView",t,K17.Fight),App.VM.register(O7.D60,"BoatraceResultView",t,K17.UI_Popup),App.VM.register(O7.C8,"BoatraceRankBaseView",t,K17.UI_Popup),t.rgF(o.Const.Exit,t.GU22,t);var e=new o.Model(t);e.aLV(O7.F32),e.aLV(O7.F33),e.aLV(O7.D59),e.aLV(O7.D60),e.aLV(O7.C8),e.aLV(O7.F34),e.aLV(O7.B3),e.aLV(O7.I85),e.aLV(O7.D89);var i=new o.Proxy(t);return t.rgF(o.Const.LOAD_DATA_REQ,i.loadData,i),t.rgF(o.Const.LOAD_DATA_RES,t.GV70,t),t.rgF(o.Const.LOAD_STATE_REQ,i.loadState,i),t.rgF(o.Const.LOAD_STATE_RES,t.GU20,t),t.rgF(o.Const.STATE_PUSH,t.GY21,t),t.rgF(o.Const.LOAD_TEAM_REQ,i.teamLoad,i),t.rgF(o.Const.LOAD_TEAM_RES,t.GV71,t),t.rgF(o.Const.JOIN_TEAM_REQ,i.teamJoin,i),t.rgF(o.Const.JOIN_TEAM_RES,t.GV72,t),t.rgF(o.Const.DISMISSION_TEAM_REQ,i.ZV32,i),t.rgF(o.Const.DISMISSION_TEAM_RES,t.GK98,t),t.rgF(o.Const.LEAVE_TEAM_REQ,i.teamLeave,i),t.rgF(o.Const.LEAVE_TEAM_RES,t.GU21,t),t.rgF(o.Const.CREATE_TEAM_REQ,i.teamCreate,i),t.rgF(o.Const.CREATE_TEAM_RES,t.GS41,t),t.rgF(o.Const.TEAM_PUSH,t.teamPush,t),t.rgF(o.Const.START_REQ,i.start,i),t.rgF(o.Const.START_RES,t.startRes,t),t.rgF(o.Const.GAME_PUSH,t.gamePush,t),t.rgF(o.Const.TURN_REQ,i.turn,i),t.rgF(o.Const.TURN_RES,t.turnRes,t),t.rgF(o.Const.RANDMON_SKILL_REQ,i.randomSkill,i),t.rgF(o.Const.RANDMON_SKILL_RES,t.GQ44,t),t.rgF(o.Const.GAME_RESULT_PUSH,t.GS42,t),t.rgF(o.Const.GET_REWARD_REQ,i.FL67,i),t.rgF(o.Const.GET_REWARD_RES,t.GT91,t),t.rgF(o.Const.GAME_EXIT_REQ,i.exit,i),t.rgF(o.Const.GAME_EXIT_RES,t.exitRes,t),t.rgF(o.Const.USE_SKILL_REQ,i.useSkill,i),t.rgF(o.Const.USE_SKILL_RES,t.GV73,t),t.rgF(o.Const.LOAD_SINGLE_RANK_REQ,i.ZR17,i),t.rgF(o.Const.LOAD_SINGLE_RANK_RES,t.GK99,t),t.rgF(o.Const.LOAD_SERVER_RANK_REQ,i.ZR16,i),t.rgF(o.Const.LOAD_SERVER_RANK_RES,t.GL1,t),t.rgF(o.Const.TURN_TIPS_PUSH,t.GU23,t),t}return __extends(t,s),Object.defineProperty(t.prototype,"model",{get:function(){return this.gtM()},enumerable:!0,configurable:!0}),t.prototype.GT93=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.model.inMap?this.enter():this.apF(o.Const.LOAD_DATA_REQ)},t.prototype.GR99=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.apF(o.Const.GAME_EXIT_REQ)},t.prototype.GU19=function(){App.VM.open(O7.F33)},t.prototype.GS40=function(){App.VM.close(O7.F33)},t.prototype.GU20=function(t){200==t.head.state?this.model.update(t.body):App.CM.apF(O6.B87,L10.A4,t)},t.prototype.GV70=function(t){if(200==t.head.state){this.model.update(t.body);var e=this.model.ncd;0<e?P18.sDP(O3.tr(605,e)):App.VM.gOV(O7.F32)||(this.model.notify(t.head.protoType),this.enter()),o.Utils.FHH98()}else App.CM.apF(O6.B87,L10.A4,t)},t.prototype.GV71=function(t){200==t.head.state?this.model.update(t.body):App.CM.apF(O6.B87,L10.A4,t)},t.prototype.GS41=function(t){if(200==t.head.state){this.model.update(t.body);var e=P7.FF60(),i={nid:F8.A5,channelId:e,param:"",infoId:O4.getAid()};App.CM.apF(O6.C13,O12.A13,i)}else App.CM.apF(O6.B87,L10.A4,t)},t.prototype.GV72=function(t){200==t.head.state?this.model.update(t.body):App.CM.apF(O6.B87,L10.A4,t)},t.prototype.GK98=function(t){200==t.head.state?this.model.update(t.body):App.CM.apF(O6.B87,L10.A4,t)},t.prototype.GU21=function(t){200==t.head.state?(this.model.mt=[],this.model.tl=[],this.model.update(t.body),this.apF(o.Const.LOAD_TEAM_REQ)):App.CM.apF(O6.B87,L10.A4,t)},t.prototype.teamPush=function(t){200==t.head.state?(t.body.tl&&(this.model.mt=[]),this.model.update(t.body)):App.CM.apF(O6.B87,L10.A4,t)},t.prototype.startRes=function(t){200==t.head.state?this.model.update(t.body,t.head.protoType):App.CM.apF(O6.B87,L10.A4,t)},t.prototype.gamePush=function(t){if(200==t.head.state){var e,i=[];if(t.body.cb&&t.body.cb.tf)i=[o.Const.USE_SKILL,t.body.cb.tid,t.body.cb.tf];else if(t.body.rm||t.body.rl)i=[P4.W88];else if(t.body.f){var s=App.VM.gOV(O7.F32);s&&s.ZN46()}(e=this.model).update.apply(e,[t.body].concat(i))}else App.CM.apF(O6.B87,L10.A4,t)},t.prototype.turnRes=function(t){200==t.head.state?this.model.update(t.body,t.head.protoType):App.CM.apF(O6.B87,L10.A4,t)},t.prototype.GQ44=function(t){200==t.head.state?this.model.update(t.body):App.CM.apF(O6.B87,L10.A4,t)},t.prototype.GS42=function(t){200==t.head.state?(this.apF(o.Const.LEAVE_TEAM_REQ),App.VM.open(O7.D60,t.body)):App.CM.apF(O6.B87,L10.A4,t)},t.prototype.GT91=function(t){200==t.head.state?(this.model.update(t.body,t.head.protoType),P5.sIs(t.body.ob)):App.CM.apF(O6.B87,L10.A4,t)},t.prototype.enter=function(){App.VM.ZT95(),App.SceneManager.runScene(M2.A4),App.VM.setAutoClose(O7.I76,!0),App.VM.close(O7.I76),App.VM.setAutoClose(O7.F32,!1),App.VM.open(O7.F32),App.VM.setAutoClose(O7.F33,!1),App.VM.open(O7.F33),App.VM.setAutoClose(O7.D59,!1),App.VM.open(O7.D59,!0),this.model.inMap=!0},t.prototype.GU22=function(){App.VM.gOV(O7.F32)&&(App.VM.setAutoClose(O7.F32,!0),App.VM.close(O7.F32),App.VM.setAutoClose(O7.F33,!0),App.VM.close(O7.F33),App.VM.setAutoClose(O7.D59,!0),App.VM.close(O7.D59),App.VM.setAutoClose(O7.I76,!1),App.CM.gtM(O6.B99).fightSceneType=I4.A8,App.SceneManager.runScene(M2.A5));this.model.inMap=!1},t.prototype.exitRes=function(t){200==t.head.state?(this.model.update(t.body,t.head.protoType),this.GU22()):App.CM.apF(O6.B87,L10.A4,t)},t.prototype.GK99=function(t){200==t.head.state?this.model.notify(t.head.protoType,t.body):App.CM.apF(O6.B87,L10.A4,t)},t.prototype.GL1=function(t){200==t.head.state?this.model.notify(t.head.protoType,t.body):App.CM.apF(O6.B87,L10.A4,t)},t.prototype.GY21=function(t){200==t.head.state?(this.model.update(t.body),t.body.st<1&&this.GU22(),o.Utils.FHH98()):App.CM.apF(O6.B87,L10.A4,t)},t.prototype.GV73=function(t){200==t.head.state?this.model.update(t.body):App.CM.apF(O6.B87,L10.A4,t)},t.prototype.GU23=function(t){if(200==t.head.state){var e=t.body,i=e.n,s=e.d;P18.sDP(i+":"+O3.tr(1==s?6797:6798))}else App.CM.apF(O6.B87,L10.A4,t)},t}(TE11);o.Controller=t,__reflect(t.prototype,"Boatrace.Controller")}(Boatrace||(Boatrace={})),function(t){var e=function(i){function t(t){var e=i.call(this,t)||this;return e.st=-1,e._cd=0,e._rcd=0,e._ncd=0,e.tl=[],e.mt=[],e.brl=[],e.rl=[],e.mn=[0,0,0],e.bls={},e.running=!1,e.isShow=!1,e.boatTimedifference={},e.rcdTd=0,e.cdTd=0,e.ncdTd=0,e.inMap=!1,e.chatWordDatacms=[],e.chatAllDatacms=[],e}return __extends(t,i),t.prototype.update=function(t){for(var e=this,i=[],s=1;s<arguments.length;s++)i[s-1]=arguments[s];if(t){var o=t.st,r=t.cd,n=t.rcd,a=t.cms,h=t.ncd,p=t.tl,l=t.mt,c=t.bl,u=t.brl,d=t.rl,v=t.rb,f=t.cb,g=t.mn,m=t.rm;if(this.st=void 0===o?this.st:o,this._cd=void 0===r?this._cd:r,this._rcd=void 0===n?this._rcd:n,this._ncd=void 0===h?this._ncd:h,c&&(this.bls={},c.forEach(function(t){return e.bls[t.tid]=new C(t)})),this.brl=void 0===u?this.brl:u,this.rl=void 0===d?this.rl:d,this.mt=void 0===l?this.mt:l,this.tl=void 0===p?this.tl:p,this.mn=void 0===g?this.mn:g,n&&(this.rcdTd=P6.getTime()),r&&(this.cdTd=P6.getTime()),h&&(this.ncdTd=P6.getTime()),a&&(this.chatAllDatacms=[],this.chatWordDatacms=[],a.forEach(function(t){t.chan===P9.A7&&e.ZK37(t),e.ZR15(t)})),c)for(var y=0,A=c;y<A.length;y++){var b=A[y];this.boatTimedifference[b.tid]=P6.getTime()}if(f&&(this.bls[f.tid]?this.bls[f.tid].update(f):this.bls[f.tid]=new C(f)),v&&this.bls[v]&&delete this.bls[v],m)for(var T=this.rl.length-1;0<=T;T--)this.rl[T].x===m.x&&this.rl[T].y===m.y&&this.rl.splice(T,1);this.running=0<this.mt.length&&!!this.getBoatByTid(this.mt[0].aid),this.notify.apply(this,i)}},t.prototype.getBoatByTid=function(t){return this.bls[t]},t.prototype.getMyBoat=function(){if(this.running)return this.getBoatByTid(this.mt[0].aid)},Object.defineProperty(t.prototype,"rcd",{get:function(){return Math.max(0,Math.floor(this._rcd-(P6.getTime()-this.rcdTd)/1e3))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"cd",{get:function(){return Math.max(0,Math.floor(this._cd-(P6.getTime()-this.cdTd)/1e3))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ncd",{get:function(){return Math.max(0,Math.floor(this._ncd-(P6.getTime()-this.ncdTd)/1e3))},enumerable:!0,configurable:!0}),t.prototype.ZR15=function(t){this.chatAllDatacms.push(t);var e=this.chatAllDatacms.length,i=N18.FC83(P9.A12).recordcount;i<e&&this.chatAllDatacms.splice(0,e-i)},t.prototype.ZK37=function(t){this.chatWordDatacms.push(t);var e=this.chatWordDatacms.length,i=N18.FC83(P9.A7).recordcount;i<e&&this.chatWordDatacms.splice(0,e-i)},t.prototype.notify=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];i.prototype.notifyView.apply(this,[this].concat(t))},t}(TG79);t.Model=e,__reflect(e.prototype,"Boatrace.Model");var C=function(){function t(t){this.timedifference=0,this.skillTimedifference=0,this.trtf=0,this.stf=0,this.update(t)}return t.prototype.update=function(t){for(var e in t)"tf"!==e&&(this[e]=t[e]);t.trcd&&(this.trtf=P6.getTime()),t.scd&&(this.stf=P6.getTime()),t.x&&(this.timedifference=P6.getTime()),(t.fcds||t.tf)&&(this.skillTimedifference=P6.getTime())},t.prototype.getSkillCD=function(){return this.scd-(P6.getTime()-this.stf)/1e3},t.prototype.getTurnCD=function(){return this.trcd-(P6.getTime()-this.trtf)/1e3},t.prototype.getTime=function(){return this.cd+P6.getTime()-this.timedifference},t.prototype.getSkillTime=function(t){if(this.fcds[t]){var e=(P6.getTime()-this.skillTimedifference)/1e3;return this.fcds[t]-e}return 0},t}();t.Boat=C,__reflect(C.prototype,"Boatrace.Boat")}(Boatrace||(Boatrace={})),function(o){var t=function(i){function t(t){var e=i.call(this,t)||this;return e.rSM(P4.S52,e.GV70,e),e.rSM(P4.P19,e.GY21,e),e.rSM(P4.HH29,e.GS41,e),e.rSM(P4.K93,e.GV72,e),e.rSM(P4.F56,e.ZK38,e),e.rSM(P4.K95,e.GU21,e),e.rSM(P4.K91,e.GV71,e),e.rSM(P4.Q86,e.teamPush,e),e.rSM(P4.J6,e.startRes,e),e.rSM(P4.W88,e.ZN44,e),e.rSM(P4.S54,e.turnRes,e),e.rSM(P4.F58,e.GQ44,e),e.rSM(P4.M93,e.ZV33,e),e.rSM(P4.J8,e.GT91,e),e.rSM(P4.S56,e.exitRes,e),e.rSM(P4.K97,e.GV73,e),e.rSM(P4.K98,e.turntipPush,e),e.rSM(P4.F62,e.GL1,e),e.rSM(P4.F60,e.GK99,e),e}return __extends(t,i),t.prototype.loadState=function(){var s=this;return new Promise(function(i,t){s.rSMO(P4.J4,function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];s.apF.apply(s,[o.Const.LOAD_STATE_RES].concat(t)),i("加载赛龙舟状态完成")},s),s.sSM({type:P4.J3,body:{}})})},t.prototype.loadData=function(){this.sSM({type:P4.S51,body:{}})},t.prototype.GV70=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.apF.apply(this,[o.Const.LOAD_DATA_RES].concat(t))},t.prototype.teamCreate=function(){this.sSM({type:P4.HH28,body:{}})},t.prototype.GS41=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.apF.apply(this,[o.Const.CREATE_TEAM_RES].concat(t))},t.prototype.teamJoin=function(t){this.sSM({type:P4.K92,body:{tid:t}})},t.prototype.GV72=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.apF.apply(this,[o.Const.JOIN_TEAM_RES].concat(t))},t.prototype.ZV32=function(t){this.sSM({type:P4.F55,body:{target:t}})},t.prototype.ZK38=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.apF.apply(this,[o.Const.DISMISSION_TEAM_RES].concat(t))},t.prototype.teamLeave=function(){this.sSM({type:P4.K94,body:{}})},t.prototype.GU21=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.apF.apply(this,[o.Const.LEAVE_TEAM_RES].concat(t))},t.prototype.teamLoad=function(){this.sSM({type:P4.K90,body:{}})},t.prototype.GV71=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.apF.apply(this,[o.Const.LOAD_TEAM_RES].concat(t))},t.prototype.teamPush=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.apF.apply(this,[o.Const.TEAM_PUSH].concat(t))},t.prototype.start=function(){this.sSM({type:P4.J5,body:{}})},t.prototype.startRes=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.apF.apply(this,[o.Const.START_RES].concat(t))},t.prototype.ZN44=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.apF.apply(this,[o.Const.GAME_PUSH].concat(t))},t.prototype.turn=function(t){this.sSM({type:P4.S53,body:{dir:t}})},t.prototype.turnRes=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.apF.apply(this,[o.Const.TURN_RES].concat(t))},t.prototype.randomSkill=function(){this.sSM({type:P4.F57,body:{}})},t.prototype.GQ44=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.apF.apply(this,[o.Const.RANDMON_SKILL_RES].concat(t))},t.prototype.ZV33=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.apF.apply(this,[o.Const.GAME_RESULT_PUSH].concat(t))},t.prototype.FL67=function(){this.sSM({type:P4.J7,body:{}})},t.prototype.GT91=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.apF.apply(this,[o.Const.GET_REWARD_RES].concat(t))},t.prototype.exit=function(){this.sSM({type:P4.S55,body:{}})},t.prototype.exitRes=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.apF.apply(this,[o.Const.GAME_EXIT_RES].concat(t))},t.prototype.ZR16=function(){this.sSM({type:P4.F59,body:{}})},t.prototype.GL1=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.apF.apply(this,[o.Const.LOAD_SERVER_RANK_RES].concat(t))},t.prototype.ZR17=function(){this.sSM({type:P4.F61,body:{}})},t.prototype.GK99=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.apF.apply(this,[o.Const.LOAD_SINGLE_RANK_RES].concat(t))},t.prototype.GY21=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.apF.apply(this,[o.Const.STATE_PUSH].concat(t))},t.prototype.useSkill=function(t){this.sSM({type:P4.K96,body:{target:t}})},t.prototype.GV73=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.apF.apply(this,[o.Const.USE_SKILL_RES].concat(t))},t.prototype.turntipPush=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.apF.apply(this,[o.Const.TURN_TIPS_PUSH].concat(t))},t}(TG80);o.Proxy=t,__reflect(t.prototype,"Boatrace.Proxy")}(Boatrace||(Boatrace={})),function(a){var t=function(){function n(){}return n.FK48=function(t){return P7.FL23(t,[60,1],[O3.tr(6761),O3.tr(6762)],function(t,e){return(t<10?"0"+t:t)+e})},n.p2r=function(t,e,i,s){var o=Math.abs(t-i),r=Math.abs(e-s),n=r/Math.sqrt(Math.pow(o,2)+Math.pow(r,2)),a=Math.acos(n),h=Math.floor(180/(Math.PI/a));return t<i&&e<s&&(h=180-h),i==t&&e<s&&(h=180),t<i&&s==e&&(h=90),i<t&&e<s&&(h=180+h),i<t&&s==e&&(h=270),i<t&&s<e&&(h=360-h),h},n.FL41=function(t){return t/180*Math.PI},n.FHH97=function(t){return 360<=t?t-=360:t<0&&(t+=360),t},n.FA57=function(){var t=a.Config.boatLv,e=App.CM.gtM(O6.B53),i=O4.getLv();if(e.inMap)return P18.sDP(O3.tr(717)),!0;if(i<t){var s=K18.init.commonDesc1.value;return P18.sDP(M18.format(s,[t])),!1}return e.st<=0?(P18.sDP(O3.tr(3205)),!1):App.CM.gtM(O6.B99).isSpFighting?(P18.sDP(O3.tr(5301)),!1):(App.CM.apF(O6.B53,a.Const.OpenMainView),!0)},n.FHH98=function(){var t=App.CM.gtM(O6.B53),e=App.CM.gtM(O6.B43),i=a.Config.boatLv,s=a.Config.boatDay,o=O4.getLv();if(!(t.inMap||o<i||t.isShow||e.serOpenDay<=s))if(1!=t.st||t.inMap){App.CM.gtM(O6.B99).fightSceneType!=I4.A8&&App.VM.close(O7.A82)}else{var r={handler:function(){return n.FA57()},str:O3.tr(6810),ctrlConst:O6.B53};App.VM.open(O7.A82,r)}},n}();a.Utils=t,__reflect(t.prototype,"Boatrace.Utils"),function(t){function a(t,e){return t.x*e.x+t.y*e.y}function h(t){var e=new egret.Point(t.x,t.y),i=Math.sqrt(e.x*e.x+e.y*e.y);return i&&(e.x/=i,e.y/=i),e}function p(t){var e=new egret.Point(t.x,t.y),i=e.x;return e.x=e.y,e.y=-i,e}function o(t,e){void 0===e&&(e=[]);var i,s=0,o=!1,r=new egret.Point,n=new egret.Point;for(i=0;i<t.length;i++){for(i>=t.length-1?(n.x=t[0].x-t[i].x,n.y=t[0].y-t[i].y):(n.x=t[i+1].x-t[i].x,n.y=t[i+1].y-t[i].y),(r=p(h(n))).x<=0&&(0==r.x?r.y<0&&(r.y*=-1):(r.x*=-1,r.y*=-1)),o=!0,s=0;s<e.length;s++)if(e[s].x==r.x&&e[s].y==r.y){o=!1;break}o&&e.push(r)}return e}function r(t,e){return t.x>e.y?0:t.y<e.x?0:(t.x,e.x,e.x,e.y,1)}function n(t,e){var i,s,o=new egret.Point,r=0;r=s=a(t[0],e);for(var n=1;n<t.length;n++)(i=a(t[n],e))<s&&(s=i),r<i&&(r=i);return o.x=s,o.y=r,o}t.sat=function(t,e){if(t.length<3||e.length<3)return 0;var i,s=[];for(s=o(e,s=o(t,s)),new egret.Point,i=0;i<s.length;i++)if(!r(n(t,s[i]),n(e,s[i])))return 0;return 1},t.dot=a,t.normalize=h,t.perp=p}(a.SAT_SIMPLE||(a.SAT_SIMPLE={}))}(Boatrace||(Boatrace={}));var BoatraceBoat=function(e){function t(){var t=e.call(this)||this;return t.type=BoatraceObjectType.Boat,t.effects=[],t.skinName="BoatraceBoatSkin",t.pl=[new egret.Point(0,0),new egret.Point(0,0),new egret.Point(0,0),new egret.Point(0,0)],t}return __extends(t,e),t.prototype.pos=function(t,e){return this.x=t,this.y=e,this},t.prototype.ZN45=function(){return this},t.prototype.destroy=function(){App.THH32.rEf(this.body,"wdsg_lz_lv_hong_001"),this.imgTouch.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClick,this),delete this.info},t.prototype.childrenCreated=function(){e.prototype.childrenCreated.call(this),this.anchorOffsetX=this.width/2,this.anchorOffsetY=this.height/2,this.imgTouch.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClick,this)},t.prototype.update=function(){this.updatePos(),this.updateEffect()},t.prototype.updatePos=function(){if(this.info){var t=Math.min(this.info.tcd,this.info.getTime());if(t>=this.info.tcd)this.x=this.info.tx,this.y=this.info.ty;else{var e=t/this.info.tcd;this.x=this.info.x+(this.info.tx-this.info.x)*e,this.y=this.info.y+(this.info.ty-this.info.y)*e}}},t.prototype.updateEffect=function(){var t=[];for(var e in this.info.fcds)0<this.info.getSkillTime(e)&&t.push(parseInt(e));for(var i=this.effects.length-1;0<=i;i--)t.indexOf(this.effects[i])<0&&this.rEf(this.effects[i])},t.prototype.set=function(t,e){this.info=t,this.pos(this.info.x,this.info.y),"number"==typeof e&&this.setBoatImage(e),this.imgTouch.rotation=this.body.rotation=this.info.ag-90,this.labName.text=this.info.n+" ("+this.info.s+"/3)",this.update()},t.prototype.setBoatImage=function(t){this.imgType!==t&&(App.THH32.rEf(this.body,"wdsg_lz_lv_hong_001"),App.THH32.aUE(this.body,"wdsg_lz_lv_hong_001",0,0,-1,null,null,null,null,["lvse3","lvse2","hongse1"][t],!0),this.imgType=t)},t.prototype.getTid=function(){return this.info.tid},t.prototype.onClick=function(t){var e=App.CM.gtM(O6.B53);if(e.running&&e.mt[0].aid!==this.getTid()){var i=e.getMyBoat();i&&0<i.sk?e.notify(Boatrace.Const.SELECT_BOAT,this):e.notify(Boatrace.Const.SELECT_BOAT,null)}t.stopPropagation()},t.prototype.rEf=function(t){var e=[,"wdsg_czdh_hltx",,"wdsg_pozshui_lzs_001","wdsg_slz_xytx_sa","wdsg_slz_lzs_zzw_001"][t],i=!1;1==t||4==t?this.gEffect.getChildByName(e)&&(App.THH33.rEf(this.gEffect,e),i=!0):3==t?this.body.getChildByName(e)&&(App.THH32.rEf(this.body,e),i=!0):5==t&&this.gEffect.getChildByName(e)&&(App.THH32.rEf(this.gEffect,e),i=!0),i&&this.effects.splice(this.effects.indexOf(t),1)},t.prototype.addEffect=function(t){switch(this.rEf(t),t){case 1:App.THH33.addUIEffect2(this.gEffect,"wdsg_czdh_hltx",-1,{x:0,y:-30});break;case 2:break;case 3:App.THH32.aUE(this.body,"wdsg_pozshui_lzs_001",0,0,-1);break;case 4:App.THH33.addUIEffect2(this.gEffect,"wdsg_slz_xytx_sa",-1,{x:0,y:-30});break;case 5:App.THH32.aUE(this.gEffect,"wdsg_slz_lzs_zzw_001",0,0,-1)}this.effects.push(t)},t.prototype.getRect=function(){return this.calcRect(),this.pl},t.prototype.calcRect=function(){var t=this.x,e=this.y,i=this.info.ag,s=Boatrace.Utils.FHH97(i-90),o=Boatrace.Config.boatVolume[0]/2,r=t-o*Math.cos(Boatrace.Utils.FL41(s)),n=e-o*Math.sin(Boatrace.Utils.FL41(s)),a=Boatrace.Utils.FHH97(i+90),h=t-o*Math.cos(Boatrace.Utils.FL41(a)),p=e-o*Math.sin(Boatrace.Utils.FL41(a)),l=r-Boatrace.Config.boatVolume[1]*Math.cos(Boatrace.Utils.FL41(i)),c=n-Boatrace.Config.boatVolume[1]*Math.sin(Boatrace.Utils.FL41(i)),u=h-Boatrace.Config.boatVolume[1]*Math.cos(Boatrace.Utils.FL41(i)),d=p-Boatrace.Config.boatVolume[1]*Math.sin(Boatrace.Utils.FL41(i));this.pl[0].setTo(r,n),this.pl[1].setTo(h,p),this.pl[2].setTo(l,c),this.pl[3].setTo(u,d)},t}(eui.Component);__reflect(BoatraceBoat.prototype,"BoatraceBoat",["BoatraceObjectBase"]);var BoatraceFireworks=function(e){function t(){var t=e.call(this)||this;return t.type=BoatraceObjectType.FireWorks,t}return __extends(t,e),t.prototype.childrenCreated=function(){var t=this;e.prototype.childrenCreated.call(this),App.THH32.aUE(this,"wdsg_yhdf_slz_001",0,300,1,null,function(){return t.dispatchEventWith(dragonBones.EgretEvent.COMPLETE)})},t.prototype.pos=function(t,e){return this.x=t,this.y=e,this},t.prototype.destroy=function(){App.THH32.rEf(this,"wdsg_yhdf_slz_001")},t.prototype.ZN45=function(){return this},t.prototype.getRect=function(){return[]},t.prototype.test=function(t){return!1},t}(eui.Group);__reflect(BoatraceFireworks.prototype,"BoatraceFireworks",["BoatraceObjectBase"]);var BoatraceLight=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type=BoatraceObjectType.Light,t}return __extends(t,e),t.prototype.childrenCreated=function(){e.prototype.childrenCreated.call(this),this.height=this.width=0,this.img=new eui.Image,this.img.horizontalCenter=0,this.img.verticalCenter=0,this.addChild(this.img)},t.prototype.set=function(t){return this.img.source=0==t?"v1_bg_longzhou_png":"v1_bg_longzhou2_png",this},t.prototype.pos=function(t,e){return this.x=t,this.y=e,this},t.prototype.destroy=function(){},t.prototype.ZN45=function(){return this},t.prototype.getRect=function(){return[]},t.prototype.test=function(t){return!1},t}(eui.Group);__reflect(BoatraceLight.prototype,"BoatraceLight",["BoatraceObjectBase"]);var BoatraceObjectType=function(){function t(){}return t.Reward=10,t.Boat=20,t.Obstacle=30,t.Tag=40,t.Light=50,t.FireWorks=60,t}();__reflect(BoatraceObjectType.prototype,"BoatraceObjectType");var BoatraceObstacle=function(e){function t(){var t=e.call(this,"v1_bg_mutong_png")||this;return t.type=BoatraceObjectType.Obstacle,t}return __extends(t,e),t.prototype.pos=function(t,e){return this.x=t,this.y=e,this},t.prototype.ZN45=function(){return this},t.prototype.destroy=function(){},t.prototype.getRect=function(){return new Array(new egret.Point(this.x,this.y),new egret.Point(this.x+this.width,this.y),new egret.Point(this.x+this.width,this.y+this.height),new egret.Point(this.x,this.y+this.height))},t}(eui.Image);__reflect(BoatraceObstacle.prototype,"BoatraceObstacle",["BoatraceObjectBase"]);var BoatraceReward=function(e){function t(){var t=e.call(this,"v1_bg_zongzi_png")||this;return t.type=BoatraceObjectType.Reward,t}return __extends(t,e),t.prototype.pos=function(t,e){return this.x=t,this.y=e,this},t.prototype.ZN45=function(){return this},t.prototype.destroy=function(){},t.prototype.getRect=function(){return new Array(new egret.Point(this.x,this.y),new egret.Point(this.x+this.width,this.y),new egret.Point(this.x+this.width,this.y+this.height),new egret.Point(this.x,this.y+this.height))},t.prototype.test=function(t){return Boatrace.SAT_SIMPLE.sat(this.getRect(),t.getRect())},t}(eui.Image);__reflect(BoatraceReward.prototype,"BoatraceReward",["BoatraceObjectBase"]);var BoatraceTag=function(e){function t(){var t=e.call(this,"v1_btn_dw_zlzy2_png")||this;return t.oy=0,t.float=30,t.type=BoatraceObjectType.Tag,t.anchorOffsetX=29,t.anchorOffsetY=94,t}return __extends(t,e),t.prototype.pos=function(t,e){return this.x=t,this.y=e,this.oy=e,egret.Tween.removeTweens(this),egret.Tween.get(this,{loop:!0}).to({y:this.oy-this.float},1e3).to({y:this.oy},1e3),this},t.prototype.destroy=function(){egret.Tween.removeTweens(this)},t.prototype.ZN45=function(){return this},t.prototype.getRect=function(){return[]},t.prototype.test=function(t){return!1},t}(eui.Image);__reflect(BoatraceTag.prototype,"BoatraceTag",["BoatraceObjectBase"]);var BoatraceHeadItemView=function(p){function t(){var t=p.call(this)||this;return t.skinName="BoatRaceHeadItemSkin",t.addEventListener(egret.Event.REMOVED_FROM_STAGE,t.remove,t),t}return __extends(t,p),t.prototype.childrenCreated=function(){p.prototype.childrenCreated.call(this),this.btnDism.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickDism,this),this.btnJoin.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickJoin,this),this.btnJoin.label=O3.tr(6746),this.cIcon.icon.addEventListener(egret.TouchEvent.TOUCH_TAP,this.ZV34,this),this.cIcon.icon.width=void 0,this.cIcon.icon.height=void 0},t.prototype.remove=function(){this.btnDism.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickDism,this),this.btnJoin.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickJoin,this),this.cIcon.icon.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.ZV34,this)},t.prototype.dataChanged=function(){if(p.prototype.dataChanged.call(this),this.data)if(this.currentState=this.data.type?"team":"head",this.validateNow(),0==this.data.type){var t=this.data.capId;if(this.imgCap.visible=0===this.itemIndex,this.data.data){var e=this.data.data,i=e.lv,s=e.s,o=e.aid,r=e.ic,n=e.n;this.labPower.textFlow=O3.tr2(6748,s),this.labCount.textFlow=O3.tr2(6753,i),this.cIcon.icon.source=r,this.labName.text=n;var a=O4.getAid();this.btnDism.visible=t===a||o===a}else this.cIcon.icon.source="v1_img_jiaqianse_png",this.labName.textFlow=O3.tr2(6749),this.labCount.text=this.labPower.text="",this.btnDism.visible=!1}else{var h=this.data.data;s=h.s,r=h.ic,n=h.n;this.labCount.textFlow=O3.tr2(6745,s,3),this.cIcon.icon.source=r,this.labName.text=n}},t.prototype.onClickDism=function(){if(0===this.data.type){var t=this.data.data,e=(t.lv,t.s,t.aid),i=O4.getAid();i===e?App.CM.apF(O6.B53,Boatrace.Const.LEAVE_TEAM_REQ):this.data.capId===i&&App.CM.apF(O6.B53,Boatrace.Const.DISMISSION_TEAM_REQ,e)}},t.prototype.ZV34=function(){if(this.data.capId===O4.getAid()&&!this.data.data){var t=P7.FF60(),e={nid:F8.A5,channelId:t,param:"",infoId:this.data.capId};App.CM.apF(O6.C13,O12.A13,e)}},t.prototype.onClickJoin=function(){var t=this.data.data.tid;App.CM.apF(O6.B53,Boatrace.Const.JOIN_TEAM_REQ,t)},t}(eui.ItemRenderer);__reflect(BoatraceHeadItemView.prototype,"BoatraceHeadItemView");var BoatraceMainView=function(s){function t(t,e){var i=s.call(this,t,e)||this;return i.mapLoadCount=0,i.skinName="BoatRaceMainSkin",i.gMapScroller.width=App.TG37.getWidth(),i.mapMgr=new BoatraceMap(i.gMapScroller),i}return __extends(t,s),Object.defineProperty(t.prototype,"model",{get:function(){return App.CM.gtM(O6.B53)},enumerable:!0,configurable:!0}),t.prototype.initUI=function(){s.prototype.initUI.call(this),this.mapMgr.initUI(),this.btnDesc.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickDesc,this),this.btnRank.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickRank,this),this.btnClose.addEventListener(egret.TouchEvent.TOUCH_TAP,this.oCC,this),this.btnStart.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickStart,this),this.btnTurnLeft.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickTurn,this),this.btnTurnRight.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickTurn,this),this.btnSkill.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickSkill,this),this.ltCDAnima=new BoatraceSkillCdView(this.btnTurnLeft),this.ltCDAnima.set(null,Boatrace.Config.directionCD,43),this.rtCDAnima=new BoatraceSkillCdView(this.btnTurnRight),this.rtCDAnima.set(null,Boatrace.Config.directionCD,43),this.rtCDAnima.scaleX=-1,this.skCDAnima=new BoatraceSkillCdView(this.btnSkill),this.skCDAnima.set(null,Boatrace.Config.skillCD,41),this.btnStart.label=O3.tr(6743),this.labTr6741.textFlow=O3.tr2(6741),this.labTr6742.textFlow=O3.tr2(6742)},t.prototype.uBM=function(t,e){for(var i,s,o=[],r=2;r<arguments.length;r++)o[r-2]=arguments[r];if(t instanceof Boatrace.Model)if(this.updateUI(t),this.updateBoats(t),e==P4.J8||e==P4.W88)this.mapMgr.refresh({rl:t.rl});else{var n=void 0;if(e==Boatrace.Const.USE_SKILL){var a=t.getMyBoat(),h=o[0],p=o[1];if(a&&a.tid===h)for(var l in n=a.tid,p)"3"==l&&App.THH32.aUE(this.gEffect,"wdsg_pozshui_pm_001",0,0,1);(i=this.mapMgr).event.apply(i,[e].concat(o,[n]))}else(s=this.mapMgr).event.apply(s,[e].concat(o))}},t.prototype.open=function(){s.prototype.open.call(this),App.CM.gtM(O6.B99).fightSceneType=I4.A7;var t=this.model;this.ZK39(),App.CM.apF(O6.C10,O16.A5),App.CM.apF(O6.C10,O16.A16),App.CM.apF(O6.B63,K7.A7),App.CM.apF(O6.C10,O16.A5),App.CM.apF(O6.B64,J18.A31),App.CM.apF(O6.C20,K2.A9),App.CM.apF(O6.B16,G13.A27),App.CM.apF(O6.B87,L10.A3),this.loadMapRes(),this.model.notify(),this.updateUI(t),App.K16.doTimer(1e3,0,this.GX42,this),this.GX42(),P7.FJ17()&&(this.gJoystick.percentWidth=NaN,this.gJoystick.width=640,this.gJoystick.horizontalCenter=0)},t.prototype.close=function(){this.btnDesc.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickDesc,this),this.btnRank.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickRank,this),this.btnClose.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.oCC,this),this.btnStart.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickStart,this),this.btnTurnLeft.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickTurn,this),this.btnTurnRight.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickTurn,this),this.btnSkill.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickSkill,this),this.ltCDAnima.destroy(),this.ltCDAnima.destroy(),this.skCDAnima.destroy(),App.K16.removeAll(this),this.mapMgr.close(),s.prototype.close.call(this)},t.prototype.GX42=function(){var t=this.model;this.gReady.visible=0<t.rcd,0<t.rcd&&(this.labStartCd.textFlow=O3.tr2(6744,P6.FJ11(1e3*t.rcd,10))),this.labTime.text=P6.FJ11(1e3*t.cd,10)},t.prototype.ZK39=function(){var t=App.CM.gtM(O6.B99);if(t.isFighting&&!t.isSpFighting){var e=App.VM.gOV(O7.I61);e&&e.ZI71(!0)}},t.prototype.loadMapRes=function(){if(this.isInit()){var t=this.model;this.mapLoadCount=0,FightRes.ZO48(Boatrace.Config.mapC[t.mn[0]],this.ZI4.bind(this)),FightRes.ZO48(Boatrace.Config.mapB[t.mn[1]],this.ZI4.bind(this)),FightRes.ZO48(Boatrace.Config.mapA[t.mn[2]],this.ZI4.bind(this))}},t.prototype.ZN46=function(){var t=this,e=this.mapMgr.addObject(BoatraceObjectType.FireWorks);e.pos(Boatrace.Config.finishPoint[0],Boatrace.Config.finishPoint[1]),e.addEventListener(dragonBones.EgretEvent.COMPLETE,function(){return t.mapMgr.ZC32(e.hashCode)},null)},t.prototype.updateUI=function(t){if(this.currentState=t.running?"running":"ready",this.validateNow(),this.gStart.visible=!1,t.running){var e=t.getMyBoat();if(this.imgSkill.visible=!1,this.btnSkill.visible=!0,this.labSkillDesc.textFlow=O3.tr2(6752),e){var i=Boatrace.Config.skill[e.sk];i&&(this.btnSkill.visible=!1,this.imgSkill.visible=!0,this.imgSkill.source=i.icon,this.labSkillDesc.textFlow=M18.FG71(i.explain));var s=e.getTurnCD();0<s&&(this.ltCDAnima.set(s),this.rtCDAnima.set(s));var o=e.getSkillCD();0<o&&this.skCDAnima.set(o)}else this.ltCDAnima.clear(),this.rtCDAnima.clear(),this.skCDAnima.clear()}else t.mt.length&&(this.gStart.visible=!0,this.btnStart.visible=t.mt[0].aid===O4.getAid())},t.prototype.updateBoats=function(t){for(var e=this.mapMgr.boats.map(function(t){return t.getTid()}),i=Object.keys(t.bls).map(function(t){return parseInt(t)}),s=[],o=0,r=e;o<r.length;o++){var n=r[o];i.indexOf(n)<0&&s.push(n)}for(var a=0,h=s;a<h.length;a++){n=h[a];(c=this.mapMgr.getBoatByTid(n))&&this.mapMgr.ZC32(c.hashCode)}var p=t.running&&t.mt[0].aid,l=O4.getSid();for(var n in t.bls){var c,u=t.bls[n];if(c=this.mapMgr.getBoatByTid(u.tid))c.set(u);else{var d=2;p===u.tid?d=0:u.sid===l&&(d=1),this.mapMgr.addBoat(u,d,0==d?0:null)}}this.mapMgr.ZD71(p)},t.prototype.sceneToStart=function(){this.mapMgr.sceneTo(Boatrace.Config.angleCoor[0],Boatrace.Config.angleCoor[1])},t.prototype.ZI4=function(){var t=this.model;this.mapLoadCount+=1,3<=this.mapLoadCount&&(this.mapMgr.setMap(t),this.sceneToStart())},t.prototype.onClickTurn=function(t){t.currentTarget===this.btnTurnLeft?App.CM.apF(O6.B53,Boatrace.Const.TURN_REQ,1):t.currentTarget===this.btnTurnRight&&App.CM.apF(O6.B53,Boatrace.Const.TURN_REQ,2)},t.prototype.onClickStart=function(){App.CM.apF(O6.B53,Boatrace.Const.START_REQ)},t.prototype.onClickSkill=function(){var t=this.model.getMyBoat();t&&(t.sk||App.CM.apF(O6.B53,Boatrace.Const.RANDMON_SKILL_REQ))},t.prototype.onClickDesc=function(){var t={title:O3.tr(6773),content:Boatrace.Config.help};this.aCF(O6.C18,O10.A24,t)},t.prototype.onClickRank=function(){App.VM.open(O7.C8)},t.prototype.oCC=function(){App.VM.open(O7.HH38,M18.FG71(O3.tr(6782,Boatrace.Config.returnTime)),this,function(){return App.CM.apF(O6.B53,Boatrace.Const.CloseMainView)})},t}(BaseEuiView);__reflect(BoatraceMainView.prototype,"BoatraceMainView");var BoatraceMap=function(i){function t(t){var e=i.call(this)||this;return e.maps=[],e.boats=[],e.objects=[],e.sceneWidth=640,e.sceneHeight=790,e.mapWidth=0,e.mapHeight=0,e.skinName="BoatraceMapSkin",t.addChild(e),e.camera=t,e.useSkillPanel=new BoatraceUseSkillView,e}return __extends(t,i),t.prototype.initUI=function(){this.sceneWidth=this.camera.width,this.sceneHeight=this.camera.height,this.sceneWidth2=this.sceneWidth/2,this.sceneHeight2=this.sceneHeight/2,App.K16.doFrame(1,0,this.update,this),this.gMap.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClick,this)},t.prototype.childrenCreated=function(){i.prototype.childrenCreated.call(this),this.addChild(this.useSkillPanel),this.endTag=this.addObject(BoatraceObjectType.Tag),this.endTag.pos(Boatrace.Config.finishPoint[0],Boatrace.Config.finishPoint[1]),this.addObject(BoatraceObjectType.Light).set(0).pos(Boatrace.Config.startPoint[0],Boatrace.Config.startPoint[1]-150),this.addObject(BoatraceObjectType.Light).set(1).pos(Boatrace.Config.finishPoint[0],Boatrace.Config.finishPoint[1])},t.prototype.onClick=function(){this.select(null)},t.prototype.setMap=function(t){this.updateMap(t.mn),this.refresh({rl:t.rl,brl:t.brl})},t.prototype.updateMap=function(r){var n=this,a=[mapWH.SET_405_420,mapWH.SET_405_622,mapWH.SET_405_458],h=[Boatrace.Config.mapC,Boatrace.Config.mapB,Boatrace.Config.mapA],p=0,l=0;r.forEach(function(t,e){var i=4*SET_MAP_WH[a[e]][0];p=i<p?p:i;var s=n.maps[e];if(!s||s.name!=t+""){var o=n.maps.splice(e,1)[0];o&&n.gMap.removeChild(o),n.addBlock(h[e][r[e]],a[e],0,l).name=t+""}l+=3*SET_MAP_WH[a[e]][1]}),this.mapWidth=p,this.mapHeight=l},t.prototype.refresh=function(t){var e=this,i=t.brl,s=t.rl;if(s){var o=this.ZK40(BoatraceObjectType.Reward),r=s.length;o.splice(r,o.length-r).forEach(function(t){return e.ZC32(t.hashCode)}),o.forEach(function(t,e){return t.pos(s[e].x,s[e].y)});for(var n=o.length;n<r;n++)this.addObject(BoatraceObjectType.Reward).pos(s[n].x,s[n].y)}if(i){o=this.ZK40(BoatraceObjectType.Obstacle),r=i.length;o.splice(r,o.length-r).forEach(function(t){return e.ZC32(t.hashCode)}),o.forEach(function(t,e){return t.pos(i[e].x,i[e].y)});for(n=o.length;n<r;n++)this.addObject(BoatraceObjectType.Obstacle).pos(i[n].x,i[n].y)}},t.prototype.addBlock=function(t,e,i,s){var o=new BoatraceMapBlock;return o.setMapName(t,null,e),o.x=i,o.y=s,this.gMap.addChild(o),this.maps.push(o),o},t.prototype.freeMap=function(t){for(void 0===t&&(t=!1);this.maps.length;)this.gMap.removeChild(this.maps.pop());if(t){for(;this.objects.length;)this.ZC32(this.objects[0].hashCode);for(;this.boats.length;)this.ZC32(this.boats[0].hashCode)}},t.prototype.sceneTo=function(t,e){var i=t-this.sceneWidth2,s=e-this.sceneHeight2;i<0&&(i=0),s<0&&(s=0);var o=this.mapWidth-this.sceneWidth,r=this.mapHeight-this.sceneHeight;o<i&&(i=o),r<s&&(s=r),this.camera.scrollH=i,this.camera.scrollV=s},t.prototype.ZG36=function(t){var e=this.getBoatByTid(t);e?this.ZV35(e):(this.sceneUnlock(),Log.trace("不存在的船只"))},t.prototype.ZV35=function(t){this.sceneTo(t.x,t.y)},t.prototype.ZN47=function(t){this.lockTar=t},t.prototype.ZD71=function(t){this.ZN47(this.getBoatByTid(t))},t.prototype.sceneUnlock=function(){delete this.lockTar},t.prototype.addObject=function(t){var e;return t==BoatraceObjectType.Reward?(e=new BoatraceReward,this.objects.push(e),this.gObject.addChild(e)):t==BoatraceObjectType.Obstacle?(e=new BoatraceObstacle,this.objects.push(e),this.gObject.addChild(e)):t==BoatraceObjectType.Boat?(e=new BoatraceBoat,this.boats.push(e),this.gBoats.addChild(e)):t==BoatraceObjectType.Tag?(e=new BoatraceTag,this.objects.push(e),this.gOther.addChild(e)):t==BoatraceObjectType.Light?(e=new BoatraceLight,this.objects.push(e),this.gObject.addChild(e)):t==BoatraceObjectType.FireWorks&&(e=new BoatraceFireworks,this.objects.push(e),this.gOther.addChild(e)),e},t.prototype.ZC32=function(t){for(var e,i=0;i<this.objects.length;i++)this.objects[i].hashCode===t&&(e=this.objects.splice(i,1)[0]);if(!e)for(i=0;i<this.boats.length;i++)this.boats[i].hashCode===t&&(e=this.boats.splice(i,1)[0]);e&&(App.TF56.ZJ66(e.ZN45()),e.destroy())},t.prototype.ZK40=function(t){var e;if(t==BoatraceObjectType.Boat)e=this.boats;else{e=[];for(var i=0,s=this.objects;i<s.length;i++){var o=s[i];o.type==t&&e.push(o)}}return e},t.prototype.addBoat=function(t,e,i){var s=this.addObject(BoatraceObjectType.Boat);s.set(t,e),"number"==typeof i&&this.gBoats.setChildIndex(s,i)},t.prototype.getBoatByTid=function(t){for(var e=0,i=this.boats;e<i.length;e++){var s=i[e];if(s.getTid()===t)return s}},t.prototype.testReward=function(t){for(var e=0,i=this.objects;e<i.length;e++){var s=i[e];if(s.type==BoatraceObjectType.Reward&&s.test(t))return s.hashCode}},t.prototype.update=function(){for(var t=0,e=this.boats;t<e.length;t++){e[t].update()}if((this.selectTar&&this.useSkillPanel.pos(this.selectTar.x,this.selectTar.y),this.lockTar)&&(this.ZV35(this.lockTar),O4.getAid()===this.lockTar.getTid())){var i=this.testReward(this.lockTar);i!==this.lastRewardHashCode&&i&&App.CM.apF(O6.B53,Boatrace.Const.GET_REWARD_REQ),this.lastRewardHashCode=i}},t.prototype.close=function(){this.gMap.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClick,this),App.K16.removeAll(this),this.freeMap(!0)},t.prototype.select=function(t){this.selectTar=t,this.useSkillPanel.visible=!!this.selectTar,this.useSkillPanel.visible&&(this.useSkillPanel.setTid(t.getTid()),this.useSkillPanel.update())},t.prototype.event=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];if(t==Boatrace.Const.USE_SKILL){var s=e[0],o=e[1],r=e[2],n=this.getBoatByTid(s);if(n)for(var a in o)"3"==a&&r==s||n.addEffect(parseInt(a))}else if(t==Boatrace.Const.SELECT_BOAT){var h=e[0];this.select(h==this.selectTar?null:h)}},t}(eui.Component);__reflect(BoatraceMap.prototype,"BoatraceMap");var BoatraceMapBlock=function(e){function t(){var t=e.call(this)||this;return t.finishNum=0,t.row=3,t.col=4,t}return __extends(t,e),t.prototype.setMapName=function(i,t,e){if(this.finishNum=0,this.completeHandler=t,null==this.imgMapTiles||0==this.imgMapTiles.length){this.imgMapTiles=[];for(var s=0;s<this.col;s++)for(var o=0;o<this.row;o++){var r=new FightMapTile;r.setData(i,s,o,this.complete.bind(this),e),this.addChild(r),this.imgMapTiles.push(r)}}else this.imgMapTiles.forEach(function(t,e){t.setData(i)})},t.prototype.complete=function(){this.finishNum+=1,this.finishNum==this.col*this.row&&(console.log("地图加载完成!"),this.completeHandler&&this.completeHandler(),this.finishNum=0)},t}(eui.Group);__reflect(BoatraceMapBlock.prototype,"BoatraceMapBlock");var BoatraceMapTile=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e}(FightMapTile);__reflect(BoatraceMapTile.prototype,"BoatraceMapTile");var BoatraceMyTeamItemView=function(e){function t(){var t=e.call(this)||this;return t.skinName="BoatraceMyTeamItemSkin",t}return __extends(t,e),t.prototype.dataChanged=function(){e.prototype.dataChanged.call(this),this.labName.text=this.data.name,this.labLv.textFlow=O3.tr2(6753,this.data.lv),this.icon.icon.source=this.data.icon},t}(eui.ItemRenderer);__reflect(BoatraceMyTeamItemView.prototype,"BoatraceMyTeamItemView");var BoatraceMyTeamView=function(s){function t(t,e){var i=s.call(this,t,e)||this;return i.mx=-214,i.ox=0,i.skinName="BoatraceMyTeamSkin",i}return __extends(t,s),t.prototype.initUI=function(){this.btnTeam.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClick,this),this.dgIcon.dataProvider=this.dataSource=new eui.ArrayCollection,this.dgIcon.itemRenderer=BoatraceMyTeamItemView},t.prototype.open=function(t){s.prototype.open.call(this,t),t&&this.minimize(),this.uBM(App.CM.gtM(O6.B53))},t.prototype.uBM=function(t){t instanceof Boatrace.Model&&this.update(t)},t.prototype.close=function(){this.btnTeam.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClick,this)},t.prototype.minimize=function(){this.x=this.mx,this.onComplete()},t.prototype.update=function(t){this.gTeam.visible=t.running,this.dataSource.source=t.mt.map(function(t){return{name:t.n,lv:t.lv,icon:t.ic}})},t.prototype.onComplete=function(){egret.Tween.removeTweens(this),this.x===this.ox?this.btnTeam.bgStr="v1_img_duiwu01_png":this.btnTeam.bgStr="v1_img_duiwu02_png"},t.prototype.onClick=function(){this.x>=this.ox?egret.Tween.get(this).to({x:this.mx},200).call(this.onComplete,this):this.x<=this.mx&&egret.Tween.get(this).to({x:this.ox},200).call(this.onComplete,this)},t}(BaseEuiView);__reflect(BoatraceMyTeamView.prototype,"BoatraceMyTeamView");var BoatraceRankBaseView=function(s){function t(t,e){var i=s.call(this,t,e)||this;return i.set(O7.C8,O3.tr(6755)).rgS(O7.B3,"BoatraceSingleRankView",O3.tr(6764)).rgS(O7.F34,"BoatraceRankView",O3.tr(6765)),i}return __extends(t,s),t}(BasePanelViewX);__reflect(BoatraceRankBaseView.prototype,"BoatraceRankBaseView");var BoatraceRankItemView=function(e){function t(){var t=e.call(this)||this;return t.skinName="BoatraceRankItemSkin",t.addEventListener(egret.Event.REMOVED_FROM_STAGE,t.remove,t),t}return __extends(t,e),t.prototype.childrenCreated=function(){e.prototype.childrenCreated.call(this),this.dgReward.dataProvider=this.dataSource=new eui.ArrayCollection,this.dgReward.itemRenderer=rechargeItem},t.prototype.remove=function(){this.removeEventListener(egret.Event.REMOVED_FROM_STAGE,this.remove,this),this.dataSource.removeAll()},t.prototype.dataChanged=function(){e.prototype.dataChanged.call(this),this.imgBg.source=this.itemIndex%2==0?"v1_img_kelashen_paihang_png":"v1_bg_kelashen01_png",this.data&&(this.labName.text=this.data.n,this.labRank.text=this.data.r.toString(),this.dataSource.source=Boatrace.Config.FB54(this.data.r).map(function(t){return{itemData:{data:N12.gID(t.k),ct:t.v},isBottom:!1,scale:.6}}))},t}(eui.ItemRenderer);__reflect(BoatraceRankItemView.prototype,"BoatraceRankItemView");var BoatraceRankView=function(s){function t(t,e){var i=s.call(this,t,e)||this;return i.skinName="BoatraceRankSkin",i}return __extends(t,s),t.prototype.initUI=function(){s.prototype.initUI.call(this),this.listView=new CommonListBase({render:BoatraceRankItemView,gap:0,width:this.gList.width,height:this.gList.height,arrowScale:1}),this.gList.addChild(this.listView),this.labTr6756.text=O3.tr(6756),this.labTr6759.text=O3.tr(6759),this.labTr6763.text=O3.tr(6763),this.labTr6767.textFlow=O3.tr2(6767)},t.prototype.open=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];s.prototype.open.apply(this,t),this.listView.open(),this.load()},t.prototype.close=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.listView.close(),s.prototype.close.apply(this,t)},t.prototype.uBM=function(t,e,i){if(t instanceof Boatrace.Model&&e==P4.F60){for(var s=i.srs,o=i.srs.length?i.srs[i.srs.length-1].r+1:1,r=Boatrace.Config.groupSize,n=o;n<=r;n++)s.push({r:n,n:O3.tr(6864),sa:"",t:-1});this.listView.rfL(s),this.labTr6766.textFlow=O3.tr2(6812,i.mr||O3.tr(214))}},t.prototype.load=function(){App.CM.apF(O6.B53,Boatrace.Const.LOAD_SERVER_RANK_REQ)},t}(BaseEuiView);__reflect(BoatraceRankView.prototype,"BoatraceRankView");var BoatraceResultView=function(s){function t(t,e){var i=s.call(this,t,e)||this;return i.skinName="BoatraceResultSkin",i}return __extends(t,s),t.prototype.initUI=function(){s.prototype.initUI.call(this),this.bgMask.addEventListener(egret.TouchEvent.TOUCH_TAP,this.oCC,this),this.backBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickExit,this),this.closeBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.oCC,this),this.btnRestart.addEventListener(egret.TouchEvent.TOUCH_TAP,this.ZR18,this),this.labTr6768.textFlow=O3.tr2(6768),this.btnRestart.label=O3.tr(6771),this.labTitle.text=O3.tr(6772)},t.prototype.open=function(t){try{this.labTime.text=Boatrace.Utils.FK48(t.t),this.labRank.textFlow=O3.tr2(6769,t.pr),this.labSRank.textFlow=O3.tr2(6770,t.sr)}catch(t){Log.trace(t)}},t.prototype.close=function(){this.bgMask.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.oCC,this),this.backBtn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickExit,this),this.closeBtn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.oCC,this),this.btnRestart.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.ZR18,this)},t.prototype.oCC=function(){App.VM.GY64(this);var t=App.VM.gOV(O7.F32);t&&t.sceneToStart()},t.prototype.ZR18=function(){App.VM.GY64(this);var t=App.VM.gOV(O7.F32);t&&t.sceneToStart()},t.prototype.onClickExit=function(){App.CM.apF(O6.B53,Boatrace.Const.GAME_EXIT_REQ),App.VM.GY64(this)},t}(BaseEuiView);__reflect(BoatraceResultView.prototype,"BoatraceResultView");var BoatraceSingleRankItemView=function(e){function t(){var t=e.call(this)||this;return t.skinName="BoatraceSingleRankItemSkin",t.addEventListener(egret.Event.REMOVED_FROM_STAGE,t.remove,t),t}return __extends(t,e),t.prototype.childrenCreated=function(){e.prototype.childrenCreated.call(this),this.dgReward.dataProvider=this.dataSource=new eui.ArrayCollection,this.dgReward.itemRenderer=rechargeItem},t.prototype.remove=function(){this.removeEventListener(egret.Event.REMOVED_FROM_STAGE,this.remove,this),this.dataSource.removeAll()},t.prototype.dataChanged=function(){e.prototype.dataChanged.call(this),this.imgBg.source=this.itemIndex%2==0?"v1_img_kelashen_paihang_png":"v1_bg_kelashen01_png",this.data&&(this.labName.text=this.data.n,this.labScore.text=0<this.data.t?Boatrace.Utils.FK48(this.data.t).toString():O3.tr(6863),this.labRank.text=this.data.r.toString(),this.dataSource.source=Boatrace.Config.FB53(this.data.r).map(function(t){return{itemData:{data:N12.gID(t.k),ct:t.v},isBottom:!1,scale:.6}}))},t}(eui.ItemRenderer);__reflect(BoatraceSingleRankItemView.prototype,"BoatraceSingleRankItemView");var BoatraceSingleRankView=function(s){function t(t,e){var i=s.call(this,t,e)||this;return i.skinName="BoatraceSingleRankSkin",i}return __extends(t,s),t.prototype.initUI=function(){s.prototype.initUI.call(this),this.listView=new CommonListBase({render:BoatraceSingleRankItemView,gap:0,width:this.gList.width,height:this.gList.height,arrowScale:1}),this.gList.addChild(this.listView),this.labTr6756.text=O3.tr(6756),this.labTr6757.text=O3.tr(6757),this.labTr6758.text=O3.tr(6758),this.labTr6759.text=O3.tr(6759),this.labTr6767.textFlow=O3.tr2(6767)},t.prototype.open=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];s.prototype.open.apply(this,t),this.listView.open(),this.load()},t.prototype.close=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.listView.close(),s.prototype.close.apply(this,t)},t.prototype.uBM=function(t,e,i){if(t instanceof Boatrace.Model&&e==P4.F62){for(var s=i.prs,o=i.prs.length?i.prs[i.prs.length-1].r+1:1,r=Boatrace.Config.rankNum,n=o;n<=r;n++)s.push({i:0,r:n,n:O3.tr(6864),sa:"",t:-1});this.listView.rfL(s),this.labTr6766.textFlow=O3.tr2(6766,i.mr||O3.tr(214))}},t.prototype.load=function(){App.CM.apF(O6.B53,Boatrace.Const.LOAD_SINGLE_RANK_REQ)},t}(BaseEuiView);__reflect(BoatraceSingleRankView.prototype,"BoatraceSingleRankView");var BoatraceSkillCdView=function(i){function t(t){var e=i.call(this)||this;return e.radius=45,e.time=0,e.maxTime=0,e.clock=0,e.skinName="BoatraceSkillCdSkin",e.width=t.width,e.height=t.height,e.anchorOffsetX=e.width/2,e.anchorOffsetY=e.height/2,e.horizontalCenter=0,e.verticalCenter=0,e.shape=new egret.Shape,e.shape.x=t.width/2,e.shape.y=t.height/2,e.shape.alpha=.6,e.addChildAt(e.shape,0),t.addChild(e),e.visible=!1,e}return __extends(t,i),t.prototype.update=function(){var t=this.time-(P6.getTime()-this.clock)/1e3,e=t/this.maxTime*-360;if(this.labCd.text=Math.ceil(t)+"s",t<=0)return this.clear();this.shape.graphics.clear(),this.shape.graphics.beginFill(0,1),this.shape.graphics.moveTo(0,0),this.shape.graphics.lineTo(this.radius,0),this.shape.graphics.drawArc(0,0,this.radius,0,e*Math.PI/180,!0),this.shape.graphics.lineTo(0,0),this.shape.graphics.endFill()},t.prototype.set=function(t,e,i){"number"==typeof i&&(this.radius=i),"number"==typeof e&&(this.maxTime=e),"number"==typeof t&&0<t&&(this.time=t,App.K16.removeAll(this),App.K16.doFrame(1,0,this.update,this,this.clear,this),this.clock=P6.getTime(),this.visible=!0,this.parent.touchEnabled=!1,this.update())},t.prototype.destroy=function(){App.K16.removeAll(this),this.parent&&this.parent.removeChild(this)},t.prototype.clear=function(){App.K16.removeAll(this),this.parent.touchEnabled=!0,this.visible=!1},t}(eui.Component);__reflect(BoatraceSkillCdView.prototype,"BoatraceSkillCdView");var BoatraceTeamView=function(s){function t(t,e){var i=s.call(this,t,e)||this;return i.index=1,i.max=1,i.count=3,i.refreshTime=5e3,i.skinName="BoatRaceTeamSkin",i}return __extends(t,s),Object.defineProperty(t.prototype,"model",{get:function(){return App.CM.gtM(O6.B53)},enumerable:!0,configurable:!0}),t.prototype.initUI=function(){s.prototype.initUI.call(this),this.btnCreate.addEventListener(egret.TouchEvent.TOUCH_TAP,this.ZU76,this),this.btnUp.addEventListener(egret.TouchEvent.TOUCH_TAP,this.ZI5,this),this.btnNext.addEventListener(egret.TouchEvent.TOUCH_TAP,this.ZI5,this),this.dgTeamList.dataProvider=this.dataSource=new eui.ArrayCollection,this.dgTeamList.itemRenderer=BoatraceHeadItemView,this.btnCreate.label=O3.tr(6747)},t.prototype.open=function(){var e=this;App.K16.doTimer(this.refreshTime,0,this.load,this),this.update(this.model);var i=P7.FJ17();i&&(this.gTeams.horizontalCenter=0,this.gTeams.percentWidth=NaN,this.gTeams.width=640),App.DelayOptManager.ZE59(this,function(){var t=App.VM.gOV(O7.I85);t&&i&&(e.gTeams.top=t.chartGroup.height==ChatView.minHeig?725:460)})},t.prototype.close=function(){App.K16.removeAll(this),this.dataSource.removeAll(),this.btnCreate.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.ZU76,this),this.btnUp.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.ZI5,this),this.btnNext.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.ZI5,this),s.prototype.close.call(this)},t.prototype.uBM=function(t,e){t instanceof Boatrace.Model&&(this.update(t),this.visible=!t.running)},t.prototype.load=function(){this.model.mt.length<=0&&App.CM.apF(O6.B53,Boatrace.Const.LOAD_TEAM_REQ)},t.prototype.update=function(t){this.max=Math.max(1,Math.ceil(t.tl.length/this.count)),this.index>this.max&&(this.index=this.max);var e=0<t.mt.length;if(e){for(var i=t.mt[0],s=t.mt.map(function(t){return{type:0,data:t,capId:i.aid}});s.length<3;)s.push({type:0,capId:i.aid});this.dataSource.source=s}else this.updatePage(t);this.gCreate.visible=!e,this.labTitle.text=e?O3.tr(6751):O3.tr(6750)},t.prototype.updatePage=function(t){if(t.mt.length<=0){for(var e=(this.index-1)*this.count,i=Math.min(t.tl.length,e+3),s=[],o=e;o<i;o++)s.push({type:1,data:t.tl[o]});this.dataSource.source=s}this.labPage.text=this.index+"/"+this.max},t.prototype.ZI5=function(t){var e=t.currentTarget,i=this.index;"-"===e.name?this.index-=1:"+"===e.name&&(this.index+=1),this.index<1&&(this.index=1),this.index>this.max&&(this.index=this.max),i!==this.index&&this.updatePage(this.model)},t.prototype.ZU76=function(){this.model.mt.length<=0?App.CM.apF(O6.B53,Boatrace.Const.CREATE_TEAM_REQ):Log.trace("已经在队伍中")},t.prototype.ZK41=function(t){var e=this;P7.FJ17()&&egret.Tween.get(this.gTeams).to({top:t},300).call(function(){egret.Tween.removeTweens(e.gTeams)})},t}(BaseEuiView);__reflect(BoatraceTeamView.prototype,"BoatraceTeamView");var BoatraceUseSkillView=function(e){function t(){var t=e.call(this)||this;return t.skinName="BoatraceUseSkillSkin",t}return __extends(t,e),t.prototype.childrenCreated=function(){e.prototype.childrenCreated.call(this),this.anchorOffsetX=this.width/2,this.anchorOffsetY=this.height,this.y=-20,this.labTr6754.text=O3.tr(6754),this.btnUse.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickUse,this),this.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClick,this)},t.prototype.pos=function(t,e){return this.x=t,this.y=e,this},t.prototype.setTid=function(t){this.tid=t},t.prototype.update=function(){var t=App.CM.gtM(O6.B53).getMyBoat().sk;this.btnUse.bgStr=Boatrace.Config.skill[t].icon},t.prototype.onClick=function(t){t.stopPropagation()},t.prototype.onClickUse=function(){this.tid&&(App.CM.apF(O6.B53,Boatrace.Const.USE_SKILL_REQ,this.tid),this.visible=!1,delete this.tid)},t}(eui.Component);__reflect(BoatraceUseSkillView.prototype,"BoatraceUseSkillView");var N17=function(){function r(){}return r.FK35=function(t){r.init=t.boss_init,r.single=t.boss_single,r.people=t.boss_people,r.monster=t.npc_monster,r.group=t.npc_group,r.field=t.boss_field,r.menghuo=t.boss_menghuo},r.FK49=function(){return parseInt(r.init.sweepLv.value||0)},r.FE69=function(){return parseInt(r.init.singleLv.value||0)},r.FE70=function(){return parseInt(r.init.peopleLv.value||0)},r.FF90=function(){return parseInt(r.init.fieldLv.value||0)},r.FHH99=function(){return parseInt(r.init.menghuoLv.value||0)},r.FF91=function(){return parseInt(r.init.assistTimes.value||0)},r.FE71=function(){return parseInt(r.init.menghuoSweep.value||10205)},r.FG89=function(){if(!this.peopleCost){var t=r.init.peopleCost.value||"75000:0";t&&(this.peopleCost=M18.FL28(t,":"))}return this.peopleCost},r.FC12=function(){return parseInt(r.init.peopleCostTimes.value||0)},r.FE72=function(){return parseInt(r.init.peopleRevive.value||3)},r.FF92=function(){return r.init.menghuoShow.value||""},r.FE73=function(){return r.init.menghuoAward.value||""},r.FI1=function(){return r.init.menghuoFuShow.value||""},r.FB55=function(){return parseInt(r.init.menghuoFightTime.value||0)},r.FC13=function(){return parseInt(r.init.menghuoFullTime.value||0)},r.FD74=function(){return r.init.menghuoFuCost.value||""},r.FE74=function(){return r.init.fieldExplain.value||""},r.FF93=function(t){var e=[];for(var i in r.monster){var s=r.monster[i];if(s.id==t){e=s;break}}return e},r.FI2=function(t){var e=this.FB56(t);return this.FF93(e.pos8)},r.FB56=function(t){return r.group[t]},r.ZE90=function(){if(!r.menghuoChapters){for(var t in r.menghuoChapters=[],r.menghuo){var e=r.menghuo[t],i=e.chapter-1;r.menghuoChapters[i]||(r.menghuoChapters[i]=[]),r.menghuoChapters[i].push(e)}for(var s in r.menghuoChapters)r.menghuoChapters[s].sort(function(t,e){return t.id-e.id})}},r.FC14=function(){return r.menghuoChapters||r.ZE90(),r.menghuoChapters},r.FA58=function(){var t=[];r.menghuoChapters||r.ZE90();var e=r.init.menghuoHardStart.value,i=r.menghuo[e];for(var s in r.menghuoChapters)parseInt(s)+1>=i.chapter||t.push(r.menghuoChapters[s]);return t},r.FA13=function(){var t=[];r.menghuoChapters||r.ZE90();var e=r.init.menghuoHardStart.value,i=r.menghuo[e];for(var s in r.menghuoChapters)parseInt(s)+1<i.chapter||t.push(r.menghuoChapters[s]);return t},r.FA22=function(t){return r.menghuoChapters||r.ZE90(),r.menghuoChapters[t]},r.FG90=function(t){return!!r.menghuo[t]},r.FE75=function(){var t=void 0;for(var e in r.menghuo)t?parseInt(e)>t&&(t=parseInt(e)):t=parseInt(e);return t},r.FB57=function(){var t=-1,e=r.FA58();for(var i in e){var s=e[i];for(var o in s)s[o].id>t&&(t=s[o].id)}return t},r.currentMode="easy",r}();__reflect(N17.prototype,"N17");var O9=function(){function t(){}return t.A86=10001,t.A87=10002,t.A26=10003,t.A27=10004,t.A76=10005,t.A28=10006,t.A29=10007,t.A3=10008,t.A4=10009,t.A30=10010,t.A31=10011,t.A5=10012,t.A6=10013,t.A17=10014,t.A18=10015,t.A44=10016,t.A45=10017,t.A46=10018,t.A47=10019,t.A77=10020,t.A78=10021,t.A48=10022,t.A49=10023,t.A50=10024,t.A51=10025,t.A35=10026,t.A36=10027,t.A52=10028,t.A7=10029,t.A8=10030,t.A1=10031,t.A2=10032,t.A53=10033,t.A54=10034,t.A19=10035,t.A37=10036,t.A38=10037,t.A62=10038,t.A63=10039,t.A9=10040,t.A10=10041,t.A64=10042,t.A65=10043,t.A20=10044,t.A21=10045,t.A13=10046,t.A22=10047,t.A23=10048,t.A14=10049,t.A84=10050,t.A85=10051,t.A55=10052,t.A56=10053,t.A57=10054,t.A58=10055,t.A32=10056,t.A39=10057,t.A40=10058,t.A41=10059,t.A42=10060,t.A59=10061,t.A69=10062,t.A33=10063,t.A43=10064,t.A11=10065,t.A79=10066,t.A88=10067,t.A89=10068,t.A70=10069,t.A80=20001,t.A71=20002,t.A81=20003,t.A72=20004,t.A82=20005,t.A73=20006,t.A83=20007,t.A74=20008,t.A34=20009,t.A24=20010,t.A15=20011,t.A12=20012,t.A25=20013,t.A16=20014,t.A66=20015,t.A60=20016,t.A67=20017,t.A68=20018,t.A75=20019,t.A61=20020,t.A90=30001,t.A91=30002,t}();__reflect(O9.prototype,"O9");var TE60=function(i){function t(){var t=i.call(this)||this,e=new TG91(t);return e.aLV(O7.HH95),e.aLV(O7.G75),e.aLV(O7.G76),e.aLV(O7.HH45),e.aLV(O7.F90),e.aLV(O7.HH98),e.aLV(O7.I3),e.aLV(O7.E6),e.aLV(O7.I15),e.aLV(O7.C49),e.aLV(O7.I64),e.aLV(O7.I63),e.aLV(O7.I39),e.aLV(O7.I85),e.aLV(O7.E91),App.VM.register(O7.HH95,"BossMainView",t,K17.UI_Main_TOP),t.rgF(O9.A80,t.GM76,t),t.rgF(O9.A71,t.GL12,t),t.rgF(O9.A67,t.GJ5,t),t.rgF(O9.A68,t.GJ6,t),t.rgF(O9.A75,t.GL11,t),t.rgF(O9.A61,t.GHH24,t),App.VM.register(O7.G74,"BossRewardView",t,K17.UI_Popup),t.rgF(O9.A66,t.GJ7,t),t.rgF(O9.A60,t.GHH25,t),App.VM.register(O7.I14,"BossWarnView",t,K17.UI_Popup),t.rgF(O9.A81,t.GM77,t),t.rgF(O9.A72,t.GL13,t),App.VM.register(O7.I15,"BossRankView",t,K17.UI_Main_TOP),t.rgF(O9.A82,t.GM78,t),t.rgF(O9.A73,t.GL14,t),App.VM.register(O7.E6,"FieldBossInfoView",t,K17.UI_Main_TOP),t.rgF(O9.A34,t.GL10,t),t.rgF(O9.A24,t.GJ4,t),App.VM.register(O7.C48,"BossCostConfirmView",t,K17.UI_Popup),t.rgF(O9.A15,t.GC49,t),t.rgF(O9.A12,t.GB65,t),App.VM.register(O7.C49,"BossMenHuoInfoView",t,K17.UI_Main_TOP),t.rgF(O9.A25,t.GD39,t),t.rgF(O9.A16,t.GD40,t),App.VM.register(O7.E91,"BossTimesBuyView",t,K17.UI_Popup),t.proxy=new TG92(t),t.rgF(O9.A59,t.GB66,t),t.rgF(O9.A86,t.GV74,t),t.rgF(O9.A87,t.GV75,t),t.rgF(O9.A26,t.GJ2,t),t.rgF(O9.A27,t.GJ3,t),t.rgF(O9.A76,t.GQ47,t),t.rgF(O9.A28,t.GI99,t),t.rgF(O9.A29,t.GJ1,t),t.rgF(O9.A3,t.proxy.ZC33,t.proxy),t.rgF(O9.A4,t.GD38,t),t.rgF(O9.A30,t.GI97,t),t.rgF(O9.A31,t.GI98,t),t.rgF(O9.A5,t.GC47,t),t.rgF(O9.A6,t.GC48,t),t.rgF(O9.A17,t.GHH22,t),t.rgF(O9.A18,t.GHH23,t),t.rgF(O9.A44,t.GL8,t),t.rgF(O9.A45,t.GL9,t),t.rgF(O9.A46,t.GM74,t),t.rgF(O9.A47,t.GM75,t),t.rgF(O9.A77,t.GQ45,t),t.rgF(O9.A78,t.GQ46,t),t.rgF(O9.A7,t.GE36,t),t.rgF(O9.A8,t.GE37,t),t.rgF(O9.A41,t.GI96,t),t.rgF(O9.A42,t.GE38,t),t.rgF(O9.A35,t.GL6,t),t.rgF(O9.A36,t.GL7,t),t.rgF(O9.A52,t.GO67,t),t.rgF(O9.A1,t.GC45,t),t.rgF(O9.A2,t.GC46,t),t.rgF(O9.A53,t.GM72,t),t.rgF(O9.A54,t.GM73,t),t.rgF(O9.A19,t.GHH21,t),t.rgF(O9.A37,t.GL4,t),t.rgF(O9.A38,t.GL5,t),t.rgF(O9.A62,t.GO65,t),t.rgF(O9.A63,t.GO66,t),t.rgF(O9.A9,t.GF54,t),t.rgF(O9.A10,t.GF55,t),t.rgF(O9.A64,t.GO63,t),t.rgF(O9.A65,t.GO64,t),t.rgF(O9.A20,t.GI94,t),t.rgF(O9.A21,t.GI95,t),t.rgF(O9.A13,t.GHH20,t),t.rgF(O9.A22,t.GHH18,t),t.rgF(O9.A23,t.GHH19,t),t.rgF(O9.A14,t.GF53,t),t.rgF(O9.A84,t.GU24,t),t.rgF(O9.A85,t.GU25,t),t.rgF(O9.A55,t.GM70,t),t.rgF(O9.A56,t.GM71,t),t.rgF(O9.A57,t.GO61,t),t.rgF(O9.A58,t.GO62,t),t.rgF(O9.A32,t.GI93,t),t.rgF(O9.A39,t.GL2,t),t.rgF(O9.A40,t.GL3,t),t.rgF(O9.A88,t.proxy.bossSetReq,t.proxy),t.rgF(O9.A89,t.GI93,t),t.rgF(O9.A70,t.GI93,t),t.rgF(O9.A69,t.GO68,t),t.rgF(O9.A33,t.GHH26,t),t.rgF(O9.A43,t.GJ8,t),t.rgF(O9.A11,t.GD41,t),t.rgF(O9.A79,t.GS43,t),t}return __extends(t,i),t.prototype.GL2=function(t){this.proxy.GL2(t)},t.prototype.GL3=function(t){200==t.head.state?this.gtM().ZC91(t.body):App.CM.apF(O6.B87,L10.A4,t)},t.prototype.GI93=function(t){if(200==t.head.state){var e=this.gtM();P7.isEmpty(t.body||{})&&e.clearTeam(),e.ZC91(t.body)}else App.CM.apF(O6.B87,L10.A4,t)},t.prototype.GO61=function(t){this.proxy.GO61(t)},t.prototype.GO62=function(t){200==t.head.state?this.gtM().ZC91(t.body):App.CM.apF(O6.B87,L10.A4,t)},t.prototype.GM70=function(t){this.proxy.GM70(t)},t.prototype.GM71=function(t){if(200==t.head.state){this.gtM().ZC91(t.body),App.CM.apF(O6.C21,O9.A60);var e;e={rewards:t.body.ob,needResult:!0},App.CM.apF(O6.B99,N1.A9,1,e)}else App.CM.apF(O6.B87,L10.A4,t)},t.prototype.GU24=function(t,e){TG53.FJ54()||this.proxy.GU24(t,e)},t.prototype.GU25=function(t){if(200==t.head.state){var e=this.gtM();e.ZC91(t.body),P18.sDP(O3.tr(538));var i;i={rewards:t.body.ob,needResult:!0},e.notify(),App.CM.apF(O6.B99,N1.A9,1,i)}else App.CM.apF(O6.B87,L10.A4,t)},t.prototype.GF53=function(t){if(200==t.head.state)if(t.body.cd_)P7.fightCoolingCD(t.body.cd_);else{var e=P7.isGetView(O7.C49),i=this.gtM();i.notify(),i.ZC91(t.body);var r=THH25.getTeam().bossId,n=!!t.body.fr.v;i.clearTeam(),t.body.fr&&(e&&(App.CM.apF(O6.C21,O9.A71),App.CM.apF(O6.C21,O9.A16)),App.CM.apF(O6.B99,N1.A11,t.body.fr,{rewards:t.body.ob,needResult:!0,type:P15.A23,isAuto:e},function(t,e){var i,s=N17.menghuo[r].chapter,o=N17.FA22(s-1);r==o[o.length-1].id&&n&&(s=N17.FA22(s+1)?s+1:s,i=0),e&&App.CM.apF(O6.C21,O9.A25,s,null,i)},this))}else App.CM.apF(O6.B87,L10.A4,t)},t.prototype.GHH18=function(t){TG53.FJ54()||(THH25.FG92(!0),this.proxy.GHH18(t))},t.prototype.GHH19=function(t){var i=this;if(200==t.head.state)if(t.body.cd_)P7.fightCoolingCD(t.body.cd_);else{App.VM.isOpen(O7.G52)&&App.CM.apF(O6.B90,L19.A12),App.VM.isOpen(O7.G45)&&App.CM.apF(O6.B82,L13.A48);var e=this.gtM();e.notify(),e.ZC91(t.body),e.clearTeam();var s=P7.isGetView(O7.C49);t.body.fr&&(App.CM.apF(O6.C21,O9.A71),App.CM.apF(O6.C21,O9.A16),App.CM.apF(O6.B99,N1.A11,t.body.fr,{rewards:t.body.ob,needResult:!0,type:P15.A23,isAuto:s},function(t,e){e&&i.ZT94(O6.C21,O9.A61)},this)),THH25.FG92(!1)}else App.CM.apF(O6.B87,L10.A4,t)},t.prototype.GHH20=function(t){200==t.head.state?this.gtM().clearTeam():App.CM.apF(O6.B87,L10.A4,t)},t.prototype.GI94=function(t){this.proxy.GI94(t)},t.prototype.GI95=function(t){if(200==t.head.state){this.gtM().ZC91(t.body);var e=App.VM.gOV(O7.C49);e&&e.teamRefresh()}else App.CM.apF(O6.B87,L10.A4,t)},t.prototype.GO63=function(){this.proxy.GO63()},t.prototype.GO64=function(t){if(200==t.head.state){this.gtM().clearTeam();var e=App.VM.gOV(O7.C49);e&&e.teamRefresh()}else App.CM.apF(O6.B87,L10.A4,t)},t.prototype.GF54=function(t){if(!TG53.FJ54()){var e=this.gtM(),i=e.cdFullSelct?1:0,s=e.cdSelect?1:0;this.proxy.GF54(t,i,s)}},t.prototype.GF55=function(t){200==t.head.state?(this.gtM().ZC91(t.body),THH25.FD75(),this.ZT94(O6.B64,J18.A37,!1)):App.CM.apF(O6.B87,L10.A4,t)},t.prototype.GO65=function(t){TG53.FJ54()||this.proxy.GO65(t)},t.prototype.GO66=function(t){200==t.head.state?(this.gtM().ZC91(t.body),this.ZT94(O6.B64,J18.A37,!1)):App.CM.apF(O6.B87,L10.A4,t)},t.prototype.GL4=function(t){if(!TG53.FJ54()){var e=this.gtM(),i=e.cdFullSelct?1:0,s=e.cdSelect?1:0;this.proxy.GL4(t,i,s)}},t.prototype.GL5=function(t){200==t.head.state?(this.gtM().ZC91(t.body),this.ZT94(O6.B64,J18.A37,!1)):App.CM.apF(O6.B87,L10.A4,t)},t.prototype.GHH21=function(t){200==t.head.state?this.gtM().ZC91(t.body):App.CM.apF(O6.B87,L10.A4,t)},t.prototype.GM72=function(){this.proxy.GM72()},t.prototype.GM73=function(t){200==t.head.state?this.gtM().ZC91(t.body):App.CM.apF(O6.B87,L10.A4,t)},t.prototype.GC45=function(){this.proxy.GC45()},t.prototype.GC46=function(t){200==t.head.state?this.gtM().ZC91(t.body):App.CM.apF(O6.B87,L10.A4,t)},t.prototype.GE36=function(t,e){this.proxy.GE36(t,e)},t.prototype.GE37=function(t){200==t.head.state?this.gtM().ZC91(t.body):App.CM.apF(O6.B87,L10.A4,t)},t.prototype.GO67=function(t){if(200==t.head.state){if(t.body.ob){var e;e={rewards:t.body.ob,needResult:!0},App.CM.apF(O6.B99,N1.A9,1,e)}this.gtM().ZC91(t.body),this.GM72()}else App.CM.apF(O6.B87,L10.A4,t)},t.prototype.GL6=function(t){TG53.FJ54()||(this.gtM().curFieldBossId=t,this.proxy.GL6(t))},t.prototype.GL7=function(t){var s=this;if(200!=t.head.state)return P18.sDP(K18.getTips(t.head.state)),void this.ZT94(O6.B99,N1.A5);if(t.body.cd_)P7.fightCoolingCD(t.body.cd_);else{this.ZT94(O6.B99,N1.A5,!1);var o=this.gtM();o.ZC91(t.body),o.notify();var e=P7.isGetView(O7.HH45);t.body.fr&&(App.CM.apF(O6.C21,O9.A71),App.CM.apF(O6.C21,O9.A24),App.VM.isOpen(O7.G55)&&App.VM.close(O7.G55),App.CM.apF(O6.B99,N1.A11,t.body.fr,{rewards:t.body.ob,needResult:!0,type:P15.A35,isAuto:e},function(t,e){e&&s.ZT94(O6.C21,O9.A75);var i=o.fieldBoss.FF96(o.curFieldBossId);i&&(App.CM.apF(O6.C21,O9.A34,i),o.curFieldBossId=null)},this))}},t.prototype.GQ45=function(){this.proxy.GQ45()},t.prototype.GQ46=function(t){200==t.head.state?this.gtM().ZC91(t.body):App.CM.apF(O6.B87,L10.A4,t)},t.prototype.GM74=function(t){this.proxy.GM74(t)},t.prototype.GM75=function(t){200==t.head.state?this.gtM().ZC91(t.body):App.CM.apF(O6.B87,L10.A4,t)},t.prototype.GL8=function(t,e){this.proxy.GL8(t,e)},t.prototype.GL9=function(t,e){200==t.head.state?(this.gtM().ZC91(t.body),e&&this.GI97(e)):App.CM.apF(O6.B87,L10.A4,t)},t.prototype.GHH22=function(){this.proxy.GHH22()},t.prototype.GHH23=function(t){if(200!=t.head.state)switch(t.head.state){case 241:P18.sDP(O3.tr(557));break;default:App.CM.apF(O6.B87,L10.A4,t)}else{var e=this.gtM();App.VM.close(O7.E91),e.ZC91(t.body),e.notify(),P18.sDP(O3.tr(558))}},t.prototype.GC47=function(){this.proxy.GC47()},t.prototype.GC48=function(t){200==t.head.state?this.gtM().ZC91(t.body):App.CM.apF(O6.B87,L10.A4,t)},t.prototype.GI96=function(t){if(200==t.head.state){if(t.body.boss&&t.body.boss[0])for(var e=0;e<t.body.boss.length;e++){var i=t.body.boss[e].bid;if(THH25.FI4(i))return void this.gtM().setRemindId(i)}}else App.CM.apF(O6.B87,L10.A4,t)},t.prototype.GE38=function(t){if(200==t.head.state)if(t.body.cd_)P7.fightCoolingCD(t.body.cd_);else{var e=P7.isGetView(O7.HH45);t.body.fr&&(this.gtM().notify(),App.CM.apF(O6.B99,N1.A11,t.body.fr,{rewards:t.body.ob,needResult:!0,type:P15.A35,isAuto:e},function(){},this))}else App.CM.apF(O6.B87,L10.A4,t)},t.prototype.GI97=function(t){TG53.FJ54()||App.CM.gtM(O6.B99).canReqAtk&&(this.ZT94(O6.B99,N1.A5,!1),this.proxy.GI97(t))},t.prototype.GI98=function(t){var i=this;if(200!=t.head.state){switch(t.head.state){case 330:THH25.FF94()}return 330!=t.head.state&&App.CM.apF(O6.B87,L10.A4,t),void this.ZT94(O6.B99,N1.A5)}if(t.body.cd_)P7.fightCoolingCD(t.body.cd_);else{var e=this.gtM();e.ZC91(t.body),e.notify(),t.body.hr&&THH25.dealHr(t.body.hr);var s=P7.isGetView(O7.G76);t.body.fr&&(e.notify(),App.CM.apF(O6.C21,O9.A71),App.CM.apF(O6.C5,N3.A47),App.VM.isOpen(O7.G55)&&App.VM.close(O7.G55),App.CM.apF(O6.B99,N1.A11,t.body.fr,{rewards:t.body.ob,needResult:!0,type:P15.A29,isAuto:s},function(t,e){e&&i.ZT94(O6.C21,O9.A68)},this))}},t.prototype.GI99=function(t){TG53.FJ54()||this.proxy.GI99(t)},t.prototype.GJ1=function(t){if(200==t.head.state){var e;e={rewards:t.body.ob,needResult:!0},App.CM.apF(O6.B99,N1.A9,1,e),this.gtM().ZC91(t.body)}else App.CM.apF(O6.B87,L10.A4,t)},t.prototype.GD38=function(t){if(200==t.head.state){var e;e={rewards:t.body.ob,needResult:!0},App.CM.apF(O6.B99,N1.A9,1,e),this.gtM().ZC91(t.body)}else App.CM.apF(O6.B87,L10.A4,t)},t.prototype.GQ47=function(t){200==t.head.state?this.gtM().ZC91(t.body):App.CM.apF(O6.B87,L10.A4,t)},t.prototype.GJ2=function(t){TG53.FJ54()||App.CM.gtM(O6.B99).canReqAtk&&(this.ZT94(O6.B99,N1.A5,!1),this.proxy.GJ2(t))},t.prototype.GJ3=function(t){var i=this;if(200!=t.head.state)return App.CM.apF(O6.B87,L10.A4,t),void this.ZT94(O6.B99,N1.A5);if(t.body.cd_)P7.fightCoolingCD(t.body.cd_);else{var e=this.gtM();e.ZC91(t.body),e.notify();var s=P7.isGetView(O7.G75);t.body.fr&&(s&&(App.CM.apF(O6.C21,O9.A71),App.CM.apF(O6.C5,N3.A47)),App.CM.apF(O6.B99,N1.A11,t.body.fr,{rewards:t.body.ob,needResult:!0,type:P15.A28,isAuto:s},function(t,e){e&&i.ZT94(O6.C21,O9.A67)},this))}},t.prototype.GV74=function(){return this.proxy.GV74()},t.prototype.GV75=function(t){200==t.head.state?this.gtM().loadBossData(t.body):App.CM.apF(O6.B87,L10.A4,t)},t.prototype.GL10=function(t){App.VM.open(O7.E6,t)},t.prototype.GJ4=function(){App.VM.close(O7.E6)},t.prototype.GJ5=function(){App.VM.open(O7.HH95,O7.G75)},t.prototype.GJ6=function(){App.VM.open(O7.HH95,O7.G76)},t.prototype.GL11=function(){App.VM.open(O7.HH95,O7.HH45)},t.prototype.GHH24=function(){App.VM.open(O7.HH95,O7.F90)},t.prototype.GM76=function(t){App.VM.open(O7.HH95,t)},t.prototype.GL12=function(){App.VM.close(O7.HH95)},t.prototype.GJ7=function(t){App.VM.open(O7.G74,t)},t.prototype.GHH25=function(t){App.VM.close(O7.G74)},t.prototype.GM77=function(){App.VM.open(O7.I14)},t.prototype.GL13=function(){App.VM.close(O7.I14)},t.prototype.GM78=function(t,e){App.VM.open(O7.I15,t,e)},t.prototype.GL14=function(){App.VM.close(O7.I15)},t.prototype.GC49=function(){App.VM.open(O7.C48)},t.prototype.GB65=function(){App.VM.close(O7.C48)},t.prototype.GD39=function(t,e,i){App.VM.open(O7.C49,t,e,i)},t.prototype.GD40=function(){App.VM.close(O7.C49)},t.prototype.GB66=function(t){App.VM.gOV(O7.C49).updateIndex(t)},t.prototype.GS43=function(){return!!this.timerHandler},t.prototype.GO68=function(){var t,e=this,i=App.CM.gtM(O6.C21),s=THH25.FL44(),o=s?N17.FB55():N17.FB55()-i.menghuoBoss.team.cd;i.cdSelect&&s||!s&&0<=i.menghuoBoss.team.cd?this.timerHandler||((t=App.VM.gOV(O7.C49))&&s&&t.ZN50(O3.tr(544,o)),this.timerHandler=App.K16.doTimer(1e3,o,function(){var t=App.VM.gOV(O7.C49);--o,i.cd=o,i.notify("bossCd"),t&&s&&t.ZN50(O3.tr(544,o))},this,function(){e.GJ8(),e.GD41(),TG53.FJ54()||App.CM.apF(O6.C21,O9.A22,THH25.getTeam().teamId)},this)):(t=App.VM.gOV(O7.C49))&&t.ZN50(O3.tr(544,o))},t.prototype.GHH26=function(){var t=this;if(App.CM.gtM(O6.C21).cdFullSelct&&THH25.FL44()){for(var e=THH25.FG91(),i=0;i<e.length;i++)if(e[i].empty)return void this.GD41();if(!this.fullTimerHandler){var s=N17.FC13();this.fullTimerHandler=App.K16.doTimer(1e3,s,function(){},this,function(){t.GJ8(),t.GD41(),TG53.FJ54()||App.CM.apF(O6.C21,O9.A22,THH25.getTeam().teamId)},this)}}else this.GD41()},t.prototype.GJ8=function(){if(App.CM.gtM(O6.C21).cd=N17.FB55(),this.timerHandler){App.K16.rBH(this.timerHandler),this.timerHandler=null;var t=N17.FB55(),e=App.VM.gOV(O7.C49);e&&e.ZN50(O3.tr(544,t))}},t.prototype.GD41=function(){this.fullTimerHandler&&(App.K16.rBH(this.fullTimerHandler),this.fullTimerHandler=null)},t}(TE11);__reflect(TE60.prototype,"TE60");var TG91=function(i){function t(t){var e=i.call(this,t)||this;return e.singleBoss=new SBossData,e.peopleBoss=new PBossData,e.fieldBoss=new FBossData,e.menghuoBoss=new BossMHData,e.cdSelect=!0,e.cdFullSelct=!0,e.cd=0,e}return __extends(t,i),t.prototype.notify=function(t){i.prototype.notifyView.call(this,this,t)},t.prototype.loadBossData=function(t){void 0===t&&(t={}),this.singleBoss.initData(),this.peopleBoss.initData(),this.menghuoBoss.initData(),this.ZC91(t)},t.prototype.ZC91=function(t){void 0===t&&(t={}),this.singleBoss.ZC91(t),this.peopleBoss.ZC91(t),this.fieldBoss.ZC91(t),this.menghuoBoss.ZC91(t),this.notify()},t.prototype.FC80=function(){return this.singleBoss.ZI7()},t.prototype.ZE91=function(t){return this.peopleBoss.ZI6(t)},t.prototype.FB19=function(){return this.fieldBoss.ZK46()},t.prototype.getFsb=function(){return this.singleBoss.fsb},t.prototype.clearTeam=function(){this.menghuoBoss.clearTeam(),App.CM.apF(O6.C21,O9.A43),App.CM.apF(O6.C21,O9.A11),this.notify("bossCd")},t.prototype.getRedNums=function(){var t=0;return 0<this.singleBoss.getRedNums()?t+=1:0<this.peopleBoss.getRedNums()?t+=1:0<this.fieldBoss.getRedNums()?t+=1:0<this.menghuoBoss.getRedNums()?t+=1:0<App.CM.gtM(O6.B10).getRed()?t+=1:t},t.prototype.setRemindId=function(t){this.remindId=t,this.notify()},t.prototype.ZV36=function(){this.remindId=null},t}(TG79);__reflect(TG91.prototype,"TG91");var TG92=function(i){function t(t){var e=i.call(this,t)||this;return e.rSM(P4.O23,e.GJ3,e),e.rSM(P4.V77,e.GQ47,e),e.rSM(P4.O25,e.GJ1,e),e.rSM(P4.I33,e.GD38,e),e.rSM(P4.O27,e.GI98,e),e.rSM(P4.F6,e.GC48,e),e.rSM(P4.M17,e.GHH23,e),e.rSM(P4.S4,e.GM75,e),e.rSM(P4.V79,e.GQ46,e),e.rSM(P4.Q19,e.GL7,e),e.rSM(P4.S5,e.GO67,e),e.rSM(P4.G75,e.GE37,e),e.rSM(P4.D91,e.GC46,e),e.rSM(P4.S7,e.GM73,e),e.rSM(P4.Q21,e.GL5,e),e.rSM(P4.T58,e.GO66,e),e.rSM(P4.I31,e.GF55,e),e.rSM(P4.T60,e.GO64,e),e.rSM(P4.M20,e.GI95,e),e.rSM(P4.K8,e.GHH20,e),e.rSM(P4.M22,e.GHH19,e),e.rSM(P4.K9,e.GF53,e),e.rSM(P4.X18,e.GU25,e),e.rSM(P4.S9,e.GM71,e),e.rSM(P4.S11,e.GO62,e),e.rSM(P4.O28,e.GI93,e),e.rSM(P4.Q23,e.GL3,e),e.rSM(P4.Q24,e.GI96,e),e.rSM(P4.Q25,e.GE38,e),e.rSM(P4.Y4,e.bossSetRes,e),e.rSM(P4.U70,e.bossSetPush,e),e}return __extends(t,i),t.prototype.GL2=function(t){var e={type:P4.Q22,body:{bossId:t}};this.sSM(e)},t.prototype.GO61=function(t){var e={type:P4.S10,body:{bossId:t}};this.sSM(e)},t.prototype.GM72=function(){var t={type:P4.S6,body:{}};this.sSM(t)},t.prototype.GC45=function(){var t={type:P4.D90,body:{}};this.sSM(t)},t.prototype.GE36=function(t,e){void 0===e&&(e=1);var i={type:P4.G74,body:{bossId:t,type:e}};this.sSM(i)},t.prototype.GL6=function(t){var e={type:P4.Q18,body:{bossId:t}};this.sSM(e)},t.prototype.ZK42=function(t,e){var i={type:P4.R75,body:{itemId:t,num:e}};this.sSM(i)},t.prototype.ZK43=function(t,e){var i={type:P4.R73,body:{itemId:t,num:e}};this.sSM(i)},t.prototype.GQ45=function(){var t={type:P4.V78,body:{}};this.sSM(t)},t.prototype.GM74=function(t){var e={type:P4.S3,body:{bossId:t}};this.sSM(e)},t.prototype.GL8=function(t,e){var i={type:P4.S1,body:{bossId:t,type:e}},s={};s.id=t,this.rSMO(P4.S2,this.GL9,this,s),this.sSM(i)},t.prototype.GL9=function(t,e){var i=e.id;this.apF(O9.A45,t,i)},t.prototype.GHH22=function(){var t={type:P4.M16,body:{ten:1}};this.sSM(t)},t.prototype.GC47=function(){var t={type:P4.F5,body:{}};this.sSM(t)},t.prototype.GV74=function(){var s=this;return new Promise(function(e,t){var i={type:P4.X82,body:{}};s.rSMO(P4.X83,function(t){s.apF(O9.A87,t),e("Boss数据加载完成")},s),s.sSM(i)})},t.prototype.GI97=function(t){var e={type:P4.O26,body:{bossId:t}};this.sSM(e)},t.prototype.GJ2=function(t){var e={type:P4.O22,body:{bossId:t}};this.sSM(e)},t.prototype.GI99=function(t){var e={type:P4.O24,body:{bossId:t}};this.sSM(e)},t.prototype.GL4=function(t,e,i){var s={type:P4.Q20,body:{bossId:t,isFull:e,isTime:i}};this.sSM(s)},t.prototype.GO65=function(t){var e={type:P4.T57,body:{teamId:t}};this.sSM(e)},t.prototype.GF54=function(t,e,i){var s={type:P4.I30,body:{bossId:t,isFull:e,isTime:i}};this.sSM(s)},t.prototype.GO63=function(){var t={type:P4.T59,body:{}};this.sSM(t)},t.prototype.GI94=function(t){var e={type:P4.M19,body:{targeId:t}};this.sSM(e)},t.prototype.GHH18=function(t){var e={type:P4.M21,body:{teamId:t}};this.sSM(e)},t.prototype.GU24=function(t,e){var i={type:P4.X17,body:{type:t,bossId:e}};this.sSM(i)},t.prototype.ZC33=function(){var t={type:P4.I32,body:{}};this.sSM(t)},t.prototype.GM70=function(t){var e={type:P4.S8,body:{bossId:t}};this.sSM(e)},t.prototype.GF53=function(t){this.apF(O9.A14,t)},t.prototype.GM71=function(t){this.apF(O9.A56,t)},t.prototype.GU25=function(t){this.apF(O9.A85,t)},t.prototype.GHH19=function(t){this.apF(O9.A23,t)},t.prototype.GHH20=function(t){this.apF(O9.A13,t)},t.prototype.GI95=function(t){this.apF(O9.A21,t)},t.prototype.GO64=function(t){this.apF(O9.A65,t)},t.prototype.GF55=function(t){this.apF(O9.A10,t)},t.prototype.GO66=function(t){this.apF(O9.A63,t)},t.prototype.GL5=function(t){this.apF(O9.A38,t)},t.prototype.GJ3=function(t){this.apF(O9.A27,t)},t.prototype.GQ47=function(t){this.apF(O9.A76,t)},t.prototype.GJ1=function(t){this.apF(O9.A29,t)},t.prototype.GD38=function(t){this.apF(O9.A4,t)},t.prototype.GI98=function(t){this.apF(O9.A31,t)},t.prototype.GC48=function(t){this.apF(O9.A6,t)},t.prototype.GHH23=function(t){this.apF(O9.A18,t)},t.prototype.GM75=function(t){this.apF(O9.A47,t)},t.prototype.GQ46=function(t){this.apF(O9.A78,t)},t.prototype.ZK44=function(t){this.apF(O9.A49,t)},t.prototype.ZK45=function(t){this.apF(O9.A51,t)},t.prototype.GL7=function(t){this.apF(O9.A36,t)},t.prototype.GO67=function(t){this.apF(O9.A52,t)},t.prototype.GE37=function(t){this.apF(O9.A8,t)},t.prototype.GC46=function(t){this.apF(O9.A2,t)},t.prototype.GM73=function(t){this.apF(O9.A54,t)},t.prototype.GO62=function(t){this.apF(O9.A58,t)},t.prototype.GI93=function(t){this.apF(O9.A32,t)},t.prototype.GL3=function(t){this.apF(O9.A40,t)},t.prototype.GI96=function(t){this.apF(O9.A41,t)},t.prototype.GE38=function(t){this.apF(O9.A42,t)},t.prototype.bossSetReq=function(t,e){var i={type:P4.Y3,body:{id:t,state:e}};this.sSM(i)},t.prototype.bossSetRes=function(t){this.apF(O9.A89,t)},t.prototype.bossSetPush=function(t){this.apF(O9.A70,t)},t}(TG80);__reflect(TG92.prototype,"TG92");var THH25=function(){function e(){}return e.FC80=function(){return App.CM.gtM(O6.C21).FC80()},e.FC81=function(t){return void 0===t&&(t=!0),App.CM.gtM(O6.C21).ZE91(t)},e.FB19=function(){return App.CM.gtM(O6.C21).FB19()},e.isFinish=function(t){for(var e=App.CM.gtM(O6.C21).getFsb(),i=0;i<e.length;i++)if(t==e[i])return!0;return!1},e.FB58=function(){var t=App.CM.gtM(O6.B82),e=App.CM.gtM(O6.B66),i=e.ZT74(),s=e.ZHH38();return t.avatarInfo.l>=parseInt(N17.init.singleQuick.value)||0<i||0!=s.isBuy},e.FA37=function(){return App.CM.gtM(O6.C21).peopleBoss.times},e.FA14=function(){return App.CM.gtM(O6.C21).peopleBoss.maxTimes},e.FK50=function(){return App.CM.gtM(O6.C21).peopleBoss.FJ24()},e.FJ36=function(){return App.CM.gtM(O6.C21).peopleBoss.vc||0},e.isWipe=function(t){return App.CM.gtM(O6.C21).singleBoss.isWipe(t)},e.FF94=function(){App.VM.open(O7.E91)},e.FL42=function(t){void 0===t&&(t=1);var e=App.CM.gtM(O6.C21);return 1==t?e.singleBoss.sw:2==t?e.peopleBoss.pw:void 0},e.getTimes=function(){return App.CM.gtM(O6.C21).peopleBoss.getTimes()},e.FE76=function(){return App.CM.gtM(O6.C21).peopleBoss.maxTimes},e.getFbcd=function(){return App.CM.gtM(O6.C21).fieldBoss.ZN49()},e.getFcd=function(){return App.CM.gtM(O6.C21).fieldBoss.ZR21()},e.getFbt=function(){return App.CM.gtM(O6.C21).fieldBoss.fbt},e.FL43=function(){return App.CM.gtM(O6.C21).peopleBoss.remind},e.getHr=function(){return App.CM.gtM(O6.C21).peopleBoss.hr},e.getKr=function(){return App.CM.gtM(O6.C21).peopleBoss.kr},e.FC15=function(t){return App.CM.gtM(O6.C21).menghuoBoss.bossList[t]},e.FI3=function(){return App.CM.gtM(O6.C21).menghuoBoss.teams||[]},e.FF95=function(t){return App.CM.gtM(O6.C21).menghuoBoss.FF95(t)},e.FG91=function(){var t=App.CM.gtM(O6.C21);return t.menghuoBoss.team?t.menghuoBoss.team.members:[]},e.isJoin=function(){return App.CM.gtM(O6.C21).menghuoBoss.isJoin()},e.getCurId=function(){return App.CM.gtM(O6.C21).menghuoBoss.getCurId()},e.FJ37=function(){return App.CM.gtM(O6.C21).menghuoBoss.FJ37()},e.FB20=function(t){return App.CM.gtM(O6.C21).menghuoBoss.FB20(t)},e.FK51=function(t){return App.CM.gtM(O6.C21).menghuoBoss.isLock(t)},e.FJ38=function(t){return App.CM.gtM(O6.C21).menghuoBoss.FJ38(t)},e.FL44=function(t){return void 0===t&&(t=null),App.CM.gtM(O6.C21).menghuoBoss.FL44(t)},e.getTeam=function(){return App.CM.gtM(O6.C21).menghuoBoss.team},e.getFkr=function(t){var e=App.CM.gtM(O6.C21);return e.menghuoBoss.fkrList?e.menghuoBoss.fkrList[t]:null},e.getQkr=function(t){var e=App.CM.gtM(O6.C21);return e.menghuoBoss.qkrList?e.menghuoBoss.qkrList[t]:null},e.FJ39=function(t){return App.CM.gtM(O6.C21).menghuoBoss.FJ39(t)},e.FE77=function(){return App.CM.gtM(O6.C21).menghuoBoss.FE77()},e.FK52=function(){return App.CM.gtM(O6.C21).menghuoBoss.FK52()},e.FI1=function(){var t=N17.FI1(),s=[],e=M18.FL28(t,";",":");return e&&0<e.length&&e.forEach(function(t){var e=N12.gID(t[0]);if(e){var i={data:e,ct:parseInt(t[1])};s.push({itemData:i,isBottom:!1,scale:1})}}),s},e.FD74=function(){var t=N17.FD74();return M18.FL28(t,":")},e.FL45=function(){return App.CM.gtM(O6.C21).peopleBoss.FL45()},e.FI4=function(t){return App.CM.gtM(O6.C21).peopleBoss.FI4(t)},e.FF96=function(t){return App.CM.gtM(O6.C21).peopleBoss.FF96(t)},e.FI5=function(){return App.CM.gtM(O6.C21).peopleBoss.FI5()},e.FG92=function(t){e.isWaitBattle=t},e.FG93=function(){return e.isWaitBattle},e.FD75=function(){return App.CM.gtM(O6.C21).menghuoBoss.FD75()},e.FA86=function(){return App.CM.gtM(O6.C21).menghuoBoss.FA86()},e.FC16=function(){return App.CM.gtM(O6.C21).menghuoBoss.FC16()},e.FG94=function(){return App.CM.gtM(O6.C21).peopleBoss.FG94()},e.dealHr=function(t){var e={};if(t){e.allHr=t.sort(function(t,e){return e.harm-t.harm});for(var i=!1,s=0;s<t.length;s++)if(t[s].name==O4.getName()){i=!0,e.me={name:t[s].name,harm:t[s].harm,rank:s+1};break}i||(e.allHr.push({name:O4.getName(),harm:0}),e.me={name:O4.getName(),harm:0,rank:e.allHr.length}),e.hr=P7.copyTab(e.allHr).slice(0,5),App.CM.gtM(O6.C21).hr=e}},e.addHarm=function(t){var e=App.CM.gtM(O6.C21);if(e.hr){e.hr.me.harm+=t;for(var i=0;i<e.hr.allHr.length;i++)if(e.hr.me.name==e.hr.allHr[i].name){e.hr.allHr[i].harm+=t;break}e.hr.allHr.sort(function(t,e){return e.harm-t.harm});for(i=0;i<e.hr.allHr.length;i++)if(e.hr.me.name==e.hr.allHr[i].name){e.hr.me.rank=i+1;break}e.hr.hr=P7.copyTab(e.hr.allHr).slice(0,5)}},e.FJ40=function(){return App.CM.gtM(O6.C21).hr},e.FK53=function(){return 0<App.CM.gtM(O6.C21).getRedNums()},e.isWaitBattle=!1,e}();__reflect(THH25.prototype,"THH25");var BossMHData=function(){function t(){this.dbk=[],this.mk=[],this.ya=[],this.ass=0,this.recruitTime=30}return t.prototype.initData=function(){if(!this.bossList){this.bossList=[];var t=N17.FC14();for(var e in t){this.bossList[e]=[];for(var i=0;i<t[e].length;i++){var s=new BossMHOneData;s.initData(t[e][i]),this.bossList[e].push(s)}}}},t.prototype.ZC91=function(t){if(t){if(t.team){if(this.team)this.team.ZC91(t.team,!0);else if(this.team=new BossTeamVo,this.team.ZC91(t.team,!0),!App.VM.gOV(O7.C49)){var e=this.team.bossId,i=N17.menghuo[e].chapter,s=e%100-1;App.CM.apF(O6.C21,O9.A25,i,null,s)}this.FL44()||(0<=this.team.cd?App.CM.apF(O6.C21,O9.A69):App.CM.apF(O6.C21,O9.A43))}if(t.teams){this.teams=[];for(var o=0;o<t.teams.length;o++){var r=new BossTeamVo;r.ZC91(t.teams[o]),this.teams.push(r)}}t.dbk&&(this.dbk=t.dbk||this.dbk),t.mk&&(this.mk=t.mk||this.mk),t.ya&&(this.ya=t.ya||this.ya),t.fkr&&(this.fkrList||(this.fkrList={}),this.fkrList[t.fkr.bossId]=t.fkr),t.qkr&&(this.qkrList||(this.qkrList={}),this.qkrList[t.qkr.bossId]=t.qkr),(t.ass||0==t)&&(this.ass=P7.getValue(t.ass,this.ass))}},t.prototype.getTeamInfo=function(){return this.team},t.prototype.getTeams=function(){return this.teams},t.prototype.isJoin=function(){if(!this.team)return!1;for(var t=0;t<this.team.members.length;t++)if(!this.team.members[t].empty)return!0;return!1},t.prototype.FJ37=function(){if(!this.dbk||0==this.dbk.length)return 0;for(var t=0,e=0;e<this.dbk.length;e++)this.dbk[e]>t&&(t=this.dbk[e]);return t},t.prototype.getCurId=function(){if(!this.dbk||0==this.dbk.length)return this.bossList[0][0].id;for(var t=0,e=0;e<this.dbk.length;e++)this.dbk[e]>t&&(t=this.dbk[e]);if(N17.FG90(t+1))return t+1;var i=Math.floor(t/100)%100+1;if(this.bossList[i-1])return this.bossList[i-1][0].id;if(t!=N17.FB57())return-1;var s=N17.init.menghuoHardStart.value,o=N17.menghuo[s];return this.bossList[o.chapter-1][0].id},t.prototype.FB20=function(t){return this.bossList[t-1]||[]},t.prototype.isLock=function(t){var e=this.getCurId();return-1!=e&&e<t},t.prototype.clearTeam=function(){this.team=null},t.prototype.FL44=function(t){(void 0===t&&(t=null),t)||(t=App.CM.gtM(O6.B82).avatarInfo.id);return!!this.team&&this.team.leader==t},t.prototype.FJ38=function(t){for(var e=0;e<this.mk.length;e++)if(t==this.mk[e])return!0;return!1},t.prototype.FJ39=function(t){if(this.FJ38(t)){for(var e=0;e<this.ya.length;e++)if(this.ya[e]==t)return!1;return!0}return!1},t.prototype.FF95=function(t){var e=this.getCurId();if(e<=t&&-1!=e)return!1;for(var i=0;i<this.mk.length;i++)if(t==this.mk[i])return!1;return!0},t.prototype.FE77=function(){var t=N17.FE71(),e=this.getCurId();return-1==e||t<e},t.prototype.FK52=function(){return N17.FF91()-this.ass},t.prototype.getRedNums=function(){for(var t=0,e=0;e<this.bossList.length;e++)if(this.bossList[e])for(var i=0;i<this.bossList[e].length;i++)if(0<this.bossList[e][i].getRedNums())return t+=1;return t},t.prototype.FD75=function(){this.team&&this.FL44()&&(this.lastRecruitTime=P6.getTime(!0))},t.prototype.FA86=function(){this.lastRecruitTime=0},t.prototype.FC16=function(){var t=P6.getTime(!0)-this.lastRecruitTime,e=this.recruitTime-t;return 0<e?e:0},t}();__reflect(BossMHData.prototype,"BossMHData");var BossMHOneData=function(){function t(){this.noShow=!1}return t.prototype.initData=function(t){t&&(this.id=t.id||this.id,this.name=t.name||this.name,this.chapter=t.chapter||this.chapter,this.modelId=t.modelid||this.modelId,this.firstAward=t.firstaward||this.firstAward,this.award=t.award||this.award)},t.prototype.ZC91=function(t){},t.prototype.ZN48=function(t){void 0===t&&(t=.8);var s=[],e=M18.FL28(this.firstAward,";",":");return e&&0<e.length&&e.forEach(function(t){var e=N12.gID(t[0]);if(e){var i={data:e,ct:parseInt(t[1])};s.push({itemData:i,isBottom:!1,scale:.7})}}),s},t.prototype.FF92=function(){var s=[],t=M18.FL28(N17.FF92(),",");return t&&0<t.length&&t.forEach(function(t){var e=N12.gID(t);if(e){var i={data:e,ct:0};s.push({itemData:i,isBottom:!1,scale:.9})}}),s},t.prototype.FE73=function(){var s=[],t=M18.FL28(N17.FE73(),";",":");return t&&0<t.length&&t.forEach(function(t){var e=N12.gID(t);if(e){var i={data:e,ct:0};s.push({itemData:i,isBottom:!1,scale:.7})}}),s},t.prototype.getRedNums=function(){var t=0;return THH25.FF95(this.id)&&(t+=1),t},t}();__reflect(BossMHOneData.prototype,"BossMHOneData");var BossTeamVo=function(){function t(){}return t.prototype.ZC91=function(t,e){if(void 0===e&&(e=null),this.teamId=t.teamId||this.teamId,this.leader=t.leader||this.leader,this.bossId=t.bossId||this.bossId,this.cd=P7.getValue(t.cd,this.cd),t.members){this.members||(this.members=[]);for(var i=0;i<3;i++)t.members[i]?this.members[i]=P7.copyTab(t.members[i]):this.members[i]={empty:!0}}},t.prototype.ZR19=function(){if(this.members)for(var t=0;t<this.members.length;t++)if(this.members[t].aid==this.leader)return this.members[t].name;return""},t.prototype.ZR20=function(){if(this.members)for(var t=0;t<this.members.length;t++)if(this.members[t].aid==this.leader)return this.members[t].icon;return""},t.prototype.getMemberNum=function(){var e=0;return this.members&&this.members.forEach(function(t){t.empty||(e+=1)}),e},t.prototype.FL44=function(){var t=App.CM.gtM(O6.B82);return this.leader==t.avatarInfo.id},t}();__reflect(BossTeamVo.prototype,"BossTeamVo");var FBossData=function(){function t(){this.fcd=0,this.lastLoadFcd=0,this.gcd=0,this.lastLoadGcd=0,this.fbcd=0,this.lastLoadFbcd=0,this.initData()}return t.prototype.initData=function(){if(!this.bossList)for(var t in this.bossList=[],N17.field){var e=new FBossOneData;e.initData(N17.field[t]),this.bossList.push(e)}},t.prototype.ZR21=function(){var t=P6.getTime(!0)-this.lastLoadFcd,e=this.fcd-t;return 0<e?e:0},t.prototype.ZR22=function(){var t=P6.getTime(!0)-this.lastLoadGcd,e=this.gcd-t;return 0<e?e:0},t.prototype.ZN49=function(){var t=P6.getTime(!0)-this.lastLoadFbcd,e=this.fbcd-t;return 0<e?e:0},t.prototype.ZC91=function(t){var i=this;(t.fcd||0==t.fcd)&&(this.fcd=P7.getValue(t.fcd,this.fcd),this.lastLoadFcd=P6.getTime(!0)),(t.gcd||0==t.gcd)&&(this.gcd=P7.getValue(t.gcd,this.gcd),this.lastLoadGcd=P6.getTime(!0)),(t.fbcd||0==t.fbcd)&&(this.fbcd=P7.getValue(t.fbcd,this.fbcd),this.lastLoadFbcd=P6.getTime(!0)),this.fbt=P7.getValue(t.fbt,this.fbt),t.fbs&&t.fbs.forEach(function(t){var e=i.FF96(t.bid);e&&e.ZC91(t)})},t.prototype.ZK46=function(){for(var t=[],e=0;e<this.bossList.length&&(t.push(this.bossList[e]),this.bossList[e].isOpen());e++);return t.sort(function(t,e){return t.FI23()&&!e.FI23()?-1:!t.FI23()&&e.FI23()?1:t.FI23()&&e.FI23()?e.openLevel-t.openLevel:e.state==t.state?e.openLevel-t.openLevel:t.state-e.state}),t},t.prototype.FF96=function(t){for(var e=0;e<this.bossList.length;e++)if(this.bossList[e].index==t)return this.bossList[e];return null},t.prototype.getRedNums=function(){var t=0;if(this.bossList)for(var e=0;e<this.bossList.length;e++){0<this.bossList[e].getRedNums()&&(t+=1)}return t},t}();__reflect(FBossData.prototype,"FBossData");var FBossOneData=function(){function t(){this.bs=1,this.oi={},this.quality=0}return t.prototype.initData=function(t){t&&(this.index=t.index,this.dropId=t.drop,this.modelId=t.modelid,this.openLevel=t.lv,this.name=t.name,this.fixRewardShow=t.fixrewardshow,this.randomRewardShow=t.randomrewardshow,this.challenge=t.challenge,this.monster=t.monster,this.hp=t.hp,this.quality=t.quality);var e=N17.group[this.monster].pos8;this.maxHp=N17.monster[e].hp},t.prototype.ZC91=function(t){this.hp=P7.getValue(t.hp,this.hp),this.bs=t.bs||this.bs,this.naid=t.naid||this.naid,t.ocd&&(this.ocd=P7.getValue(t.ocd,this.ocd),this.lastLoadTime=P6.getTime(!0)),-1==t.ocd&&this.oi?this.oi=null:this.oi=t.oi||this.oi,this.refreshState()},t.prototype.refreshState=function(){this.isOpen()?this.state=this.bs:this.state=4},t.prototype.ZK47=function(){return M18.FL28(this.challenge,":")||[]},t.prototype.ZD72=function(){return M18.FL28(this.fixRewardShow,";",":")||[]},t.prototype.ZB67=function(){return M18.FL28(this.randomRewardShow,";",":")||[]},t.prototype.FI23=function(){return!(1!=this.bs||!this.isOpen())},t.prototype.isOpen=function(){return App.CM.gtM(O6.B82).avatarInfo.l>=this.openLevel},t.prototype.isMe=function(){return!!this.oi&&App.CM.gtM(O6.B82).avatarInfo.n==this.oi.name},t.prototype.isUsed=function(){var t=App.CM.gtM(O6.B82).avatarInfo.id;if(this.naid)for(var e=0;e<this.naid.length;e++)if(this.naid[e]==t)return!0;return!1},t.prototype.isOccupy=function(){return!(!this.oi||!this.oi.name)},t.prototype.isKilled=function(){return 2==this.bs},t.prototype.getHpText=function(){var t=this.hp/this.maxHp*100;return t=t<.1&&0!=t?.1:Math.round(10*t)/10},t.prototype.ZV37=function(){return this.hp/this.maxHp*100},t.prototype.ZV38=function(){var s=[],t=M18.FL28(this.fixRewardShow,";",":");return t&&0<t.length&&t.forEach(function(t){var e=N12.gID(t[0]);if(e){var i={data:e,ct:parseInt(t[1])};s.push({itemData:i,isBottom:!1})}}),s},t.prototype.ZK48=function(){var s=[],t=M18.FL28(this.randomRewardShow,";",":");return t&&0<t.length&&t.forEach(function(t){var e=N12.gID(t[0]);if(e){var i={data:e,ct:0};s.push({itemData:i,isBottom:!1})}}),s},t.prototype.getOcdTime=function(){var t=P6.getTime(!0)-this.lastLoadTime,e=this.ocd-t;return 0<e?e:0},t.prototype.getRedNums=function(){var t=0;return this.isOpen()&&1==this.bs&&(t+=1),t},t}();__reflect(FBossOneData.prototype,"FBossOneData");var PBossData=function(){function t(){this.maxTimes=10,this.ccd=0,this.vc=0,this.times=0,this.lastLoadTime=0,this.pw=0,this.remind=[],this.maxIndex=0,this.tipsList=[],this.initData()}return t.prototype.initData=function(){if(!this.bossList){for(var t in this.bossList=[],N17.people){var e=new PBossOneData;e.initData(N17.people[t]),this.bossList.push(e)}this.bossList.sort(function(t,e){return t.index-e.index})}this.maxTimes=parseInt(N17.init.peopleTimes.value)},t.prototype.FI5=function(){if(this.bossList)for(var t=0;t<this.bossList.length;t++){var e=this.bossList[t];e.isOpen()&&e.index>this.maxIndex&&(this.maxIndex=e.index)}},t.prototype.ZC91=function(t){var i=this;this.times=P7.getValue(t.c,this.times),this.vc=P7.getValue(t.vc,this.vc),this.pw=P7.getValue(t.pw,this.pw),this.remind=t.remind||this.remind,this.hr=t.hr||this.hr,this.kr=t.kr||this.kr,(t.ccd||0==t.ccd)&&(this.ccd=P7.getValue(t.ccd,this.ccd),this.lastLoadTime=P6.getTime(!0)),t.boss&&t.boss.forEach(function(t){var e=i.FF96(t.bid);e&&e.ZC91(t)}),0<this.FJ24()&&!this.ccdTimerHandler&&(this.ccdTimerHandler=App.K16.doTimer(1e3,0,this.cddHandler,this))},t.prototype.cddHandler=function(){this.FJ24()<=0&&(App.CM.apF(O6.C21,O9.A77),this.ccdTimerHandler&&(App.K16.rBH(this.ccdTimerHandler),this.ccdTimerHandler=null))},t.prototype.getTimes=function(){return this.times},t.prototype.FJ24=function(){var t=P6.getTime(!0)-this.lastLoadTime,e=this.ccd-t;return 0<e?e:0},t.prototype.ZI6=function(t){for(var e=[],i=0;i<this.bossList.length&&(e.push(this.bossList[i]),this.bossList[i].isOpen());i++);return t&&e.sort(function(t,e){return t.isOpen()&&!e.isOpen()?-1:!t.isOpen()&&e.isOpen()?1:t.isOpen()&&e.isOpen()?t.isDead()&&!e.isDead()?1:!t.isDead()&&e.isDead()?-1:e.index-t.index:e.index-t.index}),e},t.prototype.FF96=function(t){for(var e=0;e<this.bossList.length;e++)if(this.bossList[e].index==t)return this.bossList[e];return null},t.prototype.getRedNums=function(){var t=0;if(this.times<=0)return t;if(this.bossList)for(var e=0;e<this.bossList.length;e++){0<this.bossList[e].getRedNums()&&(t+=1)}return t},t.prototype.FL45=function(){for(var t=0;t<this.bossList.length;t++){var e=this.bossList[t];if(e.index>this.maxIndex){if(!(O4.getLv()>=e.openLevel)||e.isRemind())break;var i=e.index;this.maxIndex=i,this.tipsList.push(i)}}0<this.tipsList.length&&(this.timerHandler||(this.timerHandler=App.K16.doTimer(500,0,this.remindReq,this,null,this)))},t.prototype.remindReq=function(){if(0<this.tipsList.length){var t=this.tipsList.shift();App.CM.apF(O6.C21,O9.A46,t),0==this.tipsList.length&&this.timerHandler&&(App.K16.rBH(this.timerHandler),this.timerHandler=null)}else this.timerHandler&&(App.K16.rBH(this.timerHandler),this.timerHandler=null)},t.prototype.FI4=function(t){for(var e=0;e<this.remind.length;e++)if(t==this.remind[e])return!0;return!1},t.prototype.FG94=function(){var t=parseInt(N17.init.peoplePassVip.value),e=parseInt(N17.init.peoplePassLv.value),i=App.CM.gtM(O6.B82);return i.avatarInfo.l>=e||i.avatarInfo.v>=t||(P18.sDP(O3.tr(551,t,e)),!1)},t}();__reflect(PBossData.prototype,"PBossData");var PBossOneData=function(){function t(){this.type=O9.A91,this.bcd=-1,this.cn=0,this.exp=0,this.lastLoadTime=0,this.quality=0}return t.prototype.initData=function(t){t&&(this.index=t.index,this.dropId=t.drop,this.modelId=t.modelid,this.openLevel=t.lv,this.name=t.name,this.award=t.award,this.item=t.item,this.cost=t.cost,this.monster=t.monster,this.exp=t.exp,this.quality=t.quality);var e=N17.group[this.monster].pos8;this.maxHp=N17.monster[e].hp,this.hp=this.maxHp},t.prototype.ZC91=function(t){this.hp=P7.getValue(t.hp,this.hp),this.cn=P7.getValue(t.cn,this.cn),(t.bcd||0==t.bcd)&&(this.bcd=P7.getValue(t.bcd,this.bcd),this.lastLoadTime=P6.getTime(!0))},t.prototype.isSweep=function(){return App.CM.gtM(O6.B82).avatarInfo.l>=this.openLevel+30},t.prototype.isOpen=function(){return App.CM.gtM(O6.B82).avatarInfo.l>=this.openLevel},t.prototype.isDead=function(){return-1!=this.bcd},t.prototype.isRemind=function(){for(var t=THH25.FL43(),e=0;e<t.length;e++)if(t[e]==this.index)return!0;return!1},t.prototype.getItem=function(){return this.item?M18.FL28(this.item,":"):null},t.prototype.ZV39=function(){var t=null,e=this.getItem();e&&e[0]&&(t={},N12.giC(e[0])>=e[1]?(t.k=parseInt(e[0]),t.v=parseInt(e[1])):(t.k=75e3,t.v=this.cost));return t},t.prototype.FJ24=function(){var t=P6.getTime(!0)-this.lastLoadTime,e=this.bcd-t;return 0<e?e:0},t.prototype.FK43=function(){var s=[],t=M18.FL28(this.award,",");if(t&&0<t.length&&t.forEach(function(t){var e=N12.gID(t);if(e){var i={data:e,ct:0};s.push({itemData:i,isBottom:!1,scale:.95})}}),this.exp){var e=N12.gID("75004");if(e){var i={data:e,ct:this.exp};s.push({itemData:i,isBottom:!1,scale:.95})}}return s},t.prototype.getRedNums=function(){var t=0;return this.isOpen()&&(this.isDead()||(t+=1)),t},t.prototype.getHpPrecent=function(){var t=this.hp/this.maxHp*100;return t=t<.1?.1:Math.round(10*t)/10},t}();__reflect(PBossOneData.prototype,"PBossOneData");var SBossData=function(){function t(){this.fsb=[],this.wsb=[],this.initData()}return t.prototype.initData=function(){if(!this.bossList){for(var t in this.bossList=[],N17.single){var e=new SBossOneData;e.initData(N17.single[t]),this.bossList.push(e)}this.bossList.sort(function(t,e){return t.index<e.index?-1:t.index>e.index?1:0})}},t.prototype.ZC91=function(t){this.fsb=t.fsb||this.fsb,this.sw=P7.getValue(t.sw,this.sw),this.wsb=t.wsb||this.wsb},t.prototype.isWipe=function(t){for(var e=0;e<this.wsb.length;e++)if(t==this.wsb[e])return!0;return!1},t.prototype.setSW=function(t){this.sw=t},t.prototype.ZI7=function(){for(var t=[],e=0;e<this.bossList.length&&(t.push(this.bossList[e]),this.bossList[e].isOpen());e++);return t.sort(function(t,e){return t.isOpen()&&!e.isOpen()?-1:!t.isOpen()&&e.isOpen()?1:t.isOpen()&&e.isOpen()?THH25.isFinish(t.index)&&!THH25.isFinish(e.index)?1:!THH25.isFinish(t.index)&&THH25.isFinish(e.index)?-1:t.index-e.index:t.index-e.index}),t},t.prototype.getRedNums=function(){var t=0;if(this.bossList)for(var e=0;e<this.bossList.length;e++){0<this.bossList[e].getRedNums()&&(t+=1)}return t},t}();__reflect(SBossData.prototype,"SBossData");var SBossOneData=function(){function t(){this.maxTimes=1,this.times=0,this.type=O9.A90,this.open=!1}return t.prototype.initData=function(t){t&&(this.index=t.index,this.dropId=t.drop,this.modelId=t.modelid,this.openLevel=t.lv,this.name=t.name,this.award=t.award)},t.prototype.ZC91=function(t){this.times=P7.getValue(t.times,this.times)},t.prototype.FJ24=function(){return THH25.isFinish(this.index)?0:this.maxTimes},t.prototype.isSweep=function(){return!!THH25.isWipe(this.index)&&App.CM.gtM(O6.B82).avatarInfo.l-N17.FK49()>this.openLevel},t.prototype.isOpen=function(){return App.CM.gtM(O6.B82).avatarInfo.l>=this.openLevel},t.prototype.FK43=function(){var s=[],t=M18.FL28(this.award,",");return t&&0<t.length&&t.forEach(function(t){var e=N12.gID(t);if(e){var i={data:e,ct:0};s.push({itemData:i,isBottom:!1,scale:.95})}}),s},t.prototype.getRedNums=function(){var t=0;return THH25.isFinish(this.index)||this.isOpen()&&(t=1),t},t}();__reflect(SBossOneData.prototype,"SBossOneData");var BossCostConfirmView=function(s){function t(t,e){var i=s.call(this,t,e)||this;return i.skinName="BossCostConfirmSkin",i}return __extends(t,s),t.prototype.initUI=function(){s.prototype.initUI.call(this),this.lbStr1.textFlow=M18.HTP.parse(O3.tr(6585)),this.lbStr2.textFlow=M18.HTP.parse(O3.tr(6581)),this.lbStr3.textFlow=M18.HTP.parse(O3.tr(6582)),this.btnConfirm.label=O3.tr(6583),this.btnCancel.label=O3.tr(6584)},t.prototype.open=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];s.prototype.open.call(this),this.autoRefresh(),this.bgMask.addEventListener(egret.TouchEvent.TOUCH_TAP,this.doCancel,this),this.btnClose.addEventListener(egret.TouchEvent.TOUCH_TAP,this.doCancel,this),this.btnConfirm.addEventListener(egret.TouchEvent.TOUCH_TAP,this.doConfirm,this),this.btnCancel.addEventListener(egret.TouchEvent.TOUCH_TAP,this.doCancel,this),null!=this.timerHandler&&(App.K16.rBH(this.timerHandler),this.timerHandler=null),this.timerHandler=App.K16.doTimer(1e3,0,this.autoRefresh,this)},t.prototype.close=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];s.prototype.close.call(this),this.bgMask.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.doCancel,this),this.btnClose.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.doCancel,this),this.btnConfirm.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.doConfirm,this),this.btnCancel.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.doCancel,this),null!=this.timerHandler&&(App.K16.rBH(this.timerHandler),this.timerHandler=null)},t.prototype.doConfirm=function(){0<THH25.getFcd()&&App.CM.apF(O6.C21,O9.A1),this.closeSelf()},t.prototype.doCancel=function(){this.closeSelf()},t.prototype.closeSelf=function(){App.VM.GY64(this)},t.prototype.autoRefresh=function(){var t=THH25.getFcd();if(0<t){this.tipsLable2.text=P6.FJ11(1e3*t,3);var e=Math.ceil(t/3);this.tipsLable1.textFlow=M18.FG71(O3.tr(554,e))}},t}(BaseEuiView);__reflect(BossCostConfirmView.prototype,"BossCostConfirmView");var BossItem=function(h){function t(){var t=h.call(this)||this;return t.reType=1,t.addEventListener(egret.Event.ADDED_TO_STAGE,t.onAddToStage,t),t.addEventListener(egret.Event.REMOVED_FROM_STAGE,t.onRemoveStage,t),t}return __extends(t,h),t.prototype.onAddToStage=function(){this.wipeBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.clickHandler,this),this.recordLabel.addEventListener(egret.TouchEvent.TOUCH_TAP,this.ZV41,this),this.reviveBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.ZV40,this),App.K16.doTimer(1e3,0,this.GY14,this,null,this)},t.prototype.onRemoveStage=function(){for(var t in this.wipeBtn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.clickHandler,this),this.recordLabel.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.ZV41,this),this.reviveBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.ZV40,this),App.K16.remove(this.GY14,this),this.objs)this.objs[t].destory();this.objs=[],this.itemCollection.removeAll()},t.prototype.childrenCreated=function(){h.prototype.createChildren.call(this),this.itemCollection=new eui.ArrayCollection,this.itemList.dataProvider=this.itemCollection,this.itemList.itemRenderer=ItemIcon,this.objs=[],this.timesDesLabel.textFlow=M18.HTP.parse(O3.tr(3891)),this.lblgailv.textFlow=M18.HTP.parse(O3.tr(3892)),this.reviveBtn.label=O3.tr(3893)},t.prototype.dataChanged=function(){h.prototype.dataChanged.call(this);var t=this.data.modelId;if(!this.lastMid||this.lastMid!=t){this.lastMid=t,this.gpBoss.removeChildren();var e={id:t,x:0,y:0,dir:Dir.br,objType:P13.A6,bt:BehaviourType.Stand_d},i=new FightGameObject;i.setData(e,this.gpBoss),this.objs.push(i)}if(this.data.type==O9.A90){this.reviveBtn.visible=!1,this.singleGroup.visible=!0,this.peopleGroup.visible=!1,this.timesLabel.text=O3.tr(514,this.data.FJ24());var s="75c01a";THH25.isFinish(this.data.index)?(this.wipeBtn.visible=!1,this.finishImg.visible=!0):(this.wipeBtn.visible=!0,this.finishImg.visible=!1,this.data.isOpen()?(this.data.isSweep()?this.wipeBtn.label=O3.tr(THH25.FB58()?560:512):this.wipeBtn.label=O3.tr(513),this.wipeBtn.touchEnabled=!0,P16.sGF(this.wipeBtn,!1),this.timesLabel.visible=!0,this.timesDesLabel.visible=!0):(this.wipeBtn.touchEnabled=!1,P16.sGF(this.wipeBtn,!0),this.wipeBtn.label=O3.tr(515),this.timesLabel.visible=!1,this.timesDesLabel.visible=!1,s="d82222")),this.nameLabel.textFlow=M18.FG71(O3.tr(543,"0xfeeedf",this.data.name,s,this.data.openLevel))}else if(this.data.type==O9.A91){this.singleGroup.visible=!1,this.peopleGroup.visible=!0,this.GY14();s="75c01a";if(this.data.isOpen()){if(this.recordLabel.visible=!0,this.data.isDead()){this.wipeBtn.visible=!1,this.itemImg.visible=!0,this.numLabel.visible=!0;var o=this.data.ZV39();if(o){this.reviveBtn.visible=!0,this.itemImg.visible=!0,this.numLabel.visible=!0;var r=N12.gID(o.k);75e3==o.k?(this.reType=2,this.itemImg.source="i75000_png"):this.itemImg.source=r.icon,this.numLabel.textFlow=M18.HTP.parse(O3.tr(3888,o.v))}else this.reviveBtn.visible=!1,this.itemImg.visible=!1,this.numLabel.visible=!1;this.pBarField.visible=!1,this.cdLabel.visible=!0,this.recordLabel.textFlow=new Array({text:O3.tr(518),style:{underline:!0}}),this.precentLabel.visible=!1,this.precentLabel.textFlow=M18.HTP.parse(O3.tr(3889))}else this.wipeBtn.visible=!0,this.reviveBtn.visible=!1,this.wipeBtn.label=O3.tr(513),this.itemImg.visible=!1,this.numLabel.visible=!1,this.pBarField.visible=!0,this.pBarField.value=this.data.hp/this.data.maxHp*100,this.cdLabel.visible=!1,this.recordLabel.textFlow=new Array({text:O3.tr(517,this.data.cn),style:{underline:!0}}),this.precentLabel.visible=!0,this.precentLabel.textFlow=M18.HTP.parse(O3.tr(3890,this.data.getHpPrecent()));this.wipeBtn.touchEnabled=!0,P16.sGF(this.wipeBtn,!1)}else s="d82222",this.recordLabel.visible=!1,this.wipeBtn.touchEnabled=!1,this.wipeBtn.visible=!0,this.reviveBtn.visible=!1,P16.sGF(this.wipeBtn,!0),this.wipeBtn.label=O3.tr(515),this.itemImg.visible=!1,this.numLabel.visible=!1,this.cdLabel.visible=!1,this.pBarField.visible=!0,this.pBarField.value=100,this.precentLabel.visible=!0,this.precentLabel.text="100%";var n=O5.FA77(this.data.quality);this.nameLabel.textFlow=M18.FG71(O3.tr(543,n,this.data.name,s,this.data.openLevel))}this.imgTitle.width=this.nameLabel.width+55;var a=this.data.FK43();this.itemCollection.replaceAll(a)},t.prototype.clickHandler=function(){this.data.type==O9.A90&&this.data instanceof SBossOneData?P7.FF59()&&(this.data.isSweep()?0===this.data.times&&THH25.FB58()?App.CM.apF(O6.C21,O9.A3):App.CM.apF(O6.C21,O9.A28,this.data.index):App.CM.apF(O6.C21,O9.A26,this.data.index)):this.data.type==O9.A91&&(this.data.isDead()||P7.FF59()&&App.CM.apF(O6.C21,O9.A30,this.data.index))},t.prototype.GY14=function(){if(this.data.type==O9.A91&&this.data.isDead()){var t=this.data.FJ24(),e=M18.FM19(P6.FJ11(1e3*t,1),"#fb2121")+M18.FM19(O3.tr(519),"#feeedf");this.cdLabel.textFlow=M18.HTP.parser(e),t<=0&&this.data.isDead()&&App.CM.apF(O6.C21,O9.A77)}},t.prototype.ZV40=function(){if(this.data.isDead()){var t=App.CM.gtM(O6.B82).avatarInfo.v,e=N17.FE72();if(t<e)return void P18.sDP(O3.tr(552,e));0<THH25.getTimes()?App.CM.apF(O6.C21,O9.A44,this.data.index,this.reType):P18.sDP(O3.tr(553))}},t.prototype.ZV41=function(){this.data.isDead()?App.CM.apF(O6.C21,O9.A82,2,this.data.index):App.CM.apF(O6.C21,O9.A82,1,this.data.index)},t}(eui.ItemRenderer);__reflect(BossItem.prototype,"BossItem");var BossMainView=function(r){function t(t,e){var i=r.call(this,t,e)||this;i.sGN("release_boss"),i.skinName="SouthCAwardPanelSkin",App.VM.rgS(O7.HH95,O7.G75,"SingleBossView",i.content),App.VM.rgS(O7.HH95,O7.G76,"PeopleBossView",i.content),App.VM.rgS(O7.HH95,O7.HH45,"FieldBossView",i.content),App.VM.rgS(O7.HH95,O7.F90,"BossMenghuoView",i.content),App.VM.rgS(O7.HH95,O7.I53,"LibraryView",i.content),App.VM.rgS(O7.HH95,O7.HH17,"SouthChinaView",i.content);var s=[O3.tr(500),O3.tr(501),O3.tr(504),O3.tr(505),O3.tr(6866),O3.tr(8059)],o=[O7.G75,O7.G76,O7.HH45,O7.F90,O7.I53,O7.HH17];return i.btnList=new ButtonList(s,o,i.ZQ23.bind(i)),i.btnList.init(),i.btnGroup.addChild(i.btnList),i.btnList.scaleY=i.btnList.scaleX=.7,i}return __extends(t,r),t.prototype.initUI=function(){r.prototype.initUI.call(this)},t.prototype.uBM=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];t instanceof TG91&&this.ZI8(t)},t.prototype.ZI8=function(t){var e=t.singleBoss.getRedNums();this.btnList.ZHH58(O7.G75,0<e?1:0);var i=t.peopleBoss.getRedNums();this.btnList.ZHH58(O7.G76,0<i?1:0);var s=t.fieldBoss.getRedNums();this.btnList.ZHH58(O7.HH45,0<s?1:0);var o=t.menghuoBoss.getRedNums();this.btnList.ZHH58(O7.F90,0<o?1:0);var r=App.CM.gtM(O6.B10);this.btnList.ZHH58(O7.HH17,0<r.getRed()?1:0)},t.prototype.open=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];r.prototype.open.call(this),this.curIndex=t[0]||0;var i=t[0]||O7.G75;App.CM.apF(O6.C21,O9.A77),App.CM.apF(O6.C21,O9.A53),App.CM.apF(O6.C21,O9.A86),this.ZQ23(i);var s=App.CM.gtM(O6.C21);this.ZI8(s)},t.prototype.ZQ23=function(t){var e=App.CM.gtM(O6.B82).avatarInfo.l,i=0;switch(this.helpBtn.visible=!1,t){case O7.G75:this.title=O3.tr(500),this.btnList.ZM66(t);break;case O7.G76:if(e<(i=N17.FE70())){var s=K18.init.commonDesc1.value;P18.sDP(M18.format(s,[i]))}else this.title=O3.tr(501),this.btnList.ZM66(t);break;case O7.HH45:if(e<(i=N17.FF90())){s=K18.init.commonDesc1.value;P18.sDP(M18.format(s,[i]))}else this.title=O3.tr(504),this.btnList.ZM66(t);break;case O7.F90:if(e<(i=N17.FHH99())){s=K18.init.commonDesc1.value;P18.sDP(M18.format(s,[i]))}else this.title=O3.tr(505),this.btnList.ZM66(t);break;case O7.I53:Library.Utils.isOpen()?(this.title=O3.tr(6866),this.btnList.ZM66(t)):P18.sDP(O3.tr(5054,Library.Config.unlockDate,Library.Config.unlockLv));break;case O7.HH17:TE97.isOpen()?(this.helpBtn.visible=!0,this.helpBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.helpFun,this),this.title=O3.tr(8059),this.btnList.ZM66(t)):P18.sDP(O3.tr(3370,TD48.gIV("serverDate"),TD48.gIV("unlockLv")))}},t.prototype.helpFun=function(){var t={title:O3.tr(8102),content:O3.tr(8103)};App.CM.apF(O6.C18,O10.A24,t)},t.prototype.close=function(){r.prototype.close.call(this),this.curIndex=null,this.helpBtn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.helpFun,this)},t}(BasePanelView);__reflect(BossMainView.prototype,"BossMainView");var BossMenghuoChapter=function(n){function t(){var t=n.call(this)||this;return t.addEventListener(egret.Event.ADDED_TO_STAGE,t.onAddToStage,t),t.addEventListener(egret.Event.REMOVED_FROM_STAGE,t.onRemoveStage,t),t}return __extends(t,n),t.prototype.dataChanged=function(){if(n.prototype.dataChanged.call(this),this.data[0]){var t=this.data[0].chapter;"easy"===N17.currentMode?this.titileLabel.text=O3.tr(528,M18.FF66(t)):this.titileLabel.text=O3.tr(528,M18.FF66(t-21));var e,i,s=THH25.getCurId(),o=t%7?t%7:7;this.bgImg.source="bg_nanman"+o+"_png",-1==s?(P16.sGF(this.bgImg,!1),P16.sGF(this.titileLabel,!1),P16.sGF(this.titleImg,!1),this.statusLabel.text=O3.tr(530),this.statusImg.source="v1_btn_lv_boss_png"):(i=s%100,t<(e=N17.menghuo[s].chapter)?(P16.sGF(this.titileLabel,!1),P16.sGF(this.bgImg,!1),P16.sGF(this.titleImg,!1),this.statusImg.source="v1_btn_lv_boss_png",this.statusLabel.text=O3.tr(530)):e<t?(P16.sGF(this.titileLabel,!0),P16.sGF(this.bgImg,!0),P16.sGF(this.titleImg,!0),this.statusImg.source="v1_btn_red_boss_png",this.statusLabel.text=O3.tr(531)):(P16.sGF(this.titileLabel,!1),P16.sGF(this.bgImg,!1),P16.sGF(this.titleImg,!1),this.statusImg.source="v1_btn_yellow_boss_png","easy"===N17.currentMode?this.statusLabel.text=e+"-"+i:this.statusLabel.text=e-21+"-"+i)),this.challenageBtn.bgStr="easy"===N17.currentMode?"v1_btn_tiaozhan_png":"v1_btn_kunnantiaozhan_png",this.challenageBtn.imgNew.visible=!1;for(var r=1;r<=8;r++)r>this.data.length?(this["icon"+r].visible=!1,this["gou"+r].visible=!1):(!this.challenageBtn.imgNew.visible&&this.data[r-1].id&&(this.challenageBtn.imgNew.visible=THH25.FF95(this.data[r-1].id)),this["gou"+r].visible=-1==s?(this.challenageBtn.visible=!0,this.tipsLabel.visible=!1,P16.sGF(this["icon"+r],!1),!0):t<e?(this.challenageBtn.visible=!0,this.tipsLabel.visible=!1,P16.sGF(this["icon"+r],!1),!0):e<t?(this.challenageBtn.visible=!1,this.tipsLabel.visible=!0,this.tipsLabel.textFlow=M18.HTP.parse(O3.tr(6399)),P16.sGF(this["icon"+r],!0),!1):(this.challenageBtn.visible=!0,this.tipsLabel.visible=!1,r<i?(P16.sGF(this["icon"+r],!1),!0):(r==i?P16.sGF(this["icon"+r],!1):P16.sGF(this["icon"+r],!0),!1)));this.recordLabel.textFlow=new Array({text:O3.tr(542),style:{underline:!0}})}},t.prototype.onAddToStage=function(){this.challenageBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.clickHandler,this),this.recordLabel.addEventListener(egret.TouchEvent.TOUCH_TAP,this.ZV41,this)},t.prototype.onRemoveStage=function(){this.challenageBtn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.clickHandler,this),this.recordLabel.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.ZV41,this)},t.prototype.ZV41=function(){if(THH25.getTeam()){var t=THH25.getTeam().bossId,e=N17.menghuo[t].chapter,i=t%100-1;App.CM.apF(O6.C21,O9.A25,e,2,i)}else App.CM.apF(O6.C21,O9.A25,this.data[0].chapter,2)},t.prototype.clickHandler=function(){if(THH25.getTeam()){var t=THH25.getTeam().bossId,e=N17.menghuo[t].chapter,i=t%100-1;App.CM.apF(O6.C21,O9.A25,e,null,i)}else App.CM.apF(O6.C21,O9.A25,this.data[0].chapter)},t}(eui.ItemRenderer);__reflect(BossMenghuoChapter.prototype,"BossMenghuoChapter");var BossMenghuoInfoItem=function(o){function t(){var t=o.call(this)||this;return t.addEventListener(egret.Event.ADDED_TO_STAGE,t.onAddToStage,t),t.addEventListener(egret.Event.REMOVED_FROM_STAGE,t.onRemoveStage,t),t}return __extends(t,o),t.prototype.childrenCreated=function(){o.prototype.createChildren.call(this),this.itemCollection=new eui.ArrayCollection,this.itemList.dataProvider=this.itemCollection,this.itemList.itemRenderer=ItemIcon,this.layout=this.itemList.layout},t.prototype.dataChanged=function(){o.prototype.dataChanged.call(this);var t=this.data.modelId;if(this.modelId!=t){var e={id:t,x:0,y:0,dir:Dir.br,objType:P13.A6,bt:BehaviourType.Stand_d};this.objBoss&&(this.gpBoss.removeChildren(),this.objBoss.destory(),this.objBoss=null),this.objBoss=new FightGameObject,this.objBoss.setData(e,this.gpBoss),this.modelId=t}if(this.nameLabel.textFlow=M18.HTP.parse(O3.tr(3935,this.data.name)),this.rawardTitle.textColor=_cc.brown,THH25.FK51(this.data.id)){this.rawardTitle.textColor=_cc.red,this.rewardGroup.visible=!0,this.rawardTitle.text=O3.tr(556),this.openBtn.visible=!1;var i=this.data.ZN48();if(this.itemCollection.replaceAll(i),1==i.length)this.layout.paddingLeft=(this.itemScroller.width-86*.7)/2;else{this.layout.paddingLeft=0;var s=(this.itemScroller.width-86*.7*i.length)/(i.length-1);this.layout.gap=s<10?10:s}}else if(this.imgNew.visible=THH25.FF95(this.data.id),THH25.getCurId()==this.data.id){this.rewardGroup.visible=!0,this.rawardTitle.text=O3.tr(545),this.openBtn.visible=!1;i=this.data.ZN48();if(this.itemCollection.replaceAll(i),1==i.length)this.layout.paddingLeft=(this.itemScroller.width-51.6)/2;else{this.layout.paddingLeft=0;s=(this.itemScroller.width-86*.7*i.length)/(i.length-1);this.layout.gap=s<10?10:s}}else if(THH25.FJ38(this.data.id))this.openBtn.visible=!0,this.openBtn.label=O3.tr(3934),this.rewardGroup.visible=!1,THH25.FJ39(this.data.id)?(P16.sGF(this.openBtn,!1),this.openBtn.touchEnabled=!0):(P16.sGF(this.openBtn,!0),this.openBtn.touchEnabled=!1);else{this.openBtn.visible=!1,this.rewardGroup.visible=!0,this.rawardTitle.text=O3.tr(546);i=this.data.FE73();if(this.itemCollection.replaceAll(P7.copyTab(i)),1==i.length)this.layout.paddingLeft=(this.itemScroller.width-51.6)/2;else{this.layout.paddingLeft=0;s=(this.itemScroller.width-51.6*i.length)/(i.length-1);this.layout.gap=s<10?10:s}}this.data.selected?(this.baseGroup.scaleX=this.baseGroup.scaleY=1,this.width=182,this.imgSel.visible=!0):(this.baseGroup.scaleX=this.baseGroup.scaleY=.9,this.width=163.8,this.imgSel.visible=!1)},t.prototype.onSelect=function(t){App.CM.apF(O6.C21,O9.A59,this.itemIndex)},t.prototype.onAddToStage=function(){this.openBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.clickHandler,this),this.clickGroup.addEventListener(egret.TouchEvent.TOUCH_END,this.onSelect,this)},t.prototype.onRemoveStage=function(){this.openBtn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.clickHandler,this),this.clickGroup.removeEventListener(egret.TouchEvent.TOUCH_END,this.onSelect,this),this.itemCollection.removeAll(),this.objBoss&&(this.gpBoss.removeChildren(),this.objBoss.destory(),this.objBoss=null)},t.prototype.clickHandler=function(){App.CM.apF(O6.C21,O9.A66,this.data)},t}(eui.ItemRenderer);__reflect(BossMenghuoInfoItem.prototype,"BossMenghuoInfoItem");var BossMenghuoView=function(s){function t(t,e){var i=s.call(this,t,e)||this;return i.refreshSecond=3,i.skinName=SingleBossSkin,i}return __extends(t,s),t.prototype.initUI=function(){s.prototype.initUI.call(this),this.diffBtn.visible=!1},t.prototype.initData=function(){s.prototype.initData.call(this),this.itemCollection=new eui.ArrayCollection,this.itemList.dataProvider=this.itemCollection,this.itemList.itemRendererSkinName="itemMenHuoSkin",this.itemList.itemRenderer=BossMenghuoChapter},t.prototype.open=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];s.prototype.open.call(this),N17.currentMode="easy",this.itemScroller.addEventListener(egret.TouchEvent.TOUCH_MOVE,this.endScroller,this),this.shopImg.addEventListener(egret.TouchEvent.TOUCH_TAP,this.openShopView,this),this.diffBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.switchMode,this),this.shopImg.bgStr="v1_btn_qiqinshangdian_png",this.GX5()},t.prototype.uBM=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];s.prototype.uBM.call(this,t,e),t instanceof TG91&&this.GX5()},t.prototype.GX5=function(t){var e;void 0===t&&(t=!1),e="easy"===N17.currentMode?N17.FA58():N17.FA13(),this.itemCollection.replaceAll(e),this.itemScroller.height+this.itemScroller.viewport.scrollV>=this.itemScroller.viewport.height?this.arrowImg.visible=!1:this.arrowImg.visible=!0,t&&this.itemCollection.refresh();var i=THH27.FD38();this.shopImg.imgNew.visible=0<i&&!O4.FF89(L17.A42);var s=THH25.getCurId(),o=N17.FB57();this.diffBtn.visible=o<=s||-1==s},t.prototype.close=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];s.prototype.close.call(this),this.itemScroller.removeEventListener(egret.TouchEvent.TOUCH_MOVE,this.endScroller,this),this.shopImg.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.openShopView,this),this.diffBtn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.switchMode,this);var i=App.CM.gtM(O6.C21);i&&i.notify(),this.itemCollection.removeAll()},t.prototype.openShopView=function(){App.VM.isOpen(O7.HH98)&&App.VM.close(O7.HH98),App.VM.isOpen(O7.E86)&&App.VM.close(O7.E86),TG84.FM16(1713)},t.prototype.endScroller=function(){this.itemScroller.height+this.itemScroller.viewport.scrollV>=this.itemScroller.viewport.contentHeight?this.arrowImg.visible=!1:this.arrowImg.visible=!0},t.prototype.switchMode=function(){"easy"===N17.currentMode?N17.currentMode="diffcult":N17.currentMode="easy",this.GX5(!0)},t}(BaseEuiView);__reflect(BossMenghuoView.prototype,"BossMenghuoView");var BossMenHuoInfoView=function(s){function t(t,e){var i=s.call(this,t,e)||this;return i.skinName="BossMenHuoInfoSkin",i}return __extends(t,s),t.prototype.initUI=function(){s.prototype.initUI.call(this),this.chapterCollection=new eui.ArrayCollection,this.chapterList.dataProvider=this.chapterCollection,this.chapterList.itemRenderer=BossMenghuoInfoItem,this.teamCollection=new eui.ArrayCollection,this.teamList.dataProvider=this.teamCollection,this.teamList.itemRenderer=BossMenHuoTeam,this.itemCollection=new eui.ArrayCollection,this.itemList.dataProvider=this.itemCollection,this.itemList.itemRenderer=ItemIcon,this.challengeBtn.label=O3.tr(3916),this.createBtn.label=O3.tr(3917),this.fastJoinBtn.label=O3.tr(3918),this.sweepBtn.label=O3.tr(3919),this.autoSweepBtn.label=O3.tr(3920),this.sweepBtn.imgNew.visible=!0,this.autoSweepBtn.imgNew.visible=!0,this.lbljilv.textFlow=M18.HTP.parse(O3.tr(3921)),this.lblbenfu.textFlow=M18.HTP.parse(O3.tr(3923)),this.lblchengyuan.textFlow=M18.HTP.parse(O3.tr(3924)),this.lblhuihe.textFlow=M18.HTP.parse(O3.tr(3925)),this.lbltime.textFlow=M18.HTP.parse(O3.tr(3926)),this.lblzuikuai.textFlow=M18.HTP.parse(O3.tr(3927)),this.lblchengyuan1.textFlow=M18.HTP.parse(O3.tr(3928)),this.lblhuihe1.textFlow=M18.HTP.parse(O3.tr(3929)),this.lbltime1.textFlow=M18.HTP.parse(O3.tr(3930)),this.lbldes.textFlow=M18.HTP.parse(O3.tr(3931)),this.lbljinri.textFlow=M18.HTP.parse(O3.tr(3932)),this.cbAutoFight.label=O3.tr(6506)},t.prototype.initData=function(){s.prototype.initData.call(this)},t.prototype.ZN50=function(t){this.cbBlank.label=t},t.prototype.ZN51=function(){if(App.CM.gtM(O6.C21).cdSelect=this.cbBlank.selected,this.cbBlank.selected)this.apF(O9.A88,2,1),App.CM.apF(O6.C21,O9.A69);else{App.CM.apF(O6.C21,O9.A43),App.CM.apF(O6.C21,O9.A88,2,0);var t=N17.FB55();this.cbBlank.label=O3.tr(544,t)}},t.prototype.ZE92=function(){App.CM.gtM(O6.C21).cdFullSelct=this.cbAutoFight.selected,this.cbAutoFight.selected?App.CM.apF(O6.C21,O9.A33):App.CM.apF(O6.C21,O9.A11),TG40.playClickEffect()},t.prototype.open=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.chapter=t[0]||1,this.status=t[1]||1;var i=t[2];this.chapterData=THH25.FC15(this.chapter-1),this.dlg.ZM69(this.oCC,this),this.dlg.ZQ14(this.oCC,this),this.chapterScroller.addEventListener(egret.TouchEvent.CHANGE,this.changeDong,this),this.createBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.ZV43,this),this.challengeBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.ZK50,this),this.sweepBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.sweepHandler,this),this.autoSweepBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.ZK49,this),this.fastJoinBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.ZN54,this),this.recordBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.ZN53,this),this.leftBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.ZV42,this),this.rightBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.ZR23,this),this.cbBlank.addEventListener(egret.Event.CHANGE,this.ZN51,this),this.cbAutoFight.addEventListener(egret.Event.CHANGE,this.ZE92,this),"easy"===N17.currentMode?this.dlg.title=O3.tr(540,M18.FF66(this.chapter)):this.dlg.title=O3.tr(540,M18.FF66(this.chapter-21));var s=App.CM.gtM(O6.C21);this.cbAutoFight.selected=s.cdFullSelct,this.cbBlank.selected=s.cdSelect;var o=THH25.FB20(this.chapter);this.chapterCollection.replaceAll(P7.copyTab(o));var r=THH25.getCurId();if(!i&&0!=i)for(var n=i=0;n<this.chapterData.length;n++)if(this.chapterData[n].id==r){i=n;break}this.updateIndex(i),this.updateStatus(),this.teamRefresh(),this.teamHandler||(this.teamHandler=App.K16.doTimer(5e3,0,this.teamRefresh,this)),App.DelayOptManager.ZE59(this,function(){s.notify("bossCd")})},t.prototype.updateStatus=function(){1==this.status?(this.controlGroup.visible=!0,this.teamGroup.visible=!0,this.recordGroup.visible=!1,this.recordBtn.label=O3.tr(536)):2==this.status&&(this.controlGroup.visible=!1,this.teamGroup.visible=!1,this.recordGroup.visible=!0,this.recordBtn.label=O3.tr(535));var t=THH25.getCurId();-1==t?(P16.sGF(this.recordBtn,!1),this.recordBtn.touchEnabled=!0):Math.floor(t/100)%100<this.chapter?(P16.sGF(this.recordBtn,!0),this.recordBtn.touchEnabled=!1):(P16.sGF(this.recordBtn,!1),this.recordBtn.touchEnabled=!0)},t.prototype.ZN52=function(t){void 0===t&&(t=this.index),this.chapterScroller.validateNow();var e=this.chapterScroller.viewport;0==t&&(t=1),t==this.chapterData.length-1&&2<this.chapterData.length&&(t=this.chapterData.length-2),t&&egret.Tween.get(e).to({scrollH:185.8*(t-1)},100).wait(10).call(function(){egret.Tween.removeTweens(e)},this)},t.prototype.ZR23=function(){var t=this.chapterScroller.viewport;t.scrollH=t.scrollH+this.chapterScroller.width,t.scrollH>t.contentWidth-this.chapterScroller.width&&(t.scrollH=t.contentWidth-this.chapterScroller.width),this.rightBtn.visible=Math.abs(t.scrollH+this.chapterScroller.width)<t.contentWidth,this.leftBtn.visible=0!=t.scrollH},t.prototype.ZV42=function(){var t=this.chapterScroller.viewport;t.scrollH=t.scrollH-this.chapterScroller.width,t.scrollH<0&&(t.scrollH=0),this.leftBtn.visible=0!=t.scrollH,this.rightBtn.visible=Math.abs(t.scrollH+this.chapterScroller.width)<t.contentWidth},t.prototype.changeDong=function(){var t=this.chapterScroller.viewport;this.leftBtn.visible=164<=t.scrollH,this.rightBtn.visible=t.scrollH+t.width+164<=t.contentWidth},t.prototype.ZE93=function(t){void 0===t&&(t=0);var e=THH25.FB20(this.chapter);t<3?t=0:t>=e.length-3&&(t=e.length-3)},t.prototype.updateIndex=function(t){if(this.index!=t){if(this.index||0==this.index)if(THH25.isJoin())return void P18.sDP(O3.tr(532));this.index=t;var e=this.chapterData[t];App.CM.apF(O6.C21,O9.A57,e.id),App.CM.apF(O6.C21,O9.A39,e.id),this.ZN52(this.index),this.updateViews()}},t.prototype.teamRefresh=function(){var t=this.chapterData[this.index];App.CM.apF(O6.C21,O9.A57,t.id)},t.prototype.updateViews=function(){var t=this.chapterData[this.index];if(t){if(this.titleLabel.textFlow=M18.HTP.parse(O3.tr(3922,t.name)),THH25.FF95(t.id)){if(this.cdGroup.visible=!1,this.fightGroup.visible=!1,THH25.isJoin()){var e=THH25.FG91();this.teamCollection.replaceAll(P7.copyTab(e)),this.weepGroup.visible=!1}else{var i=THH25.FI3();this.teamCollection.replaceAll(P7.copyTab(i)),this.weepGroup.visible=!0}}else{this.weepGroup.visible=!1,this.fightGroup.visible=!0;var s=App.CM.gtM(O6.C21).menghuoBoss.getTeamInfo();if(s){this.fightGroup.visible=!1,THH25.FL44()?this.cdGroup.visible=!0:this.cdGroup.visible=!1;e=THH25.FG91();this.teamCollection.replaceAll(P7.copyTab(e)),THH25.FL44()||0<=s.cd?(App.CM.apF(O6.C21,O9.A69),App.CM.apF(O6.C21,O9.A33)):(App.CM.apF(O6.C21,O9.A43),App.CM.apF(O6.C21,O9.A11))}else{App.CM.apF(O6.C21,O9.A43),App.CM.apF(O6.C21,O9.A11);i=THH25.FI3();this.teamCollection.replaceAll(P7.copyTab(i)),this.cdGroup.visible=!1,this.fightGroup.visible=!0}}var o=t.FF92();this.itemCollection.replaceAll(o);for(var r=THH25.FB20(this.chapter),n=0;n<r.length;n++)r[n].selected=this.index==n;this.chapterCollection.replaceAll(P7.copyTab(r)),this.updateAss(),this.updateRecord()}},t.prototype.updateAss=function(){var t=N17.FF91(),e=THH25.FK52();this.timesLabel.textFlow=M18.HTP.parse(O3.tr(3933,e,t))},t.prototype.close=function(){this.index=null;THH25.isJoin();this.teamHandler&&(App.K16.rBH(this.teamHandler),this.teamHandler=null),this.fullTimerHandler&&(App.K16.rBH(this.fullTimerHandler),this.teamHandler=null),this.timerHandler&&(App.K16.rBH(this.timerHandler),this.teamHandler=null),this.createBtn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.ZV43,this),this.challengeBtn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.ZK50,this),this.sweepBtn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.sweepHandler,this),this.autoSweepBtn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.ZK49,this),this.fastJoinBtn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.ZN54,this),this.recordBtn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.ZN53,this),this.leftBtn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.ZV42,this),this.rightBtn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.ZR23,this),this.cbBlank.removeEventListener(egret.Event.CHANGE,this.ZN51,this),this.cbAutoFight.removeEventListener(egret.Event.CHANGE,this.ZE92,this);var t=App.CM.gtM(O6.C21);t&&t.notify(),this.chapter=null;this.status=null;this.chapterData=null,this.chapterCollection.removeAll(),this.teamCollection.removeAll(),this.itemCollection.removeAll()},t.prototype.ZN53=function(){1==this.status?this.status=2:this.status=1,this.updateStatus()},t.prototype.ZN54=function(){var t=this.chapterData[this.index];THH25.FK51(t.id)?P18.sDP(O3.tr(531)):App.CM.apF(O6.C21,O9.A9,t.id)},t.prototype.ZK49=function(){var t=this.chapterData[this.index];THH25.FK51(t.id)?P18.sDP(O3.tr(531)):THH25.FE77()?App.CM.apF(O6.C21,O9.A84,2):P18.sDP(O3.tr(537))},t.prototype.sweepHandler=function(){var t=this.chapterData[this.index];THH25.FK51(t.id)?P18.sDP(O3.tr(531)):App.CM.apF(O6.C21,O9.A84,1,t.id)},t.prototype.ZV43=function(){var t=this.chapterData[this.index];THH25.FK51(t.id)?P18.sDP(O3.tr(531)):App.CM.apF(O6.C21,O9.A37,t.id)},t.prototype.ZK50=function(){var t=this.chapterData[this.index];THH25.FK51(t.id)?P18.sDP(O3.tr(531)):App.CM.apF(O6.C21,O9.A22,THH25.getTeam().teamId)},t.prototype.uBM=function(t){t instanceof TG91&&this.ZI8(t)},t.prototype.ZI8=function(t){t instanceof TG91&&this.updateViews()},t.prototype.updateRecord=function(){var t=this.chapterData[this.index],e=THH25.getFkr(t.id),i=THH25.getQkr(t.id);if(e){for(var s="",o=0;o<e.an.length;o++)o<e.an.length-1?s+=e.an[o]+"、":s+=e.an[o];this.firstKillMemberLabel.text=s,this.firstKillRoundLabel.text=e.rounds+O3.tr(539),this.firstKillTimeLabel.text=P6.FJ11(1e3*e.time,2)}else this.firstKillMemberLabel.text=O3.tr(534),this.firstKillRoundLabel.text=O3.tr(534),this.firstKillTimeLabel.text=O3.tr(534);if(i){for(s="",o=0;o<i.an.length;o++)o<i.an.length-1?s+=i.an[o]+"、":s+=i.an[o];this.fastKillMemberLabel.text=s,this.fastKillRoundLabel.text=i.rounds+O3.tr(539),this.fastKillTimeLabel.text=P6.FJ11(1e3*i.time,2)}else this.fastKillMemberLabel.text=O3.tr(534),this.fastKillRoundLabel.text=O3.tr(534),this.fastKillTimeLabel.text=O3.tr(534)},t.prototype.oCC=function(){App.CM.apF(O6.C21,O9.A16)},t}(BaseEuiView);__reflect(BossMenHuoInfoView.prototype,"BossMenHuoInfoView");var BossMenHuoTeam=function(e){function t(){var t=e.call(this)||this;return t.maxNum=3,t.addEventListener(egret.Event.ADDED_TO_STAGE,t.onAddToStage,t),t.addEventListener(egret.Event.REMOVED_FROM_STAGE,t.onRemoveStage,t),t}return __extends(t,e),t.prototype.dataChanged=function(){(e.prototype.dataChanged.call(this),this.joinBtn.label=O3.tr(6492),this.data.members)?(this.deleteBtn.visible=!1,this.teamImg.visible=!1,this.baseGroup.visible=!0,this.teamGroup.visible=!1,this.joinGroup.visible=!0,this.nameLabel1.text=this.data.ZR19(),this.head.setIcon(this.data.ZR20()),this.memberLabel.text=O3.tr(529,this.data.getMemberNum(),this.maxNum),this.data.getMemberNum()>=this.maxNum?(P16.sGF(this.joinBtn,!0),this.joinBtn.touchEnabled=!1):(P16.sGF(this.joinBtn,!1),this.joinBtn.touchEnabled=!0),this.recruitBtn.visible=!1):(this.deleteBtn.visible=!0,this.data.empty?this.baseGroup.visible=!1:this.baseGroup.visible=!0,this.teamGroup.visible=!0,this.joinGroup.visible=!1,this.nameLabel.text=this.data.name,this.head.setIcon(this.data.icon),this.lvLabel.text="Lv."+this.data.lv,this.scoreLabel.text=O3.tr(541)+this.data.sc,THH25.FL44(this.data.aid)?this.teamImg.visible=!0:this.teamImg.visible=!1,THH25.FL44()?(this.deleteBtn.visible=!0,this.data.empty?(this.recruitBtn.visible=!0,this.GY14()):this.recruitBtn.visible=!1):(this.recruitBtn.visible=!1,App.CM.gtM(O6.B82).avatarInfo.id==this.data.aid?this.deleteBtn.visible=!0:this.deleteBtn.visible=!1))},t.prototype.onRecrui=function(){if(0<THH25.FC16())P18.sDP(O3.tr(549));else{App.CM.gtM(O6.B82);var t,e=THH25.getTeam();if(e){t=e.teamId;var i=e.bossId,s=N17.menghuo[i],o=N17.init.menghuoHardStart.value,r=s.chapter,n=i%100,a=void 0;a=o<=i?M18.format("$0,$1",[r-21,n]):M18.format("$0,$1",[r,n]);var h={nid:o<=i?F8.A1:F8.A3,channelId:1,param:a,infoId:t};THH25.FD75(),App.CM.apF(O6.C13,O12.A13,h)}else P18.sDP(O3.tr(5654))}},t.prototype.onDelete=function(){var t=App.CM.gtM(O6.B82);THH25.FL44(t.avatarInfo.id)?this.data.aid==t.avatarInfo.id?App.CM.apF(O6.C21,O9.A64):App.CM.apF(O6.C21,O9.A20,this.data.aid):this.data.aid==t.avatarInfo.id?App.CM.apF(O6.C21,O9.A64):P18.sDP(O3.tr(533))},t.prototype.onJoin=function(){App.CM.apF(O6.C21,O9.A62,this.data.teamId)},t.prototype.clickHandler=function(){},t.prototype.GY14=function(){if(THH25.FL44())if(0<THH25.FC16()){var t=Math.ceil(THH25.FC16());P16.sGF(this.recruitBtn,!0),this.recruitBtn.label=O3.tr(547,t)}else P16.sGF(this.recruitBtn,!1),this.recruitBtn.label=O3.tr(548)},t.prototype.onAddToStage=function(){this.recruitBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onRecrui,this),this.deleteBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onDelete,this),this.joinBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onJoin,this),this.cdHandler||(this.cdHandler=App.K16.doTimer(1e3,0,this.GY14,this,null,this))},t.prototype.onRemoveStage=function(){this.recruitBtn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onRecrui,this),this.deleteBtn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onDelete,this),this.joinBtn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onJoin,this),this.cdHandler&&(App.K16.rBH(this.cdHandler),this.cdHandler=null)},t}(eui.ItemRenderer);__reflect(BossMenHuoTeam.prototype,"BossMenHuoTeam");var BossRankItem=function(e){function t(){var t=e.call(this)||this;return t.skinName=ItemBossRankSkin,t}return __extends(t,e),t.prototype.dataChanged=function(){e.prototype.dataChanged.call(this),this.data.harm||0==this.data.harm?(this.timeLabel.visible=!0,this.timeLabel.x=58,this.timeLabel.text=this.itemIndex+1+"",this.nameLabel.x=248,this.nameLabel.text=this.data.name,this.numLabel.x=422,this.numLabel.text=this.data.harm+""):(this.timeLabel.visible=!1,this.timeLabel.text=P6.FJ11(this.data.time,2),this.nameLabel.text=this.data.name,this.numLabel.text=this.data.sc+"",this.nameLabel.x=150,this.numLabel.x=385)},t}(eui.ItemRenderer);__reflect(BossRankItem.prototype,"BossRankItem");var BossRankView=function(s){function t(t,e){var i=s.call(this,t,e)||this;return i.skinName=BossRankSkin,i.btnBack.addEventListener(egret.TouchEvent.TOUCH_TAP,i.closeSelf,i),i.btnClose.addEventListener(egret.TouchEvent.TOUCH_TAP,i.closeSelf,i),i}return __extends(t,s),t.prototype.closeSelf=function(){this.apF(O9.A73)},t.prototype.initUI=function(){s.prototype.initUI.call(this);var t={render:BossRankItem,gap:10,width:this.listGroup.width,height:this.listGroup.height,arrowScale:.8};this.listView=new CommonListBase(t),this.listGroup.addChild(this.listView),this.listView.verticalCenter=0,this.listView.horizontalCenter=0},t.prototype.initData=function(){s.prototype.initData.call(this)},t.prototype.open=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];s.prototype.open.call(this),this.type=t[0]||1,this.index=t[1]||2,this.index&&App.CM.apF(O6.C21,O9.A7,this.index,this.type),this.listView.open()},t.prototype.uBM=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];s.prototype.uBM.call(this,t,e),this.GX5()},t.prototype.GX5=function(){2==this.type?(this.lbTitle.text=O3.tr(502),this.tipsLabel_1.visible=!1,this.tipsLabel_1.text=O3.tr(506),this.tipsLabel_2.text=O3.tr(507),this.tipsLabel_3.text=O3.tr(508),this.tipsLabel_2.x=160,this.tipsLabel_3.x=400):1==this.type&&(this.lbTitle.text=O3.tr(503),this.tipsLabel_1.visible=!0,this.tipsLabel_1.text=O3.tr(509),this.tipsLabel_2.text=O3.tr(510),this.tipsLabel_3.text=O3.tr(511),this.tipsLabel_2.x=269,this.tipsLabel_3.x=449);var t=1==this.type?THH25.getHr():THH25.getKr();1==this.type?t.sort(function(t,e){return e.harm-t.harm}):1==this.type&&t.sort(function(t,e){return e.time-t.time}),this.listView.rfL(t)},t.prototype.close=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];s.prototype.close.call(this),this.listView.close()},t}(BaseEuiView);__reflect(BossRankView.prototype,"BossRankView");var BossRewardView=function(o){function t(t,e){var i=o.call(this,t,e)||this;return i.skinName=BossRewardSkin,i}return __extends(t,o),t.prototype.closeSelf=function(){this.apF(O9.A60)},t.prototype.initUI=function(){o.prototype.initUI.call(this),this.labTr7099.textFlow=O3.tr2(7099),this.itemCollection=new eui.ArrayCollection,this.itemList.dataProvider=this.itemCollection,this.itemList.itemRenderer=ItemIcon,this.openBtn.label=O3.tr(6441),this.lbStr1.textFlow=M18.HTP.parse(O3.tr(6442)),this.dlg.title=O3.tr(6441)},t.prototype.initData=function(){o.prototype.initData.call(this)},t.prototype.open=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];o.prototype.open.call(this),this.data=t[0],this.openBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onOpen,this),this.dlg.ZM69(this.closeSelf.bind(this),this);var i=THH25.FI1();this.itemCollection.replaceAll(i);var s=THH25.FD74();this.costLabel.text=s[1]},t.prototype.onOpen=function(){this.data&&App.CM.apF(O6.C21,O9.A55,this.data.id)},t.prototype.uBM=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];o.prototype.uBM.call(this,t,e),this.GX5()},t.prototype.GX5=function(){},t.prototype.close=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];o.prototype.close.call(this),this.itemCollection.removeAll(),this.data=null},t.prototype.endScroller=function(){},t}(BaseEuiView);__reflect(BossRewardView.prototype,"BossRewardView");var BossTimesBuyView=function(s){function t(t,e){var i=s.call(this,t,e)||this;return i.skinName="ArenaBuyTip",i}return __extends(t,s),t.prototype.initUI=function(){s.prototype.initUI.call(this),this.buyBtn.label=O3.tr(3294),this.lbTip.text=O3.tr(5807),this.lbTitle.textFlow=M18.HTP.parse(O3.tr(5807))},t.prototype.open=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];s.prototype.open.call(this),this.bgMask.addEventListener(egret.TouchEvent.TOUCH_TAP,this.doCancel,this),this.closeBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.doCancel,this),this.buyBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.doConfirm,this),this.backBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.doCancel,this),this.ZI8()},t.prototype.close=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];s.prototype.close.call(this),this.bgMask.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.doCancel,this),this.closeBtn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.doCancel,this),this.buyBtn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.doConfirm,this),this.backBtn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.doCancel,this),this.leftTimes=null},t.prototype.uBM=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];s.prototype.uBM.call(this,t,e),t instanceof TG91&&this.ZI8()},t.prototype.ZI8=function(){var t=N17.FG89()[1],e=N17.FC12(),i=App.CM.gtM(O6.B82).avatarInfo.v,s=THH34.FK45(i).peopletimes,o=O3.tr(327,t,e);this.lbOne.textFlow=M18.HTP.parser(o),this.leftTimes=s-THH25.FJ36();var r=O3.tr(306,this.leftTimes,s);0==this.leftTimes&&(r=O3.tr(323,this.leftTimes,s));var n=O3.tr(307,r);this.lbTip.textFlow=M18.HTP.parser(n);var a=i,h=s;K18.vip[a+1]&&(a=i+1,h=THH34.FK45(a).peopletimes);var p=O3.tr(308,a,h);this.lbTip1.textFlow=M18.HTP.parser(p);var l=App.CM.gtM(O6.B82).avatarInfo.g,c=(App.CM.gtM(O6.C4),N17.FG89()[1]),u=O3.tr(306,parseInt(c),l);this.lbAmount.textFlow=M18.HTP.parser(u)},t.prototype.doCancel=function(){App.VM.GY64(this)},t.prototype.doConfirm=function(){var t=THH25.FA37();THH25.FA14()<=t?(this.doCancel(),P18.sDP(O3.tr(559))):(this.leftTimes<=1&&this.doCancel(),App.CM.apF(O6.C21,O9.A17))},t}(BaseEuiView);__reflect(BossTimesBuyView.prototype,"BossTimesBuyView");var BossWarnItem=function(e){function t(){var t=e.call(this)||this;return t.addEventListener(egret.Event.ADDED_TO_STAGE,t.onAddToStage,t),t.addEventListener(egret.Event.REMOVED_FROM_STAGE,t.onRemoveStage,t),t}return __extends(t,e),t.prototype.childrenCreated=function(){e.prototype.createChildren.call(this),this.initUI()},t.prototype.initUI=function(){this.tipsLabel.textFlow=M18.HTP.parse(O3.tr(5241)),this.cbBlank.label=O3.tr(5236)},t.prototype.dataChanged=function(){e.prototype.dataChanged.call(this),this.data.isOpen()?(this.tipsLabel.visible=!1,this.cbBlank.visible=!0,this.cbBlank.selected=!!this.data.isRemind()):(this.tipsLabel.visible=!0,this.cbBlank.visible=!1),this.lvLabel.text=O3.tr(525,this.data.openLevel)},t.prototype.onWarnSelect=function(t){App.CM.apF(O6.C21,O9.A46,this.data.index),TG40.playClickEffect()},t.prototype.onAddToStage=function(){this.cbBlank.addEventListener(egret.Event.CHANGE,this.onWarnSelect,this)},t.prototype.onRemoveStage=function(){this.cbBlank.removeEventListener(egret.Event.CHANGE,this.onWarnSelect,this)},t}(eui.ItemRenderer);__reflect(BossWarnItem.prototype,"BossWarnItem");var BossWarnView=function(s){function t(t,e){var i=s.call(this,t,e)||this;return i.skinName=BossWarnSkin,i}return __extends(t,s),t.prototype.closeSelf=function(){this.apF(O9.A72)},t.prototype.initUI=function(){s.prototype.initUI.call(this),this.itemCollection=new eui.ArrayCollection,this.itemList.dataProvider=this.itemCollection,this.itemList.itemRenderer=BossWarnItem,this.lbTitle.text=O3.tr(5237),this.lbStr1.textFlow=M18.HTP.parse(O3.tr(5238)),this.lbStr2.textFlow=M18.HTP.parse(O3.tr(5239)),this.lbStr3.textFlow=M18.HTP.parse(O3.tr(5240))},t.prototype.initData=function(){s.prototype.initData.call(this)},t.prototype.open=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];s.prototype.open.call(this),this.itemScroller.addEventListener(egret.TouchEvent.TOUCH_MOVE,this.endScroller,this),this.btnBack.addEventListener(egret.TouchEvent.TOUCH_TAP,this.closeSelf,this),this.btnClose.addEventListener(egret.TouchEvent.TOUCH_TAP,this.closeSelf,this),this.bgMask.addEventListener(egret.TouchEvent.TOUCH_TAP,this.closeSelf,this),this.GX5()},t.prototype.GX5=function(){var t=THH25.FC81(!1);this.itemCollection.replaceAll(t),this.itemScroller.height+this.itemScroller.viewport.scrollV>=this.itemScroller.viewport.height?this.arrowImg.visible=!1:this.arrowImg.visible=!0},t.prototype.close=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];s.prototype.close.call(this),this.btnBack.addEventListener(egret.TouchEvent.TOUCH_TAP,this.closeSelf,this),this.btnClose.addEventListener(egret.TouchEvent.TOUCH_TAP,this.closeSelf,this),this.bgMask.addEventListener(egret.TouchEvent.TOUCH_TAP,this.closeSelf,this),this.itemScroller.removeEventListener(egret.TouchEvent.TOUCH_MOVE,this.endScroller,this),this.itemCollection.removeAll()},t.prototype.endScroller=function(){this.itemScroller.height+this.itemScroller.viewport.scrollV>=this.itemScroller.viewport.contentHeight?this.arrowImg.visible=!1:this.arrowImg.visible=!0},t}(BaseEuiView);__reflect(BossWarnView.prototype,"BossWarnView");var FieldBossInfoView=function(s){function t(t,e){var i=s.call(this,t,e)||this;return i.skinName="FieldBossInfoSkin",i.btnBack.addEventListener(egret.TouchEvent.TOUCH_TAP,i.closeSelf,i),i.btnClose.addEventListener(egret.TouchEvent.TOUCH_TAP,i.closeSelf,i),i}return __extends(t,s),t.prototype.closeSelf=function(){this.apF(O9.A24)},t.prototype.initUI=function(){s.prototype.initUI.call(this);var t=N17.FE74();this.tipsLabel.text=t,this.lbTitle.textFlow=M18.HTP.parse(O3.tr(5401)),this.lbStr1.textFlow=M18.HTP.parse(O3.tr(5845)),this.lbStr2.textFlow=M18.HTP.parse(O3.tr(5846)),this.lbStr3.textFlow=M18.HTP.parse(O3.tr(5847)),this.lbStr4.textFlow=M18.HTP.parse(O3.tr(5848)),this.lbStr5.textFlow=M18.HTP.parse(O3.tr(5849)),this.conditionLabel.textFlow=M18.HTP.parse(O3.tr(5850))},t.prototype.initIcons=function(){if(!this.fixRewards){this.fixRewards=this.data.ZV38();for(var t=0;t<this.fixRewards.length;t++){var e=new ItemIcon;e.data=this.fixRewards[t],this.fixGroup.addChild(e)}}if(!this.randomRewards){this.randomRewards=this.data.ZK48();for(t=0;t<this.randomRewards.length;t++){var i=new ItemIcon;i.data=this.randomRewards[t],this.dropGroup.addChild(i)}}},t.prototype.initData=function(){s.prototype.initData.call(this)},t.prototype.open=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];s.prototype.open.call(this),this.data=t[0],App.K16.doTimer(1e3,0,this.GY14,this,null,this),this.challengeBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.ZK50,this),this.ocLabel.addEventListener(egret.TouchEvent.TOUCH_TAP,this.ocHandler,this),this.initIcons(),this.GX5()},t.prototype.ocHandler=function(){if(this.data.isOccupy()){var t=App.CM.gtM(O6.B82);if(!this.data||!this.data.oi)return;if(t.avatarInfo.id==this.data.oi.aid)return void App.CM.apF(O6.B82,L13.A64);if(this.data.name){var e={nId:this.data.oi.aid,sName:this.data.oi.name};App.CM.apF(O6.B84,L14.A20,e)}}},t.prototype.ZK50=function(){0<THH25.getFcd()?App.CM.apF(O6.C21,O9.A15):this.data.isOccupy()&&!this.data.isMe()?App.VM.open(O7.HH38,M18.FG71(O3.tr(5655)),this,this.challenge):2==this.data.bs?P18.sDP(O3.tr(5656)):3==this.data.bs?P18.sDP(O3.tr(5657)):this.challenge()},t.prototype.challenge=function(){var t=N12.giC(this.itemId);t<this.itemCost?App.VM.open(O7.G87,this.itemId,this.itemCost-t):P7.FF59()&&App.CM.apF(O6.C21,O9.A35,this.data.index)},t.prototype.GX5=function(){if(this.data){this.GY14(),this.lvLabel.text=O3.tr(525,this.data.openLevel);var t=this.data.ZK47();this.itemLabel.text=N12.FK5(parseInt(t[0])),this.itemId=t[0],this.itemCost=t[1],this.pBarField.value=this.data.ZV37(),this.nameLabel.text=this.data.name,this.phLabel.text=this.data.getHpText()+"%";var e={id:this.data.modelId,x:0,y:0,dir:Dir.br,objType:P13.A6,bt:BehaviourType.Stand_d};this.objBoss||(this.objBoss=new FightGameObject),this.objBoss.setData(e,this.gpRole),this.data.FI23()?(this.challengeBtn.enabled=!0,P16.sGF(this.challengeBtn,!1)):(this.challengeBtn.enabled=!1,P16.sGF(this.challengeBtn,!0));var i=N12.giC(parseInt(t[0]));if(this.data.isOccupy()&&1==this.data.bs){if(this.icon.ZQ13(!0),this.data.oi){var s={id:this.data.oi.aid,name:this.data.oi.name,icon:this.data.oi.icon};this.icon.setData(s)}this.data.isMe()||this.data.isUsed()?(this.itemCost=0,this.numLabel.visible=!1,this.itemLabel.visible=!1,this.itemBg.visible=!1):0<t[1]?(this.numLabel.visible=!0,this.itemLabel.visible=!0,this.itemBg.visible=!0,i<t[1]?this.numLabel.textColor=14164514:this.numLabel.textColor=7716890,this.numLabel.text=i+"/"+t[1]):(this.numLabel.visible=!1,this.itemLabel.visible=!1,this.itemBg.visible=!1)}else this.data.isMe()||this.data.isUsed()?(this.itemCost=0,this.numLabel.visible=!1,this.itemLabel.visible=!1,this.itemBg.visible=!1,this.icon.ZQ13(!1),this.icon.setData(null)):(this.icon.ZQ13(!1),this.icon.setData(null),0<t[1]?(this.numLabel.visible=!0,this.itemLabel.visible=!0,this.itemBg.visible=!0,i<t[1]?this.numLabel.textColor=14164514:this.numLabel.textColor=7716890,this.numLabel.text=i+"/"+t[1]):(this.numLabel.visible=!1,this.itemLabel.visible=!1,this.itemBg.visible=!1))}},t.prototype.uBM=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];s.prototype.uBM.call(this,t,e),(t instanceof TG91||t instanceof THH14)&&this.GX5()},t.prototype.close=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];s.prototype.close.call(this),App.K16.remove(this.GY14,this),this.challengeBtn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.ZK50,this),this.ocLabel.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.ocHandler,this),this.gpRole.removeChildren(),this.objBoss.destory(),this.objBoss=null,this.data=null},t.prototype.GY14=function(){var t,e=THH25.getFbcd();this.timeLabel.text=P6.FJ11(1e3*e,3)+"",this.data.isOccupy()&&1==this.data.bs?(t=this.data.oi.name,0<this.data.getOcdTime()?t+="("+this.data.getOcdTime()+"s)":App.CM.apF(O6.C21,O9.A53)):t=this.data.isKilled()?O3.tr(522):O3.tr(527),this.ocLabel.textFlow=new Array({text:t,style:{underline:!0}});var i=103-this.ocLabel.width/2;i<34&&(i=34),this.ocLabel.x=i,0<THH25.getFcd()?this.challengeBtn.label=O3.tr(555,THH25.getFcd()):this.challengeBtn.label=O3.tr(513)},t}(BaseEuiView);__reflect(FieldBossInfoView.prototype,"FieldBossInfoView");var FieldBossItem=function(r){function t(){var t=r.call(this)||this;return t.addEventListener(egret.Event.ADDED_TO_STAGE,t.onAddToStage,t),t.addEventListener(egret.Event.REMOVED_FROM_STAGE,t.onRemoveStage,t),t}return __extends(t,r),t.prototype.childrenCreated=function(){r.prototype.createChildren.call(this),this.initUI()},t.prototype.initUI=function(){this.lblzhuangtai.textFlow=M18.HTP.parse(O3.tr(3869)),this.lbltaopao.textFlow=M18.HTP.parse(O3.tr(3870)),this.lblxiaci.textFlow=M18.HTP.parse(O3.tr(3871)),this.ocTipsLabel.textFlow=M18.HTP.parse(O3.tr(3872)),this.goBtn.label=O3.tr(3874)},t.prototype.dataChanged=function(){r.prototype.dataChanged.call(this),this.GY14();var t=THH25.getFbt();this.refreshLabel.textFlow=M18.HTP.parse(O3.tr(3868,P6.FC72(t/1e3)));var e=this.data.modelId;if(!this.lastMid||this.lastMid!=e){this.lastMid=e,this.gpBoss.removeChildren();var i={id:e,x:0,y:0,dir:Dir.br,objType:P13.A6,bt:BehaviourType.Stand_d};this.objBoss&&(this.gpBoss.removeChildren(),this.objBoss.destory(),this.objBoss=null),this.objBoss=new FightGameObject,this.objBoss.setData(i,this.gpBoss)}var s="75c01a";this.data.isOpen()?(this.goBtn.visible=!0,this.tipsLabel.visible=!1,1==this.data.bs?(this.stateLabel.textColor=7716890,this.stateLabel.text=O3.tr(521),this.goBtn.touchEnabled=!0,P16.sGF(this.goBtn,!1)):2==this.data.bs?(this.stateLabel.textColor=16458017,this.stateLabel.text=O3.tr(522),this.goBtn.touchEnabled=!1,P16.sGF(this.goBtn,!0)):3==this.data.bs&&(this.stateLabel.textColor=7716890,this.stateLabel.text=O3.tr(523),this.goBtn.touchEnabled=!1,P16.sGF(this.goBtn,!0))):(s="d82222",this.stateLabel.textColor=16458017,this.stateLabel.text=O3.tr(524),this.goBtn.visible=!1,this.tipsLabel.visible=!0,this.tipsLabel.text=O3.tr(520,this.data.openLevel));var o=O5.FA77(this.data.quality);this.nameLabel.textFlow=M18.FG71(O3.tr(543,o,this.data.name,s,this.data.openLevel)),this.imgTitle.width=this.nameLabel.width+55,this.data.oi&&this.data.oi.name?(this.ocLabel.visible=!0,this.ocTipsLabel.visible=!0,this.ocLabel.textFlow=M18.HTP.parse(O3.tr(3873,this.data.oi.name))):(this.ocLabel.visible=!1,this.ocTipsLabel.visible=!1)},t.prototype.onAddToStage=function(){App.K16.doTimer(1e3,0,this.GY14,this,null,this),this.goBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.clickHandler,this)},t.prototype.onRemoveStage=function(){App.K16.remove(this.GY14,this),this.goBtn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.clickHandler,this),this.gpBoss.removeChildren(),this.objBoss.destory(),this.objBoss=null},t.prototype.clickHandler=function(){App.CM.apF(O6.C21,O9.A34,this.data)},t.prototype.GY14=function(){var t=0;1==this.data.bs&&(t=THH25.getFbcd()),this.escapeLabel.textFlow=M18.HTP.parse(O3.tr(3867,P6.FJ11(1e3*t,3)))},t}(eui.ItemRenderer);__reflect(FieldBossItem.prototype,"FieldBossItem");var FieldBossView=function(s){function t(t,e){var i=s.call(this,t,e)||this;return i.refreshSecond=3,i.skinName=SingleBossSkin,i}return __extends(t,s),t.prototype.initUI=function(){s.prototype.initUI.call(this),this.shopImg.visible=!1,this.itemCollection=new eui.ArrayCollection,this.itemList.dataProvider=this.itemCollection,this.itemList.itemRendererSkinName=ItemFieldBossSkin,this.itemList.itemRenderer=FieldBossItem},t.prototype.initData=function(){s.prototype.initData.call(this)},t.prototype.open=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];s.prototype.open.call(this),this.itemScroller.addEventListener(egret.TouchEvent.TOUCH_MOVE,this.endScroller,this),null!=this.timerHandler&&(App.K16.rBH(this.timerHandler),this.timerHandler=null),this.timerHandler=App.K16.doTimer(1e3*this.refreshSecond,0,this.autoRefresh,this),this.GX5()},t.prototype.autoRefresh=function(){App.CM.apF(O6.C21,O9.A53)},t.prototype.uBM=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];s.prototype.uBM.call(this,t,e),t instanceof TG91&&this.GX5()},t.prototype.GX5=function(){var t=THH25.FB19();this.itemCollection.replaceAll(t),this.itemScroller.height+this.itemScroller.viewport.scrollV>=this.itemScroller.viewport.height?this.arrowImg.visible=!1:this.arrowImg.visible=!0},t.prototype.close=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];s.prototype.close.call(this),this.itemScroller.removeEventListener(egret.TouchEvent.TOUCH_MOVE,this.endScroller,this),null!=this.timerHandler&&(App.K16.rBH(this.timerHandler),this.timerHandler=null)},t.prototype.endScroller=function(){this.itemScroller.height+this.itemScroller.viewport.scrollV>=this.itemScroller.viewport.contentHeight?this.arrowImg.visible=!1:this.arrowImg.visible=!0},t}(BaseEuiView);__reflect(FieldBossView.prototype,"FieldBossView");var PeopleBossView=function(s){function t(t,e){var i=s.call(this,t,e)||this;return i.delay=3,i.cd=i.delay,i.skinName=PeopleBossSkin,i}return __extends(t,s),t.prototype.initUI=function(){s.prototype.initUI.call(this),this.itemCollection=new eui.ArrayCollection,this.itemList.dataProvider=this.itemCollection,this.itemList.itemRenderer=BossItem,this.lbTtext.textFlow=M18.HTP.parse(O3.tr(3894)),this.lblcishu.textFlow=M18.HTP.parse(O3.tr(3895)),this.buyBtn.label=O3.tr(3897),this.warnBtn.label=O3.tr(3898)},t.prototype.initData=function(){s.prototype.initData.call(this)},t.prototype.open=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];s.prototype.open.call(this),this.shopImg.addEventListener(egret.TouchEvent.TOUCH_TAP,this.ZG37,this),this.itemScroller.addEventListener(egret.TouchEvent.TOUCH_MOVE,this.endScroller,this),this.buyBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.buyHandler,this),this.warnBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.warnHandler,this),App.CM.apF(O6.C21,O9.A77),App.K16.doTimer(1e3,0,this.GY14,this,null,this),this.GX5()},t.prototype.GY14=function(){var t=THH25.FK50(),e=THH25.FA37(),i=THH25.FA14();t<=0&&e<i&&App.CM.apF(O6.C21,O9.A5),this.cd-=1,this.cd<=0&&(this.cd=this.delay,App.CM.apF(O6.C21,O9.A77)),e<i&&(this.lbTtext.visible=!0,this.cdLabel.visible=!0,this.cdLabel.textFlow=M18.HTP.parse(O3.tr(3896,P6.FJ11(1e3*t,1))))},t.prototype.uBM=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];s.prototype.uBM.call(this,t,e),this.GX5()},t.prototype.GX5=function(){this.lbTtext.visible=!1,this.cdLabel.visible=!1;var t=THH25.FC81();this.itemCollection.replaceAll(t),this.GY14(),this.itemScroller.height+this.itemScroller.viewport.scrollV>=this.itemScroller.viewport.height?this.arrowImg.visible=!1:this.arrowImg.visible=!0;var e=THH25.FA37(),i=THH25.FA14(),s=App.CM.gtM(O6.B82).avatarInfo.v,o=THH34.FK45(s).peopletimes-THH25.FJ36();this.buyBtn.visible=e<i&&0<o,this.timesLabel.text=O3.tr(516,e,i);var r=THH27.FE34();this.shopImg.imgNew.visible=0<r&&!O4.FF89(L17.A42)},t.prototype.close=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];s.prototype.close.call(this),this.shopImg.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.ZG37,this),this.itemScroller.removeEventListener(egret.TouchEvent.TOUCH_MOVE,this.endScroller,this),this.buyBtn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.buyHandler,this),this.warnBtn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.warnHandler,this),App.K16.remove(this.GY14,this),this.cd=null,this.itemCollection.removeAll()},t.prototype.buyHandler=function(){THH25.FF94()},t.prototype.warnHandler=function(){App.CM.apF(O6.C21,O9.A81)},t.prototype.endScroller=function(){this.itemScroller.height+this.itemScroller.viewport.scrollV>=this.itemScroller.viewport.contentHeight?this.arrowImg.visible=!1:this.arrowImg.visible=!0},t.prototype.ZG37=function(){App.VM.isOpen(O7.HH98)&&App.VM.close(O7.HH98),App.VM.isOpen(O7.E86)&&App.VM.close(O7.E86);var t=O4.getLv(),e=N15.FG47(P12.A20);if(t<e){var i=K18.init.commonDesc1.value;P18.sDP(M18.format(i,[e]))}else App.VM.open(O7.HH98,O7.I3,P12.A20)},t}(BaseEuiView);__reflect(PeopleBossView.prototype,"PeopleBossView");var SingleBossView=function(s){function t(t,e){var i=s.call(this,t,e)||this;return i.skinName=SingleBossSkin,i}return __extends(t,s),t.prototype.initUI=function(){s.prototype.initUI.call(this),this.itemCollection=new eui.ArrayCollection,this.itemList.dataProvider=this.itemCollection,this.itemList.itemRenderer=BossItem},t.prototype.initData=function(){s.prototype.initData.call(this)},t.prototype.open=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];s.prototype.open.call(this),this.shopImg.addEventListener(egret.TouchEvent.TOUCH_TAP,this.ZG38,this),this.itemScroller.addEventListener(egret.TouchEvent.TOUCH_MOVE,this.endScroller,this),this.GX5(),egret.Tween.get(this).wait(200).call(function(){TG68.FD9(this,N4.single_boss_btn,!1,this.baseGroup),null==this.currStepId&&this.secondStepId&&TG68.FHH42(O7.HH95,N4.basePanel),this.currStepId&&(this.secondStepId=this.currStepId),egret.Tween.removeTweens(this)},this)},t.prototype.uBM=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];s.prototype.uBM.call(this,t,e),t instanceof TG91?this.GX5():(t instanceof THH14||t instanceof TF89)&&this.GX5(),t instanceof TF84&&this.ZD61(t)},t.prototype.ZD61=function(t){this.currStepId&&t.ZJ29(this.currStepId)&&TG68.FJ82(O7.G75,N4.basePanel)},t.prototype.GX5=function(){var t=THH25.FC80();this.itemCollection.replaceAll(t),this.itemScroller.height+this.itemScroller.viewport.scrollV>=this.itemScroller.viewport.height?this.arrowImg.visible=!1:this.arrowImg.visible=!0;var e=THH27.FE35();this.shopImg.imgNew.visible=0<e&&!O4.FF89(L17.A42)},t.prototype.close=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];s.prototype.close.call(this),this.shopImg.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.ZG38,this),this.itemScroller.removeEventListener(egret.TouchEvent.TOUCH_MOVE,this.endScroller,this),this.itemCollection.removeAll()},t.prototype.endScroller=function(){this.itemScroller.height+this.itemScroller.viewport.scrollV>=this.itemScroller.viewport.contentHeight?this.arrowImg.visible=!1:this.arrowImg.visible=!0},t.prototype.ZG38=function(){App.VM.isOpen(O7.HH98)&&App.VM.close(O7.HH98),App.VM.isOpen(O7.E86)&&App.VM.close(O7.E86);var t=O4.getLv(),e=N15.FG47(P12.A32);if(t<e){var i=K18.init.commonDesc1.value;P18.sDP(M18.format(i,[e]))}else App.VM.open(O7.HH98,O7.I3,P12.A32)},t}(BaseEuiView);__reflect(SingleBossView.prototype,"SingleBossView");var J15=function(){function o(){}return o.FK35=function(t){o.init=t.chapter_init||{},o.map=t.chapter_map||{},o.chapter=t.chapter_chapter||{},o.outposts=t.chapter_outposts||{}},o.FI6=function(t){return o.init[t]?o.init[t].value:null},o.FE78=function(){if(0<o._totalBlockCt)return o._totalBlockCt;var t=0,e={};for(var i in o.map){var s=o.map[i];e[s.block]||(e[s.block]=1,t++)}return o._totalBlockCt=t},o.FC17=function(t){var e=[];for(var i in o.map){var s=o.map[i];s.block==t+""&&e.push(s)}return e},o.FL46=function(){return o.map},o.FK54=function(t){return o.map[t]},o.FK55=function(t){return o.chapter[t]},o.FK56=function(t){return o.outposts[t]},o.FC82=function(t){var e=o.FK56(t);if(e){var i=o.FK55(e.chapterid);return o.FK54(i.mapid)}},o._totalBlockCt=0,o}();__reflect(J15.prototype,"J15");var J18=function(){function t(){}return t.A32=10001,t.A33=10002,t.A18=10003,t.A19=10004,t.A20=10005,t.A24=10006,t.A25=10007,t.A1=10008,t.A2=10009,t.A7=10010,t.A8=10011,t.A26=10012,t.A27=10013,t.A3=10014,t.A4=10015,t.A38=10016,t.A5=10017,t.A6=10018,t.A9=10019,t.A10=10020,t.A11=10021,t.A29=10022,t.A30=10023,t.A43=20001,t.A44=20002,t.A39=20003,t.A40=20004,t.A47=20005,t.A48=20006,t.A45=20007,t.A46=20008,t.A49=20009,t.A50=20010,t.A41=20011,t.A42=20012,t.A34=20013,t.A31=20014,t.A36=20015,t.A35=20016,t.A14=20017,t.A12=20018,t.A15=20019,t.A13=20020,t.A28=20021,t.A21=20022,t.A22=20023,t.A23=20024,t.A16=20025,t.A17=20026,t.A37=30001,t}();__reflect(J18.prototype,"J18");var TC75=function(s){function t(){var t=s.call(this)||this;App.VM.register(O7.E80,"ChapterWorld",t,K17.UI_Popup),t.rgF(J18.A43,t.GU27,t),t.rgF(J18.A44,t.GS44,t),App.VM.register(O7.B24,"ChapterBossDetail",t,K17.UI_Main_TOP),t.rgF(J18.A39,t.GQ49,t),t.rgF(J18.A40,t.GO69,t),App.VM.register(O7.F75,"ChapterRankView",t,K17.UI_Main_TOP),t.rgF(J18.A47,t.GU9,t),t.rgF(J18.A48,t.GS17,t),App.VM.register(O7.I42,"ChapterAskHelp",t,K17.UI_Popup),t.rgF(J18.A45,t.GO70,t),t.rgF(J18.A46,t.GM81,t),App.VM.register(O7.F76,"ChapterDesc",t,K17.UI_Popup),t.rgF(J18.A49,t.GU28,t),t.rgF(J18.A50,t.GS45,t),App.VM.register(O7.D94,"ChapterOfflineIncome",t,K17.UI_Popup),t.rgF(J18.A41,t.openOfflineIncome,t),t.rgF(J18.A42,t.GJ9,t),App.VM.register(O7.C13,"VipDailyGiftPackView",t,K17.UI_Popup),App.VM.register(O7.A70,"DailyBasicsGiftPackView",t,K17.UI_Popup);var e=P7.FJ17();App.VM.register(O7.D18,"ChapterBossButton",t,e?K17.UpFight:K17.UI),t.rgF(J18.A34,t.GM82,t),t.rgF(J18.A31,t.GL15,t),App.VM.register(O7.B25,"ChapterBossFightRewardView",t,K17.UI),t.rgF(J18.A28,t.GJ7,t),t.rgF(J18.A21,t.GHH25,t),t.rgF(J18.A37,t.GS48,t),App.VM.register(O7.G77,"DlgSearchHero",t,K17.UI_Main),t.rgF(J18.A36,t.GQ52,t),t.rgF(J18.A35,t.GO71,t);var i=new TF80(t);return i.aLV(O7.HH30),i.aLV(O7.I76),i.aLV(O7.D18),i.aLV(O7.B24),i.aLV(O7.G77),i.aLV(O7.I85),i.aLV(O7.F10),i.aLV(O7.F12),i.aLV(O7.I64),i.aLV(O7.I86),t.proxy=new TF81(t),t.rgF(J18.A32,t.GQ53,t),t.rgF(J18.A33,t.GQ54,t),t.rgF(J18.A18,t.GM83,t),t.rgF(J18.A19,t.GX27,t),t.rgF(J18.A20,t.GX28,t),t.rgF(J18.A24,t.GX29,t),t.rgF(J18.A25,t.GX30,t),t.rgF(J18.A1,t.GT95,t),t.rgF(J18.A2,t.GT91,t),t.rgF(J18.A7,t.GS46,t),t.rgF(J18.A8,t.GS47,t),t.rgF(J18.A26,t.GY22,t),t.rgF(J18.A27,t.GY23,t),t.rgF(J18.A3,t.GU30,t),t.rgF(J18.A4,t.GU31,t),t.rgF(J18.A38,t.GJ10,t),t.rgF(J18.A6,t.GQ55,t),t.rgF(J18.A10,t.GU32,t),t.rgF(J18.A11,t.GU29,t),t.rgF(J18.A29,t.GO72,t),t.rgF(J18.A30,t.GO73,t),t.rgF(J18.A22,t.GV77,t),t.rgF(J18.A23,t.GV78,t),t.rgF(J18.A16,t.GQ50,t),t.rgF(J18.A17,t.GQ51,t),t.rgF(J18.A9,t.proxy.visitHeroReq,t.proxy),t.rgF(J18.A5,t.proxy.ZR25,t.proxy),t}return __extends(t,s),t.prototype.GU26=function(t){t.fightType!==P15.A3&&this.GM79()},t.prototype.GM79=function(){var t=App.VM.gOV(O7.D18);t&&t.setVisible(!0)},t.prototype.GQ48=function(t){t.fightType!==P15.A3&&this.GM80()},t.prototype.GM80=function(){var t=App.VM.gOV(O7.D18);t&&t.setVisible(!1)},t.prototype.GU27=function(){App.VM.open(O7.E80)},t.prototype.GS44=function(){App.VM.close(O7.E80)},t.prototype.GQ49=function(){App.VM.open(O7.B24)},t.prototype.GO69=function(){App.VM.close(O7.B24)},t.prototype.GU9=function(){App.VM.open(O7.F75)},t.prototype.GS17=function(){App.VM.close(O7.F75)},t.prototype.GO70=function(){App.VM.open(O7.I42)},t.prototype.GM81=function(){App.VM.close(O7.I42)},t.prototype.GU28=function(t){App.VM.open(O7.F76,t)},t.prototype.GS45=function(){App.VM.close(O7.F76)},t.prototype.openOfflineIncome=function(){return __awaiter(this,void 0,void 0,function(){var e,i,s,o,r,n;return __generator(this,function(t){switch(t.label){case 0:return App.VM.isOpen(O7.I39)?((e=this.gtM()).hdData&&(App.VM.open(O7.D94,e.hdData),e.ZI10(null)),e.isVipDaily?[3,3]:(e.isVipDaily=!0,platform instanceof WanBaPlatform?(i=platform,s=App.CM.gtM(O6.B82),i.shareInit(s.avatarInfo.id),"H5.QZONE.PC"==window.OPEN_DATA.via&&App.CM.apF(O6.B74,K4.A16),-1!=window.OPEN_DATA.pf.indexOf("weixin")?[2]:("QQVip"==window.OPEN_DATA.channel&&0==s.vipdr&&App.VM.open(O7.C20),[4,i.receiveGift()])):[3,3])):[2];case 1:return 0==(o=t.sent()).ret?J16.FL97(o.giftid)?this.GV76(o.giftid,s):console.log("不是每日基础礼包id"):console.log(o.msg),r=App.CM.gtM(O6.B66),[4,i.getVipLevel()];case 2:if(0!=(n=t.sent()).ret)return console.log("获取vip等级失败",n.msg),[2];if(0==n.level)return console.log("获取vip等级为0"),[2];r.vipLevel=n.level,this.vipDaily(r,s),t.label=3;case 3:return[2]}})})},t.prototype.GV76=function(t,e){e.ZV16(t)?this.GQ50(t):console.log("礼包不能重复领取")},t.prototype.GQ50=function(t){this.proxy.GQ50(t)},t.prototype.GQ51=function(t,e){t&&t.head&&200==t.head.state?(App.VM.open(O7.A70,e),P5.sIs(t.body.edg)):P18.sDP(K18.getTips(t.head.state))},t.prototype.vipDaily=function(t,e){if(0==e.dailyPack)this.GV77(t.vipLevel);else{var i=[O3.tr(7052),O3.tr(7053,t.vipLevel),"",O3.tr(7054)];App.VM.open(O7.C13,i)}},t.prototype.GV77=function(t){this.proxy.GV77(t)},t.prototype.GV78=function(t,e){if(t&&t.head&&200==t.head.state){var i=J16.FG59(J16.init.qqdayReward.value,e),s=[O3.tr(7052),O3.tr(7056,e),i,O3.tr(7054)];App.VM.open(O7.C13,s),P5.sIs(t.body.edg)}else P18.sDP(K18.getTips(t.head.state))},t.prototype.GJ9=function(){App.VM.close(O7.D94)},t.prototype.GM82=function(){var t=App.VM.gOV(O7.I85);if(t&&t.chartGroup.height<=ChatView.minHeig)App.VM.open(O7.D18);else if(t&&t.chartGroup.height>ChatView.minHeig){P7.FJ17()||App.VM.close(O7.D18)}},t.prototype.GL15=function(){App.VM.close(O7.D18)},t.prototype.GJ7=function(t){App.VM.open(O7.B25,t)},t.prototype.GHH25=function(){App.VM.close(O7.B25)},t.prototype.GQ52=function(){App.VM.setAutoClose(O7.G77,!1),App.VM.open(O7.G77)},t.prototype.GO71=function(){App.VM.setAutoClose(O7.G77,!0),App.VM.close(O7.G77)},t.prototype.GQ53=function(){return this.proxy.ZK52()},t.prototype.GQ54=function(t){if(t&&t.head&&200==t.head.state){var e=this.gtM();e.ZN55(t.body);var i=e.FL64();this.GX26(i.resource,null,null)}else P18.sDP(K18.getTips(t.head.state))},t.prototype.GX26=function(t,e,i){for(var s=[],o=0;o<FightD.MAP_COL;o++)for(var r=0;r<FightD.MAP_ROW;r++){var n=r+FightD.MAP_UL+o+FightD.MAP_IMG_S,a=FightD.MAP_RES_PATH+t+FightD.MAP_CLIP+n,h=FightD.MAP_KEY+t+n;App.TF3.ZQ10(h,"image",platform.resUrl+a),s.push(h)}App.TF3.createGroup("first_map",s)},t.prototype.GJ10=function(t){if(t&&t.head&&200==t.head.state){var e=this.gtM();e.ZG39(t.body),e.notify()}},t.prototype.GM83=function(t){t&&t.head&&200==t.head.state&&(this.gtM().ZI10(t.body),this.apF(J18.A41))},t.prototype.GX27=function(t){if(void 0===t&&(t=!1),App.CM.gtM(O6.B99).canReqAtk()&&P7.FF59()){this.GO69(),this.ZT94(O6.B99,N1.A5,!1);var e=App.CM.gtM(O6.B64);this.proxy.GX27(e.chData.o,t)}},t.prototype.GX28=function(e,t,i){if(void 0===i&&(i=!1),!e||!e.head||200!=e.head.state)return P18.sDP(K18.getTips(e.head.state)),void this.ZT94(O6.B99,N1.A5);var s=this.gtM();s.ZG40(e.body.so),e.body.r&&0==e.body.r.v&&(s.auto=!1),App.VM.isOpen(O7.G55)&&App.VM.close(O7.G55);var o=e.body.r.sl;App.CM.apF(O6.B99,N1.A11,e.body.r,{rewards:e.body.ob,needResult:!0,help:!0,type:o,oid:t,isAuto:i},function(t){s.ZG39(e.body),s.outpostStars=s.chData.s,s.notify(P4.R60)},this)},t.prototype.GS46=function(){if(App.CM.gtM(O6.B99).canReqAtk){var t=App.CM.gtM(O6.B97);egret.getTimer()-t.lt<=1e4||(this.ZT94(O6.B99,N1.A5,!1),this.proxy.GS46())}},t.prototype.GS47=function(t){if(t&&t.head&&200==t.head.state){var e=this.gtM();e.outpostStars=e.chData.s,e.ZG39(t.body),App.CM.apF(O6.B99,N1.A11,t.body.r,{rewards:t.body.ob,type:P15.A3},function(t){e.outpostStars=e.chData.s,e.notify()},this)}else{App.CM.gtM(O6.C6).isSend||(this.ZT94(O6.B99,N1.A5),P18.sDP(K18.getTips(t.head.state)))}},t.prototype.GX29=function(t){this.proxy.GX29(t)},t.prototype.GX30=function(t){t&&t.head&&200==t.head.state||P18.sDP(K18.getTips(t.head.state))},t.prototype.GY22=function(t,e){App.CM.gtM(O6.B99).canReqAtk&&P7.FF59()&&(this.ZT94(O6.B99,N1.A5,!1),this.proxy.GY22(t,e))},t.prototype.GY23=function(t){if(!t||!t.head||200!=t.head.state)return P18.sDP(K18.getTips(t.head.state)),void this.ZT94(O6.B99,N1.A5);var e=this.gtM();e.ZG40(t.body.so),e.ZG39(t.body),e.notify(),1==t.body.w&&(e.ZK51(t.body.co),App.CM.apF(O6.B99,N1.A11,t.body.r,{rewards:t.body.ob,needResult:!0},function(t){},this))},t.prototype.GU29=function(e){if(200==e.head.state){var i=this.gtM();i.ZG40(e.body.so),App.CM.apF(O6.B99,N1.A11,e.body.r,{rewards:e.body.ob,needResult:!0},function(t){i.ZG39(e.body),i.notify()},this)}else P18.sDP(K18.getTips(e.head.state))},t.prototype.GT95=function(t){this.proxy.ZK53(t)},t.prototype.GT91=function(t){if(t&&t.head&&200==t.head.state){var e=this.gtM();e.ZG39(t.body),e.notify(P4.I4),P5.sIs(t.body.ob)}else P18.sDP(K18.getTips(t.head.state))},t.prototype.GU30=function(){this.proxy.ZN57()},t.prototype.GU31=function(t){if(t&&t.head&&200==t.head.state){var e=this.gtM();e.ZG39(t.body),e.notify(P4.I7)}else P18.sDP(K18.getTips(t.head.state))},t.prototype.GS48=function(t){var e=this.gtM();e.auto=t,e.notify(),this.ZT94(O6.B99,N1.A5)},t.prototype.GQ55=function(t){if(!t||!t.head||200!=t.head.state)return this.apF(J18.A35),void App.CM.apF(O6.B87,L10.A4,t);this.gtM().ZI9(t.body),this.apF(J18.A9)},t.prototype.GU32=function(t){var e=this.gtM();e.ZR24(t.body),e.notify(P4.N89)},t.prototype.GO72=function(){this.proxy.GO72()},t.prototype.GO73=function(t){if(200==t.head.state){var e=this.gtM();if(e.chData.en=t.body.en,t.body.coin){var i=pack.I11.COIN,s=t.body.coin,o={};o.k=i,o.v=s,P5.sIs([o])}e.notify(P4.L95)}else 215==t.head.state?P7.FA78():App.CM.apF(O6.B87,L10.A4,t)},__decorate([Ioc.Listener(GameEvent.EXIT_BATTLE)],t.prototype,"GU26",null),__decorate([Ioc.Listener(GameEvent.ENTRY_BATTLE)],t.prototype,"GQ48",null),t=__decorate([Ioc.MVC],t)}(TE11);__reflect(TC75.prototype,"TC75");var TF80=function(o){function t(t){var e=o.call(this,t)||this;return e.auto=!1,e.countTime=10,e.isVipDaily=!1,e}return __extends(t,o),t.prototype.ZV44=function(){return J15.FK56(this.chData.o)},t.prototype.ZV45=function(){var t=this.ZV44();return t?J15.FK55(t.chapterid):null},t.prototype.FL64=function(){var t=this.ZV45();return t?J15.FK54(t.mapid):null},t.prototype.getNextMap=function(){var t=this.ZV45();if(t){var e=t.mapid;return J15.FK54(e+1)}return null},t.prototype.FHH10=function(){if(this.chData.ac&&0<this.chData.ac.length){var t=this.chData.ac[0],e=J15.FK55(t);return{rewards:P7.FF58(e.passaward),chapter:e}}return null},t.prototype.hasRewards=function(){return this.chData.ac&&0<this.chData.ac.length},t.prototype.autoAtk=function(){if(this.auto){var t=this.ZV44();if(this.chData.s>=t.time&&0==this.chData.p)return!0}return!1},t.prototype.ZV46=function(){var t=this.ZV44(),e=this.ZV45();return!(null==t||t.order<e.num||0==this.chData.p)},t.prototype.notify=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var i=t[0];if("helpCount"==i){var s=App.VM.gOV(O7.B24);s&&s.uBM(this,i)}else o.prototype.notifyView.apply(this,[this].concat(t))},t.prototype.ZN55=function(t){this.chData=t,this.lastRefreshSearchTime=P6.getTime()},t.prototype.ZG39=function(t){if(this.chData){for(var e in t)this.chData[e]=t[e],"vcd"==e&&(this.lastRefreshSearchTime=P6.getTime());this.outpostStars=this.chData.s}},t.prototype.ZG40=function(t){this.curTotalPost=t},t.prototype.ZK51=function(t){this.assistOutpost=t},t.prototype.ZE94=function(){var t=this.assistOutpost?J15.FK56(this.assistOutpost):J15.FK56(this.chData.o);this.assistOutpost=null;var e=J15.FK55(t.chapterid),i=J15.FK54(e.mapid),s=this.curTotalPost;return O3.tr(5922,i.name,e.order,t.order,s)},t.prototype.ZI9=function(t){this.searchHeroId=t.hid},t.prototype.ZR24=function(t){this.searchHeroId=t.hid,this.chData.vcd=t.vcd,this.searchResult=t.suc,this.lastRefreshSearchTime=P6.getTime()},t.prototype.ZI10=function(t){this.hdData=t},t.prototype.ZI11=function(){return App.CM.gtM(O6.B82).avatarInfo.i},t.prototype.getSearchCd=function(){var t=P6.getTime(),e=Math.max(0,1e3*this.chData.vcd-(t-this.lastRefreshSearchTime));return Math.ceil(e/1e3)},t}(TG79);__reflect(TF80.prototype,"TF80");var chapter,TF81=function(i){function t(t){var e=i.call(this,t)||this;return e.rSM(P4.R58,e.ZN56,e),e.rSM(P4.Y2,e.GJ10,e),e.rSM(P4.N87,e.GU29,e),e}return __extends(t,i),t.prototype.ZK52=function(){var s=this;return new Promise(function(e,t){var i={type:P4.V58,body:{}};s.rSMO(P4.V59,function(t){s.apF(J18.A33,t),e("加载章节数据完成")},s),s.sSM(i)})},t.prototype.GJ10=function(t){this.apF(J18.A38,t)},t.prototype.ZN56=function(t){this.apF(J18.A18,t)},t.prototype.GS46=function(){var t={type:P4.L92,body:{}};this.rSMO(P4.L93,this.GS47,this),this.sSM(t)},t.prototype.GS47=function(t){this.apF(J18.A8,t)},t.prototype.GX27=function(t,e){var i={type:P4.R59,body:{}},s={};s.isAuto=e,s.oid=t,this.rSMO(P4.R60,this.GX28,this,s),this.sSM(i)},t.prototype.GX28=function(t,e){this.apF(J18.A20,t,e.oid,e.isAuto)},t.prototype.GX29=function(t){var e={type:P4.T16,body:{channel:t}};this.rSMO(P4.T17,this.GX30,this),this.sSM(e)},t.prototype.GX30=function(t){this.apF(J18.A25,t)},t.prototype.GY22=function(t,e){var i={type:P4.T18,body:{caller:t,oid:e}};this.rSMO(P4.T19,this.GY23,this),this.sSM(i)},t.prototype.GY23=function(t){this.apF(J18.A27,t)},t.prototype.GU29=function(t){this.apF(J18.A11,t)},t.prototype.ZK53=function(t){var e={type:P4.I4,body:{chapter:t}};this.rSMO(P4.I5,this.ZK54,this),this.sSM(e)},t.prototype.ZK54=function(t){this.apF(J18.A2,t)},t.prototype.ZN57=function(){var t={type:P4.I6,body:{}};this.rSMO(P4.I7,this.ZN58,this),this.sSM(t)},t.prototype.ZN58=function(t){this.apF(J18.A4,t)},t.prototype.ZR25=function(){var t={type:P4.J83,body:{}};this.rSMO(P4.J84,this.GQ55,this),this.sSM(t)},t.prototype.GQ55=function(t){this.apF(J18.A6,t)},t.prototype.visitHeroReq=function(){var t={type:P4.N88,body:{}};this.rSMO(P4.N89,this.GU32,this),this.sSM(t)},t.prototype.GU32=function(t){this.apF(J18.A10,t)},t.prototype.GO72=function(){var t={type:P4.L94,body:{}};this.rSMO(P4.L95,this.GO73,this),this.sSM(t)},t.prototype.GO73=function(t){this.apF(J18.A30,t)},t.prototype.GV77=function(t){var e={type:P4.R31,body:{lv:t}};this.rSMO(P4.R32,this.GV78,this,t),this.sSM(e)},t.prototype.GV78=function(t,e){this.apF(J18.A23,t,e)},t.prototype.GQ50=function(t){var e={type:P4.P72,body:{id:t}};this.rSMO(P4.P73,this.GQ51,this,t),this.sSM(e)},t.prototype.GQ51=function(t,e){this.apF(J18.A17,t,e)},t}(TG80);__reflect(TF81.prototype,"TF81"),function(t){var e=function(){};(chapter||(chapter={})).ChapterData=e,__reflect(e.prototype,"chapter.ChapterData")}(),function(t){var e=function(){};(chapter||(chapter={})).ChapterHandupIncome=e,__reflect(e.prototype,"chapter.ChapterHandupIncome")}();var ChapterAskHelp=function(s){function t(t,e){var i=s.call(this,t,e)||this;return i.skinName=ChapterAskHelpSkin,i}return __extends(t,s),t.prototype.initUI=function(){s.prototype.initUI.call(this),this.lbWorld.textFlow=new Array({text:O3.tr(5659),style:{underline:!0}}),this.lbUnion.textFlow=new Array({text:O3.tr(5660),style:{underline:!0}}),this.dlg.title=O3.tr(5836)},t.prototype.open=function(){this.lbWorld.addEventListener(egret.TouchEvent.TOUCH_TAP,this.ZR26,this),this.lbUnion.addEventListener(egret.TouchEvent.TOUCH_TAP,this.ZR26,this),this.dlg.ZM69(this.oCC,this)},t.prototype.close=function(){this.lbWorld.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.ZR26,this),this.lbUnion.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.ZR26,this)},t.prototype.uBM=function(t){s.prototype.uBM.call(this,t)},t.prototype.ZR26=function(t){var e=App.CM.gtM(O6.B64),i=parseInt(J15.FI6("appealNum"))||0;if(e.chData.ap>=i)P18.sDP(O3.tr(5658));else{var s=1;switch(t.target.name){case"union":s=2;break;case"world":default:s=1}var o=e.ZV44(),r=e.ZV45(),n=e.FL64(),a=n.name;2==n.difficulty&&(a+=O3.tr(6737));var h=M18.format("$0,$1,$2",[a,r.order,o.order]),p={nid:F8.A14,channelId:s,param:h};App.CM.apF(O6.C13,O12.A13,p),this.oCC()}},t.prototype.oCC=function(){this.aCF(O6.B64,J18.A46)},t}(BaseEuiView);__reflect(ChapterAskHelp.prototype,"ChapterAskHelp");var ChapterBossButton=function(s){function t(t,e){var i=s.call(this,t,e)||this;return i.skinName=ChapterBossButtonSkin,i}return __extends(t,s),t.prototype.initUI=function(){s.prototype.initUI.call(this),this.top=100,P7.FJ17()&&(this.right=0)},t.prototype.open=function(t){var e=App.CM.gtM(O6.B64);this.ZD73(e),egret.Tween.get(this).wait(200).call(function(){TG68.FD9(this,N4.battle_auto_btn,!1),egret.Tween.removeTweens(this)},this)},t.prototype.close=function(){this.imgChBoss&&this.imgChBoss.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.ZN59,this),this.tsAutoFight&&this.tsAutoFight.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.ZI12,this),this.imgNext&&this.imgNext.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.enterNextMap,this)},t.prototype.ZQ97=function(t){switch(this.currentState=t){case"nextmap":this.imgNext.addEventListener(egret.TouchEvent.TOUCH_TAP,this.enterNextMap,this);break;case"entrance":default:this.imgChBoss.addEventListener(egret.TouchEvent.TOUCH_TAP,this.ZN59,this),this.tsAutoFight.addEventListener(egret.TouchEvent.TOUCH_TAP,this.ZI12,this)}},t.prototype.uBM=function(t){t instanceof TF80&&this.ZD73(t),t instanceof TF84&&this.ZD61(t)},t.prototype.ZD61=function(t){this.currStepId&&t.ZJ29(this.currStepId)?(this.currStepId=null,TG68.FL78()):TG68.FD9(this,N4.battle_auto_btn,!1)},t.prototype.ZD73=function(t){if(t.chData){var e=t.ZV44(),i="v1_img_star_1_hui_png";if(e){t.ZV45();var s=t.getNextMap();if(t.ZV46())s?(this.ZQ97("nextmap"),this.lbLv.textFlow=M18.FG71(O3.tr(5399,O4.getLv(),s.level))):this.lbLv.text=O3.tr(5400);else{this.ZQ97("entrance"),this.tsAutoFight.currentState=t.auto?"down":"up";var o=3<e.time?3:e.time,r=1,n=1,a=null==t.outpostStars?t.chData.s:t.outpostStars;for(p=1;p<=o;p++){switch(o){case 1:r=2,n=1;break;case 2:r=1==p?1:3,n=2;break;case 3:default:n=2==(r=p)?1:2}i=p<=a?"v1_img_star_"+n+"_png":"v1_img_star_"+n+"_hui_png",(h=this.grpChStars.getChildAt(r-1))&&(h.source=i)}for(p=1;p<=3;p++){var h;if(h=this.grpChStars.getChildAt(p-1))switch(o){case 1:h.visible=2==p;break;case 2:h.visible=2!=p,1==p?h.left=10:3==p&&(h.right=10),n=1;break;case 3:default:h.visible=!0,1==p?h.left=0:3==p&&(h.right=0)}}}}else{this.ZQ97("entrance");for(var p=1;p<=3;p++)i=2==p?"v1_img_star_1_hui_png":"v1_img_star_2_hui_png",this.grpChStars.getChildAt(p-1).source=i;this.tsAutoFight.currentState="down"}}},t.prototype.ZN59=function(){var t=App.CM.gtM(O6.B64);t.hasRewards()?this.aCF(O6.B64,J18.A49,{viewState:"reward"}):t.ZV46()?this.aCF(O6.B64,J18.A43):this.aCF(O6.B64,J18.A39),TG40.playClickEffect()},t.prototype.ZI12=function(t){var e=Number(J15.FI6("autoLv"));if(App.CM.gtM(O6.B82).avatarInfo.l<e){var i=K18.init.commonDesc1.value;P18.sDP(M18.format(i,[e]))}else if(this.isTeamIng())P18.sDP(O3.tr(5661));else{var s;switch(t.target.currentState){case"up":s=!0;break;case"down":s=!1}s&&this.aCF(O6.C20,K2.A1,8),this.aCF(O6.B64,J18.A37,s),TG40.playClickEffect()}},t.prototype.enterNextMap=function(){App.CM.gtM(O6.B64).ZV46()?(this.aCF(O6.B64,J18.A43),TG40.playClickEffect()):P18.sDP(O3.tr(5662))},t.prototype.isTeamIng=function(){if(null!=App.CM.gtM(O6.C23).teamData)return!0;var t=App.CM.gtM(O6.B89);if(t.dragonTeamMsg&&t.dragonTeamMsg.myTeam)return!0;var e=App.CM.gtM(O6.C21);return!(!e.menghuoBoss||!e.menghuoBoss.team)},t}(BaseEuiView);__reflect(ChapterBossButton.prototype,"ChapterBossButton");var ChapterBossDetail=function(s){function o(t,e){var i=s.call(this,t,e)||this;return i.skinName=ChapterBossDetailSkin,i.dlg.ZU10().visible=!0,i}return __extends(o,s),o.prototype.initUI=function(){s.prototype.initUI.call(this),this.lbCheck.textFlow=O3.tr2(7385),this.dgDrops.dataProvider=this.dropsCol=new eui.ArrayCollection,this.dgDrops.itemRenderer=ItemIcon,this.pbarOutpost.slideDuration=0,this.iconReward=new ItemIcon,this.grpIconReward.addChild(this.iconReward),this.dlg.title=O3.tr(4494),this.dlg.strBtnOK=O3.tr(4495),this.lbStr1.textFlow=M18.HTP.parse(O3.tr(4497)),this.lbStr2.textFlow=M18.HTP.parse(O3.tr(4498)),this.lbStr3.textFlow=M18.HTP.parse(O3.tr(4499)),this.btnRank.label=O3.tr(4505)},o.prototype.open=function(){this.btnHelp.addEventListener(egret.TouchEvent.TOUCH_TAP,this.ZN60,this),this.lbCheck.addEventListener(egret.TextEvent.LINK,this.onClickRank,this),this.dlg.ZM69(this.oCC,this),this.dlg.setOKHandler(this.onClickFight,this,!1),this.dlg.ZQ14(this.onClickBack,this),this.ZU17();var t=App.CM.gtM(O6.B64);this.ZD73(t)},o.prototype.close=function(){s.prototype.close.call(this),this.isBattle&&(this.isBattle=!1,TG68.FD98(!1)),this.btnHelp.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.ZN60,this),this.lbCheck.removeEventListener(egret.TextEvent.LINK,this.onClickRank,this),this.dropsCol.removeAll(),this.grpBossArm.removeChildren(),this.objBoss.destory(),this.objBoss=null,egret.Tween.removeTweens(this)},o.prototype.ZU17=function(){var t={type:RankType.chapter,currPage:1,size:3};App.CM.apF(O6.C19,O18.A5,t)},o.prototype.uBM=function(t,e){s.prototype.uBM.call(this,t),t instanceof TF80?"helpCount"==e?this.ZV47(t):this.ZD73(t):t instanceof THH11&&this.ZHH63(t)},o.prototype.ZV47=function(t){this.btnHelp.enabled=!1,P16.sGF(this.btnHelp,!0),this.btnHelp.label=t.countTime+"s"},o.prototype.ZD73=function(t){10==t.countTime?(this.btnHelp.enabled=!0,P16.sGF(this.btnHelp,!1),this.btnHelp.label=O3.tr(4506)):(this.btnHelp.enabled=!1,P16.sGF(this.btnHelp,!0),this.btnHelp.label=t.countTime+"s");var e=t.ZV44();if(e){this.showBoss(e);var i=J15.FK55(e.chapterid),s=J15.FK54(i.mapid);t.chData.s>=e.time?(this.currentState="atkboss",egret.Tween.get(this).wait(100).call(function(){TG68.FD9(this,N4.chapter_boss_btn,!1,this.dlg.getBtnOK())},this),egret.Tween.get(this).wait(100).call(function(){TG68.FD9(this,N4.chapter_boss_btn_2,!1,this.dlg.getBtnOK())},this)):this.currentState="normal",this.strDefeatTips=O3.tr(4496,i.num-e.order+1),this.chapterName=O3.tr(4500,s.name,i.order,e.order),this.strDropTips=O3.tr(4504,[e.time-t.chData.s]),this.pbarOutpost.maximum=i.num,this.pbarOutpost.value=e.order-1;var o=P7.FF58(i.passaward);if(o&&0<o.length){var r={itemData:o[0],isBottom:!1,pack:!1};this.iconReward.iconData=r}var n=parseInt(J15.FI6("appealNum"))||0,a=parseInt(J15.FI6("assistNum"))||0;this.needHelpCt=O3.tr(4502,t.chData.ap,n),this.helpCt=O3.tr(4503,t.chData.as,a),this.updateDrops()}},o.prototype.showBoss=function(t){this.objBoss&&(this.grpBossArm.removeChildren(),this.objBoss.destory(),this.objBoss=null),this.objBoss=new FightGameObject;var e={id:t.animation,x:0,y:0,dir:Dir.br,objType:P13.A6,bt:BehaviourType.Stand_d,ty:J11.A13};this.objBoss.setData(e,this.grpBossArm)},o.prototype.updateDrops=function(){null==o.rewards&&(o.rewards=[],J15.FI6("awardShow").split(",").forEach(function(t){var e=N12.gID(t);if(e){var i={itemData:{data:e,ct:0},isBottom:!1,pack:!1};o.rewards.push(i)}}));this.dropsCol.replaceAll(o.rewards)},o.prototype.ZHH63=function(t){if(t.nType==RankType.chapter)for(var e=t.rankList||[],i=0;i<3;i++){var s=this.grpRanks.getChildAt(i);s&&(i<e.length?s.text=O3.tr(4501,i+1,e[i].sName,e[i].on):s.text="")}},o.prototype.onClickRank=function(){this.aCF(O6.B64,J18.A47)},o.prototype.ZN60=function(){this.aCF(O6.B64,J18.A45)},o.prototype.oCC=function(){this.aCF(O6.B64,J18.A40)},o.prototype.onClickFight=function(){var t=App.CM.gtM(O6.B64),e=t.ZV44();e&&(t.chData.s<e.time?P18.sDP(M18.format("还需击杀$0波野怪才能挑战Boss",[e.time-t.chData.s])):(this.isBattle=!0,this.apF(J18.A19)))},o.prototype.onClickBack=function(){},o}(BaseEuiView);__reflect(ChapterBossDetail.prototype,"ChapterBossDetail");var ChapterBossFightRewardView=function(s){function t(t,e){var i=s.call(this,t,e)||this;return i.skinName=ChapterBossFightRewardSkin,i}return __extends(t,s),t.prototype.initUI=function(){s.prototype.initUI.call(this)},t.prototype.open=function(t){this.curOid=t;var e=App.CM.gtM(O6.B64);this.ZD73(e)},t.prototype.close=function(){s.prototype.close.call(this),this.curOid=null},t.prototype.uBM=function(t){t instanceof TF80&&this.ZD73(t)},t.prototype.ZD73=function(t){var e=J15.FK56(this.curOid),i=J15.FK55(e.chapterid),s=J15.FK54(i.mapid),o=M18.format("$0 $1-$1",[s.name,i.order,e.order]);this.lbChapterName.text=o;var r="";0<e.bossbindgold&&(r+="绑元、"),0<e.bossexp&&(r+="经验、"),0<e.bosscoin&&(r+="铜钱、"),r=r.substr(0,r.length-2),this.lbChapterDesc.text=r},t}(BaseEuiView);__reflect(ChapterBossFightRewardView.prototype,"ChapterBossFightRewardView");var ChapterDesc=function(s){function t(t,e){var i=s.call(this,t,e)||this;return i.skinName=ChapterDescSkin,i}return __extends(t,s),t.prototype.initUI=function(){s.prototype.initUI.call(this),this.dgRewards.dataProvider=this.rewardsCol=new eui.ArrayCollection,this.dgRewards.itemRenderer=ItemIcon},t.prototype.open=function(t){this.dlg.ZM69(this.oCC,this),this.dlg.setOKHandler(this.onClickOk,this),this.dlg.strBtnOK=O3.tr(4249),this.params=t,this.updateViews()},t.prototype.close=function(){s.prototype.close.call(this),this.params=null,this.rewardsCol.removeAll(),this.passState=null,this.rewardTips=null},t.prototype.uBM=function(t){s.prototype.uBM.call(this,t)},t.prototype.updateViews=function(){switch(this.currentState=this.params.viewState,this.validateNow(),this.dlg.title="",this.currentState){case"reward":this.dlg.strBtnOK=O3.tr(5809);var t=App.CM.gtM(O6.B64).FHH10(),e=J15.FK54(t.chapter.mapid).name+t.chapter.order;this.rewardTips=O3.tr(5801,e),this.ZU24(t.rewards),this.dlg.strBtnOK=O3.tr(5748);break;case"pass":this.chName=this.params.data.name,this.passState=O3.tr(5802),this.dlg.strBtnOK=O3.tr(5808);break;case"passing":this.chName=this.params.data.name,this.passState=O3.tr(5803),this.dlg.title=O3.tr(5807),this.dlg.strBtnOK=O3.tr(5808);case"desc":default:this.lbStr1.text=O3.tr(5806),this.dlg.title=O3.tr(5807),this.dlg.strBtnOK=O3.tr(5808),this.chName=this.params.data.name;var i=J15.FK54(this.params.data.beforeid),s=M18.HTP.parse(O3.tr(5804,String(this.params.data.level)));i&&(s=s.concat(M18.HTP.parse(O3.tr(5805,i.name)))),this.lbCondition.textFlow=s}},t.prototype.ZU24=function(t){var i=[];t&&0<t.length&&t.forEach(function(t){var e={itemData:t,isBottom:!0,pack:!1};i.push(e)}),this.rewardsCol.replaceAll(i)},t.prototype.oCC=function(){this.aCF(O6.B64,J18.A50)},t.prototype.onClickOk=function(){switch(this.currentState){case"reward":var t=App.CM.gtM(O6.B64).FHH10();this.apF(J18.A1,t.chapter.id)}},t}(BaseEuiView);__reflect(ChapterDesc.prototype,"ChapterDesc");var ChapterOfflineIncome=function(s){function t(t,e){var i=s.call(this,t,e)||this;return i.skinName=ChapterOfflineIncomeSkin,i.sGN("release_lixian"),i}return __extends(t,s),t.prototype.initUI=function(){s.prototype.initUI.call(this),this.lbStr1.textFlow=M18.HTP.parse(O3.tr(5621)),this.lbStr2.textFlow=M18.HTP.parse(O3.tr(5622)),this.lbStr3.textFlow=M18.HTP.parse(O3.tr(5623)),this.btnConfirm.label=O3.tr(5629),this.btnActiveMC.label=O3.tr(5630)},t.prototype.open=function(t){this.grpBg.addEventListener(egret.TouchEvent.TOUCH_TAP,this.oCC,this),this.btnClose.addEventListener(egret.TouchEvent.TOUCH_TAP,this.oCC,this),this.btnConfirm.addEventListener(egret.TouchEvent.TOUCH_TAP,this.ZQ58,this),this.btnActiveMC.addEventListener(egret.TouchEvent.TOUCH_TAP,this.ZE95,this),this.GX5(t),this.FG75()},t.prototype.FG75=function(){P7.FG67()&&(this.btnActiveMC.visible=!1)},t.prototype.close=function(){this.grpBg.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.oCC,this),this.btnClose.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.oCC,this),this.btnConfirm.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.ZQ58,this),this.btnActiveMC.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.ZE95,this),this.income1=null,this.incomeAdd1=null,this.income2=null,this.incomeAdd2=null,this.income3=null},t.prototype.uBM=function(t){s.prototype.uBM.call(this,t)},t.prototype.GX5=function(t){this.lbOfflineTime.textFlow=M18.HTP.parse(O3.tr(5624,P6.FJ11(1e3*t.cd,5)));var e=t.mt;this.lbIncome.textFlow=M18.HTP.parse(O3.tr(5625,e)),this.income1=String(t.c),this.incomeAdd1=String(t.mc),this.income2=String(t.e),this.incomeAdd2=String(t.me),this.income3=String(t.eq),this.lbAutoSold.textFlow=M18.HTP.parse(O3.tr(5626,String(t.s)));var i=App.CM.gtM(O6.B66),s=i.ZHH38();if(s&&0!=s.isBuy||0<i.monthCd)this.grpMCTips.visible=!1;else{var o=J15.FI6("offlineCard");this.lbMonthCardTips.text=O3.tr(5628,o),this.grpMCTips.visible=!0}},t.prototype.oCC=function(){this.aCF(O6.B64,J18.A42),App.CM.apF(O6.B73,K13.A3),App.CM.apF(O6.B27,G19.A7)},t.prototype.ZQ58=function(){this.oCC()},t.prototype.ZE95=function(){App.VM.open(O7.F64,O7.C53),this.apF(J18.A42)},t}(BaseEuiView);__reflect(ChapterOfflineIncome.prototype,"ChapterOfflineIncome");var ChapterRankView=function(s){function t(t,e){var i=s.call(this,t,e)||this;return i.skinName=ChapterRankSkin,i}return __extends(t,s),t.prototype.initUI=function(){s.prototype.initUI.call(this),this.dgRanks.dataProvider=this.ranksCol=new eui.ArrayCollection,this.dgRanks.itemRenderer=ChapterRankItem,this.dlg.title=O3.tr(4269),this.lbStr1.textFlow=M18.HTP.parse(O3.tr(5193)),this.lbStr2.textFlow=M18.HTP.parse(O3.tr(5194)),this.lbStr3.textFlow=M18.HTP.parse(O3.tr(5195)),this.lbStr4.textFlow=M18.HTP.parse(O3.tr(5196))},t.prototype.open=function(){this.dlg.ZM69(this.oCC,this),this.dlg.ZQ14(this.onClickBack,this),this.scList.addEventListener(eui.UIEvent.CHANGE_END,this.onSclolling,this),this.ZU17()},t.prototype.close=function(){this.scList.removeEventListener(eui.UIEvent.CHANGE_END,this.onSclolling,this),this.ranksCol.removeAll()},t.prototype.onSclolling=function(){this.updateArrow()},t.prototype.updateArrow=function(){this.scList.validateNow(),this.imgArrowUp.visible=0<this.scList.viewport.scrollV,this.imgArrowDown.visible=this.scList.height+this.scList.viewport.scrollV<this.scList.viewport.contentHeight},t.prototype.ZU17=function(){var t={type:RankType.chapter,currPage:1};App.CM.apF(O6.C19,O18.A5,t)},t.prototype.uBM=function(t){t instanceof THH11&&this.ZHH63(t)},t.prototype.ZHH63=function(t){if(t.nType==RankType.chapter){if(t.myRankList){var e=void 0;e=0<t.myRankList.nRank?M18.HTP.parse(O3.tr(5830,String(t.myRankList.nRank))):M18.HTP.parse(O3.tr(5830,O3.tr(5829))),this.lbMyRank.textFlow=e,this.lbMyOutpost.textFlow=M18.HTP.parse(O3.tr(5831,String(t.myRankList.on)))}var i=t.rankList||[];this.ranksCol.replaceAll(i),this.scList.validateNow(),this.updateArrow()}},t.prototype.oCC=function(){this.aCF(O6.B64,J18.A48)},t.prototype.onClickBack=function(){},t}(BaseEuiView);__reflect(ChapterRankView.prototype,"ChapterRankView");var ChapterRankItem=function(t){function e(){return t.call(this)||this}return __extends(e,t),e.prototype.childrenCreated=function(){t.prototype.createChildren.call(this)},e.prototype.dataChanged=function(){var t=this.data;this.lbRank.text=String(t.nRank),this.lbName.text=t.sName,this.lbPower.text=String(t.nPower),this.lbOutpost.text=O3.tr(5832,t.on),this.imgBg.visible=t.nRank%2==1},e}(eui.ItemRenderer);__reflect(ChapterRankItem.prototype,"ChapterRankItem");var ChapterWorld=function(s){function t(t,e){var i=s.call(this,t,e)||this;return i.sGN("release_chapter"),i.skinName=ChapterWorldSkin,i}return __extends(t,s),t.prototype.initUI=function(){s.prototype.initUI.call(this),this.initMap(),this.firstEnter=!0},t.prototype.initData=function(){s.prototype.initData.call(this)},t.prototype.open=function(){this.imgBg.addEventListener(egret.TouchEvent.TOUCH_TAP,this.oCC,this),this.btnClose.addEventListener(egret.TouchEvent.TOUCH_TAP,this.oCC,this),this.scMap.addEventListener(eui.UIEvent.CHANGE_END,this.updateArrow,this);var t=App.CM.gtM(O6.B64);this.updateCities(t),this.setImgTitle(t);var e=App.CM.gtM(O6.C20).ZM12();e&&7==e.nMode&&parseInt(e.fingerId)==N4.wrold_dingjun_btn&&0==e.nFinish&&(this.scMap.viewport.scrollH=0),1==this.firstEnter?(App.DelayOptManager.ZE59(this,this.ZK55,t),this.firstEnter=!1):this.ZK55(t),egret.Tween.get(this).wait(200).call(function(){egret.Tween.removeTweens(this),TG68.FD9(this,N4.wrold_dingjun_btn,!1)},this)},t.prototype.close=function(){s.prototype.close.call(this),egret.Tween.removeTweens(this),this.imgBg.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.oCC,this),this.btnClose.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.oCC,this),this.scMap.addEventListener(eui.UIEvent.CHANGE_END,this.updateArrow,this)},t.prototype.setImgTitle=function(t){var e=t.FL64();if(t.ZV46()){var i=t.getNextMap();i&&(e=i)}2==e.difficulty?this.imgTitle.source="v1_img_juanzhou_sjdt2b_png":this.imgTitle.source="v1_img_juanzhou_sjdt2_png"},t.prototype.ZK55=function(t){var e,i=t.FL64();if(t.ZV46()){var s=t.getNextMap();s&&(i=s)}for(var o=0;o<this.items.length;o++){var r=this.items[o];if(r.getData().id==i.id){e=r;break}}var n=new egret.Point;n.x=e.x,n.y=e.y;var a=n.x-this.scMap.width/2;a<0&&(a=0);var h=this.scMap.viewport.contentWidth-this.scMap.width;h<a&&(a=h),this.scMap.viewport.scrollH=a,this.updateArrow()},t.prototype.updateArrow=function(){this.scMap.validateNow(),this.grpArrL.visible=0<this.scMap.viewport.scrollH,this.grpArrR.visible=this.scMap.width+this.scMap.viewport.scrollH<this.scMap.viewport.contentWidth},t.prototype.initMapDatas=function(){var i=this;this.worldMapDatas=[],J15.FI6("worldMap").split("|").forEach(function(t){var e=t.split(",");i.worldMapDatas.push(e[1])})},t.prototype.initMap=function(){this.initMapDatas(),this.initMapBg(),this.initCities()},t.prototype.initMapBg=function(){var i=this,s=0;this.worldMapDatas.forEach(function(t){var e=new eui.Image;e.source=t,e.x=s,e.y=0,i.grpMap.addChild(e),s+=640})},t.prototype.initCities=function(){var t=J15.FL46(),e=App.CM.gtM(O6.B64),i=e.FL64(),s=e.getNextMap(),o=e.ZV46(),r=i.difficulty;for(var n in r!==s.difficulty&&o&&(r=2),this.items=[],t){var a=t[n];if(a.difficulty==r){var h=new ChapterWorldItem;h.setData(a),this.grpMap.addChild(h),this.items.push(h)}}},t.prototype.updateCities=function(t){var e=t.FL64(),i=t.ZV46();this.items.forEach(function(t){t.updateState(e,i)})},t.prototype.uBM=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];s.prototype.uBM.call(this,t,e),t instanceof TF80&&this.updateCities(t)},t.prototype.oCC=function(){this.aCF(O6.B64,J18.A44)},t}(BaseEuiView);__reflect(ChapterWorld.prototype,"ChapterWorld");var ChapterWorldItem=function(i){function t(t){var e=i.call(this)||this;return e.skinName=ChapterWorldItemSkin,e.setData(t),e.touchEnabled=!0,TG36.FK33(e,.5),TG36.FK34(e,.5),e.addEventListener(egret.Event.ADDED_TO_STAGE,e.onAddToStage,e),e.addEventListener(egret.Event.REMOVED_FROM_STAGE,e.onRemoveStage,e),e}return __extends(t,i),t.prototype.onAddToStage=function(){this.addEventListener(egret.TouchEvent.TOUCH_TAP,this.ZR27,this),this.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onBegin,this)},t.prototype.onRemoveStage=function(){this.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.ZR27,this),this.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onBegin,this),egret.Tween.removeTweens(this.twGp)},t.prototype.setData=function(t){if(t){this.data=t;var e=App.CM.gtM(O6.B64).ZI11();this.imgLoc.source=e;var i=this.twGp.y;egret.Tween.get(this.twGp,{loop:!0}).to({y:i-3},300).to({y:i},300).to({y:i+3},300).to({y:i},300),this.GX5()}},t.prototype.getData=function(){return this.data},t.prototype.updateState=function(t,e){this.data.id<t.id?this.imgPass.visible=!0:this.imgPass.visible=!1;var i=App.CM.gtM(O6.C20).ZM12(),s=!1;i&&7==i.nMode&&parseInt(i.fingerId)==N4.wrold_dingjun_btn&&0==i.nFinish&&(s=!0),this.twGp.visible=t.id==this.data.id,e&&t.nextid==this.data.id&&!s?(null==this.finger&&(this.finger=new GuideFinger,this.finger.touchEnabled=!1,this.finger.anchorOffsetX=119,this.finger.anchorOffsetY=119,this.finger.touchEnabled=!1,this.finger.x=70,this.finger.y=75,this.addChild(this.finger)),this.finger.showEff()):this.finger&&(this.finger.stopEff(),this.finger.destroy(),App.TF56.ZJ66(this.finger))},t.prototype.GX5=function(){if(P7.FM14())this.chName=this.data.name;else{for(var t="",e=0;e<this.data.name.length;e++)t+=this.data.name[e],e<this.data.name.length-1&&(t+="\n");this.chName=t}this.imgIcon.source=this.data.icon,this.setPos()},t.prototype.setPos=function(){var t=(this.data.coordinate||"320:100").split(":");this.x=parseInt(t[0]),this.y=parseInt(t[1])},t.prototype.onBegin=function(){TG40.playClickEffect()},t.prototype.ZR27=function(){var t,e=App.CM.gtM(O6.B64),i=e.ZV45();if(i.mapid==this.data.id)if(e.ZV46()){if(0<(o=e.FL64()).nextid){var s=App.CM.gtM(O6.B82);return void((r=J15.FK54(o.nextid)).level<=s.avatarInfo.l||(P18.sDP(O3.tr(5663,r.name,r.level)),App.CM.apF(O6.B64,J18.A44)))}t={viewState:"pass",data:this.data}}else t={viewState:"passing",data:this.data};else if(i.mapid>this.data.id)t={viewState:"pass",data:this.data};else{if(0==this.data.isopen)return void P18.sDP(O3.tr(5664));var o=e.FL64(),r=J15.FK54(o.nextid);if(i.mapid+1==this.data.id&&e.ZV46()){s=App.CM.gtM(O6.B82);return r.level<=s.avatarInfo.l?App.CM.apF(O6.B64,J18.A3):P18.sDP(O3.tr(5663,r.name,r.level)),void App.CM.apF(O6.B64,J18.A44)}t={viewState:"desc",data:this.data}}App.CM.apF(O6.B64,J18.A49,t)},t}(eui.Button);__reflect(ChapterWorldItem.prototype,"ChapterWorldItem");var DailyBasicsGiftPackView=function(s){function t(t,e){var i=s.call(this,t,e)||this;return i.skinName=DailyBasicsGiftPackSkin,i}return __extends(t,s),t.prototype.initUI=function(){s.prototype.initUI.call(this),this.listContent.itemRenderer=ItemIcon,this.dataSource=new eui.ArrayCollection,this.listContent.dataProvider=this.dataSource,this.awardsSc.viewport=this.listContent,this.awardsSc.scrollPolicyH=eui.ScrollPolicy.OFF,this.awardsSc.scrollPolicyV=eui.ScrollPolicy.OFF,this.dlg.ZM69(this.oCC,this),this.dlg.setOKHandler(this.oCC,this),this.dlg.ZQ14(this.oCC,this),this.dlg.strBtnOK=O3.tr(7057)},t.prototype.open=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];s.prototype.open.call(this,t),this.GX5(t[0])},t.prototype.GX5=function(t){this.showAward(J16.init.qqdayGift.value,t)},t.prototype.showAward=function(t,e){var i=M18.FL28(t,"|"),s=[],o="";for(var r in i){var n=M18.FL28(i[r],",");if(n[0]==e){o=n[1];var a=M18.FL28(n[2],";");for(var h in a){var p=M18.FL28(a[h],":"),l={itemData:{data:N12.gID(p[0]),ct:p[1]},isBottom:!0};s.push(l)}}}this.dataSource.replaceAll(s),this.lbStr0.textFlow=M18.HTP.parse(O3.tr(7091,o)),this.lbStr1.textFlow=M18.HTP.parse(O3.tr(7092,o))},t.prototype.oCC=function(){App.VM.close(O7.A70)},t.prototype.close=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.dlg=null,this.lbStr0=null,this.lbStr1=null,this.listContent=null,this.awardsSc=null,this.dataSource.removeAll()},t}(BaseEuiView);__reflect(DailyBasicsGiftPackView.prototype,"DailyBasicsGiftPackView");var VipDailyGiftPackView=function(s){function t(t,e){var i=s.call(this,t,e)||this;return i.skinName=VipDailyGiftPackSkin,i}return __extends(t,s),t.prototype.initUI=function(){s.prototype.initUI.call(this)},t.prototype.open=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];s.prototype.open.call(this,t);var i=t[0];this.dlg.ZM69(this.oCC,this),this.dlg.setOKHandler(this.oCC,this),this.dlg.title=i[0],this.dlg.strBtnOK=O3.tr(7057),this.lbStr0.textFlow=M18.HTP.parse(i[1]),this.lbStr1.textFlow=M18.HTP.parse(i[2]),this.lbStr2.textFlow=M18.HTP.parse(i[3])},t.prototype.oCC=function(){App.VM.close(O7.C13)},t.prototype.close=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.dlg=null,this.lbStr0=null,this.lbStr1=null,this.lbStr2=null},t}(BaseEuiView);__reflect(VipDailyGiftPackView.prototype,"VipDailyGiftPackView");var DlgSearchHero=function(s){function t(t,e){var i=s.call(this,t,e)||this;return i.stayAnima="bf1",i.succesAnima="bf2",i.failAnima="bf3",i.status=!1,i.skinName=DlgHeroSearchSkin,i.btnClose.addEventListener(egret.TouchEvent.TOUCH_TAP,i.closeSelf,i),i.btnConfirm.addEventListener(egret.TouchEvent.TOUCH_TAP,i.closeSelf,i),App.THH32.aUE(i.aniLayer,"wdsg_lzxw_por_01_1",0,0,-1,null,null,null,null,i.stayAnima,!0),i.handAni=new HandAnimation,i.handAni.horizontalCenter=0,i.handAni.verticalCenter=40,i.content.addChild(i.handAni),i}return __extends(t,s),t.prototype.initUI=function(){this.btnConfirm.scaleX=this.btnConfirm.scaleY=.9},t.prototype.open=function(){s.prototype.open.call(this),this.failContent.visible=!1,this.content.addEventListener(egret.TouchEvent.TOUCH_TAP,this.ZV48,this),this.handAni.showEff()},t.prototype.ZV48=function(){0<this.aniLayer.numChildren&&(this.handAni.destroy(),this.content.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.ZV48,this),this.curAni=this.aniLayer.getChildAt(0),App.CM.apF(O6.B64,J18.A5))},t.prototype.uBM=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];t instanceof TF80&&(e[0]==P4.N89&&(this.status=1==t.searchResult,this.curAni.animation.play(this.status?this.succesAnima:this.failAnima,1),this.curAni.once(dragonBones.EventObject.LOOP_COMPLETE,this.onComplete,this)))},t.prototype.GJ65=function(){var t=App.CM.gtM(O6.B64),e={objData:{id:App.CM.gtM(O6.C12).heroList[t.searchHeroId].heroModel,x:0,y:0,dir:Dir.br,objType:P13.A6},titleImg:"v1_fonts_zmxwj_png"},i=App.VM.open(O7.G69,e);i.bgMask.alpha=0,i.gpConternt.top=400,i.gpConternt.scaleY=i.gpConternt.scaleX=.9;var s=N14.FF4(t.searchHeroId),o=s.name,r=s.qualityname,n=s.quality;i.roleContent.visible=!0,i.labQuality.text=r,O5.FB13(i.labRoleName,o,n),i.gpConternt.once(egret.Event.REMOVED_FROM_STAGE,this.closeSelf,this)},t.prototype.onComplete=function(){this.curAni.animation.gotoAndStopByProgress(this.status?this.succesAnima:this.failAnima,1),this.status?this.GJ65():(this.failContent.visible=!0,new TextEffect(this.textFail,O3.tr(3508),100),new BtnCountdownEffect(this.btnConfirm,5e3,1e3).once(egret.Event.COMPLETE,this.closeSelf,this))},t.prototype.closeSelf=function(){this.handAni&&this.handAni.destroy(),this.curAni&&this.curAni.animation.stop(),App.THH32.rEf(this.aniLayer,"wdsg_lzxw_por_01_1"),App.CM.apF(O6.B64,J18.A35)},t}(BaseEuiView);__reflect(DlgSearchHero.prototype,"DlgSearchHero");var BtnCountdownEffect=function(o){function t(t,e,i){var s=o.call(this)||this;return s.root=t,s.time=e,s.delay=i,s.root.addEventListener(egret.Event.REMOVED_FROM_STAGE,s.destory,s),App.K16.doTimer(s.delay,0,s.update,s),s.updateStr(),s}return __extends(t,o),t.prototype.update=function(){this.time-=this.delay,this.time<=0&&(this.time=0,this.destory(),this.complete()),this.updateStr()},t.prototype.updateStr=function(){this.root.label=O3.tr(4493,this.time/1e3)},t.prototype.complete=function(){this.dispatchEvent(new egret.Event(egret.Event.COMPLETE))},t.prototype.destory=function(){App.K16.remove(this.update,this),this.root.removeEventListener(egret.Event.REMOVED_FROM_STAGE,this.destory,this)},t}(egret.EventDispatcher);__reflect(BtnCountdownEffect.prototype,"BtnCountdownEffect");var TextEffect=function(){function t(t,e,i){void 0===e&&(e=""),void 0===i&&(i=50),this.root=t,this.wordCount=0,this.set(e,i)}return t.prototype.set=function(t,e){this.destory(),this.root.text="",(this.text=t)&&(App.K16.doTimer(e,0,this.update,this),this.root.once(egret.Event.REMOVED_FROM_STAGE,this.destory,this))},t.prototype.update=function(){this.wordCount+=1,this.root.text=this.text.substring(0,this.wordCount),this.wordCount>=this.text.length&&this.destory()},t.prototype.destory=function(){App.K16.remove(this.update,this),this.root.removeEventListener(egret.Event.REMOVED_FROM_STAGE,this.destory,this)},t}();__reflect(TextEffect.prototype,"TextEffect");var HandAnimation=function(e){function t(){var t=e.call(this)||this;return t.skinName="guideFingerSkin",t}return __extends(t,e),t.prototype.showEff=function(){egret.Tween.removeTweens(this),this.bg.visible=!0,this.bg.scaleX=1,this.bg.scaleY=1,this.finger.visible=!0;this.finger.scaleX=1,this.finger.scaleY=1,egret.Tween.get(this.bg,{loop:!0}).to({scaleX:.65,scaleY:.65},600).to({scaleX:1,scaleY:1},600),egret.Tween.get(this.finger,{loop:!0}).to({scaleX:.8,scaleY:.8},600).to({scaleX:1,scaleY:1},600)},t.prototype.stopEff=function(){egret.Tween.removeTweens(this.bg),egret.Tween.removeTweens(this.finger),this.bg.visible=!1,this.finger.scaleX=1,this.finger.scaleY=1},t.prototype.destroy=function(){egret.Tween.removeTweens(this),egret.Tween.removeTweens(this.bg),egret.Tween.removeTweens(this.finger),this.visible=!1},t}(eui.Component);__reflect(HandAnimation.prototype,"HandAnimation");var O12=function(){function t(){}return t.A32=10001,t.A28=10002,t.A19=10003,t.A17=10004,t.A29=10005,t.A27=10006,t.A26=10007,t.A24=10008,t.A33=10009,t.A30=10010,t.A20=20001,t.A21=20002,t.A31=20003,t.A22=20004,t.A23=20005,t.A5=20006,t.A6=20007,t.A3=20008,t.A4=20009,t.A1=200010,t.A2=20011,t.A10=20012,t.A11=20013,t.A12=20014,t.A8=20015,t.A9=20016,t.A13=20017,t.A14=20018,t.A7=20021,t.A18=20022,t.A15=20023,t.A16=20024,t.A25=20025,t}();__reflect(O12.prototype,"O12");var TE61=function(i){function t(){var t=i.call(this)||this;App.VM.register(O7.I85,"ChatView",t,K17.UI),App.VM.setAutoClose(O7.I85,!1),t.rgF(O12.A32,t.GU33,t),t.rgF(O12.A28,t.GS49,t),App.VM.register(O7.B23,"ChatQuickTalkView",t,K17.UI_Popup),t.rgF(O12.A19,t.GL16,t),t.rgF(O12.A17,t.GJ11,t),App.VM.register(O7.HH32,"ChatEmojiView",t,K17.UI_Popup),t.rgF(O12.A29,t.GS50,t),t.rgF(O12.A27,t.GQ56,t),App.VM.register(O7.F73,"ChatPrivateView",t,K17.UI_Main_TOP),t.rgF(O12.A26,t.GO74,t),t.rgF(O12.A24,t.GM86,t),App.VM.register(O7.I6,"ChatTipsView",t,K17.UI_Popup),t.rgF(O12.A33,t.GT92,t),t.rgF(O12.A30,t.GR90,t);var e=new TG93(t);return e.aLV(O7.I85),e.aLV(O7.F73),e.aLV(O7.G80),e.aLV(O7.C45),e.aLV(O7.E34),e.aLV(O7.I4),e.aLV(O7.D80),t.proxy=new TG94(t),t.rgF(O12.A20,t.GV79,t),t.rgF(O12.A21,t.GV80,t),t.rgF(O12.A31,t.GV81,t),t.rgF(O12.A22,t.GV83,t),t.rgF(O12.A23,t.GV84,t),t.rgF(O12.A3,t.GF56,t),t.rgF(O12.A4,t.GF57,t),t.rgF(O12.A12,t.GQ57,t),t.rgF(O12.A5,t.GJ12,t),t.rgF(O12.A6,t.GJ13,t),t.rgF(O12.A10,t.GHH30,t),t.rgF(O12.A11,t.GHH31,t),t.rgF(O12.A1,t.GHH28,t),t.rgF(O12.A2,t.GHH29,t),t.rgF(O12.A8,t.GE39,t),t.rgF(O12.A9,t.GE40,t),t.rgF(O12.A13,t.shareReq,t),t.rgF(O12.A14,t.shareRes,t),t.rgF(O12.A7,t.GV82,t),t.rgF(O12.A16,t.GS51,t),t.rgF(O12.A18,t.GM84,t),t.rgF(O12.A15,t.GHH27,t),t.rgF(O12.A25,t.GQ58,t),t}return __extends(t,i),t.prototype.GM84=function(){if(N18.FF98(null).length<=0)this.GHH27();else if(null==this.timerHandler){var t=parseInt(N18.FI6("sendTime"));this.timerHandler=App.K16.doTimer(1e3*t,0,this.GM85,this)}},t.prototype.GM85=function(){this.gtM().GM85()||this.GHH27()},t.prototype.GHH27=function(){this.timerHandler&&(App.K16.rBH(this.timerHandler),this.timerHandler=null)},t.prototype.GU33=function(t){App.VM.open(O7.I85,t),this.GM84()},t.prototype.GS49=function(){App.VM.close(O7.I85)},t.prototype.GL16=function(t){App.VM.open(O7.B23,t)},t.prototype.GJ11=function(t){App.VM.close(O7.B23)},t.prototype.GS50=function(t,e){App.VM.open(O7.HH32,t,e)},t.prototype.GQ56=function(t){App.VM.close(O7.HH32)},t.prototype.GO74=function(t){App.VM.open(O7.F73,t)},t.prototype.GM86=function(){App.VM.close(O7.F73)},t.prototype.GT92=function(t,e,i){App.VM.open(O7.I6,t,e,i)},t.prototype.GR90=function(){App.VM.close(O7.I6)},t.prototype.GV79=function(){return this.proxy.ZK58()},t.prototype.GV80=function(t){t&&t.head&&200==t.head.state?this.gtM().ZV49(t.body):P18.sDP(K18.getTips(t.head.state))},t.prototype.GV81=function(t){var e=this.gtM();e.ZC95(t.body),e.notify(P4.X77),N18.FA39(t.body.nid)&&(e.noticeData=null,e.noticeX=null,e.noticeData=t.body,App.VM.open(O7.D27),1059===t.body.nid&&e.notify("marriageNotice"))},t.prototype.GV82=function(t){var e=this.gtM();if(e.ZD74(t.body),e.notify(P4.G65),t&&t.body)for(var i=0;i<t.body.scd.length;i++)2001==t.body.scd[i].k&&this.GS27()},t.prototype.GS27=function(){var t=App.CM.gtM(O6.B64);null==this.helpTimerHandler&&(this.helpTimerHandler=App.K16.doTimer(1e3,t.countTime,this.GY14,this,this.GO49,this))},t.prototype.GO49=function(){var t=App.CM.gtM(O6.B64);this.helpTimerHandler&&(App.K16.rBH(this.helpTimerHandler),this.helpTimerHandler=null),t.countTime=10,t.notify()},t.prototype.GY14=function(){var t=App.CM.gtM(O6.B64);t.notify("helpCount"),t.countTime--},t.prototype.GV83=function(t){this.proxy.ZN62(t)},t.prototype.GV84=function(t){t&&t.head&&200==t.head.state?this.gtM().notify(P4.U49):P18.sDP(K18.getTips(t.head.state))},t.prototype.GF56=function(){this.proxy.GF56()},t.prototype.GF57=function(t){if(t&&t.head&&200==t.head.state){var e=this.gtM();e.ZD75(t.body.rs),e.notify(P4.E97)}else P18.sDP(K18.getTips(t.head.state))},t.prototype.GQ57=function(t){if(t&&t.head&&200==t.head.state){var e=this.gtM();e.ZK56(t.body),e.notify(P4.O9)}else P18.sDP(K18.getTips(t.head.state))},t.prototype.GJ12=function(t){this.proxy.GJ12(t)},t.prototype.GJ13=function(t,e){if(t&&t.head&&200==t.head.state){var i=this.gtM();i.ZE96(e,t.body.rec),i.notify(P4.G60)}else P18.sDP(K18.getTips(t.head.state))},t.prototype.GHH28=function(t){this.proxy.GHH28(t)},t.prototype.GHH29=function(t,e){if(t&&t.head&&200==t.head.state){var i=this.gtM();i.ZB32(e),i.notify(P4.C1)}else P18.sDP(K18.getTips(t.head.state))},t.prototype.GHH30=function(t){var e={shieldId:t.nFId,shieldName:t.sFName};this.proxy.GHH30(e)},t.prototype.GHH31=function(t){if(200==t.head.state){P18.sDP(O3.tr(2637));var e=App.CM.gtM(O6.B84);e.ZF84(t.body),e.ZT53(t.body),e.ZE46(t.body),e.nFShie=1,e.notify(P4.M5),App.CM.apF(O6.B84,L14.A9)}else P18.sDP(K18.getTips(t.head.state))},t.prototype.GE39=function(t){var e={shieldId:t};this.proxy.GE39(e)},t.prototype.GE40=function(t){if(200==t.head.state){P18.sDP(O3.tr(2633));var e=App.CM.gtM(O6.B84),i=e.nCurrentPage;1<e.nAllPage&&1<e.nCurrentPage&&e.blackList.length%5==0&&(i=e.nCurrentPage-1);var s={size:5,page:i};e.nFShie=0,e.notify(),App.CM.apF(O6.B84,L14.A14,s)}else P18.sDP(K18.getTips(t.head.state))},t.prototype.shareReq=function(t){var e={nid:t.nid,channelId:t.channelId,param:t.param,infoId:t.infoId};this.proxy.shareReq(e)},t.prototype.shareRes=function(t){200==t.head.state?P18.sDP(O3.tr(1468)):P18.sDP(K18.getTips(t.head.state))},t.prototype.GS51=function(t){if(200==t.head.state){this.gtM();App.VM.gOV(O7.G54).amendNotice(t.body)}else P18.sDP(K18.getTips(t.head.state))},t.prototype.GQ58=function(t){this.gtM().ZV51(t.body)},t}(TE11);__reflect(TE61.prototype,"TE61");var TG93=function(i){function t(t){var e=i.call(this,t)||this;return e.rec=[],e.scd={},e.wos=[],e._recordLoadPrivate={},e._recordNewPrivateMsg={},e.autoNoticeId=0,e.initDatas(),e}return __extends(t,i),t.prototype.notify=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];i.prototype.notifyView.apply(this,[this].concat(t))},t.prototype.initDatas=function(){this.baseDatas=N18.FI7(),this.rc={}},t.prototype.ZV49=function(t){t&&(this.rec=t.rec,this.wos=t.wos,this.ZD74(t))},t.prototype.GM85=function(){var t={chan:0};t.id=this.autoNoticeId-1;var e=N18.FF98(this.preAutoNoticeId);if(e.length<=0)return!1;var i=App.TF95.randomArray(e);return t.nid=i,t.st=P6.getTime(),t.type=2,this.ZC95(t),this.preAutoNoticeId=i,this.autoNoticeId-=1,this.notify(P4.X77),!0},t.prototype.ZC95=function(t){t&&this.addChatData(t)},t.prototype.ZD74=function(t){if(t)for(var e=0;e<t.scd.length;e++)this.addShareCd(t.scd[e])},t.prototype.addChatData=function(t){var e=App.CM.gtM(O6.C6),i=App.CM.gtM(O6.B16),s=App.CM.gtM(O6.B28),o=App.CM.gtM(O6.B22),r=App.CM.gtM(O6.A99),n=TD90.model,a=App.CM.gtM(O6.B53);t.chan==P9.A15?this.ZI13(t):t.chan==P9.A13?(e.ZN83(t),e.ZR15(t)):t.chan==P9.A14?e.ZR15(t):t.chan==P9.A3?(i.ZN83(t),i.ZR15(t)):t.chan==P9.A9?i.ZR15(t):t.chan==P9.A4?(o.ZN83(t),o.ZR15(t)):t.chan==P9.A10?o.ZR15(t):t.chan==P9.A5?(s.ZN83(t),s.ZR15(t)):t.chan==P9.A11?s.ZR15(t):t.chan==P9.A1?(r.ZN83(t),r.ZR15(t)):t.chan==P9.A6?r.ZR15(t):t.chan==P9.A12?a.ZR15(t):t.chan==P9.A7?(a.ZK37(t),a.ZR15(t)):t.chan==P9.A18?(n.ZN97(t),n.ZR15(t)):t.chan==P9.A2?(n.ZK37(t),n.ZR15(t)):t.chan==P9.A8?n.ZR15(t):(this.rec||(this.rec=[]),t.said==this.getMyAid()&&(this.isMySendMsg=!0),this.rec.push(t))},t.prototype.addShareCd=function(t){var e=P6.getTime();this.scd||(this.scd={}),t.time=e,this.scd[t.k]=t},t.prototype.ZD75=function(t){var e=this;t&&0<t.length&&t.forEach(function(t){e.ZK56(t)})},t.prototype.ZK56=function(t){null==this.rs&&(this.rs=new Array);for(var e=!1,i=0;i<this.rs.length;i++)if(this.rs[i].aid==t.aid){e=!0;break}e||(this.rs.push(t),0<t.nr&&(this._recordNewPrivateMsg[t.aid]=1))},t.prototype.ZE96=function(e,t){var i=this;t&&0<t.length&&(this.rc[e]||(this.rc[e]=[]),t.forEach(function(t){t.myAid=i.getMyAid(),i.rc[e].push(t)})),this._recordLoadPrivate[e]=1},t.prototype.ZI13=function(t){this.rc||(this.rc={});var e=this.getMyAid()==t.acId?t.said:t.acId;this.rc[e]||(this.rc[e]=new Array);for(var i=!1,s=0;s<this.rc[e].length;s++)if(this.rc[e][s].id==t.id){i=!0;break}i||(t.myAid=this.getMyAid(),this.rc[e].push(t),this.ZD76(e)),this._recordNewPrivateMsg[e]=1},t.prototype.ZD76=function(t){if(this.rs&&0<this.rs.length)for(var e=0;e<this.rs.length;e++)if(this.rs[e].aid==t){this.rs[e].nr++;break}},t.prototype.ZB32=function(t){if(this.rc[t]=null,this.rs&&0<this.rs.length)for(var e=this.rs.length-1;0<=e;e--)if(this.rs[e].aid==t){this.rs.splice(e,1);break}},t.prototype.getChatDatas=function(t){for(var e=[],i=this.rec.length-1;0<=i;i--)if(t==P9.A19||t==this.rec[i].chan){if(t==P9.A16&&2009==this.rec[i].nid)continue;if(e.push(this.rec[i]),e.length>=this.baseDatas[t].recordcount)break}return e.sort(function(t,e){return t.st<e.st?-1:t.st>e.st?1:0}),e},t.prototype.ZI14=function(t){return 1==this._recordLoadPrivate[t]},t.prototype.ZI15=function(t){this._recordLoadPrivate[t]=1},t.prototype.ZG41=function(t){var e=this.rc[t]||[];e.sort(function(t,e){return t.st<e.st?1:t.st>e.st?-1:0});for(var i=this.baseDatas[P9.A15],s=[],o=e.length,r=(o=o>i.recordcount?i.recordcount:o)-1;0<=r&&(s.push(e[r]),!(s.length>=this.baseDatas[P9.A15].recordcount));r--);return s},t.prototype.ZI16=function(t){if(this.rc&&this.rc[t]&&0<this.rc[t].length)return!0;if(this.rs&&0<this.rs.length)for(var e=0;e<this.rs.length;e++)if(this.rs[e].aid==t)return 0<this.rs[e].nr;return!1},t.prototype.ZV50=function(t){var e=!1;if(this.rs&&0<this.rs.length)for(var i=0;i<this.rs.length;i++)if(this.rs[i].aid==t.aid){e=!0;break}return e||(null==this.rs&&(this.rs=[]),this.rs.push(t)),t},t.prototype.getMyAid=function(){if(null==this._myAid){var t=App.CM.gtM(O6.B82);this._myAid=t.avatarInfo.id}return this._myAid},t.prototype.ZE97=function(){for(var t in this._recordNewPrivateMsg)if(1==this._recordNewPrivateMsg[t])return 2;return this.rs&&0<this.rs.length?1:0},t.prototype.ZK57=function(t){this._recordNewPrivateMsg[t]&&(this._recordNewPrivateMsg[t]=null,delete this._recordNewPrivateMsg[t])},t.prototype.ZN61=function(){if(this.rs&&0<this.rs.length)for(var t in this._recordNewPrivateMsg)if(1==this._recordNewPrivateMsg[t])for(var e=0;e<this.rs.length;e++)if(this.rs[e].aid==parseInt(t))return this.rs[e];return null},t.prototype.ZR28=function(t){var e=this.scd[t];if(e){var i=P6.getTime(),s=1e3*e.v-(i-e.time);return s<0&&(s=0),Math.floor(s/1e3)}return 0},t.prototype.ZV51=function(t){if(t.r)for(var e=this.rec.length-1;0<=e;e--)this.rec[e].said==t.r&&this.rec.splice(e,1)},t}(TG79);__reflect(TG93.prototype,"TG93");var TG94=function(i){function t(t){var e=i.call(this,t)||this;return e.rSM(P4.X77,e.ZV52,e),e.rSM(P4.O9,e.GQ57,e),e.rSM(P4.G65,e.shareCdPush,e),e.rSM(P4.R70,e.GS51,e),e.rSM(P4.V65,e.GQ58,e),e}return __extends(t,i),t.prototype.ZK58=function(){var s=this;return new Promise(function(e,t){var i={type:P4.U50,body:{}};s.rSMO(P4.U51,function(t){s.apF(O12.A21,t),e("加载聊天数据完成")},s),s.sSM(i)})},t.prototype.ZV52=function(t){this.apF(O12.A31,t)},t.prototype.ZN62=function(t){var e={type:P4.U48,body:t};this.rSMO(P4.U49,this.ZN63,this),this.sSM(e)},t.prototype.ZN63=function(t){this.apF(O12.A23,t)},t.prototype.GJ12=function(t){var e={type:P4.G59,body:{targeId:t}};this.rSMO(P4.G60,this.GJ13,this,t),this.sSM(e)},t.prototype.GJ13=function(t,e){this.apF(O12.A6,t,e)},t.prototype.GF56=function(){var t={type:P4.E96,body:{}};this.rSMO(P4.E97,this.GF57,this),this.sSM(t)},t.prototype.GF57=function(t){this.apF(O12.A4,t)},t.prototype.GQ57=function(t){this.apF(O12.A12,t)},t.prototype.GHH28=function(t){var e={type:P4.B99,body:{targe:t}};this.rSMO(P4.C1,this.GHH29,this,t),this.sSM(e)},t.prototype.GHH29=function(t,e){this.apF(O12.A2,t,e)},t.prototype.GHH30=function(t){var e={type:P4.M4,body:t};this.rSMO(P4.M5,this.GHH31,this),this.sSM(e)},t.prototype.GHH31=function(t){this.apF(O12.A11,t)},t.prototype.GE39=function(t){var e={type:P4.I16,body:t};this.rSMO(P4.I17,this.GE40,this),this.sSM(e)},t.prototype.GE40=function(t){this.apF(O12.A9,t)},t.prototype.shareReq=function(t){var e={type:P4.R68,body:t};this.rSMO(P4.R69,this.shareRes,this),this.sSM(e)},t.prototype.shareRes=function(t){this.apF(O12.A14,t)},t.prototype.shareCdPush=function(t){this.apF(O12.A7,t)},t.prototype.GS51=function(t){this.apF(O12.A16,t)},t.prototype.GQ58=function(t){this.apF(O12.A25,t)},t}(TG80);__reflect(TG94.prototype,"TG94");var K15=function(){function t(){}return t.A2=0,t.A1=1,t}();__reflect(K15.prototype,"K15");var P9=function(){function t(){}return t.A19=0,t.A16=1,t.A17=2,t.A15=3,t.A13=5,t.A14=6,t.A3=7,t.A9=8,t.A4=9,t.A10=10,t.A5=11,t.A11=12,t.A1=13,t.A6=14,t.A7=15,t.A12=16,t.A2=17,t.A8=18,t.A18=19,t}();__reflect(P9.prototype,"P9");var F8=function(){function t(){}return t.A7=1007,t.A8=1065,t.A11=1066,t.A2=1092,t.A14=2001,t.A3=2003,t.A1=2023,t.A15=2006,t.A16=2007,t.A4=2005,t.A20=2004,t.A17=2008,t.A21=2009,t.A25=2011,t.A22=2012,t.A23=2013,t.A24=2014,t.A18=2015,t.A5=2017,t.A9=2018,t.A6=2019,t.A12=2020,t.A19=2021,t.A10=2022,t.A13=2025,t}();__reflect(F8.prototype,"F8");var TG95=function(){function a(){}return a.FE79=function(t,e,i,s){null==a._lbRecord&&(a._lbRecord=new eui.Label),a._lbRecord.text=e,a._lbRecord.size=i,s.addChild(a._lbRecord),a._lbRecord.validateNow();var o=a._lbRecord.width,r=Math.ceil(a._lbRecord.height);switch(t){case 2:a.CharWidth.en[i]=o,a.CharHeight.en[i]=r;break;case 1:default:a.CharWidth.cn[i]=o,a.CharHeight.cn[i]=r}s.removeChild(a._lbRecord)},a.FB59=function(t,e,i){for(var s=0,o=0,r=0;s<t.length;s++){var n=t.charCodeAt(s);if(i<o+(r=0<n&&n<=127?a.CharWidth.en[e]:a.CharWidth.cn[e])){s--;break}o+=r}return{index:s,width:o,height:a.CharHeight.cn[e]}},a.logChats=function(t){(t=t||[]).forEach(function(t){console.log(M18.format("$0-$1-$2-$3:$4",[t.type,t.chan,t.st,t.sn,t.cnt]))})},a.FJ41=function(t,e){var i=t.text;i+="@"+e.name_chi+"#",t.text=i},a.jumpView=function(t,e,i){switch(t){case ViewMapingIndex.AvatarOther:if(i.said==O4.getAid())return;var s={nId:i.said,sName:i.sn};App.CM.apF(O6.B84,L14.A20,s);break;case ViewMapingIndex.ChapterAss:if((l=App.CM.gtM(O6.B82)).avatarInfo.id!=i.said)App.CM.gtM(O6.B64).ZV44().id>=i.oid?App.CM.apF(O6.B64,J18.A26,i.said,i.oid):P18.sDP("您还未通关此关卡");break;case ViewMapingIndex.Boss:if((o=O4.getLv())<(n=N17.FHH99()))return void P18.sDP("南蛮入侵"+n+"级开启");i.teamId?App.CM.apF(O6.C21,O9.A62,i.teamId):P18.sDP("队伍已解散！");break;case ViewMapingIndex.Legion:var o=O4.getLv(),r=L4.gIV("unlockLevel");if(o<parseInt(r))return void P18.sDP(O3.tr(1594,r));i.nid==F8.A7&&App.CM.apF(O6.B89,L11.B31,i.legId);break;case ViewMapingIndex.MasterSys:switch(e){case 4:if(i.nid==F8.A15){var n=L8.FL66();if((o=O4.getLv())<n)return void P18.sDP(O3.tr(2634,n));if(O4.getAid()==i.said)return void P18.sDP(O3.tr(1924));var a=TG73.getMyAs(1),h=TG73.getMyAs(2);if(a&&a.aid==i.said||h&&h.aid==i.said)return void P18.sDP(O3.tr(1922));if(a&&h)return void P18.sDP(O3.tr(1923));s={nId:i.said,sName:i.sn};App.CM.apF(O6.B84,L14.A20,s,2)}}break;case ViewMapingIndex.LegionFuben:if((o=O4.getLv())<(n=parseInt(L4.gIV("unlockLevel")))){var p=K18.init.commonDesc1.value;return void P18.sDP(M18.format(p,[n]))}i.nid==F8.A4&&App.CM.apF(O6.B89,L11.A48,i.legTid);break;case ViewMapingIndex.Hero:i.nid==F8.A20&&this.FE80(i.sm);break;case ViewMapingIndex.Tactic:i.nid==F8.A17&&this.FE80(i.sm);break;case ViewMapingIndex.ava:i.nid==F8.A25&&this.FE80(i.sm);break;case ViewMapingIndex.HeroStar:if(i.nid==F8.A12){s=i.sm.ilvo;App.CM.apF(O6.B56,J4.A16,{t:s.t,l:s.l,s:s.s,isShow:!0,type:!1})}else TG84.FM16(t);break;case ViewMapingIndex.Team:if(i.nid==F8.A21){var l=App.CM.gtM(O6.B82),c=App.CM.gtM(O6.C23),u=i.fl.split(",")[0];if(l.avatarInfo.l<Number(u))return void P18.sDP(O3.tr(2804,u));i.said==l.avatarInfo.id?c.teamData&&i.teamId==c.teamData.teamId?P18.sDP(O3.tr(2816)):P18.sDP(O3.tr(2817)):i.teamId?App.CM.apF(O6.C23,O13.A30,i.teamId):P18.sDP(O3.tr(2817))}break;case ViewMapingIndex.Immortal:if(i.nid==F8.A10){s=i.sm.im;App.VM.open(O7.B56,s)}else TG84.FM16(t);break;case 2601:case 2602:if((o=O4.getLv())<(n=parseInt(TF78.gIV("openLv")))){p=K18.init.commonDesc1.value;return void P18.sDP(M18.format(p,[n]))}return void TG84.FM16(t);case 3401:return void(i.nid==F8.A22?this.FE80(i.sm):i.nid==F8.A13&&this.FE80(i.sm));case 3411:return void(i.nid==F8.A6&&this.FE80(i.sm));case 3421:return void(i.nid==F8.A13&&this.FE80(i.sm));case ViewMapingIndex.CrossDuel:if(i.nid==F8.A23){var d=i.fl.split(",")[1];i.sm.cdo=d,this.FE80(i.sm)}return;case ViewMapingIndex.CrossFishRoom:if(i.nid==F8.A11){d=i.fl.split(",")[1];i.sm.cro=parseInt(d),this.FE80(i.sm)}return;case ViewMapingIndex.Jade:this.FE80(i.sm);break;case ViewMapingIndex.CrossFishRoomPage:if(i.nid==F8.A8){i.sm.cfo={};d=i.fl.split(",")[1];var v=i.fl.split(",")[4];i.sm.cfo.id=parseInt(d),i.sm.cfo.pos=parseInt(v),this.FE80(i.sm)}return;case ViewMapingIndex.CrossFieldTeam:if(i.nid==F8.A18){i.sm.bfo={};d=i.fl;i.sm.bfo.tid=parseInt(d),this.FE80(i.sm)}return;case ViewMapingIndex.CrossCliffTeam:if(i.nid==F8.A19){i.sm.zfo={};d=i.fl;i.sm.zfo.tid=parseInt(d),this.FE80(i.sm)}return;case ViewMapingIndex.BoatraceEnter:if(1085==i.nid)App.CM.gtM(O6.B53).inMap||App.CM.apF(O6.B53,Boatrace.Const.OpenMainView);break;case ViewMapingIndex.BoatraceJoin:if(i.nid==F8.A5){var f=i.said;App.CM.gtM(O6.B53).inMap?App.CM.apF(O6.B53,Boatrace.Const.JOIN_TEAM_REQ,f):App.CM.apF(O6.B53,Boatrace.Const.OpenMainView)}break;case ViewMapingIndex.CrossTeamInspire:i.nid==F8.A2&&App.CM.apF(O6.B35,HH17.A32);break;case ViewMapingIndex.LibraryJoin:if(i.nid==F8.A9){l=App.CM.gtM(O6.B82);var g=App.CM.gtM(O6.B78);if(!Library.Utils.isOpen())return void P18.sDP(O3.tr(5054,Library.Config.unlockDate,Library.Config.unlockLv));i.said==l.avatarInfo.id?g.team&&i.teamId==g.team.teamId?P18.sDP(O3.tr(2816)):P18.sDP(O3.tr(2817)):i.teamId?App.CM.apF(O6.B78,Library.Const.JOIN_TEAM,i.teamId):P18.sDP(O3.tr(2817))}break;case ViewMapingIndex.ClassupBoss:App.CM.apF(O6.A95,P4.G9,i.teamId),TC76.isOpen()&&App.CM.apF(O6.A95,F3.A6);break;default:TG84.FM16(t)}},a.FE80=function(t){if(t){if(t.hvo){var e=N14.FF4(t.hvo.id),i=new HeroData(e);i.ZK75(t.hvo),i.skillEvoType?App.CM.apF(O6.C12,O8.A82,i):App.CM.apF(O6.C12,O8.A62,i)}if(t.tvo){var s={},o=P7.copyTab(L5.base[t.tvo.tactic.tid+""]);s.d=o,s.d.uid=t.tvo.tactic.uid,s.clv=t.tvo.clv,s.type=L19.A31,s.creator=t.tvo.creator,App.CM.apF(O6.B90,L19.A9,s)}if(t.evo){var r=t.evo;o=P7.copyTab(M10.FD92(r.evo.i.toString(),r.evo.t));r.evo.eatr&&(o.ats=r.evo.eatr.ats),o.u=r.evo.u,o.sd=r.sd,o.rd=r.rd,o.fd=r.fd,o.gd=r.gd,o.erv=r.erv,o.gcv=r.gcv,o.elv=r.elv,App.CM.apF(O6.B98,M19.A17,o)}if(t.cevo){var n=t.cevo;r=n.evo;(o=P7.copyTab(N12.gID(r.i))).s=!0,o.u=r.u,o.cu={stlv:n.stlv,stp:n.stp,mlv:n.mlv,mp:n.mp,cmlv:n.cmlv},App.CM.apF(O6.B98,M19.A17,o)}if(t.hevo){r=t.evo,o=new HeroEquipSlot(t.hevo);App.CM.apF(O6.B26,G14.A24,o)}if(t.cdo)(l=App.CM.gtM(O6.B24)).chatShow=!0,App.CM.apF(O6.B24,G15.A10),App.CM.apF(O6.B24,G15.A8,t.cdo);if(t.rda&&App.VM.open(O7.B11,t.rda),t.cro){var a=t.cro;if((l=App.CM.gtM(O6.B28)).myRoomNum&&a!==l.myRoomNum){var h=function(){App.CM.apF(O6.B28,HH1.A27,a)};App.VM.open(O7.HH38,M18.FG71(O3.tr(4949)),this,h)}}if(t.cfo){var p=t.cfo,l=App.CM.gtM(O6.B28);if(p.id!==l.myRoomNum){l.jumpPos=p.pos;h=function(){App.CM.apF(O6.B28,HH1.A27,p.id)};App.VM.open(O7.HH38,M18.FG71(O3.tr(4949)),this,h)}else l.jumpPos=p.pos,l.notify(P4.O86)}if(t.gvo){var c=t.gvo.tid;App.CM.apF(O6.C11,O14.A15,N12.gID(c))}if(t.bfo){o=t.bfo,l=App.CM.gtM(O6.A99);App.CM.apF(O6.A99,F14.A30,o.tid)}if(t.zfo){o=t.zfo;App.CM.apF(O6.B8,G5.A33,o.tid)}}},a.curTabIndex=0,a.ChatViewMaxWidth=0,a.CharWidth={cn:{},en:{}},a.CharHeight={cn:{},en:{}},a.EmojiRealWidth=45,a.EmojiScale=(a.EmojiWidth=30)/a.EmojiRealWidth,a.VScale=.5,a.VHeight=Math.ceil(41*a.VScale),a.EmojiHeight=Math.ceil(41*a.EmojiScale),a}();__reflect(TG95.prototype,"TG95");var F5=function(){function t(){}return t.A1=0,t.A2=1,t.A5=2,t.A4=3,t.A3=4,t}();__reflect(F5.prototype,"F5");var D4=function(){function t(){}return t.A1=0,t.A2=1,t}();__reflect(D4.prototype,"D4");var TextFlowBuilder=function(){function e(t){this.content=t}return e.creater=function(t){return new e(t)},e.prototype.color=function(t){return this._color=t,this},e.prototype.fontFamily=function(t){return this.font=t,this},e.prototype.size=function(t){return this._size=t,this},e.prototype.link=function(t){return this._link=t,this},e.prototype.underline=function(){return this._underline=!0,this},e.prototype.bold=function(){return this._bold=!0,this},e.paserHtml=function(t){return e.HTMLPARSER.parse(t)},e.prototype.toTE=function(){var t={text:this.content,style:{}};return this._color&&(t.style.textColor=this._color),this._size&&(t.style.size=this._size),this.font&&(t.style.fontFamily=this.font),this._bold&&(t.style.bold=this._bold),this._underline&&(t.style.underline=this._underline),this._link&&(t.style.href="event:"+this._link),t},e.emoj=function(t,e,i){var s=new eui.Label,o=t.split(this.PATTERN);s.text="";for(var r=0;r<o.length;r++)o[r]},e.HTMLPARSER=new egret.HtmlTextParser,e.PATTERN="/(#[0-9]{2}#|(^#.^#))/",e}();__reflect(TextFlowBuilder.prototype,"TextFlowBuilder");var ChatEmojiView=function(s){function n(t,e){var i=s.call(this,t,e)||this;return i.inputPoint=new egret.Point,i.skinName=ChatEmojiSkin,i}return __extends(n,s),n.prototype.initUI=function(){s.prototype.initUI.call(this),this.pageView=new PageView,this.pageView.x=0,this.pageView.y=0,this.pageView.percentWidth=100,this.pageView.percentHeight=100,this.grpPageView.addChild(this.pageView)},n.prototype.initData=function(){s.prototype.initData.call(this),this.emojiDatas=this.FL47(),this.ZV53()},n.prototype.open=function(t,e){(this.pageView.delegate=this).pageView.ZK70(F5.A1,this.getPageCount),this.pageView.ZK70(F5.A2,this.getPageType),this.pageView.ZK70(F5.A5,this.getPageView),this.pageView.ZK70(F5.A4,this.onPageChange),this.input=t,this.base=e,this.grpMain.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClick,this),this.input.localToGlobal(0,0,this.inputPoint),this.grpDlg.bottom=App.TG37.getHeight()-this.inputPoint.y,this.ZK60()},n.prototype.close=function(){this.grpMain.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClick,this),this.input=null,this.base=null},n.prototype.FL47=function(){var t=N18.FL47(),e=[];for(var i in t)e.push(t[i]);e.sort(function(t,e){return t.orid<e.orid?1:t.orid>e.orid?-1:0});var s=[],o=[];s.push(o);var r=n.perPageRow*n.perRowCol;return e.forEach(function(t){o.length>=r&&(o=[],s.push(o)),o.push(t)}),s},n.prototype.ZV53=function(){this.pageIndexs=[];for(var t=0;t<this.emojiDatas.length;t++){var e=new eui.Image;e.source=0==t?"v1_sg_fb_gd_hd_01_png":"v1_sg_fb_gd_hd_02_png",this.grpPageIndex.addChild(e),this.pageIndexs.push(e)}},n.prototype.ZK60=function(){this.pageView.notifyChange(),this.ZE98(0)},n.prototype.getPageCount=function(t){return this.emojiDatas.length},n.prototype.getPageType=function(t){return 0},n.prototype.getPageView=function(t,e){var i=t;return null==i&&((i=new ChatEmojiPageView).width=this.grpPageView.width,i.height=this.grpPageView.height),i.refreshDatas(this.emojiDatas[e],this.onClickEmoji,this),i},n.prototype.onPageChange=function(t){this.ZE98(t)},n.prototype.ZE98=function(t){for(var e=0;e<this.emojiDatas.length;e++){this.pageIndexs[e].source=e==t?"v1_sg_fb_gd_hd_01_png":"v1_sg_fb_gd_hd_02_png"}},n.prototype.uBM=function(t,e){},n.prototype.onClick=function(){this.apF(O12.A27)},n.prototype.onClickEmoji=function(t){var e=this.input.text;null!=this.base&&e.length+4>this.base.maxchar?P18.sDP(O3.tr(5840,this.base.maxchar)):TG95.FJ41(this.input,t)},n.perPageRow=4,n.perRowCol=8,n}(BaseEuiView);__reflect(ChatEmojiView.prototype,"ChatEmojiView");var ChatEmojiPageView=function(e){function t(){var t=e.call(this)||this;return t.lay=new eui.TileLayout,t.lay.horizontalGap=20,t.lay.verticalGap=20,t.lay.horizontalAlign="center",t.lay.requestedRowCount=ChatEmojiView.perPageRow,t.lay.requestedColumnCount=ChatEmojiView.perRowCol,t.layout=t.lay,t}return __extends(t,e),Object.defineProperty(t.prototype,"width",{set:function(t){this.$setWidth(t);var e=(t-TG95.EmojiRealWidth*ChatEmojiView.perRowCol-(ChatEmojiView.perRowCol-1)*this.lay.horizontalGap)/2;this.lay.paddingLeft=e,this.lay.paddingRight=e},enumerable:!0,configurable:!0}),t.prototype.refreshDatas=function(t,e,i){null==this.emojiItems&&(this.emojiItems=[]);for(var s=ChatEmojiView.perPageRow*ChatEmojiView.perRowCol,o=0;o<s;o++){var r=void 0;o<this.numChildren&&(r=this.getChildAt(o));var n=void 0;t&&0<t.length&&(n=t[o]),n?(null==r?((r=new ChatEmojiItem).ZI17(e,i),this.addChild(r)):r.visible=!0,r.setData(n)):r&&(r.visible=!1)}},t}(eui.Group);__reflect(ChatEmojiPageView.prototype,"ChatEmojiPageView");var ChatEmojiItem=function(e){function t(){var t=e.call(this)||this;return t.addEventListener(egret.TouchEvent.TOUCH_TAP,t.ZU35,t),t.touchEnabled,t}return __extends(t,e),t.prototype.setData=function(t){this.data=t,this.source=this.data.imgname},t.prototype.ZI17=function(t,e){this.selectCallback=t,this.callObj=e},t.prototype.ZU35=function(t){t.stopPropagation(),this.selectCallback&&this.selectCallback.call(this.callObj,this.data)},t}(eui.Image);__reflect(ChatEmojiItem.prototype,"ChatEmojiItem");var ChatItem=function(e){function t(){var t=e.call(this)||this;return t.skinName=ChatItemSkin,t}return __extends(t,e),t.prototype.destroy=function(){},t.prototype.getRLHeight=function(){return this.richLabel?this.richLabel.getRLHeight():0},t.prototype.setMsg=function(t){this.msg=t;var e="";if(1==this.msg.type){switch(this.msg.chan){case P9.A17:e+=O3.tr(5424,"62ee3e");break;case P9.A18:e+=O3.tr(7699,"62ee3e");break;case P9.A16:case P9.A19:case P9.A13:case P9.A2:case P9.A8:case P9.A14:default:e+=O3.tr(5425,"fafa8e")}var i=1==this.msg.gender?O3.tr(5426):O3.tr(5427);if(this.msg.chan==P9.A2){var s=TD90.myCamp();i=this.msg.ct==s?i:"b82222"}var o=this.msg.sn;this.msg.sa&&(o=o+"."+this.msg.sa);var r=this.msg.su||"";this.msg.said==O4.getAid()||this.msg.sid&&this.msg.sid!=O4.getSid()?e+=O3.tr(5428,o,i,r):e+=O3.tr(5429,o,i,ViewMapingIndex.AvatarOther,r)}else e+=O3.tr(5430,"92ddf4");if(this.msg.nid&&0<this.msg.nid){var n=N18.FL48(this.msg.nid).noticecontent;this.msg.fl&&(n=M18.format(n,this.msg.fl.split(","))),e+=n}else e+=O3.tr(5431,this.msg.cnt||"","fafa8e");null==this.richLabel&&(this.richLabel=com.RichLabel.create(),this.richLabel.maxWidth=TG95.ChatViewMaxWidth,this.richLabel.color=16448142,this.richLabel.size=20,this.richLabel.clickCalllback=this.onClickJump,(this.richLabel.clickObj=this).richLabel.rowSpacing=12,this.grpCnt.addChild(this.richLabel)),t.tt?(this.richLabel.imgStr=t.tt,this.richLabel.clickImgCalllback=this.ZR29,this.richLabel.clickImgObj=this):(this.richLabel.imgStr=null,this.richLabel.clickImgCalllback=null,this.richLabel.clickImgObj=null),this.richLabel.text=e},t.prototype.setRichLatel=function(){this.richLabel=com.RichLabel.create(),this.grpCnt.addChild(this.richLabel)},t.prototype.onClickJump=function(t,e){TG95.jumpView(t,e,this.msg),TG40.playClickEffect()},t.prototype.ZR29=function(t,e){TG84.FJ18(e,t),TG40.playClickEffect()},t}(eui.Component);__reflect(ChatItem.prototype,"ChatItem");var ChatItemMgr=function(){function o(){}return o.get=function(t){return o.list[t]},Object.defineProperty(o,"count",{get:function(){return Object.keys(o.list).length},enumerable:!0,configurable:!0}),o.set=function(t,e){if(!o.has(t)&&((o.list[t]=e).cacheAsBitmap=o._cacheAsBitmap,o.limit<=o.count)){var i=[];for(var s in o.list)i.push(o.get(parseInt(s)));for(i.sort(o.sort);i.length>o.limit-30;)this.rm(i.shift().msg.id);i.length=0,i=null}},o.sort=function(t,e){return t.msg.st-e.msg.st},o.has=function(t){return!!o.list[t]},o.rm=function(t){var e=o.get(t);o.has(t)&&(App.TF56.ZJ66(o.list[t]),e.destroy(),o.list[t]=null,delete o.list[t])},o.rmAll=function(){for(var t in o)o.rm(parseInt(t))},o.ZR30=function(){for(var t in o.list)App.TF56.ZJ66(o.list[t])},Object.defineProperty(o,"cacheAsBitmap",{get:function(){return this._cacheAsBitmap},set:function(t){for(var e in this._cacheAsBitmap=t,o.list){o.list[e].cacheAsBitmap=this._cacheAsBitmap}},enumerable:!0,configurable:!0}),o.list={},o.limit=80,o._cacheAsBitmap=!1,o}();__reflect(ChatItemMgr.prototype,"ChatItemMgr");var ChatMsgGroup=function(e){function t(){var t=e.call(this)||this;return t.maxNum=30,t.curScrollH=0,t.curAddH=0,t.firstOpen=!0,t.index=0,t.isNotice=!1,t.allMsgs=[],t.sysLabels={},t.recordMsgIds={},t.recordH=0,t.once(egret.Event.REMOVED_FROM_STAGE,t.close,t),t}return __extends(t,e),t.prototype.onResize=function(){if(null!=this.offsetY)if(this.offsetY<0)this.viewport.scrollV=0;else{var t=this.viewport.contentHeight-this.viewport.height;this.viewport.scrollV=Math.max(Math.floor(t-this.offsetY),0)}},t.prototype.stopAnimation=function(){e.prototype.stopAnimation.call(this),egret.Tween.removeTweens(this.viewport)},t.prototype.ZR31=function(t){void 0===t&&(t=!1),this.isSmooth=t,this.needScrollToBottom=!0,this.isUpdateMsg||this.ZK61()},t.prototype.ZK61=function(){var t=this;if((!this.grpCnt||0!=this.grpCnt.numChildren)&&this.needScrollToBottom){this.needScrollToBottom=!1;var e=Math.max(this.viewport.contentHeight,this.recordH)-this.viewport.height;0<(e=0<e?e:0)&&(this.isSmooth?egret.Tween.get(this.viewport).to({scrollV:e},e+100,egret.Ease.quintOut).call(function(){egret.Tween.removeTweens(t.viewport)}):this.viewport.scrollV=Math.floor(e)),this.isSmooth=!1}},t.prototype.ZK62=function(){this.recordMsgIds={}},t.prototype.updateMsgs=function(t,e,i){var s=this;void 0===i&&(i=!1);var o=t.concat();if(this.isAllMsg=e,null==this.grpCnt){this.grpCnt=this.getChildAt(0);var r=this.grpCnt.layout;this.layGapHeight=r.gap,this.grpCnt.addEventListener(egret.Event.RESIZE,this.onResize,this),this.grpCnt.addEventListener(eui.PropertyEvent.PROPERTY_CHANGE,this.ZR32,this)}if(i){for(var n=Math.min(t.length,0),a=0;a<n;a++)this.recordMsgIds[t[a].id]=1;this.recordMsgIds={},this.msgs=[],this.grpCnt.removeChildren(),this.recordH=0;for(a=n;a<t.length;a++)this._addMsg(t[a]);return this.msgs=t.slice(n),this.isUpdateMsg=!0,void this.startUpdate()}if(e){if(this.isNotice)return void App.DelayOptManager.ZE59(this,function(){s.updateMsgs(o,e)});var h;if(h=0==this.allMsgs.length||this.allMsgs[this.allMsgs.length-1].id!=t[t.length-1].id,this.index==this.maxNum&&h&&this.index--,!this.isUpdateMsg&&this.index!==this.maxNum&&h){if(this.allMsgs=t.concat(),this.index+t.length>this.maxNum){var p=this.index+t.length-this.maxNum;this.msgs=t.slice(p,t.length)}else this.msgs=t;this.isUpdateMsg=!0,this.startUpdate()}}else this.msgs=t,this.isUpdateMsg||(this.isUpdateMsg=!0,this.startUpdate())},t.prototype.ZR32=function(){for(var t=this.grpCnt.numChildren,e=this.grpCnt.scrollV,i=e+this.grpCnt.height,s=0;s<t;s++){var o=this.grpCnt.getChildAt(s),r=o.y,n=r+o.height;o.visible=App.TG81.inRange(e,i,r)||App.TG81.inRange(e,i,n)}},t.prototype.ZV54=function(){var t=Math.max(this.viewport.contentHeight,this.recordH)-this.viewport.height;if(0<(t=0<t?t:0)){var e=this.viewport.scrollV+this.curScrollH;this.viewport.scrollV=Math.floor(e)}this.curScrollH=0},t.prototype.startUpdate=function(){App.DelayOptManager.ZE59(this,this.ZV55)},t.prototype.endUpdate=function(){this.isUpdateMsg=!1,this.firstOpen||this.needScrollToBottom||this.ZV54(),this.ZK61(),this.firstOpen=!1},t.prototype.ZV55=function(){if(null==this.msgs||0==this.msgs.length)this.ZK63();else for(var t=0;t<this.msgs.length;t++){var e=this.msgs[t];if(!this.recordMsgIds[e.id])return void this.addMsg(e)}this.endUpdate()},t.prototype._addMsg=function(t){if(3014!=t.nid||"PM001109"!=platform.gameId||"2"!=window.isPayType){var e=this.newChatItem(t.id,t);this.grpCnt.addChild(e),this.recordMsgIds[t.id]=1;var i=e.getRLHeight(),s=0;0<this.recordH&&(this.recordH+=this.layGapHeight,s+=this.layGapHeight),this.recordH+=i,s+=i;var o=0;if(this.grpCnt)for(;this.grpCnt.numChildren>this.maxNum;){var r=this.grpCnt.getChildAt(0);this.grpCnt.removeChild(r),r.msg&&r.msg.id?(this.recordMsgIds[r.msg.id]=null,delete this.recordMsgIds[r.msg.id]):this.isAllMsg&&(this.index-=1);var n=r.getRLHeight()+this.layGapHeight;o+=n,this.recordH-=n}this.curScrollH=s-o}},t.prototype.addMsg=function(t){this._addMsg(t),this.startUpdate()},t.prototype.addRollMsg=function(t){if(this.grpCnt)if(this.isUpdateMsg)App.DelayOptManager.ZE59(this,this.addRollMsg,t);else{var e=new ChatItem,i=new eui.Label;i.size=20,i.textColor=16448142,i.maxWidth=TG95.ChatViewMaxWidth,i.lineSpacing=12,i.textFlow=(new egret.HtmlTextParser).parser(t.split("@@")[0]),e.setRichLatel(),e.richLabel.addChild(i),this.grpCnt.addChild(e),i.width=e.width,this.dealSysLabel(i,t),0<this.recordH&&(this.recordH+=this.layGapHeight);var s=e.getRLHeight();this.recordH+=s,s+=this.layGapHeight;var o=0;if(this.grpCnt&&this.grpCnt.numChildren>this.maxNum){var r=this.grpCnt.getChildAt(0);this.grpCnt.removeChild(r),r.msg&&r.msg.id?(this.recordMsgIds[r.msg.id]=null,delete this.recordMsgIds[r.msg.id],this.isAllMsg&&(this.index+=1)):this.isAllMsg&&this.index==this.maxNum-1&&this.index++;var n=r.getRLHeight()+this.layGapHeight;o+=n,this.recordH-=n,this.curScrollH=s-o,r.destroy()}else this.isAllMsg&&this.grpCnt&&this.grpCnt.numChildren>this.index&&(this.index+=1);this.isNotice=!0}},t.prototype.dealSysLabel=function(t,e){var i=e.split("@@").length;if(!(i<2)){var s=this.sysLabels[t.hashCode];if(s||((s={}).label=t,this.sysLabels[t.hashCode]=s),2==i){var o=e.split("@@")[1];s.copytab=o,t.addEventListener(egret.TouchEvent.TOUCH_TAP,this.sysLabelCopy,this)}else if(3==i){var r=e.split("@@")[1],n=e.split("@@")[2];s.webLinkKey=r,s.webLinkUrl=n,t.addEventListener(egret.TouchEvent.TOUCH_TAP,this.sysLabelJump,this)}}},t.prototype.sysLabelCopy=function(t){t.stopPropagation();var e=t.currentTarget,i=this.sysLabels[e.hashCode];if(i.copytab){var s=e.text,o=new RegExp(i.copytab,"g"),r=M18.FG70(i.copytab,20),n=s.search(o);if(-1!=n){for(var a,h,p=0,l=0;l<n;l++)/\W/.test(s.charAt(l))?"["==s.charAt(l)||"]"==s.charAt(l)?p+=10:p+=20:p+=10;h=(a=p)+r;var c=this.localToGlobal(),u=t.stageX-c.x+10;a<u&&u<h&&platform.setClipboardData(i.copytab,function(){P18.sDP(O3.tr(5650))})}}},t.prototype.sysLabelJump=function(t){t.stopPropagation();var e=t.currentTarget,i=this.sysLabels[e.hashCode];if(i.webLinkKey&&i.webLinkUrl){var s=e.text,o=new RegExp(i.webLinkKey,"g"),r=M18.FG70(i.webLinkKey,20),n=s.search(o);if(-1!=n){for(var a,h,p=0,l=0;l<n;l++)/\W/.test(s.charAt(l))?"["==s.charAt(l)||"]"==s.charAt(l)?p+=10:p+=20:p+=10;h=(a=p)+r;var c=this.localToGlobal(),u=t.stageX-c.x+10;a<u&&u<h&&("fth5"===platform.name||"japan"===platform.name||"wakool"===platform.name||"english"===platform.name||"freetop"===platform.name||"ft7477"===platform.name||"my1737"===platform.name||"huanyu"===platform.name||"militop"===platform.name||"btgame"===platform.name||"sdw"===platform.name||"gaga"===platform.name?window.TFsdk.fbPage(i.webLinkUrl):window.open(i.webLinkUrl,"_blank"))}}},t.prototype.newChatItem=function(t,e){var i=ChatItemMgr.get(t);return i||((i=new ChatItem).setMsg(e),ChatItemMgr.set(t,i)),i},t.prototype.ZG42=function(){this.isNotice=!1},t.prototype.ZK63=function(){if(this.grpCnt){for(;0<this.grpCnt.numChildren;){var t=this.grpCnt.getChildAt(0);this.grpCnt.removeChild(t)}this.recordH=0}},t.prototype.close=function(){if(!(this.sysLabels.length<=0))for(var t in this.sysLabels)this.sysLabels[t].label.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.sysLabelCopy,this),this.sysLabels[t].label.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.sysLabelJump,this),delete this.sysLabels[t]},t}(eui.Scroller);__reflect(ChatMsgGroup.prototype,"ChatMsgGroup");var ChatPrivateMsgScroller=function(e){function t(){var t=e.call(this)||this;return t.maxNum=30,t.recordMsgIds={},t.recordH=0,t}return __extends(t,e),t.prototype.ZR31=function(t){void 0===t&&(t=!1),this.isSmooth=t,this.needScrollToBottom=!0,this.isUpdateMsg||this.ZK61()},t.prototype.ZK61=function(){var t=this;if((!this.grpCnt||0!=this.grpCnt.numChildren)&&this.needScrollToBottom){this.needScrollToBottom=!1;var e=Math.max(this.viewport.contentHeight,this.recordH)-this.viewport.height;0<(e=0<e?e:0)&&(this.isSmooth?egret.Tween.get(this.viewport).to({scrollV:e},e+100,egret.Ease.quintOut).call(function(){egret.Tween.removeTweens(t.viewport)}):this.viewport.scrollV=e),this.isSmooth=!1}},t.prototype.updateMsgs=function(t,e){if(this.msgs=t,null==this.grpCnt){this.grpCnt=this.getChildAt(0);var i=this.grpCnt.layout;this.layGapHeight=i.gap}this.curChatAid!=e&&(this.curChatAid=e,this.ZK63(),this.viewport.scrollV=0),this.isUpdateMsg||(this.isUpdateMsg=!0,this.startUpdate())},t.prototype.startUpdate=function(){App.DelayOptManager.ZE59(this,this.ZV55)},t.prototype.endUpdate=function(){this.isUpdateMsg=!1,this.ZK61()},t.prototype.ZV55=function(){if(null==this.msgs||0==this.msgs.length)this.ZK63();else for(var t=0;t<this.msgs.length;t++){var e=this.msgs[t];if(!this.recordMsgIds[e.id])return void this.addMsg(e)}this.endUpdate()},t.prototype.addMsg=function(t){if(!this.recordMsgIds[t.id]){var e=new ChatPrivateContent;if(e.setMsg(t),this.grpCnt.addChild(e),this.recordMsgIds[t.id]=1,0<this.recordH&&(this.recordH+=this.layGapHeight),this.recordH+=e.getRLHeight(),this.grpCnt)for(;this.grpCnt.numChildren>this.maxNum;){var i=this.grpCnt.getChildAt(0);this.grpCnt.removeChild(i),this.recordMsgIds[i.msg.id]=null,delete this.recordMsgIds[i.msg.id],this.recordH-=i.getRLHeight()+this.layGapHeight,i.destroy()}this.startUpdate()}},t.prototype.ZK63=function(){if(this.grpCnt)for(;0<this.grpCnt.numChildren;){var t=this.grpCnt.getChildAt(0);this.grpCnt.removeChild(t),t.destroy()}this.recordH=0,this.recordMsgIds={}},t}(eui.Scroller);__reflect(ChatPrivateMsgScroller.prototype,"ChatPrivateMsgScroller");var ChatPrivateView=function(s){function t(t,e){var i=s.call(this,t,e)||this;return i.skinName=ChatPrivateSkin,i.dlg.ZU10().visible=!0,i}return __extends(t,s),t.prototype.initUI=function(){s.prototype.initUI.call(this),this.dgIcons.dataProvider=this.iconsColl=new eui.ArrayCollection,this.dgIcons.itemRenderer=ChatPrivateIcon;var t=1e3*parseInt(N18.FI6("PMShowTime"));this.tips=O3.tr(4517,P6.FJ11(t,5));var e=App.CM.gtM(O6.C13);this.inputChat.maxChars=e.baseDatas[P9.A15].maxchar,this.btnFriend.label=O3.tr(4516),this.btnSend.label=O3.tr(4507),this.dlg.title=O3.tr(4518),this.inputChat.prompt=O3.tr(7062)},t.prototype.initData=function(){s.prototype.initData.call(this);var t=App.CM.gtM(O6.C13);this.scCnt.maxNum=t.baseDatas[P9.A15].recordcount},t.prototype.open=function(t){this.dlg.ZM69(this.oCC,this),this.dlg.ZQ14(this.onClickBack,this),this.btnFriend.addEventListener(egret.TouchEvent.TOUCH_TAP,this.ZU66,this),this.btnSend.addEventListener(egret.TouchEvent.TOUCH_TAP,this.ZR33,this),this.btnEmoji.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickEmoji,this),this.btnArrUp.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickArrow,this),this.btnArrDown.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickArrow,this),this.inputChat.addEventListener(egret.TouchEvent.TOUCH_TAP,this.FL26,this),this.recordLoadingMsg={},this.avatarModel=App.CM.gtM(O6.B82);var e=App.CM.gtM(O6.C13);this.newPlayer=t,this.ZC34(e),this.apF(O12.A3)},t.prototype.close=function(){this.btnFriend.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.ZU66,this),this.btnSend.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.ZR33,this),this.btnEmoji.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickEmoji,this),this.btnArrUp.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickArrow,this),this.btnArrDown.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickArrow,this),this.inputChat.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.FL26,this),this.iconsColl.removeAll(),this.avatarModel=null,this.newPlayer=null},t.prototype.FL26=function(){P7.FL26()},t.prototype.openChatObj=function(t,e){null!=e&&(this.curPlayer=t.ZV50(e))},t.prototype.uBM=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];if(t instanceof TG93)switch(e&&0<e.length?e[0]:""){case P4.O9:case P4.E97:this.newPlayer&&(this.openChatObj(t,this.newPlayer),this.newPlayer=null,this.ZA98(t)),this.ZC34(t);break;case P4.G60:this.ZA98(t);break;case P4.C1:this.ZC34(t);break;case P4.U49:this.inputChat.text="";break;case P4.X77:this.ZC34(t),this.ZA98(t)}},t.prototype.ZC34=function(t){var e=this,i=t.rs||[],s=[],o=!1;if(this.curPlayer){for(var r=!1,n=0;n<i.length;n++)if(i[n].aid==this.curPlayer.aid){r=!0;break}r||(this.curPlayer=null)}i.forEach(function(t){null==e.curPlayer&&(e.curPlayer=t,o=!0),s.push({data:t,selected:e.curPlayer.aid==t.aid,selectCall:e.ZU35,callObj:e})}),this.curPlayer&&(this.curPlayer.nr=0),this.iconsColl.replaceAll(s),(o||null==this.curPlayer)&&this.ZA98(t)},t.prototype.ZA98=function(t){if(null==this.curPlayer)return this.scCnt.viewport.scrollV=0,void this.scCnt.updateMsgs(null,-1);if(t.ZI14(this.curPlayer.aid)){var e=t.ZG41(this.curPlayer.aid);this.scCnt.updateMsgs(e,this.curPlayer.aid),this.scCnt.ZR31(),t.ZK57(this.curPlayer.aid)}else this.recordLoadingMsg[this.curPlayer.aid]||(this.recordLoadingMsg[this.curPlayer.aid]=1,this.apF(O12.A5,this.curPlayer.aid))},t.prototype.onClickArrow=function(t){var e=1;switch(t.target.name){case"up":e=-1;break;case"down":default:e=1}this.scList.validateNow();var i=this.scList.viewport.scrollV+130*e,s=this.scList.viewport.contentHeight-this.scList.viewport.height;i=s<i?s:i,this.scList.viewport.scrollV=0<i?i:0},t.prototype.oCC=function(){this.apF(O12.A24)},t.prototype.onClickBack=function(){},t.prototype.ZU66=function(){App.CM.apF(O6.B84,L14.A32)},t.prototype.ZU35=function(t){this.curPlayer=t;var e=App.CM.gtM(O6.C13);this.ZC34(e),this.ZA98(e)},t.prototype.onClickEmoji=function(){var t=App.CM.gtM(O6.C13).baseDatas[P9.A15];this.apF(O12.A29,this.inputChat,t)},t.prototype.ZR33=function(){null!=this.curPlayer&&(0!=this.curPlayer.ol?this.sendMsg():this.apF(O12.A33,K15.A1,this.sendMsg,this))},t.prototype.sendMsg=function(){if(null!=this.curPlayer){var t=App.CM.gtM(O6.B82),e=App.CM.gtM(O6.C13),i=App.CM.gtM(O6.B97),s=e.baseDatas[P9.A15];if(t.avatarInfo.l<s.needlevel)P18.sDP(O3.tr(4519,s.needlevel,s.describe));else{var o=this.inputChat.text;if(0!=o.length)if(o.length>s.maxchar)P18.sDP(O3.tr(4515,s.maxchar));else{var r={channelId:P9.A15,content:o,convenient:0,acceptId:this.curPlayer.aid,accName:this.curPlayer.sn};"awy"==platform.name?r.platform=1:i.uname&&-1!=i.uname.indexOf("h5_yuewen_")&&(r.platform=2),this.apF(O12.A22,r)}else P18.sDP(O3.tr(4513))}}},t}(BaseEuiView);__reflect(ChatPrivateView.prototype,"ChatPrivateView");var ChatPrivateIcon=function(e){function t(){var t=e.call(this)||this;return t.addEventListener(egret.Event.ADDED_TO_STAGE,t.open,t),t.addEventListener(egret.Event.REMOVED_FROM_STAGE,t.close,t),t}return __extends(t,e),t.prototype.open=function(){this.btnClose.addEventListener(egret.TouchEvent.TOUCH_TAP,this.oCC,this),this.addEventListener(egret.TouchEvent.TOUCH_TAP,this.ZU35,this)},t.prototype.close=function(){this.btnClose.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.oCC,this),this.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.ZU35,this)},t.prototype.dataChanged=function(){var t=this.data.data;this.imgSelected.visible=this.data.selected,this.imgSelected.visible?this.pnLb.textColor=8667431:this.pnLb.textColor=16707295,this.strPN=t.sn,this.icon=t.ic,0<t.nr?(this.grpRed.visible=!0,this.ct=String(t.nr)):this.grpRed.visible=!1,this.currentState=1==t.ol?"online":"offline","online"==this.currentState?this.lbState.text=O3.tr(1904):"offline"==this.currentState&&(this.lbState.text=O3.tr(1905))},t.prototype.oCC=function(t){t.stopPropagation();var e=App.CM.gtM(O6.C13);e.ZI16(this.data.data.aid)?App.CM.apF(O6.C13,O12.A33,K15.A2,this.closeChat,this):(e.ZB32(this.data.data.aid),e.notify(P4.C1))},t.prototype.closeChat=function(){var t=this.data.data;App.CM.apF(O6.C13,O12.A1,t.aid)},t.prototype.ZU35=function(){if(this.data.selected){var t=this.data.data,e={nId:t.aid,sName:t.sn};App.CM.apF(O6.B84,L14.A20,e)}else this.data.selectCall&&this.data.selectCall.call(this.data.callObj,this.data.data)},t}(eui.ItemRenderer);__reflect(ChatPrivateIcon.prototype,"ChatPrivateIcon");var ChatPrivateContent=function(e){function t(){var t=e.call(this)||this;return t.skinName=ChatPrivateContentSkin,t}return __extends(t,e),t.prototype.destroy=function(){},t.prototype.getRLHeight=function(){return this.richLabel?this.richLabel.getRLHeight()+50:50},t.prototype.setMsg=function(t){this.msg=t,this.strPN=this.msg.sn,this.sendTime=P6.FJ11(1e3*this.msg.st,2),this.currentState=this.msg.said==this.msg.myAid?"right":"left",null==this.richLabel&&(this.richLabel=com.RichLabel.create(),this.richLabel.maxWidth=300,this.richLabel.color=8667431,this.richLabel.size=20,this.grpCtn.addChild(this.richLabel)),this.richLabel.text=this.msg.cnt},t}(eui.Component);__reflect(ChatPrivateContent.prototype,"ChatPrivateContent");var ChatQuickTalkView=function(s){function t(t,e){var i=s.call(this,t,e)||this;return i.skinName=ChatQuickTalkSkin,i}return __extends(t,s),t.prototype.initUI=function(){s.prototype.initUI.call(this),this.dgCnt.dataProvider=this.cntColl=new eui.ArrayCollection,this.dgCnt.itemRenderer=ChatQuickSentence},t.prototype.initData=function(){s.prototype.initData.call(this)},t.prototype.open=function(t){this.grpMain.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClick,this);var e=App.CM.gtM(O6.C13).baseDatas[t];this.tips=O3.tr(5851,e.needlevel),this.ZK64(t)},t.prototype.close=function(){this.grpMain.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClick,this),this.cntColl.removeAll()},t.prototype.ZK64=function(t){var e=N18.FC84(),i=[];for(var s in e)i.push({content:e[s].content,type:t});this.cntColl.replaceAll(i)},t.prototype.uBM=function(t,e){},t.prototype.onClick=function(){this.apF(O12.A17)},t}(BaseEuiView);__reflect(ChatQuickTalkView.prototype,"ChatQuickTalkView");var ChatQuickSentence=function(e){function t(){var t=e.call(this)||this;return t.addEventListener(egret.Event.ADDED_TO_STAGE,t.open,t),t.addEventListener(egret.Event.REMOVED_FROM_STAGE,t.close,t),t}return __extends(t,e),t.prototype.open=function(){this.grpCnt.addEventListener(egret.TouchEvent.TOUCH_TAP,this.ZU35,this)},t.prototype.close=function(){this.grpCnt.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.ZU35,this)},t.prototype.dataChanged=function(){this.sentence=this.data.content},t.prototype.ZU35=function(){var t={channelId:3<this.data.type?1:this.data.type,content:this.data.content,convenient:1};App.CM.apF(O6.C13,O12.A22,t),App.CM.apF(O6.C13,O12.A17,this.data)},t}(eui.ItemRenderer);__reflect(ChatQuickSentence.prototype,"ChatQuickSentence");var ChatTipsView=function(s){function t(t,e){var i=s.call(this,t,e)||this;return i.skinName=ChatTipsSkin,i}return __extends(t,s),t.prototype.initUI=function(){s.prototype.initUI.call(this)},t.prototype.initData=function(){s.prototype.initData.call(this)},t.prototype.open=function(t,e,i){this.dlg.ZM69(this.oCC,this),this.dlg.ZQ14(this.onClickBack,this),this.btnConfirm.addEventListener(egret.TouchEvent.TOUCH_TAP,this.ZQ58,this),this.type=t,this.confirmCallback=e,this.confirmCallObj=i,this.updateViews()},t.prototype.close=function(){this.btnConfirm.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.ZQ58,this),this.type=0,this.confirmCallback=null,this.confirmCallObj=null},t.prototype.updateViews=function(){switch(this.type){case K15.A1:this.tips="当前玩家不在线，是否发送离线消息？",this.btnConfirm.labelDisplay.text="发  送";break;case K15.A2:this.tips="关闭私聊将清空聊天记录，是否确定要关闭？",this.btnConfirm.labelDisplay.text="确  定"}},t.prototype.oCC=function(){this.apF(O12.A30)},t.prototype.onClickBack=function(){},t.prototype.ZQ58=function(){this.confirmCallback&&this.confirmCallback.call(this.confirmCallObj),this.oCC()},t}(BaseEuiView);__reflect(ChatTipsView.prototype,"ChatTipsView");var ChatTopBtn=function(e){function t(){var t=e.call(this)||this;return t.bgImg="",t.lbTxt="",t.skinName=ChatTopBtnSkin,t.addEventListener(egret.Event.ADDED_TO_STAGE,t.onAddToStage,t),t.addEventListener(egret.Event.REMOVED_FROM_STAGE,t.onRemoveStage,t),t}return __extends(t,e),t.prototype.onAddToStage=function(){this.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onBegin,this)},t.prototype.onRemoveStage=function(){this.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onBegin,this)},t.prototype.onBegin=function(){TG40.playClickEffect()},t.prototype.updateMoreLb=function(t,e){this.moreGp.visible=!!e,this.moreLb.text=t},t}(eui.Button);__reflect(ChatTopBtn.prototype,"ChatTopBtn");var ChatView=function(s){function u(t,e){var i=s.call(this,t,e)||this;return i.isRefreshSearchCd=!1,i.tabCollection2=new eui.ArrayCollection([{text:O3.tr(5716),type:"all"},{text:O3.tr(5717),type:"world"},{text:O3.tr(5718),type:"legion"}]),i.init=[{text:O3.tr(5716),type:"all"},{text:O3.tr(5717),type:"world"},{text:O3.tr(5718),type:"legion"}],i.skinName=ChatViewSkin,i.addEventListener("TRY_CLOSE",i.tryClose,i),ChatItemMgr.ZR30(),i}return __extends(u,s),u.prototype.initUI=function(){s.prototype.initUI.call(this);for(var t=0;t<this.gpBtn.$children.length;t++){var e=this.gpBtn.getChildAt(t);(e instanceof com.Button||e instanceof ChatTopBtn||e instanceof eui.Group)&&(e.includeInLayout=!1)}this.tabCollection2=new eui.ArrayCollection(this.init),TG95.FE79(1,"中",20,this),TG95.FE79(2,"A",20,this),this.initChat(),this.btnSend.label=O3.tr(4507),this.btnFriend.label=O3.tr(4508),this.inputChat.prompt=O3.tr(5730),"P0000211"===platform.gameId&&(this.chatGp.visible=!1),P7.FJ17()&&(u.minHeig=120,this.chartGroup.height=u.minHeig)},u.prototype.setCampChan=function(){var t=TD90.model;this.cliff||(this.cliff={text:O3.tr(7638),type:"camp"});var e=this.cliff,i=!0;for(var s in this.tabCollection2.source)if(this.tabCollection2.source[s].type==e.type){i=!1;break}var o=this.tabCollection2.source.indexOf(e);t.isOpen?i&&this.tabCollection2.addItemAt(e,2):0<=o&&(this.tabCollection2.removeItemAt(2),this.campAll.removeChildren(),this.ZV62())},u.prototype.initData=function(){s.prototype.initData.call(this),this.sendTimes=[0,0,0],this.sendCnts=["","",""];var t=App.CM.gtM(O6.C13);this.baseDatas=t.baseDatas,this.allSc.maxNum=this.baseDatas[P9.A19].recordcount,this.worldSc.maxNum=this.baseDatas[P9.A16].recordcount,this.partySc.maxNum=this.baseDatas[P9.A17].recordcount,this.climbWorldSc.maxNum=this.climbAllSc.maxNum=this.baseDatas[P9.A13].recordcount,this.crossBossWorldSc.maxNum=this.crossBossAllSc.maxNum=this.baseDatas[P9.A3].recordcount,this.crossFishWorldSc.maxNum=this.crossFishAllSc.maxNum=this.baseDatas[P9.A5].recordcount,this.boatraceAllSc.maxNum=this.boatraceWorldSc.maxNum=this.baseDatas[P9.A7].recordcount,this.crossCliffAllSc.maxNum=this.crossCliffWorldSc.maxNum=this.baseDatas[P9.A2].recordcount,this.campSc.maxNum=this.baseDatas[P9.A18].recordcount,this.tabChart.dataProvider=this.tabCollection2},u.prototype.open=function(t){this.viewStack.selectedIndex=t;var e=TD90.model;switch(t){case P9.A3:case P9.A1:case P9.A5:case P9.A2:case P9.A13:this.tabChart.selectedIndex=P9.A16;break;case P9.A18:this.tabChart.selectedIndex=2;break;case P9.A14:case P9.A11:case P9.A9:case P9.A8:case P9.A6:this.tabChart.selectedIndex=P9.A19;break;case P9.A17:e.isOpen?this.tabChart.selectedIndex=3:this.tabChart.selectedIndex=2;break;default:this.tabChart.selectedIndex=t}this.ZR35();var i=this.setIdx();this.inputChat.maxChars=this.baseDatas[i].maxchar,this.click.addEventListener(egret.TouchEvent.TOUCH_TAP,this.clickUnfold,this),this.tabChart.addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.ZR35,this),this.tabChart.addEventListener(eui.UIEvent.CHANGE,this.ZR36,this),this.tabChart.addEventListener(eui.ItemTapEvent.ITEM_TAP,this.ZV63,this),this.inputChat.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickInput,this),this.btnFriend.addEventListener(egret.TouchEvent.TOUCH_TAP,this.ZR39,this),this.btnSend.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickSend,this),this.btnEmoji.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickEmoji,this),this.btnSearch.addEventListener(egret.TouchEvent.TOUCH_TAP,this.ZV48,this),this.grpPrivateChat.addEventListener(egret.TouchEvent.TOUCH_TAP,this.ZI20,this),this.btnTeam.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickTeam,this),this.btnMail.addEventListener(egret.TouchEvent.TOUCH_TAP,this.GV12,this),this.btnRedPacket.addEventListener(egret.TouchEvent.TOUCH_TAP,this.ZD78,this),this.btnXitie.addEventListener(egret.TouchEvent.TOUCH_TAP,this.ZV60,this),this.btnMaster.addEventListener(egret.TouchEvent.TOUCH_TAP,this.GR32,this),this.btnDati.addEventListener(egret.TouchEvent.TOUCH_TAP,this.openAnsView,this),this.btnCrossDuel.addEventListener(egret.TouchEvent.TOUCH_TAP,this.ZV58,this),this.btnCrossTeam.addEventListener(egret.TouchEvent.TOUCH_TAP,this.ZV59,this),this.btnLegion.addEventListener(egret.TouchEvent.TOUCH_TAP,this.ZV61,this),this.btnNotice.addEventListener(egret.TouchEvent.TOUCH_TAP,this.ZV66,this),this.viewStack.addEventListener(egret.TouchEvent.TOUCH_TAP,this.ZK68,this),this.btnMayDay.addEventListener(egret.TouchEvent.TOUCH_TAP,this.ZV56,this),this.btnAuthorize.addEventListener(egret.TouchEvent.TOUCH_TAP,this.ZK65,this),this.btnCrossbattle.addEventListener(egret.TouchEvent.TOUCH_TAP,this.ZG46,this);var s=App.CM.gtM(O6.B41);this.ZN64(s),this.updateMyDay();var o=App.CM.gtM(O6.B99);this.ZG47(o);var r=App.CM.gtM(O6.A43);this.ZD77(r),this.ZE99();var n=App.CM.gtM(O6.B64);this.ZD73(n,!0),this.ZG48();var a=App.CM.gtM(O6.B94);this.ZE85(a);var h=App.CM.gtM(O6.C15);this.ZV57(h);var p=App.CM.gtM(O6.B24);this.ZG44(p);var l=App.CM.gtM(O6.B42);this.ZR34(l);var c=App.CM.gtM(O6.B92);this.ZN65(c);var u=App.CM.gtM(O6.B89);this.ZN66(u),this.ZG45(TE78.model);var d=App.CM.gtM(O6.A11);this.ZG43(d);var v=App.CM.gtM(O6.B66);this.ZN67(v),egret.Tween.get(this).wait(200).call(function(){TG95.ChatViewMaxWidth<=0&&(TG95.ChatViewMaxWidth=this.allSc.width);var t=App.CM.gtM(O6.C13);this.ZI18(t,!0),TG68.FD9(this,N4.chat_send_btn,!1),this.ZN68(),this.setCampChan()},this),this.ZV65()},u.prototype.updateMyDay=function(){var t=App.CM.gtM(O6.B82);if("wanba"==platform.name&&1==t.avatarInfo.fl){var e=new Date;e.setFullYear(2019,3,28);var i=new Date;i.setFullYear(2019,4,7);var s=new Date;s<=i&&e<=s&&this.topGropNum()<5?(this.btnMayDay.includeInLayout=this.btnMayDay.visible=!0,this.btnMayDay.imgNew.visible=!0):(this.btnMayDay.includeInLayout=this.btnMayDay.visible=!1,this.btnMayDay.imgNew.visible=!1)}},u.prototype.ZV56=function(){App.VM.open(O7.I72)},u.prototype.ZK65=function(){App.VM.open(O7.HH93)},u.prototype.ZN64=function(t){P7.FK32()&&2!=t.ep?(this.btnAuthorize.imgNew.visible=1==t.ep,this.btnAuthorize.visible=this.btnAuthorize.includeInLayout=!0):this.btnAuthorize.visible=this.btnAuthorize.includeInLayout=!1},u.prototype.initChat=function(){if(this.chartGroup.height!=u.minHeig){this.chartGroup.height=u.minHeig,this.click.bgStr="v1_btn_zk_lt_png";var t=App.VM.gOV(O7.I86);t&&(t.missGroup.bottom=460),this.ZN68()}},u.prototype.ZG43=function(t){t.openState&&(0<t.FL35()&&this.topGropNum()<5?(this.btnRedPacket.includeInLayout=this.btnRedPacket.visible=!0,this.btnRedPacket.imgNew.visible=!0):(this.btnRedPacket.includeInLayout=this.btnRedPacket.visible=!1,this.btnRedPacket.imgNew.visible=!1))},u.prototype.ZV57=function(t){0<t.FL35()&&this.topGropNum()<5?(this.btnMail.includeInLayout=this.btnMail.visible=!0,this.btnMail.imgNew.visible=!0):(this.btnMail.includeInLayout=this.btnMail.visible=!1,this.btnMail.imgNew.visible=!1)},u.prototype.ZG44=function(t){t.isShow()&&this.topGropNum()<5?(this.btnCrossDuel.includeInLayout=this.btnCrossDuel.visible=!0,this.btnCrossDuel.imgNew.visible=!0):(this.btnCrossDuel.includeInLayout=this.btnCrossDuel.visible=!1,this.btnCrossDuel.imgNew.visible=!1)},u.prototype.ZG45=function(t){t.isShow()&&this.topGropNum()<5?this.btnCrossTeam.includeInLayout=this.btnCrossTeam.visible=!0:this.btnCrossTeam.includeInLayout=this.btnCrossTeam.visible=!1},u.prototype.ZR34=function(t){0<t.xitei&&this.topGropNum()<5?(this.btnXitie.includeInLayout=this.btnXitie.visible=!0,this.btnXitie.lbTxt=t.xitei.toString(),this.btnXitie.lbGp.visible=!0):(this.btnXitie.includeInLayout=this.btnXitie.visible=!1,this.btnXitie.lbGp.visible=!1)},u.prototype.ZN65=function(t){var e=TG73.getIvs();e&&0<e.length&&this.topGropNum()<5?this.btnMaster.includeInLayout=this.btnMaster.visible=!0:this.btnMaster.includeInLayout=this.btnMaster.visible=!1},u.prototype.ZN66=function(t){t.myLegion&&t.myLegion.isJoinLegion()&&t.myLegion.isShowCall&&this.topGropNum()<5?this.btnLegion.includeInLayout=this.btnLegion.visible=!0:this.btnLegion.includeInLayout=this.btnLegion.visible=!1},u.prototype.ZN67=function(t){var e=t.hasNoticeBtn()&&this.topGropNum()<5;this.btnNotice.includeInLayout=this.btnNotice.visible=e},u.prototype.ZD77=function(t){var e=this.btnCrossbattle.includeInLayout,i=2==t.st&&!t.g||(7==t.st||5==t.st)&&t.dailyOpen;UltimateBattle.Config.isOpen()&&i&&(e||this.topGropNum()<5)?this.btnCrossbattle.includeInLayout=this.btnCrossbattle.visible=!0:this.btnCrossbattle.includeInLayout=this.btnCrossbattle.visible=!1},u.prototype.ZD78=function(){TF59.FE54(F7.A9)},u.prototype.GV12=function(){this.aCF(O6.C15,O17.A12)},u.prototype.ZV58=function(){TG84.FM16(ViewMapingIndex.CrossDuelView)},u.prototype.ZV59=function(){TG84.FM16(ViewMapingIndex.CrossTeam)},u.prototype.ZV60=function(){var t=App.CM.gtM(O6.B42);0<t.xitei&&(t.xitei-=1,t.notify()),App.CM.apF(O6.B42,I9.A19,t.nData[t.xitei])},u.prototype.GR32=function(){TG84.FM16(2503)},u.prototype.ZN68=function(){var t=App.CM.gtM(O6.B99),e=App.CM.gtM(O6.C20);t.fightSceneType==I4.A8&&e.ZM12()?this.gpTopBtn.top=-150:this.gpTopBtn.top=-70},u.prototype.ZV61=function(){App.CM.apF(O6.B89,L11.A81,!0)},u.prototype.ZG46=function(){App.CM.apF(O6.A43,UltimateBattle.Const.OPEN)},u.prototype.close=function(){this.click.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.clickUnfold,this),this.tabChart.removeEventListener(eui.UIEvent.CHANGE,this.ZR36,this),this.tabChart.removeEventListener(eui.ItemTapEvent.ITEM_TAP,this.ZV63,this),this.tabChart.addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.ZR35,this),this.inputChat.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickInput,this),this.btnFriend.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.ZR39,this),this.btnSend.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickSend,this),this.btnEmoji.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickEmoji,this),this.grpPrivateChat.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.ZI20,this),this.btnSearch.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.ZV48,this),this.ret.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickInput,this),this.btnMail.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.GV12,this),this.btnRedPacket.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.ZD78,this),this.btnDati.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.openAnsView,this),this.btnXitie.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.ZV60,this),this.btnMaster.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.GR32,this),this.btnLegion.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.ZV61,this),this.btnCrossbattle.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.ZG46,this),this.btnCrossDuel.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.ZV58,this),this.btnCrossTeam.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.ZV59,this),this.btnMayDay.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.ZV56,this),this.btnAuthorize.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.ZK65,this),this.btnTeamHandler=null,this.tabOldIndex=null,App.K16.remove(this.ZR38,this),egret.Tween.removeTweens(this),egret.Tween.removeTweens(this.chartGroup),this.ZK66()},u.prototype.addToParent=function(){s.prototype.addToParent.call(this),this.setVisible(!0)},u.prototype.tryClose=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return this.setVisible(!1),!1},u.prototype.setInputText=function(t){this.inputChat.text=t||""},u.prototype.topGropNum=function(){for(var t=0,e=0;e<this.gpBtn.$children.length;e++){var i=this.gpBtn.getChildAt(e);i&&i.visible&&(t+=1)}return t},u.prototype.uBM=function(t){for(var e=this,i=[],s=1;s<arguments.length;s++)i[s-1]=arguments[s];var o=i&&0<i.length?i[0]:"";if(t instanceof TG65&&this.ZG47(t),t instanceof UltimateBattle.Model&&this.ZD77(t),t instanceof TG30&&this.ZE99(),t instanceof THH6&&this.ZV57(t),t instanceof TE56&&this.ZN64(t),t instanceof TA60&&this.ZG43(t),t instanceof TE70&&this.ZG44(t),t instanceof TE76&&this.ZG45(t),t instanceof TG10&&this.ZE85(t),t instanceof TG12){this.ZV65();var r=App.CM.gtM(O6.B24);this.ZG44(r)}if(t instanceof TF45&&this.ZR34(t),t instanceof TG23&&this.ZN65(t),t instanceof Library.Model&&this.ZG48(),t instanceof TG93)switch(o){case P4.U49:this.inputChat.text="";break;default:App.DelayOptManager.ZE59(this,function(){e.ZI18(t)})}else if(t instanceof TF80){switch(i&&0<i.length?i[0]:""){case P4.N89:this.ZD73(t)}}else if(t instanceof TF84)this.ZD61(t),this.ZN68();else if(t instanceof THH2)this.ZI19(t);else if(t instanceof TG20||t instanceof THH18||t instanceof TG91){if(t instanceof TG20){switch(o){case P4.M43:case P4.C99:case P4.O54:this.ZN68();break;case P4.W65:this.ZV62()}this.ZN66(t)}this.ZG48()}else if(t instanceof TG51){var n=App.CM.gtM(O6.C13);switch(o){case P4.X32:App.DelayOptManager.ZE59(this,function(){switch(e.tabChart.selectedIndex){case 0:e.viewStack.selectedIndex=P9.A14;break;case 1:e.viewStack.selectedIndex=P9.A13}TG95.curTabIndex=e.viewStack.selectedIndex,e.ZI18(n)});break;case P4.X34:this.ZV62()}}else if(t instanceof TE64){var a=App.CM.gtM(O6.C13);switch(o){case P4.T80:App.DelayOptManager.ZE59(this,function(){switch(e.tabChart.selectedIndex){case 0:e.viewStack.selectedIndex=P9.A9;break;case 1:e.viewStack.selectedIndex=P9.A3}TG95.curTabIndex=e.viewStack.selectedIndex,e.ZI18(a)});break;case P4.T82:this.ZV62()}}if(t instanceof TE73){var h=App.CM.gtM(O6.C13);switch(o){case P4.T98:App.DelayOptManager.ZE59(this,function(){switch(e.tabChart.selectedIndex){case 0:e.viewStack.selectedIndex=P9.A11;break;case 1:e.viewStack.selectedIndex=P9.A5}TG95.curTabIndex=e.viewStack.selectedIndex,e.ZI18(h),e.ZG48()});break;case P4.U3:this.ZV62(),this.crossFishWorld.removeChildren(),this.crossFishAll.removeChildren()}}if(t instanceof TF89&&this.ZN67(t),t instanceof TD92){var p=App.CM.gtM(O6.C13);switch(o){case P4.K67:App.DelayOptManager.ZE59(this,function(){switch(e.tabChart.selectedIndex){case 0:e.viewStack.selectedIndex=P9.A6;break;case 1:e.viewStack.selectedIndex=P9.A1}TG95.curTabIndex=e.viewStack.selectedIndex,e.ZI18(p),e.ZG48()});break;case P4.K69:this.ZV62(),this.crossFishWorld.removeChildren(),this.crossFishAll.removeChildren()}}if(t instanceof Boatrace.Model){var l=App.CM.gtM(O6.C13);o==P4.S52?App.DelayOptManager.ZE59(this,function(){switch(e.tabChart.selectedIndex){case 0:e.viewStack.selectedIndex=P9.A12;break;case 1:e.viewStack.selectedIndex=P9.A7}TG95.curTabIndex=e.viewStack.selectedIndex,e.ZI18(l),e.ZG48()}):o==P4.S56&&(this.ZV62(),this.boatraceWorld.removeChildren(),this.boatraceAll.removeChildren())}if(t instanceof TD36&&this.ZG48(),t instanceof TD88){this.setCampChan();var c=App.CM.gtM(O6.C13);o==P4.L35?egret.Tween.get(this).wait(100).call(function(){switch(e.tabChart.selectedIndex){case 0:e.viewStack.selectedIndex=P9.A8;break;case 1:e.viewStack.selectedIndex=P9.A2}TG95.curTabIndex=e.viewStack.selectedIndex,e.ZI18(c),e.ZG48()}):o==P4.S73&&(this.ZV62(),this.crossCliffWorld.removeChildren(),this.crossCliffAll.removeChildren())}this.hideGroup()&&(this.gpTopBtn.visible=!1)},u.prototype.ZV62=function(){var t=this,e=App.CM.gtM(O6.C13);TG95.curTabIndex=P9.A19,App.DelayOptManager.ZE59(this,function(){t.viewStack.selectedIndex=t.tabChart.selectedIndex=P9.A19,t.chartGroup.height=u.minHeig,t.ZI18(e),t.allSc.validateNow(),t.all.validateNow()})},u.prototype.ZG47=function(t){t.isSpFighting&&t.fightType!=P15.A3?this.gpTopBtn.visible=!1:this.gpTopBtn.visible=!this.hideGroup()},u.prototype.ZE85=function(t){if(!t.s||0==t.s||5<=this.topGropNum())this.btnDati.includeInLayout=this.btnDati.visible=!1;else{this.btnDati.includeInLayout=this.btnDati.visible=!0;var e=t.s;if(1==e){var i=P6.getTime(!0)-t.lastRefreshTime;this.answerCd=t.cd-i;var s=P6.FJ11(1e3*this.answerCd,3);0<this.answerCd&&!this.cutCdTimer&&(this.cutCdTimer=App.K16.doTimer(1e3,this.answerCd,this.answerCdCut,this)),this.answerCd<=0&&this.ZK66(),this.btnDati.updateMoreLb(s,!0)}else 2!=e&&3!=e||this.btnDati.updateMoreLb(O3.tr(4509,t.qn),!0)}},u.prototype.answerCdCut=function(){this.answerCd--;var t=P6.FJ11(1e3*this.answerCd,3);this.btnDati.updateMoreLb(t,!0)},u.prototype.ZK66=function(){this.cutCdTimer&&App.K16.rBH(this.cutCdTimer),this.cutCdTimer=null,this.answerCd=null},u.prototype.openAnsView=function(){var t=App.CM.gtM(O6.B82).avatarInfo.l,e=parseInt(TF78.gIV("openLv"));if(t<e){var i=K18.init.commonDesc1.value;P18.sDP(M18.format(i,[e]))}else App.VM.open(O7.G44)},u.prototype.ZD61=function(t){this.currStepId&&t.ZJ29(this.currStepId)?(this.currStepId=null,TG68.FL78()):TG68.FD9(this,N4.chat_send_btn,!1)},u.prototype.ZI18=function(t,e){void 0===e&&(e=!1);var i,s=this.viewStack.selectedIndex,o=[],r=App.CM.gtM(O6.C6),n=App.CM.gtM(O6.B16),a=App.CM.gtM(O6.B28),h=App.CM.gtM(O6.A99),p=TD90.model,l=App.CM.gtM(O6.B53);switch(s){case P9.A13:o=r.chatWordDatacms;break;case P9.A14:o=r.chatAllDatacms;break;case P9.A3:o=n.chatWordDatacms;break;case P9.A9:o=n.chatAllDatacms;break;case P9.A5:o=a.chatWordDatacms;break;case P9.A11:o=a.chatAllDatacms;break;case P9.A1:o=h.chatWordDatacms;break;case P9.A6:o=h.chatAllDatacms;break;case P9.A7:o=l.chatWordDatacms;break;case P9.A12:o=l.chatAllDatacms;break;case P9.A18:o=p.chatCampDatacms;break;case P9.A2:o=p.chatWordDatacms;break;case P9.A8:o=p.chatAllDatacms;break;case P9.A12:o=l.chatAllDatacms;break;default:o=t.getChatDatas(s)}switch(s){case P9.A16:i=this.worldSc,this.world;break;case P9.A17:i=this.partySc,this.party;break;case P9.A19:i=this.allSc,this.all;break;case P9.A13:i=this.climbWorldSc,this.climbWorld;break;case P9.A14:i=this.climbAllSc,this.climbAll;break;case P9.A3:i=this.crossBossWorldSc,this.crossBossWorld;break;case P9.A9:i=this.crossBossAllSc,this.crossBossAll;break;case P9.A5:i=this.crossFishWorldSc,this.crossFishWorld;break;case P9.A11:i=this.crossFishAllSc,this.crossFishAll;break;case P9.A1:i=this.crossFieldWorldSc,this.crossFieldWorld;break;case P9.A6:i=this.crossFieldAllSc,this.crossFieldAll;break;case P9.A18:i=this.campSc,this.campAll;break;case P9.A8:i=this.crossCliffAllSc,this.crossCliffAll;break;case P9.A2:i=this.crossCliffWorldSc,this.crossCliffWorld;break;case P9.A12:i=this.boatraceAllSc,this.boatraceAll;break;case P9.A7:i=this.boatraceWorldSc,this.boatraceWorld}if(o&&i.updateMsgs(o,s==P9.A19,e),s==P9.A19){var c=App.VM.gOV(O7.G54);c&&c.addAllScData()}(e||t.isMySendMsg)&&(t.isMySendMsg=!1,i.ZR31()),this.ZB33(t)},u.prototype.ZK67=function(t){},u.prototype.ZK68=function(){this.chartGroup.height==u.minHeig&&this.clickUnfold()},u.prototype.ZB33=function(t){switch(t.ZE97()){case 1:this.grpPrivateChat.visible=!0,this.imgPrivateChatRed.visible=!1;break;case 2:this.grpPrivateChat.visible=!0,this.imgPrivateChatRed.visible=!0;break;default:this.grpPrivateChat.visible=!1}},u.prototype.ZR35=function(){this.tabOldIndex=this.tabChart.selectedIndex},u.prototype.ZR36=function(t){var e=this;void 0===t&&(t=!1);var i=App.CM.gtM(O6.C6),s=App.CM.gtM(O6.B16),o=App.CM.gtM(O6.B28),r=App.CM.gtM(O6.A99),n=TD90.model,a=App.CM.gtM(O6.B53);if(this.tabChart.selectedIndex==P9.A16&&i.isTower)this.viewStack.selectedIndex=P9.A13;else if(this.tabChart.selectedIndex==P9.A19&&i.isTower)this.viewStack.selectedIndex=P9.A14;else if(this.tabChart.selectedIndex==P9.A16&&s.isTower)this.viewStack.selectedIndex=P9.A3;else if(this.tabChart.selectedIndex==P9.A19&&s.isTower)this.viewStack.selectedIndex=P9.A9;else if(this.tabChart.selectedIndex==P9.A16&&o.isTower)this.viewStack.selectedIndex=P9.A5;else if(this.tabChart.selectedIndex==P9.A19&&o.isTower)this.viewStack.selectedIndex=P9.A11;else if(this.tabChart.selectedIndex==P9.A16&&r.isTower)this.viewStack.selectedIndex=P9.A1;else if(this.tabChart.selectedIndex==P9.A19&&r.isTower)this.viewStack.selectedIndex=P9.A6;else if(this.tabChart.selectedIndex==P9.A16&&a.inMap)this.viewStack.selectedIndex=P9.A7;else if(this.tabChart.selectedIndex==P9.A19&&a.inMap)this.viewStack.selectedIndex=P9.A12;else if(this.tabChart.selectedIndex==P9.A19&&n.isTower)this.viewStack.selectedIndex=P9.A8;else if(this.tabChart.selectedIndex==P9.A16&&n.isTower)this.viewStack.selectedIndex=P9.A2;else{var h=void 0;switch(this.tabChart.selectedItem.type){case"all":h=0,i.isTower&&(h=P9.A14),s.isTower&&(h=P9.A9),o.isTower&&(h=P9.A11),this.viewStack.selectedIndex=h;break;case"camp":this.viewStack.selectedIndex=P9.A18;break;case"world":h=1,i.isTower&&(h=P9.A13),s.isTower&&(h=P9.A3),o.isTower&&(h=P9.A5),this.viewStack.selectedIndex=h;break;case"legion":var p=L4.gIV("unlockLevel");if(App.CM.gtM(O6.B82).avatarInfo.l<p){var l=K18.init.commonDesc1.value;return P18.sDP(M18.format(l,[p])),void App.DelayOptManager.ZE59(this,function(){var t=2<e.viewStack.selectedIndex?e.tabOldIndex:e.viewStack.selectedIndex;e.tabChart.selectedIndex=t})}var c=App.CM.gtM(O6.B89);if(!c.myLegion||!c.myLegion.isJoinLegion())return P18.sDP(O3.tr(4510)),App.CM.apF(O6.B89,L11.B60),void App.DelayOptManager.ZE59(this,function(){var t=2<e.viewStack.selectedIndex?e.tabOldIndex:e.viewStack.selectedIndex;e.tabChart.selectedIndex=t});this.viewStack.selectedIndex=2;break;default:this.viewStack.selectedIndex=0}}var u=this.setIdx();this.inputChat.maxChars=this.baseDatas[u].maxchar;var d=App.CM.gtM(O6.C13);this.ZI18(d,!0),TG95.curTabIndex=this.viewStack.selectedIndex},u.prototype.ZV63=function(){1==this.tabChart.dataProvider.length&&this.clickUnfold()},u.prototype.ZN69=function(t){var e=this,i=this.viewStack.selectedChild;if(i){var s=i.viewport.contentHeight-i.height-i.viewport.scrollV;i.offsetY=Math.max(s,0),i.stopAnimation()}var o=this.chartGroup.height,r=t-o,n=egret.Tween.get({}).to({},300,function(t){return e.chartGroup.height=Math.floor(o+t*r)});return n.call(function(){e.chartGroup.height=t,i&&App.K16.doFrame(1,1,function(){return i.offsetY=void 0},e)}),n},u.prototype.clickUnfold=function(){var t=this;this.click.enabled=!1,this.click.bgStr=this.chartGroup.height==u.minHeig?"v1_btn_sq_lt_png":"v1_btn_zk_lt_png";var e=this.chartGroup.height==u.minHeig?u.maxHeig:u.minHeig,i=App.CM.gtM(O6.B99),s=App.VM.gOV(O7.I86);i.fightSceneType==I4.A8&&s?this.gpTopBtn.top=-150:this.gpTopBtn.top=-70,this.ZN69(e).call(function(){t.click.enabled=!0,egret.Tween.removeTweens(t.chartGroup),t.ZN70()}),this.updateState()},u.prototype.ZN70=function(){this.ZC96();App.CM.gtM(O6.C20);var t=App.CM.gtM(O6.B99);if((!t.isFighting||t.fightType==P15.A3)&&t.fightSceneType==I4.A8){App.VM.gOV(O7.I76);if(!App.VM.isOpen(O7.G82))if("v1_btn_zk_lt_png"===this.click.bgStr)App.VM.isOpen(O7.D18)||App.CM.apF(O6.B64,J18.A34);else{var e=P7.FJ17();App.VM.isOpen(O7.D18)&&!e&&App.CM.apF(O6.B64,J18.A31)}}},u.prototype.updateState=function(){var t=P7.FJ17(),e=App.VM.gOV(O7.I86);e&&(this.chartGroup.height==u.minHeig?e.ZJ30(490):t?e.ZJ30(240):e.ZJ30(360));var i=App.VM.gOV(O7.I61);i&&(this.chartGroup.height==u.minHeig?i.ZL37(490):t?i.ZL37(240):i.ZL37(360)),App.VM.gOV(O7.HH30)&&this.chartGroup.height;var s=App.VM.gOV(O7.F66);s&&(this.chartGroup.height==u.minHeig?s.ZR53(490):t?s.ZR53(240):s.ZR53(360));var o=App.VM.gOV(O7.C35);o&&(this.chartGroup.height==u.minHeig?o.ZR53(490):t?o.ZR53(240):o.ZR53(360));var r=App.VM.gOV(O7.F13);r&&(this.chartGroup.height==u.minHeig?r.ZR53(490):t?r.ZR53(240):r.ZR53(360));var n=App.VM.gOV(O7.C36);n&&(this.chartGroup.height==u.minHeig?n.ZR53(490):t?n.ZR53(240):n.ZR53(360));var a=App.VM.gOV(O7.B67);a&&(this.chartGroup.height==u.minHeig?a.ZR53(490):t?a.ZR53(240):a.ZR53(360));var h=App.VM.gOV(O7.C2);h&&(this.chartGroup.height==u.minHeig?h.ZR53(490):t?h.ZR53(240):h.ZR53(360));var p=App.VM.gOV(O7.C24);p&&(this.chartGroup.height==u.minHeig?p.ZR53(490):t?p.ZR53(240):p.ZR53(360));var l=App.VM.gOV(O7.SurvivalUI);l&&(this.chartGroup.height==u.minHeig?l.ZR53(490):t?l.ZR53(240):l.ZR53(360));var c=App.VM.gOV(O7.F33);c&&(this.chartGroup.height==u.minHeig?c.ZK41(460):c.ZK41(725))},u.prototype.ZC96=function(){var t=this.tabChart.selectedItem.type,e=TD90.model;if("v1_btn_zk_lt_png"===this.click.bgStr)this.ZR36();else{switch(this.tabChart.dataProvider=this.tabCollection2,t){case"all":this.tabChart.selectedIndex=0;break;case"world":this.tabChart.selectedIndex=1;break;case"legion":this.tabChart.selectedIndex=2;break;default:this.tabChart.selectedIndex=0}if(e.isOpen)switch(t){case"camp":this.tabChart.selectedIndex=2;break;case"legion":this.tabChart.selectedIndex=3}this.ZR36()}},u.prototype.ZE99=function(){var t=App.CM.gtM(O6.B84);this.btnFriend.imgNew.visible=0<t.redPoint+TF83.FL35()+TG73.FL35()},u.prototype.ZD73=function(t,e){var i=this;if(void 0===e&&(e=!1),this.hideGroup())this.gpTopBtn.visible=!1;else if(this.gpTopBtn.visible=!0,App.CM.gtM(O6.B99).isSpFighting)this.btnSearch.includeInLayout=this.btnSearch.visible=!1;else{var s=parseInt(J15.FI6("visitLv"));if(App.CM.gtM(O6.B82).avatarInfo.l<s)this.btnSearch.includeInLayout=this.btnSearch.visible=!1;else{this.isRefreshSearchCd&&App.K16.remove(this.ZR38,this),this.isRefreshSearchCd=!0,this.searchCd=t.getSearchCd();var o=J15.FC82(t.chData.o);if(!o)return App.K16.remove(this.ZR38,this),void(this.btnSearch.includeInLayout=this.btnSearch.visible=!1);if(0==o.visitid)return this.btnSearch.includeInLayout=this.btnSearch.visible=!1,void App.K16.remove(this.ZR38,this);var r=function(){i.ZR38(),App.K16.doTimer(1e3,i.searchCd,i.ZR38,i)};e?App.K16.doTimer(1e4,1,function(){},this,r,this):r()}}},u.prototype.hideGroup=function(){var t=App.CM.gtM(O6.C6),e=App.CM.gtM(O6.B16),i=App.CM.gtM(O6.B99),s=App.CM.gtM(O6.B28),o=App.CM.gtM(O6.A99);return TD90.model.isTower||o.isTower||t.isTower||e.isTower||s.isTower||i.isSpFighting&&i.fightType!=P15.A3||i.fightSceneType==I4.A2||i.fightSceneType==I4.A7||i.fightSceneType==I4.survival},u.prototype.ZI19=function(t){if(App.CM.gtM(O6.B99).isSpFighting)this.btnSearch.includeInLayout=this.btnSearch.visible=!1,this.isRefreshSearchCd&&App.K16.remove(this.ZR38,this);else{var e=App.CM.gtM(O6.B64);this.ZD73(e)}},u.prototype.ZG48=function(){if(this.hideGroup())this.gpTopBtn.visible=this.btnTeamGrp.includeInLayout=this.btnTeamGrp.visible=!1;else{var t=!(this.gpTopBtn.visible=!0),e=this.topGropNum();this.ZN71()?e<5||e<=5&&this.btnTeamGrp.visible?(this.btnTeamGrp.includeInLayout=this.btnTeamGrp.visible=!0,this.btnTeamHandler=function(){App.CM.apF(O6.B89,L11.B41)}):t=!0:this.ZR37()?e<5||e<=5&&this.btnTeamGrp.visible?(this.btnTeamGrp.includeInLayout=this.btnTeamGrp.visible=!0,this.btnTeamHandler=function(){App.CM.apF(O6.C23,O13.A38)}):t=!0:this.ZK69()?e<5||e<=5&&this.btnTeamGrp.visible?(this.btnTeamGrp.includeInLayout=this.btnTeamGrp.visible=!0,this.btnTeamHandler=function(){App.CM.apF(O6.B78,Library.Const.OPEN_TOWER_INFO_VIEW)}):t=!0:this.ZV64()?e<5||e<=5&&this.btnTeamGrp.visible?(this.btnTeamGrp.includeInLayout=this.btnTeamGrp.visible=!0,this.btnTeamHandler=function(){var t=THH25.getTeam();if(t){var e=t.bossId,i=N17.menghuo[e].chapter,s=e%100-1;App.CM.apF(O6.C21,O9.A25,i,null,s)}}):t=!0:this.ZD79()&&(e<5||e<=5&&this.btnTeamGrp.visible)?(this.btnTeamGrp.includeInLayout=this.btnTeamGrp.visible=!0,this.btnTeamHandler=function(){App.CM.apF(O6.A95,F3.A6)}):t=!0,t&&(this.btnTeamGrp.includeInLayout=this.btnTeamGrp.visible=!1,this.lbTeamTime.text=null,this.btnTeamHandler=null)}},u.prototype.ZR37=function(){var t=App.CM.gtM(O6.C23);if(t.teamData){if(!App.VM.isOpen(O7.HH99)&&!t.isFight)return t.challTime!==parseInt(N19.init.autoBegin.value)&&(this.lbTeamTime.text=t.challTime?t.challTime+"":null),!0;this.lbTeamTime.text=null}return!1},u.prototype.ZN71=function(){var t=App.CM.gtM(O6.B89);if(t.dragonTeamMsg&&t.dragonTeamMsg.myTeam){if(!App.VM.isOpen(O7.G2))return t.autoFight&&0<t.autoFightCd?this.lbTeamTime.text=t.autoFightCd?t.autoFightCd+"":null:this.lbTeamTime.text=null,!0;this.lbTeamTime.text=null}return!1},u.prototype.ZD79=function(){var t=App.CM.gtM(O6.A95);if(t.team){var e=0;return t.FL44&&t.timeAutoChallenge&&(e=t.autoChallengeTime-P6.getTime(!0)),this.lbTeamTime.text=0<e?e+"":null,!0}return this.lbTeamTime.text=null,!1},u.prototype.ZV64=function(){var t=App.CM.gtM(O6.C21);return THH25.getTeam()&&!App.VM.isOpen(O7.C49)?(App.CM.apF(O6.C21,O9.A79)&&(this.lbTeamTime.text=0<t.cd?t.cd+"":null),!0):(this.lbTeamTime.text=null,!1)},u.prototype.ZK69=function(){var t=App.CM.gtM(O6.B78);return t.timeAutoChanllenge&&t.team&&0<t.team.cd?this.lbTeamTime.text=t.autoChallengeCountdown+"":this.lbTeamTime.text=null,t.isInTeam},u.prototype.ZV65=function(){var t=App.CM.gtM(O6.B82),e=this.setIdx(),i=this.baseDatas[e];t.avatarInfo.l<i.needlevel?(this.ret.touchEnabled=!0,this.ret.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickInput,this)):(this.ret.touchEnabled=!1,this.ret.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickInput,this))},u.prototype.setIdx=function(){var t=this.viewStack.selectedIndex;return t=0==t?1:t},u.prototype.onClickInput=function(){var t=App.CM.gtM(O6.B82),e=this.setIdx(),i=this.baseDatas[e];t.avatarInfo.l<i.needlevel?this.apF(O12.A19,e):P7.FL26()},u.prototype.ZR38=function(){this.searchCd--;this.btnSearch.visible;this.searchCd<=0&&this.topGropNum()<5?this.btnSearch.includeInLayout=this.btnSearch.visible=!0:this.btnSearch.includeInLayout=this.btnSearch.visible=!1},u.prototype.ZR39=function(){App.VM.open(O7.I66)},u.prototype.onClickEmoji=function(){var t=App.CM.gtM(O6.B82),e=this.setIdx(),i=this.baseDatas[e];t.avatarInfo.l<i.needlevel?P18.sDP(O3.tr(4511,i.needlevel,i.describe)):this.apF(O12.A29,this.inputChat,i)},u.prototype.onClickSend=function(){var t=1,e=this.setIdx(),i=App.CM.gtM(O6.B82),s=this.baseDatas[e],o=App.CM.gtM(O6.C20),r=App.CM.gtM(O6.B97),n=o.ZM12();if(null!=n&&parseInt(n.fingerId)==N4.chat_send_btn&&1!=n.nFinish);else{if(i.avatarInfo.l<s.needlevel)return P18.sDP(O3.tr(4511,s.needlevel,s.describe)),void this.apF(O12.A19,e);t=0}var a=(new Date).getTime();if(a-this.sendTimes[e]<s.needtime)P18.sDP(O3.tr(4512,Math.ceil((s.needtime-a+this.sendTimes[e])/1e3)));else{var h=this.inputChat.text;if(0!=h.length)if(h!=this.sendCnts[e])if(h.length>s.maxchar)P18.sDP(O3.tr(4515,s.maxchar));else{this.sendTimes[e]=a,this.sendCnts[e]=h;App.CM.gtM(O6.C6),App.CM.gtM(O6.B16);e==P9.A14&&(e=P9.A13),e==P9.A9&&(e=P9.A3),e==P9.A11&&(e=P9.A5),e==P9.A6&&(e=P9.A1),e==P9.A12&&(e=P9.A7),e==P9.A8&&(e=P9.A2);var p={channelId:e,content:h,convenient:t};"awy"==platform.name?p.platform=1:r.uname&&-1!=r.uname.indexOf("h5_yuewen_")&&(p.platform=2),this.apF(O12.A22,p)}else P18.sDP(O3.tr(4514));else P18.sDP(O3.tr(4513))}},u.prototype.ZI20=function(){var t=App.CM.gtM(O6.C13).ZN61();this.apF(O12.A26,t)},u.prototype.ZV48=function(){App.CM.apF(O6.B64,J18.A36)},u.prototype.onClickTeam=function(){this.btnTeamHandler&&this.btnTeamHandler()},u.prototype.ZV66=function(){TG84.FM16(1506)},u.prototype.addAllScData=function(t){if(0==this.viewStack.selectedIndex)this.allSc.addRollMsg(t);else{var e=App.VM.gOV(O7.G54);e&&(e.cacheStr=t)}},u.prototype.allScBottom=function(){this.allSc.validateNow(),this.allSc.viewport.scrollV=this.allSc.viewport.contentHeight-this.allSc.viewport.height,this.allSc.ZG42()},u.minHeig=240,u.maxHeig=370,u}(BaseEuiView);__reflect(ChatView.prototype,"ChatView");var PageView=function(e){function r(){var t=e.call(this)||this;return t.scrollType=D4.A1,t.curPage=0,t.curChangePage=0,t.sd=1,t.curUseViews={},t.grpContent=new eui.Group,t.grpContent.x=0,t.grpContent.y=0,t.addChild(t.grpContent),t.mask=new egret.Rectangle(0,0,0,0),t}return __extends(r,e),Object.defineProperty(r.prototype,"delegate",{get:function(){return this._delegate},set:function(t){this._delegate=t,this.ZK72()},enumerable:!0,configurable:!0}),r.prototype.destroy=function(){this.ZG50(),this.ZR40(),this.scrollType=D4.A1,this.curPage=0,this.curChangePage=0,this.tl=null,this.sp=null,this.sd=1,this.beginTouch=!1,this.needRecordPos=!1,this.delegate=null,this.delGetPageCount=null,this.delGetPageType=null,this.delGetPageView=null,this.delPageChange=null,this.delPageChanged=null},r.prototype.ZR40=function(){var t,e;if(egret.Tween.removeTweens(this),egret.Tween.removeTweens(this.grpContent),this.curUseViews)for(t=Object.keys(this.curUseViews);0<t.length;){e=parseInt(t.pop()),(i=this.curUseViews[e]).v.pause&&i.v.pause instanceof Function&&i.v.pause(),i.v.parent&&i.v.parent.removeChild(i.v),delete this.curUseViews[e]}if(this.reuseViews)for(t=Object.keys(this.reuseViews);0<t.length;){var i;e=parseInt(t.pop()),(i=this.reuseViews[e]).parent&&i.parent.removeChild(i),delete this.reuseViews[e]}},r.prototype.ZK70=function(t,e){switch(t){case F5.A1:this.delGetPageCount=e;break;case F5.A2:this.delGetPageType=e;break;case F5.A5:this.delGetPageView=e;break;case F5.A4:this.delPageChange=e;break;case F5.A3:this.delPageChanged=e}},r.prototype.notifyChange=function(){egret.Tween.get(this).wait(100).call(this.doChange,this)},r.prototype.doChange=function(){egret.Tween.removeTweens(this),0!=this.width&&0!=this.height||this.validateNow(),0!=this.mask.width&&0!=this.mask.height||(this.mask.width=this.width,this.mask.height=this.height);var t=0,e=0;switch(this.scrollType){case D4.A1:t=this.width*this.getViewCount(),e=this.height;break;case D4.A2:t=this.width,e=this.height*this.getViewCount()}var i=!1;this.grpContent.width!=t&&(this.grpContent.width=t,i=!0),this.grpContent.height!=e&&(this.grpContent.height=e,i=!0),i&&this.grpContent.validateNow(),this.ZI21(1)},r.prototype.getViewCount=function(){return this.delGetPageCount?this.delGetPageCount.call(this.delegate):0},r.prototype.getViewType=function(t){return this.delGetPageType?this.delGetPageType.call(this.delegate):0},r.prototype.getView=function(t){var e,i=this.getViewType(t);return this.reuseViews&&this.reuseViews[i]&&0<this.reuseViews[i].length&&(e=this.reuseViews[i].pop()).resume&&e.resume instanceof Function&&e.resume(),this.delGetPageView?e=this.delGetPageView.call(this.delegate,e,t):console.log("ERROR: PageView must register F5.A5"),e&&null==e.parent&&this.grpContent.addChild(e),{v:e,t:i}},r.prototype.checkPage=function(t){if(t<0)return 0;var e=this.getViewCount()-1;return e<t?e:t},r.prototype.ZI21=function(t){var e=this.ZC35();this.ZK71(e-1),this.ZK71(e),this.ZK71(e+1),this.ZK71(e+2*t),this.ZR41(e,t)},r.prototype.ZK71=function(t){if(t=this.checkPage(t),!this.curUseViews[t]){var e=this.getView(t);if(e&&e.v){var i=0,s=0;switch(this.scrollType){case D4.A1:i=this.width*t;break;case D4.A2:s=this.height*t}e.v.x=i,e.v.y=s,this.curUseViews[t]=e}}},r.prototype.ZR41=function(t,e){if(null!=this.curUseViews)for(var i,s=Object.keys(this.curUseViews);0<s.length;)if(!(t-2<(i=parseInt(s.pop()))&&i<t+2||i==t+2*e)){var o=this.curUseViews[i];o.v.pause&&o.v.pause instanceof Function&&o.v.pause(),o.v.parent&&o.v.parent.removeChild(o.v),delete this.curUseViews[i],null==this.reuseViews&&(this.reuseViews={}),null==this.reuseViews[o.t]&&(this.reuseViews[o.t]=[]),this.reuseViews[o.t].push(o.v)}},r.prototype.ZG49=function(){if(this.delPageChange){var t=this.ZC35();t=this.checkPage(t),this.curChangePage!=t&&(this.curChangePage=t,this.delPageChange.call(this.delegate,t))}},r.prototype.ZK72=function(){this.addEventListener(egret.Event.REMOVED_FROM_STAGE,this.destroy,this),this.addEventListener(egret.TouchEvent.TOUCH_MOVE,this.onTouchM,this),this.addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.onTouchB,this),this.addEventListener(egret.TouchEvent.TOUCH_END,this.onTouchE,this),this.addEventListener(egret.TouchEvent.TOUCH_CANCEL,this.onTouchC,this),this.addEventListener(egret.TouchEvent.TOUCH_RELEASE_OUTSIDE,this.onTouchC,this)},r.prototype.ZG50=function(){this.removeEventListener(egret.Event.REMOVED_FROM_STAGE,this.destroy,this),this.removeEventListener(egret.TouchEvent.TOUCH_MOVE,this.onTouchM,this),this.removeEventListener(egret.TouchEvent.TOUCH_BEGIN,this.onTouchB,this),this.removeEventListener(egret.TouchEvent.TOUCH_END,this.onTouchE,this),this.removeEventListener(egret.TouchEvent.TOUCH_CANCEL,this.onTouchC,this),this.removeEventListener(egret.TouchEvent.TOUCH_RELEASE_OUTSIDE,this.onTouchC,this)},r.prototype.ZK73=function(t){null==this.el&&(this.el=new egret.Point),this.el.x=t.stageX,this.el.y=t.stageY,this.tl=egret.getTimer()},r.prototype.ZI22=function(){return egret.getTimer()-this.tl},r.prototype.onTouchM=function(t){if(null==this.el||this.needRecordPos)return this.needRecordPos=!1,void this.ZK73(t);var e=0,i=0,s=0;switch(this.scrollType){case D4.A1:s=-(e=t.stageX-this.el.x);break;case D4.A2:s=-(i=t.stageY-this.el.y)}this.grpContent.x+=e,this.grpContent.y+=i,0!=s&&(this.sd=s/Math.abs(s),this.sp=Math.abs(s)/this.ZI22(),this.beginTouch&&(this.beginTouch=!1,this.ZI21(this.sd)),this.ZG49()),this.ZK73(t)},r.prototype.onTouchB=function(){this.ZK74(),this.beginTouch=!0,this.needRecordPos=!0},r.prototype.onTouchE=function(t){this.rolling(),this.beginTouch=!1,this.needRecordPos=!1},r.prototype.onTouchC=function(t){this.rolling(),this.beginTouch=!1,this.needRecordPos=!1},r.prototype.ZC35=function(){var t=0;switch(this.scrollType){case D4.A1:t=Math.floor((-this.grpContent.x+this.width/2)/this.width);break;case D4.A2:t=Math.floor((-this.grpContent.y+this.height/2)/this.height)}return t},r.prototype.rolling=function(){var t=0;t=.7<this.sp?1==this.sd?this.curPage+1:this.curPage-1:this.ZC35(),this.rollToPage(t)},r.prototype.rollToPage=function(t){var e=this;t=this.checkPage(t);var i=0,s=0,o=0;switch(this.scrollType){case D4.A1:i=-this.width*t,o=Math.abs(i-this.grpContent.x)/r.spScrollToPage;break;case D4.A2:s=-this.height*t,o=Math.abs(s-this.grpContent.y)/r.spScrollToPage}egret.Tween.get(this.grpContent).to({x:i,y:s},o,egret.Ease.quintOut).call(function(){egret.Tween.removeTweens(e.grpContent),e.grpContent.x=i,e.grpContent.y=s,e.curPage=t,e.ZI21(e.sd),e.ZG49(),e.delPageChanged&&e.delPageChanged.call(e.delegate,e.curPage)}),this.ZG49()},r.prototype.ZK74=function(){egret.Tween.removeTweens(this.grpContent)},r.spScrollToPage=4,r}(eui.Group);__reflect(PageView.prototype,"PageView"),function(t){var e=function(){};(chat||(chat={})).ChatBase=e,__reflect(e.prototype,"chat.ChatBase")}();var N18=function(){function h(){}return h.FK35=function(t){h.init=t.chat_init,h.base=t.chat_base,h.quicksend=t.chat_quicksend,h.initEmojis(t.chat_emoj),h.notice=t.chat_notice,h.use_notice=t.chat_use_notice,h.auto_notice=t.chat_auto_notice,h.chat_quality=t.chat_quality,h.imgjump=t.chat_imgjump},h.initEmojis=function(t){for(var e in h.emoji={},t){var i=t[e];h.emoji[i.name_chi]=i}},h.FA38=function(t){return h.init[t].value},h.FI6=function(t){return h.init[t]?h.init[t].value:null},h.FI7=function(){return h.base},h.FC83=function(t){return h.base[t]},h.FC84=function(){return h.quicksend},h.FL47=function(){return h.emoji},h.FI8=function(t){if(P7.FM14()||"japan"===platform.name){if("lv"==t)return{id:0,orid:0,imgname:"v1_img_vda_png",name_chi:"lv"}}else if("等级"==t)return{id:0,orid:0,imgname:"v1_img_vda_png",name_chi:"等级"};return h.emoji[t]},h.FL48=function(t){switch(Math.floor(t/1e3)){case 1:return h.notice[t+""];case 2:return h.use_notice[t+""];case 3:return h.auto_notice[t+""]}return null},h.FF97=function(t){return h.chat_quality[t]},h.FF98=function(t){var e=App.CM.gtM(O6.B82).avatarInfo.l,i=[];for(var s in h.auto_notice){var o=h.auto_notice[s],r=o.noticelv,n=Number(r.split(",")[0]),a=Number(r.split(",")[1]);null!=t&&t==o.id||n<=e&&e<=a&&i.push(o.id)}return i},h.FA39=function(t){var e=void 0;for(var i in h.notice)h.notice[i].id==t&&(e=h.notice[i].rollnumber);return e},h}();__reflect(N18.prototype,"N18");var chat,ChatData=function(){function t(t){this.initData(t)}return t.prototype.initData=function(t){t&&(this.nId=t.aid,this.sName=t.sn,this.nLv=t.lv,this.nPower=t.sc,this.lastLoginTime=t.st,this.nUnReadInfo=t.nr,this.bOnlineState=t.ol,this.bSendGiftState=t.on,this.bStarState=t.mf,this.bGetGiftState=t.get,this.fere=t.fere,this.gender=t.gender,this.country=t.c,this.ic=t.ic)},t}();__reflect(ChatData.prototype,"ChatData"),function(t){var e=function(){};(chat||(chat={})).ChatMsg=e,__reflect(e.prototype,"chat.ChatMsg")}(),function(t){var e=function(){this.nr=0};(chat||(chat={})).ChatPlayer=e,__reflect(e.prototype,"chat.ChatPlayer")}(),function(t){var e=function(){};(chat||(chat={})).ChatSendMsg=e,__reflect(e.prototype,"chat.ChatSendMsg")}(),function(t){var e=function(){};(chat||(chat={})).WebNoticeVo=e,__reflect(e.prototype,"chat.WebNoticeVo")}();var I5=function(){function t(){}return t.FK35=function(t){for(var e in this.init=t.children_init,this.base=t.children_base,this.skin=t.children_skin,this.skinLv=t.children_skinlv,this.skill=t.children_skill,this.skillLv=t.children_skilllv,this.toy=t.children_toy,this.toyLv=t.children_toylv,this.serch=t.children_serch,this.polishing=t.children_polishing,this.skillGroup=this.FG95(),this.skinGroup=this.FI9(),this.serchGroup=this.FG96(),this.fulingData=this.FG97(),this.polishingItem=this.FE59("polishingItem"),this.setSkill(),this.toy){this.resolveItemId=parseInt(this.toy[e].reform.split(";")[0]);break}TF35.strs=[O3.tr(7729),O3.tr(7730),O3.tr(7731)]},t.FE59=function(t){var e;return this.init?e=parseInt(this.init[t].value):e},t.gIV=function(t){var e="";return this.init?e=this.init[t].value:e},t.setSkill=function(){if(this.skillMain={},this.skillMinor=[],this.skill)for(var t in this.skill)1==this.skill[t].type?this.skillMain=this.skill[t]:this.skillMinor.push(this.skill[t])},t.FG95=function(){var t={};if(!this.skillLv)return t;for(var e in this.skillLv)t[this.skillLv[e].skillid]||(t[this.skillLv[e].skillid]={}),t[this.skillLv[e].skillid][this.skillLv[e].skilllv]=this.skillLv[e];return t},t.FI9=function(){var t={};if(!this.skinLv)return t;for(var e in this.skinLv)t[this.skinLv[e].skinid]||(t[this.skinLv[e].skinid]={}),t[this.skinLv[e].skinid][this.skinLv[e].level]=this.skinLv[e];return t},t.FG96=function(){var t={};if(!this.serch)return t;for(var e in this.serch)t[this.serch[e].ranklv]||(t[this.serch[e].ranklv]={}),t[this.serch[e].ranklv][this.serch[e].part]=this.serch[e];return t},t.FG97=function(){var t={};if(!this.polishing)return t;for(var e in this.polishing)t[this.polishing[e].lv]=this.polishing[e];return t},t}();__reflect(I5.prototype,"I5");var I10=function(){function t(){}return t.A67=10001,t.A68=10002,t.A49=10003,t.A50=10004,t.A65=10005,t.A66=10006,t.A3=10007,t.A4=10008,t.A51=10009,t.A52=10010,t.A34=10011,t.A35=10012,t.A61=10013,t.A62=10014,t.A5=10015,t.A6=10016,t.A20=10017,t.A21=10018,t.A36=10019,t.A37=10020,t.A53=10021,t.A54=10022,t.A10=10023,t.A11=10024,t.A12=10025,t.A13=10026,t.A55=20001,t.A38=20002,t.A2=20003,t.A1=20004,t.A22=20005,t.A14=20006,t.A56=20007,t.A39=20008,t.A40=20009,t.A23=20010,t.A24=30001,t.A25=30002,t.A41=30003,t.A42=30004,t.A26=30005,t.A27=30006,t.A43=30007,t.A44=30008,t.A28=30009,t.A29=30010,t.A45=30011,t.A46=30012,t.A7=30013,t.A8=30014,t.A57=30015,t.A58=30016,t.A59=30017,t.A60=30018,t.A47=30019,t.A48=30020,t.A63=30021,t.A64=30022,t.A30=40001,t.A15=40002,t.A31=40003,t.A16=40004,t.A32=40005,t.A17=40006,t.A33=40007,t.A18=40008,t.A19=40009,t.A9=40010,t}();__reflect(I10.prototype,"I10");var TC21=function(i){function t(){var t=i.call(this)||this,e=new TF33(t);return e.aLV(O7.E71),e.aLV(O7.E40),e.aLV(O7.C70),e.aLV(O7.B91),e.aLV(O7.I64),e.aLV(O7.I39),e.aLV(O7.E48),e.aLV(O7.F30),e.aLV(O7.F45),e.aLV(O7.D77),e.aLV(O7.D76),e.aLV(O7.D75),e.aLV(O7.D74),e.aLV(O7.C93),e.aLV(O7.I39),App.VM.register(O7.A7,"ChildrenMasterSkillTipsView",t,K17.UI_Popup),App.VM.register(O7.E71,"ChildrenMainView",t,K17.UI_Main),App.VM.register(O7.D45,"ChildrenRenameView",t,K17.UI_Main_TOP),t.proxy=new TF34(t),t.rgF(I10.A55,t.GF58,t),t.rgF(I10.A38,t.GE41,t),t.rgF(I10.A2,t.GA12,t),t.rgF(I10.A1,t.GA9,t),t.rgF(I10.A22,t.GD42,t),t.rgF(I10.A14,t.GC50,t),t.rgF(I10.A56,t.GF59,t),t.rgF(I10.A39,t.GE42,t),t.rgF(I10.A40,t.GE43,t),t.rgF(I10.A23,t.GD43,t),App.VM.register(O7.D75,"ChildrenDoorLHView",t,K17.UI_Main_TOP),t.rgF(I10.A31,t.GD45,t),t.rgF(I10.A16,t.GC52,t),App.VM.register(O7.D74,"ChildrenDoorJSView",t,K17.UI_Main_TOP),t.rgF(I10.A30,t.GD44,t),t.rgF(I10.A15,t.GC51,t),App.VM.register(O7.D76,"ChildrenDoorFJView",t,K17.UI_Main_TOP),t.rgF(I10.A33,t.GD46,t),t.rgF(I10.A18,t.GC53,t),App.VM.register(O7.D77,"ChildrenDoorCQView",t,K17.UI_Main_TOP),t.rgF(I10.A32,t.GD47,t),t.rgF(I10.A17,t.GC54,t),App.VM.register(O7.C93,"ChildrenDoorComView",t,K17.UI_Main_TOP),t.rgF(I10.A19,t.GC55,t),t.rgF(I10.A9,t.GB67,t),t.rgF(I10.A67,t.loadReq,t),t.rgF(I10.A68,t.loadRes,t),t.rgF(I10.A49,t.GX31,t),t.rgF(I10.A50,t.GX32,t),t.rgF(I10.A65,t.breakReq,t),t.rgF(I10.A66,t.breakRes,t),t.rgF(I10.A3,t.GS52,t),t.rgF(I10.A4,t.GS53,t),t.rgF(I10.A51,t.GY24,t),t.rgF(I10.A52,t.GY25,t),t.rgF(I10.A34,t.GX33,t),t.rgF(I10.A35,t.GX34,t),t.rgF(I10.A61,t.GY18,t),t.rgF(I10.A62,t.GY19,t),t.rgF(I10.A5,t.GS54,t),t.rgF(I10.A6,t.GS55,t),t.rgF(I10.A20,t.equipReq,t),t.rgF(I10.A21,t.equipRes,t),t.rgF(I10.A36,t.uplvReq,t),t.rgF(I10.A37,t.uplvRes,t),t.rgF(I10.A53,t.mixReq,t),t.rgF(I10.A54,t.mixRes,t),t.rgF(I10.A10,t.GY26,t),t.rgF(I10.A11,t.GY27,t),t.rgF(I10.A12,t.GY28,t),t.rgF(I10.A13,t.GY29,t),t.rgF(I10.A24,t.GV85,t),t.rgF(I10.A25,t.GV86,t),t.rgF(I10.A41,t.GX35,t),t.rgF(I10.A42,t.GX36,t),t.rgF(I10.A26,t.GV87,t),t.rgF(I10.A27,t.GV88,t),t.rgF(I10.A43,t.GY30,t),t.rgF(I10.A44,t.GY31,t),t.rgF(I10.A28,t.GV89,t),t.rgF(I10.A29,t.GV90,t),t.rgF(I10.A45,t.GX37,t),t.rgF(I10.A46,t.GX38,t),t.rgF(I10.A7,t.GS56,t),t.rgF(I10.A8,t.GS57,t),t.rgF(I10.A57,t.GY32,t),t.rgF(I10.A58,t.GY33,t),t.rgF(I10.A47,t.GX39,t),t.rgF(I10.A48,t.GX40,t),t.rgF(I10.A59,t.GY34,t),t.rgF(I10.A60,t.GY35,t),t}return __extends(t,i),t.prototype.loadReq=function(){this.gtM();return this.proxy.loadReq()},t.prototype.loadRes=function(t){if(200==t.head.state){var e=this.gtM();e.setData(t.body),e.notify(P4.V4)}else P18.sDP(K18.getTips(t.head.state))},t.prototype.GX31=function(t){this.gtM();this.proxy.GX31(t)},t.prototype.GX32=function(t){if(200==t.head.state){var e=this.gtM();e.setData(t.body),e.notify(P4.Q69)}else{238==t.head.state&&App.VM.gOV(O7.C70).setCanExpend()}},t.prototype.breakReq=function(){this.gtM();this.proxy.breakReq()},t.prototype.breakRes=function(t){if(200==t.head.state){var e=this.gtM();e.setData(t.body),e.notify(P4.T96)}else P18.sDP(K18.getTips(t.head.state))},t.prototype.GS52=function(t){this.gtM();this.proxy.GS52(t)},t.prototype.GS53=function(t){if(200==t.head.state){var e=this.gtM();e.setData(t.body),e.notify(P4.I80)}else P18.sDP(K18.getTips(t.head.state))},t.prototype.GY24=function(t){this.gtM();this.proxy.GY24(t)},t.prototype.GY25=function(t){if(200==t.head.state){var e=this.gtM();e.setData(t.body),e.notify(P4.Q71)}else P18.sDP(K18.getTips(t.head.state))},t.prototype.GX33=function(t){this.gtM();this.proxy.GX33(t)},t.prototype.GX34=function(t){if(200==t.head.state){var e=this.gtM();e.setData(t.body),e.notify(P4.O81)}else P18.sDP(K18.getTips(t.head.state))},t.prototype.GY18=function(t){this.gtM();this.proxy.GY18(t)},t.prototype.GY19=function(t){if(200==t.head.state){P18.sDP(O3.tr(1418));var e=this.gtM();e.setData(t.body),e.notify(P4.S38)}else P18.sDP(K18.getTips(t.head.state))},t.prototype.GS54=function(t){this.gtM();this.proxy.GS54(t)},t.prototype.GS55=function(t){if(200==t.head.state){var e=this.gtM();e.setData(t.body),e.notify(P4.I82)}else P18.sDP(K18.getTips(t.head.state))},t.prototype.equipReq=function(t){this.gtM();this.proxy.equipReq(t)},t.prototype.equipRes=function(t){if(200==t.head.state){var e=this.gtM();e.setData(t.body),e.notify(P4.M66)}else P18.sDP(K18.getTips(t.head.state))},t.prototype.uplvReq=function(){this.gtM();this.proxy.uplvReq()},t.prototype.uplvRes=function(t){if(200==t.head.state){var e=this.gtM();e.setData(t.body),e.notify(P4.O83)}else P18.sDP(K18.getTips(t.head.state))},t.prototype.mixReq=function(t){this.gtM();this.proxy.mixReq(t)},t.prototype.mixRes=function(t){if(200==t.head.state){var e=this.gtM();e.setData(t.body),e.notify(P4.Q73)}else P18.sDP(K18.getTips(t.head.state))},t.prototype.GY26=function(t){this.gtM();this.proxy.GY26(t)},t.prototype.GY27=function(t){if(200==t.head.state){var e=this.gtM();e.setData(t.body),e.notify(P4.K55)}else P18.sDP(K18.getTips(t.head.state))},t.prototype.GY28=function(t){this.gtM();this.proxy.GY28(t)},t.prototype.GY29=function(t){if(200==t.head.state){var e=this.gtM();e.setData(t.body),e.notify(P4.K57)}else P18.sDP(K18.getTips(t.head.state))},t.prototype.GV85=function(){return this.proxy.GV85()},t.prototype.GV86=function(t){if(200==t.head.state){var e=this.gtM();e.setDoorData(t.body),e.notify(I10.A25)}else P18.sDP(K18.getTips(t.head.state))},t.prototype.GX35=function(t){this.proxy.GX35()},t.prototype.GX36=function(t){if(200==t.head.state){var e=[{k:t.body.ob,v:1}];P5.sIs(e);var i=this.gtM();i.setDoorData(t.body),i.notify(I10.A42)}else P18.sDP(K18.getTips(t.head.state))},t.prototype.GV87=function(t){this.proxy.GV87()},t.prototype.GV88=function(t){if(200==t.head.state){P5.sIs(t.body.ob);var e=this.gtM();e.setDoorData(t.body),e.notify(I10.A27)}else P18.sDP(K18.getTips(t.head.state))},t.prototype.GY30=function(t){this.proxy.doorYiJReq()},t.prototype.GY31=function(t){if(200==t.head.state){var e=this.gtM();e.setDoorData(t.body),e.notify(I10.A44)}else P18.sDP(K18.getTips(t.head.state))},t.prototype.GV89=function(t){this.proxy.GV89(t)},t.prototype.GV90=function(t){if(200==t.head.state){var e=this.gtM();e.setDoorData(t.body),e.notify(I10.A29)}else P18.sDP(K18.getTips(t.head.state))},t.prototype.GX37=function(t){this.proxy.GX37(t)},t.prototype.GX38=function(t){if(200==t.head.state){var e=this.gtM();e.setDoorData(t.body),e.notify(I10.A46)}else P18.sDP(K18.getTips(t.head.state))},t.prototype.GS56=function(t,e){this.proxy.GS56(t,e)},t.prototype.GS57=function(t){if(200==t.head.state){var e=this.gtM();e.setDoorData(t.body),e.notify(I10.A8)}else P18.sDP(K18.getTips(t.head.state))},t.prototype.GY32=function(t){this.proxy.GY32(t)},t.prototype.GY33=function(t){if(200==t.head.state){var e=this.gtM();e.setDoorData(t.body),e.notify(I10.A58)}else P18.sDP(K18.getTips(t.head.state))},t.prototype.GY34=function(t){this.proxy.GY34(t)},t.prototype.GY35=function(t){if(200==t.head.state){P5.sIs([t.body.ob]);var e=this.gtM();e.setDoorData(t.body),e.notify(I10.A60)}else P18.sDP(K18.getTips(t.head.state))},t.prototype.GX39=function(t){this.proxy.GX39(t)},t.prototype.GX40=function(t){if(200==t.head.state){var e=[{k:t.body.tid,v:1}];P5.sIs(e);var i=this.gtM();i.setDoorData(t.body),i.notify(I10.A48)}else P18.sDP(K18.getTips(t.head.state))},t.prototype.GF58=function(t,e){App.VM.open(O7.E71,t,e)},t.prototype.GE41=function(){App.VM.close(O7.E71)},t.prototype.GA12=function(t){App.VM.open(O7.A7,t)},t.prototype.GA9=function(){App.VM.close(O7.A7)},t.prototype.GD42=function(){App.VM.open(O7.D45)},t.prototype.GC50=function(){App.VM.close(O7.D45)},t.prototype.GF59=function(){App.VM.open(O7.F30)},t.prototype.GE42=function(){App.VM.close(O7.F30)},t.prototype.GE43=function(){App.VM.open(O7.E48)},t.prototype.GD43=function(){App.VM.close(O7.E48)},t.prototype.GD44=function(t){App.VM.open(O7.D74,t)},t.prototype.GC51=function(){App.VM.close(O7.D74)},t.prototype.GD45=function(t){App.VM.open(O7.D75,t)},t.prototype.GC52=function(){App.VM.close(O7.D75)},t.prototype.GD46=function(){App.VM.open(O7.D76)},t.prototype.GC53=function(){App.VM.close(O7.D76)},t.prototype.GD47=function(){App.VM.open(O7.D77)},t.prototype.GC54=function(){App.VM.close(O7.D77)},t.prototype.GC55=function(){App.VM.open(O7.C93)},t.prototype.GB67=function(){App.VM.close(O7.C93)},t}(TE11);__reflect(TC21.prototype,"TC21");var ChildrenData=function(){function t(t){this.lv=0,this.power=0,this.isOwn=!1,this.initDataByDB(t)}return t.prototype.ZK75=function(t){this.lv=t.lv,this.isOwn=!0,this.setPower()},t.prototype.initDataByDB=function(t){for(var e in this.id=t.id,this.name=t.name,this.gainway=t.gainway,this.itemid=t.itemid,this.showid=t.showid,this.attr=M18.FL28(t.attr,";",":"),this.attr)this.attr[e][2]=0},t.prototype.setPower=function(){var t=I5.skin[this.id];for(var e in this.power=M10.gAG(t.attr)*this.lv,this.attr)this.attr[e][2]=this.lv},t.prototype.skinUpgrade=function(t){this.lv=t.lv,this.setPower()},t.prototype.FL35=function(){return 1<=N12.giC(this.itemid)?1:0},t}();__reflect(ChildrenData.prototype,"ChildrenData");var TC22=function(){function n(){}return n.FK35=function(t){this.init=t.door_init,this.door=t.door_door,this.doorlv=t.door_doorlv,this.destiny=t.door_destiny,this.destinylv=t.door_destinylv,this.savvy=t.door_savvy,this.acquire=t.door_acquire,this.newDoorLv=n.FI10(this.doorlv),this.newDestinyLv=n.FI10(this.destinylv),this.newDoorTQ=n.FG1()},n.FE59=function(t){var e;return this.init?e=this.init[t].value:e},n.FJ42=function(t){return this.door[t]?this.door[t]:this.destiny[t]},n.FG98=function(t,e){return this.newDoorLv[t][e]},n.FF99=function(t){return this.destiny[t]},n.FD76=function(t,e){return this.newDestinyLv[t][e]},n.FI10=function(t){for(var e={},i=1;i<9;i++)e[i]=[];for(var s in t){var o=t[s].doortype,r=t[s].lv;e[o][r]=t[s]}return e},n.FJ43=function(t,e){return this.newDoorTQ[t][e]},n.FG1=function(){for(var t={},e=1;e<9;e++)t[e]=[];var i=this.door,s=this.destiny;for(var o in i){var r=i[o].doortype,n=i[o].quality;t[r][n]=i[o]}for(var o in s){r=s[o].doortype,n=s[o].quality;t[r][n]=s[o]}return t},n.FI11=function(t){return this.savvy[t]},n.FG99=function(t){return this.acquire[t]},n.FJ44=function(t){var e=O4.getLv(),i=parseInt(n.FE59("doorLv"));if(e<i){var s=K18.init.commonDesc1.value;return t&&P18.sDP(M18.format(s,[i])),!1}var o=App.CM.gtM(O6.B43),r=parseInt(n.FE59("doordate"));return!(o.serOpenDay+1<r)||(t&&P18.sDP(O3.tr(5055,r)),!1)},n.hongse=6,n.huangse=7,n}();__reflect(TC22.prototype,"TC22");var TF33=function(i){function t(t){var e=i.call(this,t)||this;return e.isLvUpGoldAlert=!0,e.guids={},e.nuids={},e}return __extends(t,i),t.prototype.setData=function(t){if(t.ch&&(null!=this.ChildrenUpgradeData?this.ChildrenUpgradeData.updateData(t.ch):this.ChildrenUpgradeData=new ChildrenVo(t.ch)),t.skn){for(var e in this.ChildrenBookData=[],t.skn)this.ChildrenBookData[e]=new ChildSkinVo(t.skn[e]);this.ZL27(t.skn)}if(t.skl){for(var e in this.ChildrenAddSkillData=[],t.skl)I5.skillMain.skillid==t.skl[e].skillId?this.ChildrenMainSkillData=new ChildSkillVo(t.skl[e]):this.ChildrenAddSkillData[e]=new ChildSkillVo(t.skl[e]);this.ZR4()}if(t.ob&&P5.sIs(t.ob),t.sn&&this.childrenUpgrade(t.sn),t.sk&&this.skillUpgrade(t.sk),this.classLv=null!=t.rid?t.rid:this.classLv,t.tys)for(var e in this.packEquipData||(this.packEquipData={}),t.tys){var i=t.tys[e].uid;this.packEquipData[i]?this.packEquipData[i].updateData(t.tys[e]):this.packEquipData[i]=new ChildToyVo(t.tys[e])}if(t.cells){for(var e in this.cellsData={},t.cells)this.cellsData[t.cells[e].pos]=new ChildToyCellVo(t.cells[e]);TF35.FG4()}if(t.tc&&(this.cellsData[t.tc.pos]=new ChildToyCellVo(t.tc),TF35.FG4()),t.rmtys)for(var e in t.rmtys)this.packEquipData[t.rmtys[e]]=null,delete this.packEquipData[t.rmtys[e]]},t.prototype.setDoorData=function(t){null!=this.ChildrenDoorData?this.ChildrenDoorData.updateData(t):this.ChildrenDoorData=new ChildDoorVo(t)},t.prototype.ZR4=function(){this.ChildrenSkillData=TF35.FC85(P7.copyTab(this.ChildrenAddSkillData))},Object.defineProperty(t.prototype,"skinViewId",{get:function(){return this._skinViewId},set:function(t){this._skinViewId=t,this.notify("changeSkin")},enumerable:!0,configurable:!0}),t.prototype.initChlidrenDataDb=function(){var t=I5.skin;for(var e in this.skinList={},t){I5.gIV("initSkin");var i=t[e],s=new ChildrenData(i);this.skinList[i.id]=s}},t.prototype.ZL27=function(t){if(this.skinList||this.initChlidrenDataDb(),t&&0<t.length)for(var e=0;e<t.length;e++){var i=t[e],s=this.skinList[i.tid];s&&s.ZK75(i)}},t.prototype.childrenUpgrade=function(t){var e=this.skinList[t.tid];for(var i in e&&e.skinUpgrade(t),this.ChildrenBookData){var s=this.ChildrenBookData[i];if(s.tid==t.tid){s.updateData(t);break}}},t.prototype.skillUpgrade=function(t){for(var e in this.ChildrenAddSkillData)this.ChildrenAddSkillData[e].skillId==t.skillId&&(this.ChildrenAddSkillData[e].lv=t.lv);this.ZR4()},t.prototype.getEntranceRed=function(){return!!this.getRedNum1()||(!!this.getRedNum2()||(!!this.getRedNum3()||(!!this.getRedNum4()||!!this.getRedNum5())))},t.prototype.getRedNum1=function(){var t=0;this.isUpgrade=!1,this.isBreach=!1;var e=App.CM.gtM(O6.B82),i=e.avatarInfo.l;if(!(this.ChildrenUpgradeData&&parseInt(I5.gIV("unlockLevel"))<=i))return t;var s=this.ChildrenUpgradeData.lv,o=I5.base[s+""];if(this.isBest=-1==o.exp,-1!=o.exp)if(o.exp==this.ChildrenUpgradeData.exp&&o.item){this.isBreach=!0;for(var r=M18.FL28(o.item,";",":"),n=0,a=0;a<r.length;a++){N12.giC(parseInt(r[a][0]))>=parseInt(r[a][1])&&n++}t=n==r.length?1:0}else{this.isUpgrade=!0;var h,p=o.cash<=e.avatarInfo.co;h=o.elixir;var l=N12.giC(parseInt(I5.gIV("advancedItem")))>=h;p&&l&&(t=1)}return t},t.prototype.getRedNum2=function(){var t=0;for(var e in this.ChildrenAddSkillData){if(this.ChildrenAddSkillData[e].canUp()){t=1;break}}return t},t.prototype.getRedNum3=function(){var t=0;for(var e in this.skinList){if(1==(t=this.skinList[e].FL35()))break}return t},t.prototype.getRedNum4=function(){var t=0;for(var e in this.cellsData)if(this.cellsData[e].getRed()){t+=1;break}return t},t.prototype.getRedNum5=function(){if(this.ChildrenDoorData.isCanGet())return 1;if(this.ChildrenDoorData.isHaveComMg())return 1;for(var t in this.ChildrenDoorData.cl)if(this.ChildrenDoorData.isCanUp(t)||this.ChildrenDoorData.isCanBUp(t))return 1;return 0},t.prototype.setComVo=function(t){this.ChildrenDoorData.xzL=t,this.notify(I10.A64)},t.prototype.notify=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];i.prototype.notifyView.apply(this,[this].concat(t))},t}(TG79);__reflect(TF33.prototype,"TF33");var TF34=function(e){function t(t){return e.call(this,t)||this}return __extends(t,e),t.prototype.loadReq=function(){var s=this;return new Promise(function(e,t){var i={type:P4.V3,body:{}};s.rSMO(P4.V4,function(t){s.apF(I10.A68,t),e("加载灵童系统信息完成")},s),s.sSM(i)})},t.prototype.GX31=function(t){var e={type:P4.Q68,body:{type:t}};this.rSMO(P4.Q69,this.GX32,this),this.sSM(e)},t.prototype.GX32=function(t){this.apF(I10.A50,t)},t.prototype.breakReq=function(){var t={type:P4.T95,body:{}};this.rSMO(P4.T96,this.breakRes,this),this.sSM(t)},t.prototype.breakRes=function(t){this.apF(I10.A66,t)},t.prototype.GS52=function(t){var e={type:P4.I79,body:{skinId:t}};this.rSMO(P4.I80,this.GS53,this),this.sSM(e)},t.prototype.GS53=function(t){this.apF(I10.A4,t)},t.prototype.GY24=function(t){var e={type:P4.Q70,body:{skinId:t}};this.rSMO(P4.Q71,this.GY25,this),this.sSM(e)},t.prototype.GY25=function(t){this.apF(I10.A52,t)},t.prototype.GX33=function(t){var e={type:P4.O80,body:{skillId:t}};this.rSMO(P4.O81,this.GX34,this),this.sSM(e)},t.prototype.GX34=function(t){this.apF(I10.A35,t)},t.prototype.GY18=function(t){var e={type:P4.S37,body:{name:t}};this.rSMO(P4.S38,this.GY19,this),this.sSM(e)},t.prototype.GY19=function(t){this.apF(I10.A62,t)},t.prototype.GS54=function(t){var e={type:P4.I81,body:{skinId:t}};this.rSMO(P4.I82,this.GS55,this),this.sSM(e)},t.prototype.GS55=function(t){this.apF(I10.A6,t)},t.prototype.equipReq=function(t){var e={type:P4.M65,body:{pos:t}};this.rSMO(P4.M66,this.equipRes,this),this.sSM(e)},t.prototype.equipRes=function(t){this.apF(I10.A21,t)},t.prototype.uplvReq=function(){var t={type:P4.O82,body:{}};this.rSMO(P4.O83,this.uplvRes,this),this.sSM(t)},t.prototype.uplvRes=function(t){this.apF(I10.A37,t)},t.prototype.mixReq=function(t){var e={type:P4.Q72,body:{tid:t}};this.rSMO(P4.Q73,this.mixRes,this),this.sSM(e)},t.prototype.mixRes=function(t){this.apF(I10.A54,t)},t.prototype.GY26=function(t){var e={type:P4.K54,body:{pos:t}};this.rSMO(P4.K55,this.GY27,this),this.sSM(e)},t.prototype.GY27=function(t){this.apF(I10.A11,t)},t.prototype.GY28=function(t){var e={type:P4.K56,body:{uids:t}};this.rSMO(P4.K57,this.GY29,this),this.sSM(e)},t.prototype.GY29=function(t){this.apF(I10.A13,t)},t.prototype.GV85=function(){var s=this;return new Promise(function(e,t){var i={type:P4.N24,body:{}};s.rSMO(P4.N25,function(t){s.apF(I10.A25,t),e("加载灵童奇门系统信息完成")},s),s.sSM(i)})},t.prototype.GV86=function(t){this.apF(I10.A25,t)},t.prototype.GX35=function(){var t={type:P4.E54,body:{}};this.rSMO(P4.E55,this.GX36,this),this.sSM(t)},t.prototype.GX36=function(t){this.apF(I10.A42,t)},t.prototype.GV87=function(){var t={type:P4.HH52,body:{}};this.rSMO(P4.HH53,this.GV88,this),this.sSM(t)},t.prototype.GV88=function(t){this.apF(I10.A27,t)},t.prototype.doorYiJReq=function(){var t={type:P4.N26,body:{}};this.rSMO(P4.N27,this.doorYiJRes,this),this.sSM(t)},t.prototype.doorYiJRes=function(t){this.apF(I10.A44,t)},t.prototype.GV89=function(t){var e={type:P4.L42,body:{pos:t}};this.rSMO(P4.L43,this.GV90,this),this.sSM(e)},t.prototype.GV90=function(t){this.apF(I10.A29,t)},t.prototype.GX37=function(t){var e={type:P4.C57,body:{pos:t}};this.rSMO(P4.C58,this.GX38,this),this.sSM(e)},t.prototype.GX38=function(t){this.apF(I10.A46,t)},t.prototype.GS56=function(t,e){var i={type:P4.E56,body:{pos:t,type:e}};this.rSMO(P4.E57,this.GS57,this),this.sSM(i)},t.prototype.GS57=function(t){this.apF(I10.A8,t)},t.prototype.GY32=function(t){var e={type:P4.F85,body:{pos:t}};this.rSMO(P4.F86,this.GY33,this),this.sSM(e)},t.prototype.GY33=function(t){this.apF(I10.A58,t)},t.prototype.GY34=function(t){var e={type:P4.F87,body:{ids:t}};this.rSMO(P4.F88,this.GY35,this),this.sSM(e)},t.prototype.GY35=function(t){this.apF(I10.A60,t)},t.prototype.GX39=function(t){var e={type:P4.J34,body:{tid:t.tid,cid1:t.cid1,cid2:t.cid2}};this.rSMO(P4.J35,this.GX40,this),this.sSM(e)},t.prototype.GX40=function(t){this.apF(I10.A48,t)},t}(TG80);__reflect(TF34.prototype,"TF34");var TF35=function(){function t(){}return t.FJ45=function(){return this.FL49()+this.FL50()+this.FL51()+this.FG2()+this.FL54()},t.FG2=function(){return this.FL52()+this.FL53()},t.getCount=function(t){I5.base[t+""]&&(this.count+=1,this.getCount(t-1))},t.FL49=function(){var t=App.CM.gtM(O6.B49).ChildrenUpgradeData,e=t.lv,i=t.exp,s=0,o={101:0,102:0,103:0};this.count=0,this.getCount(e);for(var r=0;r<this.count;r++){var n=I5.base[e-r+""].baseattr,a=I5.base[e-r+""].addattr,h=e-r,p=N13.getData(n),l=N13.getData(a);if(0==r)for(var c in l)for(var u in l[c]){s+=parseInt(l[c][u])*i/I5.init.advancedExp.value*K18.attribute[u].power;var d=parseInt(l[c][u])*i/I5.init.advancedExp.value;0<=(v=L3.strs.indexOf(K18.attribute[u].name))&&(o["10"+(v+1)]+=d)}else for(var c in l)for(var u in l[c]){s+=parseInt(l[c][u])*I5.base[h+""].exp/I5.init.advancedExp.value*K18.attribute[u].power,0<=(v=L3.strs.indexOf(K18.attribute[u].name))&&(o["10"+(v+1)]+=parseInt(l[c][u])*I5.base[h+""].exp/I5.init.advancedExp.value)}for(var c in p)for(var u in p[c]){var v;s+=parseInt(p[c][u])*K18.attribute[u].power,0<=(v=L3.strs.indexOf(K18.attribute[u].name))&&(o["10"+(v+1)]+=parseInt(p[c][u]))}}return Math.floor(s)},t.FL50=function(){for(var t=0,e=App.CM.gtM(O6.B49).ChildrenBookData,i=0;i<e.length;i++){var s=I5.skin[e[i].tid];t+=M10.gAG(s.attr)*e[i].lv}return Math.floor(t)},t.FL51=function(){var t=0,e=App.CM.gtM(O6.B49),i=e.ChildrenAddSkillData;e.ChildrenMainSkillData;for(var s in i)for(var o=I5.skillGroup[i[s].skillId],r=1;r<=i[s].lv;r++)t+=M10.gAG(o[r].attr);return Math.floor(t)},t.FL52=function(){for(var t=0,e=App.CM.gtM(O6.B49),i=e.cellsData,s=(e.classLv,1);s<=e.classLv;s++){var o=I5.toyLv[s];t+=M10.gAG(o.attr)}for(var r in I5.serchGroup){var n=parseInt(r);if(!(e.classLv>n))break;o=I5.serchGroup[r];for(var a in o){var h=o[a].toyid,p=I5.toy[h].attr;t+=M10.gAG(p)}}for(var r in i){var l=i[r].tid;if(l){o=I5.toy[l];t+=M10.gAG(o.attr)}}return Math.floor(t)},t.FL53=function(){var t=0,e=App.CM.gtM(O6.B49).cellsData;for(var i in e){var s=e[i];if(s.lv)for(var o=1;o<=s.lv;o++)t+=M10.gAG(I5.fulingData[o].attr)}return Math.floor(t)},t.FL54=function(){var t=App.CM.gtM(O6.B49),e=0;for(var i in t.ChildrenDoorData.cl){var s=t.ChildrenDoorData.cl[i];if(s.tid){var o=TC22.FJ42(s.tid).quality,r=o==TC22.huangse?1:TC22.FE59("doorLvRat"+(Number(o)-1)),n=TC22.FG98(s.p,s.lv);if(e+=Math.ceil(M10.gAG(n.attr)*Number(r)),s.isd){var a=this.FL55(t.ChildrenDoorData.cl[i].ea),h=TC22.FD76(s.p,s.dlv).savvyattr;e+=Math.ceil(M10.gAG(a)*Number(h))}}}return e+=this.FI12(),Math.ceil(e)},t.FI12=function(){var t={n0:0,n1:0,n2:0,n3:0,n4:0},e=this.FI16(),i=this.FJ47(),s=this.FK57(),o=this.FK58(),r=this.FJ48(),n=this.FK59(),a=n.n0,h=n.n1,p=n.n2;for(var l in e)switch(Number(e[l].key)){case 230:t.n0+=a*Number(e[l].value),a*=1+Number(e[l].value);break;case 231:t.n1+=h*Number(e[l].value),h*=1+Number(e[l].value);break;case 232:t.n2+=p*Number(e[l].value),p*=1+Number(e[l].value);break;case 236:t.n3+=Number(e[l].value);break;case 237:t.n4+=Number(e[l].value)}var c=i.n0+s.n0+o.n0+r.n0+a,u=i.n1+s.n1+o.n1+r.n1+h,d=i.n0+s.n2+o.n2+r.n2+p;for(var l in e)switch(Number(e[l].key)){case 233:t.n0+=c*Number(e[l].value);break;case 234:t.n1+=u*Number(e[l].value);break;case 235:t.n2+=d*Number(e[l].value)}var v="101:"+Math.ceil(t.n0)+";102:"+Math.ceil(t.n1)+";103:"+Math.ceil(t.n2)+";236:"+t.n3+";237:"+t.n4;return M10.gAG(v)},t.FL55=function(t,e){void 0===e&&(e=1);var i="";for(var s in t)0!=i.length&&(i+=";"),i+=t[s].key+":"+Math.floor(100*Number(t[s].value)*e)/100;return i},t.FC85=function(t){var e={};for(var i in I5.skillGroup){for(var s=!1,o=0;o<t.length;o++)if(parseInt(i)==t[o].skillId){var r;s=!0,(r=new ChildrenSkill).initByDB(I5.skillGroup[i][t[o].lv]),r.initByDB(I5.skill[i]),r.ZD70(t[o].lv),e[parseInt(i)]=r;break}if(!s&&1!=I5.skill[i].type)(r=new ChildrenSkill).initByDB(I5.skillGroup[i][1]),r.initByDB(I5.skill[i]),r.ZD70(0),e[parseInt(i)]=r}return e},t.FA40=function(t,e){return I5.skillGroup[t][e].cost?I5.skillGroup[t][e].cost.split(";"):null},t.FJ46=function(t){var e=App.CM.gtM(O6.B49);for(var i in e.ChildrenSkillData){if(t==e.ChildrenSkillData[i].pos)return e.ChildrenSkillData[i]}},t.FI13=function(t){App.CM.gtM(O6.B49).nowSkillIsBest=t},t.FI14=function(t,e){return t.isOwn||e.isOwn?!t.FL35()&&!e.FL35()&&t.lv<e.lv?1:!t.isOwn&&0<t.FL35()?-1:!e.isOwn&&0<e.FL35()?1:t.isOwn?-1:1:t.FL35()!=e.FL35()?e.FL35()-t.FL35():void 0},t.FG3=function(){var t=[],e=App.CM.gtM(O6.B49);for(var i in e.skinList){var s=e.skinList[i];t.push(s)}return t},t.FI15=function(t){var e;for(var i in I5.skillLv){var s=I5.skillLv[i];if(s.skill==t){e=I5.skill[s.skillid];break}}return e},t.FC86=function(t){var e;switch(t){case 1:e="e5c7ac";break;case 2:e="75c01a";break;case 3:e="44b6fe";break;case 4:e="d234ff";break;case 5:e="ef6e0f";break;case 6:e="fb2121";break;default:e="e5c7ac"}return e},t.FJ47=function(){for(var t={n0:0,n1:0,n2:0},e=App.CM.gtM(O6.B49).ChildrenUpgradeData,i=e.lv,s=e.exp,o=0;o<i;o++){var r=I5.base[i-o+""].baseattr,n=I5.base[i-o+""].addattr,a=i-o,h=N13.getData(r),p=N13.getData(n);if(0==o)for(var l in p)for(var c in p[l]){var u=parseInt(p[l][c])*s/parseInt(I5.init.advancedExp.value);0<=(v=this.strs.indexOf(K18.attribute[c].name))&&(t["n"+v]+=u)}else for(var l in p)for(var c in p[l]){0<=(v=this.strs.indexOf(K18.attribute[c].name))&&(t["n"+v]+=parseInt(p[l][c])*I5.base[a+""].exp/parseInt(I5.init.advancedExp.value))}for(var d in h)for(var c in h[d]){var v;0<=(v=this.strs.indexOf(K18.attribute[c].name))&&(t["n"+v]+=parseInt(h[d][c]))}}return t},t.FK57=function(){var t={n0:0,n1:0,n2:0},e=App.CM.gtM(O6.B49).ChildrenAddSkillData;for(var i in e){var s=I5.skillGroup[e[i].skillId][e[i].lv],o=this.FJ49(s.attr,Number(e[i].lv));t.n0+=o.n0,t.n1+=o.n1,t.n2+=o.n2}return t},t.FK58=function(){var t={n0:0,n1:0,n2:0},e=App.CM.gtM(O6.B49),i=I5.skin;for(var s in i){var o=e.skinList[i[s].id],r=this.FJ49(i[s].attr,o.lv);t.n0+=r.n0,t.n1+=r.n1,t.n2+=r.n2}return t},t.FJ48=function(){var t={n0:0,n1:0,n2:0},e=App.CM.gtM(O6.B49),i=e.cellsData;for(var s in i){if((n=i[s]).lv)for(var o=1;o<=n.lv;o++){var r=this.FJ49(I5.fulingData[o].attr);t.n0+=r.n0,t.n1+=r.n1,t.n2+=r.n2}}for(e.classLv,o=1;o<=e.classLv;o++){var n=I5.toyLv[o];r=this.FJ49(n.attr);t.n0+=r.n0,t.n1+=r.n1,t.n2+=r.n2}for(var s in I5.serchGroup){var a=parseInt(s);if(!(e.classLv>a))break;n=I5.serchGroup[s];for(var h in n){var p=n[h].toyid,l=I5.toy[p].attr;r=this.FJ49(l);t.n0+=r.n0,t.n1+=r.n1,t.n2+=r.n2}}for(var s in i){var c=i[s].tid;if(c){n=I5.toy[c],r=this.FJ49(n.attr,n.lv);t.n0+=r.n0,t.n1+=r.n1,t.n2+=r.n2}}return t},t.FK59=function(){var t={n0:0,n1:0,n2:0},e=App.CM.gtM(O6.B49);for(var i in e.ChildrenDoorData.cl){var s=e.ChildrenDoorData.cl[i];if(s.tid){var o=TC22.FJ42(s.tid).quality,r=o==TC22.huangse?1:Number(TC22.FE59("doorLvRat"+(Number(o)-1))),n=TC22.FG98(s.p,s.lv),a=this.FJ49(n.attr,r);if(s.isd){var h=this.FL55(e.ChildrenDoorData.cl[i].ea),p=this.FJ49(h);t.n0+=p.n0,t.n1+=p.n1,t.n2+=p.n2}t.n0+=a.n0,t.n1+=a.n1,t.n2+=a.n2}}return t},t.FJ49=function(t,e){void 0===e&&(e=1);var i={n0:0,n1:0,n2:0},s=this.FL56(t);for(var o in s)switch(Number(s[o].k)){case 101:i.n0+=Number(s[o].v)*e;break;case 102:i.n1+=Number(s[o].v)*e;break;case 103:i.n2+=Number(s[o].v)*e}return i},t.FL56=function(t){var e=[];if(!t)return e;for(var i=t.split(";"),s=0;s<i.length;s++){var o=i[s].split(":"),r={k:o[0],v:o[1]};e.push(r)}return e},t.FJ50=function(){var t=[],e=App.CM.gtM(O6.B49);for(var i in e.ChildrenDoorData.cl){var s=e.ChildrenDoorData.cl[i];if(s.tid){var o=TC22.FD76(s.p,s.dlv);if(s.isd)for(var r in s.ea)if(this.isInList(s.ea[r].key,t))for(var n in t)t[n].key==s.ea[r].key&&(t[n].value+=Number(s.ea[r].value)*Number(o.savvyattr));else{var a={key:s.ea[r].key,value:Number(s.ea[r].value)*Number(o.savvyattr)};t.push(a)}}}return t},t.FJ51=function(){var t=[],e=App.CM.gtM(O6.B49);for(var i in e.ChildrenDoorData.cl){var s=e.ChildrenDoorData.cl[i];if(s.tid&&s.isd){var o=TC22.FD76(s.p,s.dlv).extraattr.split(":"),r={key:o[0],value:o[1]};t.push(r)}}return t},t.FI16=function(){var t=[],e=App.CM.gtM(O6.B49);for(var i in e.ChildrenDoorData.cl){var s=e.ChildrenDoorData.cl[i];if(s.tid&&s.isd){var o=TC22.FD76(s.p,s.dlv).extraattr,r=this.FK60(o);for(var n in r)if(this.isInList(r[n].key,t))for(var a in t)t[a].key==r[n].key&&(t[a].value+=Number(r[n].value));else{var h={key:r[n].key,value:r[n].value};t.push(h)}}}return t},t.FK60=function(t){var e=[],i=t.split(";");for(var s in i){var o=i[s].split(":"),r={key:o[0],value:o[1]};e.push(r)}return e},t.isInList=function(t,e){for(var i in e)if(e[i].key==t)return!0;return!1},t.FE79=function(t,e,i){null==this._lbRecord&&(this._lbRecord=new eui.Label),this._lbRecord.text=t,this._lbRecord.size=e,i.addChild(this._lbRecord),this._lbRecord.validateNow();var s=this._lbRecord.width,o=Math.ceil(this._lbRecord.height);return i.removeChild(this._lbRecord),{w:s,h:o}},t.FB21=function(){var t,e=[],i=App.CM.gtM(O6.B49);i.guids,i.nuids,i.ids;for(var s in i.packEquipData){var o=i.packEquipData[s];if(0==o.pos){var r=o.tidData.mix;t=!1,(-1!==i.ids.indexOf(o.tid)||i.guids[o.uid]||r&&-1!==i.ids.indexOf(r))&&(t=!0),i.nuids[o.uid]&&(t=!1),o.isGou=t,e.push(o)}}return e.sort(this.FA87),e},t.FA23=function(){var t=[],e=App.CM.gtM(O6.B49);for(var i in e.packEquipData){var s=e.packEquipData[i];0==s.pos&&t.push(s)}return t.sort(this.FA87),t},t.FA87=function(t,e){return t.tidData.order-e.tidData.order},t.FJ32=function(){for(var t={},e=App.CM.gtM(O6.B49).classLv,i=I5.toyLv[e+1],s=1;s<=e;s++){var o=I5.toyLv[s],r=THH1.FI55(o.attr);for(var n in r){var a=O4.FD72(parseInt(n)),h=parseFloat(r[n]);null==t[n]&&(t[n]={v1:0,v2:0,name:a}),t[n].v1+=h}}if(i&&i.attr){var p=THH1.FI55(i.attr);for(var n in p){var l=O4.FD72(parseInt(n));h=parseFloat(p[n]);null==t[n]&&(t[n]={v1:0,v2:0,name:l}),t[n].v2+=h}}var c=[];for(var u in t)c.push(t[u]);return c},t.FI17=function(t){var e={},i=(App.CM.gtM(O6.B49).classLv,I5.toy[t].attr),s=THH1.FI55(i);for(var o in s){var r=O4.FD72(parseInt(o)),n=parseFloat(s[o]);null==e[o]&&(e[o]={value:0,name:r}),e[o].value+=n}var a=[];for(var h in e)a.push(e[h]);return a},t.FL57=function(){var t=App.CM.gtM(O6.B49),e=t.cellsData,i=!0;if(-1==I5.toyLv[t.classLv].nextid)return!1;for(var s in e)if(!e[s].isOwn){i=!1;break}return i},t.FG4=function(){var t=App.CM.gtM(O6.B49),e=t.packEquipData,i=t.classLv,s=!1;t.ids=[];var o=t.cellsData;for(var r in o){var n=i,a=o[r];for(var h in a.isOwn||(n-=1),I5.serchGroup){var p=parseInt(h),l=I5.serchGroup[h];if(p<=n)for(var c in l)if(l[c].part==a.pos&&-1==t.ids.indexOf(l[c].toyid)){t.ids.push(l[c].toyid);break}}}for(var r in e){var u=void 0,d=(l=e[r]).tidData.mix;if(u=!1,0==l.pos&&((-1!==t.ids.indexOf(l.tid)||t.guids[l.uid]||d&&-1!==t.ids.indexOf(d))&&(u=!0),t.nuids[l.uid]&&(u=!1)),u){s=!0;break}}return s},t.FI18=function(t){var e=0,i=App.CM.gtM(O6.B49).packEquipData;for(var s in i)i[s].tid==t&&(e+=1);return e},t}();__reflect(TF35.prototype,"TF35");var ChildDoorCellVo=function(){};__reflect(ChildDoorCellVo.prototype,"ChildDoorCellVo");var ChildDoorVo=function(){function t(t){this.selectedIcon=0,this.updateData(t)}return t.prototype.updateData=function(t){this.p=null!=t.p?t.p:this.p,this.cl=null!=t.cl?t.cl:this.cl,this.bag=null!=t.bag?t.bag:this.bag,this.ob=t.ob,t.vo&&(this.vo=t.vo,this.cl[this.vo.p-1]=this.vo)},t.prototype.getMGCount=function(t){for(var e in this.bag)if(0<Number(this.bag[e].c)&&this.bag[e].tid==t)return this.bag[e].c;return 0},t.prototype.isHaveDoor=function(t){for(var e in this.cl)if(this.cl[e].tid==t)return"cl";for(var e in this.bag)if(0<Number(this.bag[e].c)&&this.bag[e].tid==t)return"bag";return null},t.prototype.getFJListD=function(){for(var t=[],e=1;e<TC22.huangse;e++)for(var i in this.bag){if(0<this.bag[i].c)TC22.FJ42(this.bag[i].tid).quality==e&&t.push(this.bag[i])}return t},t.prototype.getFJList=function(){var t=[];for(var e in this.bag){if(0<this.bag[e].c)TC22.FJ42(this.bag[e].tid).quality!=TC22.huangse&&t.push(this.bag[e])}return t},t.prototype.FK95=function(t){void 0===t&&(t=1e3);var e=this.isHaveDoor(t),i=this.getBagLByP(String(TC22.hongse));if("bag"==e)for(var s in i)i[s].tid==t&&(i[s].c=Number(i[s].c)-1);return i},t.prototype.getBagLByP=function(t){var e=[];for(var i in this.bag){if(0<this.bag[i].c)if(TC22.FJ42(this.bag[i].tid).quality==t){var s={tid:this.bag[i].tid,c:this.bag[i].c};e.push(s)}}return e},t.prototype.setItemInfo=function(t){for(var e in t){var i=t[e].tid;if(this.isHave(i)){for(var s in this.bag)if(this.bag[s].tid==i){this.bag[s]=t[e];break}}else this.bag.push(t[e])}},t.prototype.isHave=function(t){for(var e in this.bag)if(this.bag[e].tid==t)return!0;return!1},t.prototype.isCanGet=function(){for(var t in this.bag)if(0<Number(this.bag[t].c)){var e=this.bag[t].tid,i=TC22.FJ42(e),s=this.cl[i.doortype-1];if(!s.tid)return!0;var o=TC22.FJ42(s.tid);if(i.quality>o.quality)return!0}return!1},t.prototype.isCanUp=function(t){var e=this.cl[t];if(!e.tid)return!1;var i=TC22.FG98(e.p,e.lv).cost;if(-1==i)return!1;var s=TC22.FE59("doorCost");return i<=N12.giC(s)},t.prototype.isCanBUp=function(t){var e=this.cl[t];if(!e.tid)return!1;if(!e.isd)return!1;var i=TC22.FD76(e.p,e.dlv).cost;return-1!=i&&i<=App.CM.gtM(O6.B49).ChildrenDoorData.getMGCount(e.tid)},t.prototype.ZK76=function(t){if(this.selectedList||(this.selectedList=[],this.selectedIcon=0),!(300<this.selectedList.length)){this.selectedList.push(t);var e=TC22.FJ42(t);this.selectedIcon+=e.reform}},t.prototype.ZF1=function(t){if(this.selectedList&&0!=this.selectedList.length)for(var e=0;e<this.selectedList.length;e++)if(t==this.selectedList[e]){this.selectedList.splice(e,1);var i=TC22.FJ42(t);this.selectedIcon-=i.reform;break}},t.prototype.isHaveComMg=function(){var t=this.FK95(),e=this.ZR43(t);if(3<=e)return!0;if(2==e)for(var i in this.cl){var s=TC22.FJ42(this.cl[i].tid);if(s&&s.quality==TC22.hongse)return!0}return!1},t.prototype.isCanComMG=function(t){var e=this.isHaveDoor(t),i=this.FK95(),s=this.ZR43(i);if(e)if("bag"==e){if(3<=s)return!0}else if(2<=s)return!0;return!1},t.prototype.ZR43=function(t){var e=0;for(var i in t)e+=Number(t[i].c);return e},t}();__reflect(ChildDoorVo.prototype,"ChildDoorVo");var ChildrenSkill=function(){function t(){this.lv=0}return t.prototype.initByDB=function(t){for(var e in t)this[e]=t[e]},t.prototype.ZD70=function(t){null!=t&&(this.lv=t)},t.prototype.isOpen=function(){var t=App.CM.gtM(O6.B82);return this.unlock<=t.avatarInfo.l},t.prototype.canUp=function(){var t=!1;if(this.lv){var e=this.getUpCost();if(e&&e[0]){var i=e[0].split(":"),s=N12.giC(i[0]),o=parseInt(i[1]);App.CM.gtM(O6.B82);t=o<=s}}return t},t.prototype.getUpCost=function(){return TF35.FA40(this.skillid,this.lv)},t.prototype.FJ32=function(){var t=M18.FL28(this.attr,";",":");for(var e in t)t[e][2]=this.lv;return t},t.prototype.ZR44=function(){var t=I5.skillGroup[this.skillid][this.lv+1],e=[],i=0,s=0,o=0;t&&(i=t.ratio1-this.ratio1,s=t.ratio2-this.ratio2,o=t.ratio3-this.ratio3);var r=[(this.desc1+(100*this.ratio1).toFixed(0)).length,(this.desc2+(100*this.ratio2).toFixed(0)).length,(this.desc3+(100*this.ratio3).toFixed(0)).length].sort(),n=(r[r.length-1],!1);return 3==this.skillid&&(n=!0),this.desc1&&e.push({desc:this.desc1,nowNum:100*this.ratio1,nextNum:100*i}),this.desc2&&e.push({desc:this.desc2,nowNum:100*this.ratio2,nextNum:100*s}),this.desc3&&(n?e.push({desc:this.desc3,nowNum:this.ratio3,nextNum:o,boo:n}):e.push({desc:this.desc3,nowNum:100*this.ratio3,nextNum:100*o})),e},t}();__reflect(ChildrenSkill.prototype,"ChildrenSkill");var ChildrenVo=function(){function t(t){this.updateData(t)}return t.prototype.updateData=function(t){this.lv=null!=t.lv?t.lv:this.lv,this.exp=null!=t.exp?t.exp:this.exp,this.skId=null!=t.skId?t.skId:this.skId,this.name=null!=t.n?t.n:this.name},t}();__reflect(ChildrenVo.prototype,"ChildrenVo");var ChildSkillVo=function(){function t(t){this.updateData(t)}return t.prototype.updateData=function(t){this.skillId=null!=t.skillId?t.skillId:this.skillId,this.lv=null!=t.lv?t.lv:this.lv},t.prototype.canUp=function(){var t=!1;if(this.lv){var e=this.getUpCost();if(e&&e[0]){var i=e[0].split(":"),s=N12.giC(i[0]),o=parseInt(i[1]);App.CM.gtM(O6.B82);t=o<=s}}return t},t.prototype.getUpCost=function(){return TF35.FA40(this.skillId,this.lv)},t}();__reflect(ChildSkillVo.prototype,"ChildSkillVo");var ChildSkinVo=function(){function t(t){this.updateData(t)}return t.prototype.updateData=function(t){this.tid=null!=t.tid?t.tid:this.tid,this.lv=null!=t.lv?t.lv:this.lv},t}();__reflect(ChildSkinVo.prototype,"ChildSkinVo");var ChildToyCellVo=function(){function t(t){this.polishingItem=I5.FE59("polishingItem"),this.updateData(t)}return t.prototype.updateData=function(t){if(this.pos=null!=t.pos?t.pos:this.pos,this.lv=null!=t.lv?t.lv:this.lv,this.tid=null!=t.tid?t.tid:this.tid,this.isOwn=0!=this.tid,0!=this.tid)this.toyData=I5.toy[this.tid],this.needToyData=null;else if(this.toyData=null,this.needToyData=this.ZF2(),this.needToyData&&(this.isCanHe=!!this.needToyData.mixcost),this.isCanHe){var e=this.needToyData.mixcost.split(":");this.needItemID=parseInt(e[0]),this.needItemNum=parseInt(e[1])}else this.needItemID=this.needToyData.id,this.needItemNum=1;var i=I5.fulingData[this.lv+1];this.costPolishNum=i?i.cost:0},t.prototype.getCanWear=function(){var t=App.CM.gtM(O6.B49),e=t.packEquipData,i=I5.serchGroup[t.classLv],s=!1;if(i){var o=i[this.pos].toyid;for(var r in e)if(!e[r].pos&&e[r].tid==o){s=!0;break}}return s},t.prototype.getWearRed=function(){if(!this.isOwn){if(this.getCanHe())return!0;if(this.getCanWear())return!0}return!1},t.prototype.getCellAllAttr=function(){var t={},e=App.CM.gtM(O6.B49).classLv;for(var i in I5.serchGroup){var s=parseInt(i);if(s<e){var o=I5.serchGroup[i][this.pos].toyid,r=THH1.FI55(I5.toy[o].attr);for(var n in r){var a=O4.FD72(parseInt(n)),h=parseInt(r[n]);null==t[n]&&(t[n]={value:0,name:a}),t[n].value+=h}}else if(e==s){o=I5.serchGroup[i][this.pos].toyid,r=THH1.FI55(I5.toy[o].attr);for(var n in r){var p=O4.FD72(parseInt(n));h=parseInt(r[n]);null==t[n]&&(t[n]={value:0,name:p}),this.isOwn&&(t[n].value+=h)}}}var l=[];for(var i in t)t[i].value=Math.round(t[i].value),l.push(t[i]);return l},t.prototype.getCellAttr=function(){App.CM.gtM(O6.B49);var t={},e=THH1.FI55(I5.toy[this.tid].attr);for(var i in e){var s=O4.FD72(parseInt(i)),o=parseInt(e[i]);null==t[i]&&(t[i]={value:0,name:s}),t[i].value+=o}var r=[];for(var n in t)t[n].value=Math.round(t[n].value),r.push(t[n]);return r},t.prototype.getCanCellAttr=function(){var t=App.CM.gtM(O6.B49),e=I5.serchGroup[t.classLv][this.pos].toyid,i={},s=THH1.FI55(I5.toy[e].attr);for(var o in s){var r=O4.FD72(parseInt(o)),n=parseInt(s[o]);null==i[o]&&(i[o]={value:0,name:r}),i[o].value+=n}var a=[];for(var h in i)i[h].value=Math.round(i[h].value),a.push(i[h]);return a},t.prototype.ZK77=function(){return I5.toy[this.tid]},t.prototype.ZF2=function(){var t=App.CM.gtM(O6.B49),e=I5.serchGroup[t.classLv][this.pos].toyid;return I5.toy[e]},t.prototype.getCanHe=function(){return TF35.FI18(this.needItemID)>=this.needItemNum},t.prototype.getHaveEquipNum=function(){var t=App.CM.gtM(O6.B49).packEquipData,e=0;for(var i in t)t[i].pos||t[i].tid!=this.needItemID||(e+=1);return e},t.prototype.getNowFuLingAttr=function(){App.CM.gtM(O6.B49);var t={};if(0!=this.lv)for(var e=1;e<=this.lv;e++){var i=I5.fulingData[e],s=THH1.FI55(i.attr);for(var o in s){var r=O4.FD72(parseInt(o)),n=parseInt(s[o]);null==t[o]&&(t[o]={value:0,name:r}),t[o].value+=n}}else{var a=I5.fulingData[this.lv+1],h=THH1.FI55(a.attr);for(var o in h){var p=O4.FD72(parseInt(o));n=parseInt(h[o]);null==t[o]&&(t[o]={value:0,name:p})}}var l=[];for(var c in t)t[c].value=Math.round(t[c].value),l.push(t[c]);return l},t.prototype.getNextFuLingAttr=function(){App.CM.gtM(O6.B49);var t={},e=this.lv+1;if(I5.fulingData[e])for(var i=1;i<=e;i++){var s=I5.fulingData[i],o=THH1.FI55(s.attr);for(var r in o){var n=O4.FD72(parseInt(r)),a=parseInt(o[r]);null==t[r]&&(t[r]={value:0,name:n}),t[r].value+=a}}var h=[];for(var p in t)t[p].value=Math.round(t[p].value),h.push(t[p]);return h},t.prototype.getCanFuLing=function(){var t=!1;I5.fulingData[this.lv+1]&&(t=N12.giC(this.polishingItem)>=this.costPolishNum);return t},t.prototype.getRed=function(){return!!this.getWearRed()||(!!this.getCanFuLing()||!!TF35.FG4())},t}();__reflect(ChildToyCellVo.prototype,"ChildToyCellVo");var ChildToyVo=function(){function t(t){this.updateData(t)}return t.prototype.updateData=function(t){this.pos=null!=t.pos?t.pos:this.pos,this.uid=null!=t.uid?t.uid:this.uid,this.tid=null!=t.tid?t.tid:this.tid,this.tid&&(this.tidData=I5.toy[this.tid])},t}();__reflect(ChildToyVo.prototype,"ChildToyVo");var ChildrenAddSkillItem=function(t){function e(){return t.call(this)||this}return __extends(e,t),e.prototype.childrenCreated=function(){t.prototype.createChildren.call(this)},e.prototype.dataChanged=function(){var t,e=this.data.nowNum,i=e+"";t=-1==i.indexOf(".")?e:e.toFixed(1),this.data.boo?this.lbAttr.textFlow=(new egret.HtmlTextParser).parser(O3.tr(3721,this.data.desc,t)):this.lbAttr.textFlow=(new egret.HtmlTextParser).parser(O3.tr(3721,this.data.desc,t+"%"));var s=this.data.nextNum;this.data.nextNum&&0<this.data.nextNum?(this.grpAdd.visible=!0,t=-1==(i=this.data.nextNum+"").indexOf(".")?this.data.nextNum:s.toFixed(1),this.data.boo?this.lbAdd.textFlow=(new egret.HtmlTextParser).parser(O3.tr(3722,t)):this.lbAdd.textFlow=(new egret.HtmlTextParser).parser(O3.tr(3722,t+"%"))):this.grpAdd.visible=!1},e}(eui.ItemRenderer);__reflect(ChildrenAddSkillItem.prototype,"ChildrenAddSkillItem");var ChildrenAdvancedItem=function(t){function e(){return t.call(this)||this}return __extends(e,t),e.prototype.childrenCreated=function(){t.prototype.createChildren.call(this),this.skinName="ChildrenAdvancedItemSkin"},e.prototype.dataChanged=function(){var t=(100*this.data.v1).toFixed(2)+"%";this.lbAttr.textFlow=(new egret.HtmlTextParser).parser(O3.tr(6518,this.data.name,t)),this.data.v2?(this.grpAdd.visible=!0,t=(100*this.data.v2).toFixed(2)+"%",this.lbAdd.textFlow=(new egret.HtmlTextParser).parser(O3.tr(6567,t))):this.grpAdd.visible=!1},e}(eui.ItemRenderer);__reflect(ChildrenAdvancedItem.prototype,"ChildrenAdvancedItem");var ChildrenAllWearItem=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.dataChanged=function(){this.lbAttr.textFlow=M18.HTP.parser(O3.tr(6528,this.data.name,this.data.value))},e}(ChildrenBaseItem);__reflect(ChildrenAllWearItem.prototype,"ChildrenAllWearItem");var ChildrenBreachItem=function(e){function t(){var t=e.call(this)||this;return t.touchEnabled=!1,t.skinName=ChildrenBreachItemSkin,t.addEventListener(egret.Event.ADDED_TO_STAGE,t.onAddToStage,t),t.addEventListener(egret.Event.REMOVED_FROM_STAGE,t.onRemoveStage,t),t}return __extends(t,e),t.prototype.childrenCreated=function(){e.prototype.createChildren.call(this)},t.prototype.onAddToStage=function(){this.addEventListener(egret.TouchEvent.TOUCH_TAP,this.ZU35,this)},t.prototype.onRemoveStage=function(){this.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.ZU35,this)},t.prototype.destroy=function(){this.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.ZU35,this)},t.prototype.dataChanged=function(){var t=this.data.split(":"),e=parseInt(t[0]),i=parseInt(t[1]);this.itemData=N12.gID(e);var s=N12.giC(e);this.imgQuality.source=N12.getBox(this.itemData.quality),this.imgHead.source=this.itemData.icon,this.lbNum.textFlow=i<=s?M18.HTP.parser(O3.tr(3710,s,i)):M18.HTP.parser(O3.tr(3711,s,i))},t.prototype.ZU35=function(){P5.FC75(this.itemData)},t}(eui.ItemRenderer);__reflect(ChildrenBreachItem.prototype,"ChildrenBreachItem");var ChildrenChooseEquipItem=function(e){function t(){var t=e.call(this)||this;return t.skinName=ChildrenChooseEquipItemSkin,t.addEventListener(egret.Event.ADDED_TO_STAGE,t.onAddToStage,t),t.addEventListener(egret.Event.REMOVED_FROM_STAGE,t.onRemoveStage,t),t}return __extends(t,e),t.prototype.onAddToStage=function(){this.grpClick.addEventListener(egret.TouchEvent.TOUCH_TAP,this.ZU35,this)},t.prototype.onRemoveStage=function(){this.grpClick.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.ZU35,this)},t.prototype.childrenCreated=function(){e.prototype.createChildren.call(this),this.itemIcon=new ItemIcon,this.iconGp.addChild(this.itemIcon)},t.prototype.dataChanged=function(){this.imgSelection.visible=this.data.isGou,this.data.isGou=this.data.isGou;var t={itemData:{data:I5.toy[this.data.tid],ct:0},isBottom:!1};this.itemIcon.data=t},t.prototype.ZU35=function(){var e=this,t=App.CM.gtM(O6.B49);if(this.imgSelection.visible)t.nuids[this.data.uid]=this.data,t.guids[this.data.uid]=null,delete t.guids[this.data.uid],this.imgSelection.visible=!1,t.notify("change");else if(-1==t.ids.indexOf(this.data.tid)){App.VM.open(O7.HH38,M18.HTP.parser(O3.tr(6552)),this,function(){var t=App.CM.gtM(O6.B49);t.guids[e.data.uid]=e.data,t.nuids[e.data.uid]=null,delete t.nuids[e.data.uid],e.imgSelection.visible=!0,t.notify("change")})}else t.nuids[this.data.uid]=null,delete t.nuids[this.data.uid],t.guids[this.data.uid]=this.data,this.imgSelection.visible=!0,t.notify("change")},t}(eui.ItemRenderer);__reflect(ChildrenChooseEquipItem.prototype,"ChildrenChooseEquipItem");var ChildrenDoorItem=function(e){function t(){var t=e.call(this)||this;return t.skinName=ChildrenDoorItemSkin,t}return __extends(t,e),t.prototype.childrenCreated=function(){e.prototype.createChildren.call(this),this.addEventListener(egret.Event.ADDED_TO_STAGE,this.onAddToStage,this),this.addEventListener(egret.Event.REMOVED_FROM_STAGE,this.onRemoveStage,this)},t.prototype.dataChanged=function(){this.data?(this.icon.source=this.data.icon,this.data&&this.data.quality==TC22.huangse&&App.THH33.aUE(this.gEffect,"ltqm_mc_uitx_1",-16,-18)):this.openWHS()},t.prototype.onAddToStage=function(){},t.prototype.onRemoveStage=function(){this.data&&this.data.quality==TC22.huangse&&App.THH33.rEf(this.gEffect,"ltqm_mc_uitx_1")},t.prototype.setLv=function(t){this.decGp.visible=!0,this.dec.text=O3.tr(525,t)},t.prototype.playAnima=function(){App.THH33.aUE(this.gEffect,"ltqm_mc_pz_1",-50,-55,1)},t.prototype.playAnima1=function(){App.THH33.aUE(this.gEffect,"iconSkill",-this.gEffect.width/2-5,-this.gEffect.height/2-10,1)},t.prototype.ZV67=function(){App.THH33.aUE(this.gEffect,"ltqm_mc_uitx_1",-16,-18)},t.prototype.ZV68=function(){App.THH33.rEf(this.gEffect,"ltqm_mc_uitx_1")},t.prototype.showComTX=function(){var t=this;egret.Tween.get(this.gBase).call(function(){t.playAnima1()}).to({alpha:0},450).pause().call(function(){})},t.prototype.lastShow=function(){egret.Tween.get(this.gBase).to({alpha:1},200).pause()},t.prototype.showPZTX=function(){this.gEffect.scaleX=2,this.gEffect.scaleY=2,App.THH33.aUE(this.gEffect,"iconSkill",-this.gEffect.width/2-5,-this.gEffect.height/2-10,1)},t.prototype.openWHS=function(){this.icon.source="v1_img_jia_png"},t.prototype.closeWHS=function(){this.icon.source=""},t}(eui.ItemRenderer);__reflect(ChildrenDoorItem.prototype,"ChildrenDoorItem");var ChildrenDoorXZItem=function(e){function t(){var t=e.call(this)||this;return t.skinName="ChildrenDoorXZItemSkin",t.addEventListener(egret.Event.ADDED_TO_STAGE,t.onAddToStage,t),t.addEventListener(egret.Event.REMOVED_FROM_STAGE,t.onRemoveStage,t),t}return __extends(t,e),t.prototype.childrenCreated=function(){e.prototype.createChildren.call(this)},t.prototype.onAddToStage=function(){this.addEventListener(egret.TouchEvent.TOUCH_TAP,this.ZU35,this)},t.prototype.onRemoveStage=function(){this.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.ZU35,this)},t.prototype.dataChanged=function(){var t=TC22.FJ42(this.data.tid);this.icon.source=t.icon,this.quality=t.quality,this.type=this.data.type,this.imgSelection0.visible=this.data.selectState},t.prototype.ZU35=function(){var t=this,e=App.CM.gtM(O6.B49);if(this.imgSelection0.visible)this.imgSelection0.visible=!this.imgSelection0.visible,e.ChildrenDoorData.ZF1(this.data.tid),this.data.fn(this);else if(5<this.quality&&this.type){App.VM.open(O7.HH38,M18.HTP.parser(O3.tr(7920)),this,function(){t.imgSelection0.visible=!t.imgSelection0.visible,App.CM.gtM(O6.B49).ChildrenDoorData.ZK76(t.data.tid),t.data.fn()})}else this.imgSelection0.visible=!this.imgSelection0.visible,e.ChildrenDoorData.ZK76(this.data.tid),this.data.fn(this)},t}(eui.ItemRenderer);__reflect(ChildrenDoorXZItem.prototype,"ChildrenDoorXZItem");var ChildrenFuLingAttrItem=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.dataChanged=function(){this.lbAttr.textFlow=M18.HTP.parser(O3.tr(6579,this.data.name,this.data.value))},e}(ChildrenBaseItem);__reflect(ChildrenFuLingAttrItem.prototype,"ChildrenFuLingAttrItem");var ChildrenInSkillItem=function(e){function t(){var t=e.call(this)||this;return t.isSelected=!1,t.skinName=ChildrenInSkillListSkin,t.imgSelected.visible=!1,t.addEventListener(egret.TouchEvent.TOUCH_TAP,t.ZU35,t),t}return __extends(t,e),t.prototype.destroy=function(){this.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.ZU35,this)},t.prototype.setLevel=function(t){this.lbLevel.text=String(t),this.lbLevel.validateNow(),this.grpLevel.width=this.lbLevel.width+10},t.prototype.ZK29=function(t,e){this.selectHandler=t,this.selectCallObj=e},t.prototype.ZU35=function(){this.selectHandler&&this.selectHandler.call(this.selectCallObj,this)},Object.defineProperty(t.prototype,"selected",{get:function(){return this.isSelected},set:function(t){this.isSelected=t,this.imgSelected.visible=this.isSelected},enumerable:!0,configurable:!0}),t.prototype.setData=function(t){this.data=t,this.imgHead.source=this.data.icon,this.imgNew.visible=this.data.canUp(),this.data.lv?(this.grpCount.visible=!0,this.grpNot.visible=!1,this.lbNum.text=this.data.lv+""):(this.grpCount.visible=!1,this.grpNot.visible=!0,this.lbNot.textFlow=(new egret.HtmlTextParser).parser(O3.tr(3781,this.data.unlock)))},t}(eui.Component);__reflect(ChildrenInSkillItem.prototype,"ChildrenInSkillItem");var ChildrenNowWearItem=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.dataChanged=function(){this.lbAttr.textFlow=M18.HTP.parser(O3.tr(6528,this.data.name,this.data.value))},e}(ChildrenBaseItem);__reflect(ChildrenNowWearItem.prototype,"ChildrenNowWearItem");var ChildrenOutSkillItem=function(e){function t(){var t=e.call(this)||this;return t.touchEnabled=!1,t.skinName=ChildrenOutSkillListSkin,t.addEventListener(egret.Event.ADDED_TO_STAGE,t.onAddToStage,t),t.addEventListener(egret.Event.REMOVED_FROM_STAGE,t.onRemoveStage,t),t}return __extends(t,e),t.prototype.onAddToStage=function(){this.addEventListener(egret.TouchEvent.TOUCH_TAP,this.ZU35,this)},t.prototype.onRemoveStage=function(){this.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.ZU35,this)},t.prototype.dataChanged=function(){var t,e=App.CM.gtM(O6.B49).ChildrenAddSkillData,i=!1;for(var s in e)if(e[s].skillId==this.data.skillid){i=!0,t=e[s];break}this.imgNew.visible=!1,this.imgHead.source=this.data.icon,i?(this.grpCount.visible=!0,this.grpNot.visible=!1,this.lbNum.text=t.lv+""):(this.grpCount.visible=!1,this.grpNot.visible=!0,this.lbNot.textFlow=(new egret.HtmlTextParser).parser(O3.tr(3707,this.data.unlock)))},t.prototype.ZU35=function(){this.imgMain.visible?App.CM.apF(O6.B49,I10.A2):App.CM.apF(O6.B49,I10.A2,this.itemIndex)},t}(eui.ItemRenderer);__reflect(ChildrenOutSkillItem.prototype,"ChildrenOutSkillItem");var ChildrenShowArrItem=function(t){function e(){return t.call(this)||this}return __extends(e,t),e.prototype.close=function(){},e.prototype.childrenCreated=function(){t.prototype.createChildren.call(this),this.skinName="ChildrenShowArrSkin"},e.prototype.dataChanged=function(){this.removeChildren();var t=this.data.sacle?this.data.sacle:1;if(0!=this.data.data.length){var e=this.data.data.split(";");if("local"==this.data.type)for(var i in this.height=30*e.length,e){var s=new eui.Label;this.addChild(s),s.text=e[i],s.y=30*Number(i);var o=P7.FM5(P7.str2kv(e[i])).split(":");s.textFlow=M18.HTP.parse(O3.tr(7820,o[0]+"+"+Math.ceil(Number(o[1])*t),""))}else if("next"==this.data.type)for(var i in this.height=30*e.length,e){s=new eui.Label;this.addChild(s),s.text=e[i],s.y=30*Number(i);o=P7.FM5(P7.str2kv(e[i])).split(":");s.textFlow=M18.HTP.parse(O3.tr(7820,o[0],"+"+Math.ceil(Number(o[1])*t)))}else if("mgLocal"==this.data.type)for(var i in this.height=25*e.length,e){s=new eui.Label;this.addChild(s),s.text=e[i],s.y=25*Number(i);o=P7.FM6(P7.str2kv(e[i])).split(":");s.textFlow=M18.HTP.parse(O3.tr(7857,o[0]+"+"+o[1],""))}else if("mgNext"==this.data.type)for(var i in this.height=25*e.length,e){s=new eui.Label;this.addChild(s),s.text=e[i],s.y=25*Number(i);o=P7.FM6(P7.str2kv(e[i])).split(":");s.textFlow=M18.HTP.parse(O3.tr(7857,"","+"+o[1]))}else if("lwNext"==this.data.type)for(var i in this.height=25*e.length,e){s=new eui.Label;this.addChild(s),s.text=e[i],s.y=25*Number(i);o=P7.FM6(P7.str2kv(e[i])).split(":");s.textFlow=M18.HTP.parse(O3.tr(7820,o[0],"+"+o[1]))}else if("godSoul"==this.data.type)for(var i in this.height=25*e.length,e){s=new eui.Label;this.addChild(s),s.text=e[i],s.y=25*Number(i);o=P7.FM5(P7.str2kv(e[i])).split(":");s.textFlow=M18.HTP.parse(O3.tr(7974,o[0],"+"+Math.ceil(Number(o[1]))))}else if("newDoorLocal"==this.data.type)for(var i in this.height=28*e.length,e){s=new eui.Label;this.addChild(s),s.text=e[i],s.y=28*Number(i);o=P7.FM5(P7.str2kv(e[i])).split(":");s.textFlow=M18.HTP.parse(O3.tr(7940,o[0]+"+"+Math.ceil(Number(o[1])*t),""))}else if("newDoorNext"==this.data.type)for(var i in this.height=28*e.length,e){s=new eui.Label;this.addChild(s),s.text=e[i],s.y=28*Number(i);o=P7.FM5(P7.str2kv(e[i])).split(":");s.textFlow=M18.HTP.parse(O3.tr(7940,"",o[0]+"+"+Math.ceil(Number(o[1])*t)))}else if("newMGLocal"==this.data.type)for(var i in this.height=28*e.length,e){s=new eui.Label;this.addChild(s),s.text=e[i],s.y=28*Number(i);o=P7.FM5(P7.str2kv(e[i])).split(":");s.textFlow=M18.HTP.parse(O3.tr(7940,o[0]+"+"+o[1],""))}else if("newMGNext"==this.data.type)for(var i in this.height=28*e.length,e){s=new eui.Label;this.addChild(s),s.text=e[i],s.y=28*Number(i);o=P7.FM5(P7.str2kv(e[i])).split(":");s.textFlow=M18.HTP.parse(O3.tr(7940,"",o[1]))}else if("starAttr"==this.data.type)for(var i in this.height=28*e.length,e){s=new eui.Label;this.addChild(s),s.text=e[i],s.y=28*Number(i);o=P7.FM5(P7.str2kv(e[i])).split(":");s.textFlow=M18.HTP.parse(O3.tr(7940,O3.tr(8158)+o[0]+"+",this.data.bl))}else if("intAttr"==this.data.type)for(var i in this.height=28*e.length,e){s=new eui.Label;this.addChild(s),s.text=e[i],s.y=28*Number(i);o=P7.FM5(P7.str2kv(e[i])).split(":");var r="",n=e[i].split(":");r=n[0]==avatar.AttributeKey.CHUANCI||n[0]==avatar.AttributeKey.FANGHU?Number(o[1]).toFixed(2):o[1],s.textFlow=M18.HTP.parse(O3.tr(7940,o[0]+"：",r))}else if("intAttrView"==this.data.type)for(var i in this.height=28*e.length,e){s=new eui.Label;this.addChild(s),s.text=e[i],s.y=28*Number(i);o=P7.FM5(P7.str2kv(e[i])).split(":");var a=Math.ceil(Number(o[1])*Number(this.data.int)*(Number(this.data.star)+1)),h=" = "+o[1]+"*"+this.data.int+"*(1 + "+this.ZR45(this.data.star)+")";s.textFlow=M18.HTP.parse(O3.tr(7940,o[0]+":"+a,h))}else if("immortalAttr"==this.data.type)for(var i in this.height=25*e.length,e){s=new eui.Label;this.addChild(s),s.text=e[i],s.y=25*Number(i);o=P7.FM5(P7.str2kv(e[i])).split(":");s.textFlow=M18.HTP.parse(O3.tr(8178,o[0]+":"+Math.ceil(Number(o[1])*t),""))}else if("equipStar"==this.data.type)for(var i in this.height=25*e.length,t=this.data.scale,e){s=new eui.Label;this.addChild(s),s.text=e[i],s.y=25*Number(i);o=P7.FM5(P7.str2kv(e[i])).split(":");s.textFlow=M18.HTP.parse(O3.tr(7940,o[0]+"：",Math.ceil(Number(o[1]))))}else if("equipAttrStar"==this.data.type)for(var i in this.height=25*e.length,e){s=new eui.Label;this.addChild(s),s.text=e[i],s.y=25*Number(i);o=P7.FM5(P7.str2kv(e[i])).split(":");s.textFlow=M18.HTP.parse(O3.tr(8178,o[0]+":"+Math.ceil(Number(o[1])),""))}else if("immortalEquip"==this.data.type)for(var i in this.height=28*e.length,e){s=new eui.Label;this.addChild(s),s.text=e[i],s.y=28*Number(i);o=P7.FM5(P7.str2kv(e[i])).split(":");s.textFlow=M18.HTP.parse(O3.tr(8324,o[0]+"+"+Math.ceil(Number(o[1])*t),""))}else if("militaryFlag"==this.data.type)for(var i in this.height=28*e.length,e){s=new eui.Label;this.addChild(s),s.text=e[i],s.y=28*Number(i);o=P7.FM5(P7.str2kv(e[i])).split(":");s.textFlow=M18.HTP.parse(O3.tr(8324,o[0]+"+"+o[1],""))}}},e.prototype.ZR45=function(t){var e=1e4*t;return Math.round(e)/100+"%"},e}(eui.ItemRenderer);__reflect(ChildrenShowArrItem.prototype,"ChildrenShowArrItem");var ChildrenSkillItem=function(e){function t(){var t=e.call(this)||this;return t.addEventListener(egret.Event.REMOVED_FROM_STAGE,t.close,t),t}return __extends(t,e),t.prototype.close=function(){},t.prototype.childrenCreated=function(){e.prototype.createChildren.call(this),this.skinName=ChildrenAttrItemSkin},t.prototype.dataChanged=function(){var t=this.data[0],e=K18.attribute[t].name,i=parseInt(this.data[1]),s=this.data[2],o=(this.data[3],this.data[1],s||1),r=App.CM.gtM(O6.B49);this.lbAttr.textFlow=(new egret.HtmlTextParser).parser(O3.tr(3721,e,i*o)),r.nowSkillIsBest||0==s?this.grpAdd.visible=!1:(this.grpAdd.visible=!0,this.lbAdd.textFlow=(new egret.HtmlTextParser).parser(O3.tr(3722,i)))},t}(eui.ItemRenderer);__reflect(ChildrenSkillItem.prototype,"ChildrenSkillItem");var ChildrenSkinAttrItem=function(e){function t(){var t=e.call(this)||this;return t.addEventListener(egret.Event.REMOVED_FROM_STAGE,t.close,t),t}return __extends(t,e),t.prototype.close=function(){},t.prototype.childrenCreated=function(){e.prototype.createChildren.call(this),this.skinName=ChildrenAttrItemSkin},t.prototype.dataChanged=function(){var t=this.data[0],e=K18.attribute[t].name,i=parseInt(this.data[1]),s=this.data[2],o=s||1;App.CM.gtM(O6.B49);this.lbAttr.textFlow=(new egret.HtmlTextParser).parser(O3.tr(3721,e,i*o)),0==s?this.grpAdd.visible=!1:(this.grpAdd.visible=!0,this.lbAdd.textFlow=(new egret.HtmlTextParser).parser(O3.tr(3722,i)))},t}(eui.ItemRenderer);__reflect(ChildrenSkinAttrItem.prototype,"ChildrenSkinAttrItem");var ChildrenToysItem=function(e){function t(){var t=e.call(this)||this;return t.isSelected=!1,t.touchEnabled=!1,t.skinName=ChildrenToysItemSkin,t.touchEnabled=!1,t.imgSelected.visible=!1,t.addEventListener(egret.Event.ADDED_TO_STAGE,t.onAddToStage,t),t.addEventListener(egret.Event.REMOVED_FROM_STAGE,t.onRemoveStage,t),t}return __extends(t,e),t.prototype.childrenCreated=function(){e.prototype.createChildren.call(this)},t.prototype.onAddToStage=function(){this.addEventListener(egret.TouchEvent.TOUCH_TAP,this.ZU35,this)},t.prototype.onRemoveStage=function(){this.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.ZU35,this),App.THH33.rEf(this.gpEffect,"lg_qhyh_01"),this.oldLv=null},t.prototype.setData=function(t){this.data&&this.data.pos==t.pos&&(this.oldLv!==t.lv||!this.data.isOwn&&t.isOwn)&&App.THH32.aUE(this.gpEffect,"lg_qhyh_01",40,40,1),this.oldLv=t.lv,this.data=t,this.data.lv?(this.grpLv.visible=!0,this.lbLevel.textFlow=M18.HTP.parser(O3.tr(6515,this.data.lv))):this.grpLv.visible=!1,this.data.isOwn?(this.imgQuality.source=N12.getBox(this.data.toyData.quality),this.imgHead.source=this.data.toyData.icon,P16.sGF(this.imgHead,!1),this.lbStage.text=O3.tr(7100,this.data.toyData.lv)):(this.imgQuality.source=N12.getBox(this.data.needToyData.quality),this.imgHead.source=this.data.needToyData.icon,P16.sGF(this.imgHead,!0),this.lbStage.text=""),this.imgRed.visible=this.data.getRed()},Object.defineProperty(t.prototype,"selected",{get:function(){return this.isSelected},set:function(t){this.isSelected=t,this.imgSelected.visible=this.isSelected},enumerable:!0,configurable:!0}),t.prototype.ZU35=function(){this.selectHandler&&this.selectHandler.call(this.selectCallObj,this)},t.prototype.ZK29=function(t,e){this.selectHandler=t,this.selectCallObj=e},t}(eui.Component);__reflect(ChildrenToysItem.prototype,"ChildrenToysItem");var ChildrenBookCaseView=function(r){function t(t,e){var i=r.call(this,t,e)||this;return i.isAdvance=!1,i.skinName=ChildrenBookCaseSkin,i}return __extends(t,r),t.prototype.initUI=function(){r.prototype.initUI.call(this),this.touchEnabled=!1,this.lbStr3.textFlow=M18.HTP.parser(O3.tr(3720)),this.lbStr1.textFlow=M18.HTP.parser(O3.tr(3709)),this.lbStr4.textFlow=M18.HTP.parser(O3.tr(6406)),this.itemData.dataProvider=this.itemSource=new eui.ArrayCollection,this.itemData.itemRenderer=ChildrenBreachItem,this.attrData.dataProvider=this.attrSource=new eui.ArrayCollection,this.attrData.itemRenderer=ChildrenSkinAttrItem,this.lbOpen.textFlow=M18.HTP.parse(O3.tr(3948)),this.btnCancel.label=O3.tr(3949),this.btnChange.label=O3.tr(3950)},t.prototype.open=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];r.prototype.open.call(this),this.btnChange.addEventListener(egret.TouchEvent.TOUCH_TAP,this.ZU55,this),this.btnCancel.addEventListener(egret.TouchEvent.TOUCH_TAP,this.ZV69,this),this.btnUpgrade.addEventListener(egret.TouchEvent.TOUCH_TAP,this.ZR46,this),this.ZC97();var i=App.CM.gtM(O6.B49);this.showAction(i._skinViewId)},t.prototype.ZR46=function(){this.btnUpgrade.imgNew.visible?this.childrenData.isOwn?this.apF(I10.A51,this.childrenData.id):this.apF(I10.A3,this.childrenData.id):P18.sDP(O3.tr(2725))},t.prototype.ZU55=function(){this.apF(I10.A5,this.childrenData.id)},t.prototype.ZV69=function(){var t=I5.gIV("initSkin");this.apF(I10.A5,parseInt(t))},t.prototype.uBM=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];r.prototype.uBM.call(this,t,e);var s=e[0];if(t instanceof TF33)switch(s){case P4.Q71:case P4.I82:this.ZC97();break;case"changeSkin":this.ZC97(),this.showAction(t._skinViewId);break;case P4.I80:this.ZC97(),this.showAction(t._skinViewId);var o={objData:{id:t._skinViewId,x:0,y:0,dir:Dir.br,objType:P13.A6,bt:BehaviourType.Stand_d}};App.VM.open(O7.G69,o)}else(t instanceof THH9||t instanceof TG12)&&this.ZC97()},t.prototype.showAction=function(t){this.objBoss&&(this.gpChildren.removeChildren(),this.objBoss.destory(),this.objBoss=null);var e={id:t,x:0,y:0,dir:Dir.br,objType:P13.A6,bt:BehaviourType.Stand_d};this.objBoss=new FightGameObject,this.objBoss.setData(e,this.gpChildren),this.objBoss.action=Action.Stand},t.prototype.ZC97=function(){var t=App.CM.gtM(O6.B49);this.childrenData=t.skinList[t.skinViewId],this.lbPowerTop.text=this.childrenData.power.toString(),this.lbBattle.textFlow=M18.HTP.parser(O3.tr(3718,TF35.FL50())),this.childrenData.isOwn?this.updateOwn(t):this.updateNotOwn(),this.ZV70(t)},t.prototype.ZV70=function(t){this.childrenData.itemid;this.btnUpgrade.imgNew.visible=1==this.childrenData.FL35();var e=this.childrenData.itemid+":1",i=[];i.push(e),this.itemSource.replaceAll(i);var s=P7.copyTab(this.childrenData.attr);this.attrSource.replaceAll(s),this.attrData.validateNow();for(var o=this.attrData.$children,r="",n=0;n<o.length;n++){var a=o[n];r.length<a.lbAttr.text.length&&(r=a.lbAttr.text)}var h=TF35.FE79(r,24,this);for(n=0;n<o.length;n++){(a=o[n]).lbAttr.width=h.w+8}this.attrSource.refresh()},t.prototype.updateOwn=function(t){this.lbStr2.$setVisible(!1),this.btnUpgrade.label=O3.tr(1145);var e=t.ChildrenUpgradeData.skId==this.childrenData.id;this.btnCancel.visible=e,this.btnChange.visible=!e},t.prototype.updateNotOwn=function(){this.lbStr2.$setVisible(!0),this.lbStr2.textFlow=M18.HTP.parser(O3.tr(3724)),this.btnUpgrade.label=O3.tr(3753),this.btnChange.visible=this.btnCancel.visible=!1},t.prototype.close=function(){r.prototype.close.call(this),this.btnChange.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.ZU55,this),this.btnCancel.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.ZV69,this),this.btnUpgrade.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.ZR46,this),this.isAdvance=!1,this.gpChildren.removeChildren(),this.objBoss.destory(),this.objBoss=null,this.removeTween()},t.prototype.removeTween=function(){egret.Tween.removeTweens(this)},t}(BaseEuiView);__reflect(ChildrenBookCaseView.prototype,"ChildrenBookCaseView");var ChildrenDoorComView=function(o){function t(t,e){var i=o.call(this,t,e)||this;return i.xzData=null,i.skinName=ChildrenDoorComSkin,i}return __extends(t,o),t.prototype.initUI=function(){this.dlg.ZM69(this.oCC,this),this.dlg.ZQ14(this.oCC,this),this.items=[this.item0,this.item1,this.item2,this.item3,this.item4,this.item5,this.item6,this.item7],this.coms=[this.com0,this.com1,this.com2,this.com3],this.dlg.title=O3.tr(7839),this.strLb0.text=O3.tr(7843),this.strLb1.text=O3.tr(7840),this.strLb2.text=O3.tr(7841),this.strLb3.text=O3.tr(7842),this.strLb4.text=O3.tr(7844),this.jsBtn.label=O3.tr(7845),this.comBtn.label=O3.tr(7846),this.strLb5.text=O3.tr(7863),this.gEffect1.touchEnabled=!1},t.prototype.open=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];o.prototype.open.call(this);var i=App.CM.gtM(O6.B49);for(var s in this.ZC22(i),this.items)this.items[s].addEventListener(egret.TouchEvent.TOUCH_TAP,this.choose.bind(this,s),this),this.items[s].data=TC22.FJ43(Number(s)+1,TC22.huangse);this.com2.addEventListener(egret.TouchEvent.TOUCH_TAP,this.jsBtnEvent,this),this.com3.addEventListener(egret.TouchEvent.TOUCH_TAP,this.jsBtnEvent,this),this.jsBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.jsBtnEvent,this),this.comBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.comBtnEvent,this)},t.prototype.close=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var i in o.prototype.close.call(this),this.items)this.items[i].removeEventListener(egret.TouchEvent.TOUCH_TAP,this.choose.bind(this,i),this);this.jsBtn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.jsBtnEvent,this),this.comBtn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.comBtnEvent,this),this.com2.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.jsBtnEvent,this),this.com3.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.jsBtnEvent,this)},t.prototype.uBM=function(t,e){if(o.prototype.uBM.call(this,t,e),t instanceof TF33&&t instanceof TF33)switch(e){case I10.A48:this.ZC22(t),this.playAnima();break;case I10.A64:this.ZV71(t)}},t.prototype.ZC22=function(t){this.xzLlist=t.ChildrenDoorData.xzL;this.xzLlist&&this.xzLlist.length;this.showItemRed(t)},t.prototype.showItemRed=function(t){var e=null;for(var i in this.items){var s=TC22.FJ43(Number(i)+1,TC22.huangse).mix;this.items[i].redPos.visible=t.ChildrenDoorData.isCanComMG(s),null==e&&this.items[i].redPos.visible&&(e=i)}this.chooseId||0==this.chooseId||(this.chooseId=null==e?0:e),this.choose(this.chooseId)},t.prototype.choose=function(t){this.changeUIById(t),this.chooseId=t;var e=TC22.FJ43(Number(t)+1,TC22.huangse),i=TC22.FD76(Number(t)+1,1);this.coms[0].data=e,this.coms[1].data=TC22.FJ42(e.mix);var s=App.CM.gtM(O6.B49);s.ChildrenDoorData.isHaveDoor(e.mix)?P16.sGF(this.coms[1],!1):P16.sGF(this.coms[1],!0);var o={type:"newMGLocal",data:i.extraattr};this.mgDataG.data=o,this.xzData=e,s.setComVo([]),this.coms[2].openWHS(),this.coms[3].openWHS(),App.THH33.rEf(this.gEffect,"ltqm_mc_khczt_1")},t.prototype.changeUIById=function(t){for(var e=0,i=this.items;e<i.length;e++){i[e].select.visible=!1}this.items[t].select.visible=!0},t.prototype.ZV71=function(t){var e=2<t.ChildrenDoorData.xzL.length?2:t.ChildrenDoorData.xzL.length;this.xzLb.text=e+"",this.coms[2].openWHS(),this.coms[3].openWHS();for(var i=0;i<e;i++)this.coms[i+2].closeWHS(),this.coms[i+2].data=TC22.FJ42(t.ChildrenDoorData.xzL[i]);var s=t.ChildrenDoorData.isHaveDoor(this.xzData.mix);2==e?(this.xzLb.textColor=2987793,s?App.THH33.aUE(this.gEffect,"ltqm_mc_khczt_1",47,55):App.THH33.rEf(this.gEffect,"ltqm_mc_khczt_1")):(App.THH33.rEf(this.gEffect,"ltqm_mc_khczt_1"),this.xzLb.textColor=14164514)},t.prototype.oCC=function(){App.CM.apF(O6.B49,I10.A9)},t.prototype.playAnima=function(){var t=this;for(var e in App.THH33.rEf(this.gEffect,"ltqm_mc_khczt_1"),this.coms[0].ZV68(),App.THH33.aUE(this.gEffect,"ltqm_mc_mghc_1",105,110),this.txImg1.visible=!0,this.txImg2.visible=!0,egret.Tween.get(this.txImg1).to({rotation:719},2e3).pause().call(function(){t.txImg1.visible=!1}),egret.Tween.get(this.txImg2).to({rotation:-439},2e3).pause().call(function(){t.txImg2.visible=!1}),this.txImg3.visible=!0,this.txImg3.alpha=.5,this.txImg3.scaleX=1.8,this.txImg3.scaleY=1.8,this.txImg3.blendMode="add",egret.Tween.get(this.txImg3).call(function(){}).wait(2e3).to({alpha:1,scaleY:5,scaleX:5},10).to({alpha:.3,scaleY:5,scaleX:5},190).to({alpha:0,scaleY:5,scaleX:5},400).pause().call(function(){t.txImg3.visible=!1}),this.txImg4.visible=!0,this.txImg4.alpha=.25,this.txImg4.scaleX=3.5,this.txImg4.scaleY=3.5,this.txImg4.blendMode="add",egret.Tween.get(this.txImg4).call(function(){}).to({alpha:.12},100).to({alpha:.35},100).to({alpha:.12},100).to({alpha:.25},100).to({alpha:.05},100).to({alpha:.35},100).to({alpha:.12},100).to({alpha:.4},100).to({alpha:0},100).to({alpha:.25},100).to({alpha:.12},100).to({alpha:.35},100).to({alpha:.12},100).to({alpha:.25},100).to({alpha:.05},100).to({alpha:.35},100).to({alpha:.12},100).to({alpha:.4},100).to({alpha:0},100).pause().call(function(){t.txImg4.visible=!1,App.THH33.rEf(t.gEffect,"ltqm_mc_mghc_1")}),this.coms)this.coms[e].showComTX();egret.Tween.get(this.com0).wait(2e3).call(function(){t.com0.playAnima1(),t.com0.ZV67()}).wait(150).call(function(){t.com0.showPZTX()}).wait(150).call(function(){t.com0.gBase.alpha=1,t.com0.gEffect.scaleX=1,t.com0.gEffect.scaleY=1}).wait(600).call(function(){t.coms[1].lastShow(),t.coms[2].lastShow(),t.coms[2].openWHS(),t.coms[3].lastShow(),t.coms[3].openWHS()}).pause().call(function(){})},t.prototype.jsBtnEvent=function(){App.CM.gtM(O6.B49);this.xzData&&App.CM.apF(O6.B49,I10.A30,this.xzData)},t.prototype.comBtnEvent=function(){var t=App.CM.gtM(O6.B49);if(2<=t.ChildrenDoorData.xzL.length){if(t.ChildrenDoorData.isHaveDoor(this.xzData.mix)){var e={tid:this.xzData.id,cid1:t.ChildrenDoorData.xzL[0],cid2:t.ChildrenDoorData.xzL[1]};App.CM.apF(O6.B49,I10.A47,e)}else{var i=O3.tr(7869);P18.sDP(i)}}else{i=O3.tr(7870);P18.sDP(i)}},t}(BaseEuiView);__reflect(ChildrenDoorComView.prototype,"ChildrenDoorComView");var ChildrenDoorCQView=function(o){function t(t,e){var i=o.call(this,t,e)||this;return i.skinName=ChildrenDoorCQSkin,i}return __extends(t,o),t.prototype.initUI=function(){this.dlg.ZM69(this.oCC,this),this.dlg.ZQ14(this.oCC,this),this.coms=[this.item0,this.item1,this.item2,this.item3,this.item4,this.item5,this.item6,this.item7];var t=TC22.FE59("acquireCost"),e=N12.gID(t);this.cqItem.setData(e);var i=TC22.FE59("acquireRedCost").split(":"),s=N12.gID(i[0]);this.zsItem.setData(s),this.zsLb.text=i[1],this.dlg.title=O3.tr(7847),this.strLb1.text=O3.tr(7848),this.stringLb0.text=O3.tr(7831),this.stringLb1.text=O3.tr(7831),this.stringLb2.text=O3.tr(7855),this.cqbtn.label=O3.tr(7849),this.zsbtn.label=O3.tr(7850)},t.prototype.open=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];o.prototype.open.call(this),this.itemCom.visible=!1;var i=App.CM.gtM(O6.B49);this.ZC22(i);TC22.FE59;for(var s in this.coms)this.coms[s].addEventListener(egret.TouchEvent.TOUCH_TAP,this.choose.bind(this,s),this),this.coms[s].data=TC22.FJ43(Number(s)+1,TC22.hongse);this.cqbtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.cqbtnEvent,this),this.zsbtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.zsbtnEvent,this),this.choose(0)},t.prototype.close=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];o.prototype.close.call(this)},t.prototype.uBM=function(t,e){if(o.prototype.uBM.call(this,t,e),t instanceof TF33)switch(e){case I10.A42:this.updataByEXT(t);break;case I10.A27:this.updataByBEST(t);break;default:this.ZC22(t)}},t.prototype.choose=function(t){this.changeUIById(t);var e=TC22.FG98(Number(t)+1,1).attr.split(";");for(var i in e){var s=P7.FM5(P7.str2kv(e[i])).split(":"),o=TC22.FE59("doorLvRat5");this["arrLb"+i].textFlow=M18.HTP.parse(O3.tr(7868,s[0],"+"+Number(s[1])*Number(o)))}3==e.length&&(this.arrLb3.visible=this.arrLb3.includeInLayout=!1)},t.prototype.changeUIById=function(t){for(var e=0,i=this.coms;e<i.length;e++){i[e].select.visible=!1}this.coms[t].select.visible=!0},t.prototype.cqbtnEvent=function(){var t=App.CM.gtM(O6.B82);Number(this.coinNum)>t.avatarInfo.co?App.VM.open(O7.F12):App.CM.apF(O6.B49,I10.A41)},t.prototype.zsbtnEvent=function(){var t=TC22.FE59("acquireRedCost"),e=Number(t.split(":")[1]),i=N12.giC(t.split(":")[0]);App.VM.open(O7.HH38,M18.HTP.parser(O3.tr(7937,e)),this,function(){e<i?App.CM.apF(O6.B49,I10.A26):P7.FA78()})},t.prototype.updataByEXT=function(t){this.itemCom.visible=!0;var e=TC22.FJ42(t.ChildrenDoorData.ob);this.itemCom.data=e,this.itemCom.playAnima1(),this.changeUIByP(t.ChildrenDoorData.p)},t.prototype.updataByBEST=function(t){this.changeUIByP(t.ChildrenDoorData.p)},t.prototype.changeUIByP=function(t){var e=TC22.FG99(t);this["group"+e.quality].addChild(this.loaclLV),this.coinNum=Number(e.cost),this.cqLb.text=M18.FF65(Number(e.cost),2),5==e.quality?(P16.sGF(this.zsbtn,!0),this.zsbtn.enabled=!1):(P16.sGF(this.zsbtn,!1),this.zsbtn.enabled=!0)},t.prototype.ZC22=function(t){this.changeUIByP(t.ChildrenDoorData.p)},t.prototype.oCC=function(){App.CM.apF(O6.B49,I10.A17)},t}(BaseEuiView);__reflect(ChildrenDoorCQView.prototype,"ChildrenDoorCQView");var ChildrenDoorFJView=function(s){function t(t,e){var i=s.call(this,t,e)||this;return i.skinName=ChildrenDoorFJSkin,i}return __extends(t,s),t.prototype.initUI=function(){this.dlg.ZM69(this.oCC,this),this.dlg.ZQ14(this.oCC,this),this.dlg.setOKHandler(this.onClickFJ,this),this.doorData.dataProvider=this.doorCollection=new eui.ArrayCollection,this.doorData.itemRenderer=ChildrenDoorXZItem;var t=TC22.FE59("doorReform"),e=N12.gID(t);this.getItem.setData(e),this.dlg.title=O3.tr(7851),this.lbStr0.text=O3.tr(7853),this.lbStr2.text=O3.tr(7852),this.fjbtn.label=O3.tr(7854);var i={render:ChildrenDoorXZItem,width:this.display.width,height:this.display.height,arrowScale:1,tileLayout:!0,verticalGap:12,horizontalGap:6};this.listView=new CommonListBase(i),this.display.addChild(this.listView),this.listView.verticalCenter=0,this.listView.horizontalCenter=0},t.prototype.open=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];s.prototype.open.call(this);var i=App.CM.gtM(O6.B49);this.ZC22(i),this.fjbtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickFJ,this),this.listView.open()},t.prototype.close=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];s.prototype.close.call(this),this.fjbtn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickFJ,this),this.listView.close()},t.prototype.uBM=function(t,e){if(s.prototype.uBM.call(this,t,e),t instanceof TF33&&this.ZC22(t),t instanceof TF33)switch(e){case I10.A60:this.ZC22(t),this.listView.itemList.scrollV=0;break;default:this.ZC22(t)}},t.prototype.ZC22=function(t){var e=this.ZR47(t.ChildrenDoorData.getFJListD());this.doorCollection.replaceAll(e),this.listView.rfL(e),this.timerHandler=App.K16.doTimer(20,1,this.updataFJLb,this)},t.prototype.ZR47=function(t){var e=this,i=[],s=App.CM.gtM(O6.B49);for(var o in s.ChildrenDoorData.selectedList=[],s.ChildrenDoorData.selectedIcon=0,t)for(var r=t[o].c,n=0;n<r;n++){var a=TC22.FJ42(t[o].tid).quality!=TC22.hongse,h={tid:t[o].tid,selectState:a,fn:function(){e.updataFJLb()},type:!0};i.push(h),a&&s.ChildrenDoorData.ZK76(t[o].tid)}return i},t.prototype.ZV72=function(){for(var t in this.listView.$children){var e=this.listView.$children[t];e.imgSelection0.visible=TC22.FJ42(e.data.tid).quality!=TC22.hongse}this.updataFJLb()},t.prototype.ZV73=function(t){var e=[];for(var i in t)e[t[i]]?e[t[i]]++:e[t[i]]=1;var s="";for(var i in e)s.length&&(s+=";"),s+=i+":"+e[i];return s},t.prototype.updataFJLb=function(){var t;t=App.CM.gtM(O6.B49).ChildrenDoorData.selectedIcon,this.getLb.text=t+""},t.prototype.oCC=function(){App.CM.apF(O6.B49,I10.A18)},t.prototype.onClickFJ=function(){var t=App.CM.gtM(O6.B49),e=this.ZV73(t.ChildrenDoorData.selectedList);if(e.length)App.CM.apF(O6.B49,I10.A59,e);else{var i=O3.tr(7871);P18.sDP(i,!0)}},t}(BaseEuiView);__reflect(ChildrenDoorFJView.prototype,"ChildrenDoorFJView");var ChildrenDoorJSView=function(s){function t(t,e){var i=s.call(this,t,e)||this;return i.xzdata=[],i.skinName=ChildrenDoorJSSkin,i}return __extends(t,s),t.prototype.initUI=function(){this.dlg.ZM69(this.oCC,this),this.dlg.ZQ14(this.oCC,this),this.dlg.setOKHandler(this.onClickXZ,this),this.doorData.dataProvider=this.doorCollection=new eui.ArrayCollection,this.doorData.itemRenderer=ChildrenDoorXZItem,this.dlg.title=O3.tr(7808),this.lbStr0.text=O3.tr(7852),this.lbStr1.text=O3.tr(7809),this.lbStr.text=O3.tr(7810),this.dlg.strBtnOK=O3.tr(7811)},t.prototype.open=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];s.prototype.open.call(this);var i=App.CM.gtM(O6.B49);this.ZC22(i,t[0])},t.prototype.close=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];s.prototype.close.call(this)},t.prototype.ZC22=function(t,e){var i=this.ZR47(t.ChildrenDoorData.FK95(e.mix));this.doorCollection.replaceAll(i),this.ZR48()},t.prototype.ZR48=function(){for(var t in this.doorData.$children){this.doorData.$children[t].imgSelection0.visible=!1}},t.prototype.ZR47=function(t){var e=this,i=[];for(var s in t)for(var o=t[s].c,r=0;r<o;r++){var n={tid:t[s].tid,fn:function(t){e.oCI(t)}};i.push(n)}return i},t.prototype.oCI=function(t){var e=this.getLocalXZ();this.upDataList(e.length,t);var i=2<e.length?2:e.length;this.lbChoose.text=i+"",2<=e.length?this.lbChoose.textColor=2987793:this.lbChoose.textColor=14164514},t.prototype.upDataList=function(t,e){if(2<t)for(var i in this.doorData.$children){var s=this.doorData.$children[i];if(s.imgSelection0.visible&&e!=s)return void(s.imgSelection0.visible=!1)}},t.prototype.onClickXZ=function(){for(var t=App.CM.gtM(O6.B49),e=[],i=this.getLocalXZ(),s=0;s<i.length;s++)e.push(i[s].tid);t.setComVo(e),this.oCC()},t.prototype.getLocalXZ=function(){var t=[];for(var e in this.doorData.$children){var i=this.doorData.$children[e];i.imgSelection0.visible&&t.push(i.data)}return t},t.prototype.oCC=function(){App.CM.apF(O6.B49,I10.A15)},t}(BaseEuiView);__reflect(ChildrenDoorJSView.prototype,"ChildrenDoorJSView");var ChildrenDoorLHView=function(s){function t(t,e){var i=s.call(this,t,e)||this;return i.skinName=ChildrenDoorLHSkin,i}return __extends(t,s),t.prototype.initUI=function(){this.dlg.ZM69(this.oCC,this),this.dlg.ZQ14(this.oCC,this),this.dlg.title=O3.tr(7812),this.strLb0.text=O3.tr(7813),this.strLb1.text=O3.tr(7814),this.strLb2.text=O3.tr(7815),this.strLb3.text=O3.tr(7816),this.strLb4.text=O3.tr(7809),this.strLb5.text=O3.tr(7810),this.strLb6.text=O3.tr(7817),this.lhBtn.label=O3.tr(7819),this.saveBtn.label=O3.tr(7818)},t.prototype.open=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];s.prototype.open.call(this),this.chooseId=t[0];var i=App.CM.gtM(O6.B49);this.ZC97(i),this.nextGrp.addEventListener(egret.TouchEvent.TOUCH_TAP,this.ZR50,this),this.lastGrp.addEventListener(egret.TouchEvent.TOUCH_TAP,this.ZR49,this),this.lhBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickLH,this),this.saveBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickSave,this),this.ZR50()},t.prototype.close=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];s.prototype.close.call(this),this.nextGrp.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.ZR50,this),this.lastGrp.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.ZR49,this)},t.prototype.uBM=function(t,e){if(s.prototype.uBM.call(this,t,e),t instanceof TF33){switch(e){case I10.A46:this.showTX();break;case I10.A8:}this.ZC97(t)}},t.prototype.ZC97=function(t){var e=t.ChildrenDoorData.cl[this.chooseId];for(var i in e.ea){var s=e.ea[i].key+":"+e.ea[i].value,o=P7.FM5(P7.str2kv(s)).split(":");this["lastLb"+i].textFlow=M18.HTP.parse(O3.tr(7868,o[0]+":","+"+o[1]))}var r=M10.gAG(TE10.FL55(e.ea));if(this.lastLb3.text=O3.tr(7938,r),e.la.length){for(var i in this.lhGrp.visible=!1,this.saveGrp.visible=!0,e.la){s=e.la[i].key+":"+e.la[i].value,o=P7.FM5(P7.str2kv(s)).split(":");this["nextLb"+i].textFlow=M18.HTP.parse(O3.tr(7868,o[0]+":","+"+o[1]))}var n=M10.gAG(TE10.FL55(e.la));this.nextLb3.text=O3.tr(7938,n)}else{for(var i in this.lhGrp.visible=!0,this.saveGrp.visible=!1,e.ea)this["nextLb"+i].textFlow=M18.HTP.parse(O3.tr(7868,"","??????"));var a=TC22.FE59("transformCost"),h=a.split(":")[0],p=a.split(":")[1],l=N12.gID(h);this.lbKh.text="/"+p,this.lhItem.setData(l);var c=N12.giC(h);Number(p)<=c?(this.lbChoose.text=c+"",this.lbChoose.textColor=7716890):(this.lbChoose.text=c+"",this.lbChoose.textColor=14164514),this.nextLb3.text=O3.tr(7938,"??????")}},t.prototype.showTX=function(){App.THH33.aUE(this.gEffect,"ltqm_mc_rl_1",-30,0,1),App.THH33.aUE(this.gEffect1,"ltqm_mc_rl_1",-30,0,1),App.THH33.aUE(this.gEffect2,"ltqm_mc_rl_1",-30,0,1)},t.prototype.ZR49=function(){this.lastImg.source="v1_img_chuangjianjuntuan_png",this.nextImg.source="v1_img_chuangjianjuntuanhui_png",this.chooseGrp=0},t.prototype.ZR50=function(){this.lastImg.source="v1_img_chuangjianjuntuanhui_png",this.nextImg.source="v1_img_chuangjianjuntuan_png",this.chooseGrp=1},t.prototype.oCC=function(){App.CM.apF(O6.B49,I10.A16)},t.prototype.onClickLH=function(){App.CM.apF(O6.B49,I10.A45,Number(this.chooseId)+1)},t.prototype.onClickSave=function(){var t=this;App.VM.open(O7.HH38,M18.HTP.parser(O3.tr(7936)),this,function(){App.CM.apF(O6.B49,I10.A7,Number(t.chooseId)+1,t.chooseGrp)})},t}(BaseEuiView);__reflect(ChildrenDoorLHView.prototype,"ChildrenDoorLHView");var ChildrenDoorView=function(o){function t(t,e){var i=o.call(this,t,e)||this;return i.skinName="ChildrenDoorSkin",i}return __extends(t,o),t.prototype.initUI=function(){o.prototype.initUI.call(this),this.coms=[this.item0,this.item1,this.item2,this.item3,this.item4,this.item5,this.item6,this.item7],this.tabBar.dataProvider=this.tabCollection=new eui.ArrayCollection,this.tabBar.itemRenderer=FaBaoTabBarItem;var t=TC22.FE59("doorCost"),e=N12.gID(t);this.upItem.setData(e),this.comBtn.textFlow=new Array({text:O3.tr(7821),style:{underline:!0}}),this.getBtn.textFlow=new Array({text:O3.tr(7822),style:{underline:!0}}),this.refbtn.textFlow=new Array({text:O3.tr(7838),style:{underline:!0}}),this.resBtn.label=O3.tr(7823),this.stringLb1.text=O3.tr(7828),this.stringLb2.text=O3.tr(7829),this.stringLb3.text=O3.tr(7830),this.stringLb4.text=O3.tr(7831),this.upbtn.label=O3.tr(7832),this.stringLb5.text=O3.tr(7830),this.stringLb6.text=O3.tr(7833),this.stringLb7.text=O3.tr(7834),this.stringLb8.text=O3.tr(7835),this.lbStr5.text=O3.tr(7836),this.stringLb9.text=O3.tr(7831),this.stringLb10.text=O3.tr(7835),this.doorGetBtn.label=O3.tr(7822),this.mgtpBtn.label=O3.tr(7837)},t.prototype.open=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var i in o.prototype.open.call(this),this.coms)this.coms[i].addEventListener(egret.TouchEvent.TOUCH_TAP,this.choose.bind(this,i),this);this.resBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.resBtnEvent,this),this.comBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.comBtnEvent,this),this.getBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.getBtnEvent,this),this.doorGetBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.getBtnEvent,this),this.crossBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.ZV74,this),this.upbtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.upBtnEvent,this),this.tabBar.addEventListener(eui.UIEvent.CHANGE,this.tabBarChange,this),this.mgtpBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.mgtpBtnEvent,this),this.refbtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.refBtnEvent,this);var s=App.CM.gtM(O6.B49);this.ZC97(s),this.choose(Number(this.ZK78(s)))},t.prototype.uBM=function(t,e){if(o.prototype.uBM.call(this,t,e),t instanceof TF33){switch(e){case I10.A58:case I10.A8:case I10.A60:this.tabBarReset();break;case P4.V43:break;case I10.A44:this.updataCL(t),this.choose(Number(this.ZK78(t)));break;case I10.A29:case I10.A48:this.changeDoor(this.chooseId)}this.ZC97(t)}},t.prototype.ZC97=function(t){for(var e in this.ZR51(t.ChildrenDoorData.isCanGet()),t.ChildrenDoorData.cl)if(t.ChildrenDoorData.cl[e].tid){var i=TC22.FJ42(t.ChildrenDoorData.cl[e].tid);this.coms[e].redPos.visible=t.ChildrenDoorData.isCanUp(e)||t.ChildrenDoorData.isCanBUp(e),this.coms[e].data=i,this.coms[e].setLv(t.ChildrenDoorData.cl[e].lv)}App.DelayOptManager.ZE59(this,this.setTabData),this.updataPower(),this.comImgNew.visible=t.ChildrenDoorData.isHaveComMg()},t.prototype.setTabData=function(){for(var t=0;t<this.tabBar.numChildren;t++){var e=App.CM.gtM(O6.B49),i=this.tabBar.getChildAt(t);switch(t){case 0:i.setRed(e.ChildrenDoorData.isCanUp(String(this.chooseId)));break;case 1:i.setRed(e.ChildrenDoorData.isCanBUp(String(this.chooseId)))}}},t.prototype.updataPower=function(){this.lbPowerTop.text=TF35.FL54()+""},t.prototype.ZR51=function(t){t?(this.crossBtn.visible=!0,this.crossBg.visible=!1,this.crossBtn.imgNew.visible=!0):(this.crossBtn.visible=!1,this.crossBg.visible=!0)},t.prototype.updataCL=function(t){for(var e in t.ChildrenDoorData.cl)t.ChildrenDoorData.cl[e].tid!=this.oldCL[e].tid&&this.coms[e].playAnima()},t.prototype.ZK78=function(t){for(var e in t.ChildrenDoorData.cl)if(t.ChildrenDoorData.isCanUp(e))return e;return 0},t.prototype.close=function(){for(var t in o.prototype.close.call(this),this.coms)this.coms[t].removeEventListener(egret.TouchEvent.TOUCH_TAP,this.choose.bind(this,t),this);this.resBtn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.resBtnEvent,this),this.comBtn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.comBtnEvent,this),this.getBtn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.getBtnEvent,this),this.doorGetBtn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.getBtnEvent,this),this.crossBtn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.ZV74,this),this.upbtn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.upBtnEvent,this),this.tabBar.removeEventListener(eui.UIEvent.CHANGE,this.tabBarChange,this),this.mgtpBtn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.mgtpBtnEvent,this),this.refbtn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.refBtnEvent,this)},t.prototype.choose=function(t){this.chooseId=t,this.changeUIById(this.chooseId),this.tabBarReset()},t.prototype.changeUIById=function(t){for(var e=0,i=this.coms;e<i.length;e++){i[e].select.visible=!1}this.coms[t].select.visible=!0,this.ZN72(t)},t.prototype.ZN72=function(t){App.CM.gtM(O6.B49).ChildrenDoorData.cl[t];this.tabCollection.replaceAll([{up:7824,down:7825,type:"w"},{up:7826,down:7827,type:"f"}])},t.prototype.tabBarChange=function(){switch(this.tabBar.selectedItem.type){case"w":this.changeDoor(this.chooseId);break;case"f":this.changeMG(this.chooseId)}},t.prototype.tabBarReset=function(){-1==this.tabBar.selectedIndex&&(this.tabBar.selectedIndex=0),this.tabBarChange(),this.setTabData()},t.prototype.changeDoor=function(t){this.mgGrp.visible=!1,this.nullGrp.visible=!1,this.upGrp.visible=!1,this.fullGrp.visible=!1;var e=App.CM.gtM(O6.B49).ChildrenDoorData.cl[t];if(e.tid){var i=TC22.FG98(e.p,e.lv),s=TC22.FJ42(e.tid),o=s.quality==TC22.huangse?1:TC22.FE59("doorLvRat"+(Number(s.quality)-1));if(-1==i.cost){this.fullGrp.visible=!0;var r={type:"newDoorNext",data:i.attr,sacle:o};this.fullDataG.data=r}else{this.upGrp.visible=!0;var n={type:"newDoorLocal",data:i.attr,sacle:o};this.upLDataG.data=n;var a={type:"newDoorNext",data:TC22.FG98(e.p,e.lv+1).attr,sacle:o};this.upNDataG.data=a;var h=TC22.FE59("doorCost"),p=N12.giC(h);this.uplb.text=p+"",Number(p)>=Number(i.cost)?(this.uplb.textColor=2987793,this.upbtn.imgNew.visible=!0):(this.uplb.textColor=14164514,this.upbtn.imgNew.visible=!1),this.uplb0.text="/"+i.cost}}else this.nullGrp.visible=!0},t.prototype.changeMG=function(t){var e=App.CM.gtM(O6.B49);if(!e.ChildrenDoorData.cl[t].isd){this.changeDoor(t);var i=O3.tr(7874);P18.sDP(i);var s=this.tabBar,o=s.getChildAt(1),r=s.getChildAt(s.selectedItem.index);return s.selectedIndex=0,o.selected=!1,void(r.selected=!0)}this.nullGrp.visible=!1,this.upGrp.visible=!1,this.fullGrp.visible=!1,this.mgGrp.visible=!0;var n=e.ChildrenDoorData.cl[t];this.dlvLb.textFlow=M18.HTP.parse(O3.tr(7945,n.dlv));var a=TC22.FD76(n.p,n.dlv);if(this.mgLDataG.data={type:"newMGLocal",data:a.extraattr},-1==a.cost)this.mgNDataG.visible=!1,this.mgtpBtn.enabled=!1;else{this.mgNDataG.visible=!0,this.mgtpBtn.enabled=!0;var h=TC22.FD76(n.p,n.dlv+1);this.mgNDataG.data={type:"newMGNext",data:h.extraattr}}var p=TC22.FJ42(n.tid),l=TC22.FD76(n.p,n.dlv);this.mgItem.setData(p);var c=e.ChildrenDoorData.getMGCount(n.tid);this.mgLb.text=c,Number(c)>=Number(a.cost)?-1==a.cost?(this.mgtpBtn.imgNew.visible=!1,this.mgXHGrp.visible=!1,this.mgtpBtn.label=O3.tr(1828),P16.sGF(this.mgtpBtn,!0)):(this.mgLb.textColor=2987793,this.mgtpBtn.imgNew.visible=!0,this.mgLb0.text="/"+a.cost,this.mgXHGrp.visible=!0,this.mgtpBtn.label=O3.tr(7837),P16.sGF(this.mgtpBtn,!1)):(this.mgLb.textColor=14164514,this.mgtpBtn.imgNew.visible=!1,this.mgLb0.text="/"+a.cost,this.mgXHGrp.visible=!0,this.mgtpBtn.label=O3.tr(7837),P16.sGF(this.mgtpBtn,!1));var u=this.FL55(e.ChildrenDoorData.cl[t].ea,Number(l.savvyattr));if(this.lwLDataG.data={type:"newMGLocal",data:u},-1==a.cost){var d=this.FL55(e.ChildrenDoorData.cl[t].ea,Number(l.savvyattr));this.lwNDataG.data={type:"newMGNext",data:d}}else{h=TC22.FD76(n.p,n.dlv+1),d=this.FL55(e.ChildrenDoorData.cl[t].ea,Number(h.savvyattr));this.lwNDataG.data={type:"newMGNext",data:d}}},t.prototype.FL55=function(t,e){void 0===e&&(e=1);var i="";for(var s in t)0!=i.length&&(i+=";"),i+=t[s].key+":"+Math.floor(100*Number(t[s].value)*e)/100;return i},t.prototype.mgtpBtnEvent=function(){var t=App.CM.gtM(O6.B49),e=t.ChildrenDoorData.cl[this.chooseId],i=TC22.FD76(e.p,e.dlv),s=t.ChildrenDoorData.getMGCount(e.tid);"-1"!=i.config?Number(s)>=Number(i.cost)?App.CM.apF(O6.B49,I10.A57,Number(this.chooseId)+1):P18.sDP(O3.tr(3616)):P18.sDP(O3.tr(1828))},t.prototype.resBtnEvent=function(){App.CM.apF(O6.B49,I10.A33)},t.prototype.comBtnEvent=function(){App.CM.apF(O6.B49,I10.A19)},t.prototype.getBtnEvent=function(){App.CM.apF(O6.B49,I10.A32)},t.prototype.refBtnEvent=function(){App.CM.apF(O6.B49,I10.A31,Number(this.chooseId))},t.prototype.ZV74=function(){var t=App.CM.gtM(O6.B49);this.oldCL=t.ChildrenDoorData.cl,App.CM.apF(O6.B49,I10.A43)},t.prototype.upBtnEvent=function(){var t=App.CM.gtM(O6.B49).ChildrenDoorData.cl[this.chooseId],e=TC22.FG98(t.p,t.lv),i=TC22.FE59("doorCost"),s=N12.giC(i);"-1"!=e.config?Number(s)>=Number(e.cost)?App.CM.apF(O6.B49,I10.A28,Number(this.chooseId)+1):App.VM.open(O7.G87,i,Number(e.cost)-Number(s)):P18.sDP(O3.tr(1828))},t}(BaseEuiView);__reflect(ChildrenDoorView.prototype,"ChildrenDoorView");var ChildrenEquipView=function(s){function t(t,e){var i=s.call(this,t,e)||this;return i.skinName=ChildrenEquipSkin,i}return __extends(t,s),t.prototype.initUI=function(){s.prototype.initUI.call(this),this.propData.dataProvider=this.propCollection=new eui.ArrayCollection,this.propData.itemRenderer=ItemIcon},t.prototype.open=function(){var t=App.CM.gtM(O6.B49);this.updatePack(t)},t.prototype.updatePack=function(t){var e=[],i=TF35.FA23(),s=!0;for(var o in P7.FM14()&&(s=!1),i){var r=i[o],n={itemData:{data:P7.copyTab(r.tidData),ct:0},isBottom:s,fl:1};e.push(n)}this.propCollection.replaceAll(e)},t.prototype.close=function(){s.prototype.close.call(this),this.propCollection.removeAll()},t}(BaseEuiView);__reflect(ChildrenEquipView.prototype,"ChildrenEquipView");var ChildrenIcon=function(e){function t(){var t=e.call(this)||this;return t.isShowRedPoint=!0,t.skinName=IconHeroSkin,t.addEventListener(egret.Event.ADDED_TO_STAGE,t.open,t),t.addEventListener(egret.Event.REMOVED_FROM_STAGE,t.close,t),t}return __extends(t,e),t.prototype.open=function(){this.addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.onClick,this)},t.prototype.close=function(){this.removeEventListener(egret.TouchEvent.TOUCH_BEGIN,this.onClick,this)},t.prototype.childrenCreated=function(){e.prototype.createChildren.call(this)},t.prototype.dataChanged=function(){var t=this.data,e=N12.gID(t.itemid),i=N12.giC(t.itemid);this.imgRed.visible=1<=i,this.imgIcon.source=e.icon,this.imgBg.source=N12.getBox(e.quality),this.lbName.text=t.name,O5.FB13(this.lbName,t.name,e.quality),t.isOwn?(P16.sGF(this.imgIcon,!1),this.lbLv.visible=!0,this.lbLv.text="Lv."+t.lv):(this.lbLv.visible=!1,P16.sGF(this.imgIcon,!0))},t.prototype.onClick=function(){TG40.playClickEffect()},t}(eui.ItemRenderer);__reflect(ChildrenIcon.prototype,"ChildrenIcon");var ChildrenMainView=function(o){function t(t,e){var i=o.call(this,t,e)||this;return i.sGN("release_children"),i}return __extends(t,o),t.prototype.initUI=function(){o.prototype.initUI.call(this),App.VM.rgS(O7.E71,O7.C70,"ChildrenUpgradeView",this.content),App.VM.rgS(O7.E71,O7.E40,"ChildrenSkillView",this.content),App.VM.rgS(O7.E71,O7.B91,"ChildrenBookCaseView",this.content),App.VM.rgS(O7.E71,O7.F30,"ChildrenToysView",this.content),App.VM.rgS(O7.E71,O7.F45,"ChildrenDoorView",this.content),this.title=O3.tr(3705);var t=[O3.tr(1145),O3.tr(1401),O3.tr(3706),O3.tr(6537),O3.tr(7824)],e=[O7.C70,O7.E40,O7.B91,O7.F30,O7.F45];this.btnList=new ButtonList(t,e,this.ZQ23.bind(this)),this.btnList.init(),this.btnGroup.addChild(this.btnList),this.btnList.scaleY=this.btnList.scaleX=.8,this.helpBtn.visible=!0},t.prototype.open=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];o.prototype.open.call(this),this.helpBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.openHelpView,this),this.topContent=new ChildrenSkinIconList,this.content.addChild(this.topContent),this.topContent.top=-8;var i=App.CM.gtM(O6.B49);this.topContent.listData=i.skinList,this.topContent.updateDot(),this.updateBtnRed();var s=t[0]||O7.C70;t[1]&&(this.index=t[1]),this.ZQ23(s)},t.prototype.uBM=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];o.prototype.uBM.call(this,t,e),t instanceof TF33&&(this.topContent.listData=TF35.FG3()),this.updateBtnRed()},t.prototype.ZQ23=function(t){switch(this.viewId=t){case O7.C70:this.topContent.$setVisible(!1),this.btnList.ZM66(t);break;case O7.E40:this.topContent.$setVisible(!1),this.index?(this.btnList.ZM66(t,this.index),this.index=null):this.btnList.ZM66(t);break;case O7.B91:this.topContent.$setVisible(!0),this.btnList.ZM66(t),this.topContent.endScroller();break;case O7.F30:this.topContent.$setVisible(!1),this.btnList.ZM66(t),this.topContent.endScroller();break;case O7.F45:TC22.FJ44(!0)&&(this.topContent.$setVisible(!1),this.btnList.ZM66(t),this.topContent.endScroller())}},t.prototype.updateBtnRed=function(){var t=App.CM.gtM(O6.B49);this.btnList.ZHH58(O7.C70,t.getRedNum1()),this.btnList.ZHH58(O7.E40,t.getRedNum2()),this.btnList.ZHH58(O7.B91,t.getRedNum3()),this.btnList.ZHH58(O7.F30,t.getRedNum4()),this.btnList.ZHH58(O7.F45,t.getRedNum5())},t.prototype.openHelpView=function(){var t,e={title:this.viewId==O7.F45?(t=O3.tr(7873),O3.tr(7875)):(t=I5.gIV("tipsTex"),I5.gIV("tipsTitle")),content:t};App.CM.apF(O6.C18,O10.A24,e)},t.prototype.close=function(){o.prototype.close.call(this),App.CM.gtM(O6.B49)._skinViewId=null,this.helpBtn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.openHelpView,this),P7.FK28(),this.content.removeChildren(),this.topContent.listData=null,this.topContent=null},t}(BasePanelView);__reflect(ChildrenMainView.prototype,"ChildrenMainView");var ChildrenMasterSkillTipsView=function(s){function t(t,e){var i=s.call(this,t,e)||this;return i.skinName=ChildrenMasterSkillTipsSkin,i}return __extends(t,s),t.prototype.initUI=function(){s.prototype.initUI.call(this),this.lbStr1.textFlow=(new egret.HtmlTextParser).parser(O3.tr(3713)),this.lbStr2.textFlow=(new egret.HtmlTextParser).parser(O3.tr(3714))},t.prototype.open=function(t){s.prototype.open.call(this),this.addEventListener(egret.TouchEvent.TOUCH_TAP,this.closeSelf,this);var e=App.CM.gtM(O6.B49);if(null!=t){var i=e.ChildrenSkillData[t+2];this.seconSkill(i)}else this.mainSkill(e);this.grpHeight.validateNow(),this.imgDi.height=this.grpHeight.height},t.prototype.seconSkill=function(t){var e=I5.skillGroup[t.skillid][t.lv+1];this.lbName.textFlow=(new egret.HtmlTextParser).parser(O3.tr(3715,t.name)),this.imgHead.source=t.icon,t.lv?(this.lbGrade.textFlow=(new egret.HtmlTextParser).parser(O3.tr(3716,t.lv)),this.lbBaseAttr.textFlow=(new egret.HtmlTextParser).parser(O3.tr(3715,t.desc)),e?(this.lbUnlock.visible=!1,this.lbNextAttr.visible=!0,this.lbNextAttr.top=30,this.lbNextAttr.textFlow=(new egret.HtmlTextParser).parser(O3.tr(3717,e.desc))):(this.lbNextAttr.visible=!1,this.lbUnlock.textFlow=(new egret.HtmlTextParser).parser(O3.tr(1813)))):(this.lbBaseAttr.textFlow=(new egret.HtmlTextParser).parser(O3.tr(4312)),this.lbBaseAttr.textAlign="center",this.lbGrade.textFlow=(new egret.HtmlTextParser).parser(O3.tr(3716,t.lv+1)),this.lbNextAttr.visible=!0,this.lbNextAttr.textFlow=(new egret.HtmlTextParser).parser(O3.tr(3717,e.desc)),this.lbUnlock.textFlow=(new egret.HtmlTextParser).parser(O3.tr(3712,t.unlock)),this.lbUnlock.visible=!0)},t.prototype.mainSkill=function(t){var e=t.ChildrenMainSkillData,i=I5.skillMain,s=I5.skillGroup[e.skillId][e.lv],o=I5.skillGroup[e.skillId][e.lv+1];this.lbName.textFlow=(new egret.HtmlTextParser).parser(O3.tr(3715,i.name)),this.lbBaseAttr.textFlow=(new egret.HtmlTextParser).parser(O3.tr(3715,s.desc)),o?(this.lbNextAttr.visible=!0,this.lbUnlock.textFlow=(new egret.HtmlTextParser).parser(O3.tr(3712,s.cost)),this.lbNextAttr.textFlow=(new egret.HtmlTextParser).parser(O3.tr(3717,o.desc))):(this.lbNextAttr.visible=!1,this.lbUnlock.textFlow=(new egret.HtmlTextParser).parser(O3.tr(1813))),this.imgHead.source=i.icon,this.lbGrade.textFlow=(new egret.HtmlTextParser).parser(O3.tr(3716,e.lv))},t.prototype.closeSelf=function(){this.apF(I10.A1)},t.prototype.close=function(){s.prototype.close.call(this),this.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.closeSelf,this)},t}(BaseEuiView);__reflect(ChildrenMasterSkillTipsView.prototype,"ChildrenMasterSkillTipsView");var ChildrenRenameView=function(s){function t(t,e){var i=s.call(this,t,e)||this;return i.skinName=ChildrenRenameSkin,i}return __extends(t,s),t.prototype.open=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.btnConfirm.addEventListener(egret.TouchEvent.TOUCH_TAP,this.ZV75,this),this.backBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.closeSelf,this),this.dlg.ZM69(this.closeSelf,this);var i=App.CM.gtM(O6.B49);this.edName.text=i.ChildrenUpgradeData.name,this.dlg.title=O3.tr(3751),this.lbStr1.text=O3.tr(3749),this.lbStr2.text=O3.tr(3750),this.btnConfirm.label=O3.tr(5355)},t.prototype.ZV75=function(){var t=App.CM.gtM(O6.B49);if(this.edName.text!=t.ChildrenUpgradeData.name){var e=parseInt(N14.gIV("nameMax"));M18.FF63(this.edName.text)>2*e?P18.sDP(O3.tr(1454)):M18.FF63(this.edName.text)<=0?P18.sDP(O3.tr(1471)):(this.closeSelf(),this.apF(I10.A61,this.edName.text))}else this.closeSelf()},t.prototype.close=function(){s.prototype.close.call(this),this.btnConfirm.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.ZV75,this),this.backBtn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.closeSelf,this)},t.prototype.closeSelf=function(){this.apF(I10.A14)},t}(BaseEuiView);__reflect(ChildrenRenameView.prototype,"ChildrenRenameView");var ChildrenSkillView=function(o){function t(t,e){var i=o.call(this,t,e)||this;return i.bossPos={x:-170,y:-80},i.myPos={x:140,y:10},i.skinName=ChildrenSkillSkin,i}return __extends(t,o),t.prototype.initUI=function(){o.prototype.initUI.call(this),this.btnUpgrade.label=O3.tr(5885),this.lbStr2.textFlow=M18.HTP.parser(O3.tr(3747)),this.lbStr3.textFlow=M18.HTP.parser(O3.tr(3720)),this.lbStr4.textFlow=M18.HTP.parser(O3.tr(3709)),this.itemData.dataProvider=this.itemSource=new eui.ArrayCollection,this.itemData.itemRenderer=ChildrenBreachItem,this.attrData.dataProvider=this.attrSource=new eui.ArrayCollection,this.attrData.itemRenderer=ChildrenSkillItem,this.descData.dataProvider=this.descSource=new eui.ArrayCollection,this.descData.itemRenderer=ChildrenAddSkillItem,this.childrenTalk=new BossTalk,this.lbStr1.textFlow=M18.HTP.parse(O3.tr(3945))},t.prototype.addBossTalk=function(){var t=this.selectedSkill.data.skillid,e=I5.skill[t],i=this.childrenTalk,s=e.yell.split("|"),o=s[Math.round(Math.random()*(s.length-1))];this.childrenTalk.setImgMsg(o),i.x=-70,i.top=-98,this.objChildren.getComponent(J14.C_Avatar).body.addChild(i),egret.Tween.get(i).wait(1500).call(function(){egret.Tween.removeTweens(i),App.TF56.ZJ66(i)})},t.prototype.restObjModel=function(){this.ZN41(),this.objBoss.x=this.objBoss.y=this.objMy.x=this.objMy.y=this.objChildren.x=this.objChildren.y=0,this.objBoss.action=this.objMy.action=this.objChildren.action=Action.Stand,this.ZK34()},t.prototype.initData=function(){o.prototype.initData.call(this)},t.prototype.open=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];o.prototype.open.call(this,t),this.btnUpgrade.addEventListener(egret.TouchEvent.TOUCH_TAP,this.ZU30,this);var i=t[0]||0;this.ZR12(),this.ZC97();var s=this.grpNewSkills.getChildAt(i);this.ZK34(),this.firstSelect(s)},t.prototype.cTH=function(){null!=this.timerHandler&&(App.K16.rBH(this.timerHandler),this.timerHandler=null)},t.prototype.close=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];o.prototype.close.call(this),this.ZN41(),this.btnUpgrade.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.ZU30,this),this.cTH(),this.grpMy.removeChildren(),this.objMy&&(this.objMy.destory(),this.objMy=null),this.objChildren&&(this.objChildren.destory(),this.objChildren=null),this.grpBoss.removeChildren(),this.grpChildren.removeChildren(),this.objBoss&&(this.objBoss.destory(),this.objBoss=null),this.costNum=null,this.costId=null,this.itemSource.removeAll(),this.attrSource.removeAll(),this.descSource.removeAll()},t.prototype.ZN41=function(){egret.Tween.removeTweens(this.objMy),egret.Tween.removeTweens(this.objBoss),egret.Tween.removeTweens(this),this.objChildren&&egret.Tween.removeTweens(this.objChildren)},t.prototype.uBM=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];o.prototype.uBM.call(this,t,e),t instanceof THH9&&this.ZC97(),t instanceof TF33&&this.ZC97()},t.prototype.ZR12=function(){for(var t=0;t<5;t++){var e=this.grpNewSkills.getChildAt(t);e&&e.ZK29(this.GW87,this)}},t.prototype.ZC97=function(){var t=App.CM.gtM(O6.B49);if(this.lbPower.textFlow=M18.HTP.parser(O3.tr(3719,TF35.FL51())),t){for(var e=0;e<5;e++){var i=this.grpNewSkills.getChildAt(e);if(i){var s=TF35.FJ46(e+1);i.setData(s),i.selected=!1,s&&s.isOpen()&&null==this.selectedSkill&&(this.selectedSkill=i)}}this.selectedSkill&&(this.selectedSkill.selected=!0),this.ZQ39()}},t.prototype.ZQ39=function(){if(this.selectedSkill&&this.selectedSkill.data){var t=this.selectedSkill.data;0==t.lv?this.lbSkillName.textFlow=M18.HTP.parse(O3.tr(3947,t.name,1)):this.lbSkillName.textFlow=M18.HTP.parse(O3.tr(3947,t.name,t.lv));var e=new eui.Label;e.size=20;for(var i="";i+="　",e.textFlow=M18.HTP.parse(i),e.width<this.imgText.width-15;);var s=M18.HTP.parse(O3.tr(3946,i+t.desc));if(this.lbDesc.textFlow=s,t.lv){this.gpBottom.visible=!0,this.lbOpen.visible=!1;var o=t.getUpCost();if(o){this.itemSource.replaceAll(o);var r=o[0].split(":");this.costId=parseInt(r[0]);var n=N12.giC(r[0]);this.costNum=parseInt(r[1]),this.btnUpgrade.imgNew.visible=this.costNum<=n,P16.sGF(this.btnUpgrade,!1),this.btnUpgrade.enabled=!0,this.lbStr4.visible=this.itemData.visible=!0,this.btnUpgrade.label=O3.tr(1145),TF35.FI13(!1)}else this.btnUpgrade.imgNew.visible=!1,this.btnUpgrade.enabled=!1,TF35.FI13(!0),this.btnUpgrade.label=O3.tr(1828),P16.sGF(this.btnUpgrade,!0),this.lbStr4.visible=this.itemData.visible=!1;var a=t.FJ32();this.attrSource.replaceAll(a),this.attrData.validateNow();for(var h=this.attrData.$children,p="",l=0;l<h.length;l++){var c=h[l];p.length<c.lbAttr.text.length&&(p=c.lbAttr.text)}var u=TF35.FE79(p,24,this);for(l=0;l<h.length;l++){(c=h[l]).lbAttr.width=u.w+8}this.attrSource.refresh();var d=t.ZR44();this.descSource.replaceAll(d),this.descData.validateNow(),h=this.descData.$children,p="";for(l=0;l<h.length;l++){c=h[l];p.length<c.lbAttr.text.length&&(p=c.lbAttr.text)}u=TF35.FE79(p,24,this);for(l=0;l<h.length;l++){(c=h[l]).lbAttr.width=u.w+8}this.descSource.refresh()}else this.lbOpen.textFlow=M18.HTP.parser(O3.tr(3725,t.unlock)),this.lbOpen.visible=!0,this.gpBottom.visible=!1}else this.lbSkillName.text="",this.lbDesc.text="",this.btnUpgrade.imgNew.visible=!1},t.prototype.firstSelect=function(t){this.selectedSkill&&(this.selectedSkill.selected=!1),this.selectedSkill=t,this.selectedSkill.selected=!0,this.ZQ39(),this.moveToAtkPos(),this.ZN73()},t.prototype.GW87=function(t){t&&this.selectedSkill&&t.data.skill==this.selectedSkill.data.skill||(this.selectedSkill&&(this.selectedSkill.selected=!1),this.selectedSkill=t,this.isDouble=null,this.selectedSkill.selected=!0,this.ZQ39(),this.restObjModel(),4!=t.data.pos?this.moveToAtkPos():this.ZK79(),this.cTH(),this.ZN73())},t.prototype.ZN73=function(){var t=this.selectedSkill.data.pos;this.timerHandler=2==t?App.K16.doTimer(4e3,0,this.moveToAtkPos,this,null,this):4==t?App.K16.doTimer(3e3,0,this.ZK79,this,null,this):App.K16.doTimer(3e3,0,this.moveToAtkPos,this,null,this)},t.prototype.ZK79=function(){var t=this;this.myPos.x===this.objBoss.x&&this.myPos.y===this.objBoss.y?this.attack():(this.objBoss.batMoving=!0,this.objBoss.action=Action.Move,this.objBoss.setAtkShowLv(!0),egret.Tween.get(this.objBoss).to({x:this.myPos.x,y:this.myPos.y},P17.A24/FightD.BT_PLAY_SPEED_LIST[1]-20,egret.Ease.circOut).wait(P17.A34/FightD.BT_PLAY_SPEED_LIST[1]).call(function(){t.objBoss&&(t.objBoss.batMoving=!1,t.objBoss.action=Action.Attack,t.playMainAui())}),this.objChildren.batMoving=!0,this.objChildren.action=Action.Move,this.objChildren.setAtkShowLv(!0),egret.Tween.get(this.objChildren).to({y:this.myPos.y-50},P17.A24/FightD.BT_PLAY_SPEED_LIST[1],egret.Ease.circOut))},t.prototype.moveToAtkPos=function(){var t=this,e=this.FI15(1031001,2),i=this.getObjAtkPos(e);i.x===this.objChildren.x&&i.y===this.objChildren.y?this.attack():(this.objChildren.batMoving=!0,this.objChildren.action=Action.Move,this.objChildren.setAtkShowLv(!0),egret.Tween.get(this.objChildren).to({x:i.x,y:i.y},P17.A24/FightD.BT_PLAY_SPEED_LIST[1]-20,egret.Ease.circOut).wait(P17.A34/FightD.BT_PLAY_SPEED_LIST[1]).call(function(){t.objChildren&&(t.objChildren.batMoving=!1,t.objChildren.action!=Action.Die&&(t.objChildren.action=Action.Stand),t.attack())}))},t.prototype.attack=function(){var t=this;egret.Tween.get(this).wait(100).call(function(){t.playSkill()})},t.prototype.getObjAtkPos=function(t){var e={x:0,y:0};switch(t.attackRage){case 2:e.x=this.objChildren.x,e.y=this.objChildren.y;break;case 1:default:this.objBoss&&(e=this.bossPos)}return e},t.prototype.playSkill=function(){this.objChildren.action=Action.Attack;var t=this.FI15(1031001,1);t.picture&&0<t.picture.length&&this.playSkillAni(t),this.playHurt(P17.A18,t)},t.prototype.playSkillAni=function(t){this.playOneSkill(t,TG67.FJ77(t,Dir.tl,this.objChildren))},t.prototype.playOneSkill=function(t,e){if(this.objBoss){var i=ObjectPool.pop(J14.C_SkillNew),s=this.ZI3();i.setParams({data:t,x:this.grpBoss.x,y:s,dir:Dir.tl,gameView:this}),i.start(),this.selectedSkill.data.skill,App.K16.doTimer(P17.A18,1,this.ZV26,this,null,this)}},t.prototype.playHurt=function(t,e){var i=this;switch(e.attackRage){case 2:1010002==e.id?this.playHurtAni({data:e,dir:Dir.tl}):egret.Tween.get(this).wait(100).call(function(){i.playHurtAni({data:e,dir:Dir.tl})},this);break;case 1:default:App.K16.doTimer(1,1,function(){i.playHurtAni({data:e,dir:Dir.tl})},this,null,this)}},t.prototype.playMainAui=function(){this.addBossTalk();this.objMy.getComponent(J14.C_Avatar);this.stepBackward(this.objMy),this.objChildren.getComponent(J14.C_Blood).setBlood(60),App.K16.doTimer(P17.A18,1,this.ZV26,this,null,this)},t.prototype.playHurtAni=function(t){var e=this;if(this.objBoss)switch(this.selectedSkill.data.pos){case 1:if(this.addBossTalk(),this.objMy){var i=this.objMy.getComponent(J14.C_Blood);this.objMy.getComponent(J14.C_Avatar);i.setBlood(90),this.objMy.action=Action.Act,this.playEffect(this.objMy,601)}if(this.stepBackward(this.objBoss),t.data.hitResName&&0<t.data.hitResName.length){var s=ObjectPool.pop(J14.C_HitNew),o=TF40.FJ80(t.data),r=this.ZI3();s.setParams({data:o,x:this.grpBoss.x,y:r,dir:t.dir,gameView:this}),s.start(),App.K16.doTimer(P17.A18,1,this.ZV26,this,null,this)}break;case 2:if(this.stepBackward(this.objBoss),t.data.hitResName&&0<t.data.hitResName.length){s=ObjectPool.pop(J14.C_HitNew),o=TF40.FJ80(t.data),r=this.ZI3();if(s.setParams({data:o,x:this.grpBoss.x,y:r,dir:t.dir,gameView:this}),s.start(),!this.isDouble)this.isDouble=!0,this.addBossTalk(),this.objBoss.getComponent(J14.C_Blood).setBlood(60),egret.Tween.get(this).wait(P17.A18).call(function(){e.objChildren.action=Action.Attack,e.objBoss.getComponent(J14.C_Blood).setBlood(40),e.playHurtAni(t),e.isDouble=null}),App.K16.doTimer(2*P17.A18,1,this.ZV26,this,null,this)}break;case 3:if(this.addBossTalk(),this.stepBackward(this.objBoss),t.data.hitResName&&0<t.data.hitResName.length){s=ObjectPool.pop(J14.C_HitNew),o=TF40.FJ80(t.data),r=this.ZI3();s.setParams({data:o,x:this.grpBoss.x,y:r,dir:t.dir,gameView:this}),s.start(),App.K16.doTimer(P17.A18,1,this.ZV26,this,null,this)}this.playEffect(this.objBoss,1001);break;default:if(this.addBossTalk(),this.stepBackward(this.objBoss),t.data.hitResName&&0<t.data.hitResName.length){s=ObjectPool.pop(J14.C_HitNew),o=TF40.FJ80(t.data),r=this.ZI3();s.setParams({data:o,x:this.grpBoss.x,y:r,dir:t.dir,gameView:this}),s.start(),App.K16.doTimer(P17.A18,1,this.ZV26,this,null,this)}}},t.prototype.ZI3=function(){var t=0;switch(this.selectedSkill.data.skill){case 1010001:t=-30;break;case 1010002:case 1010003:t=50;break;case 1010011:t=-20;break;case 1010012:t=-30;break;case 1010021:case 1010022:t=-40;break;default:t=5}return this.grpBoss.y/2+t},t.prototype.stepBackward=function(t){var e=t.getComponent(J14.C_Blood),i=this.selectedSkill.data.pos;if(2!=i){var s=60;5==i&&(s=30),e.setBlood(s)}var o=TG67.FD5(t.side,FightD.BT_BACK_DIS,t.x,t.y);t.batMoving=!0,t.action=Action.Attacked,egret.Tween.get(t).to(o,P17.A21/FightD.BT_PLAY_SPEED_LIST[1]).call(function(){t&&t.action!=Action.Die&&(t.action=Action.Move)}).to({x:t.x,y:t.y},P17.A21/FightD.BT_PLAY_SPEED_LIST[1]).call(function(){t&&(t.batMoving=!1,t.action!=Action.Die&&(t.action=Action.Stand))})},t.prototype.ZV26=function(){var t=this;this.objChildren&&this.bossPos&&((this.objChildren.x==this.bossPos.x&&this.objChildren.y==this.bossPos.y||this.objChildren.y==this.myPos.y-50)&&(this.objChildren.batMoving=!0,this.objChildren.action=Action.Move,egret.Tween.get(this.objChildren).to({x:0,y:0},P17.A20/FightD.BT_PLAY_SPEED_LIST[1],egret.Ease.circOut).call(function(){t.objChildren&&t.objChildren.action!=Action.Die&&(t.objChildren.action=Action.Stand)}).wait(P17.A9/FightD.BT_PLAY_SPEED_LIST[1]).call(function(){t.ZK34(),t.objChildren&&(t.objChildren.setAtkShowLv(!1),t.objChildren.batMoving=!1)})),this.objBoss.x==this.myPos.x&&this.objBoss.y==this.myPos.y&&(this.objBoss.batMoving=!0,this.objBoss.action=Action.Move,egret.Tween.get(this.objBoss).to({x:0,y:0},P17.A20/FightD.BT_PLAY_SPEED_LIST[1],egret.Ease.circOut).call(function(){t.objBoss&&t.objBoss.action!=Action.Die&&(t.objBoss.action=Action.Stand)}).wait(P17.A9/FightD.BT_PLAY_SPEED_LIST[1]).call(function(){t.ZK34(),t.objBoss&&(t.objBoss.setAtkShowLv(!1),t.objBoss.batMoving=!1)})))},t.prototype.playEffect=function(t,e){var i=TG29.FL95(e);if(i){var s=t.getComponent(J14.C_Avatar),o=void 0;if(i.effectname&&0<i.effectname.length){901==i.id&&t.action!=Action.Die&&(t.action=Action.Attack),o=TG67.FD96(s,i.effectposition);var r=ObjectPool.pop(J14.C_Effect),n={data:{picture:i.effectname,type:FightResType.buff,anchorx:i.anchorx,anchory:i.anchory},x:o.x,y:o.y,dir:t.dir,av:s};r.setParams(n),r.start()}}},t.prototype.FI15=function(t,e){var i=TF40.getSkill(t,e),s=TG29.getSkill(this.selectedSkill.data.skill);for(var o in s)"hurtchange"!=o&&"repeathurt"!=o&&"buff"!=o&&"antihurt"!=o&&"finalhurt"!=o||(i[o]=s[o]);return i},t.prototype.ZV27=function(){return this.grpSkill},t.prototype.ZK34=function(){if(this.objBoss){(e=this.objBoss.getComponent(J14.C_Blood)).setBlood(100)}else{this.objBoss=new FightGameObject,this.objBoss.action=Action.Stand;var t={id:10501,x:0,y:0,dir:Dir.br,objType:P13.A1,s:2,p:1,bt:BehaviourType.Attack_d};this.objBoss.setData(t,this.grpBoss),this.objBoss.ZW75();var e=this.objBoss.getComponent(J14.C_Blood);this.objBoss.thp=100,this.objBoss.hp=100,e.start()}if(this.objChildren){(e=this.objChildren.getComponent(J14.C_Blood)).setBlood(100)}else{this.objChildren=new FightGameObject;t={id:App.CM.gtM(O6.B49).ChildrenUpgradeData.skId,x:0,y:0,s:1,dir:Dir.tl,objType:P13.A1,bt:BehaviourType.Fight_u};this.objChildren.setData(t,this.grpChildren),this.objChildren.action=Action.Stand,this.objChildren.name=null,this.objChildren.ZW75();var e=this.objChildren.getComponent(J14.C_Blood);this.objChildren.thp=100,this.objChildren.hp=100,e.start()}switch(this.selectedSkill.data.pos){case 4:case 1:this.grpMy.visible=!0;var i=App.CM.gtM(O6.B82).avatarInfo.us[J11.A7];if(this.objMy){(e=this.objMy.getComponent(J14.C_Blood)).setBlood(50)}else{this.objMy=new FightGameObject;t={x:0,y:0,dir:Dir.tl,objType:P13.A1,bt:BehaviourType.Fight_u};this.objMy.setBaseData(t),i.bt=BehaviourType.Fight_u,this.objMy.setData(i,this.grpMy),this.objMy.ZW75(),this.objMy.thp=100,this.objMy.hp=50,(e=this.objMy.getComponent(J14.C_Blood)).start()}this.objMy.name=null,this.objMy.titleId=null;break;default:this.grpMy.visible=!1}},t.prototype.ZU30=function(){if(this.btnUpgrade.imgNew.visible)this.apF(I10.A34,this.selectedSkill.data.skillid);else{var t=N12.giC(this.costId);App.VM.open(O7.G87,this.costId,t-this.costNum)}},t}(BaseEuiView);__reflect(ChildrenSkillView.prototype,"ChildrenSkillView");var ChildrenSkinIconList=function(e){function t(){var t=e.call(this)||this;return t._listData=[],t.skinName=HeroIconListSkin,t.initUI(),t}return __extends(t,e),t.prototype.initUI=function(){var t=this.listIcon.layout;this.listGap=t.gap,this.btnLeft.addEventListener(egret.TouchEvent.TOUCH_TAP,this.ZN74,this),this.btnRight.addEventListener(egret.TouchEvent.TOUCH_TAP,this.ZK80,this),this.listIcon.addEventListener(eui.ItemTapEvent.ITEM_TAP,this.ZN17,this),this.scIconList.addEventListener(eui.UIEvent.CHANGE_END,this.endScroller,this),this.scIconList.viewport=this.listIcon,this.scIconList.scrollPolicyV=eui.ScrollPolicy.OFF,this.createList()},t.prototype.createList=function(){this.dataSource=new eui.ArrayCollection(this._listData),this.listIcon.itemRenderer=ChildrenIcon,this.listIcon.dataProvider=this.dataSource},Object.defineProperty(t.prototype,"listData",{get:function(){return this._listData},set:function(t){t?this.initIconList(t):this.dataSource.removeAll()},enumerable:!0,configurable:!0}),t.prototype.initIconList=function(t){for(var e in this._listData=[],t){(o=t[e])&&this._listData.push(o)}this._listData.sort(TF35.FI14),this.dataSource.replaceAll(this._listData),this.curIndex=0;var i=App.CM.gtM(O6.B49);if(i.skinViewId)for(var s=0;s<this.listData.length;s++){var o;(o=this._listData[s]).id==i.skinViewId&&(this.curIndex=s)}this.listIcon.selectedIndex=this.curIndex,i.skinViewId!=this.listData[this.curIndex].id&&(i.skinViewId=this.listData[this.curIndex].id,0==this.curIndex&&(this.scIconList.viewport.scrollH=0)),this.ZR52(0,5)},t.prototype.ZN17=function(t){this.curIndex=t.itemIndex;var e=App.CM.gtM(O6.B49);this.listData[this.curIndex].id!=e.skinViewId&&(e.skinViewId=this.listData[this.curIndex].id)},t.prototype.ZK80=function(){if(!(this.listData.length<=5)){var t=(this.listIcon.contentWidth-(this.listData.length-1)*this.listGap)/this.listData.length+this.listGap,e=Math.floor((this.listIcon.scrollH+5*t)/t);e>=this.listData.length-5&&(e=this.listData.length-5),this.listIcon.scrollH=e*t;var i=Math.min(e+4,this.listData.length);this.ZR52(e,i)}},t.prototype.ZN74=function(){var t=(this.listIcon.contentWidth-(this.listData.length-1)*this.listGap)/this.listData.length+this.listGap,e=Math.ceil((this.listIcon.scrollH-5*t)/t);e<0&&(e=0),this.listIcon.scrollH=e*t,this.listIcon.scrollH=e*t;var i=Math.min(e+5,this.listData.length);this.ZR52(e,i)},t.prototype.endScroller=function(){var t=(this.listIcon.contentWidth-(this.listData.length-1)*this.listGap)/this.listData.length+this.listGap,e=Math.floor(this.listIcon.scrollH/t);e<0&&(e=0);var i=Math.min(e+5,this.listData.length);this.ZR52(e,i)},t.prototype.ZR52=function(t,e){for(var i={left:0,right:0},s=0;s<t;s++){if(0<this.listData[s].FL35()){i.left=1;break}}for(s=e;s<this.listData.length;s++){if(0<this.listData[s].FL35()){i.right=1;break}}this.imgRedL.visible=0<i.left,this.imgRedR.visible=0<i.right},t.prototype.updateDot=function(){var t=this;App.K16.doFrame(1,1,function(){return t.ZR52(0,5)},this,function(){return App.K16.removeAll(t)})},t}(eui.Component);__reflect(ChildrenSkinIconList.prototype,"ChildrenSkinIconList");var ChildrenToysView=function(n){function t(t,e){var i=n.call(this,t,e)||this;return i.skinName=ChildrenToysSkin,i}return __extends(t,n),t.prototype.initUI=function(){n.prototype.initUI.call(this),this.touchEnabled=!1,this.btnAdvanced.label=O3.tr(6530),this.attrData.dataProvider=this.attrCollection=new eui.ArrayCollection,this.attrData.itemRenderer=ChildrenAdvancedItem,this.tabBar.dataProvider=this.tabCollection=new eui.ArrayCollection,this.tabBar.itemRenderer=FaBaoTabBarItem,this.tabCollection.replaceAll([{up:6521,down:6522,type:"w"},{up:6523,down:6524,type:"f"},{up:6525,down:6526,type:"r"}]),this.lbStr5.textFlow=M18.HTP.parser(O3.tr(6520)),this.lbGet.textFlow=M18.HTP.parser(O3.tr(6536)),this.lbGet0.textFlow=M18.HTP.parser(O3.tr(6536)),this.lbStr6.textFlow=M18.HTP.parser(O3.tr(6527)),this.lbStr7.textFlow=M18.HTP.parser(O3.tr(6529)),this.wearAllData.dataProvider=this.wearAllCollection=new eui.ArrayCollection,this.wearAllData.itemRenderer=ChildrenAllWearItem,this.wearNowData.dataProvider=this.wearNowCollection=new eui.ArrayCollection,this.wearNowData.itemRenderer=ChildrenNowWearItem,this.btnSynthesis.label=O3.tr(6533),this.btnGet.label=O3.tr(6580),this.itemIcon=new ItemIcon,this.iconGp.addChild(this.itemIcon),this.itemIcon1=new ItemIcon,this.iconGp1.addChild(this.itemIcon1),this.itemIcon2=new ItemIcon,this.iconGp2.addChild(this.itemIcon2),this.itemIcon0=new ItemIcon,this.iconGp0.addChild(this.itemIcon0),this.lbStr1.textFlow=M18.HTP.parser(O3.tr(6539)),this.lbStr2.textFlow=M18.HTP.parser(O3.tr(6542)),this.lbStr4.textFlow=M18.HTP.parser(O3.tr(6538)),this.attrNowData.dataProvider=this.attrNowCollection=new eui.ArrayCollection,this.attrNowData.itemRenderer=ChildrenFuLingAttrItem,this.attrNextData.dataProvider=this.attrNextCollection=new eui.ArrayCollection,this.attrNextData.itemRenderer=ChildrenFuLingAttrItem,this.btnFuLing.label=O3.tr(6553);var t=N12.gID(I5.polishingItem);this.imgItem.setData(t);var e={render:ChildrenChooseEquipItem,tileLayout:!0,horizontalGap:14,verticalGap:5,width:this.grpRes.width,height:this.grpRes.height,arrowScale:1};this.listView=new CommonListBase(e),this.grpRes.addChild(this.listView),this.btnResolve.label=O3.tr(6548),this.itemResole=new ItemIcon,this.iconResole.addChild(this.itemResole);var i=N12.gID(I5.resolveItemId),s={itemData:{data:i,ct:0},isBottom:!1};this.lbResolveName.textFlow=M18.HTP.parser(O3.tr(6546,i.name)),this.itemResole.data=s,this.initItems()},t.prototype.open=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];n.prototype.open.call(this),this.btnWear.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickWear,this),this.btnSynthesis.addEventListener(egret.TouchEvent.TOUCH_TAP,this.ZK81,this),this.btnResolve.addEventListener(egret.TouchEvent.TOUCH_TAP,this.ZN76,this),this.btnFuLing.addEventListener(egret.TouchEvent.TOUCH_TAP,this.ZV78,this),this.btnAdvanced.addEventListener(egret.TouchEvent.TOUCH_TAP,this.ZN75,this),this.lbGet.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickGet,this),this.lbGet0.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickGet,this),this.tabBar.addEventListener(eui.UIEvent.CHANGE,this.tabBarChange,this),this.btnGet.addEventListener(egret.TouchEvent.TOUCH_TAP,this.ZV77,this);var i=this.grpHurdles.getChildAt(0);this.listView.open(),this.updateUI(),this.showAction(),this.ZV79();for(var s=!0,o=0;o<6;o++){var r=this.grpHurdles.getChildAt(o);if(r.data.getRed()){this.firstSelect(r),s=!1;break}}s&&this.firstSelect(i)},t.prototype.showAction=function(){var t=App.CM.gtM(O6.B49);this.objBoss&&(this.gpChrildren.removeChildren(),this.objBoss.destory(),this.objBoss=null);var e={id:t.ChildrenUpgradeData.skId,x:0,y:0,dir:Dir.br,objType:P13.A6,bt:BehaviourType.Stand_d};this.objBoss=new FightGameObject,this.objBoss.setData(e,this.gpChrildren),this.objBoss.action=Action.Stand},t.prototype.ZC97=function(t){for(var e=0;e<6;e++){var i=this.grpHurdles.getChildAt(e);if(i){var s=t.cellsData[e+1];i.setData(s),s&&s.isOwn&&null==this.selectedSkill&&(this.selectedSkill=i,this.selectedSkill.selected=!0)}}},t.prototype.firstSelect=function(t){this.selectedSkill&&(this.selectedSkill.selected=!1),this.selectedSkill=t,this.selectedSkill.selected=!0,this.ZQ39()},t.prototype.GW87=function(t){this.selectedSkill&&(this.selectedSkill.selected=!1),this.selectedSkill=t,this.selectedSkill.selected=!0,this.ZQ39()},t.prototype.initItems=function(){for(var t=0;t<6;t++){var e=this.grpHurdles.getChildAt(t);e&&e.ZK29(this.GW87,this)}},t.prototype.changeWear=function(){this.grpWear.visible=!0,this.grpResolve.visible=!1,this.grpFuLing.visible=!1;var t=this.selectedSkill.data,e=t.getCellAllAttr();if(this.wearAllCollection.replaceAll(e),t.isOwn){this.grpNoWear.visible=!1,this.btnWear.imgNew.visible=!1,this.grpHaveWear.visible=!0,this.btnWear.label=O3.tr(6532);var i=t.getCellAttr();this.wearNowCollection.replaceAll(i);var s={itemData:{data:t.toyData,ct:0},isBottom:!1};this.itemIcon.data=s}else if(t.getCanWear()){this.grpNoWear.visible=!1,this.grpHaveWear.visible=!0,this.btnWear.label=O3.tr(6531),this.btnWear.imgNew.visible=!0;var o=t.getCanCellAttr();this.wearNowCollection.replaceAll(o);s={itemData:{data:t.needToyData,ct:0},isBottom:!1};this.itemIcon.data=s}else if(this.grpHaveWear.visible=!1,this.grpNoWear.visible=!0,t.isCanHe){this.grpCanHe.visible=!0,this.grpNOHe.visible=!1;var r=TF35.FI18(t.needItemID),n={itemData:{data:I5.toy[t.needItemID],ct:0},isBottom:!1};this.itemIcon1.data=n;var a={itemData:{data:t.needToyData,ct:0},isBottom:!1};this.itemIcon2.data=a,this.btnSynthesis.imgNew.visible=t.getCanHe(),t.getCanHe()?this.lbSyNum.textFlow=M18.HTP.parser(O3.tr(6534,r,t.needItemNum)):this.lbSyNum.textFlow=M18.HTP.parser(O3.tr(6535,r,t.needItemNum))}else{this.grpCanHe.visible=!1,this.grpNOHe.visible=!0,this.lbItemNum.textFlow=M18.HTP.parser(O3.tr(6535,0,1));s={itemData:{data:t.needToyData,ct:0},isBottom:!1};this.itemIcon0.data=s}},t.prototype.changeFuLing=function(){this.grpResolve.visible=!1,this.grpWear.visible=!1,this.grpFuLing.visible=!0;var t=this.selectedSkill.data,e=t.getNowFuLingAttr();this.attrNowCollection.replaceAll(e);var i=t.getNextFuLingAttr();this.attrNextCollection.replaceAll(i);var s=N12.giC(t.polishingItem);0<i.length?(this.lbFuLingLV.textFlow=M18.HTP.parser(O3.tr(6541,t.lv)),this.grpNow.horizontalCenter=-134,this.grpNext.visible=!0):(this.lbFuLingLV.textFlow=M18.HTP.parser(O3.tr(6628,t.lv)),this.grpNow.horizontalCenter=0,this.grpNext.visible=!1),t.getCanFuLing()?(this.btnFuLing.imgNew.visible=!0,this.lbAmount.textFlow=M18.HTP.parser(O3.tr(6534,s,t.costPolishNum))):(this.btnFuLing.imgNew.visible=!1,this.lbAmount.textFlow=M18.HTP.parser(O3.tr(6535,s,t.costPolishNum)))},t.prototype.ZV76=function(){this.grpWear.visible=!1,this.grpFuLing.visible=!1,this.grpResolve.visible=!0;var t=TF35.FB21();this.listView.rfL(t),this.listView.scContent.viewport.scrollV=0,this.ZF3()},t.prototype.tabBarChange=function(){switch(this.tabBar.selectedItem.type){case"w":this.changeWear();break;case"f":this.changeFuLing();break;case"r":this.ZV76()}},t.prototype.tabBarReset=function(){-1==this.tabBar.selectedIndex&&(this.tabBar.selectedIndex=0),this.tabBarChange(),this.setTabData()},t.prototype.resetIndex=function(){var t=this;App.DelayOptManager.ZE59(this,function(){t.tabBar.selectedIndex=0})},t.prototype.ZQ39=function(){this.selectedSkill&&this.selectedSkill.data&&this.tabBarReset()},t.prototype.ZN75=function(){App.VM.open(O7.HH38,M18.HTP.parser(O3.tr(6549)),this,function(){App.CM.apF(O6.B49,I10.A36)})},t.prototype.ZN76=function(){var t="",e=[],i=TF35.FB21(),s=!1;if(500<i.length&&(s=!0),s){for(var o=0;o<i.length;o++)i[o].isGou&&(t+=i[o].uid+","),o%500==0&&(t=t.substring(0,t.length-1),e.push(t),t="");var r=e.length,n=App.K16.doTimer(100,r,function(){App.CM.apF(O6.B49,I10.A12,e[--r])},this,function(){App.K16.rBH(n),n=null},this)}else{for(o=0;o<i.length;o++)i[o].isGou&&(t+=i[o].uid+",");(t=t.substring(0,t.length-1)).length?this.apF(I10.A12,t):P18.sDP(O3.tr(6551))}},t.prototype.ZF3=function(){for(var t=TF35.FB21(),e=0,i=0;i<t.length;i++)if(t[i].isGou&&t[i].tid){var s=t[i].tid;e+=parseInt(I5.toy[s].reform.split(";")[0].split(":")[1])}this.lbResolveHave.textFlow=M18.HTP.parser(O3.tr(6547,e))},t.prototype.onClickGet=function(){App.CM.gtM(O6.B82);var t=App.CM.gtM(O6.B43),e=O4.getLv(),i=t.serOpenDay+1;if(-1==App.CM.gtM(O6.A99).state)P18.sDP(O3.tr(6324));else{var s=F6.FE59("unlockLv"),o=F6.FE59("unlockDate");i<o||e<s?P18.sDP(O3.tr(3370,o,s)):TG84.FM16(ViewMapingIndex.CrossFieldBoss)}},t.prototype.ZV77=function(){var t=this.selectedSkill.data;App.VM.open(O7.G87,t.needItemID,1)},t.prototype.ZV78=function(){var t=this.selectedSkill.data,e=N12.giC(t.polishingItem);e>=t.costPolishNum?this.apF(I10.A10,t.pos):App.VM.open(O7.G87,t.polishingItem,t.costPolishNum-e)},t.prototype.onClickWear=function(){var t=this.selectedSkill.data;t.isOwn||this.apF(I10.A20,t.pos)},t.prototype.ZK81=function(){var t=this.selectedSkill.data;t.getCanHe()?this.apF(I10.A53,t.needToyData.id):this.ZV77()},t.prototype.ZV79=function(){var e=this;App.DelayOptManager.ZE59(this,function(){var t=TF35.FB21();e.listView.rfL(t)})},t.prototype.uBM=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];n.prototype.uBM.call(this,t,e);var s=e[0];if(t instanceof THH9)switch(s){case P4.V43:this.updateUI(),this.tabBarChange()}if(t instanceof TF33)switch(this.updateUI(),s){case P4.Q73:case P4.M66:this.changeWear(),this.ZV79();break;case P4.K55:this.changeFuLing();break;case P4.K57:this.ZV76(),this.ZV79();break;case"change":this.ZF3();break;case P4.O83:this.tabBarChange()}},t.prototype.updateUI=function(){var t=App.CM.gtM(O6.B49);this.ZC97(t),this.lbPowerTop.text=TF35.FG2()+"";var e=t.classLv,i=I5.toyLv[e],s=O5.FA77(i.quality,1),o=O5.FA16(i.quality);this.lbLv.textFlow=M18.HTP.parser(O3.tr(6514,s,o,i.rank));var r=TF35.FJ32();if(this.attrCollection.replaceAll(r),-1==i.nextid)this.lbStr3.textFlow=M18.HTP.parser(O3.tr(6626)),this.btnAdvanced.visible=this.lbStr5.visible=!1;else{this.lbStr3.textFlow=M18.HTP.parser(O3.tr(6517));var n=TF35.FL57();this.btnAdvanced.visible=this.btnAdvanced.imgNew.visible=n,this.lbStr5.visible=!n}App.DelayOptManager.ZE59(this,this.setTabData)},t.prototype.setTabData=function(){for(var t=0;t<this.tabBar.numChildren;t++){var e=this.tabBar.getChildAt(t);switch(t){case 0:e.setRed(this.selectedSkill.data.getWearRed());break;case 1:e.setRed(this.selectedSkill.data.getCanFuLing());break;case 2:e.setRed(TF35.FG4())}}},t.prototype.close=function(){n.prototype.close.call(this),this.btnWear.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickWear,this),this.btnSynthesis.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.ZK81,this),this.btnResolve.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.ZN76,this),this.btnFuLing.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.ZV78,this),this.btnAdvanced.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.ZN75,this),this.lbGet.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickGet,this),this.tabBar.removeEventListener(eui.UIEvent.CHANGE,this.tabBarChange,this),this.btnGet.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.ZV77,this),this.removeTween(),this.objBoss.destory(),this.objBoss=null,this.listView.close()},t.prototype.removeTween=function(){egret.Tween.removeTweens(this)},t}(BaseEuiView);__reflect(ChildrenToysView.prototype,"ChildrenToysView");var Classup,ChildrenUpgradeView=function(r){function t(t,e){var i=r.call(this,t,e)||this;return i.isAutoRaising=!1,i.isUsingGold=!1,i.skinName=ChildrenUpgradeSkin,i}return __extends(t,r),t.prototype.initUI=function(){r.prototype.initUI.call(this),this.touchEnabled=!1,this.pBarPro.slideDuration=0,this.lbStr2.textFlow=M18.HTP.parser(O3.tr(3702)),this.skillData.dataProvider=this.skillSource=new eui.ArrayCollection,this.skillData.itemRenderer=ChildrenOutSkillItem,this.itemData.dataProvider=this.itemSource=new eui.ArrayCollection,this.itemData.itemRenderer=ChildrenBreachItem,this.lbStr1.textFlow=M18.HTP.parse(O3.tr(3937)),this.cbAutoSmelt.labelDisplay.text=O3.tr(6398),this.lbStr4.textFlow=M18.HTP.parse(O3.tr(3939)),this.lbStr3.textFlow=M18.HTP.parse(O3.tr(3942)),this.btnBreach.label=O3.tr(3943),this.btnRaising.label=O3.tr(1145),this.btnAutoRai.label=O3.tr(4077)},t.prototype.open=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];r.prototype.open.call(this),this.btnRaising.addEventListener(egret.TouchEvent.TOUCH_TAP,this.raising,this),this.btnAutoRai.addEventListener(egret.TouchEvent.TOUCH_TAP,this.autoRaising,this),this.btnRename.addEventListener(egret.TouchEvent.TOUCH_TAP,this.ZV81,this),this.btnBreach.addEventListener(egret.TouchEvent.TOUCH_TAP,this.ZV80,this),this.cbAutoSmelt.addEventListener(egret.Event.CHANGE,this.autoSmelt,this);var i=App.CM.gtM(O6.B49);this.ZC97(i),this.updateName(i),this.showAction(i),this.stopAuto(),this.setPar(),this.isCan=!0},t.prototype.setPar=function(){this.pBarPro.value=this.childrenData.exp,this.pBarPro.maximum=I5.base[this.childrenData.lv+""].exp},t.prototype.ZV80=function(){this.btnBreach.imgNew.visible?this.apF(I10.A65):P18.sDP(O3.tr(2725))},t.prototype.raising=function(){this.ZQ92(!1,!1)},t.prototype.autoRaising=function(){this.isAuto=!0,this.autoUpgrade(!1)},t.prototype.setCanExpend=function(){var t=this.isAuto?2:1;this.canExpend(t)},t.prototype.uBM=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];r.prototype.uBM.call(this,t,e);var s=e[0];if(t instanceof TF33)switch(s){case P4.T96:this.ZC97(t),this.setPar();break;case P4.S38:this.updateName(t);break;case P4.Q69:this.isCan=!0,this.littleAddExp(t),this.ZC97(t);break;case P4.I82:this.showAction(t)}else if(t instanceof THH9||t instanceof TG12){var o=App.CM.gtM(O6.B49);this.ZC97(o)}},t.prototype.showAction=function(t){this.objBoss&&(this.gpChrildren.removeChildren(),this.objBoss.destory(),this.objBoss=null);var e={id:t.ChildrenUpgradeData.skId,x:0,y:0,dir:Dir.br,objType:P13.A6,bt:BehaviourType.Stand_d};this.objBoss=new FightGameObject,this.objBoss.setData(e,this.gpChrildren),this.objBoss.action=Action.Stand},t.prototype.updateName=function(t){this.lbName.textFlow=M18.HTP.parse(O3.tr(3936,t.ChildrenUpgradeData.name))},t.prototype.ZC97=function(t){this.childrenData=t.ChildrenUpgradeData,P7.FD53(this.btnRaising,t.getRedNum1()),P7.FD53(this.btnAutoRai,t.getRedNum1()),this.lbPowerTop.text=TF35.FJ45()+"";for(var e=I5.base[this.childrenData.lv+""],i=(N13.getData(e.baseattr),""),s=TF35.FJ47(),o=0;o<TF35.strs.length;o++)i+=O3.tr(3701,TF35.strs[o],s["n"+o]);if(this.lbNowAttr.textFlow=M18.HTP.parser(i),this.lbLv.textFlow=M18.HTP.parser(O3.tr(3748,this.childrenData.lv)),this.mainSkill.imgHead.source=I5.skillMain.icon,this.mainSkill.lbNum.text=t.ChildrenMainSkillData.lv+"",this.mainSkill.imgMain.visible=!0,this.lbBottomTitle.textFlow=M18.HTP.parser(O3.tr(3703)),this.gpNoActiveBottom.visible=this.gpActiveBottom.visible=!1,t.isBest);else{if(t.isBreach){this.stopAuto();var r=M18.FL28(e.item,";",":"),n=[];for(o=0;o<r.length;o++)n.push(r[o][0]+":"+r[o][1]);this.itemSource.replaceAll(n),this.gpNoActiveBottom.visible=!0,this.btnBreach.imgNew.visible=!!t.getRedNum1()}t.isUpgrade&&(this.gpActiveBottom.visible=!0,this.ZV70(t))}I5.skillMinor.sort(function(t,e){return t.pos-e.pos});this.skillSource.replaceAll(I5.skillMinor)},t.prototype.ZV70=function(t){var e=parseInt(I5.gIV("advancedItem")),i=N12.giC(e),s=I5.base[t.ChildrenUpgradeData.lv+""],o=s.elixir,r=App.CM.gtM(O6.B82),n=s.cash,a=N12.gID(e);this.imgGood.setData(a);var h=N12.gID(N12.itemId.coin);this.imgCoin.setData(h),this.imgGood.setImgSize({w:40,h:40}),this.imgCoin.setImgSize({w:40,h:40}),this.lbCostGood.textFlow=o<=i?M18.HTP.parse(O3.tr(3940,i,o)):M18.HTP.parse(O3.tr(4147,i,o)),r.avatarInfo.co>=n?this.lbCostCoin.textFlow=M18.HTP.parse(O3.tr(3941,n)):this.lbCostCoin.textFlow=M18.HTP.parse(O3.tr(4148,n))},t.prototype.sureStop=function(){this.btnAutoRai.label==O3.tr(1461)&&this.stopAuto()},t.prototype.stopAuto=function(){this.isAuto=!1,this.closeHandler(),this.btnAutoRai.label=O3.tr(4077),this.enabledBtn(!0),this.isCan=!0,this.setPar()},t.prototype.closeHandler=function(){this.upgradeHandler&&App.K16.rBH(this.upgradeHandler),this.upgradeHandler=null},t.prototype.littleAddExp=function(t){var e=this.pBarPro.value,i=0,s=1;e+(i=0==this.childrenData.exp?this.pBarPro.maximum-e:this.childrenData.exp-e)>this.pBarPro.maximum&&(s+=1),this.updataExp(e,i,s)},t.prototype.enabledBtn=function(t){(this.btnRaising.enabled=t)?P16.sGF(this.btnRaising,!1):(P16.sGF(this.btnRaising,!0),P7.FD53(this.btnRaising,0))},t.prototype.canExpend=function(t){var e=this,i=App.CM.gtM(O6.B49);if(i.isLvUpGoldAlert){if(2==t){var s=function(){e.autoUpgrade(!0),i.isLvUpGoldAlert=!1};return App.VM.open(O7.HH38,M18.FG71(O3.tr(3406)),this,s,void 0,this.stopAuto,void 0),!1}s=function(){e.ZQ92(!1,!0),i.isLvUpGoldAlert=!1};return App.VM.open(O7.HH38,M18.FG71(O3.tr(3406)),this,s,void 0,this.stopAuto,void 0),!1}return 1==t?this.ZQ92(!1,!0):this.autoUpgrade(!0),!0},t.prototype.ZQ92=function(t,e){var i=App.CM.gtM(O6.B49);if(this.isNewLv)return this.isNewLv=!1,this.stopAuto(),!1;var s=parseInt(I5.gIV("advancedItem")),o=App.CM.gtM(O6.B82),r=N12.giC(parseInt(I5.gIV("advancedItem"))),n=I5.base[this.childrenData.lv],a=n.elixir,h=n.cash,p=1;if(r<a&&!this.cbAutoSmelt.selected)return App.VM.open(O7.G87,s,a-r),t&&this.stopAuto(),!1;if(h>o.avatarInfo.co)return App.VM.open(O7.F12),t&&this.stopAuto(),!1;if(this.cbAutoSmelt.selected&&h<=o.avatarInfo.co&&r<a){var l=N15.FA50(s),c=N15.FB92(s);if(o.avatarInfo.bg>=l&&0<l)p=2;else{if(!e&&-1!=l)return this.stopAuto(),t?this.canExpend(2):this.canExpend(1);if(!(o.avatarInfo.g>=c*a))return P7.FA78(),this.stopAuto(),!1;p=3}}return i.isUpgrade?(this.apF(I10.A49,p),!(this.isCan=!1)):(this.stopAuto(),!1)},t.prototype.autoUpgrade=function(t){var e=this;if(this.isUsingGold=t,this.isNewLv=!1,this.btnAutoRai.label==O3.tr(1461))this.stopAuto();else{var i=void 0;t||(i=this.ZQ92(!0,!1)),(t||i)&&(this.btnAutoRai.label=O3.tr(1461),P7.FD53(this.btnAutoRai,0),this.enabledBtn(!1),this.upgradeHandler&&this.closeHandler(),this.upgradeHandler=App.K16.doTimer(300,0,function(){e.isCan&&e.ZQ92(!0,t)},this))}},t.prototype.updataExp=function(t,e,i){var a=this;!function(t,e,i){var s,o=0,r=a;r.childrenData.lv;(s=((o=e+i>=r.pBarPro.maximum?(i-=r.pBarPro.maximum-e,r.pBarPro.maximum):i+e)-r.pBarPro.value)/r.pBarPro.maximum*1e3)<200&&(s=200),o==r.pBarPro.maximum&&(r.isNewLv=!0);var n=I5.gIV("advancedExp");egret.Tween.get(r.pBarPro).to({value:o},s).wait(20).call(function(){r.lbAddExp.textFlow=M18.HTP.parse(O3.tr(3938,n)),egret.Tween.get(r.lbAddExp).to({visible:!0}).to({y:-50},200).call(function(){r.lbAddExp.y=-35,r.lbAddExp.visible=!1});var t=App.CM.gtM(O6.B49);t.ChildrenUpgradeData.exp||(r.ZC97(t),r.stopAuto())})}(0,t,e)},t.prototype.ZV81=function(){this.apF(I10.A22),this.stopAuto()},t.prototype.autoSmelt=function(){TG40.playClickEffect()},t.prototype.close=function(){r.prototype.close.call(this),this.closeHandler(),this.btnRaising.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.raising,this),this.btnAutoRai.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.autoRaising,this),this.btnRename.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.ZV81,this),this.cbAutoSmelt.removeEventListener(egret.Event.CHANGE,this.autoSmelt,this),this.btnBreach.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.ZV80,this),this.gpChrildren.removeChildren(),this.objBoss.destory(),this.objBoss=null,this.isPlayingAni=null,this.isNewLv=null,this.isCan=null,this.removeTween(),this.itemSource.removeAll(),this.skillSource.removeAll()},t.prototype.removeTween=function(){egret.Tween.removeTweens(this.pBarPro),egret.Tween.removeTweens(this.lbAddExp),egret.Tween.removeTweens(this)},t}(BaseEuiView);__reflect(ChildrenUpgradeView.prototype,"ChildrenUpgradeView"),function(t){var e=function(){function v(){}return v.FK35=function(t){var e=t.classup_enchanting_master,i=t.classup_strength_master,s=t.classup_equipsuit,o=t.classup_enchanting,r=t.classup_strength,n=t.classup_equipment,a=t.classup_init,h=t.classup_mission,p=t.classup_level,l=t.classup_skill,c=t.classup_skilllv;for(var u in v.mission=h,v.level=p,v.classup_skill=l,c){var d=c[u];v.skilllv_[d.coutrtype]=v.skilllv_[d.coutrtype]||{},v.skilllv_[d.coutrtype][d.skillid]=v.skilllv_[d.coutrtype][d.skillid]||{},v.skilllv_[d.coutrtype][d.skillid][d.skilllv]=d}v.unlockDate=parseInt(a.unlockDate.value),v.unlockLevel=parseInt(a.unlockLevel.value),v.levelExp=parseInt(a.levelExp.value),v.levelItem=parseInt(a.levelItem.value),v.expCost=parseFloat(a.expCost.value),v.expRate=parseFloat(a.expRate.value),v.strengthItem=parseFloat(a.strengthItem.value),v.enchantingItem=parseFloat(a.enchantingItem.value),v.expCostItem=P7.str2kv1(a.expCostItem.value),v.expExchange=P7.str2kv(a.expExchange.value),v.skillExchange=P7.str2kv1(a.skillExchange.value),v.equipment=n,v.strength=r,v.enchanting=o,v.equipsuit=s,v.enchanting_master=e,v.strength_master=i},v.FD77=function(t){for(var e=[],i=1;i<=t;i++){var s=v.mission[i];if(!s)break;P7.mergekvs(e,P7.str2kv(s.baseattr),!0)}return e},v.FC87=function(t,e){void 0===e&&(e=!0);for(var i=e?v.FD77(Number.MAX_VALUE):[],s=1;s<=t;s++){var o=v.level[s];if(!o)break;P7.mergekvs(i,P7.str2kv(o.baseattr),!0)}return i},Object.defineProperty(v,"skilllv",{get:function(){var t=App.CM.gtM(O6.B82);return v.skilllv_[t.avatarInfo.c]},enumerable:!0,configurable:!0}),v.FD72=function(t){var e="";switch(t){case avatar.AttributeKey.ATK:e=O3.tr(8645);break;case avatar.AttributeKey.DEF:e=O3.tr(8646);break;case avatar.AttributeKey.HP:e=O3.tr(8647);break;case avatar.AttributeKey.HIT:e=O3.tr(8649);break;case avatar.AttributeKey.DOD:e=O3.tr(8650);break;case avatar.AttributeKey.CRIT:e=O3.tr(8651);break;case avatar.AttributeKey.PHY:e=O3.tr(8652);break;case avatar.AttributeKey.IGNDEF:e=O3.tr(8653);break;case avatar.AttributeKey.IGNBKE:e=O3.tr(8654);break;case avatar.AttributeKey.SPEED:e=O3.tr(8648);break;case avatar.AttributeKey.DAEXT:e=O3.tr(8655);break;case avatar.AttributeKey.DABKE:e=O3.tr(8656);break;case avatar.AttributeKey.CRITEXT:e=O3.tr(8657);break;case avatar.AttributeKey.CRITBKE:e=O3.tr(8658);break;case avatar.AttributeKey.PVEEXT:e=O3.tr(8661);break;case avatar.AttributeKey.PVEBKE:e=O3.tr(8662);break;case avatar.AttributeKey.PVPEXT:e=O3.tr(8659);break;case avatar.AttributeKey.PVPBKE:e=O3.tr(8660);break;case avatar.AttributeKey.CRITMUL:e=O3.tr(5420);break;case avatar.AttributeKey.CRITRATE:e=O3.tr(5421);break;case avatar.AttributeKey.PHYRATE:e=O3.tr(5422);break;case avatar.AttributeKey.CONTROL:e=O3.tr(8663);break;case avatar.AttributeKey.POWER:e=O3.tr(8664);break;case avatar.AttributeKey.WISDOM:e=O3.tr(8665);break;case avatar.AttributeKey.POZHAO:e=O3.tr(8674);break;case avatar.AttributeKey.ZHAOJIA:e=O3.tr(8675)}return e},v.FL58=function(){var e=App.CM.gtM(O6.B82).avatarInfo.c;v.skill={},v.skill_={};var t=function(t){var i=v.classup_skill[t],s=i.icon.split("|")[e-1].split(",");i.skillid.split(",").forEach(function(t,e){v.skill[parseInt(t)]={type:i.type,skillid:parseInt(t),unlocklv:i.unlocklv,unlockitem:i.unlockitem,icon:s[e]}})};for(var i in v.classup_skill)t(i);for(var i in v.skill){var s=v.skill[i];v.skill_[s.type]=v.skill_[s.type]||{},v.skill_[s.type][s.skillid]=s}},v.FB22=function(t,e,i){var s=e;return t<i&&(s+=1),s=Math.min(Reincarnate.Utils.mapkeyMax(v.strength),s),P7.str2kv(v.strength[s]["type"+i])},v.FC88=function(t,e,i,s){var o=e;return i==t?o=s:t<i&&(o+=1),o=Math.min(Reincarnate.Utils.mapkeyMax(v.enchanting),o),P7.str2kv(v.enchanting[o]["type"+i])},v.unlockLevel=255,v.unlockDate=15,v.skilllv_={},v.skill_={},v.BaseAttrId=9999,v}();t.Config=e,__reflect(e.prototype,"Classup.Config")}(Classup||(Classup={})),function(t){var e=function(){function t(){}return t.OPEN=1001,t.OPEN_MASTER=1002,t.MAIN_STATE_TASK=1,t.MAIN_STATE_LEVEL=2,t.CLASSUP_LOAD_REQ=20001,t.CLASSUP_LOAD_RES=20002,t.EXCHANGE_DOT=30001,t.MAGIC_DOT=30002,t}();t.Const=e,__reflect(e.prototype,"Classup.Const")}(Classup||(Classup={})),function(o){var t=function(s){function t(){var t=s.call(this)||this;App.VM.register(O7.G40,"ClassupMainView",t,K17.UI_Main),App.VM.register(O7.G39,"ClassupTaskView",t,K17.UI_Main),App.VM.register(O7.C29,"ClassupAnimationView",t,K17.UI_Popup),App.VM.register(O7.A11,"ClassupExpExchangeView",t,K17.UI_Popup),App.VM.register(O7.A6,"ClassupItemExchangeView",t,K17.UI_Main_TOP),App.VM.register(O7.B21,"ClassupEquipMasterView",t,K17.UI_Main_TOP),App.VM.register(O7.A58,"ClassupEquipStrengthView",t,K17.UI_Main_TOP),App.VM.register(O7.B63,"ClassupEquipMagicView",t,K17.UI_Main_TOP),App.VM.register(O7.A81,"ClassupEquipResolveView",t,K17.UI_Main_TOP),t.rgF(o.Const.OPEN,t.open,t),t.rgF(o.Const.EXCHANGE_DOT,t.GQ59,t),t.rgF(o.Const.MAGIC_DOT,t.GV92,t),t.rgF(o.Const.OPEN_MASTER,t.GX41,t);var e=new o.Model(t);e.aLV(O7.I39),e.aLV(O7.G40),e.aLV(O7.F60),e.aLV(O7.G39),e.aLV(O7.F59),e.aLV(O7.F61),e.aLV(O7.A58),e.aLV(O7.B63),e.aLV(O7.A11);var i=new o.Proxy(t);return t.rgF(o.Const.CLASSUP_LOAD_REQ,i.load,i),t.rgF(o.Const.CLASSUP_LOAD_RES,t.loadRes,t),t.rgF(P4.L68,i.takeReward,i),t.rgF(P4.V33,i.lvup,i),t.rgF(P4.J55,i.exchangeExp,i),t.rgF(P4.S82,i.buyExpTimes,i),t.rgF(P4.R25,i.itemExchange,i),t.rgF(P4.N36,i.skillup,i),t.rgF(P4.J57,i.skillUnlock,i),t.rgF(P4.P60,i.skillUse,i),t.rgF(P4.N38,i.autoEquip,i),t.rgF(P4.R27,i.strength,i),t.rgF(P4.V35,i.magic,i),t}return __extends(t,s),t.prototype.open=function(){o.Utils.isOpen()?1==this.gtM().com?App.VM.open(O7.G40):App.VM.open(O7.G39):P18.sDP(O3.tr(3370,o.Config.unlockDate,o.Config.unlockLevel))},t.prototype.GX41=function(t){App.VM.open(O7.B21,t)},t.prototype.update=function(t){if(200!==t.head.state)215==t.head.state?P7.FA78():App.CM.apF(O6.B87,L10.A4,t);else switch(this.gtM().update(t.body,!0,t.head.protoType),P5.sIs(t.body.ob),t.head.protoType+""){case P4.R26:case P4.J56:P18.sDP(O3.tr(8643));break;case P4.V34:App.CM.gtM(O6.B98).ZW35()}},t.prototype.takeRes=function(t){200!==t.head.state?215==t.head.state?P7.FA78():App.CM.apF(O6.B87,L10.A4,t):this.gtM().update(t.body,!0,t.head.protoType)},t.prototype.wearRes=function(t){200!==t.head.state?App.CM.apF(O6.B87,L10.A4,t):(App.CM.gtM(O6.B98).ZL13(t.body.es),this.gtM().update(t.body,!0,t.head.protoType))},t.prototype.GV91=function(t){if(200!==t.head.state)App.CM.apF(O6.B87,L10.A4,t);else{var e=void 0,i=this.gtM();switch(t.head.protoType+""){case P4.V36:t.body.fa?P18.sDP(O3.tr(8673)):e=[i.mp];break;case P4.R28:var s=t.body,o=s.stlv,r=s.stp;if(o>i.stlv||o>=i.stlv&&r>i.stp){var n=10*(o-i.stlv)+(r-i.stp);e=[];for(var a=0,h=i.stp;a<n;a++)e.push(h),10<++h&&(h=1)}}i.update(t.body,!0,t.head.protoType,e)}},t.prototype.loadRes=function(t){200!==t.head.state?App.CM.apF(O6.B87,L10.A4,t):(this.gtM().update(t.body,!0,t.head.protoType),App.CM.gtM(O6.B98).ZW35())},t.prototype.GQ59=function(t){var e=this.gtM();e.isShowExchangeDot=1==t,e.notify(o.Const.EXCHANGE_DOT)},t.prototype.GV92=function(t){var e=this.gtM();e.isShowMaigcDot=1==t,e.notify(o.Const.MAGIC_DOT)},t}(TE11);o.Controller=t,__reflect(t.prototype,"Classup.Controller")}(Classup||(Classup={})),function(n){var t=function(i){function t(){var t=null!==i&&i.apply(this,arguments)||this;return t.fmx={},t.sks={},t.usk={},t.isShowExchangeDot=!0,t.isShowMaigcDot=!0,t}return __extends(t,i),t.prototype.update=function(t,e){var i=this;void 0===e&&(e=!0);for(var s=[],o=2;o<arguments.length;o++)s[o-2]=arguments[o];t.fm&&t.fm.forEach(function(t){return i.fmx[t.id]=t}),t.sk&&t.sk.forEach(function(t){return i.sks[t.id]=t}),t.s&&(this.sks[t.s.id]=t.s),t.cm&&1==t.cm.fin&&(this.fmx[t.cm.id]=t.cm),this.usk=P7.getValue(t.usk,this.usk),this.com=P7.getValue(t.com,this.com),this.lv=P7.getValue(t.lv,this.lv),this.en=P7.getValue(t.en,this.en),this.bn=P7.getValue(t.bn,this.bn),this.cm=P7.getValue(t.cm,this.cm),this.stlv=P7.getValue(t.stlv,this.stlv),this.stp=P7.getValue(t.stp,this.stp),this.mlv=P7.getValue(t.mlv,this.mlv),this.mp=P7.getValue(t.mp,this.mp),this.cmlv=P7.getValue(t.cmlv,this.cmlv),e&&this.notify.apply(this,s)},t.prototype.getCurTask=function(){var t=0;Object.keys(this.fmx).length;for(var e in this.fmx){var i=this.fmx[e];1==i.tk&&i.id>t&&(t=i.id)}return t},t.prototype.ZV82=function(t){var e=n.Config.skill[t];if(this.sks[t]){var i=this.sks[t].lv;if(n.Config.skilllv[e.type][i+1]){var s=n.Config.skilllv[e.type][i];if(0<=s.costexp&&N12.FL6(P7.str2kv(s.costitem))&&N12.FK6({k:n.Config.levelExp,v:s.costexp}))return 1}}else if(e&&this.lv>=e.unlocklv&&N12.FL6(P7.str2kv(e.unlockitem)))return 1;return 0},t.prototype.getRedByTask=function(){for(var t in this.fmx){var e=this.fmx[t];if(1==e.fin&&1!=e.tk)return 1}return 0},t.prototype.ZF4=function(t){var e=n.Config.skill_[t];for(var i in e)if(0<this.ZV82(e[i].skillid))return 1;return 0},t.prototype.ZF5=function(){for(var t in n.Config.skill_)if(0<this.ZF4(parseInt(t)))return 1;return 0},t.prototype.ZF6=function(){var t=Reincarnate.Utils.mapkeyMax(n.Config.level);return this.lv<t&&this.isShowExchangeDot?this.en:0},t.prototype.ZD80=function(){for(var t=0,e=n.Config.expExchange;t<e.length;t++){var i=e[t];if(0<N12.giC(i.k))return 1}return 0},t.prototype.ZN77=function(){var t=Reincarnate.Utils.mapkeyMax(n.Config.level),e=n.Config.level[this.lv];return this.lv<t&&e&&e.exp&&N12.FL6([{k:n.Config.levelExp,v:e.exp},{k:n.Config.levelItem,v:e.cost}])?1:0},t.prototype.ZF7=function(){var t=0;return t=(t=(t=t||this.ZF6())||this.ZD80())||this.ZN77()},t.prototype.ZC98=function(){var t=Reincarnate.Utils.mapkeyMax(n.Config.strength);if(this.stlv<t){var e=n.Config.strength[this.stlv+1];return N12.FK6({k:n.Config.strengthItem,v:e.needitem})?1:0}return 0},t.prototype.ZG51=function(){if(this.isShowMaigcDot){var t=Reincarnate.Utils.mapkeyMax(n.Config.enchanting);if(this.cmlv<t){var e=n.Config.enchanting[this.cmlv+1];return N12.FK6({k:n.Config.enchantingItem,v:e.needitem})?1:0}}return 0},t.prototype.ZD81=function(){var t=App.CM.gtM(O6.B98);return t&&t.canClassupEquip.length},t.prototype.ZG52=function(){for(var o=[],t=App.CM.gtM(O6.B98),r={},e=1;e<=10;e++){var i=void 0;r[e]=0,i=e==this.mp?this.cmlv:this.mlv+(e<this.mp?1:0),n.Config.enchanting[i]&&(P7.mergekvs(o,P7.str2kv(n.Config.enchanting[i]["type"+e]),!0),r[e]=n.Config.enchanting[i].ratio)}return t.classupEquip.forEach(function(t){var e=N12.gID(t.i),i=e.attr,s=e.pos;P7.mergekvs(o,P7.str2kv(i).map(function(t){return{k:t.k,v:t.v*r[s]}}),!0)}),M10.FHH18(o)},t.prototype.ZD82=function(){for(var t=[],e=1;e<=10;e++){var i=this.stlv+(e<this.stp?1:0);n.Config.strength[i]&&P7.mergekvs(t,P7.str2kv(n.Config.strength[i]["type"+e]),!0)}return M10.FHH18(t)},t.prototype.ZF8=function(){var t=this.ZC98();return t=(t=t||this.ZG51())||this.ZD81()},t.prototype.ZK82=function(){var i=[];return App.CM.gtM(O6.B98).classupEquip.forEach(function(t){var e=N12.gID(t.i).attr;P7.mergekvs(i,P7.str2kv(e),!0)}),M10.FHH18(i)},t.prototype.ZF9=function(){return this.ZG52()+this.ZD82()+this.ZK82()},t.prototype.FL35=function(){var t=0;return n.Utils.isOpen()&&(t=1==this.com?(t=(t=t||this.ZF7())||this.ZF5())||this.ZF8():t||this.getRedByTask()),t},t.prototype.notify=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];i.prototype.notifyView.apply(this,[this].concat(t))},t}(TG79);n.Model=t,__reflect(t.prototype,"Classup.Model")}(Classup||(Classup={})),function(o){var t=function(i){function t(t){var e=i.call(this,t)||this;return e.rSM(P4.V32,t.update,t),e.rSM(P4.R24,t.update,t),e}return __extends(t,i),t.prototype.load=function(t){var s=this;return new Promise(function(e,t){var i={type:P4.W16,body:{}};s.rSMO(P4.W17,function(t){s.apF(o.Const.CLASSUP_LOAD_RES,t),e("加载职业进阶完成")},s),s.sSM(i)})},t.prototype.takeReward=function(t){var e={type:P4.L68,body:{mid:t}},i=this._controller;this.rSMO(P4.L69,i.takeRes,i),this.sSM(e)},t.prototype.lvup=function(){var t={type:P4.V33,body:{}},e=this._controller;this.rSMO(P4.V34,e.update,e),this.sSM(t)},t.prototype.exchangeExp=function(){var t={type:P4.J55,body:{}},e=this._controller;this.rSMO(P4.J56,e.update,e),this.sSM(t)},t.prototype.buyExpTimes=function(){var t={type:P4.S82,body:{}},e=this._controller;this.rSMO(P4.S83,e.update,e),this.sSM(t)},t.prototype.itemExchange=function(t){var e={type:P4.R25,body:{item:t}},i=this._controller;this.rSMO(P4.R26,i.update,i),this.sSM(e)},t.prototype.skillup=function(t){var e={type:P4.N36,body:{id:t}},i=this._controller;this.rSMO(P4.N37,i.update,i),this.sSM(e)},t.prototype.skillUnlock=function(t){var e={type:P4.J57,body:{id:t}},i=this._controller;this.rSMO(P4.J58,i.update,i),this.sSM(e)},t.prototype.skillUse=function(t,e,i){var s={type:P4.P60,body:{type:t,skid:e,swap:i}},o=this._controller;this.rSMO(P4.P61,o.update,o),this.sSM(s)},t.prototype.autoEquip=function(){var t={type:P4.N38,body:{}},e=this._controller;this.rSMO(P4.N39,e.wearRes,e),this.sSM(t)},t.prototype.strength=function(){var t={type:P4.R27,body:{}},e=this._controller;this.rSMO(P4.R28,e.GV91,e),this.sSM(t)},t.prototype.magic=function(){var t={type:P4.V35,body:{}},e=this._controller;this.rSMO(P4.V36,e.GV91,e),this.sSM(t)},t}(TG80);o.Proxy=t,__reflect(t.prototype,"Classup.Proxy")}(Classup||(Classup={})),function(i){var t=function(){function o(){}return o.FA59=function(){var t=O4.getVipLv();return 0<t?K18.vip[t].classexptimes:0},o.FA4=function(){for(var t=o.FA59(),e=O4.getVipLv(),i=K18.FL39(),s=0<e?e:1;s<=i;s++){if(t<K18.vip[s].classexptimes)return s}return-1},o.gtM=function(){return App.CM.gtM(O6.B80)},o.isOpen=function(){App.CM.gtM(O6.B82);var t=App.CM.gtM(O6.B43),e=O4.getLv();return t.serOpenDay+1>=i.Config.unlockDate&&e>=i.Config.unlockLevel},o}();i.Utils=t,__reflect(t.prototype,"Classup.Utils")}(Classup||(Classup={}));var ClassupAnimationView=function(s){function t(t,e){var i=s.call(this,t,e)||this;return i.skinName="ClassupAnimationSkin",i.sGN("classup_animation"),i}return __extends(t,s),t.prototype.open=function(){var e=this;s.prototype.open.call(this),this.touchEnabled=this.touchChildren=!1,this.animes.play(0),this.animes.items.forEach(function(t){return t.addEventListener(egret.Event.COMPLETE,e.callback,e)})},t.prototype.callback=function(){App.VM.GY64(this)},t}(BaseEuiView);__reflect(ClassupAnimationView.prototype,"ClassupAnimationView");var ClassupEquipMagicView=function(s){function t(t,e){var i=s.call(this,t,e)||this;return i.skinName="ClassUpEquipEncSkin",i}return __extends(t,s),t.prototype.initUI=function(){this.currentState="magic",this.dlg.title=O3.tr(8629),this.dlg.ZM69(this.oCC,this),this.dlg.ZQ14(this.oCC,this),this.labStr1.textFlow=O3.tr2(8622),this.labStr3.textFlow=O3.tr2(8642),this.btnEnc.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClick,this),this.btnEnc.label=O3.tr(8641),this.btnMaster.addEventListener(egret.TouchEvent.TOUCH_TAP,this.ZV83,this),this.btnMaster.bgStr="jinxiufumodashi_png",this.ckDot.addEventListener(eui.UIEvent.CHANGE,this.ZN78,this),this.ckDot.label=O3.tr(8625),this.labStr2.textFlow=O3.tr2(8626)},t.prototype.open=function(){var t=App.CM.gtM(O6.B98),e=Classup.Utils.gtM();this.updateEquip(t,e),this.GX5(e),this.ckDot.selected=!e.isShowMaigcDot},t.prototype.close=function(){this.ckDot.removeEventListener(egret.Event.CHANGE,this.ZN78,this),this.btnEnc.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClick,this),this.btnMaster.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.ZV83,this)},t.prototype.uBM=function(t){for(var e=this,i=[],s=1;s<arguments.length;s++)i[s-1]=arguments[s];if(t instanceof TG58){var o=Classup.Utils.gtM();this.updateEquip(t,o)}else if(t instanceof Classup.Model){var r=App.CM.gtM(O6.B98);if(this.updateEquip(r,t),(i?i[0]:void 0)==P4.V36){var n=i[1];n&&n.forEach(function(t){return App.THH32.aUE(e.gEquip.getChildByName(t+""),"lg_qhyh_01",40,40,1)})}this.GX5(t)}},t.prototype.GX5=function(t){var e,r,i=t.cmlv,s=t.mp,o=Reincarnate.Utils.mapkeyMax(Classup.Config.enchanting);o<=i?(e=P7.str2kv(Classup.Config.enchanting[i]["type"+s])).push({k:Classup.Config.BaseAttrId,v:Classup.Config.enchanting[i].ratio}):((r=P7.str2kv(Classup.Config.enchanting[i+1]["type"+s])).push({k:Classup.Config.BaseAttrId,v:Classup.Config.enchanting[i+1].ratio}),i<=0?e=r.map(function(t){var e=t.k;t.v;return{k:e,v:0}}):(e=P7.str2kv(Classup.Config.enchanting[i]["type"+s])).push({k:Classup.Config.BaseAttrId,v:Classup.Config.enchanting[i].ratio}));var n,a=((n={})[Classup.Config.BaseAttrId]={id:Classup.Config.BaseAttrId,name:O3.tr(8667),show:0,initAttr:0,growAttr:0,power:0},n);if(this.labAtrs.textFlow=M18.FG71(e.map(function(t,e){var i=P7.FM5([t],void 0,void 0,a),s="";if(r){var o=egret.toColorString(_cc.green);s=P7.FM5([r[e]],void 0,{template:"<font color="+o+">($1)</font>",percentTemplate:"<font color="+o+">($1%)</font>"},a)}return""+i+s}).join("\n")),this.gConsume.visible=!0,this.labStr3.visible=!1,i<o){var h=Classup.Config.enchanting[i+1],p=N12.gID(Classup.Config.enchantingItem);this.costItem.data={itemData:{data:p,ct:0},isBottom:!1},this.btnEnc.imgNew.visible=0<t.ZG51();var l=N12.giC(Classup.Config.enchantingItem);this.lbCost.textFlow=O3.tr2(8623,p.name,h.needitem,egret.toColorString(l>=h.needitem?_cc.green:_cc.red)),this.lbHave.textFlow=O3.tr2(8624,l)}else this.gConsume.visible=!1,this.labStr3.visible=!0;this.score.text=t.ZG52()+""},t.prototype.ZG53=function(){this.index&&(App.THH33.rEf(this.gEquip.getChildByName(this.index+""),"com"),delete this.index)},t.prototype.updateEquip=function(t,e){var n=this,a=e.mp,h=e.mlv,i=e.cmlv,p=[];t.classupEquip.forEach(function(t){var e=N12.gID(t.i),i=e.pos,s=e.icon,o=e.quality,r=(e.level,n.gEquip.getChildByName(i+""));r.equipLv=O3.tr(8615,parseInt(i)<a?h+1:h),r.icon=s,r.iconBg=N12.getBox(o),p.push(i)}),this.gEquip.$children.forEach(function(t){if(!(0<=p.indexOf(t.name))){var e=parseInt(t.name);t.equipLv=O3.tr(8615,e<a?h+1:h),t.icon=L13.A66[e],t.iconBg=N12.getBox(1)}});var s=this.gEquip.getChildByName(a+"");this.index!=a&&(this.ZG53(),App.THH33.addUIEffect2(s,"com",-1,{x:-40,y:-40,zOrder:0}),this.index=a),s.equipLv=O3.tr(8615,i),this.showItem.icon=s.icon,this.showItem.iconBg=s.iconBg,this.showItem.equipLv=""},t.prototype.oCC=function(){App.VM.GY64(this)},t.prototype.onClick=function(){App.CM.apF(O6.B80,P4.V35)},t.prototype.ZV83=function(){App.CM.apF(O6.B80,Classup.Const.OPEN_MASTER,O7.B63)},t.prototype.ZN78=function(){App.CM.gtM(O6.B80);App.CM.apF(O6.B80,Classup.Const.MAGIC_DOT,this.ckDot.selected?0:1)},t}(BaseEuiView);__reflect(ClassupEquipMagicView.prototype,"ClassupEquipMagicView");var ClassupEquipMasterView=function(s){function t(t,e){var i=s.call(this,t,e)||this;return i.skinName=SandMasterSkin,i}return __extends(t,s),t.prototype.open=function(t){s.prototype.open.call(this),this.type=t,this.imgBg.addEventListener(egret.TouchEvent.TOUCH_TAP,this.closeSelf,this);var e=App.CM.gtM(O6.B80);this.GX5(e)},t.prototype.uBM=function(t){s.prototype.uBM.call(this,t),t instanceof Classup.Model&&this.GX5(t)},t.prototype.GX5=function(t){var e=0,i=[],s=[];this.lbNow.visible=this.lbNext.visible=!0;var o=[""];if(this.type==O7.F61){var r=0,n=0;this.imgHead.source="jinxiuzbeidaren_png",this.lbNow.visible=this.lbNext.visible=!1;var a=[];App.CM.gtM(O6.B98).classupEquip.forEach(function(t){var e=N12.gID(t.i),i=e.level;5<=e.quality&&a.push(i)});var h=void 0,p=g=Reincarnate.Utils.mapkeyMax(Classup.Config.equipsuit),l=function(){var e=Classup.Config.equipsuit[p];if(a.filter(function(t){return t>=e.level}).length>=e.num)return h=p,"break"};do{if("break"===l())break}while(0<--p);if(h){var c=Classup.Config.equipsuit[h];(i=(m=P7.str2kv(c.addattr)).map(function(t){return P7.attr2str([t])})).unshift(O3.tr(8618,c.num,c.level,5)),r=M10.FHH18(m)}var u=h?h+1:1;if(Classup.Config.equipsuit[u]){c=Classup.Config.equipsuit[u];(s=(m=P7.str2kv(c.addattr)).map(function(t){return P7.FM5([t],void 0,{template:"$0+$1",percentTemplate:"$0+$1%"})})).unshift(O3.tr(8618,c.num,c.level,5)),n=M10.FHH18(m),this.lbStatus.textFlow=1==u?O3.tr2(8670,h):O3.tr2(8668,h)}else this.lbStatus.textFlow=O3.tr2(8669,h);e=Math.floor(n-r)}else if(this.type==O7.A58||this.type==O7.B63){var d=this.type==O7.A58;this.imgHead.source=d?"jinxiuqianghuadashi_png":"jinxiufumodashi_png",o=[":"];var v=d?Classup.Config.strength_master:Classup.Config.enchanting_master,f=d?t.stlv:t.cmlv,g=(r=0,n=0,Reincarnate.Utils.mapkeyMax(v));for(h=void 0,p=g;1<=p;p--)if(f>=v[p].lvstrength){h=p;break}if(h){c=v[h];i=(m=P7.str2kv(c.addattr)).map(function(t){return P7.FM5([t],void 0,{template:"$0+$1",percentTemplate:"$0+$1%"})}),r=M10.FHH18(m),this.lbNow.textFlow=O3.tr2(d?8671:8672,c.lvstrength)}if(v[u=h?h+1:1]){var m;c=v[u];s=(m=P7.str2kv(c.addattr)).map(function(t){return P7.FM5([t],void 0,{template:"$0+$1",percentTemplate:"$0+$1%"})}),n=M10.FHH18(m),this.lbNext.textFlow=O3.tr2(d?8671:8672,c.lvstrength),this.lbStatus.textFlow=1==u?O3.tr2(8670,h):O3.tr2(8668,h)}else this.lbStatus.textFlow=O3.tr2(8669);e=Math.floor(n-r)}this.lbStr1.textFlow=O3.tr2.apply(O3,[8616].concat(o)),this.lbStr2.textFlow=O3.tr2.apply(O3,[8617].concat(o)),i.length?this.ZK83(i,this.gpCur):this.gpAllCur.visible=this.gpAllCur.includeInLayout=!1,s.length?this.ZK83(s,this.gpNext):(this.gpAllNext.visible=this.gpAllNext.includeInLayout=!1,this.lbAddPower.visible=!1),this.lbAddPower.visible=0<s.length,this.lbAddPower.text=O3.tr(1109,e)},t.prototype.addAttrLb=function(t,e,i,s){for(var o in t){var r=t[o],n=new eui.Label;n.size=20,n.textFlow="extra"==o?M18.FG71(O3.tr(s,r)):M18.FG71(O3.tr(i,r.name,r.value)),e.addChild(n)}},t.prototype.ZK83=function(t,e){for(var i=0,s=t;i<s.length;i++){var o=s[i],r=new eui.Label;r.size=20,r.maxWidth=320,r.textColor=9163477,e.addChild(r),r.textFlow=M18.FG71(o)}},t.prototype.closeSelf=function(){App.VM.GY64(this)},t.prototype.close=function(){this.imgBg.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.closeSelf,this),s.prototype.close.call(this)},t}(BaseEuiView);__reflect(ClassupEquipMasterView.prototype,"ClassupEquipMasterView");var ClassupEquipResolveItem=function(e){function t(){var t=e.call(this)||this;return t.addEventListener(egret.Event.ADDED_TO_STAGE,t.open,t),t.addEventListener(egret.Event.REMOVED_FROM_STAGE,t.close,t),t}return __extends(t,e),t.prototype.open=function(){this.btnResolve.addEventListener(egret.TouchEvent.TOUCH_TAP,this.startResolve,this),this.grpHead.addEventListener(egret.TouchEvent.TOUCH_TAP,this.GF72,this)},t.prototype.close=function(){this.btnResolve.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.startResolve,this),this.grpHead.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.GF72,this)},t.prototype.GF72=function(){var t=M10.FD92(this.data.i.toString(),this.data.t);App.CM.apF(O6.B98,M19.A17,t)},t.prototype.startResolve=function(){var t=this,e=N12.gID(this.data.i+""),i=App.VM.gOV(O7.A81);i&&!i.isCanClick||(i.isCanClick=!1,egret.Tween.get(this).wait(100).call(function(){egret.Tween.removeTweens(t),5==e.quality?App.CM.apF(O6.B98,M19.A46,t.data.u):App.CM.apF(O6.B98,M19.A44,t.data.u)}))},t.prototype.dataChanged=function(){this.btnResolve.label=O3.tr(5818),this.lbStr1.textFlow=M18.HTP.parse(O3.tr(5819));var t=L6.init.resolveItem.value,e=N12.gID(this.data.i);e.reform?(this.ImgRes.source=N12.FJ86(e.reform.split(":")[0]),this.lbResNum.text=e.reform.split(":")[1]):(this.ImgRes.source=N12.FJ86(t.split(":")[0]),this.lbResNum.text=t.split(":")[1]),this.lbClass.text="Lv."+e.level,this.lbName.text=e.name,this.imgQuality.source=N12.getBox(e.quality),this.imgHead.source=e.icon},t}(eui.ItemRenderer);__reflect(ClassupEquipResolveItem.prototype,"ClassupEquipResolveItem");var ClassupEquipResolveView=function(s){function t(t,e){var i=s.call(this,t,e)||this;return i.skinName=EquipResolveSkin,i}return __extends(t,s),t.prototype.initUI=function(){s.prototype.initUI.call(this),this.equipResolveItem.dataProvider=this.equipCollection=new eui.ArrayCollection,this.equipResolveItem.itemRenderer=ClassupEquipResolveItem,this.lbStr1.textFlow=M18.HTP.parse(O3.tr(8736)),this.lbStr2.textFlow=M18.HTP.parse(O3.tr(5169)),this.lbStr3.textFlow=M18.HTP.parse(O3.tr(5170)),this.lbStr4.textFlow=M18.HTP.parse(O3.tr(5171)),this.lbStr5.textFlow=M18.HTP.parse(O3.tr(5172)),this.lbStr6.textFlow=M18.HTP.parse(O3.tr(5173)),this.lbStr7.textFlow=M18.HTP.parse(O3.tr(5174)),this.lbStr8.textFlow=M18.HTP.parse(O3.tr(5175)),this.dlg.title=O3.tr(8737)},t.prototype.open=function(){this.grpshop4.addEventListener(egret.TouchEvent.TOUCH_TAP,this.grpshopView,this),this.dlg.ZM69(this.oCC,this),this.updataUI()},t.prototype.oCC=function(){App.VM.GY64(this)},t.prototype.close=function(){this.grpshop4.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.grpshopView,this),this.state=null,this.isCanClick=null,this.equipCollection.removeAll()},t.prototype.updataUI=function(){var t=App.CM.gtM(O6.B98).remClassupEquip.concat();this.state="shop",this.currentState=this.state;var e=N15.init[N15.SHOPTYPE_TO_SHOPKEY[P12.A3]].value;this.updatePath(e),this.imgRes.source=N12.FJ86(e),this.equipCollection.replaceAll(t),this.updataOwnNum(),this.isCanClick=!0},t.prototype.updataOwnNum=function(){var t,e=N15.init[N15.SHOPTYPE_TO_SHOPKEY[P12.A3]].value;t=N12.giC(e),this.state,this.lbCount.text=t+""},t.prototype.delEquip=function(t){for(var e=this.equipCollection.source,i=0;i<e.length;i++)if(e[i].u==t){this.equipCollection.removeItemAt(i);break}},t.prototype.GP81=function(){this.aCF(O6.C29,P8.A13)},t.prototype.grpshopView=function(t){var e={sLink:parseInt(t.currentTarget.name)};TG84.goToDlg(e)},t.prototype.updatePath=function(t){for(var e=0;e<4;e++)this["grpshop"+(e+1)].visible=!1;var i=N12.gID(t).link;if(i)for(var s=i.split(","),o=(e=0,0),r=s;o<r.length;o++){r[o];var n=s[e].split(":"),a=n[0],h=n[1];if(this["grpshop"+(e+1)].visible=!0,this["grpshop"+(e+1)].name=h,this["lbStr"+(e+5)].text=a,4<=++e)break}},t.prototype.uBM=function(t,e){switch(s.prototype.uBM.call(this,t,e),e){case P4.U35:case P4.U39:this.updataUI()}},t}(BaseEuiView);__reflect(ClassupEquipResolveView.prototype,"ClassupEquipResolveView");var ClassupEquipStrengthView=function(s){function t(t,e){var i=s.call(this,t,e)||this;return i.skinName="ClassUpEquipEncSkin",i}return __extends(t,s),t.prototype.initUI=function(){this.dlg.title=O3.tr(8628),this.dlg.ZM69(this.oCC,this),this.dlg.ZQ14(this.oCC,this),this.labStr1.textFlow=O3.tr2(8621),this.labStr3.textFlow=O3.tr2(8642),this.btnEnc.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClick,this),this.btnEnc.label=O3.tr(8640),this.btnMaster.addEventListener(egret.TouchEvent.TOUCH_TAP,this.ZV83,this),this.btnMaster.bgStr="jinxiuqianghuadashi_png",this.labStr2.textFlow=O3.tr2(8676)},t.prototype.open=function(){var t=App.CM.gtM(O6.B98),e=Classup.Utils.gtM();this.updateEquip(t,e),this.GX5(e)},t.prototype.close=function(){this.btnEnc.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClick,this),this.btnMaster.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.ZV83,this),this.ZG53()},t.prototype.uBM=function(t){for(var e=this,i=[],s=1;s<arguments.length;s++)i[s-1]=arguments[s];if(t instanceof TG58){var o=Classup.Utils.gtM();this.updateEquip(t,o)}else if(t instanceof Classup.Model){var r=App.CM.gtM(O6.B98);if(this.updateEquip(r,t),(i?i[0]:void 0)==P4.R28){var n=i[1];n&&n.forEach(function(t){return App.THH32.aUE(e.gEquip.getChildByName(t+""),"lg_qhyh_01",40,40,1)})}this.GX5(t)}},t.prototype.GX5=function(t){var e,r,i=t.stlv,s=t.stp,o=Reincarnate.Utils.mapkeyMax(Classup.Config.strength);if(e=o<=i?P7.str2kv(Classup.Config.strength[i]["type"+s]):(r=P7.str2kv(Classup.Config.strength[i+1]["type"+s]),i<=0?r.map(function(t){var e=t.k;t.v;return{k:e,v:0}}):P7.str2kv(Classup.Config.strength[i]["type"+s])),this.labAtrs.textFlow=M18.FG71(e.map(function(t,e){var i=P7.attr2str([t]),s="";if(r){var o=egret.toColorString(_cc.green);s=P7.FM5([r[e]],void 0,{template:"<font color="+o+">($1)</font>",percentTemplate:"<font color="+o+">($1%)</font>"})}return""+i+s}).join("\n")),this.gConsume.visible=!0,this.labStr3.visible=!1,i<o){var n=Classup.Config.strength[i+1],a=N12.gID(Classup.Config.strengthItem);this.costItem.data={itemData:{data:a,ct:0},isBottom:!1},this.btnEnc.imgNew.visible=0<t.ZC98();var h=N12.giC(Classup.Config.strengthItem);this.lbCost.textFlow=O3.tr2(8623,a.name,n.needitem,egret.toColorString(h>=n.needitem?_cc.green:_cc.red)),this.lbHave.textFlow=O3.tr2(8624,h)}else this.gConsume.visible=!1,this.labStr3.visible=!0;this.score.text=t.ZD82()+""},t.prototype.ZG53=function(){this.index&&(App.THH33.rEf(this.gEquip.getChildByName(this.index+""),"com"),delete this.index)},t.prototype.updateEquip=function(t,e){var n=this,a=e.stp,h=e.stlv,p=[];t.classupEquip.forEach(function(t){var e=N12.gID(t.i),i=e.pos,s=e.icon,o=e.quality,r=(e.level,n.gEquip.getChildByName(i+""));r.equipLv=O3.tr(8615,parseInt(i)<a?h+1:h),r.icon=s,r.iconBg=N12.getBox(o),p.push(i)}),this.gEquip.$children.forEach(function(t){if(!(0<=p.indexOf(t.name))){var e=parseInt(t.name);t.equipLv=O3.tr(8615,e<a?h+1:h),t.icon=L13.A66[e],t.iconBg=N12.getBox(1)}});var i=this.gEquip.getChildByName(a+"");this.index!=a&&(this.ZG53(),App.THH33.addUIEffect2(i,"com",-1,{x:-40,y:-40,zOrder:0}),this.index=a),this.showItem.icon=i.icon,this.showItem.iconBg=i.iconBg,this.showItem.equipLv=""},t.prototype.oCC=function(){App.VM.GY64(this)},t.prototype.onClick=function(){App.CM.apF(O6.B80,P4.R27)},t.prototype.ZV83=function(){App.CM.apF(O6.B80,Classup.Const.OPEN_MASTER,O7.A58)},t}(BaseEuiView);__reflect(ClassupEquipStrengthView.prototype,"ClassupEquipStrengthView");var ClassupEquipView=function(s){function t(t,e){var i=s.call(this,t,e)||this;return i.skinName="ClassUpEquipSkin",i}return __extends(t,s),t.prototype.initUI=function(){var e=this;this.btnDress.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClick,this),this.btnShow.addEventListener(egret.TouchEvent.TOUCH_TAP,this.ZV83,this),this.btnInt.addEventListener(egret.TouchEvent.TOUCH_TAP,this.ZN79,this),this.btnEnc.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickMaigc,this),this.btnDd.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickOther,this),this.gEquip.$children.forEach(function(t){return t.addEventListener(egret.TouchEvent.TOUCH_TAP,e.onClickEquip,e)}),this.btnDress.label=O3.tr(8630)},t.prototype.open=function(){var t=App.CM.gtM(O6.B98);this.updateAvatar(),this.updateEquip(t),this.GX5(Classup.Utils.gtM())},t.prototype.close=function(){var e=this;this.btnDress.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClick,this),this.btnShow.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.ZV83,this),this.btnInt.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.ZN79,this),this.btnEnc.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickMaigc,this),this.btnDd.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickOther,this),this.gEquip.$children.forEach(function(t){return t.removeEventListener(egret.TouchEvent.TOUCH_TAP,e.onClickEquip,e)}),s.prototype.close.call(this)},t.prototype.uBM=function(t,e){if(t instanceof TG58)this.updateEquip(t);else if(t instanceof Classup.Model){if(e==P4.N39){var i=App.CM.gtM(O6.B98);this.updateEquip(i)}this.GX5(t)}},t.prototype.onClick=function(){App.CM.apF(O6.B80,P4.N38)},t.prototype.updateAvatar=function(){var t=App.CM.gtM(O6.B82);this.avatarImg.source=O4.FHH96(t.avatarInfo.ge,t.avatarInfo.c)},t.prototype.GX5=function(t){this.btnInt.imgNew.visible=0<t.ZC98(),this.btnEnc.imgNew.visible=0<t.ZG51(),this.score.text=t.ZF9()+""},t.prototype.updateEquip=function(t){var a=this,h=[];t.classupEquip.forEach(function(t){var e=N12.gID(t.i),i=e.pos,s=e.icon,o=e.quality,r=e.level,n=a.gEquip.getChildByName(i+"");n.equipLv=O3.tr(8615,r),n.icon=s,n.iconBg=N12.getBox(o),h.push(i)}),this.gEquip.$children.forEach(function(t){0<=h.indexOf(t.name)||(t.equipLv="",t.icon=L13.A66[t.name],t.iconBg=N12.getBox(1))}),this.btnDress.imgNew.visible=this.btnDress.visible=0<t.canClassupEquip.length},t.prototype.ZV83=function(){App.CM.apF(O6.B80,Classup.Const.OPEN_MASTER,O7.F61)},t.prototype.ZN79=function(){App.VM.open(O7.A58)},t.prototype.onClickMaigc=function(){App.VM.open(O7.B63)},t.prototype.onClickOther=function(){P18.sDP(O3.tr(6588))},t.prototype.onClickEquip=function(t){for(var e=parseInt(t.currentTarget.name),i=0,s=App.CM.gtM(O6.B98).classupEquip;i<s.length;i++){var o=s[i],r=N12.gID(o.i);if(r.pos==e){var n=App.CM.gtM(O6.B80);r.cu={stlv:n.stlv,stp:n.stp,mlv:n.mlv,mp:n.mp,cmlv:n.cmlv},r.u=o.u,P5.FC75(r);break}}},t}(BaseEuiView);__reflect(ClassupEquipView.prototype,"ClassupEquipView");var ClassupExpExchangeView=function(s){function t(t,e){var i=s.call(this,t,e)||this;return i.skinName="ClassupExpExchangeSkin",i}return __extends(t,s),t.prototype.initUI=function(){s.prototype.initUI.call(this),this.bgMask.addEventListener(egret.TouchEvent.TOUCH_TAP,this.oCC,this),this.backBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.oCC,this),this.closeBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.oCC,this),this.btnExchange.addEventListener(egret.TouchEvent.TOUCH_TAP,this.ZN80,this),this.btnBuy.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickBuy,this),this.ckDot.addEventListener(eui.UIEvent.CHANGE,this.ZN78,this);var t=App.CM.gtM(O6.B80);this.GX5(),this.ckDot.selected=!t.isShowExchangeDot,this.lbTitle.text=O3.tr(8666),this.ckDot.label=O3.tr(8547),this.btnExchange.label=O3.tr(8549)},t.prototype.uBM=function(t){t instanceof TG12?this.GX5():t instanceof Classup.Model&&this.GX5(t)},t.prototype.GX5=function(t){t=t||App.CM.gtM(O6.B80);var e=Reincarnate.Utils.mapkeyMax(K18.levelup),i=O4.getLv();e<=i&&(i=e-1);var s=K18.FHH93(i),o=TG22.FG38(s*Classup.Config.expCost);this.labItem.text=O3.tr(8545,o),this.labExp.text=O3.tr(8544,TG22.FG38(o/Classup.Config.expRate)),this.labCount.text=O3.tr(8546,t.en)},t.prototype.close=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.bgMask.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.oCC,this),this.backBtn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.oCC,this),this.closeBtn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.oCC,this),this.btnExchange.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.ZN80,this),this.btnBuy.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickBuy,this),this.ckDot.removeEventListener(eui.UIEvent.CHANGE,this.ZN78,this),s.prototype.close.apply(this,t)},t.prototype.oCC=function(){App.VM.GY64(this)},t.prototype.ZN80=function(){var t=App.CM.gtM(O6.B82),e=K18.FHH93(Math.max(O4.getLv()-1,1)),i=TG22.FG38(e*Classup.Config.expCost);t.avatarInfo.e>=i?App.CM.apF(O6.B80,P4.J55):P18.sDP(O3.tr(5580)),this.oCC()},t.prototype.onClickBuy=function(){var t=App.CM.gtM(O6.B80),e=Classup.Utils.FA59();if(t.bn<e){var i=Classup.Config.expCostItem,s=N12.FK5(i.k),o={handler:function(){return App.CM.apF(O6.B80,P4.S82)},content:O3.tr(8571,i.v,s),title:O3.tr(6409)};App.VM.open(O7.C54,o)}else{var r=Classup.Utils.FA4();0<r?P18.sDP(O3.tr(8572,r)):P18.sDP(O3.tr(8573))}},t.prototype.ZN78=function(){App.CM.gtM(O6.B80);App.CM.apF(O6.B80,Classup.Const.EXCHANGE_DOT,this.ckDot.selected?0:1)},t}(BaseEuiView);__reflect(ClassupExpExchangeView.prototype,"ClassupExpExchangeView");var ClassupItemExchangeItemView=function(e){function t(){var t=e.call(this)||this;return t.skinName="ClassupExpExchangeItemSkin",t.addEventListener(egret.Event.ADDED_TO_STAGE,t.open,t),t.addEventListener(egret.Event.REMOVED_FROM_STAGE,t.close,t),t}return __extends(t,e),t.prototype.open=function(){this.btnDonation.addEventListener(egret.TouchEvent.TOUCH_TAP,this.ZN81,this)},t.prototype.close=function(){this.btnDonation.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.ZN81,this)},t.prototype.childrenCreated=function(){e.prototype.createChildren.call(this),this.btnDonation.label=O3.tr(8549)},t.prototype.dataChanged=function(){var t=this.data[0],e=N12.gID(t);this.lbTitle.textFlow=M18.HTP.parse(O3.tr(4197,e.name)),this.lbDesc.textFlow=M18.HTP.parse(O3.tr(4198,e.desc));var i={itemData:{data:e,ct:0},isBottom:!1};null==this.itemIcon&&(this.itemIcon=new ItemIcon,this.gpIcon.addChild(this.itemIcon)),this.itemIcon.data=i},t.prototype.ZN81=function(){App.CM.apF(O6.B80,P4.R25,this.data[0])},t}(eui.ItemRenderer);__reflect(ClassupItemExchangeItemView.prototype,"ClassupItemExchangeItemView");var ClassupItemExchangeView=function(s){function t(t,e){var i=s.call(this,t,e)||this;return i.skinName="ClassupItemExchangeSkin",i}return __extends(t,s),t.prototype.initUI=function(){var e=this;this.dlg.title=O3.tr(8551),this.dlg.ZM69(this.oCC,this),this.dlg.ZQ14(this.oCC,this),this.btnDonate.label=O3.tr(8548),this.lbStr1.textFlow=O3.tr2(8550),this.list=new CommonListBase({render:ClassupItemExchangeItemView,width:this.gpList.width,height:this.gpList.height}),this.gpList.addChild(this.list),this.btnDonate.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClick,this);var r=this.labs=[this.lbFuben,this.lbYingdi];if(r.forEach(function(t){t.visible=!1,t.addEventListener(egret.TouchEvent.TOUCH_TAP,e.onClickLink,e)}),Classup.Config.expExchange.length){var t=Classup.Config.expExchange[0].k;N12.gID(t).link.split(",").forEach(function(t,e){var i=t.split(":"),s=i[0],o=i[1];r[e].visible=!0,r[e].name=o,r[e].textFlow=M18.FG71("<u>"+s+"</u>")})}},t.prototype.open=function(){s.prototype.open.call(this),this.list.open();var t=App.CM.gtM(O6.B80);this.GX5(t)},t.prototype.close=function(){var e=this;s.prototype.close.call(this),this.list.close(),this.btnDonate.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClick,this),this.labs.forEach(function(t){return t.removeEventListener(egret.TouchEvent.TOUCH_TAP,e.onClickLink,e)})},t.prototype.uBM=function(t){if(t instanceof Classup.Model)this.GX5(t);else if(t instanceof THH9){var e=App.CM.gtM(O6.B80);this.GX5(e)}},t.prototype.GX5=function(t){var s=this.list.listData||[],e=Classup.Config.expExchange.map(function(t){return t.k}),o=0;e.forEach(function(t){for(var e=N12.giC(t),i=0;i<e;i++)s[i]=[t],o++}),s.splice(o,s.length-o),this.list.rfL(s,!0)},t.prototype.onClick=function(){App.CM.apF(O6.B80,P4.R25,-1)},t.prototype.oCC=function(){App.VM.GY64(this)},t.prototype.onClickLink=function(t){var e=t.currentTarget;"-1"!=e.name&&TG84.FM16(parseInt(e.name))},t}(BaseEuiView);__reflect(ClassupItemExchangeView.prototype,"ClassupItemExchangeView");var ClassupLevelView=function(s){function t(t,e){var i=s.call(this,t,e)||this;return i.skinName="ClassupLevelSkin",i}return __extends(t,s),t.prototype.initUI=function(){this.labExpch.textFlow=O3.tr2(8538),this.labItemch.textFlow=O3.tr2(8539),this.labTr8540.textFlow=O3.tr2(8540),this.btn.label=O3.tr(8570),this.btn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClick,this),this.labExpch.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickExpCh,this),this.labItemch.addEventListener(egret.TouchEvent.TOUCH_TAP,this.ZV84,this),this.dgCost.dataProvider=this.eaCost=new eui.ArrayCollection,this.dgCost.itemRenderer=ClassupSkillCostItemView,this.labTr8588.textFlow=O3.tr2(8588,"")},t.prototype.open=function(){s.prototype.open.call(this);var t=App.CM.gtM(O6.B80);this.GX5(t)},t.prototype.close=function(){this.btn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClick,this),this.labExpch.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickExpCh,this),this.labItemch.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.ZV84,this),this.eaCost.removeAll(),s.prototype.close.call(this)},t.prototype.uBM=function(t){if(t instanceof Classup.Model)this.GX5(t);else if(t instanceof THH9){var e=App.CM.gtM(O6.B80);this.GX5(e)}},t.prototype.GX5=function(t){var e=this,i=t.lv;this.labTitle.textFlow=O3.tr2(8553,i),this.labCurLevel.textFlow=O3.tr2(8553,i);var s,o=Reincarnate.Utils.mapkeyMax(Classup.Config.level),r=Classup.Config.level[i],n=Classup.Config.FC87(i,!0);if(i<o){this.currentState="normal";var a=i+1;s=P7.mergekvs(P7.str2kv(Classup.Config.level[a].baseattr),n,!0),this.labNAtr.text=P7.FM5(s,void 0,{titleType:1});N12.giC(Classup.Config.levelExp);this.labTr8588.textFlow=O3.tr2(8588,""),this.eaCost.source=[{k:Classup.Config.levelExp,v:r.exp},{k:Classup.Config.levelItem,v:r.cost}].map(function(t){return{data:t,color:egret.toColorString(e.labNAtr.textColor)}}),this.dgCost.validateNow()}else this.currentState="max",this.eaCost.source=[],this.labTr8588.textFlow=O3.tr2(8552);this.labCAtr.text=P7.FM5(n,void 0,{titleType:1}),this.labPower.text=M10.FHH18(n)+"",this.imgRedExp.visible=0<t.ZF6(),this.imgRedItem.visible=0<t.ZD80(),this.btn.imgNew.visible=0<t.ZN77()},t.prototype.onClick=function(){var t=this,e=App.CM.gtM(O6.B80).lv,i=Reincarnate.Utils.mapkeyMax(Classup.Config.level),s=Classup.Config.level[e],o=0;if(s&&e<i){if((o=N12.giC(Classup.Config.levelItem))<s.cost)return void App.VM.open(O7.G87,Classup.Config.levelItem,s.cost-o);if((o=N12.giC(Classup.Config.levelExp))<s.exp){var r={handler:function(){return t.onClickExpCh()},content:O3.tr(8739)};return void App.VM.open(O7.C54,r)}App.CM.apF(O6.B80,P4.V33)}},t.prototype.onClickExpCh=function(){App.VM.open(O7.A11)},t.prototype.ZV84=function(){App.VM.open(O7.A6)},t}(BaseEuiView);__reflect(ClassupLevelView.prototype,"ClassupLevelView");var ClassupMainView=function(o){function t(t,e){var i=o.call(this,t,e)||this;return i.sGN("classup"),i}return __extends(t,o),Object.defineProperty(t.prototype,"model",{get:function(){return App.CM.gtM(O6.B80)},enumerable:!0,configurable:!0}),t.prototype.initUI=function(){var t=this.model;this.state=1==t.com?Classup.Const.MAIN_STATE_LEVEL:Classup.Const.MAIN_STATE_TASK,this.set(O7.G40,O3.tr(8535)),this.state==Classup.Const.MAIN_STATE_TASK||this.state==Classup.Const.MAIN_STATE_LEVEL&&(this.rgS(O7.F59,"ClassupLevelView",O3.tr(8536),1),this.rgS(O7.F60,"ClassupSkillView",O3.tr(8537),1),this.rgS(O7.F61,"ClassupEquipView",O3.tr(8627),1)),o.prototype.initUI.call(this)},t.prototype.uBM=function(t){o.prototype.uBM.call(this,t),Classup.Model},t.prototype.updateDot=function(t,e){return e==O7.F59?0<Classup.Utils.gtM().ZF7():e==O7.F60?0<Classup.Utils.gtM().ZF5():e==O7.F61&&0<Classup.Utils.gtM().ZF8()},t.prototype.openHelpView=function(){var t;this.currentView==O7.F59?t={title:O3.tr(8610),content:O3.tr(8611)}:this.currentView==O7.F60?t={title:O3.tr(8612),content:O3.tr(8613)}:this.currentView==O7.F61&&(t={title:O3.tr(8631),content:O3.tr(8632)}),t&&App.VM.open(O7.I8,t)},t.prototype.ZQ23=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];var s=o.prototype.ZQ23.apply(this,[t].concat(e));switch(this.helpBtn.visible=!1,this.currentView){case O7.F59:case O7.F60:case O7.F61:this.helpBtn.visible=!0}return s},t.prototype.ZU73=function(){egret.Tween.get(this.baseGroup).set({alpha:.25,scaleX:.9,scaleY:.9}).to({alpha:1,scaleX:1.02,scaleY:1.02},200).to({alpha:1,scaleX:1,scaleY:1},200).call(App.VM.close,App.VM,[O7.G39])},t.prototype.close=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];o.prototype.close.apply(this,t),P7.FK28()},t}(BasePanelViewX);__reflect(ClassupMainView.prototype,"ClassupMainView");var ClassupSkillAttributeItemView=function(r){function t(){var t=r.call(this)||this;return t.skinName="ClassupSkillAttributeSkin",t}return __extends(t,r),t.prototype.dataChanged=function(){r.prototype.dataChanged.call(this);var t=this.data,e=t.k,i=t.v,s=t.a;t.ext;this.labAtr.text=P7.FM5([{k:e,v:i}],void 0,{titleType:1},this.data.ext);var o=s<=0;this.lab1.includeInLayout=this.lab2.includeInLayout=this.img.includeInLayout=this.labAtr2.includeInLayout=this.lab1.visible=this.lab2.visible=this.img.visible=this.labAtr2.visible=!o,o&&(this.lab1.x=this.lab2.x=this.img.x=this.labAtr2.x=0),this.labAtr2.text=P7.FM6([{k:e,v:s}],void 0,{template:"$1",percentTemplate:"$1%"},this.data.ext)},t}(eui.ItemRenderer);__reflect(ClassupSkillAttributeItemView.prototype,"ClassupSkillAttributeItemView");var ClassupSkillCostItemView=function(e){function t(){var t=e.call(this)||this;return t.skinName="ClassupSkillCostItemSkin",t}return __extends(t,e),t.prototype.childrenCreated=function(){e.prototype.childrenCreated.call(this),this.imgIcon.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClick,this),this.addEventListener(egret.Event.REMOVED_FROM_STAGE,this.remove,this)},t.prototype.dataChanged=function(){e.prototype.dataChanged.call(this),P16.FL31(this.gCost,this.data.data.k,this.data.data.v,{textTemplate:"<font color="+this.data.color+">$0/$1</font>"})},t.prototype.remove=function(){this.imgIcon.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClick,this),this.removeEventListener(egret.Event.REMOVED_FROM_STAGE,this.remove,this)},t.prototype.onClick=function(){var t=N12.gID(this.data.data.k);P5.FC75(t)},t}(eui.ItemRenderer);__reflect(ClassupSkillCostItemView.prototype,"ClassupSkillCostItemView");var ClassupSkillIcon2View=function(t){function e(){return t.call(this)||this}return __extends(e,t),e.prototype.childrenCreated=function(){t.prototype.childrenCreated.call(this),this.labState.textFlow=O3.tr2(8602)},e.prototype.setSkill=function(t,e,i){this.id=t;var s=Classup.Config.skill[t],o=s.type,r=s.icon;Classup.Config.skilllv[o][e];this.imgIcon.source=r,this.gLv.visible=1<=e,this.labLv.text=e+"",this.gState.visible=i,P16.sGF(this.imgIcon,e<=0)},e.prototype.setSelect=function(t){this.imgSelected.visible=!!t},e.prototype.updateDot=function(t){this.imgRed.visible=t},e}(eui.Component);__reflect(ClassupSkillIcon2View.prototype,"ClassupSkillIcon2View");var ClassupSkillIconView=function(t){function e(){return t.call(this)||this}return __extends(e,t),e.prototype.setSkill=function(t,e){this.id=t.skillid,this.imgIcon.source=t.icon,this.labName.textFlow=1==e?O3.tr2(8678):2==e?O3.tr2(8679):O3.tr2(8677)},e.prototype.setSelect=function(t){this.imgSelected.visible=!!t},e.prototype.updateDot=function(t){this.imgRed.visible=t},e}(eui.Component);__reflect(ClassupSkillIconView.prototype,"ClassupSkillIconView");var ClassupSkillView=function(s){function t(t,e){var i=s.call(this,t,e)||this;return i.skinName="ClassupSkillSkin",i}return __extends(t,s),t.prototype.initUI=function(){var e=this;this.dgAtrs.dataProvider=this.eaAttrs=new eui.ArrayCollection,this.dgAtrs.itemRenderer=ClassupSkillAttributeItemView,this.dgCost.dataProvider=this.eaCost=new eui.ArrayCollection,this.dgCost.itemRenderer=ClassupSkillCostItemView,this.gSkill.$children.forEach(function(t){return t.addEventListener(egret.TouchEvent.TOUCH_TAP,e.onClickSkill,e)}),this.gClassSkill.$children.forEach(function(t){return t.addEventListener(egret.TouchEvent.TOUCH_TAP,e.ZI24,e)}),this.btn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClick,this),this.btnUse.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickUse,this),this.skillicon.addEventListener(egret.TouchEvent.TOUCH_TAP,this.ZK84,this),this.labTr8588.textFlow=O3.tr2(8588,""),this.btnUse.label=O3.tr(8603),this.ZV85()},t.prototype.open=function(){s.prototype.open.call(this);var t=Classup.Utils.gtM();this.GX5(t),this.updateSkill(t),this.onSelect(1),this.ZG55(1)},t.prototype.close=function(){var e=this;s.prototype.close.call(this),this.gSkill.$children.forEach(function(t){return t.removeEventListener(egret.TouchEvent.TOUCH_TAP,e.onClickSkill,e)}),this.gClassSkill.$children.forEach(function(t){return t.removeEventListener(egret.TouchEvent.TOUCH_TAP,e.ZI24,e)}),this.btn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClick,this),this.btnUse.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickUse,this),this.skillicon.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.ZK84,this),this.eaCost.removeAll(),this.eaAttrs.removeAll(),this.ZV85()},t.prototype.uBM=function(t){t instanceof Classup.Model?(this.updateSkill(t),this.GX5(t),this.ZG54(t),this.updateBottom(t)):t instanceof TG12&&this.updateSkill(Classup.Utils.gtM())},t.prototype.updateDot=function(t){for(var e=0,i=this.gSkill.$children;e<i.length;e++){(n=i[e]).updateDot(0<t.ZF4(parseInt(n.name)))}for(var s=!1,o=0,r=this.gClassSkill.$children;o<r.length;o++){var n=r[o],a=0<t.ZV82(n.id);n.updateDot(a),n.id==this.selectClassSkill&&(s=a)}this.btn.imgNew.visible=this.btn.touchEnabled&&s},t.prototype.GX5=function(t){var e=[];for(var i in t.sks)for(var s=1;s<t.sks[i].lv;s++)P7.mergekvs(e,P7.str2kv(Classup.Config.skilllv[Classup.Config.skill[t.sks[i].id].type][s].attr),!0);this.labPower.text=M10.FHH18(e)+""},t.prototype.updateSkill=function(t){var e=App.CM.gtM(O6.B82);for(var i in e.sl){var s=e.sl[i],o=this.gSkill.getChildByName(i),r=0;if(t.usk[i])r=2;else for(var n in Classup.Config.skill_[i])if(t.sks[n]&&t.sks[n].lv){r=1;break}o.setSkill(s,r)}},t.prototype.updateBottom=function(t){if(this.selectClassSkill){this.btnUse.visible=!1,this.labStr1.visible=!0;var e=Classup.Config.skill[this.selectClassSkill],i=t.sks[this.selectClassSkill],s=void 0;if(this.dgCost.visible=this.btn.touchEnabled=this.gCost.visible=!0,i){this.currentState="normal",t.usk[this.GW61]==e.skillid?this.labStr1.textFlow=O3.tr2(8593):(this.btnUse.visible=!0,this.labStr1.visible=!1),s=Classup.Config.skilllv[e.skillid][i.lv],this.labStr3.textFlow=O3.tr2(8591);for(var o=[],r=1;r<=i.lv;r++)P7.mergekvs(o,P7.str2kv(Classup.Config.skilllv[e.skillid][r].attr),!0);var n,a=Classup.Config.skilllv[e.skillid][i.lv+1];this.btn.label=a?(n=P7.str2kv(a.attr),O3.tr(8595)):(this.gCost.visible=this.btn.touchEnabled=!1,O3.tr(8600));var h=o.map(function(t,e){return{k:t.k,v:t.v,a:a?n[e].v:-1,ext:{}}});for(r=1;r<=3;r++)if(s["ratio"+r]){var p=((d={})[1]={id:1,name:s["desc"+r],show:0,initAttr:0,growAttr:0,power:0},d),l={k:1,v:s["ratio"+r],a:a?Number(a["ratio"+r])-Number(s["ratio"+r]):-1,ext:p};h.push(l)}if(this.eaAttrs.source=h,"-1"!=s.costitem&&s.costitem){var c=P7.str2kv(s.costitem);c.push({k:Classup.Config.levelExp,v:s.costexp}),this.eaCost.source=c.map(function(t){return{data:t,color:egret.toColorString(_cc.green)}})}else this.dgCost.visible=!1}else this.currentState="unlock",s=Classup.Config.skilllv[e.skillid][1],this.labStr1.textFlow=O3.tr2(8585),this.btn.label=O3.tr(8594),this.labStr3.textFlow=O3.tr2(8587,O3.tr(8596,e.unlocklv)),this.eaCost.source=P7.str2kv(e.unlockitem).map(function(t){return{data:t,color:egret.toColorString(_cc.green)}});this.dgCost.validateNow(),P16.sGF(this.btn,!this.btn.touchEnabled);var u=App.CM.gtM(O6.B82).sl[this.GW61];this.labStr2.textFlow=O3.tr2(8586,s.desc,u.name),this.updateDot(t)}var d},t.prototype.ZG54=function(t){if(this.GW61){var e=Classup.Config.skill_[this.GW61],i=1;for(var s in e){var o=e[s],r=t.sks[s],n=0;r&&(n=r.lv),this.gClassSkill.getChildByName(i+"").setSkill(o.skillid,n,t.usk[this.GW61]==o.skillid),i++}}},t.prototype.ZV85=function(){this.gTips.visible=!1,this.tipsTimer&&(App.K16.rBH(this.tipsTimer),delete this.tipsTimer),this.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.ZV85,this)},t.prototype.onSelect=function(t){var e;for(var i in this.GW61&&this.gSkill.getChildByName(this.GW61+"").setSelect(!1),this.gClassSkill.$children)if(this.selectClassSkill&&this.gClassSkill.$children[i].id==this.selectClassSkill){e=this.gClassSkill.$children[i];break}var s=Classup.Utils.gtM();this.GW61=t;var o=this.gSkill.getChildByName(this.GW61+"");o.setSelect(!0),this.skillicon.source=o.imgIcon.source,this.ZV85(),this.ZG54(s),e&&this.ZG55(e.id)},t.prototype.ZG55=function(e){this.gClassSkill.$children.forEach(function(t){return t.setSelect(t.id==e)}),this.selectClassSkill=e,this.updateBottom(Classup.Utils.gtM())},t.prototype.onClickSkill=function(t){App.CM.gtM(O6.B82).sl[t.currentTarget.name];var e=parseInt(t.currentTarget.name);e!=this.GW61&&this.onSelect(e)},t.prototype.ZI24=function(t){var e=t.currentTarget;this.selectClassSkill!=e.id&&this.ZG55(e.id);var i=this.gClassSkill.getChildIndex(e);this.btnUse.horizontalCenter=125*i-125},t.prototype.onClickUse=function(){var t=this,e=Classup.Utils.gtM();if(e.sks[this.selectClassSkill]?e.sks[this.selectClassSkill].lv:0){var i=Classup.Config.skill[this.selectClassSkill];if(e.usk[this.GW61]){var s=Classup.Config.skillExchange,o=N12.FK5(s.k),r={handler:function(){return App.CM.apF(O6.B80,P4.P60,i.type,t.selectClassSkill,1)},content:O3.tr(8599,s.v,o)};App.VM.open(O7.C54,r)}else App.CM.apF(O6.B80,P4.P60,i.type,this.selectClassSkill,0)}},t.prototype.onClick=function(){Classup.Utils.gtM().sks[this.selectClassSkill]?App.CM.apF(O6.B80,P4.N36,this.selectClassSkill):App.CM.apF(O6.B80,P4.J57,this.selectClassSkill)},t.prototype.ZK84=function(t){if(!this.gTips.visible){this.ZV85();var e=App.CM.gtM(O6.B82).sl[this.GW61];this.labTips.textFlow=O3.tr2(8644,e.name,e.lv,e.getDesc()),this.tipsTimer=App.K16.doTimer(5e3,1,this.ZV85,this),this.gTips.visible=!0,t.stopPropagation(),this.once(egret.TouchEvent.TOUCH_TAP,this.ZV85,this)}},t}(BaseEuiView);__reflect(ClassupSkillView.prototype,"ClassupSkillView");var ClassupTaskItemView=function(e){function t(){var t=e.call(this)||this;return t.skinName="ClassupTaskItemSkin",t}return __extends(t,e),t.prototype.childrenCreated=function(){e.prototype.childrenCreated.call(this),this.labTr8531.textFlow=O3.tr2(8531),this.btn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClick,this),this.once(egret.Event.REMOVED_FROM_STAGE,this.remove,this),this.labTips.textFlow=O3.tr2(8532)},t.prototype.remove=function(){this.btn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClick,this)},t.prototype.dataChanged=function(){e.prototype.dataChanged.call(this),this.labTips.visible=!1,this.labProgress.visible=this.btn.visible=!0,this.btn.touchEnabled=!0,this.data.state==J13.A3?this.btn.label=O3.tr(8554):this.data.state==J13.A2?(this.labProgress.visible=!1,this.btn.label=O3.tr(8542),this.btn.touchEnabled=!1):this.data.state==J13.A1?this.btn.label=O3.tr(8541):-1==this.data.state&&(this.labProgress.visible=this.btn.visible=!1,this.labTips.visible=!0),P16.sGF(this.btn,!this.btn.touchEnabled),this.btn.imgNew.visible=this.data.state==J13.A3,this.labTitle.text=this.data.title,this.labContent.text=this.data.content,this.labProgress.textFlow=O3.tr2(8533,this.data.progress,this.data.max)},t.prototype.onClick=function(){if(this.data.state==J13.A3)App.CM.apF(O6.B80,P4.L68,this.data.id);else{if(this.data.state==J13.A1)return TG84.FM16(this.data.jumpid),App.VM.close(O7.G39);Log.trace("不能领取")}},t}(eui.ItemRenderer);__reflect(ClassupTaskItemView.prototype,"ClassupTaskItemView");var ClassupTaskView=function(r){function t(t,e){var i=r.call(this,t,e)||this;return i.skinName="ClassupTaskSkin",i}return __extends(t,r),t.prototype.initUI=function(){this.labTr8529.textFlow=O3.tr2(8529),this.labTr8534.textFlow=O3.tr2(8534),this.labTr8540.textFlow=O3.tr2(8540),this.list=new CommonListBase({render:ClassupTaskItemView,gap:5,width:this.gList.width,height:this.gList.height}),this.gList.addChild(this.list),this.dlg.title=O3.tr(8535),this.dlg.ZM69(this.oCC,this),this.dlg.ZQ14(this.oCC,this),this.dlg.ZHH60(!0),this.dlg.ZQ16(this.onClickHelp,this)},t.prototype.open=function(){for(var t=this,e=[],i=0;i<arguments.length;i++)e[i]=arguments[i];r.prototype.open.apply(this,e),this.list.open();var s=App.CM.gtM(O6.B80);this.GX5(s);var o=s.getCurTask();App.K16.doFrame(1,1,function(){return t.list.ZQ18(o)},this)},t.prototype.close=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];r.prototype.close.apply(this,t),this.list.close(),P7.FK28()},t.prototype.uBM=function(t,e){var i=this;if(t instanceof Classup.Model&&(this.GX5(t),e==P4.L69)){var s=t.getCurTask();if(0<s){var o=this.gPoints.getChildByName(s+""),r=1==t.com?function(){return i.ZU73()}:void 0;App.THH33.addUIEffect2(this.gPoints,"iconSkill",1,{name:"a"+s,x:o.x-60,y:o.y-61,scaleX:.9,scaleY:.9},r)}}},t.prototype.mathPoint=function(t,e,i,s){return[t+s*Math.cos(i),e+s*Math.sin(i)]},t.prototype.onPlayend=function(){var t=App.VM.open(O7.G40);t&&t.ZU73(),App.VM.open(O7.C29)},t.prototype.ZU73=function(){for(var t=1,e=2;t<=9;t+=2,e+=2){var i=this.gPoints.getChildByName(t+""),s=App.TG81.adjustAngle(App.TG81.getAngle(App.TG81.getRadian2(i.x,i.y,292,219))+180),o=this.mathPoint(i.x,i.y,s,10),r=o[0],n=o[1],a=egret.Tween.get(i).to({x:r,y:n,scaleX:1.05,scaleY:1.05},200).to({x:292,y:219,scaleX:.5,scaleY:.5},550);1==t&&a.call(this.onPlayend,this);i=this.gPoints.getChildByName(e+""),s=App.TG81.adjustAngle(App.TG81.getAngle(App.TG81.getRadian2(i.x,i.y,292,219))+180);var h=this.mathPoint(i.x,i.y,s,10);r=h[0],n=h[1];egret.Tween.get(i).wait(100).to({x:r,y:n,scaleX:1.05,scaleY:1.05},200).to({x:292,y:219,scaleX:.5,scaleY:.5},550)}},t.prototype.GX5=function(t){this.updateList(t),this.updateAtr(t)},t.prototype.updatePoint=function(t){for(var e=t-1,i=this.gPoints.numChildren,s=0;s<i;s++){var o=this.gPoints.getChildAt(s);P16.sGF(o,e<s)}},t.prototype.updateAtr=function(t){var e,i,s=t.getCurTask(),o=Reincarnate.Utils.mapkeyMax(Classup.Config.mission);if(0==s)e=(i=P7.str2kv(Classup.Config.mission[1].baseattr)).map(function(t){var e=t.k;t.v;return{k:e,v:0}});else{e=Classup.Config.FD77(s);var r=s+1;i=o<r?e:P7.mergekvs(P7.str2kv(Classup.Config.mission[r].baseattr),e)}this.labCurLevel.textFlow=O3.tr2(8528,s),this.labPower.text=M10.FHH18(e)+"",this.labAtr.text=P7.attr2str(e),this.labNAtr.text=P7.attr2str(i),this.updatePoint(s)},t.prototype.updateList=function(t){for(var e=Reincarnate.Utils.mapkeyMax(Classup.Config.mission),i=this.list.listData||[],s=t.cm?t.cm.id:e,o=Math.min(e,s+1),r=1,n=0;r<=o;r++,n++){var a=Classup.Config.mission[r],h=t.cm.id==a.id?t.cm:t.fmx[r];i[n]||(i[n]={id:a.id,title:O3.tr(8530,r),content:a.taskdes,max:a.needcount,progress:0,state:-1,jumpid:a.linked}),h&&(i[n].progress=h.ct,1==h.tk?i[n].state=J13.A2:1==h.fin?i[n].state=J13.A3:h.id>s?i[n].state=-1:i[n].state=J13.A1)}this.list.rfL(i)},t.prototype.oCC=function(){App.VM.GY64(this)},t.prototype.onClickHelp=function(){var t={title:O3.tr(8631),content:O3.tr(8632)};App.VM.open(O7.I8,t)},t}(BaseEuiView);__reflect(ClassupTaskView.prototype,"ClassupTaskView");var TC76=function(){function a(){}return a.FK35=function(t){var e=t.classupboss_init,i=t.classupboss_boss,s=t.classupboss_rank,o=t.classupboss_buytime;a.rewardTime=parseInt(e.rewardTime.value),a.assistTime=parseInt(e.assistTime.value),a.rankShowNumber=parseInt(e.rankShowNumber.value),a.rank=s,a.boss=i,a.buytime=o,a.openLv=a.boss[1].level},a.FJ52=function(t,e){var i=a.boss[t];return!!i&&i.level<=e},a.isOpen=function(){var t=App.CM.gtM(O6.B80);return t&&t.lv>=this.openLv},a.FG83=function(t,e){for(var i in a.rank){var s=a.rank[i];if(s.bossid==t){var o=s.rank.split(",").map(function(t){return parseInt(t)}),r=o[0],n=o[1];if(r<=e&&e<=n)return P7.str2kv(s.reward)}}return[]},a.teamMemberMax=3,a.ChallengeCountdown=60,a.openLv=0,a}();__reflect(TC76.prototype,"TC76");var F3=function(){function t(){}return t.A6=10001,t.A1=10002,t.A2=10003,t.LOAD_STATE=20001,t.LOAD_STATE_RES=20002,t.A4=1,t.A3=2,t}();__reflect(F3.prototype,"F3");var TB5=function(s){function t(){var t=s.call(this)||this;App.VM.register(O7.G41,"ClassupBossView",t,K17.UI_Main),App.VM.register(O7.D11,"ClassupBossRankView",t,K17.UI_Main_TOP),t.rgF(F3.A6,t.open,t),t.rgF(F3.A1,t.GF60,t),t.rgF(F3.A2,t.GF61,t);var e=new TD36(t);e.aLV(O7.D11),e.aLV(O7.G41),e.aLV(O7.I39),e.aLV(O7.I85);var i=t.proxy=new TD37(t);return t.rgF(F3.LOAD_STATE,i.loadState,i),t.rgF(F3.LOAD_STATE_RES,t.GU20,t),t.rgF(P4.P62,i.load,i),t.rgF(P4.P64,t.loadTeam,t),t.rgF(P4.G16,i.loadRank,i),t.rgF(P4.G9,i.joinTeam,i),t.rgF(P4.D40,i.GX78,i),t.rgF(P4.G13,i.exitTeam,i),t.rgF(P4.G11,i.quickTeam,i),t.rgF(P4.B81,i.buyTimes,i),t.rgF(P4.N41,t.fight,t),t}return __extends(t,s),t.prototype.open=function(){P7.isGetView(O7.G41)&&App.VM.open(O7.G46,O7.G41)},t.prototype.loadTeam=function(t){var e=App.CM.gtM(O6.B80),i=this.gtM();TC76.FJ52(t,e.lv)?0<i.st&&this.proxy.loadTeam(t):Log.trace("没有开启不能加载")},t.prototype.GU20=function(t){200!=t.head.state?App.CM.apF(O6.B87,L10.A4,t):(this.apF(P4.P62),this.gtM().update(t.body,!0,t.head.protoType))},t.prototype.loadRes=function(t){200!=t.head.state?App.CM.apF(O6.B87,L10.A4,t):this.gtM().update(t.body,!0,t.head.protoType)},t.prototype.update=function(t){if(200!=t.head.state)215==t.head.state?P7.FA78():App.CM.apF(O6.B87,L10.A4,t);else{var e=this.gtM();switch(t.head.protoType+""){case P4.D39:case P4.G14:2==t.body.type?P18.sDP(O3.tr(8792)):3==t.body.type&&P18.sDP(O3.tr(8791)),delete e.team}switch(e.update(t.body,!0,t.head.protoType,t.body),P5.sIs(t.body.ob),t.head.protoType+""){case P4.D41:case P4.G12:case P4.G10:case P4.N40:this.GF60(e.fullAutoChallenge),this.GF61(e.timeAutoChallenge)}}},t.prototype.fight=function(){if(App.CM.gtM(O6.B99).isSpFighting)return P18.sDP(O3.tr(2815));this.proxy.fight()},t.prototype.fightRes=function(t){var i=this;if(200!=t.head.state)App.CM.apF(O6.B87,L10.A4,t);else if(t.body.cd_)P7.fightCoolingCD(t.body.cd_);else{var e=this.gtM();e.update(t.body,!1),t.body.fr.v=1,App.K16.remove(this.GX42,this),delete e.team,e.notify(),App.CM.apF(O6.B99,N1.A11,t.body.fr,{rewards:t.body.ob,needResult:!0,type:P15.A27},function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];i.open()},this)}},t.prototype.GF60=function(t){var e=this.gtM();e.fullAutoChallenge=t,e.fullAutoChallenge&&e.team&&e.team.mem.length==TC76.teamMemberMax&&e.FL44&&App.CM.apF(O6.A95,P4.N41)},t.prototype.GF61=function(t){var e=this.gtM();App.K16.remove(this.GX42,this),e.timeAutoChallenge=t,e.timeAutoChallenge?e.FL44&&(App.K16.doTimer(1e3,TC76.ChallengeCountdown+2,this.GX42,this),e.autoChallengeTime=P6.getTime(!0)+TC76.ChallengeCountdown):e.autoChallengeTime=-1,e.notify(F3.A2)},t.prototype.GX42=function(){var t=this.gtM();t.FL44&&t.fullAutoChallenge&&t.autoChallengeTime-P6.getTime(!0)<=0&&(App.K16.remove(this.GX42,this),this.fight());var e=App.VM.gOV(O7.I85);e&&e.ZG48()},t}(TE11);__reflect(TB5.prototype,"TB5");var TD36=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.st=0,t.bn=0,t.cn=0,t.hn=0,t.fullAutoChallenge=!0,t.timeAutoChallenge=!0,t.autoChallengeTime=0,t.FL44=!1,t}return __extends(t,e),t.prototype.update=function(t,e){void 0===e&&(e=!0);for(var i=[],s=2;s<arguments.length;s++)i[s-2]=arguments[s];if(Log.warn("更新职业副本",t),this.st=P7.getValue(t.st,this.st),this.bn=P7.getValue(t.bn,this.bn),this.cn=P7.getValue(t.cn,this.cn),this.hn=P7.getValue(t.hn,this.hn),t.tm){this.teams={};for(var o=0,r=t.tm;o<r.length;o++){var n=r[o];this.teams[n.tid]=n}}this.team=P7.getValue(t.team,this.team),this.FL44=!!this.team&&this.team.lead==O4.getAid(),e&&this.notify.apply(this,i)},t.prototype.ZG56=function(){var t=this.bn+1,e=TC76.buytime[t];if(e)return P7.str2kv1(e.cost)},t.prototype.notify=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.notifyView.apply(this,[this].concat(t))},t}(TG79);__reflect(TD36.prototype,"TD36");var TD37=function(i){function t(t){var e=i.call(this,t)||this;return e.rSM(P4.CLASSUP_BOSS_STATE_PUSH,t.GU20,t),e.rSM(P4.N40,t.update,t),e.rSM(P4.N43,t.update,t),e.rSM(P4.D39,t.update,t),e.rSM(P4.L70,t.fightRes,t),e}return __extends(t,i),t.prototype.loadState=function(){var s=this;return new Promise(function(e,t){var i={type:P4.CLASSUP_BOSS_LOAD_STATE_REQ,body:{}};s.rSMO(P4.CLASSUP_BOSS_LOAD_STATE_RES,function(t){s.apF(F3.LOAD_STATE_RES,t),e("加载职业副本信息完成")},s),s.sSM(i)})},t.prototype.load=function(){var t={type:P4.P62,body:{}},e=this._controller;this.rSMO(P4.P63,e.loadRes,e),this.sSM(t)},t.prototype.loadTeam=function(t){var e={type:P4.P64,body:{bossId:t}},i=this._controller;this.rSMO(P4.P65,i.update,i),this.sSM(e)},t.prototype.joinTeam=function(t){var e={type:P4.G9,body:{tid:t}},i=this._controller;this.rSMO(P4.G10,i.update,i),this.sSM(e)},t.prototype.GX78=function(t){var e={type:P4.D40,body:{bossId:t}},i=this._controller;this.rSMO(P4.D41,i.update,i),this.sSM(e)},t.prototype.quickTeam=function(t){var e={type:P4.G11,body:{bossId:t}},i=this._controller;this.rSMO(P4.G12,i.update,i),this.sSM(e)},t.prototype.fight=function(){var t={type:P4.N41,body:{}},e=this._controller;this.rSMO(P4.N42,e.fightRes,e),this.sSM(t)},t.prototype.exitTeam=function(t){var e={type:P4.G13,body:{target:t}},i=this._controller;this.rSMO(P4.G14,i.update,i),this.sSM(e)},t.prototype.loadRank=function(t,e,i){var s={type:P4.G16,body:{bossId:t,currPage:e,size:i}},o=this._controller;this.rSMO(P4.G17,o.update,o),this.sSM(s)},t.prototype.buyTimes=function(){var t={type:P4.B81,body:{}},e=this._controller;this.rSMO(P4.B82,e.update,e),this.sSM(t)},t}(TG80);__reflect(TD37.prototype,"TD37");var ClassupBossRankItemView=function(e){function t(){var t=e.call(this)||this;return t.skinName="ClassupBossRankItemSkin",t}return __extends(t,e),t.prototype.dataChanged=function(){e.prototype.dataChanged.call(this),this.imgRank.source=[,"v1_fonts_di1m_png","v1_fonts_2nd_png","v1_fonts_di3m_png"][this.data.rank]||"",this.labName.text=this.data.sn?this.data.name+" "+this.data.sn:this.data.name,this.labDamage.text=M18.FF65(this.data.value,1)},t}(eui.ItemRenderer);__reflect(ClassupBossRankItemView.prototype,"ClassupBossRankItemView");var ClassupBossRankListItemView=function(e){function t(){var t=e.call(this)||this;return t.skinName="ItemClassupBossRankSkin",t}return __extends(t,e),t.prototype.childrenCreated=function(){e.prototype.childrenCreated.call(this),this.dgReward.dataProvider=this.dataSource=new eui.ArrayCollection,this.dgReward.itemRenderer=ItemIcon,this.addEventListener(egret.Event.REMOVED_FROM_STAGE,this.remove,this)},t.prototype.dataChanged=function(){e.prototype.dataChanged.call(this);var t=this.data.rank<=3;this.labRank.visible=!(this.imgRank.visible=t),t?this.imgRank.source=[,"v1_fonts_di1m_png","v1_fonts_2nd_png","v1_fonts_di3m_png"][this.data.rank]||"":this.labRank.text=this.data.rank+"",this.labDamage.text=M18.FF65(this.data.value,1),this.labName.text=P7.isEmpty(this.data.name)?O3.tr(8777):this.data.name.join("."+this.data.sn+"\n")+"."+this.data.sn,this.dataSource.source=this.data.rw.map(function(t){var e=t.k,i=t.v;return{itemData:{data:N12.gID(e),ct:i},isBottom:!1,scale:.6}})},t.prototype.remove=function(){this.dataSource.removeAll(),this.removeEventListener(egret.Event.REMOVED_FROM_STAGE,this.remove,this)},t}(eui.ItemRenderer);__reflect(ClassupBossRankListItemView.prototype,"ClassupBossRankListItemView");var ClassupBossRankView=function(s){function t(t,e){var i=s.call(this,t,e)||this;return i.skinName="ClassupBossRankSkin",i}return __extends(t,s),t.prototype.initUI=function(){this.list=new CommonListBase({render:ClassupBossRankListItemView,gap:0,width:this.gpList.width,height:this.gpList.height,arrowScale:1}),this.gpList.addChild(this.list),this.dlg.title=O3.tr(8782),this.dlg.ZM69(this.oCC,this),this.dlg.ZQ14(this.oCC,this),this.labTr8756.textFlow=O3.tr2(8756),this.labTr8757.textFlow=O3.tr2(8757),this.labTr8778.textFlow=O3.tr2(8778),this.labTr8779.textFlow=O3.tr2(8779),this.labTr8781.textFlow=O3.tr2(8781)},t.prototype.open=function(t){this.id=t,s.prototype.open.call(this),this.list.open(),this.resetRank(),this.initListData(),App.CM.apF(O6.A95,P4.G16,t,1,TC76.rankShowNumber)},t.prototype.initListData=function(){for(var t=[],e=1;e<=TC76.rankShowNumber;e++)t.push({name:[],rank:e,value:0,sn:"",rw:TC76.FG83(this.id,e)});this.list.rfL(t)},t.prototype.uBM=function(t,e,i){t instanceof TD36&&e==P4.G17&&this.updateRank(i)},t.prototype.resetRank=function(){this.labRank.textFlow=O3.tr2(8780,O3.tr(8776)),this.labDamage.textFlow=O3.tr2(8761,O3.tr(8776))},t.prototype.updateRank=function(t){t.me?(this.labRank.textFlow=O3.tr2(8780,t.me.rank),this.labDamage.textFlow=O3.tr2(8761,M18.FF65(t.me.dmg,1))):this.resetRank();var i=this.list.dataSource.source||[];t.as.map(function(t){if(t.rank<=TC76.rankShowNumber){var e=i[t.rank-1];e.name=t.mem,e.value=t.dmg,e.sn=t.sname}}),this.list.rfL(i)},t.prototype.close=function(){s.prototype.close.call(this),this.list.close()},t.prototype.oCC=function(){App.VM.GY64(this)},t}(BaseEuiView);__reflect(ClassupBossRankView.prototype,"ClassupBossRankView");var ClassupBossTeamItemView=function(e){function t(){var t=e.call(this)||this;return t.skinName="ClassupBossTeamItemSkin",t}return __extends(t,e),t.prototype.childrenCreated=function(){e.prototype.childrenCreated.call(this),this.addEventListener(egret.Event.REMOVED_FROM_STAGE,this.remove,this),this.btnExit.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickExit,this),this.btn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClick,this)},t.prototype.dataChanged=function(){if(e.prototype.dataChanged.call(this),this.data.style==F3.A4)this.currentState="team",this.btn.label=O3.tr(8769),this.labLv.textFlow=O3.tr2(8790,this.data.mc,TC76.teamMemberMax);else if(this.data.style==F3.A3)if(this.data.mem){this.currentState="member",this.imgCaptain.visible=this.data.lead==this.data.mem.aid;var t=O4.getAid();this.btnExit.visible=this.data.lead==t||this.data.mem.aid==t,this.labLv.textFlow=O3.tr2(8770,this.data.mem.lv)}else this.currentState="invite",this.btn.label=O3.tr(8784);this.data.mem&&(this.labName.text=this.data.mem.name,this.labValue.textFlow=O3.tr2(8771,M18.FF65(this.data.mem.sc,1)),this.head.setIcon(this.data.mem.icon))},t.prototype.remove=function(){this.removeEventListener(egret.Event.REMOVED_FROM_STAGE,this.remove,this),this.btnExit.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickExit,this),this.btn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClick,this)},t.prototype.onClickExit=function(){App.CM.apF(O6.A95,P4.G13,this.data.mem.aid)},t.prototype.onClick=function(){this.data.style==F3.A3||this.data.style==F3.A4&&(this.data.mc<TC76.teamMemberMax?App.CM.apF(O6.A95,P4.G9,this.data.tid):P18.sDP(O3.tr(8786)))},t}(eui.ItemRenderer);__reflect(ClassupBossTeamItemView.prototype,"ClassupBossTeamItemView");var ClassupBossView=function(s){function t(t,e){var i=s.call(this,t,e)||this;return i.skinName="ClassupBossSkin",i}return __extends(t,s),t.prototype.initUI=function(){this.labTr8755.textFlow=O3.tr2(8755),this.labTr8756.textFlow=O3.tr2(8756),this.labTr8757.textFlow=O3.tr2(8757),this.labTr8758.textFlow=O3.tr2(8758),this.labTr8759.textFlow=O3.tr2(8759),this.cbAutoFight.label=O3.tr(8772),this.btn1.label=O3.tr(8765),this.cbTime.label=O3.tr(8773,TC76.ChallengeCountdown),this.labTr8759.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickRank,this),this.dgTeam.dataProvider=this.eaTeam=new eui.ArrayCollection,this.dgTeam.itemRenderer=ClassupBossTeamItemView,this.dgRank.dataProvider=this.eaRank=new eui.ArrayCollection,this.dgRank.itemRenderer=ClassupBossRankItemView,this.listReward.dataProvider=this.eaReawrd=new eui.ArrayCollection,this.listReward.itemRenderer=ItemIcon,this.tabBar.dataProvider=this.eaTitle=new eui.ArrayCollection,this.tabBar.addEventListener(eui.UIEvent.CHANGE,this.ZU55,this),this.btn1.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClick1,this),this.btn2.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClick2,this),this.btnBuy.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickBuy,this),this.cbAutoFight.addEventListener(eui.UIEvent.CHANGE,this.ZI25,this),this.cbTime.addEventListener(eui.UIEvent.CHANGE,this.ZF10,this),this.updateTab()},t.prototype.open=function(){var t=App.CM.gtM(O6.A95),e=1;if(t.team)e=t.team.bossId;else{var i=App.CM.gtM(O6.B80),s=0;for(var o in TC76.boss){var r=TC76.boss[o];r.level>s&&r.level<=i.lv&&(e=r.id,s=r.level)}}this.select(e),this.updateTitle(!0),this.cbAutoFight.selected=t.fullAutoChallenge,this.cbTime.selected=t.timeAutoChallenge,this.timer=this.timer||App.K16.doTimer(1e3,0,this.GX42,this),this.GX42()},t.prototype.close=function(){this.tabBar.removeEventListener(eui.UIEvent.CHANGE,this.ZU55,this),this.btn1.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClick1,this),this.btn2.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClick2,this),this.btnBuy.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickBuy,this),this.cbAutoFight.removeEventListener(eui.UIEvent.CHANGE,this.ZI25,this),this.cbTime.removeEventListener(eui.UIEvent.CHANGE,this.ZF10,this),this.labTr8759.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickRank,this),this.removeAvatar(),delete this.listReward.name,this.eaReawrd.removeAll(),this.eaTitle.removeAll(),this.eaRank.removeAll(),this.eaTeam.removeAll(),this.timer&&App.K16.rBH(this.timer),delete this.timer},t.prototype.uBM=function(t,e,i){if(t instanceof TD36)switch(this.GX5(t),e+""){case P4.G17:this.updateRank(i);break;case P4.P65:case P4.D41:case P4.G10:case P4.N40:case P4.G12:this.updateTeam(t);break;case P4.G14:case P4.D39:this.updateTeam(t),App.CM.apF(O6.A95,P4.P64,this.id);break;case F3.A2+"":this.GX42()}},t.prototype.GX5=function(t){if(t.team&&t.team.bossId!=this.id)return this.select(t.team.bossId),void this.updateTitle();if(this.id){var e=App.CM.gtM(O6.B80),i=TC76.boss[this.id];if(this.labTitle.textFlow=O3.tr2(8762,i.level),e.lv<i.level)this.currentState="lock",this.labLock.textFlow=O3.tr2(8775,i.level),this.btn2.label=O3.tr(8785);else{this.currentState="normal";var s=0<t.st?t.cn:0,o=0<t.st?t.hn:0;if(this.labCount.textFlow=O3.tr2(8763,s,TC76.rewardTime,egret.toColorString(0<s?_cc.green:_cc.red)),this.labHelpCount.textFlow=O3.tr2(8764,o,TC76.assistTime,egret.toColorString(0<o?_cc.green:_cc.red)),this.btn2.visible=this.btn1.visible=!0,this.gCheck.visible=!1,t.team){var r=t.FL44;this.btn1.visible=!1,this.btn2.visible=this.gCheck.visible=r,this.btn2.label=O3.tr(8767)}else this.btn2.label=O3.tr(8768)}if(this.listReward.name!=this.id+""&&(this.listReward.name=this.id+"",this.eaReawrd.source=P7.str2kv(i.showreward).map(function(t){var e=t.k,i=t.v;return{itemData:{data:N12.gID(e),ct:i},isBottom:!1,scale:.9}})),this.labEnemyName.text=i.name,this.bossId!=i.bossattr&&(this.removeAvatar(),this.bossId=i.bossattr,this.bossId)){this.objBoss=new FightGameObject;var n={id:N17.FF93(N17.group[this.bossId].pos8).image,x:0,y:0,dir:Dir.br,objType:P13.A6,bt:BehaviourType.Stand_d};this.objBoss.setData(n,this.gAvatar)}}},t.prototype.removeAvatar=function(){delete this.bossId,this.gAvatar.removeChildren(),this.objBoss&&(this.objBoss.destory(),delete this.objBoss)},t.prototype.select=function(t){var e=App.CM.gtM(O6.A95);t==this.id&&e.team&&e.team.bossId!=t||(this.id=t,this.eaTeam.removeAll(),this.resetRank(),this.GX5(e),App.CM.apF(O6.A95,P4.G16,this.id,1,3),App.CM.apF(O6.A95,P4.P64,this.id))},t.prototype.resetRank=function(){this.labRank.textFlow=O3.tr2(8760,O3.tr(8776)),this.labDamage.textFlow=O3.tr2(8761,O3.tr(8776));for(var t=[],e=0;e<3;e++)t.push({name:O3.tr(8777),rank:e+1,value:0});this.eaRank.source=t},t.prototype.updateRank=function(t){if(this.id==t.bossId){t.me&&(this.labRank.textFlow=O3.tr2(8760,t.me.rank),this.labDamage.textFlow=O3.tr2(8761,M18.FF65(t.me.dmg,1)));for(var e=[],i=0;i<3;i++){var s=t.as[i];s&&s.rank<=3?e.push({name:s.hname,rank:s.rank,value:s.dmg,sn:s.sname}):e.push({name:O3.tr(8777),rank:i+1,value:0})}this.eaRank.source=e}},t.prototype.updateTeam=function(t){var e=[];if(t.team)for(var i=0;i<3;i++)e[i]={lead:t.team.lead,style:F3.A3,tid:t.team.tid,mem:t.team.mem[i]};else{for(var s in e=[],t.teams){var o=t.teams[s];if(o.bossId!=this.id){App.CM.apF(O6.A95,P4.P64);break}for(var r=void 0,n=0,a=o.mem;n<a.length;n++){var h=a[n];if(h.aid==o.lead){r=h;break}}e.push({lead:-1,style:F3.A4,tid:o.tid,mem:r,mc:o.num})}e.sort(function(t,e){return t.mc==e.mc?t.tid-e.tid:t.mc-e.mc})}this.eaTeam.replaceAll(e)},t.prototype.updateTab=function(){var t=[];for(var e in TC76.boss){var i=TC76.boss[e];t.push({text:O3.tr(8762,i.level),o:i.level,id:i.id})}t.sort(function(t,e){return t.o-e.o}),this.eaTitle.source=t},t.prototype.GX42=function(){var t=App.CM.gtM(O6.A95),e=App.CM.gtM(O6.B80);t.team?t.timeAutoChallenge&&t.FL44?this.cbTime.label=O3.tr(8773,Math.max(Math.floor(t.autoChallengeTime-P6.getTime(!0)),0)):this.cbTime.label=O3.tr(8773,TC76.ChallengeCountdown):TC76.FJ52(this.id,e.lv)&&App.CM.apF(O6.A95,P4.P64,this.id)},t.prototype.updateTitle=function(t){var e=this;void 0===t&&(t=!1);for(var i=0;i<this.eaTitle.length;i++)if(this.eaTitle.source[i].id==this.id){this.tabBar.selectedIndex=i;break}t&&App.K16.doFrame(1,1,function(){var t=150*e.eaTitle.length-e.scBar.width;0<e.tabBar.selectedIndex&&(e.tabBar.scrollH=Math.min(t,150*e.tabBar.selectedIndex))},null)},t.prototype.ZU55=function(t){App.CM.gtM(O6.B80);var e=App.CM.gtM(O6.A95),i=this.eaTitle.source[this.tabBar.selectedIndex];e.team?App.K16.doFrame(1,1,this.updateTitle,this):this.select(i.id)},t.prototype.onClick1=function(){App.CM.apF(O6.A95,P4.D40,this.id)},t.prototype.onClick2=function(){if(TC76.isOpen()){var t=App.CM.gtM(O6.A95),e=App.CM.gtM(O6.B80);t.team?App.CM.apF(O6.A95,P4.N41):TC76.FJ52(this.id,e.lv)?App.CM.apF(O6.A95,P4.G11,this.id):App.CM.apF(O6.B80,Classup.Const.OPEN)}else App.CM.apF(O6.B80,Classup.Const.OPEN)},t.prototype.onClickBuy=function(){var t=App.CM.gtM(O6.A95).ZG56();if(t){var e=N12.gID(t.k),i={handler:function(){return App.CM.apF(O6.A95,P4.B81)},cost:t.v,costTp:P10.A2,content:O3.tr(8787,t.v,e.name,1)};App.VM.open(O7.C54,i)}else P18.sDP(O3.tr(8788))},t.prototype.onClickRank=function(){App.VM.open(O7.D11,this.id)},t.prototype.ZI25=function(){App.CM.apF(O6.A95,F3.A1,this.cbAutoFight.selected)},t.prototype.ZF10=function(){App.CM.apF(O6.A95,F3.A2,this.cbTime.selected)},t}(BaseEuiView);__reflect(ClassupBossView.prototype,"ClassupBossView");var ClimbCampUIView=function(o){function t(t,e){var i=o.call(this,t,e)||this;return i.skinName=ClimbCampUISkin,i}return __extends(t,o),t.prototype.initData=function(){},t.prototype.initUI=function(){o.prototype.initUI.call(this),this.gpBg.touchEnabled=!1,this.lbStr1.textFlow=M18.HTP.parse(O3.tr(4387))},t.prototype.isSureClose=function(){var t=this;App.VM.open(O7.HH38,M18.HTP.parser(O3.tr(603)),this,function(){t.GV97(),App.CM.apF(O6.C6,N5.A34)},void 0)},t.prototype.open=function(){for(var i=this,t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];o.prototype.open.call(this);var s=App.CM.gtM(O6.C6);this.btnHelp.addEventListener(egret.TouchEvent.TOUCH_TAP,this.openHelpView,this),this.btnIntegral.addEventListener(egret.TouchEvent.TOUCH_TAP,this.ZI26,this),this.btnBack.addEventListener(egret.TouchEvent.TOUCH_TAP,this.isSureClose,this),this.task.addEventListener(egret.TouchEvent.TOUCH_TAP,this.getAward,this),this.challHander?this.ZG57(s):this.ZV86(s),App.DelayOptManager.ZE59(this,function(){var t=App.VM.gOV(O7.I85);if(t){var e=P7.FJ17();i.gpBg.bottom=e?t.chartGroup.height==ChatView.minHeig?240:490:t.chartGroup.height==ChatView.minHeig?350:490}})},t.prototype.getAward=function(){App.CM.gtM(O6.C6).ownGet>=this.nowGet&&this.apF(N5.A6,this.nowGet)},t.prototype.ZV86=function(t){var e=this;e.lbTime.textFlow=M18.HTP.parse(O3.tr(4388,P6.FJ11(1e3*TG53.FJ24(),3))),this.challHander=App.K16.doTimer(1e3,0,function(){e.lbTime.textFlow=M18.HTP.parse(O3.tr(4388,P6.FJ11(1e3*TG53.FJ24(),3)))},this)},t.prototype.openHelpView=function(){var t=M16.gIV("help"),e={title:O3.tr(600),content:t};App.CM.apF(O6.C18,O10.A24,e)},t.prototype.ZI26=function(){this.apF(N5.A22),this.apF(N5.A4)},t.prototype.uBM=function(t,e){o.prototype.uBM.call(this,t,e),t instanceof TG51&&this.ZG57(t)},t.prototype.ZG57=function(t){var e=O3.tr(609,t.tierNum);this.lbTier.textFlow=M18.HTP.parser(e);var i=M16.FC18(t.alGet);this.nowGet=i.s;var s=M16.pointAward[M16.pointAward.length-1];t.alGet>=s.s?(this.task.lbGet.visible=!0,this.task.lbTaskTitle1.text=t.ownGet+"/"+s.s):this.task.lbTaskTitle1.text=t.ownGet+"/"+i.s,this.task.lbTaskTitle1.textColor=t.ownGet>=this.nowGet?6483518:_cc.white,this.task.grpLift.visible=t.alGet<s.s;for(var o=0;o<i.rewards.length&&this.task["img"+o];o++){var r=N12.gID(i.rewards[o].k).icon;this.task["img"+o].source=r,this.task["lb"+o].text=i.rewards[o].v}},t.prototype.GV97=function(){this.challHander&&(App.K16.rBH(this.challHander),this.challHander=null)},t.prototype.close=function(){o.prototype.close.call(this),this.btnHelp.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.openHelpView,this),this.btnIntegral.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.ZI26,this),this.btnBack.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.isSureClose,this),this.task.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.getAward,this),App.CM.gtM(O6.C6).isTower||this.GV97();var t=App.VM.gOV(O7.I85);t&&(t.gpTopBtn.top=-150),egret.Tween.removeTweens(this.gpBg)},t.prototype.ZR53=function(t){var e=this;egret.Tween.get(this.gpBg).to({bottom:t},300).call(function(){egret.Tween.removeTweens(e.gpBg)})},t}(BaseEuiView);__reflect(ClimbCampUIView.prototype,"ClimbCampUIView");var M16=function(){function t(){}return t.FK35=function(t){for(var e in this.init=t.climb_init,this.tower=t.climb_tower,this.myRanData=this.FI19(),this.pointAward=this.FHH2(),this.openDay=this.gIV("openDay").split(","),this.openDay)this.openDay[e]=parseInt(this.openDay[e]);this.doubleTime=this.ZV6()},t.gIV=function(t){var e="";return this.init?e=this.init[t].value:e},t.FHH1=function(t){void 0===t&&(t=0);var h=[];return this.init&&(0==t?this.gIV("monthRankAward"):this.gIV("weekRankAward")).split("|").forEach(function(t,e){for(var i=t.split(","),s=i[0].split("-"),o=i[1].split(";"),r=[],n=0;n<o.length;n++){var a=o[n].split(":");r.push({k:a[0],v:a[1]})}h.push({s:s[0],e:s[1],rewards:r})}),h},t.FI19=function(){var h=[];return this.init&&this.gIV("pointRankAward").split("|").forEach(function(t,e){for(var i=t.split(","),s=i[0].split("-"),o=i[1].split(";"),r=[],n=0;n<o.length;n++){var a=o[n].split(":");r.push({k:a[0],v:a[1]})}h.push({s:s[0],e:s[1],rewards:r})}),h},t.FHH2=function(){var a=[];return this.init&&this.gIV("pointAward").split("|").forEach(function(t,e){for(var i=t.split(","),s=i[1].split(";"),o=[],r=0;r<s.length;r++){var n=s[r].split(":");o.push({k:n[0],v:n[1]})}a.push({s:parseInt(i[0]),rewards:o})}),a},t.FC18=function(t){var e=this.pointAward[0];if(!this.pointAward)return e;for(var i=0;i<this.pointAward.length;i++)if(this.pointAward[i].s>t){e=this.pointAward[i];break}return e},t.FL59=function(t){if(this.tower)return this.tower[t+""].npcid},t.FJ53=function(){if(this.init)return this.gIV("startTime")},t.ZV6=function(){var t={};return this.init?t={pt:P6.FM3(this.gIV("startTime")),vt:P6.FM3(this.gIV("endTime"))}:t},t}();__reflect(M16.prototype,"M16");var P1=function(){function t(){}return t.A1="REMOVE_ONE",t.A2="REMOVE_ALL",t}();__reflect(P1.prototype,"P1");var N5=function(){function t(){}return t.A40=0,t.A39=1,t.A41=2,t.A42=3,t.A43=4,t.A13=10001,t.A14=10002,t.A24=10003,t.A32=10004,t.A33=10005,t.A2=10006,t.A3=10007,t.A4=10008,t.A5=10009,t.A25=10010,t.A26=10011,t.A8=10012,t.A27=10013,t.A28=10014,t.A34=10015,t.A35=10016,t.A9=10017,t.A1=10018,t.A10=10019,t.A6=10020,t.A7=10021,t.A29=10022,t.A30=10023,t.A15=10024,t.A16=10025,t.A17=10026,t.A38=10027,t.A36=10028,t.A37=10029,t.A31=10030,t.A18=11001,t.A11=11002,t.A22=11003,t.A19=11004,t.A20=11005,t.A12=11006,t.A23=11007,t.A21=11008,t}();__reflect(N5.prototype,"N5");var TD87=function(i){function t(){var t=i.call(this)||this;App.VM.register(O7.F66,"ClimbCampUIView",t,K17.Fight),t.rgF(N5.A18,t.GHH32,t),t.rgF(N5.A11,t.GF62,t),App.VM.register(O7.D37,"ClimbMyRanKingView",t,K17.UI_Main),t.rgF(N5.A22,t.GJ14,t),t.rgF(N5.A19,t.GHH33,t),App.VM.register(O7.C62,"ClimbSumRanKingView",t,K17.UI_Main_TOP),t.rgF(N5.A20,t.GHH34,t),t.rgF(N5.A12,t.GF63,t),App.VM.register(O7.G60,"FightClimbView",t,K17.Fight),t.rgF(N5.A23,t.GJ15,t),t.rgF(N5.A21,t.GHH35,t);var e=new TG51(t);return e.aLV(O7.I76),e.aLV(O7.G60),e.aLV(O7.F66),e.aLV(O7.D37),e.aLV(O7.C62),e.aLV(O7.I85),e.aLV(O7.HH47),e.aLV(O7.HH23),e.aLV(O7.D89),t.climbProxy=new TG52(t),t.rgF(N5.A13,t.GU34,t),t.rgF(N5.A14,t.GU20,t),t.rgF(N5.A24,t.GY21,t),t.rgF(N5.A32,t.loadReq,t),t.rgF(N5.A33,t.loadRes,t),t.rgF(N5.A2,t.GM87,t),t.rgF(N5.A3,t.GM88,t),t.rgF(N5.A4,t.GO75,t),t.rgF(N5.A5,t.GO76,t),t.rgF(N5.A25,t.GY36,t),t.rgF(N5.A26,t.GY37,t),t.rgF(N5.A8,t.GS58,t),t.rgF(N5.A27,t.GY38,t),t.rgF(N5.A28,t.GY39,t),t.rgF(N5.A34,t.quitReq,t),t.rgF(N5.A35,t.quitRes,t),t.rgF(N5.A9,t.GS60,t),t.rgF(N5.A1,t.GJ16,t),t.rgF(N5.A10,t.GU35,t),t.rgF(N5.A6,t.GM89,t),t.rgF(N5.A7,t.GM90,t),t.rgF(N5.A29,t.freshReq,t),t.rgF(N5.A30,t.freshRes,t),t.rgF(N5.A15,t.GU36,t),t.rgF(N5.A16,t.GU37,t),t.rgF(N5.A17,t.GU38,t),t.rgF(N5.A38,t.FHH98,t),t.rgF(N5.A36,t.moveReq,t),t.rgF(N5.A37,t.moveRes,t),t.rgF(N5.A31,t.movePush,t),t}return __extends(t,i),t.prototype.FHH98=function(){TG53.FHH98()},t.prototype.GHH32=function(){App.VM.open(O7.F66)},t.prototype.GF62=function(){App.VM.close(O7.F66)},t.prototype.GJ14=function(){App.VM.open(O7.D37)},t.prototype.GHH33=function(){App.VM.close(O7.D37)},t.prototype.GHH34=function(){App.VM.open(O7.C62)},t.prototype.GF63=function(){App.VM.close(O7.C62)},t.prototype.GJ15=function(){App.VM.setAutoClose(O7.I76,!0),App.VM.close(O7.I76),App.VM.setAutoClose(O7.G82,!0),App.VM.close(O7.G82),App.VM.setAutoClose(O7.G60,!1),App.VM.open(O7.G60);var t=App.CM.gtM(O6.B99);t.isFighting&&(App.VM.setAutoClose(O7.I61,!1),App.VM.open(O7.I61)),t.isSpFighting&&t.notify(FightD.FC_Close_UI)},t.prototype.GHH35=function(){App.VM.setAutoClose(O7.G60,!0),App.VM.close(O7.G60),App.VM.setAutoClose(O7.I76,!1),App.CM.gtM(O6.B99).fightSceneType=I4.A8,App.SceneManager.runScene(M2.A5)},t.prototype.GU34=function(){this.gtM();return this.climbProxy.GU34()},t.prototype.GU20=function(t){if(200==t.head.state){var e=this.gtM();e.ZV87(t.body),1!=t.body.st&&e.isTower&&(e.isShow=!1,e.isTower=!1,TG67.FK87(),e.notify(P4.X34)),TG53.FHH98()}else App.CM.apF(O6.B87,L10.A4,t)},t.prototype.GL17=function(){this.timingHander&&(App.K16.rBH(this.timingHander),this.timingHander=null)},t.prototype.loadReq=function(){this.gtM().isSend=!0,this.climbProxy.loadReq()},t.prototype.loadRes=function(t){var e=this,i=this.gtM();if(200!=t.head.state)return i.isSend=!1,void App.CM.apF(O6.B87,L10.A4,t);if(t.body.ncd)return P18.sDP(O3.tr(605,t.body.ncd)),!1;App.CM.gtM(O6.B99).fightSceneType=I4.A10;var s=App.SceneManager.getCurrScene();App.VM.ZT95(),M2.A4==s?this.GJ15():App.SceneManager.runScene(M2.A4),i.initData(t.body),i.remainCD=t.body.cd,t.body.cd&&(i.lastLoadTime=P6.getTime(!0)),i.chatWordDatacms=P7.copyTab(t.body.cms),i.chatAllDatacms=P7.copyTab(t.body.cms),i.isTower=!0,i.notify(P4.X32),this.timingHander=App.K16.doTimer(1e3,0,function(){if(1!==i.climbState)e.GL17();else{var t=App.VM.gOV(O7.G60);t&&i.isTower&&t.setMyTeamPos()}},this)},t.prototype.GY21=function(t){if(200==t.head.state){var e=this.gtM();e.ZV87(t.body),e.notify(P4.V99),1!==t.body.st&&e.isTower&&(e.isTower=!1,this.GL17(),this.GS59(),this.GHH35(),e.notify(P4.X34)),TG53.FHH98()}else App.CM.apF(O6.B87,L10.A4,t)},t.prototype.GM87=function(){this.gtM();this.climbProxy.GM87()},t.prototype.GM88=function(t){if(200==t.head.state){var e=this.gtM();e.setRankData(t.body.as),e.ZV88(t.body.me),e.notify(P4.I60)}else App.CM.apF(O6.B87,L10.A4,t)},t.prototype.GO75=function(){this.gtM();this.climbProxy.GO75()},t.prototype.GO76=function(t){if(200==t.head.state){var e=this.gtM();e.setRankData(t.body.as),e.ZV88(t.body.me),e.notify(P4.I62)}else App.CM.apF(O6.B87,L10.A4,t)},t.prototype.GY36=function(t){this.gtM();this.climbProxy.GY36(t)},t.prototype.GY37=function(t){if(200==t.head.state)if(t.body.cd_)P7.fightCoolingCD(t.body.cd_);else{var i=this.gtM();t.body.f&&(i.isUpdate=!0),i.initData(t.body);var e=P7.isGetView(O7.F66);App.CM.apF(O6.B99,N1.A11,t.body.fr,{needResult:!1,type:P15.A40,isAuto:e},function(t,e){1==i.climbState&&i.isTower&&i.notify(P4.W2)},this)}else App.CM.apF(O6.B87,L10.A4,t)},t.prototype.GS58=function(t){var e=this.gtM();e.isTower&&(e.initData(t.body),1==e.climbState&&e.isTower&&e.notify(P4.Q47))},t.prototype.GY38=function(t){this.gtM();this.climbProxy.GY38(t)},t.prototype.GY39=function(t){if(200==t.head.state)if(t.body.cd_)P7.fightCoolingCD(t.body.cd_);else{var i=this.gtM();t.body.f&&(i.isUpdate=!0),i.initData(t.body);var e=P7.isGetView(O7.F66);App.CM.apF(O6.B99,N1.A11,t.body.fr,{needResult:!1,type:P15.A40,isAuto:e},function(t,e){1==i.climbState&&i.isTower&&i.notify(P4.W4)},this)}else App.CM.apF(O6.B87,L10.A4,t)},t.prototype.quitReq=function(){this.gtM();this.climbProxy.quitReq()},t.prototype.quitRes=function(t){if(200==t.head.state){var e=this.gtM();this.GS59(),this.GL17(),e.notify(P4.X34),this.GHH35()}else App.CM.apF(O6.B87,L10.A4,t)},t.prototype.GS59=function(){var t=this.gtM();t.isTower=!1,t.isSend=!1,t.firstRankId=null,t.myPlayerObjData=null,t.playerObjData=null,t.chatAllDatacms=null,t.chatWordDatacms=null,t.remainCD=null,t.myPosPath=null,t.ownGet=0},t.prototype.GS60=function(t){var e=this.gtM();e.updateUs(t.body),e.notify(P4.Q48)},t.prototype.GJ16=function(t){P5.sIs(t.body.ob)},t.prototype.GU35=function(t){P5.sIs(t.body.ob)},t.prototype.GM89=function(t){this.gtM();this.climbProxy.GM89(t)},t.prototype.GM90=function(t){if(200==t.head.state){var e=this.gtM();P5.sIs(t.body.ob),e.initData(t.body),e.notify(P4.I64)}else App.CM.apF(O6.B87,L10.A4,t)},t.prototype.freshReq=function(t,e){this.gtM(),App.CM.gtM(O6.B99);this.climbProxy.freshReq(t,e)},t.prototype.freshRes=function(t){if(200==t.head.state){var e=this.gtM();e.isTower&&(e.initData(t.body),e.notify(P4.W77))}},t.prototype.moveReq=function(t,e){this.gtM().isTower&&this.climbProxy.moveReq(t,e)},t.prototype.moveRes=function(t){t.head.state},t.prototype.GU36=function(){this.gtM();this.climbProxy.GU36()},t.prototype.GU37=function(t){200==t.head.state||App.CM.apF(O6.B87,L10.A4,t)},t.prototype.GU38=function(t){var e=this.gtM();e.myPosPath||(e.myPosPath={}),e.myPosPath.x=t.x,e.myPosPath.y=t.y},t.prototype.movePush=function(t){var e=this.gtM();e.updateMove(t.body),e.notify(P4.W78)},t}(TE11);__reflect(TD87.prototype,"TD87");var TG51=function(i){function t(t){var e=i.call(this,t)||this;return e.npcs=[],e.isTower=!1,e.ownGet=0,e.rankObjData=[],e.isShow=!1,e.chatWordDatacms=[],e.chatAllDatacms=[],e.myPosPath={},e.isSend=!1,e.isUpdate=!1,e.w=1,e}return __extends(t,i),t.prototype.initData=function(t){this.tierNum=t.f||this.tierNum,this.npcs=t.npcs||this.npcs,this.ownGet=t.p||this.ownGet,this.firstRankId=t.ta||this.firstRankId,t.alGet&&this.geteNowAlGet(t.alGet),t.us&&this.ZN82(P7.copyTab(t.us)),t.rn&&this.delNps(t.rn)},t.prototype.updateUs=function(t){if(t.u){if(t.id==this.myPlayerObjData.aid)return void(this.myPlayerObjData=t.u);if(this.playerObjData){for(var e in this.playerObjData){if(this.playerObjData[e].aid==t.id)return void(this.playerObjData[e]=t.u)}this.playerObjData[t.id]=t.u}}else for(var e in this.playerObjData){if(this.playerObjData[e].aid==t.id){delete this.playerObjData[e];break}}},t.prototype.geteNowAlGet=function(t){0==t.length?this.alGet=0:(t.sort(function(t,e){return e-t}),this.alGet=t[0])},t.prototype.ZN82=function(t){var e=App.CM.gtM(O6.B82);for(var i in t){if(parseInt(i)==e.avatarInfo.id){this.myPlayerObjData=t[i],this.myPlayerObjData&&(this.myPlayerObjData.ex=this.myPlayerObjData.ey=null),delete t[i];break}}this.playerObjData=t},t.prototype.ZV87=function(t){this.climbState=null!=t.st?t.st:this.climbState,-1<this.climbState?this.isOpen=null!=t.to?!!t.to:this.isOpen:this.isOpen=!1,0!==t.w&&1!==t.w||(this.w=t.w)},t.prototype.setRankData=function(t){var i=this;this.rankObjData=[],t&&t.forEach(function(t,e){i.rankObjData[e]=new RankData(t)})},t.prototype.ZV88=function(t){t&&(this.myRankObjData?this.myRankObjData.initData(t):this.myRankObjData=new RankData(t))},t.prototype.delNps=function(t){if(this.npcs)for(var e=0;e<this.npcs.length;e++)if(this.npcs[e].id==t)return void this.npcs.splice(e,1)},t.prototype.ZN83=function(t){this.chatWordDatacms.push(t);var e=this.chatWordDatacms.length,i=N18.FC83(P9.A13).recordcount;i<e&&this.chatWordDatacms.splice(0,e-i)},t.prototype.ZR15=function(t){this.chatAllDatacms.push(t);var e=this.chatAllDatacms.length,i=N18.FC83(P9.A14).recordcount;i<e&&this.chatAllDatacms.splice(0,e-i)},t.prototype.FJ24=function(){var t=P6.getTime(!0)-this.lastLoadTime,e=this.remainCD-t;return 0<e?e:0},t.prototype.updateMove=function(t){for(var e in this.playerObjData){if(this.playerObjData[e].aid==t.id){this.playerObjData[e].ex=t.ex,this.playerObjData[e].ey=t.ey;break}}},t.prototype.notify=function(t){i.prototype.notifyView.call(this,this,t)},t}(TG79);__reflect(TG51.prototype,"TG51");var TG52=function(i){function t(t){var e=i.call(this,t)||this;return e.rSM(P4.V99,e.GY21,e),e.rSM(P4.Q47,e.GS58,e),e.rSM(P4.Q48,e.GS60,e),e.rSM(P4.F30,e.GJ16,e),e.rSM(P4.Q49,e.GU35,e),e.rSM(P4.W78,e.movePush,e),e.rSM(P4.W4,e.GY39,e),e}return __extends(t,i),t.prototype.GU34=function(){var s=this;return new Promise(function(e,t){var i={type:P4.S19,body:{}};s.rSMO(P4.S20,function(t){s.apF(N5.A14,t),e("加载爬塔系统信息完成")},s),s.sSM(i)})},t.prototype.loadReq=function(){var t={type:P4.X31,body:{}};this.rSMO(P4.X32,this.loadRes,this),this.sSM(t)},t.prototype.loadRes=function(t){this.apF(N5.A33,t)},t.prototype.GY21=function(t){this.apF(N5.A24,t)},t.prototype.GM87=function(){var t={type:P4.I59,body:{}};this.rSMO(P4.I60,this.GM88,this),this.sSM(t)},t.prototype.GM88=function(t){this.apF(N5.A3,t)},t.prototype.GO75=function(){var t={type:P4.I61,body:{}};this.rSMO(P4.I62,this.GO76,this),this.sSM(t)},t.prototype.GO76=function(t){this.apF(N5.A5,t)},t.prototype.GY36=function(t){var e={type:P4.W1,body:{npcId:t}};this.rSMO(P4.W2,this.GY37,this),this.sSM(e)},t.prototype.GY37=function(t){this.apF(N5.A26,t)},t.prototype.GS58=function(t){this.apF(N5.A8,t)},t.prototype.GY38=function(t){var e={type:P4.W3,body:{target:t}};this.sSM(e)},t.prototype.GY39=function(t){this.apF(N5.A28,t)},t.prototype.quitReq=function(){var t={type:P4.X33,body:{}};this.rSMO(P4.X34,this.quitRes,this),this.sSM(t)},t.prototype.quitRes=function(t){this.apF(N5.A35,t)},t.prototype.GS60=function(t){this.apF(N5.A9,t)},t.prototype.GJ16=function(t){this.apF(N5.A1,t)},t.prototype.GU35=function(t){this.apF(N5.A10,t)},t.prototype.GM89=function(t){var e={type:P4.I63,body:{target:t}};this.rSMO(P4.I64,this.GM90,this),this.sSM(e)},t.prototype.GM90=function(t){this.apF(N5.A7,t)},t.prototype.freshReq=function(t,e){var i={type:P4.W76,body:{sx:t,sy:e}};this.rSMO(P4.W77,this.freshRes,this),this.sSM(i)},t.prototype.freshRes=function(t){this.apF(N5.A30,t)},t.prototype.moveReq=function(t,e){var i={type:P4.X35,body:{ex:t,ey:e}};this.rSMO(P4.X36,this.moveRes,this),this.sSM(i)},t.prototype.moveRes=function(t){this.apF(N5.A37,t)},t.prototype.GU36=function(){var t={type:P4.S21,body:{}};this.rSMO(P4.S22,this.GU37,this),this.sSM(t)},t.prototype.GU37=function(t){this.apF(N5.A16,t)},t.prototype.movePush=function(t){this.apF(N5.A31,t)},t}(TG80);__reflect(TG52.prototype,"TG52");var TG53=function(){function o(){}return o.FA57=function(){var t=parseInt(M16.gIV("lvLimit")),e=App.CM.gtM(O6.C6),i=O4.getLv();if(e.isTower)return P18.sDP(O3.tr(717)),!0;if(i<t){var s=K18.init.commonDesc1.value;return P18.sDP(M18.format(s,[t])),!1}return e.climbState?App.CM.gtM(O6.B99).isSpFighting?(P18.sDP(O3.tr(5301)),!1):(App.CM.apF(O6.C6,N5.A32),!0):(P18.sDP(O3.tr(3205)),!1)},o.FJ54=function(){var t=App.CM.gtM(O6.C6),e=App.CM.gtM(O6.B16),i=App.CM.gtM(O6.B28);return!!(t.isTower||e.isTower||i.isTower)&&(P18.sDP(O3.tr(606)),!0)},o.FHH98=function(){var t=App.CM.gtM(O6.C6),e=parseInt(M16.gIV("lvLimit")),i=O4.getLv();if(!(t.isTower||i<e||t.isShow))if(1!=t.climbState||t.isTower){App.CM.gtM(O6.B99).fightSceneType!=I4.A8&&App.VM.close(O7.A82)}else{var s={handler:function(){return o.FA57()},str:O3.tr(613),ctrlConst:O6.C6};App.VM.open(O7.A82,s)}},o.FJ24=function(){return App.CM.gtM(O6.C6).FJ24()},o}();__reflect(TG53.prototype,"TG53");var ClimbChallenge=function(e){function t(){var t=e.call(this)||this;return t.skinName=ClimbChallengeSkin,t.btnChallenge.addEventListener(egret.TouchEvent.TOUCH_TAP,t.onChallenge,t),t.btnCancel.addEventListener(egret.TouchEvent.TOUCH_TAP,t.ZV69,t),t.visible=!1,t}return __extends(t,e),t.prototype.childrenCreated=function(){e.prototype.createChildren.call(this)},t.prototype.setHander=function(t){this.visible=!0,this.hander=t},t.prototype.onChallenge=function(){this.hander&&(this.hander(),this.ZV69())},Object.defineProperty(t.prototype,"setBoo",{get:function(){return this._valueBoo},set:function(t){this.visible=this._valueBoo=t,this.visible||(this.hander=null)},enumerable:!0,configurable:!0}),t.prototype.ZV69=function(){this.visible=!1},t}(eui.Component);__reflect(ClimbChallenge.prototype,"ClimbChallenge");var ClimbRanKingItem=function(e){function t(){var t=e.call(this)||this;return t.addEventListener(egret.Event.REMOVED_FROM_STAGE,t.close,t),t}return __extends(t,e),t.prototype.close=function(){this.myCollection.removeAll()},t.prototype.childrenCreated=function(){e.prototype.createChildren.call(this),this.skinName=ClimbRankingItemSkin,this.initUI()},t.prototype.initUI=function(){this.itemData.dataProvider=this.myCollection=new eui.ArrayCollection,this.itemData.itemRenderer=ItemIcon,this.lbF.textFlow=M18.HTP.parse(O3.tr(4392))},t.prototype.ZJ81=function(t){var e=[];for(var i in t){var s={itemData:{data:N12.gID(t[i].k),ct:t[i].v},isBottom:!1};e.push(s)}this.myCollection.replaceAll(e)},t.prototype.getPlayData=function(t){this.lbName.text=O3.tr(608,t.sName,t.serverName),this.lbIntegral.text=t.climbIntegral+""},t.prototype.dataChanged=function(){var t=App.CM.gtM(O6.C6);if(this.currentState="area",this.data.s==this.data.e){this.currentState="base",this.lbRanking.text=O3.tr(604,this.data.e),this.lbName.text=O3.tr(610),this.lbIntegral.textColor=16707294,this.lbIntegral.text="0";var e=parseInt(this.data.e)-1;t.rankObjData&&t.rankObjData[e]&&(this.lbIntegral.textColor=7716890,this.getPlayData(t.rankObjData[e]))}else this.lbRanking.text=O3.tr(607,this.data.s,this.data.e);this.ZJ81(this.data.rewards)},t}(eui.ItemRenderer);__reflect(ClimbRanKingItem.prototype,"ClimbRanKingItem");var ClimbMyRanKingView=function(s){function t(t,e){var i=s.call(this,t,e)||this;return i.skinName=ClimbMyRanKingSkin,i}return __extends(t,s),t.prototype.initUI=function(){s.prototype.initUI.call(this);var t={render:ClimbRanKingItem,gap:10,width:this.listGroup.width,height:this.listGroup.height,arrowScale:1};this.listView=new CommonListBase(t),this.listGroup.addChild(this.listView),this.listView.verticalCenter=0,this.listView.horizontalCenter=0,this.dlg.title=O3.tr(4391)},t.prototype.open=function(){this.listView.open(),this.dlg.ZM69(this.oCC,this),this.dlg.ZQ14(this.oCC,this);var t=O3.tr(611);this.lbRanking.text=t;var e=O3.tr(612);this.lbIntegral.text=e},t.prototype.oCC=function(){App.CM.apF(O6.C6,N5.A19)},t.prototype.updateUI=function(t){this.listView.rfL(M16.myRanData);var e=O3.tr(601,t.myRankObjData.nRank);this.lbRanking.textFlow=M18.HTP.parser(e);var i=O3.tr(602,t.myRankObjData.climbIntegral);this.lbIntegral.textFlow=M18.HTP.parser(i)},t.prototype.close=function(){s.prototype.close.call(this),this.listView.close()},t.prototype.uBM=function(t,e){if(s.prototype.uBM.call(this,t,e),t instanceof TG51)switch(e){case P4.I62:this.updateUI(t)}},t}(BaseEuiView);__reflect(ClimbMyRanKingView.prototype,"ClimbMyRanKingView");var ClimbSumRanKingView=function(s){function t(t,e){var i=s.call(this,t,e)||this;return i.numPage=4,i.nowPage=1,i.skinName=ClimbSumRanKingSkin,i}return __extends(t,s),t.prototype.initUI=function(){s.prototype.initUI.call(this),this.rankingData.dataProvider=this.myCollection=new eui.ArrayCollection,this.rankingData.itemRenderer=ClimbRanKingItem,this.ZK85(),this.dlg.title=O3.tr(5358)},t.prototype.ZK85=function(){0==App.CM.gtM(O6.C6).w?this.lbStr1.textFlow=M18.HTP.parse(O3.tr(5357)):this.lbStr1.textFlow=M18.HTP.parse(O3.tr(7927))},t.prototype.open=function(){this.dlg.ZM69(this.oCC,this),this.dlg.ZQ14(this.oCC,this),this.dlg.ZQ16(this.onClickHelp,this),this.btnLeft.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickAlter,this),this.btnRight.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickAlter,this),this.apF(N5.A2)},t.prototype.onClickHelp=function(){var t=M16.gIV("rankHelp"),e={title:O3.tr(600),content:t};App.CM.apF(O6.C18,O10.A24,e)},t.prototype.oCC=function(){App.CM.apF(O6.C6,N5.A12)},t.prototype.close=function(){this.btnLeft.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickAlter,this),this.btnRight.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickAlter,this),this.objGameDes(),this.myCollection.removeAll()},t.prototype.objGameDes=function(){this.objGroup.removeChildren(),this.objGame&&(this.objGame.destory(),this.objGame=null)},t.prototype.updateUI=function(t){var e={x:0,y:0,dir:Dir.br,objType:P13.A6};this.objGame||(this.objGame=new FightGameObject,this.objGame.setBaseData(e)),t.rankObjData&&t.rankObjData[0]?(t.rankObjData[0].u.bt=BehaviourType.Stand_d,this.objGame.setData(t.rankObjData[0].u,this.objGroup)):this.objGameDes();var i=M16.FHH1(t.w);this.myCollection.replaceAll(i),this.allPage=Math.ceil(this.myCollection.source.length/this.numPage);var s=O3.tr(601,t.myRankObjData.nRank);this.lbRanking.textFlow=M18.HTP.parser(s);var o=O3.tr(602,t.myRankObjData.climbIntegral);this.lbIntegral.textFlow=M18.HTP.parser(o),this.choosePage(0)},t.prototype.choosePage=function(t){var e=this.src.viewport;e.scrollV+=e.height*t,e.scrollV?this.nowPage=Math.ceil(e.scrollV/e.height)+1:this.nowPage=1,this.lbPages.text=this.nowPage+"/"+this.allPage,this.btnState()},t.prototype.btnState=function(){P16.sGF(this.btnLeft,!this.src.viewport.scrollV),this.btnLeft.enabled=!!this.src.viewport.scrollV,P16.sGF(this.btnRight,this.nowPage==this.allPage),this.btnRight.enabled=this.nowPage!=this.allPage},t.prototype.onClickAlter=function(t){switch(t.target.name){case"-":this.btnLeft.filters||this.choosePage(-1);break;case"+":this.btnRight.filters||this.choosePage(1)}},t.prototype.uBM=function(t,e){if(s.prototype.uBM.call(this,t,e),t instanceof TG51)switch(e){case P4.I60:this.updateUI(t);break;case P4.V99:this.ZK85(),this.ZK86()}},t.prototype.ZK86=function(){if(this.myCollection&&!(this.myCollection.length<0)){var t=App.CM.gtM(O6.C6),e=M16.FHH1(t.w);this.myCollection.replaceAll(e)}},t}(BaseEuiView);__reflect(ClimbSumRanKingView.prototype,"ClimbSumRanKingView");var climb,ClimbTaskButton=function(t){function e(){return t.call(this)||this}return __extends(e,t),e.prototype.setData=function(t){},e.prototype.childrenCreated=function(){t.prototype.childrenCreated.call(this),this.lbColor.textFlow=M18.HTP.parse(O3.tr(4389)),this.lbStr1.textFlow=M18.HTP.parse(O3.tr(4390))},e}(eui.Button);__reflect(ClimbTaskButton.prototype,"ClimbTaskButton"),function(t){var e=function(){};(climb||(climb={})).ClimbNpcVo=e,__reflect(e.prototype,"climb.ClimbNpcVo")}();var TE62=function(){function t(){}return t.FK35=function(t){this.init=t.comeback_init,this.loginReward=t.comeback_loginreward,this.task=t.comeback_task,this.privilege=t.comeback_privilege,this.expRetrieve=t.comeback_expretrieve,this.signData=this.FJ55(),this.comeBackBind=this.ZF11(),this.taskReward=this.ZI27(),this.initiateBind=this.ZF12(),this.rechargeData=this.FE65(),this.finalNum=this.ZN84()},t.gIV=function(t){var e="";return this.init?e=this.init[t].value:e},t.FE59=function(t){var e;return this.init?e=parseInt(this.init[t].value):e},t.FJ55=function(){var t={};if(!this.loginReward)return t;for(var e in this.loginReward){for(var i=P7.copyTab(this.loginReward[e]),s=[],o=M18.FL28(i.reward,";",":"),r=0;r<o.length;r++)s.push({k:o[r][0],v:parseInt(o[r][1])});i.rewards=s,t[e]=i}return t},t.ZF11=function(){var t=[];if(!this.init)return t;for(var e=M18.FL28(this.init.comeBackBind.value,";",":"),i=0;i<e.length;i++)t.push({k:e[i][0],v:parseInt(e[i][1])});return t},t.ZI27=function(){var t=[];if(!this.init)return t;for(var e=M18.FL28(this.init.taskReward.value,";",":"),i=0;i<e.length;i++)t.push({k:e[i][0],v:parseInt(e[i][1])});return t},t.ZF12=function(){var t=[];if(!this.init)return t;for(var e=M18.FL28(this.init.initiateBind.value,";",":"),i=0;i<e.length;i++)t.push({k:e[i][0],v:parseInt(e[i][1])});return t},t.FE65=function(){var t={};if(!this.init)return t;for(var e=this.init.recharge.value.split("|"),i=0;i<e.length;i++){for(var s=e[i].split(","),o=M18.FL28(s[2],";",":"),r=[],n=0;n<o.length;n++)r.push({k:o[n][0],v:parseInt(o[n][1])});t[s[0]]={rewards:r,id:parseInt(s[0]),money:parseFloat(s[1])}}return t},t.ZN84=function(){var t=0;if(!this.task)return t;M18.FL28(this.init.initiateBind.value,";",":");for(var e in this.task){this.task[e];t+=1}return t},t}();__reflect(TE62.prototype,"TE62");var J1=function(){function t(){}return t.A9=10001,t.A10=10002,t.A21=10004,t.A22=10005,t.A25=10006,t.A11=10007,t.A12=10008,t.A1=10009,t.A2=10010,t.A5=10011,t.A6=10012,t.A15=10013,t.A16=10014,t.A3=10015,t.A4=10016,t.A13=10017,t.A14=10018,t.A7=10019,t.A8=10020,t.A24=11001,t.A23=11002,t.A18=11003,t.A17=11004,t.A20=11005,t.A19=11006,t}();__reflect(J1.prototype,"J1");var TB6=function(){function t(){}return t.NO=0,t.CAN=1,t.HAVE=2,t}();__reflect(TB6.prototype,"TB6");var TB7=function(){function t(){}return t.NO=0,t.CAN=1,t.HAVE=2,t}();__reflect(TB7.prototype,"TB7");var TB31=function(){function t(){}return t.CANFREE=0,t.CANGOLD=1,t.ENDBACK=2,t}();__reflect(TB31.prototype,"TB31");var TA25=function(){function t(){}return t.NO=0,t.CAN=1,t.HAVE=2,t}();__reflect(TA25.prototype,"TA25");var TC23=function(i){function t(){var t=i.call(this)||this;App.VM.register(O7.I27,"ComeBackView",t,K17.UI_Main),t.rgF(J1.A24,t.GM91,t),t.rgF(J1.A23,t.GL18,t),App.VM.register(O7.C79,"ComeBackWelfareView",t,K17.UI_Main_TOP),t.rgF(J1.A18,t.GC56,t),t.rgF(J1.A17,t.GB68,t),App.VM.register(O7.D55,"ComeBackRebateView",t,K17.UI_Main_TOP),t.rgF(J1.A20,t.GD48,t),t.rgF(J1.A19,t.GC57,t);var e=new TF36(t);return e.aLV(O7.I27),e.aLV(O7.C3),e.aLV(O7.D55),e.aLV(O7.C79),e.aLV(O7.I39),e.aLV(O7.I64),e.aLV(O7.F64),t.proxy=new TF37(t),t.rgF(J1.A9,t.GJ17,t),t.rgF(J1.A10,t.GJ18,t),t.rgF(J1.A21,t.loadReq,t),t.rgF(J1.A22,t.loadRes,t),t.rgF(J1.A25,t.push,t),t.rgF(J1.A11,t.GM93,t),t.rgF(J1.A12,t.GM94,t),t.rgF(J1.A1,t.GE44,t),t.rgF(J1.A2,t.GE45,t),t.rgF(J1.A5,t.GHH36,t),t.rgF(J1.A6,t.GHH37,t),t.rgF(J1.A15,t.expReq,t),t.rgF(J1.A16,t.expRes,t),t.rgF(J1.A3,t.GF64,t),t.rgF(J1.A4,t.GF65,t),t.rgF(J1.A13,t.GJ19,t),t.rgF(J1.A14,t.GJ20,t),t.rgF(J1.A7,t.GHH38,t),t.rgF(J1.A8,t.GHH39,t),t}return __extends(t,i),t.prototype.GM91=function(){App.VM.open(O7.I27)},t.prototype.GL18=function(){App.VM.close(O7.I27)},t.prototype.GC56=function(){App.VM.open(O7.C79)},t.prototype.GB68=function(){App.VM.close(O7.C79)},t.prototype.GD48=function(){App.VM.open(O7.D55)},t.prototype.GC57=function(){App.VM.close(O7.D55)},t.prototype.GJ17=function(t){this.proxy.GJ17(t)},t.prototype.GJ18=function(t){if(200==t.head.state){var e=this.gtM();e.updateData(t.body),e.notify(P4.C45)}else App.CM.apF(O6.B87,L10.A4,t)},t.prototype.push=function(t){if(200==t.head.state){var e=this.gtM();e.updateData(t.body),0==t.body.cd?(this.GL18(),this.GC57()):e.notify(P4.X97)}else App.CM.apF(O6.B87,L10.A4,t)},t.prototype.loadReq=function(){this.proxy.loadReq()},t.prototype.loadRes=function(t){var e=this;if(200==t.head.state){var i=this.gtM();i.initData(t.body),i.notify(P4.V13),t.body.cd&&(this.timerHandler=App.K16.doTimer(1e3,0,function(){TF38.FJ24()<=0&&(e.GM92(),e.GC57(),e.GL18(),e.GB68())},this))}else App.CM.apF(O6.B87,L10.A4,t)},t.prototype.GM92=function(){var t=this.gtM();t.overCd=0,this.timerHandler&&(App.K16.rBH(this.timerHandler),this.timerHandler=null),t.notify()},t.prototype.GM93=function(t){this.proxy.GM93(t)},t.prototype.GM94=function(t){var e=this.gtM();200==t.head.state?(e.updateData(t.body),e.notify(P4.E37)):App.CM.apF(O6.B87,L10.A4,t)},t.prototype.GE44=function(){this.proxy.GE44()},t.prototype.GE45=function(t){if(200==t.head.state){var e=this.gtM();e.updateData(t.body),e.notify(P4.A66)}else App.CM.apF(O6.B87,L10.A4,t)},t.prototype.GHH36=function(t){this.proxy.GHH36(t)},t.prototype.GHH37=function(t){if(200==t.head.state){var e=this.gtM();e.updateData(t.body),this.GB68(),e.notify(P4.B61)}else App.CM.apF(O6.B87,L10.A4,t)},t.prototype.expReq=function(t){this.proxy.expReq(t)},t.prototype.expRes=function(t){if(200==t.head.state){var e=this.gtM();e.updateData(t.body),e.notify(P4.HH27)}else App.CM.apF(O6.B87,L10.A4,t)},t.prototype.GF64=function(t){this.proxy.GF64(t)},t.prototype.GF65=function(t){if(200==t.head.state){var e=this.gtM();e.updateData(t.body),e.notify(P4.A96)}else App.CM.apF(O6.B87,L10.A4,t)},t.prototype.GJ19=function(t){this.proxy.GJ19(t)},t.prototype.GJ20=function(t){if(200==t.head.state){var e=this.gtM();e.updateData(t.body),e.notify(P4.E39)}else App.CM.apF(O6.B87,L10.A4,t)},t.prototype.GHH38=function(){this.proxy.GHH38()},t.prototype.GHH39=function(t){var e=this.gtM();200==t.head.state?(e.updateData(t.body),e.notify(P4.B63)):App.CM.apF(O6.B87,L10.A4,t)},t}(TE11);__reflect(TC23.prototype,"TC23");var TF36=function(i){function t(t){var e=i.call(this,t)||this;return e.finalNum=0,e}return __extends(t,i),t.prototype.initDbData=function(){for(var t in this.comeBackSignData={},TE62.signData)this.comeBackSignData[t]=new ComeBackSignVo(TE62.signData[t]);for(var t in this.comeBackTaskData={},TE62.task)this.comeBackTaskData[t]=new ComeBackTaskVo(TE62.task[t]);for(var t in this.comeBackExpData={},TE62.expRetrieve)this.comeBackExpData[t]=new ComeBackExpVo(TE62.expRetrieve[t]);for(var t in this.comeBackRechargeData={},TE62.rechargeData)this.comeBackRechargeData[t]=new ComeBackRechargeVo(TE62.rechargeData[t]);for(var t in this.comeBackPrivilegeData=[],TE62.privilege){var e=new ComeBackPrivilegeVo(TE62.privilege[t]);this.comeBackPrivilegeData.push(e)}},t.prototype.initData=function(t){this.code=t.code,this.initDbData(),null!=t.cd&&(this.overCd=t.cd,this.lastLoadTime=P6.getTime(!0)),this.updateSame(t)},t.prototype.updateData=function(t){if(this.updateSame(t),t.ob&&P5.sIs(t.ob),t.rm)for(var e in this.comeBackRecordData)if(this.comeBackRecordData[e].id==t.rm){this.comeBackRecordData.splice(parseInt(e),1);break}},t.prototype.updateSame=function(t){if(this.offNum=null!=t.od?t.od:this.offNum,this.isBind=null!=t.bind?!!t.bind:this.isBind,this.weekNum=null!=t.gn?t.gn:this.weekNum,this.isHaveFinalReward=null!=t.tfg?!!t.tfg:this.isHaveFinalReward,t.lrg)for(var e in this.comeBackSignData)-1!=t.lrg.indexOf(parseInt(e))&&this.comeBackSignData[e].updateServer();if(t.dtg)for(var e in this.comeBackTaskData)-1!=t.dtg.indexOf(parseInt(e))&&this.comeBackTaskData[e].updateServer();if(t.dtp){for(var e in t.dtp)this.comeBackTaskData[e].updateProgressServer(t.dtp[e]);for(var e in this.finalNum=0,this.comeBackTaskData)t.dtp[e]?this.comeBackTaskData[e].updateProgressServer(t.dtp[e]):this.comeBackTaskData[e]=new ComeBackTaskVo(TE62.task[e]),this.comeBackTaskData[e].state!==TB7.NO&&(this.finalNum+=1)}if(null!=t.ld)for(var e in this.loginNum=t.ld,this.comeBackSignData)this.comeBackSignData[e].updateRedNum(this.loginNum);if(t.erg)for(var e in t.erg){var i=t.erg[e].id;this.comeBackExpData[i].updateServer(t.erg[e])}if(t.rg)for(var e in this.comeBackRechargeData)-1!=t.rg.indexOf(parseInt(e))&&this.comeBackRechargeData[e].updateServer();if(null!=t.money)for(var e in this.rechargeNum=t.money,this.comeBackRechargeData)this.comeBackRechargeData[e].updateRedNum(this.rechargeNum);if(t.brl){this.comeBackRecordData=[];for(var s=0;s<t.brl.length;s++){var o=new ComeBackRecordVo(t.brl[s]);this.comeBackRecordData.push(o)}}},t.prototype.ZV89=function(){var t=0;for(var e in this.comeBackSignData)if(this.comeBackSignData[e].FL35()){t=1;break}return t},t.prototype.ZV90=function(){var t=0;for(var e in this.comeBackTaskData)if(this.comeBackTaskData[e].FL35()){t=1;break}return this.isHaveFinalReward||this.finalNum!=TE62.finalNum||(t=1),t},t.prototype.getExpRedNum=function(){var t=0;for(var e in this.comeBackExpData)if(this.comeBackExpData[e].FL35()){t=1;break}return t},t.prototype.ZI28=function(){var t=0;for(var e in this.comeBackRechargeData)if(this.comeBackRechargeData[e].FL35()){t=1;break}return t},t.prototype.ZV91=function(){return this.overCd?this.ZV89()?1:this.ZV90()?1:this.getExpRedNum()?1:this.ZI28()?1:0:0},t.prototype.ZN85=function(){return this.comeBackRecordData&&0<this.comeBackRecordData.length?1:0},t.prototype.FJ24=function(){var t=P6.getTime(!0)-this.lastLoadTime,e=this.overCd-t;return 0<e?e:0},t.prototype.notify=function(t){i.prototype.notifyView.call(this,this,t)},t}(TG79);__reflect(TF36.prototype,"TF36");var TF37=function(i){function t(t){var e=i.call(this,t)||this;return e.rSM(P4.X97,e.push,e),e}return __extends(t,i),t.prototype.GJ17=function(t){var e={type:P4.C44,body:{rid:t}};this.rSMO(P4.C45,this.GJ18,this),this.sSM(e)},t.prototype.GJ18=function(t){this.apF(J1.A10,t)},t.prototype.push=function(t){this.apF(J1.A25,t)},t.prototype.loadReq=function(){var s=this;return new Promise(function(e,t){var i={type:P4.V12,body:{}};s.rSMO(P4.V13,function(t){s.apF(J1.A22,t),e("加载英雄回归信息完成")},s),s.sSM(i)})},t.prototype.GM93=function(t){var e={type:P4.E36,body:{tid:t}};this.rSMO(P4.E37,this.GM94,this),this.sSM(e)},t.prototype.GM94=function(t){this.apF(J1.A12,t)},t.prototype.GE44=function(){var t={type:P4.A65,body:{}};this.rSMO(P4.A66,this.GE45,this),this.sSM(t)},t.prototype.GE45=function(t){this.apF(J1.A2,t)},t.prototype.GHH36=function(t){var e={type:P4.B60,body:{code:t}};this.rSMO(P4.B61,this.GHH37,this),this.sSM(e)},t.prototype.GHH37=function(t){this.apF(J1.A6,t)},t.prototype.expReq=function(t){var e={type:P4.HH26,body:{rid:t}};this.rSMO(P4.HH27,this.expRes,this),this.sSM(e)},t.prototype.expRes=function(t){this.apF(J1.A16,t)},t.prototype.GF64=function(t){var e={type:P4.A95,body:{rid:t}};this.rSMO(P4.A96,this.GF65,this),this.sSM(e)},t.prototype.GF65=function(t){this.apF(J1.A4,t)},t.prototype.GJ19=function(t){var e={type:P4.E38,body:{bid:t}};this.rSMO(P4.E39,this.GJ20,this),this.sSM(e)},t.prototype.GJ20=function(t){this.apF(J1.A14,t)},t.prototype.GHH38=function(){var t={type:P4.B62,body:{}};this.rSMO(P4.B63,this.GHH39,this),this.sSM(t)},t.prototype.GHH39=function(t){this.apF(J1.A8,t)},t}(TG80);__reflect(TF37.prototype,"TF37");var TF38=function(){function t(){}return t.FJ55=function(){var t=[],e=App.CM.gtM(O6.B51);for(var i in e.comeBackSignData){var s=e.comeBackSignData[i];t.push(s)}return t.sort(this.sortSignList),t},t.sortSignList=function(t,e){return t.state==TB6.CAN?-1:e.state==TB6.CAN?1:t.state==TB6.NO?-1:e.state==TB6.NO?1:t.id-e.id},t.FJ56=function(){var t=[],e=App.CM.gtM(O6.B51);for(var i in e.comeBackTaskData){var s=e.comeBackTaskData[i];t.push(s)}return t.sort(this.sortTaskList),t},t.sortTaskList=function(t,e){return t.state==TB6.CAN?-1:e.state==TB6.CAN?1:t.state==TB6.NO?-1:e.state==TB6.NO?1:t.id-e.id},t.FK61=function(){var t=[],e=App.CM.gtM(O6.B51);for(var i in e.comeBackExpData){var s=e.comeBackExpData[i];s.expNum&&t.push(s)}return t.sort(this.sortExpList),t},t.sortExpList=function(t,e){return t.state==TB31.CANFREE?-1:e.state==TB31.CANFREE?1:t.state==TB31.CANGOLD?-1:e.state==TB31.CANGOLD?1:t.id-e.id},t.FE65=function(){var t=[],e=App.CM.gtM(O6.B51);for(var i in e.comeBackRechargeData){var s=e.comeBackRechargeData[i];t.push(s)}return t.sort(this.ZK87),t},t.ZK87=function(t,e){return t.state==TA25.CAN?-1:e.state==TA25.CAN?1:t.state==TA25.NO?-1:e.state==TA25.NO?1:t.id-e.id},t.FJ24=function(){return App.CM.gtM(O6.B51).FJ24()},t}();__reflect(TF38.prototype,"TF38");var ComeBackExpVo=function(){function t(t){this.initDataDB(t)}return t.prototype.initDataDB=function(t){for(var e in t)this[e]=t[e];this.isOwn=!1,this.exps=this.exprate.split(",")},t.prototype.updateServer=function(t){switch(this.isOwn=!0,this.state=t.st,this.state){case TB31.CANFREE:this.expNum=Math.floor(parseFloat(this.exps[0])*t.exp);break;case TB31.CANGOLD:this.expNum=Math.floor(parseFloat(this.exps[1])*t.exp);break;case TB31.ENDBACK:this.expNum=Math.floor(parseFloat(this.exps[0])*t.exp)+Math.floor(parseFloat(this.exps[1])*t.exp)}},t.prototype.FL35=function(){return 0<this.expNum&&this.state==TB31.CANFREE?1:0},t}();__reflect(ComeBackExpVo.prototype,"ComeBackExpVo");var ComeBackPrivilegeVo=function(){function t(t){this.initDataDB(t)}return t.prototype.initDataDB=function(t){for(var e in t)this[e]=t[e]},t}();__reflect(ComeBackPrivilegeVo.prototype,"ComeBackPrivilegeVo");var ComeBackRechargeVo=function(){function t(t){this.initDataDB(t)}return t.prototype.initDataDB=function(t){for(var e in t)this[e]=t[e];this.state=TA25.NO},t.prototype.updateRedNum=function(t){this.state!=TA25.HAVE&&(t>=this.money?this.state=TB6.CAN:this.differMoney=this.money-t)},t.prototype.updateServer=function(){this.state=TA25.HAVE},t.prototype.FL35=function(){return this.state==TA25.CAN?1:0},t}();__reflect(ComeBackRechargeVo.prototype,"ComeBackRechargeVo");var ComeBackRecordVo=function(){function t(t){this.updateData(t)}return t.prototype.updateData=function(t){this.id=null!=t.id?t.id:this.id,this.name=null!=t.n?t.n:this.name,this.rewards=null!=t.a?t.a:this.rewards},t}();__reflect(ComeBackRecordVo.prototype,"ComeBackRecordVo");var ComeBackSignVo=function(){function t(t){this.initDataDB(t)}return t.prototype.initDataDB=function(t){for(var e in t)this[e]=t[e];this.state=TB6.NO,this.isOwn=!1},t.prototype.updateRedNum=function(t){!this.isOwn&&this.day<=t&&(this.state=TB6.CAN)},t.prototype.updateServer=function(){this.isOwn=!0,this.state=TB6.HAVE},t.prototype.FL35=function(){return this.state==TB6.CAN?1:0},t}();__reflect(ComeBackSignVo.prototype,"ComeBackSignVo");var ComeBackTaskVo=function(){function t(t){this.initDataDB(t)}return t.prototype.initDataDB=function(t){for(var e in t)this[e]=t[e];this.state=TB7.NO,this.isOwn=!1,this.progress=0},t.prototype.updateServer=function(){this.isOwn=!0,this.state=TB7.HAVE},t.prototype.updateProgressServer=function(t){this.progress=t,this.isOwn||this.progress!=this.parameter||(this.state=TB7.CAN)},t.prototype.FL35=function(){return this.state==TB7.CAN?1:0},t.prototype.getExpReward=function(){var t=parseFloat(this.expreward),e=O4.getLv(),i=K18.FHH93(e);return i=-1==i?K18.FHH93(1):i,Math.floor(i*t)},t}();__reflect(ComeBackTaskVo.prototype,"ComeBackTaskVo");var ComeBackBangDingView=function(o){function t(t,e){var i=o.call(this,t,e)||this;return i.skinName="ComeBackBangDingSkin",i}return __extends(t,o),t.prototype.initUI=function(){o.prototype.initUI.call(this),this.lbStr1.textFlow=M18.HTP.parser(O3.tr(6305)),this.lbStr2.textFlow=M18.HTP.parser(O3.tr(6307)),this.btnReceive.label=O3.tr(6308),this.itemData.itemRenderer=ItemIcon,this.dataSource=new eui.ArrayCollection,this.itemData.dataProvider=this.dataSource,this.ZJ81(TE62.initiateBind),P7.FD57(O3.tr(6336),this.btnShop.lbName),P7.FD57(O3.tr(6285),this.btnRebate.lbName)},t.prototype.open=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];o.prototype.open.call(this),this.btnShop.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickShop,this),this.btnRebate.addEventListener(egret.TouchEvent.TOUCH_TAP,this.ZV92,this),this.btnReceive.addEventListener(egret.TouchEvent.TOUCH_TAP,this.ZR54,this);var i=App.CM.gtM(O6.B51);this.ZC99(i),this.lbCode.textFlow=M18.HTP.parser(O3.tr(6304,i.code))},t.prototype.onClickShop=function(){var t=O4.getLv(),e=N15.FG47(P12.A10);if(t<e){var i=K18.init.commonDesc1.value;P18.sDP(M18.format(i,[e]))}else App.VM.open(O7.HH98,O7.I3,P12.A10)},t.prototype.ZR54=function(){var t=this.lbCode.text;"wxgame"===platform.name?platform.setClipboardData(t,function(){P18.sDP(O3.tr(6311))}):(O4.FE66(t),P18.sDP(O3.tr(6311)))},t.prototype.ZV92=function(){App.CM.apF(O6.B51,J1.A20)},t.prototype.ZJ81=function(t){var e=[];for(var i in t){var s={itemData:{data:N12.gID(t[i].k),ct:t[i].v},isBottom:!1};e.push(s)}this.dataSource.replaceAll(e)},t.prototype.uBM=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];o.prototype.uBM.call(this,t,e);var s=e[0];if(t instanceof TF36)switch(s){case P4.E39:case P4.B63:case P4.X97:this.ZC99(t)}},t.prototype.ZC99=function(t){var e=TE62.FE59("initiateNum");this.btnRebate.imgNew.visible=0<t.ZN85(),this.lbOver.textFlow=M18.HTP.parser(O3.tr(6306,e-t.weekNum,e))},t.prototype.close=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];o.prototype.close.call(this),this.btnShop.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickShop,this),this.btnRebate.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.ZV92,this),this.btnReceive.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.ZR54,this)},t}(BaseEuiView);__reflect(ComeBackBangDingView.prototype,"ComeBackBangDingView");var ComeBackExpItemView=function(e){function t(){var t=e.call(this)||this;return t.skinName="ComeBackExpItemSkin",t.addEventListener(egret.Event.ADDED_TO_STAGE,t.open,t),t.addEventListener(egret.Event.REMOVED_FROM_STAGE,t.close,t),t}return __extends(t,e),t.prototype.open=function(){this.btnSend.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickSend,this)},t.prototype.close=function(){this.btnSend.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickSend,this)},t.prototype.childrenCreated=function(){e.prototype.createChildren.call(this),this.initUI()},t.prototype.initUI=function(){var t=N12.gID(N12.itemId.exp);this.imgExp.setData(t);var e=N12.gID(N12.itemId.gold);this.imgYb.setData(e)},t.prototype.dataChanged=function(){e.prototype.dataChanged.call(this),this.lbName.textFlow=M18.HTP.parse(O3.tr(6302,this.data.name));var t=M18.FF65(this.data.expNum,1);switch(this.lbExp.textFlow=M18.HTP.parse(O3.tr(6302,t)),this.lbYb.textFlow=M18.HTP.parse(O3.tr(6302,0)),this.data.state){case TB31.CANFREE:this.btnSend.imgNew.visible=!0,this.btnSend.label=O3.tr(6299),this.btnSend.enabled=!0,P16.sGF(this.btnSend,!1);break;case TB31.CANGOLD:this.btnSend.imgNew.visible=!1,this.btnSend.label=O3.tr(6300),this.btnSend.enabled=!0,P16.sGF(this.btnSend,!1),this.lbYb.textFlow=M18.HTP.parse(O3.tr(6302,this.data.gold));break;case TB31.ENDBACK:this.btnSend.imgNew.visible=!1,this.btnSend.label=O3.tr(6301),this.btnSend.enabled=!1,P16.sGF(this.btnSend,!0)}},t.prototype.openAlert=function(){var t=this,e={handler:function(){App.CM.apF(O6.B51,J1.A15,t.data.id)},content:O3.tr(6376)};App.VM.open(O7.C54,e)},t.prototype.isShowAlert=function(){var t=App.CM.gtM(O6.B82).avatarInfo,e=K18.FHH93(t.l)*K18.FE59("expOver");t.l<K18.FE59("levelControl")||this.data.expNum<=e?App.CM.apF(O6.B51,J1.A15,this.data.id):this.openAlert()},t.prototype.onClickSend=function(){switch(this.data.state){case TB31.CANFREE:this.isShowAlert();break;case TB31.CANGOLD:N12.giC(N12.itemId.gold)>=this.data.gold?this.isShowAlert():P7.FA78()}},t}(eui.ItemRenderer);__reflect(ComeBackExpItemView.prototype,"ComeBackExpItemView");var ComeBackPrivilegeItemView=function(e){function t(){var t=e.call(this)||this;return t.skinName="ComeBackPrivilegeItemSkin",t.addEventListener(egret.Event.ADDED_TO_STAGE,t.open,t),t.addEventListener(egret.Event.REMOVED_FROM_STAGE,t.close,t),t}return __extends(t,e),t.prototype.open=function(){this.btnGo.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickGo,this)},t.prototype.close=function(){this.btnGo.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickGo,this)},t.prototype.childrenCreated=function(){e.prototype.createChildren.call(this),this.initUI()},t.prototype.initUI=function(){this.btnGo.label=O3.tr(6295)},t.prototype.dataChanged=function(){e.prototype.dataChanged.call(this),this.btnGo.visible=-1!=this.data.jumpid,this.lbName.textFlow=M18.HTP.parse(O3.tr(6297,this.data.name)),this.lbDesc.textFlow=M18.HTP.parse(this.data.desc),this.imgHead.source=this.data.icon},t.prototype.onClickGo=function(){TG84.FM16(this.data.jumpid)},t}(eui.ItemRenderer);__reflect(ComeBackPrivilegeItemView.prototype,"ComeBackPrivilegeItemView");var ComeBackRebateItemView=function(e){function t(){var t=e.call(this)||this;return t.skinName="ComeBackRebateItemSkin",t.addEventListener(egret.Event.ADDED_TO_STAGE,t.open,t),t.addEventListener(egret.Event.REMOVED_FROM_STAGE,t.close,t),t}return __extends(t,e),t.prototype.open=function(){this.btnGet.addEventListener(egret.TouchEvent.TOUCH_TAP,this.ZU29,this)},t.prototype.close=function(){this.btnGet.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.ZU29,this)},t.prototype.childrenCreated=function(){e.prototype.createChildren.call(this),this.initUI()},t.prototype.initUI=function(){this.btnGet.label=O3.tr(6281),this.btnGet.imgNew.visible=!0,this.itemIcon=new ItemIcon,this.iconGp.addChild(this.itemIcon)},t.prototype.dataChanged=function(){e.prototype.dataChanged.call(this),this.lbName.textFlow=M18.HTP.parser(O3.tr(6304,this.data.name));var t={itemData:{data:N12.gID(this.data.rewards.k),ct:this.data.rewards.v},isBottom:!1};this.itemIcon.data=t},t.prototype.ZU29=function(){App.CM.apF(O6.B51,J1.A13,this.data.id)},t}(eui.ItemRenderer);__reflect(ComeBackRebateItemView.prototype,"ComeBackRebateItemView");var ComeBackRebateView=function(o){function t(t,e){var i=o.call(this,t,e)||this;return i.skinName="ComeBackRebateSkin",i}return __extends(t,o),t.prototype.open=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.btnReceive.addEventListener(egret.TouchEvent.TOUCH_TAP,this.ZR54,this),this.dlg.ZM69(this.closeSelf,this);var i=App.CM.gtM(O6.B51);this.GX5(i)},t.prototype.initUI=function(){o.prototype.initUI.call(this),this.dlg.title=O3.tr(6313),this.btnReceive.label=O3.tr(6310);var t={render:ComeBackRebateItemView,gap:8,width:this.listGroup.width,height:this.listGroup.height};this.listView=new CommonListBase(t),this.listGroup.addChild(this.listView),this.listView.verticalCenter=0,this.listView.horizontalCenter=0},t.prototype.ZR54=function(){this.apF(J1.A7)},t.prototype.GX5=function(t){var e=P7.copyTab(t.comeBackRecordData);this.listView.rfL(e),0<e.length?this.btnReceive.visible=this.btnReceive.imgNew.visible=!0:this.btnReceive.visible=!1},t.prototype.close=function(){o.prototype.close.call(this),this.btnReceive.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.ZR54,this)},t.prototype.closeSelf=function(){this.apF(J1.A19)},t.prototype.uBM=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];o.prototype.uBM.call(this,t,e);var s=e[0];if(t instanceof TF36)switch(s){case P4.E39:case P4.B63:case P4.X97:this.GX5(t)}},t}(BaseEuiView);__reflect(ComeBackRebateView.prototype,"ComeBackRebateView");var ComeBackRechargeItemView=function(e){function t(){var t=e.call(this)||this;return t.skinName="ComeBackRechargeItemSkin",t.addEventListener(egret.Event.ADDED_TO_STAGE,t.open,t),t.addEventListener(egret.Event.REMOVED_FROM_STAGE,t.close,t),t}return __extends(t,e),t.prototype.open=function(){this.getBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickBtn,this)},t.prototype.close=function(){this.getBtn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickBtn,this),this.dataSource.removeAll()},t.prototype.childrenCreated=function(){e.prototype.createChildren.call(this),this.initUI()},t.prototype.initUI=function(){this.listContent.itemRenderer=ItemIcon,this.dataSource=new eui.ArrayCollection,this.listContent.dataProvider=this.dataSource,this.awardsSc.viewport=this.listContent,this.awardsSc.scrollPolicyH=eui.ScrollPolicy.AUTO,this.awardsSc.scrollPolicyV=eui.ScrollPolicy.OFF},t.prototype.dataChanged=function(){switch(e.prototype.dataChanged.call(this),this.blNum.text=this.data.money+"",this.data.state){case TA25.NO:this.getBtn.visible=this.getImg.visible=!1,this.recLb.visible=!0,this.recLb.textFlow=M18.HTP.parse(O3.tr(6323,this.data.differMoney));break;case TA25.CAN:this.getBtn.visible=this.getBtn.imgNew.visible=!0,this.getImg.visible=this.recLb.visible=!1,this.getBtn.label=O3.tr(6281);break;case TA25.HAVE:this.getBtn.visible=this.recLb.visible=!1,this.getImg.visible=!0}this.ZJ81(this.data.rewards)},t.prototype.ZJ81=function(t){var e=[];for(var i in t){var s={itemData:{data:N12.gID(t[i].k),ct:t[i].v},isBottom:!1};e.push(s)}this.dataSource.replaceAll(e)},t.prototype.onClickBtn=function(){this.data.state==TA25.CAN?App.CM.apF(O6.B51,J1.A3,this.data.id):App.CM.apF(O6.C29,P8.A7)},t}(eui.ItemRenderer);__reflect(ComeBackRechargeItemView.prototype,"ComeBackRechargeItemView");var ComeBackSignItemView=function(e){function t(){var t=e.call(this)||this;return t.skinName="ChapterBreakItemSkin",t.addEventListener(egret.Event.ADDED_TO_STAGE,t.open,t),t.addEventListener(egret.Event.REMOVED_FROM_STAGE,t.close,t),t}return __extends(t,e),t.prototype.open=function(){this.getBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.ZU29,this)},t.prototype.close=function(){this.getBtn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.ZU29,this),this.dataSource.removeAll()},t.prototype.childrenCreated=function(){e.prototype.createChildren.call(this),this.initUI()},t.prototype.initUI=function(){this.listContent.itemRenderer=ItemIcon,this.dataSource=new eui.ArrayCollection,this.listContent.dataProvider=this.dataSource,this.awardsSc.viewport=this.listContent,this.awardsSc.scrollPolicyH=eui.ScrollPolicy.OFF,this.awardsSc.scrollPolicyV=eui.ScrollPolicy.OFF,this.getImg.visible=!1},t.prototype.dataChanged=function(){switch(e.prototype.dataChanged.call(this),this.titleLb.textFlow=M18.HTP.parser(O3.tr(6280,this.data.day)),this.titleBgImg.width=this.titleLb.width+55,this.data.state){case TB6.NO:this.getBtn.bgStr="v1_btn_green_1_png",this.getImg.visible=!1,this.getBtn.visible=!0,this.getBtn.label=O3.tr(6282),this.getBtn.imgNew.visible=!1;break;case TB6.CAN:this.getBtn.bgStr="v1_btn_yellow_1_png",this.getBtn.imgNew.visible=!0,this.getBtn.visible=!0,this.getImg.visible=!1,this.getBtn.label=O3.tr(6281);break;case TB6.HAVE:this.getBtn.visible=!1,this.getImg.visible=!0}this.ZJ81(this.data.rewards)},t.prototype.ZJ81=function(t){var e=[];for(var i in t){var s={itemData:{data:N12.gID(t[i].k),ct:t[i].v},isBottom:!1};e.push(s)}this.dataSource.replaceAll(e)},t.prototype.ZU29=function(){switch(this.data.state){case TB6.CAN:App.CM.apF(O6.B51,J1.A9,this.data.id)}},t}(eui.ItemRenderer);__reflect(ComeBackSignItemView.prototype,"ComeBackSignItemView");var ComeBackTaskItemView=function(e){function t(){var t=e.call(this)||this;return t.skinName="ComeBackRebateItemSkin",t.addEventListener(egret.Event.ADDED_TO_STAGE,t.open,t),t.addEventListener(egret.Event.REMOVED_FROM_STAGE,t.close,t),t}return __extends(t,e),t.prototype.open=function(){this.btnGet.addEventListener(egret.TouchEvent.TOUCH_TAP,this.ZU29,this)},t.prototype.close=function(){this.btnGet.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.ZU29,this)},t.prototype.childrenCreated=function(){e.prototype.createChildren.call(this),this.initUI()},t.prototype.initUI=function(){this.btnGet.label=O3.tr(6281),this.btnGet.imgNew.visible=!0,this.itemIcon=new ItemIcon,this.iconGp.addChild(this.itemIcon)},t.prototype.dataChanged=function(){switch(e.prototype.dataChanged.call(this),this.lbName.textFlow=M18.HTP.parser(O3.tr(6292,this.data.name)),this.data.progress==this.data.parameter?this.lbNum.textFlow=M18.HTP.parser(O3.tr(6293,this.data.progress,this.data.parameter)):this.lbNum.textFlow=M18.HTP.parser(O3.tr(6294,this.data.progress,this.data.parameter)),this.data.state){case TB7.NO:this.getImg.visible=!1,-1==this.data.jumpid?this.btnGet.visible=!1:(this.btnGet.visible=!0,this.btnGet.imgNew.visible=!1,this.btnGet.bgStr="v1_btn_green_1_png",this.btnGet.label=O3.tr(6295));break;case TB7.CAN:this.btnGet.visible=!0,this.getImg.visible=!1,this.btnGet.imgNew.visible=!0,this.btnGet.label=O3.tr(6281),this.btnGet.bgStr="v1_btn_yellow_1_png";break;case TB7.HAVE:this.btnGet.visible=!1,this.getImg.visible=!0}var t={itemData:{data:N12.gID(N12.itemId.exp),ct:this.data.getExpReward()},isBottom:!1};this.itemIcon.data=t},t.prototype.ZU29=function(){switch(this.data.state){case TB7.NO:TG84.FM16(this.data.jumpid);break;case TB7.CAN:App.CM.apF(O6.B51,J1.A11,this.data.id)}},t}(eui.ItemRenderer);__reflect(ComeBackTaskItemView.prototype,"ComeBackTaskItemView");var ComeBackView=function(p){function t(t,e){var i=p.call(this,t,e)||this;return i.views=[],i.skinName="ComeBackSkin",i.sGN("release_comeback"),i}return __extends(t,p),t.prototype.initUI=function(){p.prototype.initUI.call(this),P7.FD57(O3.tr(6336),this.btnShop.lbName),P7.FD57(O3.tr(6285),this.btnWelfare.lbName),this.lbStr1.textFlow=M18.HTP.parser(O3.tr(6273));var t={render:ComeBackSignItemView,gap:5,width:560,height:this.signGroup.height};this.signView=new CommonListBase(t),this.signGroup.addChild(this.signView),this.dlg.title=O3.tr(6272),this.signView.verticalCenter=0,this.signView.horizontalCenter=0;var e={render:ComeBackTaskItemView,gap:5,width:560,height:this.taskListGroup.height};this.taskView=new CommonListBase(e),this.taskListGroup.addChild(this.taskView),this.taskView.verticalCenter=0,this.taskView.horizontalCenter=0,this.itemData.itemRenderer=ItemIcon;var i=[];for(var s in TE62.taskReward){var o={itemData:{data:N12.gID(TE62.taskReward[s].k),ct:TE62.taskReward[s].v},isBottom:!1};i.push(o)}this.itemSource=new eui.ArrayCollection(i),this.itemData.dataProvider=this.itemSource,this.btnReceive.label=O3.tr(6281),this.lbStr2.textFlow=M18.HTP.parser(O3.tr(6290)),this.lbStr3.textFlow=M18.HTP.parser(O3.tr(6291));var r={render:ComeBackPrivilegeItemView,gap:10,width:546,height:this.privilegeGroup.height,isFlat:!0};this.privilegeView=new CommonListBase(r),this.privilegeGroup.addChild(this.privilegeView),this.privilegeView.verticalCenter=0,this.privilegeView.horizontalCenter=0;var n={render:ComeBackExpItemView,gap:5,width:560,height:this.expListGroup.height};this.expView=new CommonListBase(n),this.expListGroup.addChild(this.expView),this.expView.verticalCenter=0,this.expView.horizontalCenter=0,this.lbStr4.textFlow=M18.HTP.parser(O3.tr(6320)),this.lbStr5.textFlow=M18.HTP.parser(O3.tr(6321)),this.lbStr6.textFlow=M18.HTP.parser(O3.tr(6322));var a={render:ComeBackRechargeItemView,gap:5,width:560,height:this.rechargeGroup.height};this.rechargeView=new CommonListBase(a),this.rechargeGroup.addChild(this.rechargeView),this.rechargeView.verticalCenter=0,this.rechargeView.horizontalCenter=0;var h=[O3.tr(6275),O3.tr(6276),O3.tr(6277),O3.tr(6278),O3.tr(6279)];this.views=[0,1,2,3,4],this.btnList=new ButtonList(h,this.views,this.ZQ23.bind(this)),this.btnList.init(BtnTab,F4.A1),this.btnList.setListGap(-10),this.btnList.$setY(-6),this.btnList.setBtnScale(.9),this.btnList.$setWidth(this.btnGroup.width),this.btnGroup.addChild(this.btnList)},t.prototype.ZR55=function(){var t=TF38.FJ55();this.signView.rfL(t)},t.prototype.ZR56=function(t){var e=TF38.FJ56();this.taskView.rfL(e),this.lbComplete.textFlow=M18.HTP.parser(O3.tr(6289,t.finalNum,TE62.finalNum)),this.btnReceive.imgNew.visible=!t.isHaveFinalReward&&t.finalNum==TE62.finalNum,P16.sGF(this.btnReceive,t.isHaveFinalReward),this.btnReceive.enabled=!t.isHaveFinalReward},t.prototype.ZF13=function(t){this.privilegeView.rfL(t.comeBackPrivilegeData)},t.prototype.ZV93=function(t){var e=TF38.FK61();this.expView.rfL(e)},t.prototype.ZG58=function(t){this.lbRecharge.textFlow=M18.HTP.parser(O3.tr(6303,t.rechargeNum));var e=TF38.FE65();this.rechargeView.rfL(e)},t.prototype.ZQ23=function(t){this.btnList.setCurView(t),this.viewStack.selectedIndex=this.views.indexOf(t),this.lbRecharge.visible=4==this.viewStack.selectedIndex},t.prototype.ZHH67=function(t){this.btnList.ZHH58(0,t.ZV89()),this.btnList.ZHH58(1,t.ZV90()),this.btnList.ZHH58(3,t.getExpRedNum()),this.btnList.ZHH58(4,t.ZI28())},t.prototype.open=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];p.prototype.open.call(this),this.signView.open(),this.taskView.open(),this.privilegeView.open(),this.expView.open(),this.rechargeView.open(),this.dlg.ZM69(this.closeSelf,this),this.dlg.ZQ14(this.closeSelf,this),this.btnReceive.addEventListener(egret.TouchEvent.TOUCH_TAP,this.ZR54,this),this.btnShop.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickShop,this),this.btnWelfare.addEventListener(egret.TouchEvent.TOUCH_TAP,this.ZR57,this),this.btnList.setCurView(this.views[0]),this.viewStack.selectedIndex=0;var i=App.CM.gtM(O6.B51);this.GX5(i),this.ZF13(i),this.openHandler(),this.ZHH67(i),this.lbRecharge.visible=!1},t.prototype.closeSelf=function(){this.apF(J1.A23)},t.prototype.uBM=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];p.prototype.uBM.call(this,t,e);var s=e[0];if(t instanceof TF36)switch(this.ZHH67(t),s){case P4.A96:this.ZG58(t);break;case P4.C45:this.ZR55();break;case P4.A66:case P4.E37:this.ZR56(t);break;case P4.HH27:this.ZV93(t);break;case P4.X97:this.GX5(t)}},t.prototype.openHandler=function(){var e=this,t=O3.tr(6274,P6.FJ11(1e3*TF38.FJ24(),5));this.cdLb.textFlow=M18.HTP.parser(t),this.timerHandler=App.K16.doTimer(1e3,0,function(){if(TF38.FJ24()){var t=O3.tr(6274,P6.FJ11(1e3*TF38.FJ24(),5));e.cdLb.textFlow=M18.HTP.parser(t)}else e.cTH()},this)},t.prototype.GX5=function(t){this.lbOffNum.textFlow=M18.HTP.parser(O3.tr(6284,t.offNum)),this.ZR55(),this.ZR56(t),this.ZG58(t),this.ZV93(t)},t.prototype.onClickShop=function(){var t=O4.getLv(),e=N15.FG47(P12.A10);if(t<e){var i=K18.init.commonDesc1.value;P18.sDP(M18.format(i,[e]))}else App.VM.open(O7.HH98,O7.I3,P12.A10)},t.prototype.ZR57=function(){App.CM.gtM(O6.B51).isBind?P18.sDP(O3.tr(6327)):this.apF(J1.A18)},t.prototype.cTH=function(){this.timerHandler&&(App.K16.rBH(this.timerHandler),this.timerHandler=null)},t.prototype.close=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];p.prototype.close.call(this),this.cTH(),this.btnReceive.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.ZR54,this),this.btnShop.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickShop,this),this.btnWelfare.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.ZR57,this),this.signView.close(),this.taskView.close(),this.privilegeView.close(),this.expView.close(),this.rechargeView.close()},t.prototype.ZR54=function(){this.btnReceive.imgNew.visible?App.CM.apF(O6.B51,J1.A1):P18.sDP(O3.tr(6296))},t}(BaseEuiView);__reflect(ComeBackView.prototype,"ComeBackView");var ComeBackWelfareView=function(s){function t(t,e){var i=s.call(this,t,e)||this;return i.skinName="ComeBackWelfareSkin",i}return __extends(t,s),t.prototype.open=function(){this.btnReceive.addEventListener(egret.TouchEvent.TOUCH_TAP,this.ZR54,this),this.edName.addEventListener(egret.TouchEvent.TOUCH_TAP,this.oCC,this),this.dlg.ZM69(this.closeSelf,this),this.dlg.ZQ14(this.closeSelf,this)},t.prototype.oCC=function(){this.edName.text="",this.edName.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.oCC,this),P7.FL26()},t.prototype.ZR54=function(){this.edName.text&&this.apF(J1.A5,this.edName.text)},t.prototype.initUI=function(){s.prototype.initUI.call(this),this.lbStr1.textFlow=M18.HTP.parse(O3.tr(6286)),this.dlg.title=O3.tr(6285),this.btnReceive.label=O3.tr(6287),this.edName.textDisplay.textFlow=M18.HTP.parse(O3.tr(6288)),this.itemData.itemRenderer=ItemIcon,this.dataSource=new eui.ArrayCollection,this.itemData.dataProvider=this.dataSource,this.ZJ81(TE62.comeBackBind),this.edName.textDisplay.textAlign=egret.HorizontalAlign.CENTER,this.edName.textDisplay.verticalAlign=egret.VerticalAlign.MIDDLE},t.prototype.ZJ81=function(t){var e=[];for(var i in t){var s={itemData:{data:N12.gID(t[i].k),ct:t[i].v},isBottom:!1};e.push(s)}this.dataSource.replaceAll(e)},t.prototype.close=function(){s.prototype.close.call(this),this.btnReceive.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.ZR54,this),this.edName.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.oCC,this)},t.prototype.closeSelf=function(){this.apF(J1.A17)},t}(BaseEuiView);__reflect(ComeBackWelfareView.prototype,"ComeBackWelfareView");var L10=function(){function t(){}return t.A4=10001,t.A1=10002,t.A2=10003,t.A3=10004,t}();__reflect(L10.prototype,"L10");var HH2=function(){function t(){}return t.A1=451,t.A2=10008,t.A3=10009,t}();__reflect(HH2.prototype,"HH2");var TD38=function(e){function t(){var t=e.call(this)||this;return t.commonProxy=new TG14(t),App.VM.register(O7.HH38,"TipDialogView",t,K17.UI_Popup),App.VM.register(O7.C54,"CommonCostAlert",t,K17.UI_Popup),App.VM.register(O7.F12,"CoinExchangeView",t,K17.UI_Popup),App.VM.register(O7.G87,"AccessItemView",t,K17.UI_Popup),App.VM.register(O7.G10,"AvatarScoreView",t,K17.UI_Tips_Top),App.VM.register(O7.G69,"TE63",t,K17.UI_Tips_Top),App.VM.register(O7.I12,"SmallTipView",t,K17.UI_Popup),App.VM.register(O7.A82,"CommonOpenActivity",t,K17.UI),App.VM.register(O7.G56,"FightShapeView",t,K17.UI),App.VM.register(O7.I57,"AiWanFuliView",t,K17.UI_Popup),t.rgF(L10.A4,t.toast,t),t.rgF(L10.A1,t.GU39,t),t.rgF(L10.A2,t.GQ60,t),t.rgF(L10.A3,t.GQ61,t),t.rgF(HH2.A2,t.GU40,t),t.rgF(HH2.A3,t.GU41,t),App.VM.register(O7.E78,"JumpRechargeView",t,K17.UI_Main_TOP),t.rgF(P8.A6,t.GF66,t),t.rgF(P8.A3,t.GE46,t),t}return __extends(t,e),t.prototype.GF66=function(t){App.VM.open(O7.E78,t)},t.prototype.GE46=function(){App.VM.close(O7.E78)},t.prototype.toast=function(t){var e=t.head.state,i=K18.getTips(e);P18.sDP(i)},t.prototype.GU39=function(){var t=O4.getLv();parseInt(D5.gIV("openLv"))<=t&&(App.CM.gtM(O6.A65).ZT29()||App.CM.apF(O6.A65,D6.A5));var e=parseInt(G8.gIV("lv")),i=parseInt(G8.gIV("days")),s=App.CM.gtM(O6.B43);e<=t&&s.serOpenDay+1>=i&&(App.CM.gtM(O6.B26).isLoadData||App.CM.apF(O6.B26,G14.A18))},t.prototype.GQ60=function(){App.VM.open(O7.A82)},t.prototype.GQ61=function(){App.VM.close(O7.A82)},t.prototype.GU40=function(){this.commonProxy.GU40({type:"wx_ios"})},t.prototype.GU41=function(t){0===t.s&&this.GF66(t.r)},t}(TE11);__reflect(TD38.prototype,"TD38");var TG14=function(e){function t(t){return e.call(this,t)||this}return __extends(t,e),t.prototype.GU40=function(t){this.rSMO("action/user/getRechargeTips",this.GU41,this),this.sendHttpMsg("action/user/getRechargeTips",t)},t.prototype.GU41=function(t){this.apF(HH2.A3,t)},t}(TG80);__reflect(TG14.prototype,"TG14");var P10=function(){function t(){}return t.A2=1,t.A1=2,t}();__reflect(P10.prototype,"P10");var AccessItemView=function(s){function t(t,e){var i=s.call(this,t,e)||this;return i.min=1,i.max=1,i.onePrice=1,i.bind2goldAsk=!1,i.skinName="AccessItemSkin",i}return __extends(t,s),t.prototype.initUI=function(){s.prototype.initUI.call(this),P7.FG67()?(this.recharge.label=O3.tr(3806),this.recharge.visible=this.recharge.includeInLayout=!1,this.buy.horizontalCenter=this.buy.verticalCenter=0):this.recharge.label=O3.tr(3971),this.buy.label=O3.tr(3972),this.deTenBtn.label=O3.tr(3973),this.inTenBtn.label=O3.tr(3974),this.title.textFlow=M18.HTP.parse(O3.tr(3975)),this.lbStr1.textFlow=M18.HTP.parse(O3.tr(3978)),this.lbStr2.textFlow=M18.HTP.parse(O3.tr(3979)),this.lbStr3.textFlow=M18.HTP.parse(O3.tr(3981)),this.lbStr4.textFlow=M18.HTP.parse(O3.tr(3983))},t.prototype.dealWithIOS=function(){P7.FG67()?(this.recharge.label=O3.tr(3806),this.recharge.visible=this.recharge.includeInLayout=!1,this.buy.horizontalCenter=this.buy.verticalCenter=0):this.recharge.label=O3.tr(3971)},t.prototype.open=function(t,e,i){this.isOpen||(this.isOpen=!0,s.prototype.open.call(this),this.shopType=i,this.defaultNum=e||this.min,this.item=N12.gID(String(t)),this.bgMask.addEventListener(egret.TouchEvent.TOUCH_TAP,this.closeSelf,this),this.backBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.closeSelf,this),this.closeBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.closeSelf,this),this.deTenBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.doDeTen,this),this.deOneBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.doDeOne,this),this.inOneBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.doInOne,this),this.inTenBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.doInTen,this),this.recharge.addEventListener(egret.TouchEvent.TOUCH_TAP,this.doRecharge,this),this.buy.addEventListener(egret.TouchEvent.TOUCH_TAP,this.doBuy,this),this.iconGroup.addEventListener(egret.TouchEvent.TOUCH_TAP,this.showItem,this),this.GX5(!0),this.dealWithIOS())},t.prototype.GX5=function(t){void 0===t&&(t=!1),this.iconBg.source=N12.FL5(this.item.id),this.icon.source=N12.FJ86(this.item.id),O5.FB13(this.nameLb,this.item.name,this.item.quality,1),this.bindShopItem=N15.FA19(1,this.item.id),this.goldShopItem=N15.FA19(2,this.item.id);var e=!1;this.recharge.visible=!0,this.buy.horizontalCenter=122,this.labLimit.text="",this.priceGroup.visible=!0;var i,s=App.CM.gtM(O6.B82),o=s.avatarInfo.g,r=s.avatarInfo.bg,n=pack.I11.BIND_GOLD;if(this.bindShopItem&&this.bindShopItem.price*this.defaultNum<=r?i=this.bindShopItem:this.goldShopItem&&this.goldShopItem.price*this.defaultNum<=o?(i=this.goldShopItem,n=pack.I11.GOLD):(i=this.bindShopItem||this.goldShopItem)==this.goldShopItem&&(n=pack.I11.GOLD),i)e=!0,this.onePrice=i.price,this.max=i.batchnum,this.price.textFlow=M18.HTP.parse(O3.tr(3976,String(i.price))),this.changeCoin(n),this.ZV94();else if(this.shopType&&N15.FB6(this.shopType)){var a=N15.FB6(this.shopType);if(a)for(var h in a){var p=a[h],l=p.goods,c=p.price,u=p.limitnum,d=p.index,v=p.times,f=l.split(":").map(function(t){return parseInt(t)})[0],g=c.split(":").map(function(t){return parseInt(t)}),m=g[0],y=g[1];if(f===this.item.id){this.goodsId=d,this.recharge.visible=!1,this.buy.horizontalCenter=0,this.priceGroup.visible=!1,this.labLimit.visible=!0;var A=THH27.getShopBuyCount(this.shopType,d);switch(this.labLimit.text=O3.tr(THH27.FC64(this.shopType,d),A,u),e=!0,this.onePrice=y,this.price.textFlow=M18.HTP.parse(O3.tr(3976,y.toString())),this.changeCoin(m),this.max=u-A,this.ZV94(),this.shopType){case P12.A26:var b=App.CM.gtM(O6.C4).nTopRank;(b<=0||5e3<b)&&(b=5e3),v<b&&(this.labLimit.textFlow=M18.HTP.parse(O3.tr(3977)))}break}}}if(t){var T=!1,C=this.item.link;if(this.hGroup.removeChildren(),this.tGroup.removeChildren(),C){T=!0;for(var w=C.split(","),O=0;O<w.length;O++){var M=w[O].split(":")[0];switch(O+1){case 1:this.way1=new eui.Label,this.way1.text=M,this.way1.size=20,this.way1.textColor=7716890,-1!=Number(w[O].split(":")[1])&&M18.FHH83(this.way1),this.way1.addEventListener(egret.TouchEvent.TOUCH_TAP,this.doWayJump,this);break;case 2:this.way2=new eui.Label,this.way2.text=M,this.way2.size=20,this.way2.textColor=7716890,-1!=Number(w[O].split(":")[1])&&M18.FHH83(this.way2),this.way2.addEventListener(egret.TouchEvent.TOUCH_TAP,this.doWayJump,this);break;case 3:this.way3=new eui.Label,this.way3.text=M,this.way3.size=20,this.way3.textColor=7716890,-1!=Number(w[O].split(":")[1])&&M18.FHH83(this.way3),this.way3.addEventListener(egret.TouchEvent.TOUCH_TAP,this.doWayJump,this);break;case 4:this.way4=new eui.Label,this.way4.text=M,this.way4.size=20,this.way4.textColor=7716890,-1!=Number(w[O].split(":")[1])&&M18.FHH83(this.way4),this.way4.addEventListener(egret.TouchEvent.TOUCH_TAP,this.doWayJump,this)}}w.length<=3?(this.hGroup.visible=!0,this.tGroup.visible=!1,this.way1&&this.hGroup.addChild(this.way1),this.way2&&this.hGroup.addChild(this.way2),this.way3&&this.hGroup.addChild(this.way3),this.way4&&this.hGroup.addChild(this.way4)):(this.hGroup.visible=!1,this.tGroup.visible=!0,this.way1&&this.tGroup.addChild(this.way1),this.way2&&this.tGroup.addChild(this.way2),this.way3&&this.tGroup.addChild(this.way3),this.way4&&this.tGroup.addChild(this.way4))}this.currentState=e&&T?"all":e&&!T?"shop":"item"}},t.prototype.uBM=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];s.prototype.uBM.call(this,t,e),this.GX5()},t.prototype.close=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];s.prototype.close.call(this),this.bgMask.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.closeSelf,this),this.backBtn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.closeSelf,this),this.closeBtn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.closeSelf,this),this.deTenBtn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.doDeTen,this),this.deOneBtn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.doDeOne,this),this.inOneBtn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.doInOne,this),this.inTenBtn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.doInTen,this),this.recharge.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.doRecharge,this),this.buy.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.doBuy,this),this.iconGroup.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.showItem,this),this.way1&&(this.way1.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.doWayJump,this),this.way1=null),this.way2&&(this.way2.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.doWayJump,this),this.way2=null),this.way3&&(this.way3.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.doWayJump,this),this.way3=null),this.way4&&(this.way4.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.doWayJump,this),this.way4=null),this.isOpen=!1,this.defaultNum=null,this.item=null,this.bindShopItem=null,this.goldShopItem=null,this.currentState=null,this.shopType=void 0,this.goodsId=void 0,this.coin=void 0},Object.defineProperty(t.prototype,"curCount",{get:function(){return parseInt(this.copies.text)},enumerable:!0,configurable:!0}),t.prototype.changeCoin=function(t){this.coin=t,this.priceIcon.source=N12.FJ86(t),this.costIcon.source=N12.FJ86(t)},t.prototype.changeNum=function(t){t>this.max&&(t=this.max),t<this.min&&(t=this.min),this.copies.textFlow=M18.HTP.parse(O3.tr(3980,t.toString()));var e=t*this.onePrice;this.totalCost.textFlow=M18.HTP.parse(O3.tr(3982,e)),this.totalPrice=e},t.prototype.ZV94=function(){this.changeNum(this.defaultNum)},t.prototype.changeNumBy=function(t){this.changeNum(this.curCount+t)},t.prototype.doInOne=function(){this.changeNumBy(1)},t.prototype.doInTen=function(){this.changeNumBy(10)},t.prototype.doDeTen=function(){this.changeNumBy(-10)},t.prototype.doDeOne=function(){this.changeNumBy(-1)},t.prototype.closeSelf=function(){App.VM.close(O7.G87)},t.prototype.doBuy=function(){var t=Number(this.copies.text);App.CM.gtM(O6.B82);if(this.bindShopItem)if(this.bind2goldAsk&&!O4.FG88(this.totalPrice,2)){var e=this.bindShopItem.index;App.VM.open(O7.HH38,M18.FG71(O3.tr(3406)),this,function(){return App.CM.apF(O6.C14,O11.A13,e,t)})}else App.CM.apF(O6.C14,O11.A13,this.bindShopItem.index,t);else if(this.goldShopItem)O4.FG88(this.totalPrice,1)?App.CM.apF(O6.C14,O11.A57,this.goldShopItem.index,t):P7.FA78();else if(this.shopType&&this.goodsId)switch(this.shopType){case P12.A26:if(this.curCount>this.max){P18.sDP(O3.tr(5665));break}var i=N15.arena[this.goodsId],s=App.CM.gtM(O6.C4).nTopRank;if((s<=0||5e3<s)&&(s=5e3),s>i.times)return void P18.sDP(O3.tr(524));var o=O6.C14,r=O11.A45;App.CM.apF(o,r,this.goodsId,t)}this.closeSelf()},t.prototype.doRecharge=function(){this.closeSelf(),App.CM.apF(O6.C29,P8.A7)},t.prototype.doWayJump=function(t){var e=t.currentTarget,i=this.item.link.split(",");switch(e){case this.way1:-1!=Number(i[0].split(":")[1])&&(TG84.FM16(i[0].split(":")[1]),this.closeSelf());break;case this.way2:-1!=Number(i[1].split(":")[1])&&(TG84.FM16(i[1].split(":")[1]),this.closeSelf());break;case this.way3:-1!=Number(i[2].split(":")[1])&&(TG84.FM16(i[2].split(":")[1]),this.closeSelf());break;case this.way4:-1!=Number(i[3].split(":")[1])&&(TG84.FM16(i[3].split(":")[1]),this.closeSelf())}},t.prototype.showItem=function(t){var e=N12.giC(this.item.id);App.CM.apF(O6.C11,O14.A15,this.item,e)},t}(BaseEuiView);__reflect(AccessItemView.prototype,"AccessItemView");var AvatarScoreView=function(r){function t(t,e){var i=r.call(this,t,e)||this;return i.skinName="AvatarScoreSkin",i}return __extends(t,r),t.prototype.initUI=function(){r.prototype.initUI.call(this),this.touchEnabled=!1,this.touchChildren=!1,this.percentHeight=NaN,this.percentWidth=NaN,this.horizontalCenter=0,this.y=500},t.prototype.initData=function(){r.prototype.initData.call(this)},t.prototype.open=function(){for(var t=this,e=[],i=0;i<arguments.length;i++)e[i]=arguments[i];r.prototype.open.call(this);var s=App.CM.gtM(O6.B82);s.isFlyScore=!1;var o=s.avatarInfo;this.scoreBase=o.olds,this.score.text=String(this.scoreBase),this.diff=o.s-o.olds,this.addScore.text=String(this.diff),o.olds=o.s,this.scoreGroup.alpha=.44,this.scoreGroup.y=7,this.addGroup.alpha=0,this.addGroup.visible=!1,this.tween1=null,this.tween1=egret.Tween.get(this.scoreGroup).to({alpha:1,y:0},300).call(function(){egret.Tween.removeTweens(t.scoreGroup),t.ZR58()})},t.prototype.ZR58=function(){this.timerHandler=App.K16.doTimer(70,8,this.rollScore,this,this.rollFinish,this)},t.prototype.rollScore=function(){var t=this.scoreBase;t+=Math.random()*this.diff,t=Math.floor(t),this.score.text=String(t)},t.prototype.rollFinish=function(){var t=this,e=this.scoreBase+this.diff;this.score.text=String(e),this.cTH(),this.addGroup.alpha=1,this.addGroup.visible=!0,this.addGroup.x=this.score.x+this.score.width+10,this.tween1=null,egret.Tween.removeTweens(this.addGroup),this.tween1=egret.Tween.get(this.addGroup).wait(600).call(function(){egret.Tween.removeTweens(t.addGroup),t.finalFade()})},t.prototype.finalFade=function(){var t=this;this.tween1=null,egret.Tween.removeTweens(this.scoreGroup),this.tween1=egret.Tween.get(this.scoreGroup).to({alpha:0,y:-11},600).call(function(){egret.Tween.removeTweens(t.scoreGroup)}),this.tween2=null,egret.Tween.removeTweens(this.addGroup),this.tween2=egret.Tween.get(this.addGroup).to({alpha:0,y:-11},600).call(function(){egret.Tween.removeTweens(t.addGroup),t.closeSelf()})},t.prototype.close=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];r.prototype.close.call(this),this.scoreBase=null,this.diff=null,this.tween1=null,egret.Tween.removeTweens(this.scoreGroup),egret.Tween.removeTweens(this.addGroup),this.cTH()},t.prototype.cTH=function(){null!=this.timerHandler&&(App.K16.rBH(this.timerHandler),this.timerHandler=null)},t.prototype.closeSelf=function(){App.VM.close(O7.G10)},t}(BaseEuiView);__reflect(AvatarScoreView.prototype,"AvatarScoreView");var CoinExchangeView=function(s){function t(t,e){var i=s.call(this,t,e)||this;return i.skinName="CoinExchangeSkin",i}return __extends(t,s),t.prototype.initUI=function(){s.prototype.initUI.call(this),this.btnExchange.label=O3.tr(4399),this.lbStr1.textFlow=M18.HTP.parse(O3.tr(4400)),this.lbStr2.textFlow=M18.HTP.parse(O3.tr(4401)),this.lbStr3.textFlow=M18.HTP.parse(O3.tr(4402))},t.prototype.open=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];s.prototype.open.call(this),this.bgMask.addEventListener(egret.TouchEvent.TOUCH_TAP,this.closeSelf,this),this.backBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.closeSelf,this),this.closeBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.closeSelf,this),this.btnExchange.addEventListener(egret.TouchEvent.TOUCH_TAP,this.doExchange,this),this.chapterModel=App.CM.gtM(O6.B64),this.GX5()},t.prototype.GX5=function(){var t=App.CM.gtM(O6.B82),e=Number(J15.FI6("profitHour"));this.profitDesc.textFlow=M18.HTP.parse(O3.tr(4403,e));var i=60*e*60/30*this.chapterModel.ZV45().hangupcoin;this.coinIcon.source=N12.FJ86(pack.I11.COIN),this.coinLb.textFlow=M18.HTP.parse(O3.tr(4404,String(i)));var s=J15.FI6("exchangeItem"),o=Number(s.split(":")[0]),r=Number(s.split(":")[1]),n=N12.giC(o),a=r<=n,h=Number(J15.FI6("exchangeGold"));this.costLb.textFlow=a?(this.costIcon.source=N12.FJ86(o),M18.HTP.parse(O3.tr(4405,n,String(r)))):(this.costIcon.source=N12.FJ86(pack.I11.GOLD),M18.HTP.parse(O3.tr(4406,String(h))));var p=K18.FK45(t.avatarInfo.v),l=Number(p.cointimes);if(this.remianLb.textFlow=M18.HTP.parse(O3.tr(4407,l-this.chapterModel.chData.en)),t.avatarInfo.v>=K18.FL39())this.nextVipDesc.visible=!1;else{this.nextVipDesc.visible=!0;var c=K18.FK45(t.avatarInfo.v+1),u=Number(c.cointimes);this.nextVipDesc.textFlow=M18.HTP.parse(O3.tr(4408,c.level,u-l))}var d=0<l-this.chapterModel.chData.en;this.btnExchange.filters=d?(this.btnExchange.touchEnabled=!0,[]):(this.btnExchange.touchEnabled=!1,[P16.GrayMatrixFilter]),this.coinGroup.x=(420-this.coinGroup.width)/2,this.costGroup.x=this.coinGroup.x},t.prototype.uBM=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];s.prototype.uBM.call(this,t,e),this.GX5()},t.prototype.close=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];s.prototype.close.call(this),this.bgMask.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.closeSelf,this),this.backBtn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.closeSelf,this),this.closeBtn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.closeSelf,this),this.btnExchange.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.doExchange,this),this.chapterModel=null},t.prototype.closeSelf=function(){App.VM.close(O7.F12)},t.prototype.doExchange=function(){App.CM.apF(O6.B64,J18.A29)},t}(BaseEuiView);__reflect(CoinExchangeView.prototype,"CoinExchangeView");var CommonCostAlert=function(s){function t(t,e){var i=s.call(this,t,e)||this;return i.costTp=P10.A2,i.goRecharge=!1,i.params={},i.skinName=CommonAlertSkin,i}return __extends(t,s),t.prototype.open=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];s.prototype.open.call(this),this.bgMask.addEventListener(egret.TouchEvent.TOUCH_TAP,this.closeSelf,this),this.btnClose.addEventListener(egret.TouchEvent.TOUCH_TAP,this.closeSelf,this),this.btnConfirm.addEventListener(egret.TouchEvent.TOUCH_TAP,this.ZQ58,this),this.backBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.closeSelf,this),this.cbAlert.addEventListener(egret.Event.CHANGE,this.ZK88,this),this.cbAlert.selected=!1,this.params=t[0],this.goRecharge=!1,this.updateViews(),this.cbAlert.label=O3.tr(5912),this.lbTitle.textFlow=M18.HTP.parser(O3.tr(5911))},t.prototype.updateViews=function(){this.params.content?(this.btnConfirm.label=this.params.btnStr||O3.tr(1464),this.lbTitle.text=this.params.title||O3.tr(5807),this.handler=this.params.handler,this.lbContent.textFlow=this.params.content instanceof Array?this.params.content:M18.HTP.parse(this.params.content),this.cost=this.params.cost,this.costTp=this.params.costTp||this.costTp,this.closeHandler=this.params.closeHandler,this.params.isShowCb&&this.params.cbHandler?(this.cbAlert.visible=!0,this.cbHandler=this.params.cbHandler,this.cbAlert.addEventListener(egret.Event.CHANGE,this.onChange,this),this.params.cbStr&&(this.cbAlert.label=this.params.cbStr),this.cbAlert.selected=null!=this.params.cbState&&this.params.cbState):(this.cbAlert.visible=!1,this.cbHandler=null,this.cbAlert.removeEventListener(egret.Event.CHANGE,this.onChange,this))):console.log("文字提示框必须传入内容--")},t.prototype.ZK88=function(t){"down"==this.cbAlert.currentState?P7.FHH80(this.params.localKey,"down"):P7.FHH80(this.params.localKey,"up"),TG40.playClickEffect()},t.prototype.onChange=function(){this.cbHandler()},t.prototype.ZQ58=function(){if(this.handler)if(null!=this.cost&&0<this.cost){var t=App.CM.gtM(O6.B82);if(this.costTp==P10.A1){var e=t.avatarInfo.bg;this.cost>e?(this.lbContent.text=this.params.content2,this.costTp=P10.A2):(this.handler(),this.closeSelf())}else this.goRecharge?(App.CM.apF(O6.C29,P8.A7),null!=this.closeHandler&&this.closeHandler(),this.closeSelf()):this.ZK89()}else this.handler(),this.closeSelf();else this.closeSelf()},t.prototype.ZK89=function(){var t=App.CM.gtM(O6.B82).avatarInfo.g;this.cost>t?(this.goRecharge=!0,"PM000893"==platform.gameId&&0==window.can_purchase?this.lbContent.text=O3.tr(5594):"PM001109"==platform.gameId&&"2"==window.isPayType?(P18.sDP(O3.tr(5594)),this.goRecharge=!1):this.lbContent.text=O3.tr(934)):(this.handler(),this.closeSelf())},t.prototype.closeSelf=function(){App.VM.GY64(this)},t.prototype.close=function(){s.prototype.close.call(this),this.bgMask.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.closeSelf,this),this.btnClose.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.closeSelf,this),this.btnConfirm.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.ZQ58,this),this.backBtn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.closeSelf,this),this.params=null,this.goRecharge=null,this.cost=null,this.costTp=null,this.closeHandler=null,this.cbHandler=null,this.cbAlert.removeEventListener(egret.Event.CHANGE,this.onChange,this)},t}(BaseEuiView);__reflect(CommonCostAlert.prototype,"CommonCostAlert");var CommonOpenActivity=function(s){function t(t,e){var i=s.call(this,t,e)||this;return i.params={},i.skinName=CommonOpenActivitySkin,i}return __extends(t,s),t.prototype.initUI=function(){s.prototype.initUI.call(this),this.grpOpen.x=App.TG37.getWidth(),this.grpOpen.bottom=212,this.touchEnabled=!1,this.btnGo.label=O3.tr(5350),this.btnOff.label=O3.tr(5351)},t.prototype.open=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];s.prototype.open.call(this),this.btnOff.addEventListener(egret.TouchEvent.TOUCH_TAP,this.closeSelf,this),this.btnGo.addEventListener(egret.TouchEvent.TOUCH_TAP,this.ZQ58,this),this.params&&this.params.str==t[0].str||(this.params=t[0],this.updateViews(),this.dongActivity())},t.prototype.dongActivity=function(){var t=this;if(this.grpOpen.x==App.TG37.getWidth()){var e=this.grpOpen.x-this.grpOpen.width;egret.Tween.get(this.grpOpen).wait(200).to({x:e},3e3).call(function(){egret.Tween.removeTweens(t.grpOpen),t.grpOpen.right=0})}},t.prototype.updateViews=function(){this.lbRanking.text=this.params.str||O3.tr(1464),this.handler=this.params.handler},t.prototype.getHander=function(){return this.handler},t.prototype.ZQ58=function(){this.handler?this.handler()&&this.closeSelf():this.closeSelf()},t.prototype.closeSelf=function(){var t=App.CM.gtM(this.params.ctrlConst);t&&(t.isShow=!0),App.VM.GY64(this),egret.Tween.removeTweens(this.grpOpen),this.grpOpen.right=NaN},t.prototype.close=function(){s.prototype.close.call(this),this.btnOff.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.closeSelf,this),this.btnGo.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.ZQ58,this),this.params=null,this.handler=null},t}(BaseEuiView);__reflect(CommonOpenActivity.prototype,"CommonOpenActivity");var FightShapeView=function(s){function t(t,e){var i=s.call(this,t,e)||this;return i.skinName="FightShapeSkin",i}return __extends(t,s),t.prototype.initUI=function(){s.prototype.initUI.call(this)},t.prototype.initData=function(){s.prototype.initData.call(this)},t.prototype.open=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];s.prototype.open.call(this),this.parent&&this.parent.setChildIndex(this,this.parent.numChildren-2)},t.prototype.close=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];s.prototype.close.call(this)},t}(BaseEuiView);__reflect(FightShapeView.prototype,"FightShapeView");var TE63=function(o){function t(t,e){var i=o.call(this,t,e)||this;return i.floor2RotateIdx=1,i.skinName="ModelShapeSkin",i}return __extends(t,o),t.prototype.initUI=function(){o.prototype.initUI.call(this),this.btnGet.label=O3.tr(6221,5)},t.prototype.initData=function(){o.prototype.initData.call(this),this.floor2RotateMap={1:0,2:-11,3:34,4:94,5:136,6:158,7:177,8:212,9:247},this.fgObj=new FightGameObject},t.prototype.open=function(t){o.prototype.open.call(this),this.link=t.link,this.addEventListener(egret.TouchEvent.TOUCH_TAP,this.closeSelf,this),this.btnConfirm.addEventListener(egret.TouchEvent.TOUCH_TAP,this.doConfirm,this),this.btnGet.addEventListener(egret.TouchEvent.TOUCH_TAP,this.closeSelf,this),this.imgRes.visible=!1,this.countDownHandler&&(App.K16.rBH(this.countDownHandler),this.countDownHandler=void 0),this.floor2RotateHandler&&(App.K16.rBH(this.floor2RotateHandler),this.floor2RotateHandler=void 0),this.totalSecond=5,this.roleContent.visible=!1,this.preData=t.previewData,this.preData&&this.preData.award?(this.ob=t.ob,this.ZN86()):(this.gpReward.includeInLayout=this.gpReward.visible=!1,this.gpBase.verticalCenter=65,this.btnConfirm.visible=!0),this.countDownHandler=App.K16.doTimer(1e3,this.totalSecond,this.GY14,this,this.countFinish,this),this.btnStr=t.btnLabel||1453,this.GX5(),this.GY15(t.objData);var e=t.effPos||1;1==e?this.showBottom(t.movieJson,t.moviePng):2==e&&this.showSoulEff(t.movieJson,t.moviePng);var i=t.titleImg||"v1_fonts_jiesuoxinwaixing_png";this.imgTitle.source=i,t.showImg&&this.showImg(t.showImg);var s=App.CM.gtM(O6.C12);s.modelFiger&&App.VM.isOpen(O7.C45)&&this.ZK90(),s.ng&&App.VM.isOpen(O7.C45)&&THH1.FHH45()&&this.ZC36()},t.prototype.FG25=function(){return this.hguideFiger||(this.hguideFiger=new GuideFinger,this.hguideFiger.touchEnabled=!1,this.hguideFiger.anchorOffsetX=119,this.hguideFiger.anchorOffsetY=119,this.hguideFiger.touchEnabled=!1),this.hguideFiger},t.prototype.removeFinger=function(){this.hguideFiger&&(this.gpConternt.removeChild(this.hguideFiger),this.hguideFiger=null)},t.prototype.ZC36=function(){this.hguideFiger=this.FG25(),this.gpConternt.addChild(this.hguideFiger);var t=N4.getClosePos(N4.modelShape);this.hguideFiger.setDir(1),this.hguideFiger.x=t.x,this.hguideFiger.y=t.y,this.hguideFiger.moveTo(t)},t.prototype.ZK90=function(){TG68.FG24(this.gpConternt);var t=TG68.FG25(),e=N4.getClosePos(N4.modelShape);t.setDir(1),t.x=e.x,t.y=e.y,t.moveTo(e)},t.prototype.showImg=function(t){if(t){this.imgRes.visible=!0,this.imgRes.source=t;var e=this.imgRes.y,i=egret.Tween.get(this.imgRes,{loop:!0});i.to({y:e-6},500),i.to({y:e},1e3)}},t.prototype.GY15=function(t){void 0===t&&(t=void 0),this.fgObj=new FightGameObject,t&&(t.bt=BehaviourType.Stand_d,this.fgObj.setData(t,this.model))},t.prototype.updateRoleInfo=function(t,e){this.roleContent.visible=!0,this.labRoleName.text=t,this.labQuality.text=e},t.prototype.showBottom=function(t,e){if(void 0===t&&(t=void 0),void 0===e&&(e=void 0),App.THH33.rEf(this.effect,"Action"),t&&e){var i=t.split("_")[0];App.THH33.aUE(this.effect,i)}},t.prototype.showSoulEff=function(t,e){if(void 0===t&&(t=void 0),void 0===e&&(e=void 0),App.THH33.rEf(this.effect,"Action"),t&&e){var i=t.split("_")[0];App.THH33.aUE(this.effect,i)}},t.prototype.close=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];o.prototype.close.call(this),App.THH33.rEf(this.effect,"Action"),this.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.closeSelf,this),this.model.removeChildren(),this.fgObj.destory(),this.fgObj=null,App.K16.rBH(this.countDownHandler),App.K16.rBH(this.floor2RotateHandler),this.countDownHandler=null,this.floor2RotateHandler=null,this.removeTween(),this.removeFinger()},t.prototype.removeTween=function(){egret.Tween.removeTweens(this.floor1),egret.Tween.removeTweens(this.floor21),egret.Tween.removeTweens(this.floor22),egret.Tween.removeTweens(this.floor23),egret.Tween.removeTweens(this.floor24),egret.Tween.removeTweens(this.floor25),egret.Tween.removeTweens(this.floor26),egret.Tween.removeTweens(this.floor27),egret.Tween.removeTweens(this.floor28),egret.Tween.removeTweens(this.floor29),egret.Tween.removeTweens(this.floor3),egret.Tween.removeTweens(this.floor4),egret.Tween.removeTweens(this),this.tween21=null,this.tween22=null,this.tween23=null,this.tween24=null,this.tween25=null,this.tween27=null,this.tween28=null,this.tween29=null,this.tween3=null,this.tween4=null},t.prototype.GX5=function(){this.btnConfirm.label=O3.tr(this.btnStr,this.totalSecond),this.ZV95(),this.floor2RotateIdx=2,this.floor2RotateHandler=App.K16.doTimer(300,0,this.ZR59,this),this.initFloor3(),egret.Tween.get(this).wait(700).call(this.initFloor4,this)},t.prototype.initFloor3=function(){this.floor3.scaleX=this.floor3.scaleY=.6,this.floor3.alpha=0,egret.Tween.removeTweens(this.floor3),this.tween3=null,this.tween3=egret.Tween.get(this.floor3,{loop:!0}).to({scaleX:1.4,scaleY:1.4,alpha:1},700).to({scaleX:2.2,scaleY:2.2,alpha:0},700)},t.prototype.initFloor4=function(){this.floor4.scaleX=this.floor4.scaleY=.6,this.floor4.alpha=0,egret.Tween.removeTweens(this.floor4),this.tween4=null,this.tween4=egret.Tween.get(this.floor4,{loop:!0}).to({scaleX:1.4,scaleY:1.4,alpha:1},700).to({scaleX:2.2,scaleY:2.2,alpha:0},700)},t.prototype.initFloor2=function(t){switch(t.scaleX=t.scaleY=.5,t.alpha=0,egret.Tween.removeTweens(t),t){case this.floor21:this.tween21=null,this.tween21=egret.Tween.get(t).to({scaleX:1,scaleY:1,alpha:1},450).to({scaleX:1.5,scaleY:1.5,alpha:0},450);break;case this.floor22:this.tween22=null,this.tween22=egret.Tween.get(t).to({scaleX:1,scaleY:1,alpha:1},450).to({scaleX:1.5,scaleY:1.5,alpha:0},450);break;case this.floor23:this.tween23=null,this.tween23=egret.Tween.get(t).to({scaleX:1,scaleY:1,alpha:1},450).to({scaleX:1.5,scaleY:1.5,alpha:0},450);break;case this.floor24:this.tween24=null,this.tween24=egret.Tween.get(t).to({scaleX:1,scaleY:1,alpha:1},450).to({scaleX:1.5,scaleY:1.5,alpha:0},450);break;case this.floor25:this.tween25=null,this.tween25=egret.Tween.get(t).to({scaleX:1,scaleY:1,alpha:1},450).to({scaleX:1.5,scaleY:1.5,alpha:0},450);break;case this.floor26:this.tween26=null,this.tween26=egret.Tween.get(t).to({scaleX:1,scaleY:1,alpha:1},450).to({scaleX:1.5,scaleY:1.5,alpha:0},450);break;case this.floor27:this.tween27=null,this.tween27=egret.Tween.get(t).to({scaleX:1,scaleY:1,alpha:1},450).to({scaleX:1.5,scaleY:1.5,alpha:0},450);break;case this.floor28:this.tween28=null,this.tween28=egret.Tween.get(t).to({scaleX:1,scaleY:1,alpha:1},450).to({scaleX:1.5,scaleY:1.5,alpha:0},450);break;case this.floor29:this.tween29=null,this.tween29=egret.Tween.get(t).to({scaleX:1,scaleY:1,alpha:1},450).to({scaleX:1.5,scaleY:1.5,alpha:0},450)}},t.prototype.ZR59=function(){switch(9<this.floor2RotateIdx&&(this.floor2RotateIdx=1),this.floor2RotateIdx){case 1:this.ZV95();break;case 2:this.ZV96();break;case 3:this.ZV97();break;case 4:this.ZV98();break;case 5:this.ZV99();break;case 6:this.ZW1();break;case 7:this.ZW2();break;case 8:this.ZW3();break;case 9:this.ZW4()}this.floor2RotateIdx++},t.prototype.ZV95=function(){this.floor21.rotation=this.floor2RotateMap[1],this.initFloor2(this.floor21)},t.prototype.ZV96=function(){this.floor22.rotation=this.floor2RotateMap[2],this.initFloor2(this.floor22)},t.prototype.ZV97=function(){this.floor23.rotation=this.floor2RotateMap[3],this.initFloor2(this.floor23)},t.prototype.ZV98=function(){this.floor24.rotation=this.floor2RotateMap[4],this.initFloor2(this.floor24)},t.prototype.ZV99=function(){this.floor25.rotation=this.floor2RotateMap[5],this.initFloor2(this.floor25)},t.prototype.ZW1=function(){this.floor26.rotation=this.floor2RotateMap[6],this.initFloor2(this.floor26)},t.prototype.ZW2=function(){this.floor27.rotation=this.floor2RotateMap[7],this.initFloor2(this.floor27)},t.prototype.ZW3=function(){this.floor28.rotation=this.floor2RotateMap[8],this.initFloor2(this.floor28)},t.prototype.ZW4=function(){this.floor29.rotation=this.floor2RotateMap[9],this.initFloor2(this.floor29)},t.prototype.GY14=function(){this.totalSecond--,this.btnConfirm.label=O3.tr(this.btnStr,this.totalSecond),this.preData&&this.preData.award&&(this.btnGet.label=O3.tr(6221,this.totalSecond))},t.prototype.countFinish=function(){this.closeSelf()},t.prototype.ZN86=function(){this.gpReward.visible=this.gpReward.includeInLayout=!0,this.gpBase.verticalCenter=-63,this.btnConfirm.visible=!1,this.lbStr1.text=O3.tr(6213),this.itemCollection=new eui.ArrayCollection,this.rewardList.dataProvider=this.itemCollection,this.rewardList.itemRenderer=ItemIcon;var t=M18.FL28(this.preData.award,";",":"),e=[],i=!0;for(var s in P7.FM14()&&(i=!1),t){var o={data:N12.gID(t[s][0]),ct:t[s][1]};e.push({itemData:o,isBottom:i,scale:1})}this.itemCollection.replaceAll(e)},t.prototype.closeSelf=function(){var t=App.CM.gtM(O6.C12);t.modelFiger&&App.VM.isOpen(O7.C45)&&(t.notify("modelShape"),t.modelFiger=!1);var e=App.CM.gtM(O6.B82);e.isRefreshPre=!1,e.isFlyScore&&App.VM.open(O7.G10),App.VM.GY64(this),this.countDownHandler&&(App.K16.rBH(this.countDownHandler),this.countDownHandler=void 0),this.floor2RotateHandler&&(App.K16.rBH(this.floor2RotateHandler),this.floor2RotateHandler=void 0),egret.Tween.removeTweens(this),t.ng&&App.VM.isOpen(O7.C45)&&THH1.FHH45()&&(t.notify("heroGuide"),this.removeFinger()),this.itemCollection&&this.itemCollection.removeAll(),this.ob&&P5.sIs(this.ob)},t.prototype.doConfirm=function(){var t={sLink:this.link};TG84.goToDlg(t),this.closeSelf()},t}(BaseEuiView);__reflect(TE63.prototype,"TE63");var TipDialogView=function(n){function t(t,e){var i=n.call(this,t,e)||this;return i.skinName="TipDialogSkin",i}return __extends(t,n),t.prototype.initUI=function(){n.prototype.initUI.call(this),this.lbStr1.textFlow=M18.HTP.parse(O3.tr(5352)),this.btnConfirm.label=O3.tr(5355),this.btnCancel.label=O3.tr(5356)},t.prototype.open=function(t,e,i,s,o,r){if(void 0===i&&(i=void 0),void 0===s&&(s=void 0),void 0===o&&(o=void 0),void 0===r&&(r=void 0),n.prototype.open.call(this),this.msg.textFlow=t,this._methodObj=e,this._confirmHandel=i,this._confirmParam=s,this._cancelHandel=o,this._cancelParam=r,P7.FG67()){if(-1!==this.msg.text.indexOf(O3.tr(5354)))return this.doCancel(),App.TF56.ZJ66(this),void P18.sDP(O3.tr(5354));if(-1!==this.msg.text.indexOf(O3.tr(5353)))return this.doCancel(),App.TF56.ZJ66(this),void P18.sDP(O3.tr(5354))}this.bgMask.addEventListener(egret.TouchEvent.TOUCH_TAP,this.doCancel,this),this.btnClose.addEventListener(egret.TouchEvent.TOUCH_TAP,this.doCancel,this),this.btnConfirm.addEventListener(egret.TouchEvent.TOUCH_TAP,this.doConfirm,this),this.btnCancel.addEventListener(egret.TouchEvent.TOUCH_TAP,this.doCancel,this)},t.prototype.close=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];n.prototype.close.call(this),this.bgMask.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.doCancel,this),this.btnClose.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.doCancel,this),this.btnConfirm.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.doConfirm,this),this.btnCancel.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.doCancel,this),this._methodObj=null,this._confirmHandel=null,this._confirmParam=null,this._cancelHandel=null,this._cancelParam=null},t.prototype.doConfirm=function(){if(this._confirmHandel){if(!this._confirmParam||0==this._confirmParam.length)return this._confirmHandel.call(this._methodObj),void this.closeSelf();switch(this._confirmParam.length){case 1:this._confirmHandel.call(this._methodObj,this._confirmParam[0]);break;case 2:this._confirmHandel.call(this._methodObj,this._confirmParam[0],this._confirmParam[1]);break;case 3:this._confirmHandel.call(this._methodObj,this._confirmParam[0],this._confirmParam[1],this._confirmParam[2]);break;case 4:this._confirmHandel.call(this._methodObj,this._confirmParam[0],this._confirmParam[1],this._confirmParam[2],this._confirmParam[3]);break;case 5:this._confirmHandel.call(this._methodObj,this._confirmParam[0],this._confirmParam[1],this._confirmParam[2],this._confirmParam[3],this._confirmParam[4])}this.closeSelf()}else this.closeSelf()},t.prototype.doCancel=function(){if(this._cancelHandel){if(!this._cancelParam||0==this._cancelParam.length)return this._cancelHandel.call(this._methodObj),void this.closeSelf();switch(this._cancelParam.length){case 1:this._cancelHandel.call(this._methodObj,this._cancelParam[0]);break;case 2:this._cancelHandel.call(this._methodObj,this._cancelParam[0],this._cancelParam[1]);break;case 3:this._cancelHandel.call(this._methodObj,this._cancelParam[0],this._cancelParam[1],this._cancelParam[2]);break;case 4:this._cancelHandel.call(this._methodObj,this._cancelParam[0],this._cancelParam[1],this._cancelParam[2],this._cancelParam[3]);break;case 5:this._cancelHandel.call(this._methodObj,this._cancelParam[0],this._cancelParam[1],this._cancelParam[2],this._cancelParam[3],this._cancelParam[4])}this.closeSelf()}else this.closeSelf()},t.prototype.closeSelf=function(){App.VM.GY64(this)},t}(BaseEuiView);__reflect(TipDialogView.prototype,"TipDialogView"),function(h){var t=function(){function a(){}return a.FK35=function(t){var e=t.jubao_init,i=t.jubao_build,s=t.jubao_search,o=t.jubao_rank;for(var r in a.openLv=parseInt(e.openLv.value),a.serverDate=parseInt(e.serverDate.value),a.stealNum=parseInt(e.stealNum.value),a.updateShow=e.updateShow.value.split(","),a.treasureCost=h.Utils.str2map(e.treasureCost.value),a.partnerTimes=h.Utils.str2map(e.partnerTimes.value),a.jubaolu=e.jubaolu.value.split(","),a.buildDataRaw=i){var n=a.buildDataRaw[r];a.buildData[n.type]||(a.buildData[n.type]={}),a.buildData[n.type][n.level]=n}h.Config.initRankData(o),a.searchData=s},a.getBuildDataByLevel=function(t,e){return a.buildData[t]&&a.buildData[t][e]},a.getUpconsumeByLevel=function(t,e){if(a.buildData[t]&&a.buildData[t][e]&&a.buildData[t][e].cost)return Reincarnate.Utils.str2kv(a.buildData[t][e].cost)},a.getCanBuyTimes=function(t){return K18.vip[t]&&K18.vip[t].treasuretimes||0},a.getSearchCost=function(t){for(var e=0,i=Object.keys(a.searchData).sort(function(t,e){return parseInt(e)-parseInt(t)});e<i.length;e++){var s=i[e],o=a.searchData[s];if(t>=o.section)return Reincarnate.Utils.str2kv(o.cost)}return[]},a.isOpen=function(){var t=App.CM.gtM(O6.B43);return O4.getLv()>=a.openLv&&t.serOpenDay+1>=a.serverDate},a.initRankData=function(t){for(var e in t){var i=t[e],s=P7.str2kv1(i.section,","),o=s.k,r=s.v;a.rankData.push({section:[o,r],award:P7.str2kv(i.award)})}},a.FG83=function(t){for(var e=0,i=this.rankData;e<i.length;e++){var s=i[e];if(t>=s.section[0]&&t<=s.section[1])return s.award}return[]},a.openLv=255,a.serverDate=255,a.updateShow=[],a.buildData={},a.rankData=[],a}();h.Config=t,__reflect(t.prototype,"Cornucopia.Config")}(Cornucopia||(Cornucopia={})),function(t){var e=function(){function t(){}return t.OpenMainView=1e3,t.CloseMainView=1002,t.OpenMissionView=1003,t.CloseMissionView=1004,t.OpenRankView=1005,t.CloseRankView=1006,t.OpenRecordView=1007,t.CloseRecordView=1008,t.SelectPartner=30008,t.Mission=30009,t.LOAD_REQ=20001,t.LOAD_RES=20002,t.COMPLETE_RES=20004,t.START_REQ=20005,t.START_RES=20006,t.MISSION_REQ=20007,t.MISSION_RES=20008,t.DEMISSION_REQ=20009,t.DEMISSION_RES=20010,t.GET_REWARD_REQ=20011,t.GET_REWARD_RES=20012,t.UPGRADE_REQ=20013,t.UPGRADE_RES=20014,t.CHALLENGE_REQ=21001,t.CHALLENGE_RES=21002,t.SEARCH_REQ=21003,t.SEARCH_RES=21004,t.LOAD_RECORDS_REQ=21015,t.LOAD_RECORDS_RES=21016,t.LOAD_RECORDS_PUSH_RES=21007,t.SNATCH_BUY_TIMES_REQ=21019,t.SNATCH_BUY_TIMES_RES=21020,t.REVENGE_REQ=21021,t.REVENGE_RES=21022,t.DAILY_RESET_PUSH=21032,t.WEEKLY_RESET_PUSH=21034,t.RANK_LOAD_REQ=21035,t.RANK_LOAD_RES=21036,t}();t.Const=e,__reflect(e.prototype,"Cornucopia.Const")}(Cornucopia||(Cornucopia={})),function(i){var t=function(e){function t(){var t=e.call(this)||this;return App.VM.register(O7.D58,"CornucopiaBaseMain",t,K17.UI_Main),t.rgF(i.Const.OpenMainView,t.GT93,t),t.rgF(i.Const.CloseMainView,t.GR99,t),App.VM.register(O7.B40,"CornucopiaDispatchView",t,K17.UI_Main_TOP),t.rgF(i.Const.OpenMissionView,t.GO77,t),t.rgF(i.Const.CloseMissionView,t.GM95,t),App.VM.register(O7.D50,"CornucopiaRankView",t,K17.UI_Main_TOP),t.rgF(i.Const.OpenRankView,t.GU9,t),t.rgF(i.Const.CloseRankView,t.GS17,t),App.VM.register(O7.C1,"CornucopiaRecordView",t,K17.UI_Main_TOP),t.rgF(i.Const.OpenRecordView,t.GQ62,t),t.rgF(i.Const.CloseRecordView,t.GO78,t),App.VM.register(O7.A44,"CornucopiaMissionTipView",t,K17.UI_Main_TOP),App.VM.register(O7.A98,"CornucopiaBuyTimesView",t,K17.UI_Main_TOP),App.VM.register(O7.A45,"CornucopiaRevengeView",t,K17.UI_Main_TOP),t.rgF(i.Const.Mission,t.mission,t),t.rgF(i.Const.SelectPartner,t.selelct,t),new i.Model(t),t.model.aLV(O7.I39),t.model.aLV(O7.HH2),t.model.aLV(O7.D58),t.model.aLV(O7.D50),t.model.aLV(O7.C1),t.model.aLV(O7.B99),t.model.aLV(O7.B40),t.model.aLV(O7.A98),t.proxy=new i.Proxy(t),t.rgF(i.Const.UPGRADE_REQ,t.proxy.upgrade,t.proxy),t.rgF(i.Const.UPGRADE_RES,t.GV93,t),t.rgF(i.Const.LOAD_REQ,t.proxy.load,t.proxy),t.rgF(i.Const.LOAD_RES,t.load_Res,t),t.rgF(i.Const.START_REQ,t.proxy.startup,t.proxy),t.rgF(i.Const.START_RES,t.GY40,t),t.rgF(i.Const.MISSION_REQ,t.proxy.mission,t.proxy),t.rgF(i.Const.MISSION_RES,t.GV94,t),t.rgF(i.Const.DEMISSION_REQ,t.proxy.demission,t.proxy),t.rgF(i.Const.DEMISSION_RES,t.GS61,t),t.rgF(i.Const.GET_REWARD_REQ,t.proxy.FL67,t.proxy),t.rgF(i.Const.GET_REWARD_RES,t.GS62,t),t.rgF(i.Const.COMPLETE_RES,t.GU42,t),t.rgF(i.Const.SEARCH_REQ,t.proxy.search,t.proxy),t.rgF(i.Const.SEARCH_RES,t.GX43,t),t.rgF(i.Const.CHALLENGE_REQ,t.proxy.challenge,t.proxy),t.rgF(i.Const.CHALLENGE_RES,t.GS63,t),t.rgF(i.Const.LOAD_RECORDS_REQ,t.proxy.loadRecord,t.proxy),t.rgF(i.Const.LOAD_RECORDS_RES,t.GQ63,t),t.rgF(i.Const.REVENGE_REQ,t.proxy.revenge,t.proxy),t.rgF(i.Const.REVENGE_RES,t.GV95,t),t.rgF(i.Const.SNATCH_BUY_TIMES_REQ,t.proxy.buyTimes,t.proxy),t.rgF(i.Const.SNATCH_BUY_TIMES_RES,t.GU43,t),t.rgF(i.Const.LOAD_RECORDS_PUSH_RES,t.GQ64,t),t.rgF(i.Const.DAILY_RESET_PUSH,t.GQ65,t),t.rgF(i.Const.WEEKLY_RESET_PUSH,t.GQ65,t),t.rgF(i.Const.RANK_LOAD_REQ,t.proxy.rankLoad,t.proxy),t.rgF(i.Const.RANK_LOAD_RES,t.GV96,t),t}return __extends(t,e),Object.defineProperty(t.prototype,"model",{get:function(){return this.gtM()},enumerable:!0,configurable:!0}),t.prototype.GT93=function(){for(var t,e=[],i=0;i<arguments.length;i++)e[i]=arguments[i];(t=App.VM).open.apply(t,[O7.D58].concat(e))},t.prototype.GR99=function(){App.VM.close(O7.D58)},t.prototype.mission=function(t){this.model.selectPartnerId&&(this.apF(i.Const.MISSION_REQ,t,this.model.selectPartnerId),this.model.selectPartnerId=0)},t.prototype.selelct=function(t){this.model.selectPartnerId=t,this.model.notify()},t.prototype.GO77=function(){for(var t,e=[],i=0;i<arguments.length;i++)e[i]=arguments[i];(t=App.VM).open.apply(t,[O7.B40].concat(e))},t.prototype.GM95=function(){App.VM.close(O7.B40)},t.prototype.GU9=function(){App.VM.open(O7.D50)},t.prototype.GS17=function(){App.VM.close(O7.D50)},t.prototype.GQ62=function(){App.VM.open(O7.C1)},t.prototype.GO78=function(){App.VM.close(O7.C1)},t.prototype.GV93=function(t){200==t.head.state?this.model.ZD48(t.body):App.CM.apF(O6.B87,L10.A4,t)},t.prototype.load_Res=function(t){200==t.head.state?this.model.ZD48(t.body):App.CM.apF(O6.B87,L10.A4,t)},t.prototype.GY40=function(t){200==t.head.state?this.model.ZD48(t.body):App.CM.apF(O6.B87,L10.A4,t)},t.prototype.GV94=function(t){200==t.head.state?this.model.ZD48(t.body):App.CM.apF(O6.B87,L10.A4,t)},t.prototype.GS61=function(t){200==t.head.state?this.model.ZD48(t.body):App.CM.apF(O6.B87,L10.A4,t)},t.prototype.GS62=function(t){200==t.head.state?(P5.sIs(t.body.ob),this.model.ZD48(t.body)):App.CM.apF(O6.B87,L10.A4,t)},t.prototype.GU42=function(t){200==t.head.state?this.model.ZD48(t.body):App.CM.apF(O6.B87,L10.A4,t)},t.prototype.GX43=function(t){if(200==t.head.state){var e=App.VM.gOV(O7.B99);e&&e.searchReset(),this.model.ZD48(t.body)}else App.CM.apF(O6.B87,L10.A4,t)},t.prototype.GS63=function(t){var e=this;if(200==t.head.state)if(t.body.cd_)P7.fightCoolingCD(t.body.cd_);else{this.model.ZD48(t.body);var i=P7.isGetView(O7.B99);t.body.frst&&App.CM.apF(O6.B99,N1.A11,t.body.frst,{rewards:t.body.ob,needResult:!0,type:P15.A46,isAuto:i},function(){e.GT93(O7.B99)},this)}else App.CM.apF(O6.B87,L10.A4,t)},t.prototype.GQ63=function(t){200==t.head.state?this.model.ZD48(t.body):App.CM.apF(O6.B87,L10.A4,t)},t.prototype.GQ64=function(t){200==t.head.state?this.model.ZD48(t.body):App.CM.apF(O6.B87,L10.A4,t)},t.prototype.GV95=function(t){var e=this;if(200==t.head.state)if(t.body.cd_)P7.fightCoolingCD(t.body.cd_);else{this.model.ZD48(t.body);var i=P7.isGetView(O7.HH2);t.body.frst&&App.CM.apF(O6.B99,N1.A11,t.body.frst,{rewards:t.body.ob,needResult:!0,type:P15.A46,isAuto:i},function(){e.GT93()},this),P5.sIs(t.body.ob)}else App.CM.apF(O6.B87,L10.A4,t)},t.prototype.GU43=function(t){200==t.head.state?this.model.ZD48(t.body):App.CM.apF(O6.B87,L10.A4,t)},t.prototype.GQ65=function(t){200==t.head.state?this.model.ZD48(t.body):App.CM.apF(O6.B87,L10.A4,t)},t.prototype.GV96=function(t){200==t.head.state?this.model.ZD48(t.body):App.CM.apF(O6.B87,L10.A4,t)},t}(TE11);i.Controller=t,__reflect(t.prototype,"Cornucopia.Controller")}(Cornucopia||(Cornucopia={})),function(n){var t=function(i){function t(t){var e=i.call(this,t)||this;return e.redNum=0,e}return __extends(t,i),t.prototype.ZD48=function(t){t.as&&(this.rankList=t.as),t.me&&(this.myRankList=t.me),null!=this.data?this.data.update(t):this.data=new n.CornucopiaVo(t),this.notify()},t.prototype.updateRed=function(){this.redNum=this.hasSnatchDot()||this.hasCornucopiaDot()?1:0},t.prototype.isMission=function(t){if(this.data)for(var e=0,i=this.data.stvs;e<i.length;e++){if(i[e].partner===t)return!0}return!1},t.prototype.clearChallenge=function(){this.data&&this.data.lost<=0&&delete this.data.stl},t.prototype.canMission=function(t){if(this.data)if(null==t)for(var e=0,i=this.data.stvs;e<i.length;e++){var s=i[e];if(this.canMission(s.type))return!0}else if(!this.data.getInfoByType(t).partner)return!0;return!1},t.prototype.canUpgrade=function(t){if(this.data)if(null==t)for(var e=0,i=this.data.stvs;e<i.length;e++){var s=i[e];if(this.canUpgrade(s.type))return!0}else{var o=this.data.getInfoByType(t);if(n.Config.getBuildDataByLevel(t,o.lv+1)){var r=n.Config.getBuildDataByLevel(t,o.lv);if(N12.FL6(Reincarnate.Utils.str2kv(r.cost,",")))return!0}}return!1},t.prototype.canBuild=function(t){if(this.data)if(null==t)for(var e=0,i=this.data.stvs;e<i.length;e++){var s=i[e];if(this.canBuild(s.type))return!0}else if(this.data.getInfoByType(t).state===n.StoveState.READY)return!0;return!1},t.prototype.canGet=function(t){if(this.data)if(null==t)for(var e=0,i=this.data.stvs;e<i.length;e++){var s=i[e];if(this.canGet(s.type))return!0}else if(this.data.getInfoByType(t).state===n.StoveState.COMPLETE)return!0;return!1},t.prototype.hasCornucopiaDot=function(){var t=0;if(n.Config.isOpen()){this.data&&(t+=this.data.newRec);for(var e=0,i=this.data.stvs;e<i.length;e++){var s=i[e];t+=this.hasPageDot(s.type)?1:0}}return 0<t},t.prototype.hasSnatchDot=function(){if(n.Config.isOpen())return!!this.data&&0<this.data.challengeCount},t.prototype.hasPageDot=function(t){return this.canGet(t)||this.canBuild(t)||this.canMission(t)||this.canUpgrade(t)},t.prototype.FL35=function(){return this.updateRed(),this.redNum},t.prototype.notify=function(t){i.prototype.notifyView.call(this,this,t)},t}(TG79);n.Model=t,__reflect(t.prototype,"Cornucopia.Model")}(Cornucopia||(Cornucopia={})),function(s){var t=function(i){function t(t){var e=i.call(this,t)||this;return e.rSM(P4.X49,e.load_Res,e),e.rSM(P4.P5,e.startup_Res,e),e.rSM(P4.HH19,e.GU42,e),e.rSM(P4.Q80,e.GV93,e),e.rSM(P4.M81,e.GV94,e),e.rSM(P4.I93,e.GS61,e),e.rSM(P4.P7,e.GS62,e),e.rSM(P4.HH21,e.GS63,e),e.rSM(P4.M83,e.GX43,e),e.rSM(P4.K81,e.records_Res,e),e.rSM(P4.I94,e.newRec_Res,e),e.rSM(P4.K83,e.GV95,e),e.rSM(P4.K85,e.GU43,e),e.rSM(P4.M84,e.GQ65,e),e.rSM(P4.K86,e.ZN87,e),e.rSM(P4.S44,e.GV96,e),e}return __extends(t,i),t.prototype.load=function(){var t={type:P4.X48,body:{}};this.sSM(t)},t.prototype.load_Res=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.apF.apply(this,[s.Const.LOAD_RES].concat(t))},t.prototype.GU42=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.apF.apply(this,[s.Const.COMPLETE_RES].concat(t))},t.prototype.startup=function(t){this.sSM({type:P4.P4,body:{type:t}})},t.prototype.startup_Res=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.apF.apply(this,[s.Const.START_RES].concat(t))},t.prototype.upgrade=function(t){this.sSM({type:P4.Q79,body:{type:t}})},t.prototype.GV93=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.apF.apply(this,[s.Const.UPGRADE_RES].concat(t))},t.prototype.mission=function(t,e){this.sSM({type:P4.M80,body:{type:t,pid:e}})},t.prototype.GV94=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.apF.apply(this,[s.Const.MISSION_RES].concat(t))},t.prototype.demission=function(t){this.sSM({type:P4.I92,body:{type:t}})},t.prototype.GS61=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.apF.apply(this,[s.Const.DEMISSION_RES].concat(t))},t.prototype.FL67=function(t){this.sSM({type:P4.P6,body:{type:t}})},t.prototype.GS62=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.apF.apply(this,[s.Const.GET_REWARD_RES].concat(t))},t.prototype.search=function(){this.sSM({type:P4.M82,body:{}})},t.prototype.GX43=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.apF.apply(this,[s.Const.SEARCH_RES].concat(t))},t.prototype.challenge=function(){this.sSM({type:P4.HH20,body:{}})},t.prototype.GS63=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.apF.apply(this,[s.Const.CHALLENGE_RES].concat(t))},t.prototype.loadRecord=function(){this.sSM({type:P4.K80,body:{}})},t.prototype.records_Res=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.apF.apply(this,[s.Const.LOAD_RECORDS_RES].concat(t))},t.prototype.newRec_Res=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.apF.apply(this,[s.Const.LOAD_RECORDS_PUSH_RES].concat(t))},t.prototype.revenge=function(t){this.sSM({type:P4.K82,body:{id:t}})},t.prototype.GV95=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.apF.apply(this,[s.Const.REVENGE_RES].concat(t))},t.prototype.buyTimes=function(){this.sSM({type:P4.K84,body:{}})},t.prototype.GU43=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.apF.apply(this,[s.Const.SNATCH_BUY_TIMES_RES].concat(t))},t.prototype.GQ65=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.apF.apply(this,[s.Const.DAILY_RESET_PUSH].concat(t))},t.prototype.ZN87=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.apF.apply(this,[s.Const.WEEKLY_RESET_PUSH].concat(t))},t.prototype.rankLoad=function(t){this.sSM({type:P4.S43,body:t})},t.prototype.GV96=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.apF.apply(this,[s.Const.RANK_LOAD_RES].concat(t))},t}(TG80);s.Proxy=t,__reflect(t.prototype,"Cornucopia.Proxy")}(Cornucopia||(Cornucopia={})),function(t){var e=function(){function t(){}return t.str2map=function(t,e,o){void 0===e&&(e=","),void 0===o&&(o=":");var r={};return t&&t.split(e).forEach(function(t){var e=t.split(o),i=e[0],s=e[1];r[i]=parseFloat(s)}),r},t.FK53=function(){var t=App.CM.gtM(O6.B3),e=App.CM.gtM(O6.B32);return 0<t.FL35()||0<e.FL35()},t}();t.Utils=e,__reflect(e.prototype,"Cornucopia.Utils")}(Cornucopia||(Cornucopia={}));var CornucopiaBaseMain=function(s){function t(t,e){var i=s.call(this,t,e)||this;return TE40.FL37()?i.set(O7.D58,O3.tr(6156)).rgS(O7.HH75,"FaBaoDrawView",O3.tr(6465)).rgS(O7.HH2,"CornucopiaView",O3.tr(6157),Cornucopia.Config.openLv).rgS(O7.B99,"CornucopiaSnatchView",O3.tr(6158),Cornucopia.Config.openLv):i.set(O7.D58,O3.tr(6156)).rgS(O7.HH2,"CornucopiaView",O3.tr(6157),Cornucopia.Config.openLv).rgS(O7.B99,"CornucopiaSnatchView",O3.tr(6158),Cornucopia.Config.openLv),i}return __extends(t,s),t.prototype.openHelpView=function(){0==this.index&&App.CM.apF(O6.B32,HH15.A8)},t.prototype.updateDot=function(t,e){var i=App.CM.gtM(O6.B3),s=App.CM.gtM(O6.B32);switch(e){case O7.HH2:return i.hasCornucopiaDot();case O7.B99:return i.hasSnatchDot();case O7.HH75:return this.btnList.ZM68(O7.HH75,this.isOpenTh()),!!s.FL35()}return!1},t.prototype.canOpen=function(t){return t!==O7.HH2&&t!==O7.B99||Cornucopia.Config.isOpen()?!(t===O7.HH75&&!TE40.FL37())||(P18.sDP(O3.tr(5055,TD66.FE59("openDay"))),!1):(P18.sDP(O3.tr(5055,Cornucopia.Config.openLv)),!1)},t.prototype.isOpenTh=function(){var t=App.CM.gtM(O6.A41);return t.openState?t.actData.ZU21(1):0},t}(BasePanelViewX);__reflect(CornucopiaBaseMain.prototype,"CornucopiaBaseMain");var CornucopiaBuyTimesView=function(s){function t(t,e){var i=s.call(this,t,e)||this;return i.skinName="CornucopiaBuyTimesTipSkin",i}return __extends(t,s),t.prototype.initUI=function(){s.prototype.initUI.call(this),this.lbStr1.text=O3.tr(6409),this.btnOk.label=O3.tr(6408)},t.prototype.GX5=function(t){for(var e in t=t||App.CM.gtM(O6.B3),Cornucopia.Config.treasureCost){var i=Cornucopia.Config.treasureCost[e];P16.FL31(this.gConsume,parseInt(e),i,{shortStr:!0});for(var s=O4.getVipLv(),o=Cornucopia.Config.getCanBuyTimes(s),r=s,n=s;n<K18.FL39();n++){if(o<Cornucopia.Config.getCanBuyTimes(n)){r=n;break}}var a=O3.tr(6181,i,t.data.canBuyTimes,o),h=s<r?O3.tr(6182,r,Cornucopia.Config.getCanBuyTimes(r)-o):"";this.msg.textFlow=M18.FG71("$0\n$1",a,h)}},t.prototype.open=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.bgMask.addEventListener(egret.TouchEvent.TOUCH_TAP,this.oCC,this),this.backBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.oCC,this),this.btnClose.addEventListener(egret.TouchEvent.TOUCH_TAP,this.oCC,this),this.btnOk.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickOk,this),s.prototype.open.apply(this,t),this.GX5()},t.prototype.close=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.btnOk.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickOk,this),this.bgMask.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.oCC,this),this.backBtn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.oCC,this),this.btnClose.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.oCC,this),s.prototype.close.apply(this,t)},t.prototype.oCC=function(){App.VM.GY64(this)},t.prototype.onClickOk=function(){App.CM.apF(O6.B3,Cornucopia.Const.SNATCH_BUY_TIMES_REQ),this.oCC()},t}(BaseEuiView);__reflect(CornucopiaBuyTimesView.prototype,"CornucopiaBuyTimesView");var CornucopiaDispatchView=function(s){function t(t,e){var i=s.call(this,t,e)||this;return i.skinName="CornucopiaDispatchSkin",i}return __extends(t,s),t.prototype.initUI=function(){s.prototype.initUI.call(this),this.backBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.oCC,this),this.closeBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.oCC,this),this.btnMission.addEventListener(egret.TouchEvent.TOUCH_TAP,this.ZR60,this),this.list=new CommonListBase({render:CornucopiaMissionItemView,gap:10,width:this.content.width,height:this.content.height}),this.content.addChild(this.list),this.title.text=O3.tr(6170),this.btnMission.label=O3.tr(6189)},t.prototype.uBM=function(t){t instanceof Cornucopia.Model&&this.GX5(t)},t.prototype.GX5=function(t){t=t||App.CM.gtM(O6.B3);var e=App.CM.gtM(O6.C3),i={};for(var s in M11.base){var o=M11.base[s],r=o.name,n=o.id,a=o.icon,h=o.quality,p=o.sort;i[h]||(i[h]=[]),i[h].push({sort:p,name:r,id:n,icon:a,quality:h,tag:t.isMission(n),select:n===t.selectPartnerId,gray:!e.getWomenData(n)})}this.list.rfL(Object.keys(i).sort(function(t,e){return parseInt(e)-parseInt(t)}).map(function(t){return{list:i[t].sort(function(t,e){return(t.gray?0:-255)+t.sort-((e.gray?0:-255)+e.sort)}),quality:parseInt(t)}}))},t.prototype.open=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];s.prototype.open.apply(this,[t].concat(e)),this.type=t,this.GX5(),this.list.open()},t.prototype.close=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.backBtn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.oCC,this),this.closeBtn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.oCC,this),this.btnMission.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.ZR60,this),this.list.close(),s.prototype.close.apply(this,t)},t.prototype.oCC=function(){this.aCF(O6.B3,Cornucopia.Const.CloseMissionView)},t.prototype.ZR60=function(){this.type&&this.aCF(O6.B3,Cornucopia.Const.Mission,this.type),this.oCC()},t}(BaseEuiView);__reflect(CornucopiaDispatchView.prototype,"CornucopiaDispatchView");var CornucopiaHeadView=function(a){function t(){var t=a.call(this)||this;return t.addEventListener(egret.Event.REMOVED_FROM_STAGE,t.close,t),t.skinName="CornucopiaHeadSkin",t}return __extends(t,a),t.prototype.close=function(){this.removeEventListener(egret.Event.REMOVED_FROM_STAGE,this.close,this),this.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClick,this)},t.prototype.childrenCreated=function(){a.prototype.childrenCreated.call(this),this.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClick,this)},t.prototype.dataChanged=function(){a.prototype.dataChanged.call(this);var t=this.data,e=t.quality,i=t.name,s=t.icon,o=t.select,r=t.tag,n=t.gray;P7.FM14()?this.labName.visible=!1:(this.labName.visible=!0,O5.FB13(this.labName,i,e)),this.imgBg.source=N12.getBox(e),this.imgIcon.source=s,this.imgSelect.visible=!!o,this.imgTag.visible=!!r,P16.sGF(this.imgIcon,!!n)},t.prototype.onClick=function(t){this.data.gray||this.data.tag||this.data.select||App.CM.apF(O6.B3,Cornucopia.Const.SelectPartner,this.data.id)},t}(eui.ItemRenderer);__reflect(CornucopiaHeadView.prototype,"CornucopiaHeadView");var CornucopiaMissionItemView=function(e){function t(){var t=e.call(this)||this;return t.addEventListener(egret.Event.REMOVED_FROM_STAGE,t.close,t),t.skinName="CornucopiaDispatchItemSkin",t}return __extends(t,e),t.prototype.close=function(){this.dataSource.removeAll()},t.prototype.childrenCreated=function(){e.prototype.childrenCreated.call(this),this.dataSource=new eui.ArrayCollection,this.listHead.dataProvider=this.dataSource,this.listHead.itemRenderer=CornucopiaHeadView},t.prototype.dataChanged=function(){e.prototype.dataChanged.call(this),this.dataSource.source=this.data.list;var t=Cornucopia.Config.partnerTimes[this.data.quality]||0;this.lab.textFlow=O3.tr2(6173,O5.FB14(this.data.quality),100*t)},t}(eui.ItemRenderer);__reflect(CornucopiaMissionItemView.prototype,"CornucopiaMissionItemView");var CornucopiaMissionTipView=function(n){function t(t,e){var i=n.call(this,t,e)||this;return i.skinName="TipDialogSkin",i}return __extends(t,n),t.prototype.initUI=function(){n.prototype.initUI.call(this),this.lbStr1.textFlow=M18.HTP.parse(O3.tr(5352)),this.btnConfirm.label=O3.tr(5355),this.btnCancel.label=O3.tr(5356)},t.prototype.open=function(t,e,i,s,o,r){void 0===i&&(i=void 0),void 0===s&&(s=void 0),void 0===o&&(o=void 0),void 0===r&&(r=void 0),n.prototype.open.call(this),this.msg.textFlow=t,this._methodObj=e,this._confirmHandel=i,this._confirmParam=s,this._cancelHandel=o,this._cancelParam=r,this.bgMask.addEventListener(egret.TouchEvent.TOUCH_TAP,this.doCancel,this),this.btnClose.addEventListener(egret.TouchEvent.TOUCH_TAP,this.doCancel,this),this.btnConfirm.addEventListener(egret.TouchEvent.TOUCH_TAP,this.doConfirm,this),this.btnCancel.addEventListener(egret.TouchEvent.TOUCH_TAP,this.doCancel,this)},t.prototype.close=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];n.prototype.close.call(this),this.bgMask.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.doCancel,this),this.btnClose.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.doCancel,this),this.btnConfirm.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.doConfirm,this),this.btnCancel.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.doCancel,this),this._methodObj=null,this._confirmHandel=null,this._confirmParam=null,this._cancelHandel=null,this._cancelParam=null},t.prototype.doConfirm=function(){if(this._confirmHandel){if(!this._confirmParam||0==this._confirmParam.length)return this._confirmHandel.call(this._methodObj),void this.closeSelf();var t;(t=this._confirmHandel).call.apply(t,[this._methodObj].concat(this._confirmParam)),this.closeSelf()}else this.closeSelf()},t.prototype.doCancel=function(t){var e=this._cancelParam||[];if(t.target===this.btnClose?e.unshift("close"):t.target===this.btnCancel&&e.unshift("cancel"),this._cancelHandel){if(!e||0==e.length)return this._cancelHandel.call(this._methodObj),void this.closeSelf();var i;(i=this._cancelHandel).call.apply(i,[this._methodObj].concat(e)),this.closeSelf()}else this.closeSelf()},t.prototype.closeSelf=function(){App.VM.GY64(this)},t}(BaseEuiView);__reflect(CornucopiaMissionTipView.prototype,"CornucopiaMissionTipView");var CornucopiaRankIconItemView=function(e){function t(){var t=e.call(this)||this;return t.skinName="CornucopiaRankIconItemSkin",t}return __extends(t,e),t.prototype.dataChanged=function(){this.data&&(this.setIcon(),this.setScale(),this.setCount(),this.setEffect())},t}(ItemIconBase);__reflect(CornucopiaRankIconItemView.prototype,"CornucopiaRankIconItemView");var CornucopiaRankItemView=function(e){function t(){var t=e.call(this)||this;return t.skinName="CornucopiaRankItemSkin",t.addEventListener(egret.Event.REMOVED_FROM_STAGE,t.remove,t),t}return __extends(t,e),t.prototype.childrenCreated=function(){e.prototype.childrenCreated.call(this),this.dgReward.dataProvider=this.dataSource=new eui.ArrayCollection,this.dgReward.itemRenderer=CornucopiaRankIconItemView},t.prototype.remove=function(){this.removeEventListener(egret.Event.REMOVED_FROM_STAGE,this.remove,this),this.dataSource.removeAll()},t.prototype.dataChanged=function(){e.prototype.dataChanged.call(this),this.imgBg.source=this.itemIndex%2==0?"v1_img_kelashen_paihang_png":"v1_bg_kelashen01_png",this.data&&(this.labName.text=this.data.n,this.labScore.text=this.data.jbp.toString(),this.labRank.text=this.data.r.toString(),this.dataSource.source=Cornucopia.Config.FG83(this.data.r).map(function(t){return{itemData:{data:N12.gID(t.k),ct:t.v},isBottom:!1,scale:.6}}))},t}(eui.ItemRenderer);__reflect(CornucopiaRankItemView.prototype,"CornucopiaRankItemView");var CornucopiaRankView=function(s){function t(t,e){var i=s.call(this,t,e)||this;return i.num=100,i.listData=[],i.pageSize=20,i.index=1,i.skinName="CornucopiaRankSkin",i}return __extends(t,s),t.prototype.ZU17=function(){var t={currPage:this.index,size:this.pageSize};App.CM.apF(O6.B3,Cornucopia.Const.RANK_LOAD_REQ,t)},t.prototype.initUI=function(){s.prototype.initUI.call(this),this.bgMask.addEventListener(egret.TouchEvent.TOUCH_TAP,this.oCC,this),this.backBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.oCC,this),this.closeBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.oCC,this),this.num=TG75.rank[32].count,this.listView=new CommonListBase({render:CornucopiaRankItemView,gap:0,width:this.gList.width,height:this.gList.height,arrowScale:1}),this.gList.addChild(this.listView),this.labTr7161.textFlow=O3.tr2(7161),this.labTr6174.textFlow=O3.tr2(6641),this.labTr6175.textFlow=O3.tr2(6642),this.labTr6176.textFlow=O3.tr2(6643),this.labTr6177.textFlow=O3.tr2(6644),this.title.text=O3.tr(6645)},t.prototype.open=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];s.prototype.open.apply(this,t),this.listView.open(),this.listView.scContent.addEventListener(eui.UIEvent.CHANGE_END,this.onChangeEnd,this),this.listView.downArrow.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onChangeEnd,this),this.ZU17()},t.prototype.close=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.bgMask.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.oCC,this),this.backBtn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.oCC,this),this.closeBtn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.oCC,this),this.listView.scContent.removeEventListener(eui.UIEvent.CHANGE_END,this.onChangeEnd,this),this.listView.downArrow.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onChangeEnd,this),this.listView.close(),s.prototype.close.apply(this,t)},t.prototype.onChangeEnd=function(){var t=this.listView.itemList.scrollV;(!this.listView.downArrow.visible||t>=this.listView.itemList.contentHeight-this.listView.itemList.height)&&this.ZU17()},t.prototype.uBM=function(t,e){s.prototype.uBM.call(this,t),t instanceof Cornucopia.Model&&(this.ZHH63(t),this.updateInfo(t))},t.prototype.ZHH63=function(t){var e=this;t.rankList.length&&(t.rankList.length===this.pageSize&&(this.index=Math.ceil(t.rankList[0].r/this.pageSize)+1),t.rankList.forEach(function(t){return e.listData[t.r-1]=t})),this.listView.rfL(this.listData)},t.prototype.oCC=function(){this.aCF(O6.B3,Cornucopia.Const.CloseRankView)},t.prototype.updateInfo=function(t){var e=O3.tr(713),i=t?t.data.jbp:0;t.myRankList&&t.myRankList.r<=this.num&&(e=t.myRankList.r.toString()),this.labRank.textFlow=O3.tr2(6178,e),this.labScore.textFlow=O3.tr2(6179,i)},t}(BaseEuiView);__reflect(CornucopiaRankView.prototype,"CornucopiaRankView");var CornucopiaRecordItemView=function(e){function t(){var t=e.call(this)||this;return t.skinName="CornucopiaRecordItemSkin",t.addEventListener(egret.Event.REMOVED_FROM_STAGE,t.close,t),t}return __extends(t,e),t.prototype.childrenCreated=function(){e.prototype.childrenCreated.call(this),this.btn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickAtk,this)},t.prototype.dataChanged=function(){e.prototype.dataChanged.call(this),this.labTime.text=P6.format(this.data.time,"yyyy-MM-dd hh:mm:ss"),this.btn.label=O3.tr(6730),this.btn.visible=!this.data.isAvg,this.labName.textFlow=O3.tr2(6168,this.data.name,O3.tr(6157))},t.prototype.close=function(){this.removeEventListener(egret.Event.REMOVED_FROM_STAGE,this.close,this),this.btn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickAtk,this),delete this.data},t.prototype.onClickAtk=function(){App.VM.open(O7.A45,this.data)},t}(eui.ItemRenderer);__reflect(CornucopiaRecordItemView.prototype,"CornucopiaRecordItemView");var CornucopiaRecordView=function(s){function t(t,e){var i=s.call(this,t,e)||this;return i.skinName="CornucopiaRecordSkin",i}return __extends(t,s),t.prototype.initUI=function(){s.prototype.initUI.call(this),this.list=new CommonListBase({render:CornucopiaRecordItemView,gap:5,width:this.content.width,height:this.content.height}),this.content.addChild(this.list),this.title.text=O3.tr(6169)},Object.defineProperty(t.prototype,"model",{get:function(){return App.CM.gtM(O6.B3)},enumerable:!0,configurable:!0}),t.prototype.uBM=function(t){t instanceof Cornucopia.Model&&this.GX5(t)},t.prototype.GX5=function(t){t=t||this.model,this.list.rfL(t.data.rcds)},t.prototype.load=function(){App.CM.apF(O6.B3,Cornucopia.Const.LOAD_RECORDS_REQ)},t.prototype.open=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.bgMask.addEventListener(egret.TouchEvent.TOUCH_TAP,this.oCC,this),this.backBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.oCC,this),this.closeBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.oCC,this),s.prototype.open.apply(this,t),this.list.open(),this.load()},t.prototype.close=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.list.close(),s.prototype.close.apply(this,t)},t.prototype.oCC=function(){this.aCF(O6.B3,Cornucopia.Const.CloseRecordView)},t}(BaseEuiView);__reflect(CornucopiaRecordView.prototype,"CornucopiaRecordView");var CornucopiaRevengeView=function(s){function t(t,e){var i=s.call(this,t,e)||this;return i.skinName="CornucopiaRevengeTipSkin",i}return __extends(t,s),t.prototype.initUI=function(){this.labTr6172.textFlow=O3.tr2(6172),this.labTr6183.textFlow=O3.tr2(6183),this.labTr6184.textFlow=O3.tr2(6184),this.labTr6185.textFlow=O3.tr2(6175),this.labTr6186.textFlow=O3.tr2(6176),this.btnAtk.label=O3.tr(4386)},t.prototype.open=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];this.bgMask.addEventListener(egret.TouchEvent.TOUCH_TAP,this.oCC,this),this.backBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.oCC,this),this.btnClose.addEventListener(egret.TouchEvent.TOUCH_TAP,this.oCC,this),this.btnAtk.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickAtk,this),this.dataSource=new eui.ArrayCollection,this.dgReward.dataProvider=this.dataSource,this.dgReward.itemRenderer=ItemIcon,s.prototype.open.apply(this,e),this.data=t,this.GX5()},t.prototype.GX5=function(){this.lbName.text=this.data.name,this.lbScore.text=this.data.score.toString(),this.lbLname.text=this.data.lname,this.dataSource.source=this.data.reward.map(function(t){return{itemData:{data:N12.gID(t.k),ct:t.v},isBottom:!1}})},t.prototype.close=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.btnAtk.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickAtk,this),this.bgMask.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.oCC,this),this.backBtn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.oCC,this),this.btnClose.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.oCC,this),this.dataSource.removeAll(),s.prototype.close.apply(this,t)},t.prototype.oCC=function(){App.VM.GY64(this)},t.prototype.onClickAtk=function(){App.CM.apF(O6.B3,Cornucopia.Const.REVENGE_REQ,this.data.id),this.oCC()},t}(BaseEuiView);__reflect(CornucopiaRevengeView.prototype,"CornucopiaRevengeView");var CornucopiaSnatchView=function(s){function t(t,e){var i=s.call(this,t,e)||this;return i.last=0,i.skinName="CornucopiaSnatchSkin",i}return __extends(t,s),t.prototype.initUI=function(){s.prototype.initUI.call(this),this.btnAtk.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickAtk,this),this.btnCheck.addEventListener(egret.TouchEvent.TOUCH_TAP,this.ZV48,this),this.btnRecheck.addEventListener(egret.TouchEvent.TOUCH_TAP,this.ZV48,this),this.labBuy.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickBuy,this),this.dataSource=new eui.ArrayCollection,this.dgReward.dataProvider=this.dataSource,this.dgReward.itemRenderer=ItemIcon,this.labTr6160.textFlow=O3.tr2(6160),this.labTr6161.textFlow=O3.tr2(6161),this.labTr6163.textFlow=O3.tr2(6163),this.labTr6166.textFlow=O3.tr2(6166),this.labBuy.textFlow=O3.tr2(6165),this.searchReset()},t.prototype.open=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];s.prototype.open.apply(this,t);var i=this.model;this.GX5(i),this.updateReward(i),this.updateAvatar(i),this.GX42()},t.prototype.close=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.dataSource.removeAll(),App.K16.removeAll(this),s.prototype.close.apply(this,t)},t.prototype.uBM=function(t){t instanceof Cornucopia.Model&&(this.GX5(t),this.updateReward(t),this.updateAvatar(t))},Object.defineProperty(t.prototype,"model",{get:function(){return App.CM.gtM(O6.B3)},enumerable:!0,configurable:!0}),t.prototype.GY15=function(t){this.gPos.removeChildren(),this.objModel&&this.objModel.destory();var e={x:0,y:0,dir:Dir.br,objType:P13.A6};this.objModel=new FightGameObject,this.objModel.action=Action.Stand,this.objModel.setBaseData(e),t.bt=BehaviourType.Stand_d,this.objModel.setData(t,this.gPos)},t.prototype.updateAvatar=function(t){0<(t=t||this.model).data.lost&&t.data.stl&&this.GY15(t.data.stl.u)},t.prototype.GX5=function(t){0<(t=t||this.model).data.lost?(this.ZN88("checked"),t.data.stl&&(this.labPower.text=t.data.stl.score.toString(),this.labTitle.text=O3.tr(6157)+" Lv."+t.data.stl.jbLv,this.labName.text=t.data.stl.sname+"."+t.data.stl.name)):this.ZN88("normal"),this.labCount.textFlow=O3.tr2(6164,t.data.challengeCount,t.data.challengeCountTotal);var e=Cornucopia.Config.getSearchCost(t.data.searchNum+1);this.labTr6166.visible=0===e.length,this.gConsume.visible=!this.labTr6166.visible,e.length&&P16.FL31(this.gConsume,e[0].k,e[0].v,{shortStr:!0})},t.prototype.GX42=function(){this.timer||(this.timer=App.K16.doTimer(1e3,0,this.GX42,this));var t=this.model,e=t.data.lost;if(0<e)this.labTime.textFlow=O3.tr2(6167,P6.FJ11(1e3*t.data.lost,1));else if(0<this.last){var i=this.model;i.clearChallenge(),this.GX5(i)}this.last=e},t.prototype.updateReward=function(t){if(t=t||this.model,this.dataSource.source=[],t.data.stl){var e=t.data.stl,i=e.jbType,s=e.jbLv,o=Cornucopia.Config.getBuildDataByLevel(i,s);o&&(this.dataSource.source=Reincarnate.Utils.str2kv(o.plunder1,";").map(function(t){return{itemData:{data:N12.gID(t.k),ct:t.v},isBottom:!1}}))}},t.prototype.ZN88=function(t){this.currentState=t,this.validateNow(),this.btnCheck.label=O3.tr(6430),this.btnRecheck.label=O3.tr(6429),this.btnAtk.label=O3.tr(6428)},t.prototype.onClickAtk=function(){var t=this;if(this.model.data.challengeCount<=0)App.VM.open(O7.HH38,O3.tr2(6190),this,function(){return t.onClickBuy()});else this.aCF(O6.B3,Cornucopia.Const.CHALLENGE_REQ)},t.prototype.searchReset=function(){this.btnCheck.touchEnabled=this.btnRecheck.touchEnabled=!0,P16.sGF(this.btnCheck,!1),P16.sGF(this.btnRecheck,!1)},t.prototype.applySearch=function(){App.K16.doTimer(2e3,1,this.searchReset,this),this.btnCheck.touchEnabled=this.btnRecheck.touchEnabled=!1,P16.sGF(this.btnCheck,!this.btnCheck.touchEnabled),P16.sGF(this.btnRecheck,!this.btnRecheck.touchEnabled),this.aCF(O6.B3,Cornucopia.Const.SEARCH_REQ)},t.prototype.ZV48=function(){var t=this,e=this.model,i=Cornucopia.Config.getSearchCost(e.data.searchNum+1);if(N12.FL6(i))this.applySearch();else{App.VM.open(O7.HH38,O3.tr2(1603),this,function(){return t.applySearch()})}},t.prototype.onClickBuy=function(){App.VM.open(O7.A98)},t}(BaseEuiView);__reflect(CornucopiaSnatchView.prototype,"CornucopiaSnatchView");var Cornucopia,CornucopiaView=function(s){function t(t,e){var i=s.call(this,t,e)||this;return i.index=0,i.max=1,i.isUpgrade=!1,i.skinName="CornucopiaSkin",i.sGN("release_comucopia"),i}return __extends(t,s),t.prototype.initUI=function(){s.prototype.initUI.call(this),this.btnRank.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickRank,this),this.btnRecord.addEventListener(egret.TouchEvent.TOUCH_TAP,this.ZU49,this),this.btnLeft.addEventListener(egret.TouchEvent.TOUCH_TAP,this.ZN89,this),this.btnRight.addEventListener(egret.TouchEvent.TOUCH_TAP,this.ZN89,this),this.btnUpgrade.addEventListener(egret.TouchEvent.TOUCH_TAP,this.ZK91,this),this.btnStartup.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickStart,this),this.btn1.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClick1,this),this.btn2.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClick2,this),this.gIcon.addEventListener(egret.TouchEvent.TOUCH_TAP,this.ZR60,this),this.iconUp.addEventListener(egret.TouchEvent.TOUCH_TAP,this.ZW6,this),this.iconUp2.addEventListener(egret.TouchEvent.TOUCH_TAP,this.ZW6,this),this.dataSource=new eui.ArrayCollection,this.dgReward.dataProvider=this.dataSource,this.dgReward.itemRenderer=ItemIcon,this.labTr6150.textFlow=O3.tr2(6150),this.labTr6155.textFlow=O3.tr2(6155),this.btnUpgrade.label=O3.tr(6424);var t=new egret.Shape;(this.imgIcon.mask=t).graphics.beginFill(255),t.graphics.drawCircle(this.gIcon.width/2,this.gIcon.height/2,this.gIcon.width/2),t.graphics.endFill(),this.imgIcon.parent.addChild(t);var e=this.model;this.max=e.data.stvs.length,this.initDots(),this.switch(0),this.ZW5()},t.prototype.initDots=function(){for(var t=0;t<this.max;t++){var e=new eui.Image("v1_img_qyd_fkzf_png");this.gDots.addChild(e)}},t.prototype.open=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];s.prototype.open.apply(this,t);var i=this.model;this.GX5(i),this.GX42()},t.prototype.close=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];App.THH32.rEf(this.gStove,"wdsg_jbp_dl1_001"),this.dataSource.removeAll(),App.K16.removeAll(this),this.btnRank.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickRank,this),this.btnRecord.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.ZU49,this),this.btnLeft.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.ZN89,this),this.btnRight.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.ZN89,this),this.btnUpgrade.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.ZK91,this),this.btnStartup.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickStart,this),this.btn1.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClick1,this),this.btn2.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClick2,this),this.gIcon.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.ZR60,this),this.iconUp.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.ZW6,this),this.iconUp2.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.ZW6,this),s.prototype.close.apply(this,t)},t.prototype.uBM=function(t){t instanceof Cornucopia.Model&&(this.GX5(t),this.updateReward(t),this.ZU99(t),this.ZW5())},Object.defineProperty(t.prototype,"model",{get:function(){return App.CM.gtM(O6.B3)},enumerable:!0,configurable:!0}),t.prototype.ZB34=function(t){return(t=t||this.model).data.stvs[this.index]},t.prototype.GX5=function(t){var e=(t=t||this.model).data?t.data.newRec:0;P7.FD53(this.btnRecord,e),t=t||this.model;var i=this.ZB34(t);if(this.btn1.imgNew.visible=this.btn2.imgNew.visible=!1,this.isUpgrade)this.ZN88("upgrade"),this.btn1.imgNew.visible=t.canUpgrade(this.type),this.labTr6153.textFlow=O3.tr2(6202),this.btn2.visible=!0,this.btn2.imgNew.visible=!1,this.lab0.text=O3.tr(6159);else{switch(App.THH32.rEf(this.gStove,"wdsg_jbp_dl1_001"),i.state){case Cornucopia.StoveState.RUNNING:App.THH32.aUE(this.gStove,"wdsg_jbp_dl1_001",this.gStove.width/2,this.gStove.height/2);case Cornucopia.StoveState.COMPLETE:this.ZN88("running");break;case Cornucopia.StoveState.READY:default:this.ZN88("normal")}var s=Cornucopia.Config.getBuildDataByLevel(this.type,i.lv);s&&(this.lab0.text=s.name+" Lv."+i.lv),this.labTr6153.textFlow=O3.tr2(6153),this.btn2.visible=t.canGet(this.type),this.btn2.imgNew.visible=this.btn2.visible}this.btnRecord.imgNew.visible=0<t.data.newRec,this.btnStartup.imgNew.visible=t.canBuild(this.type),this.btnUpgrade.imgNew.visible=this.btn1.imgNew.visible||t.canUpgrade(this.type),this.imgPartnerNew.visible=t.canMission(this.type),this.updateHead(t)},t.prototype.updateHead=function(t){t=t||this.model;var e=this.ZB34(t);if(this.labTr6150.visible=!e.partner,this.imgIcon.visible=this.labWomen.visible=!this.labTr6150.visible,e.partner){var i=M11.getWomen(e.partner),s=i.icon,o=i.name,r=i.quality;this.imgIcon.source=s,this.labWomen.textFlow=O3.tr2(6154,"#"+O5.FB43(r),o,100*(Cornucopia.Config.partnerTimes[r]||0))}},t.prototype.ZU99=function(t){t=t||this.model;var e=this.ZB34(t);if(e){var i=!!Cornucopia.Config.getUpconsumeByLevel(e.type,e.lv+1);if(this.gComsume.visible=i){var s=Cornucopia.Config.getUpconsumeByLevel(e.type,e.lv);if(s&&0<s.length){var o=s[0];P16.FL31(this.gComsume,o.k,o.v,{shortStr:!0})}}var r=Cornucopia.Config.updateShow[this.type-1];if(r){var n=this.iconUp,a=this.iconUp2,h=Cornucopia.Config.getBuildDataByLevel(this.type,e.lv),p=Cornucopia.Config.getBuildDataByLevel(this.type,e.lv+1),l=N12.gID(parseInt(r));n.lbName.y=a.lbName.y=85,n.lbName.textColor=a.lbName.textColor=8667431,n.imgNameBg.visible=a.imgNameBg.visible=!1,n.imgIcon.source=a.imgIcon.source=l.icon,n.gpCt.visible=a.gpCt.visible=!0,n.lbCt.text=Cornucopia.Utils.str2map(h.yield,",")[r]||0,n.lbName.text="Lv."+e.lv,a.lbName.text="Lv."+(e.lv+1),n.name=a.name=r,a.visible=!!p,this.labMaxLv.visible=!a.visible,p&&(a.lbCt.text=Cornucopia.Utils.str2map(p.yield,",")[r]||0)}}},t.prototype.updateReward=function(t){t=t||this.model;var e=this.ZB34(t);if(e){this.dataSource.source=[];var i=Cornucopia.Config.getBuildDataByLevel(this.type,e.lv);i&&(this.dataSource.source=Reincarnate.Utils.str2kv(i.yield,";").map(function(t){return{itemData:{data:N12.gID(t.k),ct:t.v},isBottom:!1}}))}},t.prototype.ZW5=function(t){t=t||this.model,this.btnLeft.visible=0<this.index,this.btnRight.visible=this.index<this.max-1;for(var e=!1,i=!1,s=0;s<this.index;s++){var o=t.data.stvs[s];if(t.hasPageDot(o.type)){e=!0;break}}for(s=this.index+1;s<t.data.stvs.length;s++){o=t.data.stvs[s];if(t.hasPageDot(o.type)){i=!0;break}}this.btnLeft.imgNew.visible=e,this.btnRight.imgNew.visible=i},t.prototype.ZN88=function(t){switch(this.currentState=t,this.validateNow(),this.lab3.visible=!1,this.currentState){case"normal":this.btnStartup.label=O3.tr(6426);break;case"running":this.btn2.label=O3.tr(6427);break;case"upgrade":default:this.btn1.label=O3.tr(6424),this.btn2.label=O3.tr(6425)}},t.prototype.getCurrentState=function(){return s.prototype.getCurrentState.call(this)},t.prototype.switch=function(t){this.index=t,this.type=this.ZB34().type;for(var e=0;e<this.max;e++){this.gDots.getChildAt(e).source=e===this.index?"v1_img_qyxz_fkzf_png":"v1_img_qyd_fkzf_png"}Cornucopia.Config.jubaolu[this.index]&&(this.imgStove.source=Cornucopia.Config.jubaolu[this.index]),this.updateReward(),this.GX5()},t.prototype.turnpageBy=function(t){var e=this.index+t;0<=e&&e<this.max&&(this.switch(e),this.GX5()),this.ZW5()},t.prototype.GX42=function(){this.timer||(this.timer=App.K16.doTimer(1e3,0,this.GX42,this));var t=this.model,e=t.data.getInfoByType(this.type),i="";if(e.state===Cornucopia.StoveState.RUNNING){var s=t.data.FJ24(this.type);if(0<s&&(i+=O3.tr(6151,P6.FJ11(1e3*s,1)),e.partner)){var o=M11.getWomen(e.partner).quality;i+=O3.tr(6152,100*(Cornucopia.Config.partnerTimes[o]||0))}}i?this.labTime.textFlow=M18.FG71(i):this.labTime.text=""},t.prototype.ZU49=function(){this.aCF(O6.B3,Cornucopia.Const.OpenRecordView)},t.prototype.onClickRank=function(){this.aCF(O6.B3,Cornucopia.Const.OpenRankView)},t.prototype.ZN89=function(t){t.currentTarget===this.btnLeft?this.turnpageBy(-1):t.currentTarget===this.btnRight&&this.turnpageBy(1)},t.prototype.ZK91=function(){this.isUpgrade=!0,this.GX5(),this.ZU99()},t.prototype.onClickStart=function(){var e=this;if(this.ZB34().partner)this.aCF(O6.B3,Cornucopia.Const.START_REQ,this.type);else{var t=App.VM.open(O7.A44,O3.tr2(6188),this,function(){return e.aCF(O6.B3,Cornucopia.Const.START_REQ,e.type)},void 0,function(t){return"cancel"===t&&e.ZR60()},void 0);t&&(t.btnCancel.label=O3.tr(6189))}},t.prototype.onClick1=function(){this.isUpgrade&&this.aCF(O6.B3,Cornucopia.Const.UPGRADE_REQ,this.type)},t.prototype.onClick2=function(){this.isUpgrade?(this.isUpgrade=!1,this.GX5()):this.aCF(O6.B3,Cornucopia.Const.GET_REWARD_REQ,this.type)},t.prototype.ZR60=function(){this.ZB34().partner?this.aCF(O6.B3,Cornucopia.Const.DEMISSION_REQ,this.type):this.aCF(O6.B3,Cornucopia.Const.OpenMissionView,this.type)},t.prototype.ZW6=function(t){t.currentTarget&&t.currentTarget.name&&P5.FC75(N12.gID(t.currentTarget.name))},t}(BaseEuiView);__reflect(CornucopiaView.prototype,"CornucopiaView"),function(e){var t=function(){function t(){}return t.READY=0,t.RUNNING=1,t.COMPLETE=2,t}();e.StoveState=t,__reflect(t.prototype,"Cornucopia.StoveState");var i=function(){function t(t){this.stvs=[],this.rcds=[],this._lost=0,this.newRec=0,this.stealNum=0,this.buyNum=0,this.searchNum=0,this.jbp=0,this.stoveTimeDifference=[],this.challengeTimeDifference=0,this.update(t)}return t.prototype.update=function(t){if(this.stvs=t.stvs||this.stvs,t.stv)for(var e in this.stvs)if(this.stvs[e].type===t.stv.type){this.stvs[e]=t.stv,this.stoveTimeDifference[t.stv.type]=P6.getTime(!0);break}if(this.stl=t.stl||this.stl,this._lost=void 0!==t.lost?t.lost:this._lost,this.newRec=void 0!==t.newRec?t.newRec:this.newRec,this.stealNum=void 0!==t.stealNum?t.stealNum:this.stealNum,this.buyNum=void 0!==t.buyNum?t.buyNum:this.buyNum,this.searchNum=void 0!==t.searchNum?t.searchNum:this.searchNum,this.jbp=void 0!==t.jbp?t.jbp:this.jbp,this.rcds=t.rcds||this.rcds,void 0!==t.lost&&(this.challengeTimeDifference=P6.getTime(!0)),t.stvs)for(var i=0,s=t.stvs;i<s.length;i++){var o=s[i];this.stoveTimeDifference[o.type]=P6.getTime(!0)}},t.prototype.getInfoByType=function(t){for(var e=0,i=this.stvs;e<i.length;e++){var s=i[e];if(s.type===t)return s}},t.prototype.FJ24=function(t){var e=this.getInfoByType(t);return e?Math.max(e.cd-(P6.getTime(!0)-this.stoveTimeDifference[t]),0):-1},Object.defineProperty(t.prototype,"canBuyTimes",{get:function(){return e.Config.getCanBuyTimes(O4.getVipLv())-this.buyNum},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"challengeCountTotal",{get:function(){return e.Config.stealNum},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"challengeCount",{get:function(){return this.challengeCountTotal+this.buyNum-this.stealNum},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"lost",{get:function(){return Math.max(0,this._lost-(P6.getTime(!0)-this.challengeTimeDifference))},enumerable:!0,configurable:!0}),t}();e.CornucopiaVo=i,__reflect(i.prototype,"Cornucopia.CornucopiaVo")}(Cornucopia||(Cornucopia={}));var CrossBossCampUIView=function(o){function t(t,e){var i=o.call(this,t,e)||this;return i.skinName=CrossBossCampUISkin,i}return __extends(t,o),t.prototype.initData=function(){},t.prototype.initUI=function(){o.prototype.initUI.call(this),this.gpBg.touchEnabled=!1,this.playerData.dataProvider=this.myCollection=new eui.ArrayCollection,this.playerData.itemRenderer=CrossBossPlayerItem,this.lbStr1.textFlow=M18.HTP.parse(O3.tr(4318)),this.lbStr2.textFlow=M18.HTP.parse(O3.tr(4319)),this.btnLook.label=O3.tr(4320),this.cbAutoChallenge.label=O3.tr(4321),this.cbAutoLife.label=O3.tr(4322),this.cbShowMy.label=O3.tr(4323),this.timeText.textFlow=M18.HTP.parse(O3.tr(5792))},t.prototype.isSureClose=function(){var t=this;App.VM.open(O7.HH38,M18.HTP.parser(O3.tr(603)),this,function(){t.GV97(),App.CM.apF(O6.B16,G13.A44)},void 0)},t.prototype.open=function(){for(var i=this,t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];o.prototype.open.call(this);var s=App.CM.gtM(O6.B16);this.btnHelp.addEventListener(egret.TouchEvent.TOUCH_TAP,this.openHelpView,this),this.btnLook.addEventListener(egret.TouchEvent.TOUCH_TAP,this.ZN91,this),this.btnLeft.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickAlter,this),this.btnRight.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickAlter,this),this.btnBack.addEventListener(egret.TouchEvent.TOUCH_TAP,this.isSureClose,this),this.cbShowMy.addEventListener(egret.Event.CHANGE,this.ZW7,this),this.cbAutoChallenge.addEventListener(egret.Event.CHANGE,this.ZD83,this),this.cbShowMy.addEventListener(egret.Event.CHANGE,this.ZW7,this),this.cbAutoLife.addEventListener(egret.Event.CHANGE,this.ZN90,this),this.challHander||this.ZV86(s),App.DelayOptManager.ZE59(this,function(){var t=App.VM.gOV(O7.I85);if(t){var e=P7.FJ17();i.gpBg.bottom=e?t.chartGroup.height==ChatView.minHeig?240:490:t.chartGroup.height==ChatView.minHeig?360:490}}),this.updateBoss(s),this.updateCbBox(s),this.GV33(s),this.updateDpe(s)},t.prototype.updateCbBox=function(t){this.cbAutoLife.selected=t.isAutoLife,this.cbShowMy.selected=t.isShowMy,this.cbAutoChallenge.selected=t.isAutoChallenge},t.prototype.ZW7=function(){App.CM.gtM(O6.B16).isShowMy=this.cbShowMy.selected},t.prototype.ZD83=function(){var t=App.CM.gtM(O6.B16);t.isAutoChallenge=this.cbAutoChallenge.selected,t.notify(E6.A14)},t.prototype.ZN90=function(){var t=App.CM.gtM(O6.B16);this.cbAutoLife.selected?(this.cbAutoLife.selected=!1,this.onClickGo()):t.isAutoLife=this.cbAutoLife.selected},t.prototype.onClickGo=function(){var t=this,e=G9.liftPost,i={handler:function(){App.CM.gtM(O6.B16).isAutoLife=t.cbAutoLife.selected=!0},content:O3.tr(718,e.v)};App.VM.open(O7.C54,i)},t.prototype.onClickAlter=function(t){var e=this.src.viewport,i=1;e.scrollH&&(i=Math.ceil(e.scrollH/e.height)+1);var s=Math.ceil(this.myCollection.source.length/3);switch(t.target.name){case"-":1!==i&&this.choosePage(-1);break;case"+":i<s&&this.choosePage(1)}},t.prototype.choosePage=function(t){var e=this.src.viewport;e.scrollH+=e.width*t},t.prototype.ZV86=function(t){var e=this;switch(t.activityState){case 0:this.timeText.text=O3.tr(710);break;case 1:this.timeText.text=O3.tr(711);break;case 2:this.timeText.text=O3.tr(712)}e.lbTime.text=P6.FJ11(1e3*TE66.FJ24(),3),this.challHander=App.K16.doTimer(1e3,0,function(){e.lbTime.text=P6.FJ11(1e3*TE66.FJ24(),3)},this)},t.prototype.openHelpView=function(){var t={title:G9.gIV("tipsTitle"),content:G9.gIV("tipsTex")};App.CM.apF(O6.C18,O10.A24,t)},t.prototype.ZN91=function(){App.CM.apF(O6.B16,G13.A16)},t.prototype.GV33=function(t){var e=t.legRanking?t.legRanking+"":0,i=O3.tr(703,e);this.lbTeamRanKing.textFlow=M18.HTP.parser(i)},t.prototype.updateBoss=function(t){var e=t.bossHp;e&&(e.drhp?(this.grpShield.visible=!0,this.pbarShield.value=e.drhp,this.pbarShield.maximum=e.dthp,this.pbarShield.lbNum.text=(100*e.drhp/e.dthp).toFixed(2)+"%"):this.grpShield.visible=!1,this.pbarHp.value=e.rhp,this.pbarHp.maximum=e.thp)},t.prototype.updateDpe=function(t){var e=t.perRanking?t.perRanking+"":0,i=O3.tr(704,e);this.lbMyRanKing.textFlow=M18.HTP.parser(i);var s=[],o=P7.copyTab(t.perRankObjData);if(o)if(o.length<3){1<=o.length&&(s=P7.copyTab(o));for(r=0;r<3-o.length;r++)s.push({})}else s=o;else for(var r=0;r<3;r++)s.push({});this.myCollection.replaceAll(s)},t.prototype.uBM=function(t,e){if(o.prototype.uBM.call(this,t,e),t instanceof TE64)switch(e){case P4.HH1:this.GV33(t);break;case P4.HH3:this.updateDpe(t);break;case P4.T80:case P4.O71:this.updateBoss(t);break;case P4.T80:case P4.X39:this.GV97(),this.ZV86(t);break;case B19.A2:this.updateCbBox(t)}},t.prototype.GV97=function(){this.challHander&&(App.K16.rBH(this.challHander),this.challHander=null)},t.prototype.close=function(){o.prototype.close.call(this),this.btnHelp.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.openHelpView,this),this.btnLook.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.ZN91,this),this.btnLeft.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickAlter,this),this.btnRight.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickAlter,this),this.btnBack.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.isSureClose,this),this.cbShowMy.removeEventListener(egret.Event.CHANGE,this.ZW7,this),this.cbAutoChallenge.removeEventListener(egret.Event.CHANGE,this.ZD83,this),this.cbShowMy.removeEventListener(egret.Event.CHANGE,this.ZW7,this),this.cbAutoLife.removeEventListener(egret.Event.CHANGE,this.ZN90,this),App.CM.gtM(O6.B16).isTower||this.GV97(),this.myCollection.removeAll();var t=App.VM.gOV(O7.I85);t&&(t.gpTopBtn.top=-150),egret.Tween.removeTweens(this.gpBg)},t.prototype.setEnabled=function(t){this.gpBg.touchEnabled=t},t.prototype.ZR53=function(t){var e=this;egret.Tween.get(this.gpBg).to({bottom:t},300).call(function(){egret.Tween.removeTweens(e.gpBg)})},t}(BaseEuiView);__reflect(CrossBossCampUIView.prototype,"CrossBossCampUIView");var G9=function(){function t(){}return t.FK35=function(t){for(var e in this.init=t.crossboss_init,this.pointAward=this.FHH2(),this.legionRanData=this.FD78(),this.bossPos=this.FK62(),this.liftPost=this.FJ57(),this.shieldGrop=this.FHH3(),this.shieldHp=this.FJ58(),this.openDay=this.gIV("openDay").split(","),this.openDay)this.openDay[e]=parseInt(this.openDay[e]);this.doubleTime=this.ZV6()},t.gIV=function(t){var e="";return this.init?e=this.init[t].value:e},t.getScale=function(){var t=1.5;if(!this.init)return t;var e=this.gIV("bossSize");return t=parseFloat(e)},t.FD78=function(){var h=[];return this.init&&this.gIV("rankingsReward").split("|").forEach(function(t,e){for(var i=t.split(","),s=i[0].split("-"),o=i[1].split(";"),r=[],n=0;n<o.length;n++){var a=o[n].split(":");r.push({k:a[0],v:a[1]})}h.push({s:s[0],e:s[1],rewards:r})}),h},t.FK62=function(){var t={};if(!this.init)return t;var e=this.gIV("bossPosition").split(":");return t={x:parseInt(e[0]),y:parseInt(e[1])}},t.FJ57=function(){var t={};if(!this.init)return t;var e=this.gIV("reviveCost").split(":");return t={k:parseInt(e[0]),v:parseInt(e[1])}},t.FHH3=function(){var t=[];if(!this.init)return t;for(var e=this.gIV("shieldTrigger").split(","),i=0;i<e.length;i++)t.push(parseFloat(e[i]));return t},t.FJ58=function(){var t=0;if(!this.init)return t;var e=this.gIV("shieldHp");return t=parseFloat(e)},t.FHH2=function(){var t=[];if(!this.init)return t;var s=[];return this.gIV("boxReward").split(";").forEach(function(t,e){var i=t.split(":");s.push({k:i[0],v:i[1]})}),t.push(s),s=[],this.gIV("attackReward").split(";").forEach(function(t,e){var i=t.split(":");s.push({k:i[0],v:i[1]})}),t.push(s),s=[],this.gIV("killReward").split(";").forEach(function(t,e){var i=t.split(":");s.push({k:i[0],v:i[1]})}),t.push(s),t},t.FJ53=function(){if(this.init)return this.gIV("openTime").split(",")[0]},t.ZV6=function(){var t={};if(!this.init)return t;var e=this.gIV("openTime"),i=M18.FL28(e,",");return t={pt:P6.FM3(i[0]),vt:P6.FM3(i[1])}},t}();__reflect(G9.prototype,"G9");var G13=function(){function t(){}return t.A54=0,t.A53=1,t.A55=2,t.A56=3,t.A57=4,t.A18=10001,t.A19=10002,t.A36=10003,t.A42=10004,t.A43=10005,t.A5=10006,t.A6=10007,t.A7=10008,t.A8=10009,t.A11=10010,t.A12=10011,t.A37=10012,t.A38=10013,t.A44=10014,t.A45=10015,t.A29=10016,t.A30=10017,t.A20=10018,t.A21=10019,t.A31=10020,t.A32=10021,t.A39=10022,t.A40=10023,t.A33=10024,t.A34=10025,t.A22=10026,t.A23=10027,t.A24=10028,t.A51=10029,t.A13=10030,t.A46=10031,t.A52=10032,t.A47=10033,t.A48=10034,t.A41=10035,t.A14=10036,t.A25=11001,t.A15=11002,t.A2=11003,t.A1=11004,t.A16=11005,t.A9=11006,t.A17=11007,t.A10=11008,t.A35=11009,t.A27=11010,t.A4=11011,t.A3=11012,t.A28=11013,t.A26=11014,t.A49=11015,t.A50=11016,t}();__reflect(G13.prototype,"G13");var B19=function(){function t(){}return t.A2="SET_CBBOX",t.A3="BOSS_DIE",t.A1="SET_ChallENGE",t}();__reflect(B19.prototype,"B19");var TB75=function(i){function t(){var t=i.call(this)||this;App.VM.register(O7.C35,"CrossBossCampUIView",t,K17.Fight),t.rgF(G13.A25,t.GC58,t),t.rgF(G13.A15,t.GB69,t),App.VM.register(O7.A60,"CrossBossResurgenceView",t,K17.Fight),t.rgF(G13.A2,t.GA56,t),t.rgF(G13.A1,t.GA42,t),App.VM.register(O7.B86,"CrossBossRanKingView",t,K17.UI_Main_TOP),t.rgF(G13.A16,t.GB70,t),t.rgF(G13.A9,t.GB20,t),App.VM.register(O7.B87,"CrossBossPreviewView",t,K17.UI_Main_TOP),t.rgF(G13.A17,t.GB71,t),t.rgF(G13.A10,t.GB21,t),App.VM.register(O7.D88,"CrossBossOpenView",t,K17.Fight),t.rgF(G13.A35,t.GE47,t),t.rgF(G13.A27,t.GD49,t),App.VM.register(O7.A89,"CrossBossChallengeView",t,K17.UI_Main_TOP),t.rgF(G13.A4,t.GA83,t),t.rgF(G13.A3,t.GA57,t),App.VM.register(O7.D17,"FightCrossBossView",t,K17.Fight),t.rgF(G13.A28,t.GD50,t),t.rgF(G13.A26,t.GC59,t),App.VM.register(O7.HH59,"CrossBossView",t,K17.UI_Main_TOP),t.rgF(G13.A49,t.GO79,t),t.rgF(G13.A50,t.GO80,t);var e=new TE64(t);return e.aLV(O7.I76),e.aLV(O7.D17),e.aLV(O7.C35),e.aLV(O7.A60),e.aLV(O7.B86),e.aLV(O7.B87),e.aLV(O7.D88),e.aLV(O7.A89),e.aLV(O7.I85),e.aLV(O7.I63),e.aLV(O7.I39),e.aLV(O7.D89),e.aLV(O7.HH47),e.aLV(O7.HH23),t.crossBossProxy=new TE65(t),t.rgF(G13.A18,t.GU34,t),t.rgF(G13.A19,t.GU20,t),t.rgF(G13.A36,t.GY21,t),t.rgF(G13.A42,t.loadReq,t),t.rgF(G13.A43,t.loadRes,t),t.rgF(G13.A5,t.GQ66,t),t.rgF(G13.A6,t.GQ67,t),t.rgF(G13.A7,t.GQ68,t),t.rgF(G13.A8,t.GQ69,t),t.rgF(G13.A11,t.GS64,t),t.rgF(G13.A12,t.GS65,t),t.rgF(G13.A37,t.GY38,t),t.rgF(G13.A38,t.GY39,t),t.rgF(G13.A44,t.quitReq,t),t.rgF(G13.A45,t.quitRes,t),t.rgF(G13.A29,t.GX8,t),t.rgF(G13.A30,t.GX9,t),t.rgF(G13.A20,t.GU44,t),t.rgF(G13.A21,t.GU45,t),t.rgF(G13.A31,t.GX27,t),t.rgF(G13.A32,t.GX28,t),t.rgF(G13.A39,t.GY41,t),t.rgF(G13.A40,t.GY42,t),t.rgF(G13.A33,t.GX44,t),t.rgF(G13.A34,t.GX45,t),t.rgF(G13.A23,t.GU36,t),t.rgF(G13.A24,t.GU37,t),t.rgF(G13.A51,t.push,t),t.rgF(G13.A13,t.GS66,t),t.rgF(G13.A46,t.canPlay,t),t.rgF(G13.A52,t.FHH98,t),t.rgF(G13.A47,t.moveReq,t),t.rgF(G13.A48,t.moveRes,t),t.rgF(G13.A41,t.movePush,t),t.rgF(G13.A14,t.GS60,t),t}return __extends(t,i),t.prototype.FHH98=function(){TE66.FHH98()},t.prototype.GC58=function(){App.VM.open(O7.C35)},t.prototype.GB69=function(){App.VM.close(O7.C35)},t.prototype.GA56=function(){App.VM.open(O7.A60)},t.prototype.GA42=function(){App.VM.close(O7.A60)},t.prototype.GB70=function(){App.VM.open(O7.B86)},t.prototype.GB20=function(){App.VM.close(O7.B86)},t.prototype.GB71=function(){App.VM.open(O7.B87)},t.prototype.GB21=function(){App.VM.close(O7.B87)},t.prototype.GE47=function(){App.VM.open(O7.D88)},t.prototype.GD49=function(t){t&&this.GU44(),App.VM.close(O7.D88)},t.prototype.GA83=function(){App.VM.open(O7.A89)},t.prototype.GA57=function(){App.VM.close(O7.A89)},t.prototype.GD50=function(){App.VM.setAutoClose(O7.I76,!0),App.VM.close(O7.I76),App.VM.setAutoClose(O7.G82,!0),App.VM.close(O7.G82),App.VM.setAutoClose(O7.D17,!1),App.VM.open(O7.D17);var t=App.CM.gtM(O6.B99);t.isFighting&&(App.VM.setAutoClose(O7.I61,!1),App.VM.open(O7.I61)),t.isSpFighting&&t.notify(FightD.FC_Close_UI)},t.prototype.GC59=function(){App.VM.setAutoClose(O7.D17,!0),App.VM.close(O7.D17),App.VM.setAutoClose(O7.I76,!1),App.CM.gtM(O6.B99).fightSceneType=I4.A8,App.SceneManager.runScene(M2.A5)},t.prototype.GU34=function(){this.gtM();return this.crossBossProxy.GU34()},t.prototype.GU20=function(t){if(200==t.head.state){var e=this.gtM();e.setState(t.body),1!=t.body.st&&e.isTower&&(e.isShow=!1,e.isTower=!1,TG67.FK87(),e.notify(P4.T82)),TE66.FHH98()}else App.CM.apF(O6.B87,L10.A4,t)},t.prototype.GY21=function(t){if(200==t.head.state){var e=this.gtM();e.setState(t.body),e.notify(P4.Q56),1!==t.body.st&&e.isTower&&(e.isTower=!1,this.GL17(),e.ZW9(),this.GC59(),e.notify(P4.T82)),TE66.FHH98()}else App.CM.apF(O6.B87,L10.A4,t)},t.prototype.GL17=function(){this.timingHander&&(App.K16.rBH(this.timingHander),this.timingHander=null)},t.prototype.GV97=function(){this.dpeHander&&(App.K16.rBH(this.dpeHander),this.dpeHander=null),this.legHander&&(App.K16.rBH(this.legHander),this.legHander=null)},t.prototype.loadReq=function(){this.gtM().isSend=!0,this.crossBossProxy.loadReq()},t.prototype.loadRes=function(t){var e=this,i=this.gtM();if(200!=t.head.state)return i.isSend=!1,void App.CM.apF(O6.B87,L10.A4,t);if(t.body.ncd)return P18.sDP(O3.tr(605,t.body.ncd)),!1;App.CM.apF(O6.B89,L11.A56,!0),App.CM.apF(O6.B16,G13.A46,!1),App.CM.gtM(O6.B99).fightSceneType=I4.A4;var s=App.SceneManager.getCurrScene();App.VM.ZT95(),M2.A4==s?this.GD50():App.SceneManager.runScene(M2.A4),i.activityState=t.body.st,i.remainCD=t.body.cd,t.body.cd&&(i.lastLoadTime=P6.getTime(!0)),t.body.us&&i.ZN82(P7.copyTab(t.body.us)),t.body.bvs&&(i.boxList=t.body.bvs),i.chatWordDatacms=P7.copyTab(t.body.cms),i.chatAllDatacms=P7.copyTab(t.body.cms),i.bossHp=t.body.bo,i.isTower=!0,i.notify(P4.T80),this.timingHander=App.K16.doTimer(1e3,0,function(){if(i.isTower&&1==i.state){var t=App.VM.gOV(O7.D17);t&&t.ZI72()}else e.GL17()},this),this.dpeHander=App.K16.doTimer(3e3,0,function(){i.isTower&&1==i.state?e.GQ68():e.GV97()},this),this.legHander=App.K16.doTimer(5e3,0,function(){i.isTower&&1==i.state?e.GQ66():e.GV97()},this),this.canPlay(!1)},t.prototype.GQ66=function(){this.gtM();this.crossBossProxy.GQ66()},t.prototype.GQ67=function(t){if(200==t.head.state){var e=this.gtM();e.ZI29(t.body),e.notify(P4.HH1)}else App.CM.apF(O6.B87,L10.A4,t)},t.prototype.GQ68=function(){this.gtM();this.crossBossProxy.GQ68()},t.prototype.GQ69=function(t){if(200==t.head.state){var e=this.gtM();e.isTower&&(e.ZI30(t.body),e.notify(P4.HH3))}else App.CM.apF(O6.B87,L10.A4,t)},t.prototype.GS64=function(t){this.gtM();this.crossBossProxy.GS64(t)},t.prototype.GS65=function(t){200==t.head.state?(this.gtM().playData=t.body,this.GA83()):App.CM.apF(O6.B87,L10.A4,t)},t.prototype.GY38=function(t){this.gtM();this.crossBossProxy.GY38(t)},t.prototype.GY39=function(i){if(200==i.head.state)if(i.body.cd_)P7.fightCoolingCD(i.body.cd_);else{var s=this.gtM();i.body.rcd&&(s.lefeCD=i.body.rcd),this.GA57(),s.openBoxCD&&(s.openBoxCD=null,this.GD49(!1)),App.VM.close(O7.HH38);var t=P7.isGetView(O7.C35);App.CM.apF(O6.B99,N1.A11,i.body.fr,{needResult:!1,type:P15.A18,isAuto:t},function(t,e){P5.sIs(i.body.ob),!s.lefeCD&&1==s.state&&s.isTower&&App.CM.apF(O6.B16,G13.A46,!1),s.isTower&&App.CM.apF(O6.B16,G13.A23),s.lefeCD&&1==s.state&&s.isTower&&(App.CM.apF(O6.B16,G13.A2),s.notify(B19.A1)),1==s.state&&s.isTower&&(s.notify(P4.Q58),s.notify(E6.A14))},this)}else App.CM.apF(O6.B87,L10.A4,i)},t.prototype.quitReq=function(){this.gtM();this.crossBossProxy.quitReq()},t.prototype.quitRes=function(t){if(200==t.head.state){var e=this.gtM();e.ZW9(),this.GL17(),e.notify(P4.T82),this.GC59()}else App.CM.apF(O6.B87,L10.A4,t)},t.prototype.GX8=function(t){this.gtM();this.crossBossProxy.GX8(t)},t.prototype.GX9=function(t){200==t.head.state?(this.gtM().openBoxCD=t.body.cd,this.GE47()):App.CM.apF(O6.B87,L10.A4,t)},t.prototype.GU44=function(){this.gtM().openBoxCD=null,this.crossBossProxy.GU44()},t.prototype.GU45=function(t){if(200==t.head.state){this.gtM();P5.sIs(t.body.ob)}else App.CM.apF(O6.B87,L10.A4,t)},t.prototype.GX27=function(){this.gtM();this.crossBossProxy.GX27()},t.prototype.GX28=function(i){if(200==i.head.state)if(i.body.cd_)P7.fightCoolingCD(i.body.cd_);else{var s=this.gtM();s.notify(P4.O69),s.crossBossHp=i.body.bo,s.overNum=P7.copyTab(G9.shieldGrop),s.crossBossHp.drhp&&(s.huDunNum=P7.copyTab(s.crossBossHp.drhp)),s.openBoxCD&&(s.openBoxCD=null,this.GD49(!0)),i.body.rcd&&(s.lefeCD=i.body.rcd),App.VM.close(O7.HH38);var t=P7.isGetView(O7.C35);App.CM.apF(O6.B99,N1.A11,i.body.fr,{needResult:!1,type:P15.A17,isAuto:t},function(t,e){s.overNum=null,s.huDunNum=null,P5.sIs(i.body.ob),1==s.state&&s.isTower&&(s.notify(P4.O69),s.notify(E6.A14)),s.isTower&&App.CM.apF(O6.B16,G13.A23),s.lefeCD&&1==s.state&&s.isTower&&(App.CM.apF(O6.B16,G13.A2),s.notify(B19.A1))},this)}else App.CM.apF(O6.B87,L10.A4,i)},t.prototype.GY41=function(){this.gtM();this.crossBossProxy.GY41()},t.prototype.GY42=function(t){var e=this.gtM();if(200!=t.head.state)return App.CM.apF(O6.B87,L10.A4,t),e.isAutoLife=!1,e.isFirstAuto=!1,e.notify(B19.A2),void(492==t.head.state&&e.notify(P4.Q60));e.notify(P4.Q60)},t.prototype.GX44=function(t,e){var i=this.gtM();App.CM.gtM(O6.B99);1==i.state&&i.isTower&&this.crossBossProxy.GX44(t,e)},t.prototype.GX45=function(t){if(200==t.head.state){var e=this.gtM();e.isTower&&(t.body.bo&&(e.bossHp=t.body.bo,0==e.bossHp.rhp&&e.notify(B19.A3)),e.notify(P4.O71))}},t.prototype.GU36=function(){this.crossBossProxy.GU36()},t.prototype.GU37=function(t){200==t.head.state||App.CM.apF(O6.B87,L10.A4,t)},t.prototype.push=function(t){if(200==t.head.state){var e=this.gtM();e.remainCD=t.body.cd,t.body.cd&&(e.lastLoadTime=P6.getTime(!0)),e.activityState=t.body.st,e.notify(P4.X39)}else App.CM.apF(O6.B87,L10.A4,t)},t.prototype.GS66=function(t){if(200==t.head.state){var e=this.gtM();e.ZW8(t.body),e.notify(P4.I71)}else App.CM.apF(O6.B87,L10.A4,t)},t.prototype.canPlay=function(t){var e=App.VM.gOV(O7.C35);e&&e.setEnabled(t)},t.prototype.moveReq=function(t,e){this.gtM().isTower&&this.crossBossProxy.moveReq(t,e)},t.prototype.moveRes=function(t){t.head.state},t.prototype.movePush=function(t){var e=this.gtM();e.updateMove(t.body),e.notify(P4.S23)},t.prototype.GS60=function(t){var e=this.gtM();e.updateUs(t.body),e.notify(P4.I72)},t.prototype.GO79=function(){App.VM.open(O7.HH59)},t.prototype.GO80=function(){App.VM.close(O7.HH59)},t}(TE11);__reflect(TB75.prototype,"TB75");var TE64=function(i){function t(t){var e=i.call(this,t)||this;return e.isTower=!1,e.isShow=!1,e.chatWordDatacms=[],e.chatAllDatacms=[],e.isSend=!1,e.isAutoLife=!1,e.isFirstAuto=!0,e.isShowMy=!0,e.isAutoChallenge=!1,e.isFirstLoad=!0,e}return __extends(t,i),t.prototype.setFirstLoad=function(){this.isFirstLoad=!1},t.prototype.ZN82=function(t){var e=App.CM.gtM(O6.B82);for(var i in t){if(parseInt(i)==e.avatarInfo.id){this.myPlayerObjData=t[i],delete t[i];break}}this.playerObjData=t},t.prototype.setState=function(t){this.state=null!=t.st?t.st:this.state,-1<this.state?this.isOpen=null!=t.to?!!t.to:this.isOpen:this.isOpen=!1,this.isFirstLoad&&1==this.state&&(this.isFirstLoad=!1,TE66.FK63())},t.prototype.ZI29=function(t){t.lrs?this.legRankObjData=t.lrs:this.legRankObjData=[],this.legRanking=t.mr},t.prototype.ZI30=function(t){t.prs?this.perRankObjData=t.prs:this.perRankObjData=[],this.perRanking=t.mr},t.prototype.ZW8=function(t){if(t.rb&&this.boxList)for(var e=0;e<this.boxList.length;e++)if(this.boxList[e].id==t.rb)return void this.boxList.splice(e,1);t.fbs&&(this.boxList?this.boxList=this.boxList.concat(t.fbs):this.boxList=t.fbs)},t.prototype.ZN83=function(t){this.chatWordDatacms.push(t);var e=this.chatWordDatacms.length,i=N18.FC83(P9.A3).recordcount;i<e&&this.chatWordDatacms.splice(0,e-i)},t.prototype.ZR15=function(t){this.chatAllDatacms.push(t);var e=this.chatAllDatacms.length,i=N18.FC83(P9.A9).recordcount;i<e&&this.chatAllDatacms.splice(0,e-i)},t.prototype.ZW9=function(){this.isTower=null,this.isSend=null,this.myPlayerObjData=null,this.playerObjData=null,this.chatAllDatacms=null,this.chatWordDatacms=null,this.remainCD=null,this.perRankObjData=null,this.legRankObjData=null,this.openBoxCD=null,this.lefeCD=null,this.playData=null,this.boxName=null,this.isFirst=null,this.isShowMy=!0},t.prototype.updateMove=function(t){for(var e in this.playerObjData){if(this.playerObjData[e].aid==t.id){this.playerObjData[e].ex=t.ex,this.playerObjData[e].ey=t.ey;break}}},t.prototype.updateUs=function(t){if(t.u){if(t.id==this.myPlayerObjData.aid)return void(this.myPlayerObjData=t.u);if(this.playerObjData){for(var e in this.playerObjData){if(this.playerObjData[e].aid==t.id)return void(this.playerObjData[e]=t.u)}this.playerObjData[t.id]=t.u}}else for(var e in this.playerObjData){if(this.playerObjData[e].aid==t.id){delete this.playerObjData[e];break}}},t.prototype.notify=function(t){i.prototype.notifyView.call(this,this,t)},t.prototype.FJ24=function(){var t=P6.getTime(!0)-this.lastLoadTime,e=this.remainCD-t;return 0<e?e:0},t}(TG79);__reflect(TE64.prototype,"TE64");var TE65=function(i){function t(t){var e=i.call(this,t)||this;return e.rSM(P4.Q56,e.GY21,e),e.rSM(P4.X39,e.push,e),e.rSM(P4.I71,e.GS66,e),e.rSM(P4.S23,e.movePush,e),e.rSM(P4.I72,e.GS60,e),e.rSM(P4.Q58,e.GY39,e),e}return __extends(t,i),t.prototype.GU34=function(){var s=this;return new Promise(function(e,t){var i={type:P4.K40,body:{}};s.rSMO(P4.K41,function(t){s.apF(G13.A19,t),e("加载跨服boss状态")},s),s.sSM(i)})},t.prototype.loadReq=function(){var t={type:P4.T79,body:{}};this.rSMO(P4.T80,this.loadRes,this),this.sSM(t)},t.prototype.loadRes=function(t){this.apF(G13.A43,t)},t.prototype.GY21=function(t){this.apF(G13.A36,t)},t.prototype.push=function(t){this.apF(G13.A51,t)},t.prototype.GQ66=function(){var t={type:P4.G99,body:{}};this.rSMO(P4.HH1,this.GQ67,this),this.sSM(t)},t.prototype.GQ67=function(t){this.apF(G13.A6,t)},t.prototype.GQ68=function(){var t={type:P4.HH2,body:{}};this.rSMO(P4.HH3,this.GQ69,this),this.sSM(t)},t.prototype.GQ69=function(t){this.apF(G13.A8,t)},t.prototype.GS64=function(t){var e={type:P4.I69,body:{target:t}};this.rSMO(P4.I70,this.GS65,this),this.sSM(e)},t.prototype.GS65=function(t){this.apF(G13.A12,t)},t.prototype.GY38=function(t){var e={type:P4.Q57,body:{target:t}};this.sSM(e)},t.prototype.GY39=function(t){this.apF(G13.A38,t)},t.prototype.quitReq=function(){var t={type:P4.T81,body:{}};this.rSMO(P4.T82,this.quitRes,this),this.sSM(t)},t.prototype.quitRes=function(t){this.apF(G13.A45,t)},t.prototype.GX8=function(t){var e={type:P4.O66,body:{bid:t}};this.rSMO(P4.O67,this.GX9,this),this.sSM(e)},t.prototype.GX9=function(t){this.apF(G13.A30,t)},t.prototype.GU44=function(){var t={type:P4.K42,body:{}};this.rSMO(P4.K43,this.GU45,this),this.sSM(t)},t.prototype.GU45=function(t){this.apF(G13.A21,t)},t.prototype.GX27=function(){var t={type:P4.O68,body:{}};this.rSMO(P4.O69,this.GX28,this),this.sSM(t)},t.prototype.GX28=function(t){this.apF(G13.A32,t)},t.prototype.GY41=function(){var t={type:P4.Q59,body:{}};this.rSMO(P4.Q60,this.GY42,this),this.sSM(t)},t.prototype.GY42=function(t){this.apF(G13.A40,t)},t.prototype.GX44=function(t,e){var i={type:P4.O70,body:{sx:t,sy:e}};this.rSMO(P4.O71,this.GX45,this),this.sSM(i)},t.prototype.GX45=function(t){this.apF(G13.A34,t)},t.prototype.GU36=function(){var t={type:P4.K44,body:{}};this.rSMO(P4.K45,this.GU37,this),this.sSM(t)},t.prototype.GU37=function(t){this.apF(G13.A24,t)},t.prototype.GS66=function(t){this.apF(G13.A13,t)},t.prototype.GS60=function(t){this.apF(G13.A14,t)},t.prototype.moveReq=function(t,e){var i={type:P4.T83,body:{ex:t,ey:e}};this.rSMO(P4.T84,this.moveRes,this),this.sSM(i)},t.prototype.moveRes=function(t){this.apF(G13.A48,t)},t.prototype.movePush=function(t){this.apF(G13.A41,t)},t}(TG80);__reflect(TE65.prototype,"TE65");var TE66=function(){function o(){}return o.FA15=function(){var t=App.CM.gtM(O6.B16);if(t.isTower)return P18.sDP(O3.tr(717)),!1;if(!t.state)return P18.sDP(O3.tr(3205)),!1;var e=parseInt(G9.gIV("unlockLv"));if(O4.getLv()<e){var i=K18.init.commonDesc1.value;return P18.sDP(M18.format(i,[e])),!1}var s=App.CM.gtM(O6.B89),o=parseInt(G9.gIV("unlockLegionLv"));if(!s.myLegion||!s.myLegion.legion||s.myLegion.legion.lv<o){var r=O3.tr(706,o);return P18.sDP(r),!1}return App.CM.gtM(O6.B99).isSpFighting?(P18.sDP(O3.tr(5301)),!1):(App.CM.apF(O6.B16,G13.A42),!0)},o.FHH98=function(){var t=App.CM.gtM(O6.B16),e=parseInt(G9.gIV("unlockLv")),i=O4.getLv();if(!(t.isTower||i<e||t.isShow))if(1!=t.state||t.isTower){App.CM.gtM(O6.B99).fightSceneType!=I4.A8&&App.VM.close(O7.A82)}else{var s={handler:function(){return o.FA15(),!0},str:O3.tr(707),ctrlConst:O6.B16};App.VM.open(O7.A82,s)}},o.FJ24=function(){return App.CM.gtM(O6.B16).FJ24()},o.FK63=function(){App.CM.gtM(O6.B64);var t=G9.gIV("mapId");FightRes.ZO48(t,function(){console.log("加载跨服BOSS地图完成========")})},o}();__reflect(TE66.prototype,"TE66");var CrossBossPlayerItem=function(e){function t(){var t=e.call(this)||this;return t.addEventListener(egret.Event.ADDED_TO_STAGE,t.onAddToStage,t),t.addEventListener(egret.Event.REMOVED_FROM_STAGE,t.onRemoveStage,t),t}return __extends(t,e),t.prototype.onAddToStage=function(){this.addEventListener(egret.TouchEvent.TOUCH_TAP,this.openTispView,this)},t.prototype.onRemoveStage=function(){this.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.openTispView,this)},t.prototype.childrenCreated=function(){e.prototype.createChildren.call(this),this.skinName=CrossBossPlayerItemSkin},t.prototype.openTispView=function(){var t=O4.getAid();this.data.i&&this.data.i!==t&&App.CM.apF(O6.B16,G13.A11,this.data.i)},t.prototype.dataChanged=function(){var t=this.data;this.data.i?(this.grpNum.visible=!0,this.imgHead.source=t.h,this.lbName.text=t.n+"."+t.sa,this.lbNum.text=t.r+"",this.imgHead.width=56,this.imgHead.height=56):(this.grpNum.visible=!1,this.lbName.text="",this.imgHead.source="v1_fonts_xwyd_zhfd_png",this.imgHead.width=44,this.imgHead.height=48)},t}(eui.ItemRenderer);__reflect(CrossBossPlayerItem.prototype,"CrossBossPlayerItem");var CrossBossPreviewItem=function(e){function t(){var t=e.call(this)||this;return t.once(egret.Event.REMOVED_FROM_STAGE,t.close,t),t}return __extends(t,e),t.prototype.close=function(){this.myCollection.removeAll()},t.prototype.childrenCreated=function(){e.prototype.createChildren.call(this),this.skinName=CrossBossPreviewItemSkin,this.initUI()},t.prototype.initUI=function(){this.itemData.dataProvider=this.myCollection=new eui.ArrayCollection,this.itemData.itemRenderer=ItemIcon},t.prototype.ZJ81=function(t){var e=[];for(var i in t){var s={itemData:{data:N12.gID(t[i].k),ct:t[i].v},isBottom:!1};e.push(s)}this.myCollection.replaceAll(e)},t.prototype.dataChanged=function(){App.CM.gtM(O6.C6);switch(this.ZJ81(this.data),this.itemIndex){case 0:this.imgName.source="v1_fonts_sqxzjl_png";break;case 1:this.imgName.source="v1_fonts_tfgljl_png";break;case 2:this.imgName.source="v1_fonts_zhyjjl_png"}},t}(eui.ItemRenderer);__reflect(CrossBossPreviewItem.prototype,"CrossBossPreviewItem");var CrossBossRankingItem=function(e){function t(){var t=e.call(this)||this;return t.once(egret.Event.REMOVED_FROM_STAGE,t.close,t),t}return __extends(t,e),t.prototype.close=function(){this.myCollection.removeAll()},t.prototype.childrenCreated=function(){e.prototype.createChildren.call(this),this.skinName=CrossBossRankingItemSkin,this.initUI()},t.prototype.initUI=function(){this.itemData.dataProvider=this.myCollection=new eui.ArrayCollection,this.itemData.itemRenderer=ItemIcon},t.prototype.ZJ81=function(t){var e=[];for(var i in t){var s={itemData:{data:N12.gID(t[i].k),ct:t[i].v},isBottom:!1};e.push(s)}this.myCollection.replaceAll(e)},t.prototype.dataChanged=function(){var t=App.CM.gtM(O6.B16);if(this.imgRanKing.visible=this.itemIndex<=2,this.lbRanKing.visible=2<this.itemIndex,this.itemIndex<=2)switch(this.itemIndex){case 0:this.imgRanKing.source="v1_fonts_1st_png";break;case 1:this.imgRanKing.source="v1_fonts_2nd_png";break;case 2:this.imgRanKing.source="v1_fonts_3rd_png"}else this.data.s==this.data.e?this.lbRanKing.text=O3.tr(604,this.data.e):this.lbRanKing.text=O3.tr(607,this.data.s,this.data.e);if(this.data.s==this.data.e){var e=parseInt(this.data.e)-1;if(this.lbText.textFlow=M18.HTP.parser(O3.tr(709)),t.legRankObjData&&t.legRankObjData[e]){var i=O3.tr(700,t.legRankObjData[e].n,t.legRankObjData[e].d);this.lbText.textFlow=M18.HTP.parser(i)}}else this.lbText.textFlow=M18.HTP.parser("");this.ZJ81(this.data.rewards)},t}(eui.ItemRenderer);__reflect(CrossBossRankingItem.prototype,"CrossBossRankingItem");var CrossBossChallengeView=function(s){function t(t,e){var i=s.call(this,t,e)||this;return i.skinName=CrossBossChallengeSkin,i}return __extends(t,s),t.prototype.initUI=function(){s.prototype.initUI.call(this),this.lbStr1.textFlow=M18.HTP.parse(O3.tr(5344)),this.lbRanking.textFlow=M18.HTP.parse(O3.tr(5345)),this.dlg.title=O3.tr(5346),this.btnChallenge.label=O3.tr(5347)},t.prototype.open=function(){this.dlg.ZM69(this.oCC,this),this.dlg.ZQ14(this.oCC,this),this.btnChallenge.addEventListener(egret.TouchEvent.TOUCH_TAP,this.ZR61,this);var t=App.CM.gtM(O6.B16);this.updateUI(t)},t.prototype.ZR61=function(){var t=App.CM.gtM(O6.B16);this.lbRanking.visible?P18.sDP(O3.tr(714)):App.CM.apF(O6.B16,G13.A37,t.playData.u.aid)},t.prototype.oCC=function(){App.CM.apF(O6.B16,G13.A3)},t.prototype.updateUI=function(t){var e=t.playData;this.scoreLb.text=e.s+"",this.objPlayer||(this.objPlayer=new FightGameObject);var i={x:0,y:0,dir:Dir.br,objType:P13.A6};this.objPlayer.setBaseData(i),e.u.bt=BehaviourType.Stand_d,this.objPlayer.setData(e.u,this.objGroup),this.pBarHp.slideDuration=0,this.pBarHp.value=e.rhp,this.pBarHp.maximum=e.thp,this.lbLegionName.textFlow=M18.HTP.parser(O3.tr(701,e.ln)),this.lbMyHp.textFlow=M18.HTP.parser(O3.tr(702,e.pd)),this.lbLegionRanKing.textFlow=M18.HTP.parser(O3.tr(703,e.lr)),this.lbMyRanKing.textFlow=M18.HTP.parser(O3.tr(704,e.pr)),this.lbRanking.visible=!!e.f},t.prototype.close=function(){s.prototype.close.call(this),this.btnChallenge.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.ZR61,this)},t.prototype.uBM=function(t,e){if(s.prototype.uBM.call(this,t,e),t instanceof TE64)switch(e){case P4.I62:this.updateUI(t)}},t}(BaseEuiView);__reflect(CrossBossChallengeView.prototype,"CrossBossChallengeView");var CrossBossOpenView=function(s){function t(t,e){var i=s.call(this,t,e)||this;return i.skinName=CrossBossOpenSkin,i}return __extends(t,s),t.prototype.initUI=function(){s.prototype.initUI.call(this),this.touchEnabled=!1,this.touchChildren=!1,this.pBarOpen.slideDuration=0,this.lbStr1.textFlow=M18.HTP.parse(O3.tr(5348))},t.prototype.open=function(){this.timeHandler||this.GX5()},t.prototype.GX5=function(){var t=this,e=App.CM.gtM(O6.B16);this.pBarOpen.maximum=e.openBoxCD,this.pBarOpen.value=0,this.timeHandler=App.K16.doTimer(1e3,e.openBoxCD,function(){t.pBarOpen.value+=1},this,function(){t.oCC()},this)},t.prototype.oCC=function(){App.CM.gtM(O6.B16).openBoxCD=null,this.apF(G13.A27,!0)},t.prototype.close=function(){s.prototype.close.call(this),App.CM.gtM(O6.B16).openBoxCD||this.ZHH70()},t.prototype.ZHH70=function(){this.timeHandler&&(App.K16.rBH(this.timeHandler),this.timeHandler=null)},t.prototype.uBM=function(t,e){s.prototype.uBM.call(this,t,e)},t}(BaseEuiView);__reflect(CrossBossOpenView.prototype,"CrossBossOpenView");var CrossBossPreviewView=function(s){function t(t,e){var i=s.call(this,t,e)||this;return i.skinName=CrossBossPreviewSkin,i}return __extends(t,s),t.prototype.initUI=function(){s.prototype.initUI.call(this),this.comData.dataProvider=this.myCollection=new eui.ArrayCollection,this.comData.itemRenderer=CrossBossPreviewItem,this.legData.dataProvider=this.legCollection=new eui.ArrayCollection,this.legData.itemRenderer=CrossBossRankingItem,this.lbStr1.textFlow=M18.HTP.parse(O3.tr(4314)),this.lbStr2.textFlow=M18.HTP.parse(O3.tr(4315)),this.lbStr3.textFlow=M18.HTP.parse(O3.tr(4316)),this.dlg.title=O3.tr(4317)},t.prototype.open=function(){this.dlg.ZM69(this.oCC,this),this.dlg.ZQ14(this.oCC,this),this.myCollection.replaceAll(G9.pointAward),this.apF(G13.A5),this.upArrow.visible=!1,this.downArrow.visible=!0,this.src.addEventListener(eui.UIEvent.CHANGE_END,this.endScroller,this)},t.prototype.oCC=function(){App.CM.apF(O6.B16,G13.A10)},t.prototype.updateUI=function(t){this.lbIntegral.text=t.legRanking?t.legRanking+"":O3.tr(713),this.legCollection.replaceAll(G9.legionRanData)},t.prototype.close=function(){s.prototype.close.call(this),this.src.removeEventListener(eui.UIEvent.CHANGE_END,this.endScroller,this),this.myCollection.removeAll(),this.legCollection.removeAll()},t.prototype.endScroller=function(){this.src.validateNow();var t=this.src.viewport;this.upArrow.visible=!(t.scrollV<=0),t.contentHeight<=this.height?this.downArrow.visible=!1:this.src.height+t.scrollV>=t.contentHeight?this.downArrow.visible&&(this.downArrow.visible=!1):this.downArrow.visible=!0},t.prototype.uBM=function(t,e){if(s.prototype.uBM.call(this,t,e),t instanceof TE64)switch(e){case P4.HH1:this.updateUI(t)}},t}(BaseEuiView);__reflect(CrossBossPreviewView.prototype,"CrossBossPreviewView");var CrossBossRanKingView=function(s){function t(t,e){var i=s.call(this,t,e)||this;return i.skinName=CrossBossRanKingSkin,i}return __extends(t,s),t.prototype.initUI=function(){s.prototype.initUI.call(this);var t={render:CrossBossRankingItem,gap:10,width:this.listGroup.width,height:this.listGroup.height,arrowScale:1};this.listView=new CommonListBase(t),this.listGroup.addChild(this.listView),this.listView.verticalCenter=0,this.listView.horizontalCenter=0,this.dlg.title=O3.tr(4324),this.lbStr1.textFlow=M18.HTP.parse(O3.tr(4325)),this.lbRanking.textFlow=M18.HTP.parse(O3.tr(4326))},t.prototype.open=function(){this.listView.open(),this.dlg.ZM69(this.oCC,this),this.dlg.ZQ14(this.oCC,this);var t=App.CM.gtM(O6.B16);this.updateUI(t)},t.prototype.oCC=function(){App.CM.apF(O6.B16,G13.A9)},t.prototype.updateUI=function(t){this.lbIntegral.text=t.legRanking?t.legRanking+"":O3.tr(713),this.listView.rfL(G9.legionRanData)},t.prototype.close=function(){s.prototype.close.call(this),this.listView.close()},t.prototype.uBM=function(t,e){if(s.prototype.uBM.call(this,t,e),t instanceof TE64)switch(e){case P4.HH1:this.updateUI(t)}},t}(BaseEuiView);__reflect(CrossBossRanKingView.prototype,"CrossBossRanKingView");var CrossBossResurgenceView=function(s){function t(t,e){var i=s.call(this,t,e)||this;return i.skinName=CrossBossResurgenceSkin,i}return __extends(t,s),t.prototype.initUI=function(){s.prototype.initUI.call(this)},t.prototype.open=function(){this.btnGo.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickGo,this),this.timeHandler||(App.CM.apF(O6.B16,G13.A46,!0),this.GX5()),this.btnGo.label=O3.tr(5349)},t.prototype.onClickGo=function(){var t=G9.liftPost,e={handler:function(){App.CM.apF(O6.B16,G13.A39)},cost:t.v,costTp:P10.A1,content:O3.tr(716,t.v)};App.VM.open(O7.C54,e)},t.prototype.GX5=function(){var t=this,e=(App.CM.gtM(O6.B89),App.CM.gtM(O6.B16)),i=e.lefeCD;this.lbOver.text=O3.tr(715,i),e.isAutoLife&&e.isFirstAuto&&App.CM.apF(O6.B16,G13.A39);var s=G9.liftPost,o=N12.giC(s.k);e.isAutoLife&&o>=s.v?this.visible=!1:this.visible=!0,this.timeHandler=App.K16.doTimer(1e3,i,function(){i--,t.visible=!0,t.lbOver.text=O3.tr(715,i),e.isAutoLife&&e.isFirstAuto&&App.CM.apF(O6.B16,G13.A39)},this,function(){t.oCC()},this)},t.prototype.ZW10=function(){this.timeHandler&&(App.K16.rBH(this.timeHandler),this.timeHandler=null)},t.prototype.oCC=function(){App.CM.apF(O6.B16,G13.A1),App.CM.apF(O6.B16,G13.A46,!1),this.ZW10();var t=App.CM.gtM(O6.B16);t.lefeCD=0,t.isFirstAuto=!0,t.notify(E6.A14),App.VM.close(O7.C54)},t.prototype.close=function(){s.prototype.close.call(this),this.btnGo.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickGo,this)},t.prototype.uBM=function(t,e){if(s.prototype.uBM.call(this,t,e),t instanceof TE64)switch(e){case P4.Q60:this.oCC()}},t}(BaseEuiView);__reflect(CrossBossResurgenceView.prototype,"CrossBossResurgenceView");var crossBoss,CrossBossView=function(s){function t(t,e){var i=s.call(this,t,e)||this;return i.sGN("release_crossboss"),i.skinName=CrossBossViewSkin,i}return __extends(t,s),t.prototype.initUI=function(){s.prototype.initUI.call(this),this.lbPreview.textFlow=M18.HTP.parse(O3.tr(4327)),this.btnGo.label=O3.tr(4313),this.dlg.title=O3.tr(705)},t.prototype.open=function(){this.dlg.ZM69(this.closeSelf,this),this.lbPreview.addEventListener(egret.TouchEvent.TOUCH_TAP,this.openPreview,this),this.btnGo.addEventListener(egret.TouchEvent.TOUCH_TAP,this.startGo,this);var t=G9.gIV("entryTips");this.lbTips.textFlow=M18.HTP.parser(t);var e=G9.gIV("openText");this.lbOpenTime.textFlow=M18.HTP.parser(O3.tr(708,e));var i=App.CM.gtM(O6.B16);this.setRed(i)},t.prototype.openPreview=function(){App.CM.apF(O6.B16,G13.A17)},t.prototype.startGo=function(){TG84.FM16(ViewMapingIndex.CrossBoss)},t.prototype.closeSelf=function(){this.apF(G13.A50)},t.prototype.close=function(){s.prototype.close.call(this),this.lbPreview.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.openPreview,this),this.btnGo.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.startGo,this)},t.prototype.setRed=function(t){this.btnGo.imgNew.visible=1==t.state},t.prototype.uBM=function(t,e){if(s.prototype.uBM.call(this,t,e),t instanceof TE64)switch(e){case P4.Q56:this.setRed(t)}},t}(BaseEuiView);__reflect(CrossBossView.prototype,"CrossBossView"),function(t){var e=function(){};t.LegRankEntry=e,__reflect(e.prototype,"crossBoss.LegRankEntry");var i=function(){};t.PerRankEntry=i,__reflect(i.prototype,"crossBoss.PerRankEntry");var s=function(){};t.BoxVo=s,__reflect(s.prototype,"crossBoss.BoxVo");var o=function(){};t.BossVo=o,__reflect(o.prototype,"crossBoss.BossVo")}(crossBoss||(crossBoss={}));var G10=function(){function n(){}return n.FK35=function(t){for(var e in n.init=t.crosscamp_init,n.build=t.crosscamp_build,this.openDay=this.gIV("openDay").split(","),this.openDay)this.openDay[e]=parseInt(this.openDay[e]);this.doubleTime=this.ZV6()},n.gIV=function(t){return n.init[t].value},n.FI20=function(t){return n.build[t]},n.FI21=function(){return n.build},n.FJ59=function(t,e){var i=n.FI20(t),s=M18.FL28(i.coordinate,",");return new egret.Point(parseInt(s[0]),parseInt(s[1]))},n.FC19=function(t){var e=n.FI20(t),i=n.gIV("dispersion"),s=M18.FL28(i,";",",");for(var o in s){var r=s[o];if(e.type==r[0])return parseInt(r[1])}},n.FB60=function(t){var e,i=App.CM.gtM(O6.B22);for(var s in e=0==i.w?M18.FL28(n.gIV("monthRankAward"),"|"):M18.FL28(n.gIV("weekRankAward"),"|")){var o=M18.FL28(e[s],",","-");if(t<=parseInt(o[0][1])&&t>=parseInt(o[0][0]))return o[1][0]}return null},n.FA88=function(t){var e=n.gIV("course"),i=M18.FL28(e,"|");if(i.length>=t&&0<t)return i[t-1]},n.FHH4=function(t,e){var i=n.FI21();for(var s in i){var o=i[s],r=n.FJ59(o.id,1);if(r.x==t&&r.y==e)return o}return null},n.FJ53=function(){if(this.init)return this.gIV("openTime")},n.ZV6=function(){var t={};return this.init?t={pt:P6.FM3(this.gIV("openTime")),vt:P6.FM3(this.gIV("closeTime"))}:t},n}();__reflect(G10.prototype,"G10");var G12=function(){function t(){}return t.A21=0,t.A30=1,t.A52=2,t.A42=3,t.A43=4,t.A53=5,t.A54=6,t.A50=7,t.A51=8,t.A34=9,t.A35=10,t.A36=11,t.A37=12,t.A11=13,t.A12=14,t.A38=15,t.A39=16,t.A13=17,t.A14=18,t.A18=19,t.A19=20,t.A31=21,t.A44=22,t.A45=23,t.A2=24,t.A3=25,t.A4=26,t.A5=27,t.A15=28,t.A16=29,t.A22=30,t.A23=31,t.A24=32,t.A25=33,t.A9=34,t.A10=35,t.A40=36,t.A46=37,t.A47=38,t.A26=39,t.A27=40,t.A6=41,t.A7=42,t.A32=43,t.A33=44,t.A48=45,t.A49=46,t.A17=47,t.A8=48,t.A28=49,t.A29=50,t.A1=51,t.A20=52,t.A41=53,t}();__reflect(G12.prototype,"G12");var C19=function(){function t(){}return t.A1=1,t.A2=2,t.A3=3,t}();__reflect(C19.prototype,"C19");var A15=function(){function t(){}return t.A2=1,t.A3=2,t.A1=3,t}();__reflect(A15.prototype,"A15");var C1=function(){function t(){}return t.A2="cameraChange",t.A1=22,t}();__reflect(C1.prototype,"C1");var CROSSCAMP_COUNTRY_COLOR={1:311551,2:7520282,3:14164514},TB76=function(i){function t(){var t=i.call(this)||this,e=new TE67(t);return e.aLV(O7.G18),e.aLV(O7.E31),e.aLV(O7.E32),e.aLV(O7.E33),e.aLV(O7.HH47),e.aLV(O7.HH23),e.aLV(O7.D89),t.proxy=new TE68(t),t.rgF(G12.A18,t.GE48,t),t.rgF(G12.A19,t.GU20,t),t.rgF(G12.A44,t.GM96,t),t.rgF(G12.A45,t.GM97,t),t.rgF(G12.A2,t.GM98,t),t.rgF(G12.A3,t.GM99,t),t.rgF(G12.A4,t.GO81,t),t.rgF(G12.A5,t.GO82,t),t.rgF(G12.A15,t.GS68,t),t.rgF(G12.A16,t.GS69,t),t.rgF(G12.A22,t.GV98,t),t.rgF(G12.A23,t.GV99,t),t.rgF(G12.A24,t.GW1,t),t.rgF(G12.A25,t.GW2,t),t.rgF(G12.A9,t.GQ70,t),t.rgF(G12.A10,t.GQ71,t),t.rgF(G12.A40,t.teamPush,t),t.rgF(G12.A31,t.GY21,t),t.rgF(G12.A46,t.GN1,t),t.rgF(G12.A47,t.GN2,t),t.rgF(G12.A26,t.GHH40,t),t.rgF(G12.A27,t.GHH41,t),t.rgF(G12.A6,t.GN3,t),t.rgF(G12.A7,t.GN4,t),t.rgF(G12.A32,t.GJ21,t),t.rgF(G12.A33,t.GJ22,t),t.rgF(G12.A48,t.GN5,t),t.rgF(G12.A49,t.GN6,t),t.rgF(G12.A17,t.GF67,t),t.rgF(G12.A1,t.GJ23,t),t.rgF(G12.A20,t.GU46,t),t.rgF(G12.A41,t.movePush,t),t.rgF(G12.A21,t.GX46,t),t.rgF(G12.A30,t.GS70,t),t.rgF(G12.A52,t.GS67,t),App.VM.register(O7.B89,"CrossCampTipView",t,K17.UI_Popup),t.rgF(G12.A42,t.GJ24,t),t.rgF(G12.A43,t.GJ25,t),App.VM.register(O7.E31,"CrossCampView",t,K17.Fight),t.rgF(G12.A53,t.GO83,t),t.rgF(G12.A54,t.GO84,t),App.VM.register(O7.G18,"CrossCampUiView",t,K17.Fight),t.rgF(G12.A50,t.GL19,t),t.rgF(G12.A51,t.GL20,t),App.VM.register(O7.E32,"CrossCampTeamView",t,K17.UI_Popup),t.rgF(G12.A34,t.GHH42,t),t.rgF(G12.A35,t.GHH43,t),App.VM.register(O7.E33,"CrossCampRankView",t,K17.UI_Main_TOP),t.rgF(G12.A36,t.GHH44,t),t.rgF(G12.A37,t.GHH45,t),App.VM.register(O7.A90,"CrossCampBuildTeamView",t,K17.UI_Main_TOP),t.rgF(G12.A11,t.GB72,t),t.rgF(G12.A12,t.GB73,t),App.VM.register(O7.E34,"CrossCampChatView",t,K17.UI),t.rgF(G12.A38,t.GHH46,t),t.rgF(G12.A39,t.GHH47,t),App.VM.register(O7.A91,"CrossCampBuildInfoView",t,K17.UI_Popup),t.rgF(G12.A13,t.GB74,t),t.rgF(G12.A14,t.GB75,t),t}return __extends(t,i),t.prototype.GS67=function(){TE69.FE81()},t.prototype.GD13=function(t){return 200!=t.head.state?(App.CM.apF(O6.B87,L10.A4,t),!1):(this.gtM().updateData(t.body),!0)},t.prototype.GE48=function(){return this.proxy.ZA99()},t.prototype.GU20=function(t){if(200==t.head.state){var e=this.gtM();e.updateState(t.body),e.notify(P4.K48)}else App.CM.apF(O6.B87,L10.A4,t)},t.prototype.GM96=function(t){if(void 0===t&&(t=!1),t)this.proxy.ZD84();else{if(this.gtM().isInMap)return App.VM.ZT95(),App.SceneManager.runScene(M2.A4),App.VM.setAutoClose(O7.I76,!0),App.VM.close(O7.I76),void this.apF(G12.A53);App.CM.gtM(O6.B99).isSpFighting?P18.sDP(O3.tr(5301)):this.proxy.ZD84()}},t.prototype.GM97=function(t){if(this.GD13(t)){var e=this.gtM(),i=e.ZR64();if(0<i)return void P18.sDP(O3.tr(605,i));e.isInMap=!0,App.VM.ZT95(),App.SceneManager.runScene(M2.A4),App.VM.setAutoClose(O7.I76,!0),App.VM.close(O7.I76),this.apF(G12.A53),e.notify(P4.T86)}},t.prototype.GM98=function(){this.proxy.ZD85()},t.prototype.GM99=function(t){if(200==t.head.state){var e=this.gtM();e.ZR63(t.body),e.notify(P4.E25)}else App.CM.apF(O6.B87,L10.A4,t)},t.prototype.GO81=function(){this.proxy.ZF15()},t.prototype.GO82=function(t){if(200==t.head.state){var e=this.gtM();e.ZR62(t.body.tl),e.notify(P4.F37)}else App.CM.apF(O6.B87,L10.A4,t)},t.prototype.GS68=function(){this.proxy.ZI31()},t.prototype.GS69=function(t){this.GD13(t)&&this.gtM().notify(P4.I74)},t.prototype.GV98=function(t){this.proxy.ZN92(t)},t.prototype.GV99=function(t){this.GD13(t)&&this.gtM().notify(P4.M55)},t.prototype.GW1=function(){this.proxy.ZN93()},t.prototype.GW2=function(t){this.GD13(t)&&this.gtM().notify(P4.M57)},t.prototype.GQ70=function(t){this.proxy.ZG60(t)},t.prototype.GQ71=function(t){this.GD13(t)&&this.gtM().notify(P4.HH9)},t.prototype.teamPush=function(t){this.GD13(t)&&this.gtM().notify(P4.S26)},t.prototype.GY21=function(t){if(200==t.head.state){var e=this.gtM();e.updateState(t.body),0==e.state&&this.apF(G12.A46),e.notify(P4.Q62)}else App.CM.apF(O6.B87,L10.A4,t)},t.prototype.GN1=function(){this.proxy.ZD86()},t.prototype.GN2=function(t){if(200==t.head.state){var e=this.gtM();e.clearMapData(),e.notify(P4.T88)}else App.CM.apF(O6.B87,L10.A4,t)},t.prototype.GHH40=function(){var t=this.gtM();t.myPos.x&&t.myPos.y&&this.proxy.ZB68(t.myPos.x,t.myPos.y)},t.prototype.GHH41=function(t){this.GD13(t)&&this.gtM().notify(P4.O74)},t.prototype.GN3=function(){var t=this.gtM();if(t.targetBuild&&TE69.FHH5(t.targetBuild)){var e={handler:null,content:O3.tr(821)};App.VM.open(O7.C54,e)}else this.proxy.ZD87()},t.prototype.GN4=function(t){if(200==t.head.state){var e,i=this.gtM();switch(i.ZF14(t.body),i.notify(P4.F39),i.targetBuild=null,i.doccupierData.state){case A15.A2:this.apF(G12.A11);break;case A15.A3:e=O3.tr(810);break;case A15.A1:e=O3.tr(809)}if(e){var s={handler:function(){App.CM.apF(O6.B22,G12.A32)},content:e};App.VM.open(O7.C54,s)}}else App.CM.apF(O6.B87,L10.A4,t)},t.prototype.GJ21=function(t){this.proxy.ZC37(t)},t.prototype.GJ22=function(t){if(200==t.head.state)if(t.body.cd_)P7.fightCoolingCD(t.body.cd_);else{var e=this.gtM();if(0!=t.body.bid){var i=G10.FJ59(t.body.bid,1),s=App.VM.gOV(O7.E31),o=e.curBuild;i.y=i.y-s.ZK93(o).height/5,e.myPos.x=i.x,e.myPos.y=i.y}e.curBuild=null,this.GD13(t),this.apF(G12.A26),e.notify(P4.Q64),e.isWin=null!=t.body.ob;var r=P7.isGetView(O7.F13);t.body.fr&&App.CM.apF(O6.B99,N1.A11,t.body.fr,{rewards:t.body.ob,needResult:!1,type:P15.A36,isAuto:r},function(){},this)}else App.CM.apF(O6.B87,L10.A4,t)},t.prototype.GN5=function(t,e,i){var s=this.gtM();s.targetBuild=t,s.curBuild=s.targetBuild,this.proxy.ZD88(t)},t.prototype.GN6=function(t){200==t.head.state?(this.apF(G12.A26),this.gtM().notify(P4.T90)):App.CM.apF(O6.B87,L10.A4,t)},t.prototype.GF67=function(t){200==t.head.state?P5.sIs(t.body.ob):App.CM.apF(O6.B87,L10.A4,t)},t.prototype.GJ23=function(t){200==t.head.state||App.CM.apF(O6.B87,L10.A4,t)},t.prototype.GU46=function(t){200==t.head.state?P5.sIs(t.body.ob):App.CM.apF(O6.B87,L10.A4,t)},t.prototype.GX46=function(t){var e=this,i=this.gtM();i.isMoving=!1,i.targetBuild&&(this.apF(G12.A26),App.K16.doTimer(200,1,function(){e.apF(G12.A6)},this))},t.prototype.GS70=function(){this.gtM();App.VM.gOV(O7.E31)&&App.CM.apF(O6.B22,G12.A44,!0)},t.prototype.GJ24=function(){App.VM.open(O7.B89)},t.prototype.GJ25=function(){App.VM.close(O7.B89)},t.prototype.GO83=function(){var t=this.gtM().ZR64();if(0<t)P18.sDP(O3.tr(605,t));else{App.VM.setAutoClose(O7.I76,!0),App.VM.close(O7.I76),App.VM.setAutoClose(O7.E31,!1),App.VM.open(O7.E31),App.CM.apF(O6.C13,O12.A28),this.apF(G12.A38),this.apF(G12.A43),App.CM.apF(O6.B87,L10.A3);var e=App.CM.gtM(O6.B99);e.isFighting&&(App.VM.setAutoClose(O7.I61,!1),App.VM.open(O7.I61)),e.isSpFighting&&e.notify(FightD.FC_Close_UI),e.fightSceneType=I4.A5}},t.prototype.movePush=function(t){var e=this.gtM();e.updateMove(t.body),e.notify(P4.S27)},t.prototype.GO84=function(){this.apF(G12.A39),this.apF(G12.A12),this.apF(G12.A35),App.VM.setAutoClose(O7.E31,!0),App.VM.close(O7.E31),App.VM.setAutoClose(O7.I76,!1),App.SceneManager.runScene(M2.A5)},t.prototype.GL19=function(){App.VM.open(O7.G18)},t.prototype.GL20=function(){App.VM.close(O7.G18)},t.prototype.GHH42=function(){App.VM.open(O7.E32)},t.prototype.GHH43=function(){App.VM.close(O7.E32)},t.prototype.GHH44=function(){App.VM.open(O7.E33)},t.prototype.GHH45=function(){App.VM.close(O7.E33)},t.prototype.GB72=function(){App.VM.open(O7.A90)},t.prototype.GB73=function(){App.VM.close(O7.A90)},t.prototype.GHH46=function(){App.VM.open(O7.E34)},t.prototype.GHH47=function(){App.VM.close(O7.E34)},t.prototype.GB74=function(t){App.VM.open(O7.A91,t)},t.prototype.GB75=function(){App.VM.close(O7.A91)},t}(TE11);__reflect(TB76.prototype,"TB76");var TE67=function(i){function t(t){var e=i.call(this,t)||this;return e.isCameraFollow=!1,e.isInBuild=!1,e.myPos=new fight.pos,e.curBuild=0,e.isShow=!1,e.w=1,e}return __extends(t,i),t.prototype.updateMove=function(t){if(t.rm)for(var e=0;e<this.moveList.length;e++)this.moveList[e].id==t.rm&&this.moveList.splice(e,1);else{for(e=0;e<this.moveList.length;e++)if(this.moveList[e].id==t.m.id){var i=this.moveList[e];return i.setShowState(!0,!1),void i.updateData(t.m)}var s=new CrossCampMoveVo(t.m);s.setShowState(!0,!1),this.moveList.push(s)}},t.prototype.updateState=function(t){this.state=t.st,this.cd=t.cd,-1<this.state?this.isOpen=null!=t.to?!!t.to:this.isOpen:this.isOpen=!1,this.lastLoadCdTime=P6.getTime(),this.isInMap||TE69.FE81(),0!==t.w&&1!==t.w||(this.w=t.w)},t.prototype.updateData=function(t){if(t.ncd&&(this.lastLoadNextTime=P6.getTime(),this.nextCd=t.ncd),t.cd&&(this.lastLoadCdTime=P6.getTime(),this.cd=t.cd),t.ms)for(var e in this.moveList=[],t.ms){var i=t.ms[e];(s=new CrossCampMoveVo(i)).setShowState(!0,!1),this.moveList.push(s)}if(t.cms)for(var e in this.chatMsg=[],t.ms){i=t.ms[e];this.ZN83(i)}if(t.il)for(var e in this.pointRank=[],t.il){i=t.il[e];var s=new CrossCampPointVo(i);this.pointRank.push(s)}if(t.tml)for(var e in this.memberList=[],this.isTeamLeader=!1,0==t.tml.length&&(this.isTeamLeader=!0),t.tml){i=t.tml[e],s=new CrossCampTeamMemVo(i);var o=O4.getAid();0==parseInt(e)&&o==s.id&&(this.isTeamLeader=!0),this.memberList.push(s)}else this.memberList&&0!=this.memberList.length||(this.isTeamLeader=!0);if(t.bs)for(var e in this.buildList=[],t.bs){i=t.bs[e],s=new CrossCampBuildVo(i);for(var r in this.buildList.push(s),this.moveList){var n=this.moveList[r];if(n.buildId==s.id)if(s.owner&&n.id==s.owner.id)n.setShowState(!0,!0),n.cutIcon();else{var a=!1;if(s.roommates){for(var h in s.roommates)if(s.roommates[h]==n.id){a=!0;break}n.setShowState(!a,!1)}}}}this.point=null!=t.inte?t.inte:this.point},t.prototype.ZR62=function(t){this.teamList=t},t.prototype.ZR63=function(t){this.rankList=t.lrs,this.rankList.sort(function(t,e){return t.r-e.r}),this.myRank=t.mr},t.prototype.ZN83=function(t){this.chatMsg||(this.chatMsg=[]),this.chatMsg.push(t);var e=this.chatMsg.length,i=N18.FC83(P9.A4).recordcount;i<e&&this.chatMsg.splice(0,e-i)},t.prototype.ZR15=function(t){this.chatAllMsg||(this.chatAllMsg=[]),this.chatAllMsg.push(t);var e=this.chatAllMsg.length,i=N18.FC83(P9.A10).recordcount;i<e&&this.chatAllMsg.splice(0,e-i)},t.prototype.ZR64=function(){var t=P6.getTime(),e=1e3*this.nextCd-(t-this.lastLoadNextTime);return Math.ceil(e/1e3)},t.prototype.getActCd=function(){var t=P6.getTime(),e=1e3*this.cd-(t-this.lastLoadCdTime);return Math.ceil(e/1e3)},t.prototype.ZG59=function(){return this.buildList[this.targetBuild]},t.prototype.ZF14=function(t){this.doccupierData?this.doccupierData.updateData(t):this.doccupierData=new CrossCampDoccupierVo(t)},t.prototype.ZK92=function(){for(var t in this.buildList){var e=this.buildList[t];if(0<e.getCd())return e.id}},t.prototype.clearMapData=function(){this.targetBuild=null,this.curBuild=null,this.isInMap=!1},t.prototype.getBuildData=function(t){for(var e in this.buildList)if(this.buildList[e].id==t)return this.buildList[e]},t.prototype.notify=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];i.prototype.notifyView.apply(this,[this].concat(t))},t}(TG79);__reflect(TE67.prototype,"TE67");var TE68=function(i){function t(t){var e=i.call(this,t)||this;return e.rSM(P4.T86,e.GM97,e),e.rSM(P4.E25,e.GM99,e),e.rSM(P4.F37,e.GO82,e),e.rSM(P4.M57,e.GW2,e),e.rSM(P4.HH9,e.GQ71,e),e.rSM(P4.M55,e.GV99,e),e.rSM(P4.T88,e.GN2,e),e.rSM(P4.O74,e.GHH41,e),e.rSM(P4.F39,e.GN4,e),e.rSM(P4.Q64,e.GJ22,e),e.rSM(P4.T90,e.GN6,e),e.rSM(P4.I74,e.GS69,e),e.rSM(P4.S26,e.teamPush,e),e.rSM(P4.Q62,e.GY21,e),e.rSM(P4.I75,e.GF67,e),e.rSM(P4.C38,e.GJ23,e),e.rSM(P4.K49,e.GU46,e),e.rSM(P4.S27,e.movePush,e),e}return __extends(t,i),t.prototype.ZA99=function(){var s=this;return new Promise(function(e,t){var i={};i.type=P4.K47,i.body={},s.rSMO(P4.K48,function(t){s.apF(G12.A19,t),e("加载逐鹿中原活动状态完成")},s),s.sSM(i)})},t.prototype.ZD84=function(){var t={};t.type=P4.T85,t.body={},this.sSM(t)},t.prototype.GM97=function(t){this.apF(G12.A45,t)},t.prototype.ZD85=function(){var t={};t.type=P4.E24,t.body={},this.sSM(t)},t.prototype.GM99=function(t){this.apF(G12.A3,t)},t.prototype.ZF15=function(){var t={};t.type=P4.F36,t.body={},this.sSM(t)},t.prototype.GO82=function(t){this.apF(G12.A5,t)},t.prototype.ZI31=function(){var t={};t.type=P4.I73,t.body={},this.sSM(t)},t.prototype.GS69=function(t){this.apF(G12.A16,t)},t.prototype.ZN92=function(t){var e={};e.type=P4.M54,e.body={tid:t},this.sSM(e)},t.prototype.GV99=function(t){this.apF(G12.A23,t)},t.prototype.ZN93=function(){var t={};t.type=P4.M56,t.body={},this.sSM(t)},t.prototype.GW2=function(t){this.apF(G12.A25,t)},t.prototype.ZG60=function(t){var e={};e.type=P4.HH8,e.body={target:t},this.sSM(e)},t.prototype.GQ71=function(t){this.apF(G12.A10,t)},t.prototype.teamPush=function(t){this.apF(G12.A40,t)},t.prototype.GY21=function(t){this.apF(G12.A31,t)},t.prototype.ZD86=function(){var t={};t.type=P4.T87,t.body={},this.sSM(t)},t.prototype.GN2=function(t){this.apF(G12.A47,t)},t.prototype.ZB68=function(t,e){var i={};i.type=P4.O73,i.body={sx:t,sy:e},this.sSM(i)},t.prototype.GHH41=function(t){this.apF(G12.A27,t)},t.prototype.ZD87=function(){var t={};t.type=P4.F38,t.body={},this.sSM(t)},t.prototype.GN4=function(t){this.apF(G12.A7,t)},t.prototype.ZC37=function(t){var e={};e.type=P4.Q63,e.body={},this.sSM(e)},t.prototype.GJ22=function(t){this.apF(G12.A33,t)},t.prototype.ZD88=function(t){var e={};e.type=P4.T89,e.body={bid:t},this.sSM(e)},t.prototype.GN6=function(t){this.apF(G12.A49,t)},t.prototype.GF67=function(t){this.apF(G12.A17,t)},t.prototype.GJ23=function(t){this.apF(G12.A1,t)},t.prototype.GU46=function(t){this.apF(G12.A20,t)},t.prototype.movePush=function(t){this.apF(G12.A41,t)},t}(TG80);__reflect(TE68.prototype,"TE68");var TE69=function(){function i(){}return i.FB23=function(){var t=App.CM.gtM(O6.B22),e=parseInt(G10.gIV("openLv"));if(O4.getLv()>=e)-1!=t.state&&App.CM.apF(O6.B22,G12.A44);else{var i=K18.init.commonDesc1.value;P18.sDP(M18.format(i,[e]))}},i.FE81=function(){var t=App.CM.gtM(O6.B22);if(1!=t.state&&2!=t.state||t.isShow){App.CM.gtM(O6.B99).fightSceneType!=I4.A8&&App.VM.close(O7.A82)}else{var e={handler:function(){return i.FB23(),!0},str:O3.tr(827),ctrlConst:O6.B22};App.VM.open(O7.A82,e)}},i.FI22=function(t,e){var i=App.CM.gtM(O6.B22);for(var s in i.buildList){var o=i.buildList[s],r=G10.FJ59(o.id,1),n=Math.abs(t-r.x),a=Math.abs(e-r.y),h=App.VM.gOV(O7.E31).ZK93(o.id).height/2;if(1==i.state&&P18.sDP(O3.tr(825)),n*n+a*a<=h*h&&2==i.state)return i.ZK92()==o.id?null:i.isTeamLeader?o.id==i.curBuild&&i.isMoving?null:o.id!=i.curBuild||i.isMoving?r:(App.CM.apF(O6.B22,G12.A6),null):(P18.sDP(O3.tr(817)),null)}return null},i.FHH5=function(t){return 0==App.CM.gtM(O6.B22).getBuildData(t).state},i.FHH6=function(){return!!App.CM.gtM(O6.B22).ZK92()},i}();__reflect(TE69.prototype,"TE69");var CrossCampBuildVo=function(){function t(t){this.updateData(t)}return t.prototype.updateData=function(t){this.id=null!=t.id?t.id:this.id,t.o&&(this.owner?this.owner.updateData(t.o):this.owner=new CrossCampTeamMemVo(t.o)),this.owner=null!=t.o?t.o:this.owner,this.num=null!=t.s?t.s:this.num,this.lastLoadTime=P6.getTime(),this.cd=null!=t.cd?t.cd:this.cd,this.state=null!=t.st?t.st:this.state,this.state=null!=t.st?t.st:this.state,this.roommates=null!=t.es?t.es:this.roommates},t.prototype.getCd=function(){var t=P6.getTime(),e=1e3*this.cd-(t-this.lastLoadTime);return Math.max(Math.ceil(e/1e3),0)},t}();__reflect(CrossCampBuildVo.prototype,"CrossCampBuildVo");var CrossCampDoccupierVo=function(){function t(t){this.updateData(t)}return t.prototype.updateData=function(t){if(this.memberList=[],t.tml)for(var e in this.memberList=[],t.tml){var i=t.tml[e],s=new CrossCampTeamMemVo(i);this.memberList.push(s)}this.state=null!=t.w?t.w:this.state},t}();__reflect(CrossCampDoccupierVo.prototype,"CrossCampDoccupierVo");var CrossCampMoveVo=function(){function t(t){this.updateData(t)}return t.prototype.updateData=function(t){this.id=null!=t.id?t.id:this.id,this.country=null!=t.c?t.c:this.country,this.name=null!=t.n?t.n:this.name,this.iconList=null!=t.icl?t.icl:this.iconList,this.startX=null!=t.sx?t.sx:this.startX,this.startY=null!=t.sy?t.sy:this.startY,this.buildId=null!=t.bid?t.bid:this.buildId,this.endX=null!=t.ex?t.ex:this.endX,this.endY=null!=t.ey?t.ey:this.endY,this.endX!=this.startX||this.endY!=this.startY?this.isRefresh=!0:this.isRefresh=!1},t.prototype.setShowState=function(t,e){this.isShow=t,this.isOwnBuild=e},t.prototype.cutIcon=function(){this.iconList.splice(1,this.iconList.length)},t}();__reflect(CrossCampMoveVo.prototype,"CrossCampMoveVo");var CrossCampPointVo=function(){function t(t){this.updateData(t)}return t.prototype.updateData=function(t){this.country=t.c,this.point=t.inte},t}();__reflect(CrossCampPointVo.prototype,"CrossCampPointVo");var CrossCampRankVo=function(t){};__reflect(CrossCampRankVo.prototype,"CrossCampRankVo");var CrossCampTeamMemVo=function(){function t(t){this.updateData(t)}return t.prototype.updateData=function(t){this.id=null!=t.id?t.id:this.id,this.country=null!=t.c?t.c:this.country,this.name=null!=t.n?t.n:this.name,this.icon=null!=t.ic?t.ic:this.icon,this.lv=null!=t.lv?t.lv:this.lv,this.power=null!=t.s?t.s:this.power,this.totalHp=null!=t.thp?t.thp:this.totalHp,this.hp=null!=t.hp?t.hp:this.hp},t.prototype.setLeader=function(t){this.isLeader=t},t}();__reflect(CrossCampTeamMemVo.prototype,"CrossCampTeamMemVo");var CrossCampTeamVo=function(){function t(t){this.updateData(t)}return t.prototype.updateData=function(t){this.id=null!=t.id?t.id:this.id,this.name=null!=t.n?t.n:this.name,this.num=null!=t.num?t.num:this.num},t}();__reflect(CrossCampTeamVo.prototype,"CrossCampTeamVo");var CrossCampBuild=function(e){function t(){var t=e.call(this)||this;return t.skinName=CrossCampBuildSkin,t.addEventListener(egret.Event.ADDED_TO_STAGE,t.open,t),t.addEventListener(egret.Event.REMOVED_FROM_STAGE,t.close,t),t}return __extends(t,e),t.prototype.open=function(){this.touchEnabled=!1,this.btnCheck.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickCheck,this)},t.prototype.close=function(){this.btnCheck.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickCheck,this),this.timerHandler&&(App.K16.rBH(this.timerHandler),this.timerHandler=null)},t.prototype.dataChanged=function(){var e=this,t=G10.FI20(this.data.id);if(this.imgBuild.source=t.resource,0<this.data.num?(this.lbNum.text=O3.tr(812,this.data.num,t.number),this.gpLabel.visible=!0):this.gpLabel.visible=!1,0<this.data.getCd()){this.gpBar.visible=!0;var i=this.data.getCd();this.proBar.maximum=t.cd,this.lbTime.text=O3.tr(811,i),this.proBar.value=i,this.timerHandler&&App.K16.rBH(this.timerHandler),this.timerHandler=App.K16.doTimer(1e3,i,function(){var t=e.data.getCd();e.lbTime.text=O3.tr(811,t),e.proBar.value=t},this)}else this.gpBar.visible=!1,this.timerHandler&&(App.K16.rBH(this.timerHandler),this.timerHandler=null)},t.prototype.getBuildSize=function(){return{width:this.gpBase.width,height:this.gpBase.height}},t.prototype.onClickCheck=function(){var t=G10.FI20(this.data.id);App.CM.apF(O6.B22,G12.A13,t)},t}(eui.ItemRenderer);__reflect(CrossCampBuild.prototype,"CrossCampBuild");var CrossCampBuildInfoView=function(s){function t(t,e){var i=s.call(this,t,e)||this;return i.skinName=CrossCampBuildInfoSkin,i}return __extends(t,s),t.prototype.open=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];s.prototype.open.call(this),this.bgMask.addEventListener(egret.TouchEvent.TOUCH_TAP,this.closeSelf,this),this.GX5(t[0])},t.prototype.GX5=function(t){this.lbName.text=t.name;var e=M18.FL28(t.award,":"),i=N12.gID(e[0]),s=O5.FB43(i.quality),o=i.name+"*"+e[1];this.lbDesc.textFlow=M18.HTP.parser(O3.tr(819,t.cd,t.point,s,o))},t.prototype.closeSelf=function(){App.CM.apF(O6.B22,G12.A14)},t.prototype.close=function(){s.prototype.close.call(this),this.bgMask.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.closeSelf,this)},t}(BaseEuiView);__reflect(CrossCampBuildInfoView.prototype,"CrossCampBuildInfoView");var CrossCampBuildTeamView=function(s){function t(t,e){var i=s.call(this,t,e)||this;return i.skinName=CrossCampBuildTeamSkin,i}return __extends(t,s),t.prototype.initData=function(){},t.prototype.initUI=function(){s.prototype.initUI.call(this),this.teamList.itemRenderer=ItemBuildTeamMsg,this.dataSource=new eui.ArrayCollection,this.teamList.dataProvider=this.dataSource,this.dlg.title=O3.tr(5339),this.dlg.strBtnOK=O3.tr(5340)},t.prototype.open=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];s.prototype.open.call(this),this.dlg.ZM69(this.closeSelf,this),this.dlg.setOKHandler(this.ZW11,this);var i=App.CM.gtM(O6.B22);this.ZC38(i)},t.prototype.uBM=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];s.prototype.uBM.call(this,t,e),t instanceof TE67&&this.ZC38(t)},t.prototype.ZC38=function(t){var e=t.doccupierData.memberList;this.dataSource.replaceAll(e)},t.prototype.ZW11=function(){App.CM.apF(O6.B22,G12.A32)},t.prototype.close=function(){s.prototype.close.call(this)},t.prototype.closeSelf=function(){this.apF(G12.A12)},t}(BaseEuiView);__reflect(CrossCampBuildTeamView.prototype,"CrossCampBuildTeamView");var CrossCampChatView=function(s){function t(t,e){var i=s.call(this,t,e)||this;return i.tabCollection2=new eui.ArrayCollection([{text:O3.tr(5341),type:"all"},{text:O3.tr(5342),type:"world"},{text:O3.tr(5343),type:"legion"}]),i.skinName=ChatViewSkin,i}return __extends(t,s),t.prototype.initUI=function(){s.prototype.initUI.call(this),this.gpTopBtn.visible=!1,TG95.FE79(1,O3.tr(5335),20,this),TG95.FE79(2,"A",20,this),this.initChat(),this.btnSend.label=O3.tr(4396),this.btnFriend.label=O3.tr(4397),this.grpPrivateChat.visible=!1,this.inputChat.prompt=O3.tr(5730)},t.prototype.initData=function(){s.prototype.initData.call(this),this.sendTimes=[0,0,0],this.sendCnts=["","",""];var t=App.CM.gtM(O6.C13);this.baseDatas=t.baseDatas,this.allSc.maxNum=this.baseDatas[P9.A10].recordcount,this.worldSc.maxNum=this.baseDatas[P9.A4].recordcount,this.partySc.maxNum=this.baseDatas[P9.A17].recordcount,this.tabChart.dataProvider=this.tabCollection2},t.prototype.open=function(t){this.viewStack.selectedIndex=0;var e=this.getChatType(this.viewStack.selectedIndex);this.inputChat.maxChars=this.baseDatas[e].maxchar,this.click.addEventListener(egret.TouchEvent.TOUCH_TAP,this.clickUnfold,this),this.tabChart.addEventListener(eui.UIEvent.CHANGE,this.ZR36,this),this.tabChart.addEventListener(eui.ItemTapEvent.ITEM_TAP,this.ZV63,this),this.btnFriend.addEventListener(egret.TouchEvent.TOUCH_TAP,this.ZR39,this),this.btnSend.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickSend,this),this.btnEmoji.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickEmoji,this),this.grpPrivateChat.addEventListener(egret.TouchEvent.TOUCH_TAP,this.ZI20,this),this.viewStack.addEventListener(egret.TouchEvent.TOUCH_TAP,this.ZK68,this),this.ZE99(),this.ZV65()},t.prototype.ZV65=function(){var t=App.CM.gtM(O6.B82),e=this.getChatType(this.viewStack.selectedIndex),i=this.baseDatas[e];t.avatarInfo.l<i.needlevel?this.ret.touchEnabled=!0:(this.ret.touchEnabled=!1,this.inputChat.addEventListener(egret.TouchEvent.TOUCH_TAP,this.FL26,this))},t.prototype.FL26=function(){P7.FL26()},t.prototype.initChat=function(){this.chartGroup.height!=ChatView.minHeig&&(this.chartGroup.height=ChatView.minHeig,this.click.bgStr="v1_btn_zk_lt_png")},t.prototype.close=function(){this.click.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.clickUnfold,this),this.tabChart.removeEventListener(eui.UIEvent.CHANGE,this.ZR36,this),this.tabChart.removeEventListener(eui.ItemTapEvent.ITEM_TAP,this.ZV63,this),this.inputChat.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.FL26,this),this.btnFriend.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.ZR39,this),this.btnSend.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickSend,this),this.btnEmoji.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickEmoji,this),this.grpPrivateChat.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.ZI20,this),this.viewStack.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.ZK68,this),egret.Tween.removeTweens(this.chartGroup)},t.prototype.setInputText=function(t){this.inputChat.text=t||""},t.prototype.uBM=function(t){for(var e=this,i=[],s=1;s<arguments.length;s++)i[s-1]=arguments[s];if(this.ZE99(),t instanceof TG93){var o=i&&0<i.length?i[0]:"";App.DelayOptManager.ZE59(this,function(){switch(o){case P4.X77:e.ZI18(t);break;case P4.U49:e.inputChat.text="";break;default:e.ZI18(t)}})}},t.prototype.ZI18=function(t,e){void 0===e&&(e=!1);var i,s=this.getChatType(this.viewStack.selectedIndex),o=[],r=App.CM.gtM(O6.B22);switch(s){case P9.A10:o=r.chatAllMsg,i=this.allSc,this.all;break;case P9.A4:o=r.chatMsg,i=this.worldSc,this.world;break;case P9.A17:o=t.getChatDatas(s),i=this.partySc,this.party;break;default:o=r.chatAllMsg}o&&i.updateMsgs(o,!1,e),(e||t.isMySendMsg)&&(t.isMySendMsg=!1,i.ZR31()),this.ZB33(t)},t.prototype.ZK68=function(){this.chartGroup.height==ChatView.minHeig&&this.clickUnfold()},t.prototype.ZB33=function(t){switch(t.ZE97()){case 1:this.grpPrivateChat.visible=!0,this.imgPrivateChatRed.visible=!1;break;case 2:this.grpPrivateChat.visible=!0,this.imgPrivateChatRed.visible=!0;break;default:this.grpPrivateChat.visible=!1}},t.prototype.ZR36=function(t){switch(void 0===t&&(t=!1),this.tabChart.selectedItem.type){case"all":this.viewStack.selectedIndex=0;break;case"world":this.viewStack.selectedIndex=1;break;case"legion":this.viewStack.selectedIndex=2;break;default:this.viewStack.selectedIndex=0}var e=this.getChatType(this.viewStack.selectedIndex);this.inputChat.maxChars=this.baseDatas[e].maxchar;var i=App.CM.gtM(O6.C13);this.ZI18(i,!0)},t.prototype.ZV63=function(){1==this.tabChart.dataProvider.length&&this.clickUnfold()},t.prototype.clickUnfold=function(){var t=this;this.click.enabled=!1,this.click.bgStr=this.chartGroup.height==ChatView.minHeig?"v1_btn_sq_lt_png":"v1_btn_zk_lt_png";var e=this.chartGroup.height==ChatView.minHeig?ChatView.maxHeig:ChatView.minHeig;App.CM.gtM(O6.B99).fightSceneType==I4.A8?this.gpTopBtn.top=-150:this.gpTopBtn.top=-70,this.ZN69(e).call(function(){t.click.enabled=!0,egret.Tween.removeTweens(t.chartGroup),t.ZC96()}),this.updateState()},t.prototype.updateState=function(){var t=App.VM.gOV(O7.G18);t&&(this.chartGroup.height==ChatView.minHeig?t.ZR53(482):t.ZR53(350))},t.prototype.ZN69=function(t){var e=this,i=this.viewStack.selectedChild;if(i){var s=i.viewport.contentHeight-i.height-i.viewport.scrollV;i.offsetY=s}return egret.Tween.get(this.chartGroup).to({height:t},300).call(function(){i&&App.K16.doFrame(1,1,function(){return i.offsetY=void 0},e)})},t.prototype.ZC96=function(){this.tabChart.selectedItem.type;if("v1_btn_zk_lt_png"===this.click.bgStr)this.tabChart.selectedIndex=0,this.ZR36();else{switch(this.tabChart.dataProvider=this.tabCollection2,this.tabCollection2.getItemAt(0).type){case"all":this.tabChart.selectedIndex=0;break;case"world":this.tabChart.selectedIndex=1;break;case"legion":this.tabChart.selectedIndex=2;break;default:this.tabChart.selectedIndex=0}this.ZR36()}},t.prototype.ZE99=function(){var t=App.CM.gtM(O6.B84);this.btnFriend.imgNew.visible=0<t.redPoint+TF83.FL35()+TG73.FL35()},t.prototype.getChatType=function(t){switch(this.viewStack.selectedIndex){case 0:return P9.A10;case 1:return P9.A4;case 2:return P9.A17}},t.prototype.ZR39=function(){App.VM.open(O7.I66)},t.prototype.onClickEmoji=function(){var t=this.getChatType(this.viewStack.selectedIndex),e=this.baseDatas[t];App.CM.apF(O6.C13,O12.A29,this.inputChat,e)},t.prototype.onClickSend=function(){var t=1,e=this.getChatType(this.viewStack.selectedIndex),i=App.CM.gtM(O6.B82),s=this.baseDatas[e],o=App.CM.gtM(O6.C20),r=App.CM.gtM(O6.B97),n=o.ZM12();if(null!=n&&parseInt(n.fingerId)==N4.chat_send_btn&&1!=n.nFinish);else{if(i.avatarInfo.l<s.needlevel)return P18.sDP(O3.tr(4511,s.needlevel,s.describe)),void App.CM.apF(O6.C13,O12.A19,e);t=0}var a=(new Date).getTime();if(a-this.sendTimes[e]<s.needtime)P18.sDP(O3.tr(4512,Math.ceil((s.needtime-a+this.sendTimes[e])/1e3)));else{var h=this.inputChat.text;if(0!=h.length)if(h!=this.sendCnts[e])if(h.length>s.maxchar)P18.sDP(O3.tr(4515,s.maxchar));else{this.sendTimes[e]=a,this.sendCnts[e]=h;var p={channelId:e=e==P9.A10?P9.A4:e,content:h,convenient:t};"awy"==platform.name?p.platform=1:r.uname&&-1!=r.uname.indexOf("h5_yuewen_")&&(p.platform=2),App.CM.apF(O6.C13,O12.A22,p)}else P18.sDP(O3.tr(4514));else P18.sDP(O3.tr(4513))}},t.prototype.ZI20=function(){var t=App.CM.gtM(O6.C13).ZN61();App.CM.apF(O6.C13,O12.A26,t)},t.prototype.allScBottom=function(){this.allSc.validateNow(),this.allSc.viewport.scrollV=this.allSc.viewport.contentHeight-this.allSc.viewport.height,this.allSc.ZG42()},t}(BaseEuiView);__reflect(CrossCampChatView.prototype,"CrossCampChatView");var CrossCampCompIcon=function(s){function t(){return s.call(this)||this}return __extends(t,s),t.prototype.start=function(){s.prototype.start.call(this),this.gpBase=ObjectPool.pop("eui.Group"),this.gpBase.height=90,this.gpBase.anchorOffsetX=.5,this.gpBase.anchorOffsetY=.5,this.entity.parentView.addChild(this.gpBase),this.memberList=[]},t.prototype.stop=function(){s.prototype.stop.call(this),this.gpBase.removeChildren(),ObjectPool.push(this.gpBase),this.memberList=null,this.gpBase=null},t.prototype.ZN94=function(){switch(this.memberList.length){case 1:return this.gpBase.width=70,this.memberList[0].x=(this.gpBase.width-this.memberList[0].width)/2,void(this.memberList[0].y=0);case 2:this.gpBase.width=130,this.memberList[0].x=this.gpBase.width-this.memberList[0].width,this.memberList[0].y=0,this.memberList[1].x=0,this.memberList[1].y=0;break;case 3:this.gpBase.width=130,this.memberList[0].x=(this.gpBase.width-this.memberList[0].width)/2,this.memberList[0].y=-this.memberList[0].height/3*2,this.memberList[1].x=0,this.memberList[1].y=0,this.memberList[2].x=this.gpBase.width-this.memberList[2].width,this.memberList[2].y=0;break;default:this.gpBase.width=0}},t.prototype.update=function(t){if(s.prototype.update.call(this,t),this.entity.isUpdateData){for(var e in this.entity.isUpdateData=!1,this.entity.members){var i=this.entity.members[e];this.memberList[e]||(this.memberList[e]=new CrossCampIcon,0==parseInt(e)?this.gpBase.addChildAt(this.memberList[e],3):this.gpBase.addChild(this.memberList[e])),this.memberList[e].data=i,this.memberList[e].horizontalCenter=void 0,this.memberList[e].verticalCenter=void 0,this.memberList[e].left=void 0,this.memberList[e].right=void 0,this.memberList[e].top=void 0}for(e=this.entity.members.length;e<this.memberList.length;e++)this.gpBase.removeChild(this.memberList[e]),this.memberList.splice(e,1);this.ZN94()}this.entity.isMySelf&&this.gpBase&&this.gpBase.parent==this.entity.parentView&&this.entity.parentView.setChildIndex(this.gpBase,1e4),this.setPos()},t.prototype.setPos=function(){this.gpBase.x!=this.entity.x&&(this.gpBase.x=this.entity.x),this.gpBase.y!=this.entity.y&&(this.gpBase.y=this.entity.y)},t}(FightComponent);__reflect(CrossCampCompIcon.prototype,"CrossCampCompIcon");var CrossCampIcon=function(e){function t(){var t=e.call(this)||this;return t.skinName=CrossCampIconSkin,t.addEventListener(egret.Event.ADDED_TO_STAGE,t.open,t),t.addEventListener(egret.Event.REMOVED_FROM_STAGE,t.close,t),t}return __extends(t,e),t.prototype.open=function(){},t.prototype.close=function(){},t.prototype.dataChanged=function(){this.imgIcon.source=this.data.icon,this.gpName.visible=this.data.isLeader,this.data.isLeader&&(this.lbName.text=this.data.name,this.lbName.textColor=CROSSCAMP_COUNTRY_COLOR[this.data.country])},t}(eui.ItemRenderer);__reflect(CrossCampIcon.prototype,"CrossCampIcon");var CrossCampCompMoveLine=function(d){function t(){return d.call(this)||this}return __extends(t,d),t.prototype.start=function(){d.prototype.start.call(this),this.gpBase=ObjectPool.pop("eui.Group"),this.gpBase.height=0,this.gpBase.width=0,this.entity.parentView.addChildAt(this.gpBase,100),this.lineList=[],this.isSetLine=!1},t.prototype.stop=function(){d.prototype.stop.call(this),this.gpBase.removeChildren(),ObjectPool.push(this.gpBase),this.lineList=null,this.gpBase=null},t.prototype.update=function(t){if(d.prototype.update.call(this,t),this.isSetLine&&this.endX==this.entity.endX&&this.endY==this.entity.endY){if((i=App.TG81.getDistance(this.startX,this.startY,this.entity.x,this.entity.y))>=C1.A1-1){this.startX=this.entity.x,this.startY=this.entity.y;a=Math.round(i/C1.A1),u=this.lineList.splice(0,a);for(var e in u)this.gpBase.removeChild(u[e])}}else{this.isSetLine=!0,this.setPos(),this.endX=this.entity.endX,this.endY=this.entity.endY,this.startX=this.entity.x,this.startY=this.entity.y;for(var i=App.TG81.getDistance(this.entity.x,this.entity.y,this.endX,this.endY),s=App.TG81.getRadian2(this.entity.x,this.entity.y,this.endX,this.endY),o=s*(180/Math.PI),r=Math.cos(s)*C1.A1,n=Math.sin(s)*C1.A1,a=Math.round((i-10)/C1.A1),h=0;h<this.lineList.length;h++){var p=r*(h+1),l=n*(h+1);(c=this.lineList[h]).x=p,c.y=l,c.rotation=o}for(h=this.lineList.length;h<a;h++){var c;(c=new eui.Image).source="jiantou_png";p=r*(h+1),l=n*(h+1);c.x=p,c.y=l,c.rotation=o,this.gpBase.addChild(c),this.lineList.push(c)}if(this.lineList.length>a){var u=this.lineList.splice(a,this.lineList.length-a);for(var e in u)this.gpBase.removeChild(u[e])}}},t.prototype.setPos=function(){this.gpBase.x!=this.entity.x&&(this.gpBase.x=this.entity.x),this.gpBase.y!=this.entity.y&&(this.gpBase.y=this.entity.y-50)},t}(FightComponent);__reflect(CrossCampCompMoveLine.prototype,"CrossCampCompMoveLine");var CrossCampObj=function(){function t(t,e,i){this.speed=FightD.CC_WalkSpeed,this.objType=P13.A2,this.gameView=i,this._comps={},this.parentView=e,this.updateData(t)}return t.prototype.updateData=function(t){var e;this.id=t.id,this.startX=t.startX,this.startY=t.startY,null!=this.x&&null!=this.y&&this.x==this.startX&&this.y==this.startY||(this.x=this.startX,this.y=this.startY),this.country=t.country;App.CM.gtM(O6.B22);if(this.buildId!=t.buildId)this.buildId=t.buildId,0!=t.buildId?(e=G10.FJ59(this.buildId,1),t.isOwnBuild&&(e.y=e.y-this.gameView.ZK93(this.buildId).height/5)):0==t.buildId&&(t.endX!=t.startX&&t.endY!=t.startY?e=new egret.Point(t.endX,t.endY):(this.x=t.endX,this.y=t.endY,this.path=null));else if(0==this.isOccupy&&t.isOwnBuild&&0!=this.buildId){this.isOccupy=t.isOwnBuild;var i=G10.FJ59(this.buildId,1);i.y=i.y-this.gameView.ZK93(this.buildId).height/5,this.x=i.x,this.y=i.y,this.path=null}if(this.action==Action.Move&&this.addComponent(J14.C_CrossCampMoveLine),e){var s=this.x,o=this.y,r=TG67.FE98(s,o),n=r.x,a=r.y,h=TG67.FE98(e.x,e.y),p=h.x,l=h.y,c=void 0;(c=this.gameView.FK54().ZS28(n,a,p,l,!0))&&1<c.length?(c.shift(),this.path=c):this.path=null}this.members=[];for(var u=0;u<t.iconList.length;u++){var d={};d.icon=t.iconList[u],0==u?(d.isLeader=!0,d.name=t.name,d.country=t.country):d.isLeader=!1,this.members.push(d)}this.isUpdateData=!0,this.addComponent(J14.C_CrossCampIcon)},t.prototype.setMySelf=function(t){this.isMySelf=t},t.prototype.addComponent=function(t){if(!this._comps[t]){var e=ObjectPool.pop(t);e.type=t,e.entity=this,e.start(),FightCompManager.addComponent(e),this._comps[t]=e}},t.prototype.ZG61=function(){for(var t=Object.keys(this._comps);t.length;){var e=t[0];this.ZN95(e),t=Object.keys(this._comps)}},t.prototype.ZN95=function(t){var e=this._comps[t];e&&(FightCompManager.ZN95(e),e.stop(),ObjectPool.push(e),this._comps[t]=null,delete this._comps[t])},t.prototype.getComponent=function(t){return this._comps[t]},t.prototype.setGameScene=function(t){this.gameView=t},Object.defineProperty(t.prototype,"path",{get:function(){return this._path},set:function(t){if(this._path=t,this.pathChange=!0,this._path){if(this.isMySelf){App.CM.gtM(O6.B22).isMoving=!0;var e=TG67.FE97(t[0].x,t[0].y);this.endX=e.x,this.endY=e.y,this.addComponent(J14.C_CrossCampMoveLine)}}else this.isMySelf&&this.ZN95(J14.C_CrossCampMoveLine)},enumerable:!0,configurable:!0}),t.prototype.destroy=function(){this.ZG61()},t}();__reflect(CrossCampObj.prototype,"CrossCampObj");var CrossCampRankView=function(o){function t(t,e){var i=o.call(this,t,e)||this;return i.maxCount=4,i.skinName=CrossCampRankSkin,i}return __extends(t,o),t.prototype.initData=function(){},t.prototype.initUI=function(){o.prototype.initUI.call(this);var t={render:ItemCrossCampRank,gap:5,width:this.gpList.width,height:this.gpList.height,arrowScale:1};this.listView=new CommonListBase(t),this.gpList.addChild(this.listView),this.listView.verticalCenter=0,this.listView.horizontalCenter=0,this.ZK85()},t.prototype.ZK85=function(){0==App.CM.gtM(O6.B22).w?this.lbStr1.textFlow=M18.HTP.parse(O3.tr(5336)):this.lbStr1.textFlow=M18.HTP.parse(O3.tr(7925))},t.prototype.open=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];o.prototype.open.call(this),this.dlg.ZM69(this.closeSelf,this),this.apF(G12.A2),this.dlg.title=O3.tr(824),this.dlg.ZQ16(this.onClickHelp,this),this.curPage=0,this.btnLeft.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickLeft,this),this.btnRight.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickRight,this)},t.prototype.uBM=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];o.prototype.uBM.call(this,t,e);var s=e&&0<e.length?e[0]:null;t instanceof TE67&&(s==P4.E25&&this.ZC38(t),s==P4.Q62&&(this.ZK85(),this.ZK86()))},t.prototype.ZK86=function(){if(this.listView&&this.listView.dataSource)for(var t=this.listView.dataSource,e=t.length,i=0;i<e;i++)t.itemUpdated(t[i])},t.prototype.ZC38=function(t){if(t.rankList){var e=t.rankList.slice(this.curPage*this.maxCount,(this.curPage+1)*this.maxCount);this.listView.rfL(e)}var i=t.myRank;if(i)this.lbRanking.textFlow=M18.HTP.parser(O3.tr(815,i.r)),this.lbIntegral.textFlow=M18.HTP.parser(O3.tr(816,i.inte));else{this.lbRanking.textFlow=M18.HTP.parser(O3.tr(815,O3.tr(3252)));var s=null!=t.point?t.point:0;this.lbIntegral.textFlow=M18.HTP.parser(O3.tr(816,s))}this.totalPage=Math.ceil(t.rankList.length/this.maxCount),this.lbPages.text=this.curPage+1+"/"+this.totalPage},t.prototype.onClickLeft=function(){var t=this.curPage-1;this.curPage=Math.max(t,0);var e=App.CM.gtM(O6.B22);this.ZC38(e)},t.prototype.onClickRight=function(){var t=this.curPage+1;this.curPage=Math.min(t,this.totalPage-1);var e=App.CM.gtM(O6.B22);this.ZC38(e)},t.prototype.onClickHelp=function(){var t={title:O3.tr(1831),content:G10.gIV("rankHelp")};App.CM.apF(O6.C18,O10.A24,t)},t.prototype.close=function(){o.prototype.close.call(this),this.btnLeft.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickLeft,this),this.btnRight.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickRight,this)},t.prototype.closeSelf=function(){this.apF(G12.A37)},t}(BaseEuiView);__reflect(CrossCampRankView.prototype,"CrossCampRankView");var CrossCampTeamView=function(o){function t(t,e){var i=o.call(this,t,e)||this;return i.skinName=CrossCampTeamSkin,i}return __extends(t,o),t.prototype.initData=function(){},t.prototype.initUI=function(){o.prototype.initUI.call(this);var t={render:ItemCrossCampTeam,gap:5,width:this.gpList.width,height:this.gpList.height,arrowScale:1};this.listView=new CommonListBase(t),this.gpList.addChild(this.listView),this.listView.verticalCenter=0,this.listView.horizontalCenter=0,this.lbStr1.textFlow=M18.HTP.parse(O3.tr(5337)),this.btnCreate.label=O3.tr(5338)},t.prototype.open=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];o.prototype.open.call(this);var i=App.CM.gtM(O6.B22);this.ZC38(i),App.CM.apF(O6.B22,G12.A4),this.bgMask.addEventListener(egret.TouchEvent.TOUCH_TAP,this.closeSelf,this),this.btnCreate.addEventListener(egret.TouchEvent.TOUCH_TAP,this.ZU76,this),this.btnBack.addEventListener(egret.TouchEvent.TOUCH_TAP,this.closeSelf,this)},t.prototype.uBM=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];o.prototype.uBM.call(this,t,e);var s=e&&0<e.length?e[0]:null;if(t instanceof TE67){if(s==P4.I74||s==P4.M55)return void this.closeSelf();this.ZC38(t)}},t.prototype.ZC38=function(t){var e=t.teamList;this.listView.rfL(e)},t.prototype.ZU76=function(){App.CM.apF(O6.B22,G12.A15)},t.prototype.close=function(){o.prototype.close.call(this),this.bgMask.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.closeSelf,this),this.btnCreate.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.ZU76,this)},t.prototype.closeSelf=function(){this.apF(G12.A35)},t}(BaseEuiView);__reflect(CrossCampTeamView.prototype,"CrossCampTeamView");var CrossCampTipView=function(s){function t(t,e){var i=s.call(this,t,e)||this;return i.maxPage=5,i.skinName=CrossCampTipSkin,i}return __extends(t,s),t.prototype.initData=function(){},t.prototype.initUI=function(){s.prototype.initUI.call(this),this.btnNext.label=O3.tr(5775),this.lbName.textFlow=M18.HTP.parse(O3.tr(5776)),this.lbName0.textFlow=M18.HTP.parse(O3.tr(5777)),this.lbName1.textFlow=M18.HTP.parse(O3.tr(5778)),this.lbName2.textFlow=M18.HTP.parse(O3.tr(5779)),this.lbName3.textFlow=M18.HTP.parse(O3.tr(5780)),this.lbStr1.textFlow=M18.HTP.parse(O3.tr(5781)),this.lbStr2.textFlow=M18.HTP.parse(O3.tr(5781)),this.lbStr3.textFlow=M18.HTP.parse(O3.tr(5781)),this.lbTip3_1.textFlow=M18.HTP.parse(O3.tr(5782)),this.lbTip3_2.textFlow=M18.HTP.parse(O3.tr(5783)),this.lbTip4_1.textFlow=M18.HTP.parse(O3.tr(5782)),this.lbTip4_2.textFlow=M18.HTP.parse(O3.tr(5783)),this.lbTip4_3.textFlow=M18.HTP.parse(O3.tr(5784)),this.cbKnow.label=O3.tr(5785)},t.prototype.open=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];s.prototype.open.call(this),this.curPage=1,this.btnNext.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickNext,this),this.bgMask.addEventListener(egret.TouchEvent.TOUCH_TAP,this.closeSelf,this),this.cbKnow.addEventListener(egret.Event.CHANGE,this.onChange,this),this.currentState="tip"+this.curPage,this.updateText()},t.prototype.uBM=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];s.prototype.uBM.call(this,t,e),t instanceof TE67&&this.ZC38(t)},t.prototype.ZC38=function(t){this.currentState="tip"+this.curPage},t.prototype.updateText=function(){this.lbTip.text=G10.FA88(this.curPage),5==this.curPage&&(this.btnNext.label=O3.tr(5787))},t.prototype.onClickNext=function(){this.curPage==this.maxPage?(this.cbKnow.selected&&App.CM.apF(O6.B82,L13.A24,L17.A3),this.closeSelf()):(this.curPage++,this.currentState="tip"+this.curPage,this.validateNow()),this.updateText()},t.prototype.onChange=function(){TG40.playClickEffect()},t.prototype.closeSelf=function(){this.apF(G12.A43)},t.prototype.close=function(){this.bgMask.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.closeSelf,this),this.btnNext.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickNext,this)},t}(BaseEuiView);__reflect(CrossCampTipView.prototype,"CrossCampTipView");var CrossCampUiView=function(o){function t(t,e){var i=o.call(this,t,e)||this;return i.skinName=CrossCampUiSkin,i}return __extends(t,o),t.prototype.initData=function(){},t.prototype.initUI=function(){o.prototype.initUI.call(this),this.gpBg.touchEnabled=!1,this.listTeam.itemRenderer=ItemCrossCampMyTeam,this.dataSource=new eui.ArrayCollection,this.listTeam.dataProvider=this.dataSource,this.btnLocal.label=O3.tr(4393),this.btnTeam.label=O3.tr(4394),this.cbKnow.label=O3.tr(4395)},t.prototype.open=function(){for(var t=this,e=[],i=0;i<arguments.length;i++)e[i]=arguments[i];o.prototype.open.call(this);var s=App.CM.gtM(O6.B22);this.cbKnow.selected=s.isCameraFollow,this.ZC38(s),this.btnBack.addEventListener(egret.TouchEvent.TOUCH_TAP,this.closeSelf,this),App.DelayOptManager.ZE59(this,function(){t.ZR53(350)}),this.btnTeam.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickTeam,this),this.btnJiantou.addEventListener(egret.TouchEvent.TOUCH_TAP,this.ZR65,this),this.isShowTeam=!0,this.cbKnow.addEventListener(egret.Event.CHANGE,this.onChange,this),this.btnLocal.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickLocal,this)},t.prototype.uBM=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];o.prototype.uBM.call(this,t,e),t instanceof TE67&&this.ZC38(t)},t.prototype.ZC38=function(t){this.lbPoint.textFlow=M18.HTP.parser(O3.tr(807,t.point));var e=1;for(var i in t.pointRank){var s=t.pointRank[i],o=void 0;switch(s.country){case C19.A1:o=O3.tr(805);break;case C19.A2:o=O3.tr(804);break;case C19.A3:o=O3.tr(806)}this["lbRank"+e].text=o+"  "+s.point,this["lbRank"+e].textColor=CROSSCAMP_COUNTRY_COLOR[s.country],e++}for(i=e;i<=3;i++)this["lbRank"+i].text="";this.lbPoint.textFlow=M18.HTP.parser(O3.tr(807,t.point)),this.leftCD=t.getActCd();var r=P6.FJ11(1e3*this.leftCD,5);if(2==t.state?this.cdStrId=808:1==t.state&&(this.cdStrId=818),this.lbTime.textFlow=M18.HTP.parser(O3.tr(this.cdStrId,r)),this.timerHandler=App.K16.doTimer(1e3,this.leftCD,this.GY14,this),t.memberList&&0!=t.memberList.length){this.currentState="inTeam";var n=[];for(var i in t.memberList)n.push(t.memberList[i]);for(i=n.length;i<3;i++)n.push({});this.dataSource.replaceAll(n)}else this.currentState="noTeam"},t.prototype.GY14=function(){this.leftCD--;var t=P6.FJ11(1e3*this.leftCD,5);this.lbTime.textFlow=M18.HTP.parser(O3.tr(this.cdStrId,t)),this.leftCD<=0&&(this.cTH(),this.lbTime.text="")},t.prototype.cTH=function(){null!=this.timerHandler&&(App.K16.rBH(this.timerHandler),this.timerHandler=null)},t.prototype.onChange=function(){var t=App.CM.gtM(O6.B22);t.isCameraFollow=this.cbKnow.selected,t.notify(C1.A2),TG40.playClickEffect()},t.prototype.onClickLocal=function(){var t=this;if(0!=App.CM.gtM(O6.B22).curBuild){var e=function(){App.CM.apF(O6.B22,G12.A48,0),App.K16.doTimer(200,1,function(){App.CM.apF(O6.B22,G12.A26)},t)};if(TE69.FHH6()){var i={handler:e,content:O3.tr(822)};App.VM.open(O7.C54,i)}else e()}else P18.sDP(O3.tr(828))},t.prototype.onClickTeam=function(){App.CM.apF(O6.B22,G12.A34)},t.prototype.ZR65=function(){var t=this;this.isShowTeam?egret.Tween.get(this.gpLeft).to({left:-this.gpLeft.width},200).call(function(){t.isShowTeam=!1,t.btnJiantou.scaleX=1}):egret.Tween.get(this.gpLeft).to({left:0},200).call(function(){t.isShowTeam=!0,t.btnJiantou.scaleX=-1})},t.prototype.ZR53=function(t){var e=this;egret.Tween.get(this.gpBg).to({bottom:t},300).call(function(){egret.Tween.removeTweens(e.gpBg)})},t.prototype.close=function(){o.prototype.close.call(this),this.btnTeam.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickTeam,this),this.btnJiantou.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.ZR65,this),this.cbKnow.removeEventListener(egret.Event.CHANGE,this.onChange,this),this.leftCD=null,this.btnLocal.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickLocal,this)},t.prototype.closeSelf=function(){this.apF(G12.A46)},t}(BaseEuiView);__reflect(CrossCampUiView.prototype,"CrossCampUiView");var CrossCampView=function(o){function t(t,e){var i=o.call(this,t,e)||this;return i.isOpenMap=!1,i.skinName="CrossCampSkin",i.sGN("release_crosscamp"),i}return __extends(t,o),t.prototype.initUI=function(){o.prototype.initUI.call(this),this.scBase.viewport=this.gpContent,this.scBase.top=0,this.scBase.bottom=0,this.scBase.left=0,this.scBase.right=0,this.grpMap=new FightMapView,this.gpContent.addChild(this.grpMap),this.grpGround=new eui.Group,this.grpGround.width=1080,this.grpGround.height=1800,this.gpContent.addChild(this.grpGround),this.mapData=new FightMapData},t.prototype.open=function(){o.prototype.open.call(this),App.CM.gtM(O6.B99).fightSceneType=I4.A5,this.grpMap.addEventListener(egret.TouchEvent.TOUCH_TAP,this.ZR67,this),this.grpGround.addEventListener(egret.TouchEvent.TOUCH_TAP,this.ZR67,this),App.CM.apF(O6.C10,O16.A5),App.CM.apF(O6.C10,O16.A16),App.CM.apF(O6.B63,K7.A7),App.CM.apF(O6.C10,O16.A5),App.CM.apF(O6.B64,J18.A31),App.CM.apF(O6.C20,K2.A9),App.CM.apF(O6.B16,G13.A27),App.CM.apF(O6.B87,L10.A3);var t=G10.gIV("chapterId");this.setSceneData(t);var e=App.CM.gtM(O6.B22);this.updateCamera(e),this.isOpenMap=!0,App.CM.apF(O6.B22,G12.A26),this.timerHandler||(this.timerHandler=App.K16.doTimer(2e3,0,function(){App.CM.apF(O6.B22,G12.A26)},this)),this.clearGround(),this.ZW12(e),this.ZR66()},t.prototype.clearGround=function(){for(var t in this.grpGround.removeChildren(),this.playerList)this.playerList[t].destroy();this.playerList=null,this.mySelf=null,this.buildBtnList=null},t.prototype.show=function(){this.visible=!0},t.prototype.hide=function(){this.visible=!1},t.prototype.setSceneData=function(t){null!=t&&(this.curMapName=t,this.loadMapRes())},t.prototype.loadMapRes=function(){this.isInit()&&null!=this.curMapName&&(this.showMapName&&this.curMapName==this.showMapName?this.openSceneUI():(this.showMapName?(FightRes.ZO48(this.curMapName,this.ZI4.bind(this)),this.grpMap.setMapName(this.curMapName)):this.grpMap.setMapName(this.curMapName,this.ZD89.bind(this),mapWH.SET_576_647),this.showMapName=this.curMapName))},t.prototype.ZD89=function(){FightRes.ZO48(this.curMapName,this.ZI4.bind(this))},t.prototype.ZI4=function(){this.mapData.setData(RES.getRes(FightRes.getMapResKey(this.curMapName))),this.grpMap.width=this.grpGround.width=this.mapData.getMapWidth(),this.grpMap.height=this.grpGround.height=this.mapData.getMapHeight(),this.grpMap.x=0,this.grpMap.y=0,this.grpGround.x=0,this.grpGround.y=0,this.openSceneUI()},t.prototype.ZW12=function(t){for(var e in this.buildBtnList={},t.buildList){var i=t.buildList[e],s=new CrossCampBuild;s.data=i,this.buildBtnList[i.id]=s;var o=G10.FJ59(i.id,1);s.x=o.x-s.width/2,s.y=o.y-s.height/2,this.grpGround.addChildAt(s,0)}},t.prototype.ZR66=function(){for(var t=G10.gIV("countryCoo"),e=M18.FL28(t,"|",","),i=1;i<=3;i++){var s=new ItemCrossCampCountry;s.data=i,s.x=parseInt(e[i-1][0]),s.y=parseInt(e[i-1][1]),this.grpGround.addChild(s)}},t.prototype.uBM=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];o.prototype.uBM.apply(this,[t].concat(e));var s=e&&0<e.length?e[0]:null;t instanceof TE67?this.ZC38(t,s):t instanceof TG65&&this.ZG47(t,s)},t.prototype.ZG47=function(t,e){switch(e){case FightD.FC_Update_UI:this.openSceneUI();break;case FightD.FC_Close_UI:this.closeSceneUI()}},t.prototype.ZC38=function(t,e){var i=this;switch(e){case P4.T86:var s=App.CM.gtM(O6.B82);App.CM.gtM(O6.B22);s.setting.indexOf(L17.A3)<0&&App.CM.apF(O6.B22,G12.A42),App.K16.doTimer(700,1,function(){i.ZW13(t),i.updateCdItem(t)},this);break;case P4.O74:case P4.S27:this.isUpdateMy=!0,this.ZW13(t),this.updateCdItem(t),this.isUpdateMy=!1;break;case P4.HH9:case P4.M55:case P4.M57:case P4.S26:this.isUpdateMy=!0,this.ZW13(t),this.apF(G12.A26);break;case P4.Q64:this.isUpdateMy=!0,this.updateCdItem(t);break;case P4.T88:App.CM.gtM(O6.B99).fightSceneType=I4.A8,this.apF(G12.A54);break;case C1.A2:this.updateCamera(t)}(e==P4.M57||null!=t.isWin&&!t.isWin)&&(t.isWin=void 0,this.isQuitTeam=!0)},t.prototype.ZW13=function(t){this.playerList||(this.playerList={});var e=O4.getAid(),i=!1;for(var s in t.moveList){var o=t.moveList[s];if(o.isShow){if(this.playerList[o.id])(this.isUpdateMy||o.id!=e||o.isRefresh)&&(this.playerList[o.id].updateData(o),o.isRefresh=!1);else{var r=new CrossCampObj(o,this.ZR68(),this);this.playerList[o.id]=r}this.playerList[o.id].setMySelf(!1),o.id==e?(i=!0,this.mySelf=this.playerList[o.id]):(this.playerList[o.id].ZN95(J14.C_CrossCampCamera),this.playerList[o.id].ZN95(J14.C_Control))}}if(!i&&t.memberList&&0<t.memberList.length)for(var s in t.memberList){var n=t.memberList[s];this.playerList[n.id]&&(this.mySelf=this.playerList[n.id])}for(var s in this.mySelf&&(this.mySelf.setMySelf(!0),(t.isCameraFollow||this.isOpenMap)&&0<this.grpMap.width&&0<this.grpMap.height?(this.isOpenMap=!1,this.mySelf.addComponent(J14.C_CrossCampCamera)):this.mySelf.ZN95(J14.C_CrossCampCamera),t.curBuild&&0!=this.mySelf.buildId||(t.curBuild=this.mySelf.buildId,t.myPos.x=this.mySelf.x,t.myPos.y=this.mySelf.y),this.isQuitTeam&&(this.isQuitTeam=!1,this.mySelf.addComponent(J14.C_CrossCampCamera)),this.mySelf.addComponent(J14.C_Control)),this.playerList)this.playerList[s].addComponent(J14.C_Move);this.removePlayer(t)},t.prototype.removePlayer=function(t){var e=[];for(var i in this.playerList){var s=0,o=void 0;for(s=0;s<t.moveList.length;s++){if((r=t.moveList[s]).id==parseInt(i)){if(r.isShow){o=!1;break}o=!0;break}}(s==t.moveList.length||o)&&e.push(i)}for(var i in e){var r=e[i];this.playerList[r].ZN95(J14.C_CrossCampIcon),this.playerList[r].destroy(),delete this.playerList[r]}},t.prototype.updateCdItem=function(t){for(var e in t.buildList){var i=t.buildList[e];this.buildBtnList[i.id].data=i}},t.prototype.updateCamera=function(t){t.isCameraFollow?(this.scBase.scrollPolicyH=eui.ScrollPolicy.OFF,this.scBase.scrollPolicyV=eui.ScrollPolicy.OFF,this.mySelf&&(this.mySelf.resetCamera=!0,this.mySelf.addComponent(J14.C_CrossCampCamera))):(this.scBase.scrollPolicyH=eui.ScrollPolicy.ON,this.scBase.scrollPolicyV=eui.ScrollPolicy.ON,this.mySelf&&this.mySelf.ZN95(J14.C_CrossCampCamera))},t.prototype.ZK93=function(t){if(this.buildBtnList[t])return this.buildBtnList[t].getBuildSize()},t.prototype.close=function(){o.prototype.close.call(this),this.closeSceneUI(),this.grpMap.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.ZR67,this),this.grpGround.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.ZR67,this),App.K16.rBH(this.timerHandler),this.timerHandler=null,this.clearGround()},t.prototype.ZR67=function(t){var e=App.VM.gOV(O7.E34);e&&e.chartGroup.height>ChatView.minHeig&&e.clickUnfold()},t.prototype.destroy=function(){o.prototype.destroy.call(this)},t.prototype.getBgMap=function(){return this.grpMap},t.prototype.ZR68=function(){return this.grpGround},t.prototype.ZR69=function(){return this.gpContent},t.prototype.FK54=function(){return this.mapData},t.prototype.openSceneUI=function(){App.CM.apF(O6.B22,G12.A50)},t.prototype.closeSceneUI=function(){App.CM.apF(O6.B22,G12.A51)},t}(BaseEuiView);__reflect(CrossCampView.prototype,"CrossCampView");var ItemBuildTeamMsg=function(e){function t(){var t=e.call(this)||this;return t.skinName=ItemBuildTeamMsgSkin,t.addEventListener(egret.Event.ADDED_TO_STAGE,t.open,t),t.addEventListener(egret.Event.REMOVED_FROM_STAGE,t.close,t),t}return __extends(t,e),t.prototype.open=function(){this.pBarPower.labelFunction=function(t,e){return Math.floor(t/e*100)+"%"}},t.prototype.close=function(){},t.prototype.dataChanged=function(){this.lbName.text=this.data.name,this.lbLv.textFlow=M18.HTP.parser(O3.tr(801,this.data.lv));var t=M18.FM20(this.data.power,0,1e4);this.lbPower.textFlow=M18.HTP.parser(O3.tr(802,t)),this.pBarPower.maximum=this.data.totalHp,this.pBarPower.value=this.data.hp,this.imgIcon.source=this.data.icon},t}(eui.ItemRenderer);__reflect(ItemBuildTeamMsg.prototype,"ItemBuildTeamMsg");var ItemCrossCampCountry=function(e){function t(){var t=e.call(this)||this;return t.skinName=CrossCampCountrySkin,t.addEventListener(egret.Event.ADDED_TO_STAGE,t.open,t),t.addEventListener(egret.Event.REMOVED_FROM_STAGE,t.close,t),t}return __extends(t,e),t.prototype.open=function(){},t.prototype.close=function(){},t.prototype.dataChanged=function(){switch(this.data){case C19.A1:this.lbCountry.text=O3.tr(805);break;case C19.A2:this.lbCountry.text=O3.tr(804);break;case C19.A3:this.lbCountry.text=O3.tr(806)}},t}(eui.ItemRenderer);__reflect(ItemCrossCampCountry.prototype,"ItemCrossCampCountry");var ItemCrossCampMyTeam=function(e){function t(){var t=e.call(this)||this;return t.skinName=ItemCrossCampMyTeamSkin,t.pBarPower.slideDuration=0,t.addEventListener(egret.Event.ADDED_TO_STAGE,t.open,t),t.addEventListener(egret.Event.REMOVED_FROM_STAGE,t.close,t),t}return __extends(t,e),t.prototype.open=function(){this.pBarPower.labelFunction=function(t,e){return Math.floor(t/e*100)+"%"},this.gpClose.addEventListener(egret.TouchEvent.TOUCH_TAP,this.oCC,this)},t.prototype.close=function(){this.gpClose.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.oCC,this)},t.prototype.dataChanged=function(){if(this.data.id){this.currentState="have",this.lbName.text=this.data.name,this.lbLv.textFlow=M18.HTP.parser(O3.tr(801,this.data.lv));var t=M18.FM20(this.data.power,0,1e4);this.lbPower.textFlow=M18.HTP.parser(O3.tr(802,t)),this.pBarPower.maximum=this.data.totalHp,this.pBarPower.value=this.data.hp;var e=O4.getAid();if(this.data.id==e)this.imgClose.visible=!0;else App.CM.gtM(O6.B22).isTeamLeader?this.imgClose.visible=!0:this.imgClose.visible=!1}else this.currentState="none";this.imgIcon.source=this.data.icon},t.prototype.oCC=function(){var t=O4.getAid();this.data.id==t?App.CM.apF(O6.B22,G12.A24):App.CM.gtM(O6.B22).isTeamLeader&&App.CM.apF(O6.B22,G12.A9,this.data.id)},t}(eui.ItemRenderer);__reflect(ItemCrossCampMyTeam.prototype,"ItemCrossCampMyTeam");var ItemCrossCampRank=function(e){function t(){var t=e.call(this)||this;return t.skinName=ClimbRankingItemSkin,t.addEventListener(egret.Event.ADDED_TO_STAGE,t.open,t),t.addEventListener(egret.Event.REMOVED_FROM_STAGE,t.close,t),t}return __extends(t,e),t.prototype.childrenCreated=function(){e.prototype.createChildren.call(this),this.itemCollection=new eui.ArrayCollection,this.itemData.dataProvider=this.itemCollection,this.itemData.itemRenderer=ItemIcon,this.scr.scrollPolicyV=eui.ScrollPolicy.OFF,this.scr.viewport=this.itemData,this.lbF.textFlow=M18.HTP.parse(O3.tr(4392))},t.prototype.open=function(){},t.prototype.close=function(){this.itemCollection.removeAll()},t.prototype.dataChanged=function(){this.lbRanking.text=O3.tr(813,this.data.r),this.lbName.textFlow=M18.HTP.parser(O3.tr(814,this.data.sa)),this.lbIntegral.text=this.data.inte;var t=G10.FB60(this.data.r);if(t){var e=M18.FL28(t,";",":"),i=[];for(var s in e){var o={data:N12.gID(e[s][0]),ct:e[s][1]};i.push({itemData:o,isBottom:!1,scale:1})}this.itemCollection.replaceAll(i)}},t}(eui.ItemRenderer);__reflect(ItemCrossCampRank.prototype,"ItemCrossCampRank");var ItemCrossCampTeam=function(e){function t(){var t=e.call(this)||this;return t.skinName=ItemCrossCampTeamSkin,t.addEventListener(egret.Event.ADDED_TO_STAGE,t.open,t),t.addEventListener(egret.Event.REMOVED_FROM_STAGE,t.close,t),t}return __extends(t,e),t.prototype.open=function(){this.btnJoin.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickJoin,this)},t.prototype.close=function(){this.btnJoin.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickJoin,this)},t.prototype.dataChanged=function(){this.lbName.text=this.data.n,this.lbNum.textFlow=M18.HTP.parser(O3.tr(800,this.data.s))},t.prototype.onClickJoin=function(){App.CM.apF(O6.B22,G12.A22,this.data.id)},t}(eui.ItemRenderer);__reflect(ItemCrossCampTeam.prototype,"ItemCrossCampTeam");var TD39=function(){function t(){}return t.FK35=function(t){for(var e in this.init=t.crosscliff_init,this.fireshiphp=t.crosscliff_field,this.reward=t.crosscliff_reward,this.map=t.crosscliff_map,this.revivalCost=this.ZR70(),this.openDay=this.gIV("openDay").split(","),this.openDay)this.openDay[e]=parseInt(this.openDay[e]);this.initBase(),this.doubleTime=this.ZV6()},t.FJ53=function(){if(this.init)return this.gIV("startTime")},t.ZV6=function(){var t={};return this.init?t={pt:P6.FM3(this.gIV("startTime")),vt:P6.FM3(this.gIV("endTime"))}:t},t.initBase=function(){if(this.init){this.unlockLv=this.FE59("unlockLv"),this.unlockDate=this.FE59("unlockDate"),this.revivalTime=this.FE59("revivalTime"),this.fireShipSpe=this.FE59("fireShipSpe"),this.playerShipSpe=this.FE59("playerShipSpe"),this.collectionTime=this.FE59("collectionTime"),this.ropeTime=this.FE59("ropeTime"),this.mapId=this.FE59("mapId"),this.safePos={},this.cablePos={},this.allWoods={},this.firePos={},this.firePos[C7.A2]={},this.firePos[C7.A1]={};var t,e,i=M18.FL28(this.gIV("clickRange"),",");for(var s in this.clickRange={r:parseInt(i[0]),num:parseInt(i[1])},this.map)switch(parseInt(s)){case C8.A1:case C8.A2:e=M18.FL28(this.map[s].range,";",","),(p=new CrossCliffRegionVo).x=parseInt(e[0][0]),p.y=parseInt(e[0][1]),e[1][1]?(p.isRound=!1,p.w=parseInt(e[1][0]),p.h=parseInt(e[1][1])):(p.isRound=!0,p.r=parseInt(e[1][0]));var o=parseInt(s)==C8.A1?C7.A2:C7.A1;this.safePos[o]=p;break;case C8.A3:case C8.A4:e=M18.FL28(this.map[s].range,";",","),(p=new CrossCliffRegionVo).x=parseInt(e[0][0]),p.y=parseInt(e[0][1]),e[1][1]?(p.isRound=!1,p.w=parseInt(e[1][0]),p.h=parseInt(e[1][1])):(p.isRound=!0,p.r=parseInt(e[1][0]));o=parseInt(s)==C8.A3?C7.A2:C7.A1;this.cablePos[o]=p;break;case C8.A5:case C8.A6:case C8.A7:t=this.map[s],e=M18.FL28(t.range,"-",";",",");var r=1;for(var n in this.allWoods)r++;for(var a in e){var h=new CrossCliffRegionVo;h.x=parseInt(e[a][0][0]),h.y=parseInt(e[a][0][1]),e[a][1][1]?(h.isRound=!1,h.w=parseInt(e[a][1][0]),h.h=parseInt(e[a][1][1])):(h.isRound=!0,h.r=parseInt(e[a][1][0])),h.img=t.img,this.allWoods[r]=h}break;case C8.A8:case C8.A9:var p;e=M18.FL28(this.map[s].range,";",","),(p=new CrossCliffRegionVo).x=parseInt(e[0][0]),p.y=parseInt(e[0][1]),e[1][1]?(p.isRound=!1,p.w=parseInt(e[1][0]),p.h=parseInt(e[1][1])):(p.isRound=!0,p.r=parseInt(e[1][0]));o=parseInt(s)==C8.A8?C7.A2:C7.A1;this.birthPos[o]=p}var l=M18.FL28(this.gIV("fireShipLine1"),";",",");for(var s in l)this.firePos[C7.A2][s]={x:parseInt(l[s][0]),y:parseInt(l[s][1])};var c=M18.FL28(this.gIV("fireShipLine2"),";",",");for(var s in c)this.firePos[C7.A1][s]={x:parseInt(c[s][0]),y:parseInt(c[s][1])}}},t.gIV=function(t){var e="";return this.init?e=this.init[t].value:e},t.FE59=function(t){var e;return this.init?e=parseInt(this.init[t].value):e},t.ZR70=function(){var t={};if(!this.init)return t;var e=this.gIV("revivalCost").split(":");return t={k:parseInt(e[0]),v:parseInt(e[1])}},t.birthPos={},t}();__reflect(TD39.prototype,"TD39");var G5=function(){function t(){}return t.A23=10001,t.A24=10002,t.A39=10003,t.A12=10004,t.A13=10005,t.A14=10006,t.A15=10007,t.A29=10008,t.A30=10009,t.A44=10010,t.A45=10011,t.A31=10012,t.A32=10013,t.A19=10014,t.A20=10015,t.A33=10016,t.A34=10017,t.A16=10018,t.A17=10019,t.A35=10020,t.A36=10021,t.A42=10022,t.A46=10023,t.A47=10024,t.A1=10026,t.A2=10027,t.A5=10028,t.A6=10029,t.A40=10031,t.A41=10032,t.A25=10035,t.A26=10036,t.A9=10039,t.A10=10040,t.A53=10041,t.A43=10042,t.A37=10043,t.A38=10044,t.A27=11001,t.A21=11002,t.A8=11003,t.A7=11004,t.A18=11005,t.A11=11006,t.A28=11007,t.A22=11008,t.A52=11009,t.A51=11010,t.A4=11011,t.A3=11012,t.A49=11015,t.A48=11016,t.A50="ZG62",t}();__reflect(G5.prototype,"G5");var C7=function(){function t(){}return t.A2=1,t.A1=2,t}();__reflect(C7.prototype,"C7");var C8=function(){function t(){}return t.A1=1,t.A2=2,t.A3=3,t.A4=4,t.A5=5,t.A6=6,t.A7=7,t.A8=8,t.A9=9,t}();__reflect(C8.prototype,"C8");var TB32=function(i){function t(){var t=i.call(this)||this;App.VM.register(O7.C24,"CrossCliffCampUIView",t,K17.Fight),t.rgF(G5.A27,function(){App.VM.open(O7.C24)},t),t.rgF(G5.A21,function(){App.VM.close(O7.C24)},t),App.VM.register(O7.A53,"CrossCliffResurgenceView",t,K17.Fight),t.rgF(G5.A8,function(){App.VM.open(O7.A53)},t),t.rgF(G5.A7,function(){App.VM.close(O7.A53)},t),App.VM.register(O7.B15,"CrossCliffJoinTeamView",t,K17.UI_Popup),t.rgF(G5.A18,function(){App.VM.open(O7.B15)},t),t.rgF(G5.A11,function(){App.VM.close(O7.B15)},t),App.VM.register(O7.C23,"CrossCliffMyTeamView",t,K17.UI_Popup),t.rgF(G5.A28,function(){App.VM.open(O7.C23)},t),t.rgF(G5.A22,function(){App.VM.close(O7.C23)},t),App.VM.register(O7.A8,"CrossCliffChallengeListView",t,K17.UI_Popup),t.rgF(G5.A4,function(){App.VM.open(O7.A8)},t),t.rgF(G5.A3,function(){App.VM.close(O7.A8)},t),App.VM.register(O7.C92,"FightCrossCliffView",t,K17.Fight),t.rgF(G5.A52,t.GS71,t),t.rgF(G5.A51,t.GQ72,t),App.VM.register(O7.HH14,"CrossCliffView",t,K17.UI_Main_TOP),t.rgF(G5.A49,function(t){App.VM.open(O7.HH14,t)},t),t.rgF(G5.A48,function(){App.VM.close(O7.HH14)},t);var e=new TD88(t);return e.aLV(O7.I76),e.aLV(O7.HH14),e.aLV(O7.C92),e.aLV(O7.C24),e.aLV(O7.A53),e.aLV(O7.B15),e.aLV(O7.C23),e.aLV(O7.A8),e.aLV(O7.I85),e.aLV(O7.I63),e.aLV(O7.D89),e.aLV(O7.I39),t.proxy=new TD89(t),t.rgF(G5.A39,t.GY21,t),t.rgF(G5.A23,t.GU34,t),t.rgF(G5.A24,t.GU20,t),t.rgF(G5.A29,t.loadReq,t),t.rgF(G5.A30,t.loadRes,t),t.rgF(G5.A46,t.moveReq,t),t.rgF(G5.A47,t.moveRes,t),t.rgF(G5.A5,t.GY38,t),t.rgF(G5.A6,t.GY39,t),t.rgF(G5.A1,t.GU47,t),t.rgF(G5.A2,t.GU48,t),t.rgF(G5.A40,t.GY41,t),t.rgF(G5.A41,t.GY42,t),t.rgF(G5.A31,t.GW3,t),t.rgF(G5.A32,t.GW4,t),t.rgF(G5.A19,t.GS68,t),t.rgF(G5.A20,t.GS69,t),t.rgF(G5.A33,t.GV98,t),t.rgF(G5.A34,t.GV99,t),t.rgF(G5.A16,t.GQ77,t),t.rgF(G5.A17,t.GQ78,t),t.rgF(G5.A35,t.GW1,t),t.rgF(G5.A36,t.GW5,t),t.rgF(G5.A42,t.teamPush,t),t.rgF(G5.A43,t.dataPush,t),t.rgF(G5.A12,t.GQ73,t),t.rgF(G5.A13,t.GQ74,t),t.rgF(G5.A14,t.GQ75,t),t.rgF(G5.A15,t.GQ76,t),t.rgF(G5.A25,t.GU49,t),t.rgF(G5.A26,t.GU50,t),t.rgF(G5.A9,t.GO85,t),t.rgF(G5.A10,t.GO86,t),t.rgF(G5.A44,t.quitReq,t),t.rgF(G5.A45,t.quitRes,t),t.rgF(G5.A53,t.FHH98,t),t.rgF(G5.A37,t.GX44,t),t.rgF(G5.A38,t.GX45,t),t}return __extends(t,i),t.prototype.FHH98=function(){TD90.FHH98()},t.prototype.GS71=function(){App.VM.setAutoClose(O7.I76,!0),App.VM.close(O7.I76),App.VM.setAutoClose(O7.C92,!1),App.VM.setAutoClose(O7.C24,!1),App.VM.open(O7.C92),App.CM.apF(O6.C23,O13.A4);var t=App.CM.gtM(O6.B99);t.isFighting&&(App.VM.setAutoClose(O7.I61,!1),App.VM.open(O7.I61)),t.isSpFighting&&t.notify(FightD.FC_Close_UI)},t.prototype.GQ72=function(){this.gtM().ZW9(),App.VM.setAutoClose(O7.C92,!0),App.VM.setAutoClose(O7.C24,!0),App.VM.close(O7.C92),App.VM.setAutoClose(O7.I76,!1),App.CM.gtM(O6.B99).fightSceneType=I4.A8,App.SceneManager.runScene(M2.A5)},t.prototype.GU34=function(){this.proxy.GU34()},t.prototype.GU20=function(t){if(200==t.head.state){var e=this.gtM();e.setState(t.body),t.body.st<1&&e.isTower&&(e.isTower=!1,TG67.FK87(),e.notify(P4.S73)),this.FHH98()}else App.CM.apF(O6.B87,L10.A4,t)},t.prototype.GQ73=function(){this.proxy.GQ73()},t.prototype.GQ74=function(t){if(200==t.head.state){var e=this.gtM();e.isPlace=!0,e.notify(P4.F83)}else App.CM.apF(O6.B87,L10.A4,t)},t.prototype.GQ75=function(){this.proxy.GQ75()},t.prototype.GQ76=function(t){if(200==t.head.state){var e=this.gtM();e.ZN96(t.body),e.notify(P4.F79)}else App.CM.apF(O6.B87,L10.A4,t)},t.prototype.GW3=function(){this.gtM().state<=0||this.proxy.GW3()},t.prototype.GW4=function(t){if(200==t.head.state){var e=this.gtM();e.setTeamData(t.body),e.notify(P4.L37)}else App.CM.apF(O6.B87,L10.A4,t)},t.prototype.GV98=function(t){this.proxy.GV98(t)},t.prototype.GV99=function(t){if(200==t.head.state){var e=this.gtM();e.isTower&&(e.setTeamData(t.body),e.allTeamData=null,this.apF(G5.A11),this.apF(G5.A28))}else App.CM.apF(O6.B87,L10.A4,t)},t.prototype.GQ77=function(t){this.proxy.GQ77(t)},t.prototype.GQ78=function(t){if(200==t.head.state){var e=this.gtM();e.isTower&&(e.setTeamData(t.body),e.notify(P4.F81))}else App.CM.apF(O6.B87,L10.A4,t)},t.prototype.GW1=function(){this.proxy.GW1()},t.prototype.GW5=function(t){if(200==t.head.state){var e=this.gtM();e.isTower&&(e.myTeamData=null,this.apF(G5.A18),this.apF(G5.A22))}else App.CM.apF(O6.B87,L10.A4,t)},t.prototype.teamPush=function(t){if(200==t.head.state){var e=this.gtM();if(e.isTower){if(e.setTeamData(t.body),t.body.mt)App.VM.gOV(O7.B15)&&(this.apF(G5.A11),this.apF(G5.A28));if(t.body.tml)App.VM.gOV(O7.C23)&&(this.apF(G5.A18),this.apF(G5.A22));e.notify(P4.R14)}}else App.CM.apF(O6.B87,L10.A4,t)},t.prototype.GS68=function(){this.proxy.GS68()},t.prototype.GS69=function(t){if(200==t.head.state){var e=this.gtM();e.isTower&&(e.setTeamData(t.body),e.allTeamData=null,this.apF(G5.A11),this.apF(G5.A28))}else App.CM.apF(O6.B87,L10.A4,t)},t.prototype.GY21=function(t){if(200==t.head.state){var e=this.gtM();e.setState(t.body),e.notify(P4.P45),t.body.st<1&&e.isTower&&this.GQ72(),this.FHH98()}else App.CM.apF(O6.B87,L10.A4,t)},t.prototype.loadReq=function(){this.proxy.loadReq()},t.prototype.loadRes=function(t){var e=this.gtM();if(200==t.head.state){if(t.body.ncd)return P18.sDP(O3.tr(605,t.body.ncd)),!1;e.isTower=!0,App.CM.apF(O6.B89,L11.A56,!0),e.ZN96(t.body),App.CM.gtM(O6.B99).fightSceneType=I4.A3;var i=App.SceneManager.getCurrScene();App.VM.ZT95(),M2.A4==i?this.GS71():App.SceneManager.runScene(M2.A4),this.GW3(),e.notify(P4.L35)}else App.CM.apF(O6.B87,L10.A4,t)},t.prototype.GY38=function(t){this.proxy.GY38(t)},t.prototype.GY39=function(i){var s=this;if(200==i.head.state)if(i.body.cd_)P7.fightCoolingCD(i.body.cd_);else{var o=this.gtM();if(o.isTower){o.shipId=null,o.ZN96(i.body);var t=P7.isGetView(O7.C24);App.CM.apF(O6.B99,N1.A11,i.body.fr,{needResult:!1,type:P15.A33,isAuto:t},function(t,e){P5.sIs(i.body.ob),o.FJ60()&&2==o.state&&o.isTower&&s.apF(G5.A8),1<=o.state&&o.isTower&&o.notify(P4.B75)},this)}}else App.CM.apF(O6.B87,L10.A4,i)},t.prototype.quitReq=function(){this.proxy.quitReq()},t.prototype.quitRes=function(t){if(200==t.head.state){var e=this.gtM();this.GQ72(),e.notify(P4.S73),App.SceneManager.runScene(M2.A5)}else App.CM.apF(O6.B87,L10.A4,t)},t.prototype.GU47=function(t){this.proxy.GX27(t)},t.prototype.GU48=function(t){if(200==t.head.state)if(t.body.cd_)P7.fightCoolingCD(t.body.cd_);else{var e=this.gtM();e.fireShipId=null,e.ZN96(t.body),e.FJ60()&&2==e.state&&e.isTower&&this.apF(G5.A8),1<=e.state&&e.isTower&&e.notify(P4.A70)}},t.prototype.GY41=function(){this.proxy.GY41()},t.prototype.GY42=function(t){var e=this.gtM();200==t.head.state?e.notify(P4.P44):App.CM.apF(O6.B87,L10.A4,t)},t.prototype.moveReq=function(t,e){this.gtM().isTower&&this.proxy.moveReq(Math.floor(t),Math.floor(e))},t.prototype.moveRes=function(t){},t.prototype.GX44=function(t,e){var i=this.gtM();i.isTower&&2==i.state&&this.proxy.GX44(Math.floor(t),Math.floor(e))},t.prototype.GX45=function(t){},t.prototype.dataPush=function(t){var e=this,i=this.gtM();if(i.isTower){var s=t.body.fd;if(s){var o=P7.copyTab(t.body.ubs);P18.sDP(O3.tr(7575,s)),t.body.ubs=null;var r=App.K16.doTimer(500,1,function(){var t=e.gtM();t.ZN96({ubs:o}),t.notify(P4.R15),App.K16.rBH(r),r=null},this)}i.ZN96(t.body),!App.CM.gtM(O6.B99).isFighting&&i.FJ60()&&2==i.state&&i.isTower&&this.apF(G5.A8),1===Object.keys(t.body).length&&t.body.ubs?i.notify(G5.A50):i.notify(P4.R15)}},t.prototype.GU49=function(){this.proxy.GU49()},t.prototype.GU50=function(t){if(200==t.head.state){var e=this.gtM();TD90.FJ62()&&e.FHH7()>=TD39.collectionTime&&TD90.canSend(),e.ZN96(t.body);var i=t.body.aw;i&&P18.sDP(O3.tr(7572,i)),e.notify(P4.R15)}},t.prototype.GO85=function(t){this.proxy.GO85(t)},t.prototype.GO86=function(t){if(200==t.head.state){var e=this.gtM();e.isTower&&e.myTeamData&&e.myTeamData.updateData(t.body.mt)}else App.CM.apF(O6.B87,L10.A4,t)},t}(TE11);__reflect(TB32.prototype,"TB32");var CrossCliffMap=function(a){function t(t){var e=a.call(this)||this;for(var i in e.fireDatas={},e.warFire={},e.cableData={},e.woods={},e.skinName=CrossCliffMapSkin,t.addChild(e),e.camera=t,e.map=new FightMapView,e.grpMap.addChild(e.map),e.mapData=new FightMapData,e.setSceneData(TD39.mapId+""),e.initUI(),e.updateData(),TD39.allWoods){var s=TD39.allWoods[i],o=new eui.Group,r=new eui.Group;r.name="grp",r.horizontalCenter=r.verticalCenter=0,o.x=s.x,o.y=s.y,s.isRound?(o.anchorOffsetX=o.anchorOffsetY=s.r,o.width=o.height=2*s.r):(o.anchorOffsetX=s.w/2,o.anchorOffsetY=s.h/2,o.width=s.w,o.height=s.h),App.THH33.aUE(r,"cbzz_guang",-150,-150),o.name="safePos"+i,e.grpRegion.addChild(o);var n=new eui.Image;n.horizontalCenter=0,n.verticalCenter=0,n.blendMode=egret.BlendMode.ADD,n.source="cbzz_mc_chuan_92_png",egret.Tween.get(n,{loop:!0}).to({alpha:.7},300).to({alpha:1},200).to({alpha:.85},200).to({alpha:1},200),o.addChild(n),o.addChild(r)}return e.openPosDown(),e}return __extends(t,a),t.prototype.openPosDown=function(){var s=this;this.posHander||(this.posHander=App.K16.doTimer(1e3,0,function(){var t=TD90.model;if(t.warData){var e=t.warData[t.myShipIndex],i=s.warFire[t.myShipIndex];i.x==e.ex&&i.y==e.ey||App.CM.apF(O6.B8,G5.A37,i.x,i.y)}},this))},t.prototype.updateData=function(){var t=TD90.model;for(var e in t.warData){if(!this.warFire[e]&&t.warData[e]){var i=new CrossCliffFireWarshipItemView;this.warFire[e]=i,this.grpWarShip.addChild(i)}if(t.warData[e])this.warFire[e].setData(t.warData[e]);else{var s=this.grpWarShip.getChildByName(e);s&&(this.grpWarShip.removeChild(s),s.data.id==t.shipId&&(t.shipId=null),delete t.warData[e])}}var o=this.warFire[t.myShipIndex],r=this.grpWarShip.getChildIndex(o);for(var e in this.grpWarShip.numChildren!=r+1&&this.grpWarShip.setChildIndex(o,this.grpWarShip.numChildren-1),t.fireDatas){if(!this.fireDatas[e]&&t.fireDatas[e]){var n=new CrossCliffFireShipItemView;this.fireDatas[e]=n,this.grpShip.addChild(n),this.fireDatas[e].setData(t.fireDatas[e])}else this.fireDatas[e]&&t.fireDatas[e]&&(this.fireDatas[e].setData(t.fireDatas[e]),parseInt(e)==t.fireShipId&&this.sendMyPos(this.fireDatas[e].x,this.fireDatas[e].y));if(!t.fireDatas[e]){var a=this.grpShip.getChildByName(e);a&&(a.data.id==t.fireShipId&&(t.fireShipId=null),this.grpShip.removeChild(a),delete t.fireDatas[e])}}for(var e in t.cableCDs)if(this.cableData[e])this.cableData[e].setData(t.cableCDs[e]);else{var h=new CrossCliffCableItemView;h.setData(t.cableCDs[e]),this.cableData[e]=h,this.grpRegion.addChild(h)}},t.prototype.ZG62=function(){var t=TD90.model;for(var e in t.warData){if(!this.warFire[e]&&t.warData[e]){var i=new CrossCliffFireWarshipItemView;this.warFire[e]=i,this.grpWarShip.addChild(i)}if(t.warData[e])this.warFire[e].setData(t.warData[e]);else{var s=this.grpWarShip.getChildByName(e);s&&(this.grpWarShip.removeChild(s),s.data.id==t.shipId&&(t.shipId=null),delete t.warData[e])}}},t.prototype.setSceneData=function(t){null!=t&&(this.curMapName=t,this.loadMapRes())},t.prototype.initUI=function(){this.hander||(this.hander=App.K16.doFrame(1,0,this.update,this)),this.map.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClick,this),this.addEventListener(egret.Event.ADDED_TO_STAGE,this.onAddToStage,this),this.addEventListener(egret.Event.REMOVED_FROM_STAGE,this.onRemoveStage,this)},t.prototype.GV97=function(){this.hander&&(App.K16.rBH(this.hander),this.hander=null),this.posHander&&(App.K16.rBH(this.posHander),this.posHander=null)},t.prototype.childrenCreated=function(){a.prototype.childrenCreated.call(this)},t.prototype.loadMapRes=function(){if(null!=this.curMapName&&(!this.showMapName||this.curMapName!=this.showMapName)){if(this.showMapName)FightRes.ZO48(this.curMapName,this.ZI4.bind(this)),this.map.setMapName(this.curMapName);else{App.CM.gtM(O6.B8);this.map.setMapName(this.curMapName,this.ZD89.bind(this),mapWH.SET_960_540)}this.showMapName=this.curMapName}},t.prototype.ZI4=function(){this.mapData.setData(RES.getRes(FightRes.getMapResKey(this.curMapName))),this.map.width=this.mapData.getMapWidth(),this.map.height=this.mapData.getMapHeight(),this.map.x=0,this.map.y=0,this.isInit=!0},t.prototype.ZD89=function(){FightRes.ZO48(this.curMapName,this.ZI4.bind(this))},t.prototype.ZK94=function(t){if(this.warFire)for(var e in this.warFire){if(e!=t)this.warFire[e].isShowGrp(!1)}},t.prototype.onClick=function(t){var e=this,i=TD90.model;if(i.state<=1)P18.sDP(O3.tr(7862));else{this.enabled=!1;var s=egret.setTimeout(function(){e.enabled=!0,egret.clearTimeout(s)},this,400);for(var o in i.shipId=null,i.fireShipId=null,this.warFire){this.warFire[o].isShowGrp(!1)}if(TD90.FL61(t.localX,t.localY))P18.sDP(O3.tr(7571));else if(TD90.FJ63(t.localX,t.localY))this.sendMyPos(t.localX,t.localY);else if(2!=TD90.FHH8(t.localX,t.localY))if(this.FK69(t.localX,t.localY)){var r=this.FHH9(t.localX,t.localY);if(r&&1<r.length){var n=TG67.FE97(r[1].x,r[1].y);this.sendMyPos(n.x,n.y)}if((r=this.getRandomCanSendPos())&&1<r.length){n=TD90.getPos(r);this.sendMyPos(n.x,n.y)}}else this.sendMyPos(t.localX,t.localY);else TD90.isForNum()?P18.sDP(O3.tr(7573)):P18.sDP(O3.tr(7797))}},t.prototype.FHH9=function(t,e){var i=TD90.model,s=this.warFire[i.myShipIndex],o=P7.copyTab(TG67.FE98(s.x,s.y)),r=P7.copyTab(TG67.FE98(t,e));return this.mapData.ZS28(o.x,o.y,r.x,r.y,!0)},t.prototype.getRandomCanSendPos=function(){var t=TD90.model,e=this.warFire[t.myShipIndex],i=P7.copyTab(TG67.FE98(e.x,e.y));return this.mapData.findNextPath(i.x,i.y)},t.prototype.sendMyPos=function(t,e){var i=TD90.model;this.warFire[i.myShipIndex];App.CM.apF(O6.B8,G5.A46,t,e)},t.prototype.FK69=function(t,e){var i=TD90.model,s=this.warFire[i.myShipIndex],o=P7.copyTab(TG67.FE98(s.x,s.y)),r=P7.copyTab(TG67.FE98(t,e));return this.mapData.FK69(o.x,o.y,r.x,r.y)},t.prototype.sendMyStartPos=function(){var t=TD90.model,e=this.warFire[t.myShipIndex];App.CM.apF(O6.B8,G5.A37,e.x,e.y),this.updateData()},t.prototype.sceneTo=function(t,e){var i=App.TG37.getWidth(),s=App.TG37.getHeight(),o=t-i/2,r=e-s/2;o<0&&(o=0),r<-40&&(r=-40);var n=this.map.width-i,a=this.map.height+100-s;n<o&&(o=n),a<r&&(r=a),this.camera.scrollH=o,this.camera.scrollV=r},t.prototype.update=function(){var t=TD90.model;if(t.isTower){if(this.isInit){for(var e in this.fireDatas){this.fireDatas[e];t.fireDatas[e]||delete this.fireDatas[e]}for(var e in this.warFire){var i=this.warFire[e];t.warData[e]?i.setMove():delete this.warFire[e]}var s=this.warFire[t.myShipIndex];if(s&&this.sceneTo(s.x,s.y),t.fireShipId){var o=this.fireDatas[t.fireShipId];i=this.warFire[t.myShipIndex];TD90.FE82(o.x,o.y,i.x,i.y)}if(t.shipId){i=this.warFire[t.shipId];if(TD90.isSafe(i.x,i.y)){var r=this.warFire[t.myShipIndex];this.sendMyPos(r.x,r.y),t.shipId=null}}}}else this.GV97()},t.prototype.onAddToStage=function(){},t.prototype.onRemoveStage=function(){TD90.model.isTower||this.close()},t.prototype.close=function(){for(var t in this.map.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClick,this),this.removeEventListener(egret.Event.ADDED_TO_STAGE,this.onAddToStage,this),this.removeEventListener(egret.Event.REMOVED_FROM_STAGE,this.onRemoveStage,this),this.grpShip.removeChildren(),this.grpWarShip.removeChildren(),this.grpWood.removeChildren(),this.grpMap.removeChildren(),TD39.safePos){var e=this.grpRegion.getChildByName("safePos"+t);if(e){var i=e.getChildByName("grp");App.THH33.rEf(i,"cbzz_guang"),egret.Tween.removeTweens(e),e.removeChildren()}}for(var t in this.grpRegion.removeChildren(),this.fireDatas)delete this.fireDatas[t];for(var t in this.grpWood)delete this.grpWood[t];this.GV97(),this.fireDatas=null,this.grpWood=null,this.isInit=null},t}(eui.Component);__reflect(CrossCliffMap.prototype,"CrossCliffMap");var TD88=function(i){function t(t){var e=i.call(this,t)||this;return e.chatWordDatacms=[],e.chatAllDatacms=[],e.chatCampDatacms=[],e.isShow=!1,e.isPlace=!1,e.hideFriend=!0,e}return __extends(t,i),t.prototype.ZN96=function(t){var e=this;if(this.isTower){if(this.myShipIndex=null!=t.mb?t.mb:this.myShipIndex,this.myHurtNum=null!=t.oDmg?t.oDmg:this.myHurtNum,this.warHurtNum=null!=t.eDmg?t.eDmg:this.warHurtNum,this.integral=null!=t.inte?t.inte:this.integral,this.woodsNum=null!=t.wood?t.wood:this.woodsNum,t.pbs)for(var i in this.warData||(this.warData={}),t.pbs)this.warData[i]?this.warData[i].updateData(t.pbs[i]):this.warData[i]=new CrossCliffWarShipVo(t.pbs[i]);if(t.ubs)for(var i in this.warData||(this.warData={}),t.ubs){var s=t.ubs[i].id;this.warData[s]?this.warData[s].updateData(t.ubs[i]):this.warData[s]=new CrossCliffWarShipVo(t.ubs[i])}if(t.fbs)for(var i in this.fireDatas||(this.fireDatas={}),t.fbs)this.fireDatas[i]?this.fireDatas[i].updateData(t.fbs[i]):this.fireDatas[i]=new CrossCliffFireShiprVo(t.fbs[i]);if(null!=t.rcd&&(this.lifeCD=t.rcd,this.lastLifeTime=P6.getTime(!0)),null==t.rmFb||t.hit||(delete this.fireDatas[t.rmFb],this.fireDatas[t.rmFb]=null),null!=t.gcd&&(this.gatherCD=t.gcd,this.lastGatherTime=P6.getTime(!0)),null!=t.fbCD&&(this.coolingCD=t.fbCD,this.lastCoolTime=P6.getTime(!0)),t.cms&&(this.chatWordDatacms=P7.copyTab(t.cms),this.chatAllDatacms=P7.copyTab(t.cms).concat(this.chatCampDatacms)),t.scds)for(var i in this.cableCDs||(this.cableCDs={},this.cableCDs[C7.A2]=new CrossCliffCablerVo(null),this.cableCDs[C7.A2].camp=C7.A2,this.cableCDs[C7.A1]=new CrossCliffCablerVo(null),this.cableCDs[C7.A1].camp=C7.A1),this.cableCDs)null!=t.scds[i]?this.cableCDs[i].updateData(t.scds[i]):this.cableCDs[i].updateData(null);if(t.saids){this.saids=t.saids;var o=egret.setTimeout(function(){egret.clearTimeout(o),e.notify("EnemyChainAidRefresh")},this,500)}t.rm&&(delete this.warData[t.rm],this.warData[t.rm]=null)}},t.prototype.ZI32=function(){var t=[];if(!this.saids)return t;var e=this.warData[this.myShipIndex].camp;for(var i in this.saids)parseInt(i)==e&&t.push(this.saids[i]);return t},t.prototype.setTeamData=function(t){if(this.isTower&&(t.mt&&(this.allTeamData=null,this.myTeamData?this.myTeamData.updateData(t.mt):this.myTeamData=new CrossCliffTeamVo(t.mt)),t.tml))for(var e in this.myTeamData=null,this.allTeamData=[],t.tml)this.allTeamData.push(new CrossCliffTeamVo(t.tml[e]))},t.prototype.setState=function(t){t.cms&&(this.chatCampDatacms=P7.copyTab(t.cms)),null!=t.cd&&(this.quitCd=t.cd,this.lastLoadTime=P6.getTime(!0)),this.state=null!=t.st?t.st:this.state,this.isOpen=null!=t.to?!!t.to:this.isOpen},t.prototype.ZK37=function(t){this.chatWordDatacms.push(t);var e=this.chatWordDatacms.length,i=N18.FC83(P9.A1).recordcount;i<e&&this.chatWordDatacms.splice(0,e-i)},t.prototype.ZR15=function(t){this.chatAllDatacms.push(t);var e=this.chatAllDatacms.length,i=N18.FC83(P9.A6).recordcount;i<e&&this.chatAllDatacms.splice(0,e-i)},t.prototype.ZN97=function(t){this.chatCampDatacms.push(t);var e=this.chatCampDatacms.length,i=N18.FC83(P9.A18).recordcount;i<e&&this.chatCampDatacms.splice(0,e-i)},t.prototype.ZW9=function(){this.isTower=null,this.cableCDs=null,this.coolingCD=null,this.woodsNum=null,this.warData=null,this.chooseWoodIndex=null,this.myShipIndex=null,this.fireDatas=null,this.integral=null,this.warHurtNum=null,this.myHurtNum=null,this.chatAllDatacms=null,this.chatWordDatacms=null,this.lifeCD=null,this.gatherCD=null,this.lastLifeTime=null,this.lastCoolTime=null,this.myTeamData=null,this.allTeamData=null,this.lastGatherTime=null,this.isPlace=null},t.prototype.notify=function(t){i.prototype.notifyView.call(this,this,t)},t.prototype.FJ24=function(){var t=P6.getTime(!0)-this.lastLoadTime,e=this.quitCd-t;return 0<e?e:0},t.prototype.FJ60=function(){var t=P6.getTime(!0)-this.lastLifeTime,e=this.lifeCD-t;return 0<e?e:0},t.prototype.FHH7=function(){var t=P6.getTime(!0)-this.lastGatherTime,e=TD39.collectionTime-(this.gatherCD-t);return 0<e?e:0},t.prototype.FJ61=function(){var t=P6.getTime(!0)-this.lastCoolTime,e=this.coolingCD-t;return 0<e?e:0},t.prototype.FL35=function(){var t=0,e=App.CM.gtM(O6.B43),i=O4.getLv();return e.serOpenDay+1<TD39.unlockDate||i<TD39.unlockLv?t=0:1<=this.state&&(t=1),t},t}(TG79);__reflect(TD88.prototype,"TD88");var TD89=function(i){function t(t){var e=i.call(this,t)||this;return e.rSM(P4.P45,e.GY21,e),e.rSM(P4.R14,e.teamPush,e),e.rSM(P4.R15,e.dataPush,e),e.rSM(P4.B75,e.GY39,e),e.rSM(P4.N22,e.GX45,e),e.rSM(P4.J33,e.GU50,e),e.rSM(P4.F79,e.GQ76,e),e}return __extends(t,i),t.prototype.GU34=function(){var s=this;return new Promise(function(e,t){var i={type:P4.J30,body:{}};s.rSMO(P4.J31,function(t){s.apF(G5.A24,t),e("加载赤壁之战信息完成")},s),s.sSM(i)})},t.prototype.loadReq=function(){var t={type:P4.L34,body:{}};this.rSMO(P4.L35,this.loadRes,this),this.sSM(t)},t.prototype.loadRes=function(t){this.apF(G5.A30,t)},t.prototype.GY21=function(t){this.apF(G5.A39,t)},t.prototype.GY38=function(t){var e={type:P4.B74,body:{target:t}};this.sSM(e)},t.prototype.GY39=function(t){this.apF(G5.A6,t)},t.prototype.quitReq=function(){var t={type:P4.S72,body:{}};this.rSMO(P4.S73,this.quitRes,this),this.sSM(t)},t.prototype.quitRes=function(t){this.apF(G5.A45,t)},t.prototype.GX27=function(t){var e={type:P4.A69,body:{target:t}};this.rSMO(P4.A70,this.GX28,this),this.sSM(e)},t.prototype.GX28=function(t){this.apF(G5.A2,t)},t.prototype.moveReq=function(t,e){var i={type:P4.S70,body:{ex:t,ey:e}};this.sSM(i)},t.prototype.moveRes=function(t){this.apF(G5.A47,t)},t.prototype.GX44=function(t,e){var i={type:P4.N21,body:{sx:t,sy:e}};this.sSM(i)},t.prototype.GX45=function(t){this.apF(G5.A38,t)},t.prototype.GQ73=function(){var t={type:P4.F82,body:{}};this.rSMO(P4.F83,this.GQ74,this),this.sSM(t)},t.prototype.GQ74=function(t){this.apF(G5.A13,t)},t.prototype.GQ75=function(){var t={type:P4.F78,body:{}};this.sSM(t)},t.prototype.GQ76=function(t){this.apF(G5.A15,t)},t.prototype.GW3=function(){var t={type:P4.L36,body:{}};this.rSMO(P4.L37,this.GW4,this),this.sSM(t)},t.prototype.GW4=function(t){this.apF(G5.A32,t)},t.prototype.GS68=function(){var t={type:P4.HH49,body:{}};this.rSMO(P4.HH50,this.GS69,this),this.sSM(t)},t.prototype.GS69=function(t){this.apF(G5.A20,t)},t.prototype.GV98=function(t){var e={type:P4.L38,body:{tid:t}};this.rSMO(P4.L39,this.GV99,this),this.sSM(e)},t.prototype.GV99=function(t){this.apF(G5.A34,t)},t.prototype.GQ77=function(t){var e={type:P4.F80,body:{target:t}};this.rSMO(P4.F81,this.GQ78,this),this.sSM(e)},t.prototype.GQ78=function(t){this.apF(G5.A17,t)},t.prototype.GW1=function(){var t={type:P4.L40,body:{}};this.rSMO(P4.L41,this.GW2,this),this.sSM(t)},t.prototype.GW2=function(t){this.apF(G5.A36,t)},t.prototype.teamPush=function(t){this.apF(G5.A42,t)},t.prototype.dataPush=function(t){this.apF(G5.A43,t)},t.prototype.GY41=function(){var t={type:P4.P43,body:{}};this.rSMO(P4.P44,this.GY42,this),this.sSM(t)},t.prototype.GY42=function(t){this.apF(G5.A41,t)},t.prototype.GU49=function(){var t={type:P4.J32,body:{}};this.sSM(t)},t.prototype.GU50=function(t){this.apF(G5.A26,t)},t.prototype.GO85=function(t){var e={type:P4.E52,body:{score:t}};this.rSMO(P4.E53,this.GO86,this),this.sSM(e)},t.prototype.GO86=function(t){this.apF(G5.A10,t)},t}(TG80);__reflect(TD89.prototype,"TD89");var TD90=function(){function o(){}return Object.defineProperty(o,"model",{get:function(){return App.CM.gtM(O6.B8)},enumerable:!0,configurable:!0}),o.FC89=function(){var t=TD39.unlockLv,e=this.model,i=O4.getLv();if(e.isTower)return P18.sDP(O3.tr(717)),!0;if(i<t){var s=K18.init.commonDesc1.value;return P18.sDP(M18.format(s,[t])),!1}return e.state?App.CM.gtM(O6.B99).isSpFighting?(P18.sDP(O3.tr(5301)),!1):(App.CM.apF(O6.B8,G5.A29),!0):(P18.sDP(O3.tr(3205)),!1)},o.FHH98=function(){var t=this.model,e=TD39.unlockLv,i=O4.getLv();if(!(t.isTower||i<e||t.isShow))if(1<=t.state&&!t.isTower){var s={handler:function(){return o.FC89()},str:O3.tr(7615),ctrlConst:O6.B8};App.VM.open(O7.A82,s)}else{App.CM.gtM(O6.B99).fightSceneType!=I4.A8&&App.VM.close(O7.A82)}},o.FJ24=function(){return this.model.FJ24()},o.FJ60=function(){return this.model.FJ60()},o.FHH7=function(){return this.model.FHH7()},o.FJ61=function(){return this.model.FJ61()},o.FK64=function(){return!!this.model.myTeamData},o.FK65=function(t,e,i){this.model;var s=TD39.allWoods[i];return s.isRound?App.TG81.getDistance(s.x,s.y,t,e)<=s.r:t-s.w/2<=s.x&&s.x<=t+s.w/2&&e-s.h/2<=s.y&&s.y<=e+s.h/2},o.FJ62=function(){var t=this.model,e=!0,i=App.CM.gtM(O6.B82).avatarInfo.id;return t.myTeamData&&(e=i==t.myTeamData.teamId),e},o.FL60=function(){var t=this.model,e=App.CM.gtM(O6.B82).avatarInfo.id;return!t.myTeamData||e==t.myTeamData.teamId},o.FK66=function(t){var e=this.model;return e.warData[e.myShipIndex].camp==t},o.myCamp=function(){var t=this.model;return t.warData[t.myShipIndex].camp},o.foeCamp=function(){this.model;return this.myCamp()==C7.A2?C7.A1:C7.A2},o.sendPos=function(t,e){var i=this.model,s=(i.warData[i.myShipIndex],App.VM.gOV(O7.C92));s&&s.setMapData(t,e)},o.FK67=function(){var t=this.model,e=(t.warData[t.myShipIndex],App.VM.gOV(O7.C92));e&&e.setMapStartData()},o.isMySkip=function(t){return this.model.myShipIndex==t},o.canSend=function(){var t=this.model,e=t.warData[t.myShipIndex],i=!1,s=this.foeCamp();for(var o in TD39.allWoods){TD39.allWoods[o];if(parseInt(o)!==s&&this.FK65(e.ex,e.ey,o)){i=!0,App.CM.apF(O6.B8,G5.A14);break}}return i},o.FHH8=function(t,e){var i=0,s=this.foeCamp();for(var o in TD39.allWoods){TD39.allWoods[o];if(this.FK65(t,e,o)){i=parseInt(o)!==s?1:2;break}}return i},o.FI23=function(){var t=this.model,e=t.warData[t.myShipIndex],i=t.warData[t.shipId];return i.ex-20<=e.ex&&e.ex<=i.ex+20&&i.ey-20<=e.ey&&e.ey<=i.ey+20},o.FL61=function(t,e){this.model;var i=this.foeCamp(),s=TD39.safePos[i];return s.isRound?App.TG81.getDistance(s.x,s.y,t,e)<=s.r:t-s.w/2<=s.x&&s.x<=t+s.w/2&&e-s.h/2<=s.y&&s.y<=e+s.h/2},o.FJ63=function(t,e){this.model;var i=this.foeCamp(),s=TD39.cablePos[i];return s.isRound?App.TG81.getDistance(s.x,s.y,t,e)<=s.r:t-s.w/2<=s.x&&s.x<=t+s.w/2&&e-s.h/2<=s.y&&s.y<=e+s.h/2},o.FK68=function(){var t=this.model,e=this.foeCamp();return null!=t.cableCDs[e].cd},o.FI24=function(t,e){var i=this.model,s=TD39.clickRange,o=this.myCamp();i.warDataList={};var r=0;for(var n in i.warData){var a=i.warData[n];if(a)App.TG81.getDistance(a.ex,a.ey,t,e)<=s.r&&o!=a.camp&&o!=a.camp&&(i.warDataList[n]=i.warData[n],r++)}return r>=s.num},o.FD79=function(){var t=this.model,e=[];for(var i in t.warDataList)e.push(t.warDataList[i]);return e},o.FJ64=function(){var t=this.model,e=!1,i=t.warData[t.shipId],s=t.warData[t.myShipIndex];return i.ex!=s.ex||i.ey!=s.ey?(App.CM.apF(O6.B8,G5.A46,i.ex,i.ey),e=!0):App.CM.apF(O6.B8,G5.A5,t.shipId),e},o.FE82=function(t,e,i,s){var o=this.model,r=!1;return App.TG81.getDistance(i,s,t,e)<=10&&(this.FK67(),App.CM.apF(O6.B8,G5.A1,o.fireShipId),r=!0),r},o.isCango=function(t,e){var i=!1,s=this.model,o=s.warData[s.myShipIndex],r=(t-o.ex)/2,n=(e-o.ey)/2,a=r+o.ex,h=n+o.ey,p=TG67.FE98(a,h),l=App.VM.gOV(O7.C92);l&&l.mapMgr&&l.mapMgr.mapData&&(l.mapMgr.mapData.ZW60(p.x,p.y)&&(i=!0));return i},o.FL62=function(){var t=this.model;return t.warData[t.myShipIndex]},o.FHH9=function(t,e){this.model;var i,s=App.VM.gOV(O7.C92);if(s){var o=s.FHH9(t,e);if(o&&1<o.length){var r=TG67.FE97(o[1].x,o[1].y);i={x:r.x,y:r.y}}}return i},o.FK69=function(t,e){this.model;var i=!1,s=App.VM.gOV(O7.C92);return s&&(i=s.FK69(t,e)),i},o.isForNum=function(){var t=this.model,e=this.foeCamp(),i=TD39.safePos[e],s=0;for(var o in t.warData){var r=t.warData[o];if(r.camp==e){var n=r.sx,a=r.sy;if(i.isRound)App.TG81.getDistance(i.x,i.y,r.sx,r.sy)<=i.r&&s++;else n-i.w/2<=i.x&&i.x<=n+i.w/2&&a-i.h/2<=i.y&&i.y<=a+i.h/2&&s++}}return 0<s},o.getPos=function(t){var e=t[0],i=t[1],s={};return e.x<i.x?s.x=e.x+2:s.x=e.x-2,e.y<i.y?s.y=e.y+2:s.y=e.y-2,P7.copyTab(TG67.FE97(s.x,s.y))},o.isSafe=function(t,e){this.model;var i=this.foeCamp(),s=TD39.safePos[i],o=2==this.FHH8(t,e);s.isRound?App.TG81.getDistance(s.x,s.y,t,e)<=s.r&&(o=!0):t-s.w/2<=s.x&&s.x<=t+s.w/2&&e-s.h/2<=s.y&&s.y<=e+s.h/2&&(o=!0);return o},o}();__reflect(TD90.prototype,"TD90");var CrossCliffCableItemView=function(e){function t(){var t=e.call(this)||this;return t.addEventListener(egret.Event.ADDED_TO_STAGE,t.onAddToStage,t),t.addEventListener(egret.Event.REMOVED_FROM_STAGE,t.onRemoveStage,t),t.touchChildren=!1,t.touchEnabled=!1,t.touchThrough=!0,t}return __extends(t,e),t.prototype.onAddToStage=function(){this.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClick,this),this.grpFire=new eui.Group,this.grpFire.touchChildren=!1,this.grpFire.touchEnabled=!1,this.grpFire.touchThrough=!0,this.lbCd=new eui.Label,this.img=new eui.Image,this.addChild(this.grpFire),this.addChild(this.img),this.addChild(this.lbCd),this.img.source="v1_img_jianbianlashen_png",this.img.scaleX=this.img.scaleY=.6,this.img.horizontalCenter=0,this.img.top=30,this.grpFire.horizontalCenter=this.grpFire.verticalCenter=0,this.img.visible=!1,this.lbCd.horizontalCenter=0,this.lbCd.verticalAlign="middle",this.lbCd.top=40,App.THH33.aUE(this.grpFire,"cbzz_Ship_stop",-150,-150,-1),App.THH33.rEf(this.grpFire,"cbzz_rope"),this.data&&this.setData(this.data)},t.prototype.setData=function(t){this.data=t;var e=TD39.cablePos[this.data.camp];this.x=e.x,this.y=e.y,e.isRound?(this.anchorOffsetX=e.r,this.anchorOffsetY=e.r,this.width=this.height=2*e.r):(this.width=e.w,this.height=e.h,this.anchorOffsetX=e.w/2,this.anchorOffsetY=e.h/2);var i=TD90.model;null!=t.cd?(0==t.cd&&this.data&&this.grpFire&&!this.grpFire.numChildren&&i.isPlace&&(i.isPlace=!1,P18.sDP(O3.tr(7577))),this.challHander||this.ZV86()):this.GV97(),null!=t.cd&&0==t.cd?this.grpFire&&(App.THH33.rEf(this.grpFire,"cbzz_Ship_stop"),App.THH33.aUE(this.grpFire,"cbzz_rope",-150,-150,-1)):this.grpFire&&(App.THH33.aUE(this.grpFire,"cbzz_Ship_stop",-150,-150,-1),App.THH33.rEf(this.grpFire,"cbzz_rope"))},t.prototype.setlbTime=function(){if(this.lbCd){this.img.visible=!0;var t=P6.FJ11(1e3*this.data.getCdTime(),3);this.lbCd.textFlow=M18.HTP.parser(O3.tr(7614,t))}},t.prototype.GV97=function(){this.challHander&&(this.lbCd&&(this.lbCd.textFlow=null,this.img.visible=!1),App.K16.rBH(this.challHander),this.challHander=null)},t.prototype.ZV86=function(){var t=this;0==this.data.getCdTime()?this.GV97():(this.setlbTime(),this.challHander=App.K16.doTimer(1e3,0,function(){0<t.data.getCdTime()?t.setlbTime():t.GV97()},this))},t.prototype.onClick=function(){TD90.sendPos(this.x,this.y)},t.prototype.onRemoveStage=function(){this.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClick,this),this.grpFire=null,this.lbCd=null,this.img=null,this.GV97(),this.grpFire&&(App.THH33.rEf(this.grpFire,"cbzz_rope"),App.THH33.rEf(this.grpFire,"cbzz_Ship_stop")),this.numChildren&&this.removeChildren()},t}(eui.Group);__reflect(CrossCliffCableItemView.prototype,"CrossCliffCableItemView");var CrossCliffChallengeItemView=function(e){function t(){var t=e.call(this)||this;return t.skinName=CrossCliffChallengeItemSkin,t.addEventListener(egret.Event.ADDED_TO_STAGE,t.onAddToStage,t),t.addEventListener(egret.Event.REMOVED_FROM_STAGE,t.onRemoveStage,t),t}return __extends(t,e),t.prototype.onAddToStage=function(){this.btnChallenge.addEventListener(egret.TouchEvent.TOUCH_TAP,this.ZK95,this),this.btnChallenge.label=O3.tr(7621)},t.prototype.onRemoveStage=function(){this.btnChallenge.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.ZK95,this)},t.prototype.ZK95=function(){TD90.model.shipId=this.data.id,TD90.FJ64()},t.prototype.childrenCreated=function(){e.prototype.createChildren.call(this),this.initUI()},t.prototype.initUI=function(){this.btnChallenge.label=O3.tr(7621)},t.prototype.dataChanged=function(){this.lbName.textFlow=M18.HTP.parse(O3.tr(7624,this.data.name)),this.lbNum.textFlow=M18.HTP.parse(O3.tr(7625,this.data.num,3));var t=TD90.model.ZI32(),e=Number(this.data.id);-1<t.indexOf(e)?(this.tips.textFlow=M18.HTP.parse(O3.tr(8265)),this.tips.visible=!0):this.tips.visible=!1},t}(eui.ItemRenderer);__reflect(CrossCliffChallengeItemView.prototype,"CrossCliffChallengeItemView");var CrossCliffFireShipItemView=function(e){function t(){var t=e.call(this)||this;return t.skinName=CrossCliffFireShipItemSkin,t.addEventListener(egret.Event.ADDED_TO_STAGE,t.onAddToStage,t),t.addEventListener(egret.Event.REMOVED_FROM_STAGE,t.onRemoveStage,t),t.grp.visible=!1,t}return __extends(t,e),t.prototype.onAddToStage=function(){this.btnChallenge.addEventListener(egret.TouchEvent.TOUCH_TAP,this.ZK95,this),this.btnCancel.addEventListener(egret.TouchEvent.TOUCH_TAP,this.ZV69,this),this.rect.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickRect,this),this.anchorOffsetX=this.width/2,this.anchorOffsetY=this.height/2,this.x=0,this.y=0,this.pbarHp.slideDuration=0,this.pbarHp.maximum=100,this.grp.visible=!1,this.btnChallenge.label=O3.tr(7621),this.btnCancel.label=O3.tr(7628)},t.prototype.onRemoveStage=function(){this.btnChallenge.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.ZK95,this),this.btnCancel.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.ZV69,this),this.rect.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickRect,this),this.pos=null,this.ZW14()},t.prototype.ZK95=function(){var t=TD90.model;t.fireShipId=this.data.id,this.ZV69(),t.notify()},t.prototype.ZV69=function(){this.grp.visible=!1},t.prototype.onClickRect=function(){this.grp.visible=!TD90.FK66(this.data.camp);var t=TD90.FHH9(this.x,this.y);t&&TD90.sendPos(t.x,t.y)},t.prototype.initUI=function(){this.btnChallenge.label=O3.tr(7621),this.btnCancel.label=O3.tr(7621)},t.prototype.setData=function(t){if(this.data=t,this.pbarHp.value=this.data.hp,!this.x){var e=void 0;e=TD90.FK66(this.data.camp)?7685:7872,this.lbName.textFlow=M18.HTP.parser(O3.tr(e)),this.name=t.id+"",this.index=t.index+1,this.x=t.x,this.y=t.y,this.setMove()}},t.prototype.setMove=function(){var e=this;this.pos=this.data.fireData[this.index],this.setImgAngle();var t=App.TG81.getDistance(this.x,this.y,this.pos.x,this.pos.y)/TD39.fireShipSpe;egret.Tween.get(this).to({x:this.pos.x,y:this.pos.y},1e3*t).call(function(){e.data.fireData[e.index+1]?(e.index++,e.setMove()):(e.ZW14(),App.THH33.aUE(e.grpFire,"cbzz_fire_sink",0,0,1,function(){var t=TD90.model;t.fireShipId==e.data.id&&(t.fireShipId=null),t.fireDatas&&(t.fireDatas[e.data.id]=null,t.notify())}))})},t.prototype.ZW14=function(){App.THH33.rEf(this.grpFire,"cbzz_fire_1"),App.THH33.rEf(this.grpFire,"cbzz_fire_2"),App.THH33.rEf(this.grpFire,"cbzz_fire_3")},t.prototype.setImgAngle=function(){var t=App.TG81.getRadian2(this.x,this.y,this.pos.x,this.pos.y),e=App.TG81.getAngle(t);this.ZW14(),this.grpFire.scaleX=-10<=e&&e<=10?(App.THH33.aUE(this.grpFire,"cbzz_fire_2",0,0,-1),1):180<=10+e&&170<=e?(App.THH33.aUE(this.grpFire,"cbzz_fire_2",0,0,-1),-1):0<=e&&e<=90?(App.THH33.aUE(this.grpFire,"cbzz_fire_1",0,0,-1),1):90<=e&&e<=180?(App.THH33.aUE(this.grpFire,"cbzz_fire_1",0,0,-1),-1):e<0&&-90<e?(App.THH33.aUE(this.grpFire,"cbzz_fire_3",0,0,-1),1):(App.THH33.aUE(this.grpFire,"cbzz_fire_3",0,0,-1),-1)},t}(eui.Component);__reflect(CrossCliffFireShipItemView.prototype,"CrossCliffFireShipItemView");var CrossCliffFireWarshipItemView=function(e){function t(){var t=e.call(this)||this;return t.lastMsg={},t.skinName=CrossCliffFireWarshipItemSkin,t.addEventListener(egret.Event.ADDED_TO_STAGE,t.onAddToStage,t),t.addEventListener(egret.Event.REMOVED_FROM_STAGE,t.onRemoveStage,t),t.grp.visible=!1,t}return __extends(t,e),t.prototype.onAddToStage=function(){this.btnChallenge.addEventListener(egret.TouchEvent.TOUCH_TAP,this.ZK95,this),this.btnCancel.addEventListener(egret.TouchEvent.TOUCH_TAP,this.ZV69,this),this.rect.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickRect,this),this.anchorOffsetX=this.width/2,this.anchorOffsetY=this.height/2,this.lbStr1.textFlow=M18.HTP.parser(O3.tr(7629)),this.pbarHp.maximum=TD39.collectionTime,this.btnChallenge.label=O3.tr(7621),this.btnCancel.label=O3.tr(7628)},t.prototype.onRemoveStage=function(){this.btnChallenge.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.ZK95,this),this.btnCancel.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.ZV69,this),this.rect.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickRect,this),this.endPos=null,this.GV97(),egret.Tween.removeTweens(this)},t.prototype.setPrgTime=function(){var t=TD90.model,e=TD90.FHH7();t.gatherCD&&e<=TD39.collectionTime?this.pbarHp.value=e:this.grpGather.visible=!1},t.prototype.openDown=function(){var t=this;this.setPrgTime(),this.hander=App.K16.doTimer(1e3,0,function(){TD90.FHH7()<=TD39.collectionTime?t.setPrgTime():(App.CM.apF(O6.B8,G5.A25),t.GV97())},this)},t.prototype.GV97=function(){this.hander&&(this.grpGather.visible=!1,this.pbarHp.value=0,App.K16.rBH(this.hander),this.hander=null)},t.prototype.ZK95=function(){TD90.isSafe(this.x,this.y)?P18.sDP(O3.tr(7573)):(TD90.model.shipId=this.data.id,TD90.FJ64());this.isShowGrp(!1)},t.prototype.ZV69=function(){this.grp.visible=!1},t.prototype.onClickRect=function(t){var e=App.VM.gOV(O7.C92);if(e&&this.data){var i=this.data.id+"";e.mapMgr.ZK94(i)}var s=TD90.FHH8(t.localX,t.localY),o=TD90.FHH8(this.x,this.y);if(2!=s&&2!=o)if(TD90.FK66(this.data.camp)||!TD90.FL61(this.x,this.y)){var r=TD90.FHH9(this.x,this.y),n=TD90.FK69(this.x,this.y);this.grp.visible=!TD90.FK66(this.data.camp)&&!n,TD90.FI24(this.x,this.y)?App.CM.apF(O6.B8,G5.A4):r&&TD90.sendPos(r.x,r.y)}else P18.sDP(O3.tr(7571));else P18.sDP(O3.tr(7573))},t.prototype.isShowGrp=function(t){this.grp.visible=t},t.prototype.setData=function(t){var e=this;if(t){var i=TD90.model;this.data=t;var s=void 0;this.grpGather.visible=!!this.data.isGather,this.grpGather.visible&&(this.pbarHp.visible=TD90.isMySkip(this.data.id)),this.name=this.data.id+"",TD90.FK66(this.data.camp)?(this.data.isGather&&TD90.isMySkip(t.id)&&(this.hander||this.openDown()),s=7626,this.visible=TD90.isMySkip(this.data.id)||!i.hideFriend):s=7627;var o=this.lastMsg;o.f1==s&&o.f2==this.data.name&&o.f3==this.data.num||(this.lbName.textFlow=M18.HTP.parser(O3.tr(s,this.data.name,this.data.num,3)),o.f1=s,o.f2=this.data.name,o.f3=this.data.num,App.DelayOptManager.ZE59(this,function(){e.lbBg.width=e.lbName.width+20})),this.x||(this.x=this.data.sx,this.y=this.data.sy)}},t.prototype.initUI=function(){this.btnChallenge.label=O3.tr(7621),this.btnCancel.label=O3.tr(7621)},t.prototype.setMove=function(){var s=this;this.setImgAngle();var o=App.SceneManager.getCurrScene();if(!this.endPos||this.data.ex!=this.endPos.x||this.endPos.y!=this.data.ey)if(this.hander&&(App.CM.apF(O6.B8,G5.A25),this.GV97()),egret.Tween.removeTweens(this),this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.endPos={x:this.data.ex,y:this.data.ey},this.data.ex==this.data.sx&&this.data.ey==this.data.ey)this.x=this.data.ex,this.y=this.data.ey;else{var t=App.TG81.getDistance(this.x,this.y,this.data.ex,this.data.ey)/TD39.playerShipSpe;egret.Tween.get(this).wait(0).to({x:this.data.ex,y:this.data.ey},1e3*t).call(function(){if(TD90.isMySkip(s.data.id)){TD90.FK67();var t=TD90.model;if(t.shipId)TD90.FI23()?App.CM.apF(O6.B8,G5.A5,t.shipId):TD90.FJ64();else if(TD90.FJ63(s.x,s.y)){var e=TD90.foeCamp(),i=t.cableCDs[e].cd;null!=i&&0!=i||!TD90.FJ62()||App.CM.apF(O6.B8,G5.A12)}else M2.A4==o&&TD90.FJ62()&&TD90.canSend()}},this)}},t.prototype.setImgAngle=function(){if(!this.endPos||this.data.ex!=this.endPos.x||this.endPos.y!=this.data.ey){var t=App.TG81.getRadian2(this.x,this.y,this.data.ex,this.data.ey),e=App.TG81.getAngle(t);App.THH33.rEf(this.grpFire,"cbzz_ship_1"),App.THH33.rEf(this.grpFire,"cbzz_ship_2"),App.THH33.rEf(this.grpFire,"cbzz_ship_3"),this.grpFire.scaleX=-10<=e&&e<=10?(App.THH33.aUE(this.grpFire,"cbzz_ship_2",0,0,-1),1):180<=10+e&&170<=e?(App.THH33.aUE(this.grpFire,"cbzz_ship_2",0,0,-1),-1):0<=e&&e<=90?(App.THH33.aUE(this.grpFire,"cbzz_ship_1",0,0,-1),1):90<=e&&e<=180?(App.THH33.aUE(this.grpFire,"cbzz_ship_1",0,0,-1),-1):e<0&&-90<e?(App.THH33.aUE(this.grpFire,"cbzz_ship_3",0,0,-1),1):(App.THH33.aUE(this.grpFire,"cbzz_ship_3",0,0,-1),-1)}},t}(eui.Component);__reflect(CrossCliffFireWarshipItemView.prototype,"CrossCliffFireWarshipItemView");var CrossCliffJoinTeamItemView=function(e){function t(){var t=e.call(this)||this;return t.allNum=3,t.skinName=CrossCliffJoinTeamItemSkin,t.addEventListener(egret.Event.ADDED_TO_STAGE,t.onAddToStage,t),t.addEventListener(egret.Event.REMOVED_FROM_STAGE,t.onRemoveStage,t),t}return __extends(t,e),t.prototype.childrenCreated=function(){e.prototype.createChildren.call(this),this.initUI()},t.prototype.onAddToStage=function(){this.btnJoin.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickJoin,this)},t.prototype.onRemoveStage=function(){this.btnJoin.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickJoin,this)},t.prototype.onClickJoin=function(){App.CM.gtM(O6.B82).avatarInfo.s<this.data.needPower?P18.sDP(O3.tr(5248)):this.data.teamList.length==this.allNum?P18.sDP(O3.tr(5249)):App.CM.apF(O6.B8,G5.A33,this.data.teamId)},t.prototype.initUI=function(){this.lbStr1.textFlow=M18.HTP.parse(O3.tr(5233)),this.btnJoin.label=O3.tr(5232)},t.prototype.dataChanged=function(){this.lbName.textFlow=M18.HTP.parse(O3.tr(5222,this.data.teamList[0].name)),this.lbNum.textFlow=M18.HTP.parse(O3.tr(5231,this.data.teamList.length,this.allNum));var t=M18.FF65(this.data.needPower);this.lbPower.textFlow=M18.HTP.parse(O3.tr(5234,t))},t}(eui.ItemRenderer);__reflect(CrossCliffJoinTeamItemView.prototype,"CrossCliffJoinTeamItemView");var CrossCliffMyTeamItemView=function(e){function t(){var t=e.call(this)||this;return t.skinName=CrossCliffMyTeamItemSkin,t.addEventListener(egret.Event.ADDED_TO_STAGE,t.onAddToStage,t),t.addEventListener(egret.Event.REMOVED_FROM_STAGE,t.onRemoveStage,t),t}return __extends(t,e),t.prototype.onAddToStage=function(){this.btnKick.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickKick,this)},t.prototype.onRemoveStage=function(){this.btnKick.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickKick,this)},t.prototype.onClickKick=function(){App.CM.apF(O6.B8,G5.A16,this.data.aid)},t.prototype.childrenCreated=function(){e.prototype.createChildren.call(this),this.initUI()},t.prototype.initUI=function(){this.lbStr1.textFlow=M18.HTP.parse(O3.tr(5221)),this.btnKick.label=O3.tr(5220)},t.prototype.dataChanged=function(){var t=App.CM.gtM(O6.B8).myTeamData,e=TD90.FJ62();this.grpMain.visible=!1,this.btnKick.visible=!1,t.teamId==this.data.aid?this.grpMain.visible=!0:e&&(this.btnKick.visible=!0),this.imgHead.source=this.data.icon,this.lbName.textFlow=M18.HTP.parse(O3.tr(5222,this.data.name)),this.lbGrade.textFlow=M18.HTP.parse(O3.tr(5223,this.data.lv));var i=M18.FF65(this.data.power);this.lbPower.textFlow=M18.HTP.parse(O3.tr(5224,i))},t}(eui.ItemRenderer);__reflect(CrossCliffMyTeamItemView.prototype,"CrossCliffMyTeamItemView");var CrossCliffWoodItemView=function(i){function t(t){var e=i.call(this)||this;return e.addEventListener(egret.Event.ADDED_TO_STAGE,e.onAddToStage,e),e.addEventListener(egret.Event.REMOVED_FROM_STAGE,e.onRemoveStage,e),e.index=t,e}return __extends(t,i),t.prototype.initDate=function(t){this.x=t.x,this.y=t.y,this.source=t.img},t.prototype.onAddToStage=function(){var t=this;this.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClick,this),App.DelayOptManager.ZE59(this,function(){t.anchorOffsetX=t.width/2,t.anchorOffsetY=t.height/2})},t.prototype.onRemoveStage=function(){this.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClick,this)},t.prototype.onClick=function(t){TD90.model.chooseWoodIndex=this.index,TD90.sendPos(this.x,this.y)},t}(eui.Image);__reflect(CrossCliffWoodItemView.prototype,"CrossCliffWoodItemView");var CrossCliffCampUIView=function(s){function t(t,e){var i=s.call(this,t,e)||this;return i.skinName=CrossCliffCampUISkin,i}return __extends(t,s),t.prototype.initUI=function(){s.prototype.initUI.call(this),this.gpBg.touchEnabled=!1,this.btnMain.label=O3.tr(3280),this.hideCkx.label=O3.tr(8126)},t.prototype.isSureClose=function(){var t=this;App.VM.open(O7.HH38,M18.HTP.parser(O3.tr(603)),this,function(){t.GV97(),App.CM.apF(O6.B8,G5.A44)},void 0)},t.prototype.onClickTeam=function(){this.aCF(O6.B8,G5.A31),TD90.FK64()?this.aCF(O6.B8,G5.A28):this.aCF(O6.B8,G5.A18)},t.prototype.open=function(){for(var i=this,t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];s.prototype.open.call(this),this.btnHelp.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickTips,this),this.btnMain.addEventListener(egret.TouchEvent.TOUCH_TAP,this.openHelpView,this),this.imgClick.addEventListener(egret.TouchEvent.TOUCH_TAP,this.setNewState,this),this.grpClick.addEventListener(egret.TouchEvent.TOUCH_TAP,this.setNewState,this),this.btnTeam.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickTeam,this),this.btnBack.addEventListener(egret.TouchEvent.TOUCH_TAP,this.isSureClose,this),this.hideCkx.addEventListener(egret.Event.CHANGE,this.ckxChange,this),App.DelayOptManager.ZE59(this,function(){var t=App.VM.gOV(O7.I85);if(t){var e=P7.FJ17();i.gpBg.bottom=e?t.chartGroup.height==ChatView.minHeig?240:490:t.chartGroup.height==ChatView.minHeig?360:490}}),this.updateUI(),this.setRect(),this.ZV86()},t.prototype.setlbTime=function(){var t;switch(TD90.model.state){case 1:t=7609;break;case 2:t=7608}var e=P6.FJ11(1e3*TD90.FJ24(),3);this.lbTime.textFlow=M18.HTP.parser(O3.tr(t,e))},t.prototype.ZV86=function(){var t=this;this.challHander||(this.setlbTime(),this.challHander=App.K16.doTimer(1e3,0,function(){0<TD90.FJ24()?t.setlbTime():t.GV97()},this))},t.prototype.openFireDown=function(){var t=this;this.ZW15(),(this.fireHander||TD90.FJ61())&&(this.fireHander=App.K16.doTimer(1e3,0,function(){0<TD90.FJ61()?t.ZW15():t.ZN98()},this))},t.prototype.ZW15=function(){if(-1!=TD90.model.coolingCD){var t=P6.FJ11(1e3*TD90.FJ61(),3);this.lbFireTime.textFlow=M18.HTP.parser(O3.tr(7613,t))}else this.lbFireTime.textFlow=M18.HTP.parser(O3.tr(7649))},t.prototype.setNewState=function(){var t=this;this.grpData.left<0?(this.grpClick.visible=!1,egret.Tween.get(this.grpData).to({left:0},200).call(function(){t.imgClick.touchEnabled=!0},this)):(this.imgClick.touchEnabled=!1,egret.Tween.get(this.grpData).to({left:-this.grpData.width},200).call(function(){t.grpClick.visible=!0},this))},t.prototype.updateUI=function(){var t=TD90.model;this.lbWeyHurt.textFlow=M18.HTP.parser(O3.tr(7610,t.myHurtNum)),this.lbEnemyHurt.textFlow=M18.HTP.parser(O3.tr(7611,t.warHurtNum)),this.lbMyScore.textFlow=M18.HTP.parser(O3.tr(7612,t.integral)),this.lbMyWood.textFlow=M18.HTP.parser(O3.tr(7639,t.woodsNum)),this.openFireDown(),this.hideCkx.selected=t.hideFriend},t.prototype.openHelpView=function(){var t={title:O3.tr(6e3),content:O3.tr(7583)};App.CM.apF(O6.C18,O10.A24,t)},t.prototype.onClickTips=function(){this.apF(G5.A49,!1)},t.prototype.uBM=function(t,e){if(s.prototype.uBM.call(this,t,e),t instanceof TD88)switch(e){case P4.L35:case P4.R15:case P4.P44:case P4.P45:this.updateUI(),this.setRect();break;case P4.L41:case P4.L39:case P4.R14:this.setRect();break;case P4.F79:case P4.J33:case P4.R14:case P4.B75:this.updateUI()}},t.prototype.GV97=function(){this.challHander&&(App.K16.rBH(this.challHander),this.challHander=null)},t.prototype.ZN98=function(){this.lbFireTime.textFlow=M18.HTP.parser(O3.tr(7649)),this.fireHander&&(App.K16.rBH(this.fireHander),this.fireHander=null)},t.prototype.close=function(){s.prototype.close.call(this),this.btnHelp.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickTips,this),this.btnMain.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.openHelpView,this),this.imgClick.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.setNewState,this),this.grpClick.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.setNewState,this),this.btnTeam.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickTeam,this),this.btnBack.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.isSureClose,this),this.hideCkx.removeEventListener(egret.Event.CHANGE,this.ckxChange,this),this.GV97(),this.ZN98();var t=App.VM.gOV(O7.I85);t&&(t.gpTopBtn.top=-150),egret.Tween.removeTweens(this.gpBg)},t.prototype.ZR53=function(t){var e=this;egret.Tween.get(this.gpBg).to({bottom:t},300).call(function(){egret.Tween.removeTweens(e.gpBg)})},t.prototype.setRect=function(){var t=TD90.model;this.rect.visible=!TD90.FL60()&&2==t.state},t.prototype.ckxChange=function(){var t=TD90.model;t.hideFriend=this.hideCkx.selected,t.notify("hideFriend")},t}(BaseEuiView);__reflect(CrossCliffCampUIView.prototype,"CrossCliffCampUIView");var CrossCliffChallengeListView=function(s){function t(t,e){var i=s.call(this,t,e)||this;return i.skinName=CrossCliffChallengeListSkin,i}return __extends(t,s),t.prototype.initUI=function(){s.prototype.initUI.call(this);var t={render:CrossCliffChallengeItemView,gap:0,width:this.listGrp.width,height:this.listGrp.height};this.listView=new CommonListBase(t),this.listGrp.addChild(this.listView),this.listView.verticalCenter=0,this.listView.horizontalCenter=0,this.lbStr1.textFlow=M18.HTP.parse(O3.tr(7622)),this.lbStr2.textFlow=M18.HTP.parse(O3.tr(7623))},t.prototype.open=function(){this.listView.open(),this.bgMask.addEventListener(egret.TouchEvent.TOUCH_TAP,this.closeSelf,this),this.backBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.closeSelf,this);var t=TD90.FD79();this.listView.rfL(t)},t.prototype.uBM=function(t,e){if(s.prototype.uBM.call(this,t,e),t instanceof TD88)switch(e){case"EnemyChainAidRefresh":var i=TD90.FD79();this.listView.rfL(i)}},t.prototype.closeSelf=function(){this.apF(G5.A3)},t.prototype.close=function(){s.prototype.close.call(this),this.bgMask.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.closeSelf,this),this.backBtn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.closeSelf,this),this.listView.close()},t}(BaseEuiView);__reflect(CrossCliffChallengeListView.prototype,"CrossCliffChallengeListView");var CrossCliffJoinTeamView=function(s){function t(t,e){var i=s.call(this,t,e)||this;return i.skinName=CrossCliffJoinTeamSkin,i}return __extends(t,s),t.prototype.initUI=function(){s.prototype.initUI.call(this);var t={render:CrossCliffJoinTeamItemView,tileLayout:!0,horizontalGap:4,verticalGap:6,width:this.listGroup.width,height:this.listGroup.height};this.listView=new CommonListBase(t),this.listGroup.addChild(this.listView),this.listView.verticalCenter=0,this.listView.horizontalCenter=0,this.dlg.title=O3.tr(5235),this.btnCreateTeam.label=O3.tr(5250)},t.prototype.open=function(){this.dlg.ZM69(this.closeSelf.bind(this),this),this.dlg.ZQ14(this.closeSelf.bind(this),this),this.listView.open(),this.btnCreateTeam.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onCreateTeam,this);var t=App.CM.gtM(O6.B8);this.updateUI(t),this.challHander=App.K16.doTimer(1500,0,function(){App.CM.apF(O6.B8,G5.A31)},this)},t.prototype.GV97=function(){this.challHander&&(App.K16.rBH(this.challHander),this.challHander=null)},t.prototype.onCreateTeam=function(){this.apF(G5.A19)},t.prototype.closeSelf=function(){this.apF(G5.A11)},t.prototype.close=function(){s.prototype.close.call(this),this.listView.close(),this.GV97()},t.prototype.updateUI=function(t){var e=P7.copyTab(t.allTeamData);e&&this.listView.rfL(e)},t.prototype.uBM=function(t,e){if(s.prototype.uBM.call(this,t,e),t instanceof TD88)switch(e){case P4.L37:case P4.R14:this.updateUI(t)}},t}(BaseEuiView);__reflect(CrossCliffJoinTeamView.prototype,"CrossCliffJoinTeamView");var CrossCliffMyTeamView=function(s){function t(t,e){var i=s.call(this,t,e)||this;return i.skinName=CrossCliffMyTeamSkin,i}return __extends(t,s),t.prototype.initUI=function(){s.prototype.initUI.call(this),this.teamData.dataProvider=this.teamCollection=new eui.ArrayCollection,this.teamData.itemRenderer=CrossCliffMyTeamItemView,this.btnQuit.name="quit",this.dlg.title=O3.tr(5235),this.btnQuit.label=O3.tr(5228),this.btnRecruit.label=O3.tr(5229),this.lbStr1.textFlow=M18.HTP.parse(O3.tr(5226)),this.lbStr2.textFlow=M18.HTP.parse(O3.tr(5227)),this.textNum.text="0"},t.prototype.open=function(){this.dlg.ZM69(this.closeSelf.bind(this),this),this.dlg.ZQ14(this.closeSelf.bind(this),this),this.btnQuit.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClick,this),this.btnRecruit.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClick,this),this.textNum.addEventListener(egret.Event.CHANGE,this.textChange,this),this.textNum.addEventListener(egret.TouchEvent.TOUCH_TAP,this.textChange,this);var t=App.CM.gtM(O6.B8);this.updateUI(t),this.textNum.text=t.myTeamData.needPower/1e4+"",this.textNum.restrict="0-9",this.textNum.enabled=TD90.FJ62()},t.prototype.onClick=function(t){if("quit"==t.target.name)this.aCF(O6.B8,G5.A35);else{var e=App.CM.gtM(O6.C13).ZR28(F8.A19);if(0<e)return void P18.sDP(O3.tr(7798,e));var i=App.CM.gtM(O6.B8),s=M18.format("$0",[i.myTeamData.teamId]),o={nid:F8.A19,channelId:P9.A18,param:s,infoId:""};this.aCF(O6.C13,O12.A13,o)}},t.prototype.closeSelf=function(){this.aCF(O6.B8,G5.A22)},t.prototype.close=function(){s.prototype.close.call(this),this.btnQuit.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClick,this),this.btnRecruit.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClick,this),this.textNum.removeEventListener(egret.Event.CHANGE,this.textChange,this),this.textNum.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.textChange,this),this.teamCollection.removeAll()},t.prototype.textChange=function(){"0"==this.textNum.text[0]&&(this.textNum.text=this.textNum.text.slice(1,this.textNum.text.length)),0<this.textNum.text.length&&this.aCF(O6.B8,G5.A9,1e4*parseInt(this.textNum.text)),P7.FL26()},t.prototype.updateUI=function(t){if(t.myTeamData){var e=P7.copyTab(t.myTeamData.teamList);this.teamCollection.replaceAll(e)}},t.prototype.uBM=function(t,e){if(s.prototype.uBM.call(this,t,e),t instanceof TD88)switch(e){case P4.F81:case P4.L37:case P4.R14:this.updateUI(t)}},t}(BaseEuiView);__reflect(CrossCliffMyTeamView.prototype,"CrossCliffMyTeamView");var CrossCliffResurgenceView=function(s){function t(t,e){var i=s.call(this,t,e)||this;return i.skinName=CrossBossResurgenceSkin,i}return __extends(t,s),t.prototype.initUI=function(){s.prototype.initUI.call(this),this.btnGo.label=O3.tr(5349)},t.prototype.open=function(){this.btnGo.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickGo,this),this.GX5()},t.prototype.onClickGo=function(){var t=TD39.revivalCost,e={handler:function(){App.CM.apF(O6.B8,G5.A40)},cost:t.v,costTp:P10.A2,content:O3.tr(716,t.v)};App.VM.open(O7.C54,e)},t.prototype.GX5=function(){var t=this;this.lbOver.text=O3.tr(715,TD90.FJ60()),this.timeHandler=App.K16.doTimer(1e3,0,function(){TD90.FJ60()<=0?t.oCC():t.lbOver.text=O3.tr(715,TD90.FJ60())},this),this.btnGo.visible=TD90.FL60()},t.prototype.ZW10=function(){this.timeHandler&&(App.K16.rBH(this.timeHandler),this.timeHandler=null)},t.prototype.oCC=function(){App.CM.apF(O6.B8,G5.A7),this.ZW10(),App.CM.gtM(O6.B8).lifeCD=null,App.VM.close(O7.C54)},t.prototype.close=function(){s.prototype.close.call(this),this.btnGo.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickGo,this),this.ZW10()},t.prototype.uBM=function(t,e){if(s.prototype.uBM.call(this,t,e),t instanceof TD88)switch(e){case P4.P44:this.oCC()}},t}(BaseEuiView);__reflect(CrossCliffResurgenceView.prototype,"CrossCliffResurgenceView");var CrossCliffView=function(s){function t(t,e){var i=s.call(this,t,e)||this;return i.skinName=CrossCliffSkin,i}return __extends(t,s),t.prototype.initUI=function(){s.prototype.initUI.call(this),this.dlg.title=O3.tr(7581),this.btnGo.label=O3.tr(7585),this.lbStr1.textFlow=M18.HTP.parser(O3.tr(7580)),this.lbStr3.textFlow=M18.HTP.parser(O3.tr(7861)),this.lbStr4.textFlow=this.lbStr5.textFlow=M18.HTP.parser(O3.tr(7860)),this.lbStr7.textFlow=this.lbStr8.textFlow=M18.HTP.parser(O3.tr(7859)),this.lbStr2.textFlow=this.lbStr6.textFlow=M18.HTP.parser(O3.tr(7858))},t.prototype.open=function(t){void 0===t&&(t=!0),s.prototype.open.call(this),this.dlg.ZM69(this.closeSelf,this),this.scr.addEventListener(eui.UIEvent.CHANGE_END,this.endScroller,this),this.scr1.addEventListener(eui.UIEvent.CHANGE_END,this.updateArrow,this),this.btnShop.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickShop,this),this.btnGo.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickGo,this);var e=App.CM.gtM(O6.B8);this.GX5(e),this.updateArrow(),this.endScroller(),this.btnGo.visible=t},t.prototype.onClickShop=function(){App.VM.open(O7.HH98,O7.HH29,P12.A7)},t.prototype.onClickGo=function(){TD90.FC89()},t.prototype.setMapBg=function(){var i=this,s=0;this.worldMapDatas.forEach(function(t){var e=new eui.Image;e.source=t,e.x=s,e.y=0,i.grpMap.addChild(e),s+=600})},t.prototype.endScroller=function(){this.scr.validateNow(),this.upArrow.visible=0<this.scr.viewport.scrollV,this.downArrow.visible=this.scr.height+this.scr.viewport.scrollV<this.scr.viewport.contentHeight},t.prototype.updateArrow=function(){this.scr1.validateNow(),this.leftArrow.visible=0<this.scr1.viewport.scrollH,this.rightArrow.visible=this.scr1.width+this.scr1.viewport.scrollH<this.scr1.viewport.contentWidth},t.prototype.closeSelf=function(){this.apF(G5.A48)},t.prototype.uBM=function(t,e){s.prototype.uBM.call(this,t,e),t instanceof TD88&&this.GX5(t)},t.prototype.GX5=function(t){this.btnGo.imgNew.visible=0<t.FL35()},t.prototype.close=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];s.prototype.close.call(this),this.scr.removeEventListener(eui.UIEvent.CHANGE_END,this.endScroller,this),this.scr1.removeEventListener(eui.UIEvent.CHANGE_END,this.updateArrow,this),this.btnShop.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickShop,this),this.btnGo.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickGo,this)},t}(BaseEuiView);__reflect(CrossCliffView.prototype,"CrossCliffView");var CrossCliffCablerVo=function(){function t(t){this.updateData(t)}return t.prototype.updateData=function(t){this.lastTime=null!=t?(this.cd=t,P6.getTime(!0)):this.cd=null},t.prototype.getCdTime=function(){var t=P6.getTime(!0)-this.lastTime,e=this.cd-t;return 0<e?e:0},t}();__reflect(CrossCliffCablerVo.prototype,"CrossCliffCablerVo");var CrossCliffFireShiprVo=function(){function t(t){this.updateData(t)}return t.prototype.updateData=function(t){if(this.id=null!=t.id?t.id:this.id,this.camp=null!=t.c?t.c:this.camp,this.hp=null!=t.rp?t.rp:this.hp,this.x=null!=t.x?t.x:this.x,this.y=null!=t.y?t.y:this.y,this.index=null!=t.i?t.i:this.index,null!=t.cd&&(this.cd=t.cd,this.lastTime=P6.getTime(!0)),!this.allTime){this.fireData=TD39.firePos[this.camp];var e=[];for(var i in this.fireData)e.push(this.fireData[i]);for(var s=0,o=0;o<e.length-1;o++)s+=App.TG81.getDistance(e[o].x,e[o].y,e[o+1].x,e[o+1].y);this.allTime=Math.floor(s/TD39.fireShipSpe)}},t.prototype.getStartPos=function(){return this.fireData[this.index]},t.prototype.getTime=function(){var t=P6.getTime(!0)-this.lastTime,e=this.cd-t;return 0<e?e:0},t}();__reflect(CrossCliffFireShiprVo.prototype,"CrossCliffFireShiprVo");var CrossCliffRegionVo=function(){function t(){}return t.prototype.updateData=function(t){},t}();__reflect(CrossCliffRegionVo.prototype,"CrossCliffRegionVo");var CrossCliffTeamMebVo=function(){function t(t){this.updateData(t)}return t.prototype.updateData=function(t){this.aid=null!=t.aid?t.aid:this.aid,this.name=null!=t.n?t.n:this.name,this.lv=null!=t.lv?t.lv:this.lv,this.power=null!=t.s?t.s:this.power,this.icon=null!=t.ic?t.ic:this.icon,this.haveReward=null!=t.to?t.to:this.haveReward},t}();__reflect(CrossCliffTeamMebVo.prototype,"CrossCliffTeamMebVo");var CrossCliffTeamVo=function(){function t(t){this.updateData(t)}return t.prototype.updateData=function(t){if(this.teamId=null!=t.tid?t.tid:this.teamId,this.needPower=null!=t.ns?t.ns:this.needPower,this.haveReward=null!=t.to?t.to:this.haveReward,t.tml)for(var e in this.teamList=[],t.tml){var i=new CrossFieldTeamMebVo(t.tml[e]);this.teamList.push(i)}},t}();__reflect(CrossCliffTeamVo.prototype,"CrossCliffTeamVo");var CrossCliffWarShipVo=function(){function t(t){this.updateData(t)}return t.prototype.updateData=function(t){this.id=null!=t.id?t.id:this.id,this.sx=null!=t.sx?t.sx:this.sx,this.sy=null!=t.sy?t.sy:this.sy,this.ex=null!=t.ex?t.ex:this.ex,this.ey=null!=t.ey?t.ey:this.ey,this.num=null!=t.s?t.s:this.num,this.camp=null!=t.c?t.c:this.camp,this.name=null!=t.n?t.n:this.name,this.isGather=null!=t.g?!!t.g:this.isGather},t.prototype.FI23=function(){},t}();__reflect(CrossCliffWarShipVo.prototype,"CrossCliffWarShipVo");var TD91=function(){function t(){}return t.FK35=function(t){this.init=t.crossduel_init,this.gradeGroup=t.crossduel_group,this.betsReward=t.crossduel_betsreward,this.raceDate=this.FJ65(),this.betsRewardData=this.FC90()},t.gIV=function(t){var e="";return this.init?e=this.init[t].value:e},t.FJ65=function(){var t;return this.init?t=this.gIV("raceDate").split(","):t},t.FC90=function(){var t=[];if(!this.betsReward)return t;for(var e in this.betsReward){var i=M18.FL28(this.betsReward[e].win,";",":"),s=M18.FL28(this.betsReward[e].lose,";",":"),o=M18.FL28(this.betsReward[e].cost,":");t.push({id:e,cost:o,win:i,lose:s,name:this.betsReward[e].des})}return t},t.FE59=function(t){var e;return this.init?e=parseInt(this.init[t].value):e},t}();__reflect(TD91.prototype,"TD91");var G15=function(){function t(){}return t.A3=10001,t.A4=10002,t.A11=10003,t.A16=10004,t.A17=10005,t.A20=10006,t.A12=10007,t.A13=10008,t.A8=10009,t.A9=10010,t.A1=10011,t.A2=10012,t.A5=10013,t.A6=10014,t.A14=10015,t.A15=10016,t.A10=11001,t.A7=11002,t.A18=11003,t.A19=11004,t}();__reflect(G15.prototype,"G15");var TC24=function(){function t(){}return t.SIGN=0,t.READY=1,t.MATHCH=2,t}();__reflect(TC24.prototype,"TC24");var TB77=function(){function t(){}return t.NO_OPEN=-1,t.NO_STAER=0,t.READY_STAER=1,t.READY_STOP=2,t.GET_GAME=3,t.STAER_GAME=4,t}();__reflect(TB77.prototype,"TB77");var TA49=function(){function t(){}return t.LOOK_GUESS=0,t.LOOK_FIGHT=1,t}();__reflect(TA49.prototype,"TA49");var TB78=function(i){function t(){var t=i.call(this)||this;App.VM.register(O7.D42,"CrossDuelStakeView",t,K17.UI_Main_TOP),t.rgF(G15.A10,t.GD51,t),t.rgF(G15.A7,t.GC60,t),App.VM.register(O7.HH65,"CrossDuelView",t,K17.UI_Main_TOP),t.rgF(G15.A18,t.GO87,t),t.rgF(G15.A19,t.GO88,t);var e=new TE70(t);return e.aLV(O7.HH99),e.aLV(O7.HH65),e.aLV(O7.D42),e.aLV(O7.I39),e.aLV(O7.I63),e.aLV(O7.I85),t.proxy=new TE71(t),t.rgF(G15.A3,t.GU34,t),t.rgF(G15.A4,t.GU20,t),t.rgF(G15.A11,t.GY21,t),t.rgF(G15.A16,t.loadReq,t),t.rgF(G15.A17,t.loadRes,t),t.rgF(G15.A20,t.push,t),t.rgF(G15.A12,t.applyReq,t),t.rgF(G15.A13,t.applyRes,t),t.rgF(G15.A8,t.GW6,t),t.rgF(G15.A9,t.GW7,t),t.rgF(G15.A1,t.GS72,t),t.rgF(G15.A2,t.GS73,t),t.rgF(G15.A5,t.GU51,t),t.rgF(G15.A6,t.GU52,t),t.rgF(G15.A14,t.guestReq,t),t.rgF(G15.A15,t.guestRes,t),t}return __extends(t,i),t.prototype.GD51=function(){App.VM.open(O7.D42)},t.prototype.GC60=function(){App.VM.close(O7.D42)},t.prototype.GO87=function(){App.VM.open(O7.HH65)},t.prototype.GO88=function(){App.VM.close(O7.HH65)},t.prototype.GU34=function(){this.gtM();return this.proxy.GU34()},t.prototype.GU20=function(t){if(200==t.head.state){var e=this.gtM();e.setState(t.body),e.notify(P4.K51),2<e.state&&e.isSign&&this.loadReq()}else App.CM.apF(O6.B87,L10.A4,t)},t.prototype.GY21=function(t){if(200==t.head.state){var e=this.gtM();e.setState(t.body),e.notify(P4.Q65)}else App.CM.apF(O6.B87,L10.A4,t)},t.prototype.push=function(t){200==t.head.state?this.loadReq():App.CM.apF(O6.B87,L10.A4,t)},t.prototype.loadReq=function(){this.gtM();this.proxy.loadReq()},t.prototype.loadRes=function(t){if(200==t.head.state){var e=this.gtM();e.setLoadData(t.body),e.notify(P4.T94)}else App.CM.apF(O6.B87,L10.A4,t)},t.prototype.applyReq=function(){this.gtM();this.proxy.applyReq()},t.prototype.applyRes=function(t){var e=this.gtM();200==t.head.state?(P18.sDP(O3.tr(3402)),e.setState(t.body),e.notify(P4.S31)):App.CM.apF(O6.B87,L10.A4,t)},t.prototype.GW6=function(t){this.gtM();this.proxy.GW6(t)},t.prototype.GW7=function(t){var e=this.gtM();200==t.head.state?(e.lookState=TA49.LOOK_FIGHT,e.ZN99(t.body),e.notify(P4.M59)):App.CM.apF(O6.B87,L10.A4,t)},t.prototype.GS72=function(t){this.gtM();this.proxy.GS72(t)},t.prototype.GS73=function(t){var i=this,s=this.gtM();if(200==t.head.state)if(t.body.cd_)P7.fightCoolingCD(t.body.cd_);else{this.GC60();var e=P7.isGetView(O7.HH65);App.CM.apF(O6.B99,N1.A11,t.body.fr,{needResult:!1,type:P15.A37,isAuto:e},function(t,e){s.isFight=!0,s.chatShow||(App.SceneManager.runScene(M2.A5),App.CM.apF(O6.B24,G15.A18)),i.GD51()},this)}else App.CM.apF(O6.B87,L10.A4,t)},t.prototype.GU51=function(t){this.gtM();this.proxy.GU51(t)},t.prototype.GU52=function(t){var e=this.gtM();200==t.head.state?(e.lookState=TA49.LOOK_GUESS,e.ZF16(t.body),e.notify(P4.M59)):App.CM.apF(O6.B87,L10.A4,t)},t.prototype.guestReq=function(t){var e=this.gtM();this.proxy.guestReq(e.chooseId,t)},t.prototype.guestRes=function(t){var e=this.gtM();200==t.head.state?(e.ZF16(t.body),e.crossDuelMatchVo.s=t.body.go.id,e.FL35(),e.notify(P4.S33)):App.CM.apF(O6.B87,L10.A4,t)},t}(TE11);__reflect(TB78.prototype,"TB78");var TE70=function(i){function t(t){var e=i.call(this,t)||this;return e.signState=TC24.SIGN,e.isFight=!1,e}return __extends(t,i),t.prototype.setState=function(t){this.state=null!=t.st?t.st:this.state,this.isSign=null!=t.a?!!t.a:this.isSign,this.state<=2&&(this.signState=TC24.SIGN),this.FL35()},t.prototype.setLoadData=function(t){this.signState=TC24.SIGN,t.p&&(this.signState=TC24.READY,null!=this.crossDuelReadyVo?this.crossDuelReadyVo.updateData(t.p):this.crossDuelReadyVo=new CrossDuelReadyVo(t.p)),t.m&&(this.signState=TC24.MATHCH,null!=this.crossDuelMatchVo?this.crossDuelMatchVo.updateData(t.m):this.crossDuelMatchVo=new CrossDuelMatchVo(t.m)),this.FL35()},t.prototype.isShow=function(){var t=!1,e=O4.getLv(),i=TD91.gIV("unlockLv");return e<parseInt(i)?t:t=this.state==TB77.READY_STAER&&!this.isSign},t.prototype.FL35=function(){this.red=0;var t=O4.getLv(),e=TD91.gIV("unlockLv");return t<parseInt(e)||(this.red=this.state==TB77.READY_STAER&&!this.isSign||3<this.state&&this.crossDuelMatchVo&&!this.crossDuelMatchVo.s&&!this.isOver()?1:0),this.red},t.prototype.isOver=function(){var t=!1;if(this.crossDuelMatchVo){var e=this.crossDuelMatchVo.crossDuelVo;t=!(15!=e.length||!e[e.length-1].win)}return t},t.prototype.getRed=function(){return this.red=this.state!=TB77.READY_STAER||this.isSign?0:1,this.red||THH27.FG49()},t.prototype.ZN99=function(t){this.crossDuelFightData?this.crossDuelFightData.updateData(t):this.crossDuelFightData=new CrossDuelFightData(t)},t.prototype.ZF16=function(t){this.crossDuelGuessData?this.crossDuelGuessData.updateData(t):this.crossDuelGuessData=new CrossDuelGuessData(t)},t.prototype.notify=function(t){i.prototype.notifyView.call(this,this,t)},t}(TG79);__reflect(TE70.prototype,"TE70");var TE71=function(i){function t(t){var e=i.call(this,t)||this;return e.rSM(P4.Q65,e.startPush,e),e.rSM(P4.X42,e.push,e),e}return __extends(t,i),t.prototype.GU34=function(){var s=this;return new Promise(function(e,t){var i={type:P4.K50,body:{}};s.rSMO(P4.K51,function(t){s.apF(G15.A4,t),e("加载天下会武信息完成")},s),s.sSM(i)})},t.prototype.startPush=function(t){this.apF(G15.A11,t)},t.prototype.push=function(t){this.apF(G15.A20,t)},t.prototype.loadReq=function(){var t={type:P4.T93,body:{}};this.rSMO(P4.T94,this.loadRes,this),this.sSM(t)},t.prototype.loadRes=function(t){this.apF(G15.A17,t)},t.prototype.applyReq=function(){var t={type:P4.S30,body:{}};this.rSMO(P4.S31,this.applyRes,this),this.sSM(t)},t.prototype.applyRes=function(t){this.apF(G15.A13,t)},t.prototype.GW6=function(t){var e={type:P4.M58,body:{did:t}};this.rSMO(P4.M59,this.GW7,this),this.sSM(e)},t.prototype.GW7=function(t){this.apF(G15.A9,t)},t.prototype.GS72=function(t){var e={type:P4.I76,body:{fid:t}};this.rSMO(P4.I77,this.GS73,this),this.sSM(e)},t.prototype.GS73=function(t){this.apF(G15.A2,t)},t.prototype.GU51=function(t){var e={type:P4.K52,body:{did:t}};this.rSMO(P4.K53,this.GU52,this),this.sSM(e)},t.prototype.GU52=function(t){this.apF(G15.A6,t)},t.prototype.guestReq=function(t,e){var i={type:P4.S32,body:{target:t,grade:e}};this.rSMO(P4.S33,this.guestRes,this),this.sSM(i)},t.prototype.guestRes=function(t){this.apF(G15.A15,t)},t}(TG80);__reflect(TE71.prototype,"TE71");var TE72=function(){function t(){}return t.FI25=function(){var t,e={},i="";switch(App.CM.gtM(O6.B24).crossDuelMatchVo.crossDuelVo.length){case 8:t=16,i=M18.FF66(parseInt(TD91.raceDate[0]));break;case 12:t=8,i=M18.FF66(parseInt(TD91.raceDate[1]));break;case 14:t=4,i=M18.FF66(parseInt(TD91.raceDate[2]));break;case 15:t=2,i=M18.FF66(parseInt(TD91.raceDate[3]))}return e.addStr=O3.tr(3391,t,t/2),e.openStr=O3.tr(3394,i,TD91.gIV("battleTime")),e.num=t/2,e},t}();__reflect(TE72.prototype,"TE72");var CrossDuelDuelerVo=function(){function t(t){this.updateData(t)}return t.prototype.updateData=function(t){this.icon=null!=t.ic?t.ic:this.icon,this.name=null!=t.n?t.n:this.name,this.serverName=null!=t.s?t.s:this.serverName},t}();__reflect(CrossDuelDuelerVo.prototype,"CrossDuelDuelerVo");var CrossDuelFightData=function(){function t(t){this.updateData(t)}return t.prototype.updateData=function(t){if(this.leftWin=null!=t.lw?t.lw:this.leftWin,this.rightWin=null!=t.rw?t.rw:this.rightWin,t.rl){var e=t.rl;this.fightListData=[];for(var i=0;i<e.length;i++){var s=new CrossDuelRepVo(e[i]);this.fightListData.push(s)}}if(t.l){var o=t.l;this.leftData?this.leftData.updateData(o):this.leftData=new CrossDuelPlayerVo(o)}if(t.r){var r=t.r;this.rightData?this.rightData.updateData(r):this.rightData=new CrossDuelPlayerVo(r)}},t}();__reflect(CrossDuelFightData.prototype,"CrossDuelFightData");var CrossDuelGuessData=function(){function t(t){this.updateData(t)}return t.prototype.updateData=function(t){if(this.grade=t.go,t.l){var e=t.l;this.leftData?this.leftData.updateData(e):this.leftData=new CrossDuelPlayerVo(e)}if(t.r){var i=t.r;this.rightData?this.rightData.updateData(i):this.rightData=new CrossDuelPlayerVo(i)}},t}();__reflect(CrossDuelGuessData.prototype,"CrossDuelGuessData");var CrossDuelMatchVo=function(){function t(t){this.updateData(t)}return t.prototype.updateData=function(t){if(this.gId=null!=t.g?t.g:this.gId,this.s=t.s,t.dm){var e=t.dm;for(var i in this.crossDuelDuelerVo={},e)this.crossDuelDuelerVo[i]=new CrossDuelDuelerVo(e[i])}if(t.dl){var s=t.dl;this.crossDuelVo=[];for(var o=0;o<s.length;o++){var r=new CrossDuelVo(s[o]);this.crossDuelVo.push(r)}}},t}();__reflect(CrossDuelMatchVo.prototype,"CrossDuelMatchVo");var CrossDuelPlayerVo=function(){function t(t){this.updateData(t)}return t.prototype.updateData=function(t){this.name=null!=t.n?t.n:this.name,this.model=null!=t.u?t.u:this.model,this.id=null!=t.id?t.id:this.id,this.battle=null!=t.s?t.s:this.battle},t}();__reflect(CrossDuelPlayerVo.prototype,"CrossDuelPlayerVo");var CrossDuelReadyPlayerVo=function(){function t(t){this.updateData(t)}return t.prototype.updateData=function(t){this.ranking=null!=t.r?t.r:this.ranking,this.icon=null!=t.ic?t.ic:this.icon,this.name=null!=t.n?t.n:this.name,this.winNum=null!=t.w?t.w:this.winNum,this.loseNum=null!=t.f?t.f:this.loseNum,this.integral=null!=t.g?t.g:this.integral},t}();__reflect(CrossDuelReadyPlayerVo.prototype,"CrossDuelReadyPlayerVo");var CrossDuelReadyVo=function(){function t(t){this.updateData(t)}return t.prototype.updateData=function(t){if(t.al){var e=t.al;this.readyList=[];for(var i=0;i<e.length;i++){var s=new CrossDuelReadyPlayerVo(e[i]);this.readyList.push(s)}}t.ma&&(void 0!==this.myRanking?this.myRanking.updateData(t.ma):this.myRanking=new CrossDuelReadyPlayerVo(t.ma))},t}();__reflect(CrossDuelReadyVo.prototype,"CrossDuelReadyVo");var CrossDuelRepVo=function(){function t(t){this.updateData(t)}return t.prototype.updateData=function(t){this.name=null!=t.n?t.n:this.name,this.fid=null!=t.fid?t.fid:this.fid},t}();__reflect(CrossDuelRepVo.prototype,"CrossDuelRepVo");var CrossDuelVo=function(){function t(t){this.updateData(t)}return t.prototype.updateData=function(t){this.serial=null!=t.n?t.n:this.serial,this.did=null!=t.did?t.did:this.did,this.lef=null!=t.lef?t.lef:this.lef,this.rig=null!=t.rig?t.rig:this.rig,this.win=null!=t.win?t.win:this.win},t}();__reflect(CrossDuelVo.prototype,"CrossDuelVo");var CrossDuelBetsRewardItem=function(e){function t(){var t=e.call(this)||this;return t.skinName=CrossDuelBetsRewardItemSkin,t.addEventListener(egret.Event.ADDED_TO_STAGE,t.onAddToStage,t),t.addEventListener(egret.Event.REMOVED_FROM_STAGE,t.onRemoveStage,t),t}return __extends(t,e),t.prototype.childrenCreated=function(){e.prototype.createChildren.call(this),this.initUI()},t.prototype.onAddToStage=function(){this.btnSelfRai.addEventListener(egret.TouchEvent.TOUCH_TAP,this.startYa,this)},t.prototype.onRemoveStage=function(){this.btnSelfRai.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.startYa,this)},t.prototype.startYa=function(){var t,e=this,i=N12.gID(this.data.cost[0]);if((t=75e3==i.id?P10.A2:P10.A1)==P10.A1){var s=parseInt(this.data.cost[1]);if(N12.giC(N12.itemId.bindGold)<s)return void P18.sDP(O3.tr(5354))}var o={handler:function(){App.CM.apF(O6.B24,G15.A14,e.data.id)},cost:parseInt(this.lbCost.text),costTp:t,content:O3.tr(3403,this.lbCost.text+i.name,this.data.name)};App.VM.open(O7.C54,o)},t.prototype.initUI=function(){this.lbWin.text=this.lbLose.text=O3.tr(3383),this.lbYa.text=O3.tr(3506)},t.prototype.dataChanged=function(){var t=App.CM.gtM(O6.B24);this.btnSelfRai.enabled=!t.crossDuelGuessData.grade,P16.sGF(this.btnSelfRai,!!t.crossDuelGuessData.grade),t.crossDuelGuessData.grade&&t.isYa?this.grpYa.visible=this.data.id==t.crossDuelGuessData.grade.g:this.grpYa.visible=!1,this.imgCost.source=N12.FJ86(this.data.cost[0]),this.lbCost.text=this.data.cost[1],this.btnSelfRai.label=this.data.name;for(var e=0;e<this.data.win.length;e++){var i=N12.gID(this.data.win[e][0]);this["imgWin"+e].setData(i),this["lbWin"+e].text=this.data.win[e][1]}for(e=0;e<this.data.lose.length;e++){i=N12.gID(this.data.lose[e][0]);this["imgLose"+e].setData(i),this["lbLose"+e].text=this.data.lose[e][1]}},t}(eui.ItemRenderer);__reflect(CrossDuelBetsRewardItem.prototype,"CrossDuelBetsRewardItem");var CrossDuelPlayer=function(t){function e(){return t.call(this)||this}return __extends(e,t),e.prototype.childrenCreated=function(){t.prototype.createChildren.call(this)},e.prototype.setData=function(t){this.scoreLb.text=t.battle+"",this.lbName.text=t.name,this.objBoss&&(this.grpModel.removeChildren(),this.objBoss.destory(),this.objBoss=null),this.objBoss=new FightGameObject;var e={x:0,y:0,dir:Dir.br,objType:P13.A6,bt:BehaviourType.Stand_d};for(var i in t.model)e[i]=t.model[i];this.objBoss.setData(e,this.grpModel),this.objBoss.action=Action.Attack},e.prototype.close=function(){this.objBoss&&(this.grpModel.removeChildren(),this.objBoss.destory(),this.objBoss=null)},e.prototype.setGrpSelect=function(t){this.grpSelect.visible=t},e}(eui.Component);__reflect(CrossDuelPlayer.prototype,"CrossDuelPlayer");var CrossDuelRanKingItem=function(e){function t(){var t=e.call(this)||this;return t.skinName=CrossDuelRanKingItemSkin,t.once(egret.Event.REMOVED_FROM_STAGE,t.close,t),t}return __extends(t,e),t.prototype.close=function(){},t.prototype.childrenCreated=function(){e.prototype.createChildren.call(this),this.initUI()},t.prototype.initUI=function(){this.proBar.slideDuration=0},t.prototype.dataChanged=function(){var t=this.data;this.imgBg.visible=t.ranking%2!=0;var e,i=App.CM.gtM(O6.B24),s=i.crossDuelReadyVo.readyList[0].integral,o=i.crossDuelReadyVo.myRanking.ranking;this.lbName.text=t.name,e=o==t.ranking?(this.lbName.textColor=16776462,e=O3.tr(3392,t.winNum,t.loseNum),this.lbRecord.textFlow=(new egret.HtmlTextParser).parser(e),O3.tr(3393,t.integral)):(this.lbName.textColor=16707295,e=O3.tr(3387,t.winNum,t.loseNum),this.lbRecord.textFlow=(new egret.HtmlTextParser).parser(e),O3.tr(3388,t.integral)),this.lbIntegral.textFlow=(new egret.HtmlTextParser).parser(e),this.proBar.value=t.integral,this.proBar.maximum=s,this.lbIndex.text=t.ranking+".",this.avatarHead.source=t.icon},t}(eui.ItemRenderer);__reflect(CrossDuelRanKingItem.prototype,"CrossDuelRanKingItem");var CrossDuelResultItem=function(e){function t(){var t=e.call(this)||this;return t.skinName=CrossDuelResultItemSkin,t.addEventListener(egret.Event.ADDED_TO_STAGE,t.onAddToStage,t),t.addEventListener(egret.Event.REMOVED_FROM_STAGE,t.onRemoveStage,t),t}return __extends(t,e),t.prototype.onAddToStage=function(){this.look.addEventListener(egret.TouchEvent.TOUCH_TAP,this.openlook,this)},t.prototype.onRemoveStage=function(){this.look.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.openlook,this)},t.prototype.openlook=function(){App.CM.apF(O6.B24,G15.A1,this.data.fid)},t.prototype.childrenCreated=function(){e.prototype.createChildren.call(this),this.initUI()},t.prototype.initUI=function(){this.look.text=O3.tr(3382),M18.FHH83(this.look)},t.prototype.dataChanged=function(){var t,e=this.data;this.lbRanking.text=O3.tr(3380,this.itemIndex+1),t=O3.tr(3381,e.name),this.lbName.textFlow=(new egret.HtmlTextParser).parser(t)},t}(eui.ItemRenderer);__reflect(CrossDuelResultItem.prototype,"CrossDuelResultItem");var CrossDuelUser=function(t){function e(){return t.call(this)||this}return __extends(e,t),e.prototype.childrenCreated=function(){t.prototype.createChildren.call(this)},e.prototype.setData=function(t){this.lbName.textFlow=M18.HTP.parse(O3.tr(4331,t.name)),this.lbS.text=O3.tr(3389,t.serverName),this.avatarHead.source=t.icon,this.lbYa.text=O3.tr(3506)},e.prototype.setGray=function(t){P16.sGF(this,!t)},e.prototype.setBgimg=function(t){this.imgBg.source=t?"v1_img_ctjjd_txhw_png":"v1_img_ctbsd_txhw_png"},e.prototype.setMyBgimg=function(){this.imgBg.source="v1_img_ctjjdbr_txhw_png"},e.prototype.setGrpYa=function(t){this.grpYa.visible=t},e}(eui.Component);__reflect(CrossDuelUser.prototype,"CrossDuelUser");var CrossDuelStakeView=function(s){function t(t,e){var i=s.call(this,t,e)||this;return i.skinName=CrossDuelStakeSkin,i}return __extends(t,s),t.prototype.initUI=function(){s.prototype.initUI.call(this),this.lbstr1.text=O3.tr(3384),this.lbstr2.text=O3.tr(3385),this.dlg.ZM69(this.closeSelf,this);var t={render:CrossDuelBetsRewardItem,gap:8,width:this.grpYa.width,height:this.grpYa.height,arrowScale:1};this.listYaView=new CommonListBase(t),this.grpYa.addChild(this.listYaView),this.listYaView.verticalCenter=0,this.listYaView.horizontalCenter=0;var e={render:CrossDuelResultItem,gap:2,width:this.grpLook.width,height:this.grpLook.height,arrowScale:1};this.listLookView=new CommonListBase(e),this.grpLook.addChild(this.listLookView),this.listLookView.verticalCenter=0,this.listLookView.horizontalCenter=0},t.prototype.closeSelf=function(){App.CM.apF(O6.B24,G15.A7)},t.prototype.open=function(){var t=App.CM.gtM(O6.B24);this.playerLeft.addEventListener(egret.TouchEvent.TOUCH_TAP,this.choosePlayer,this),this.playeRight.addEventListener(egret.TouchEvent.TOUCH_TAP,this.choosePlayer,this),this.shareBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickShare,this),this.dlg.title="",this.shareBtn.visible=!1,this.shareBtn.label=O3.tr(6862),t.isFight&&this.ZO1(t)},t.prototype.onClickShare=function(){var t=App.CM.gtM(O6.B24),e=t.crossDuelMatchVo,i=TD91.gradeGroup[e.gId],s=i.region.split(","),o=O3.tr(3390,s[0],s[1]),r=i.name+o,n=M18.format("$0,$1",[r,t.did]),a=P7.FF60(),h={nid:F8.A23,channelId:a,param:n,infoId:""};App.CM.apF(O6.C13,O12.A13,h)},t.prototype.choosePlayer=function(t){var e=t.currentTarget.name;App.CM.gtM(O6.B24).chooseId=t.currentTarget.data,"left"==e?(this.playerLeft.setGrpSelect(!0),this.playerLeft.scaleX=this.playerLeft.scaleY=1,this.playeRight.setGrpSelect(!1),this.playeRight.scaleX=this.playeRight.scaleY=.9):(this.playeRight.setGrpSelect(!0),this.playeRight.scaleX=this.playeRight.scaleY=1,this.playerLeft.setGrpSelect(!1),this.playerLeft.scaleX=this.playerLeft.scaleY=.9)},t.prototype.close=function(){s.prototype.close.call(this),this.listYaView&&this.listYaView.close(),this.listLookView&&this.listLookView.close(),this.playerLeft.close(),this.playeRight.close(),this.playerLeft.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.choosePlayer,this),this.playeRight.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.choosePlayer,this),this.shareBtn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickShare,this)},t.prototype.ZO1=function(t){switch(t.lookState){case TA49.LOOK_FIGHT:this.dlg.title=O3.tr(3909),this.listLookView.open(),this.grpWin.visible=!0,this.lbResult.text=t.crossDuelFightData.leftWin+":"+t.crossDuelFightData.rightWin,this.playerLeft.setGrpSelect(!1),this.playeRight.setGrpSelect(!1),this.playerLeft.enabled=!1,this.playeRight.enabled=!1,this.playerLeft.scaleX=this.playerLeft.scaleY=this.playeRight.scaleX=this.playeRight.scaleY=1,this.playerLeft.setData(t.crossDuelFightData.leftData),this.playeRight.setData(t.crossDuelFightData.rightData),this.grpYa.visible=!1,this.grpLook.visible=!0,this.listLookView.rfL(t.crossDuelFightData.fightListData,!0);App.CM.gtM(O6.B82).avatarInfo.id;var e=t.crossDuelFightData;t.chatShow||(this.shareBtn.visible=!0);break;case TA49.LOOK_GUESS:this.dlg.title=O3.tr(3395),this.listYaView.open(),this.grpWin.visible=!1;e=t.crossDuelGuessData;this.playerLeft.data=e.leftData.id,this.playeRight.data=e.rightData.id,this.playerLeft.setData(e.leftData),this.playeRight.setData(e.rightData),t.isYa=!1,e.grade?(this.playerLeft.enabled=!1,this.playeRight.enabled=!1,e.leftData.id==e.grade.id||e.rightData.id==e.grade.id?(t.isYa=!0,e.leftData.id==e.grade.id?(this.playerLeft.setGrpSelect(!0),this.playerLeft.scaleX=this.playerLeft.scaleY=1,this.playeRight.setGrpSelect(!1),this.playeRight.scaleX=this.playeRight.scaleY=.9):(this.playeRight.setGrpSelect(!0),this.playeRight.scaleX=this.playeRight.scaleY=1,this.playerLeft.setGrpSelect(!1),this.playerLeft.scaleX=this.playerLeft.scaleY=.9)):(this.playerLeft.setGrpSelect(!1),this.playeRight.setGrpSelect(!1),this.playerLeft.scaleX=this.playerLeft.scaleY=this.playeRight.scaleX=this.playeRight.scaleY=1)):(this.playerLeft.enabled=!0,this.playeRight.enabled=!0,e.leftData.battle>=e.rightData.battle?(t.chooseId=e.leftData.id,this.playerLeft.setGrpSelect(!0),this.playerLeft.scaleX=this.playerLeft.scaleY=1,this.playeRight.setGrpSelect(!1),this.playeRight.scaleX=this.playeRight.scaleY=.9):(t.chooseId=e.rightData.id,this.playeRight.setGrpSelect(!0),this.playeRight.scaleX=this.playeRight.scaleY=1,this.playerLeft.setGrpSelect(!1),this.playerLeft.scaleX=this.playerLeft.scaleY=.9)),this.grpYa.visible=!0,this.grpLook.visible=!1,this.listYaView.rfL(TD91.betsRewardData,!0)}},t.prototype.uBM=function(t,e){if(s.prototype.uBM.call(this,t,e),t instanceof TE70)switch(e){case P4.M59:case P4.K53:case P4.S33:this.ZO1(t)}},t}(BaseEuiView);__reflect(CrossDuelStakeView.prototype,"CrossDuelStakeView");var CrossDuelView=function(s){function t(t,e){var i=s.call(this,t,e)||this;return i.sGN("release_crossduel"),i.skinName=CrossDuelViewSkin,i}return __extends(t,s),t.prototype.initUI=function(){s.prototype.initUI.call(this),this.btns=[];for(var t=1;t<=15;t++)this.btns.push(this["btnGo"+t]);this.lbText.text=O3.tr(3375),this.btnGo.label=O3.tr(3374),this.lbPreselection.text=O3.tr(3376);var e={render:CrossDuelRanKingItem,gap:5,width:this.listGroup.width,height:this.listGroup.height,arrowScale:1};this.listView=new CommonListBase(e),this.listGroup.addChild(this.listView),this.listView.verticalCenter=0,this.listView.horizontalCenter=0,this.dlg.title=O3.tr(3371)},t.prototype.open=function(){this.dlg.ZM69(this.closeSelf,this),this.btnGo.addEventListener(egret.TouchEvent.TOUCH_TAP,this.startGo,this);for(var t=0;t<this.btns.length;t++)this.btns[t].data=t,this.btns[t].addEventListener(egret.TouchEvent.TOUCH_TAP,this.lookData,this);this.btnShop.addEventListener(egret.TouchEvent.TOUCH_TAP,this.ZG63,this);var e=TD91.gIV("entryTips");this.lbTips.textFlow=M18.HTP.parser(e);var i=App.CM.gtM(O6.B24);this.ZO1(i)},t.prototype.closeSelf=function(){this.apF(G15.A19)},t.prototype.ZG63=function(){var t=O4.getLv(),e=N15.FG47(P12.A8);if(t<e){var i=K18.init.commonDesc1.value;P18.sDP(M18.format(i,[e]))}else App.VM.open(O7.HH98,O7.E72,P12.A8)},t.prototype.lookData=function(t){var e=t.target.name,i=t.target.data;if(e){var s=this.btns[i],o=App.CM.gtM(O6.B24);switch(o.did=e,o.isFight=!1,o.chatShow=!1,App.CM.apF(O6.B24,G15.A10),s.icon){case"v1_btn_ya_txhw_png":App.CM.apF(O6.B24,G15.A5,e);break;case"v1_btn_hf_txhw_png":App.CM.apF(O6.B24,G15.A8,e)}}},t.prototype.startGo=function(){App.CM.apF(O6.B24,G15.A12)},t.prototype.close=function(){s.prototype.close.call(this),this.listView&&this.listView.close(),this.btnGo.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.startGo,this);for(var t=0;t<this.btns.length;t++)this.btns[t].removeEventListener(egret.TouchEvent.TOUCH_TAP,this.lookData,this);this.btnShop.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.ZG63,this)},t.prototype.setRed=function(t){this.btnGo.imgNew.visible=!!t.red,t.isSign?(this.btnGo.enabled=!1,P16.sGF(this.btnGo,!0),this.btnGo.label=O3.tr(3372)):2<=t.state?(this.btnGo.enabled=!1,P16.sGF(this.btnGo,!0),this.btnGo.label=O3.tr(3373)):(this.btnGo.enabled=!0,P16.sGF(this.btnGo,!1),this.btnGo.label=O3.tr(3374))},t.prototype.setya=function(i){this.btns.forEach(function(t,e){t.visible&&"v1_btn_ya_txhw_png"==t.icon&&P16.sGF(t,i)})},t.prototype.setData=function(t,e,i){if(t.win){this["btnGo"+i].icon="v1_btn_hf_txhw_png",P16.sGF(this["btnGo"+i],!1);for(var s=1;s<=8;s++){var o=(a=this["grp"+s]).getChildByName("left"),r=(h=a.getChildByName("right")).data;if((p=o.data)==t.win){this["grpLeft"+s+"_"+e].visible=!0;break}if(r==t.win){this["grpRight"+s+"_"+e].visible=!0;break}}var n;n=t.win==t.lef?t.rig:t.lef;for(s=1;s<=8;s++){var a,h=(a=this["grp"+s]).getChildByName("right"),p=(o=a.getChildByName("left"),r=h.data,o.data);if(r==n){this["grpRight"+s+"_8"].visible=!1,h.setGray(!1);break}if(p==n){this["grpLeft"+s+"_8"].visible=!1,o.setGray(!1);break}}}},t.prototype.ZO1=function(t){switch(t.signState){case TC24.SIGN:this.grpJoin.visible=!0,this.grpMatch.visible=this.grpPreliminary.visible=!1,this.setRed(t);break;case TC24.READY:this.listView.open(),this.grpPreliminary.visible=!0,this.grpMatch.visible=this.grpJoin.visible=!1,this.listView.rfL(t.crossDuelReadyVo.readyList);var e=t.crossDuelReadyVo.myRanking,i=void 0;i=O3.tr(3377,e.ranking),this.lbRanking.textFlow=M18.HTP.parser(i),i=O3.tr(3378,e.winNum,e.loseNum),this.lbRecord.textFlow=M18.HTP.parser(i),i=O3.tr(3379,e.integral),this.lbIntegral.textFlow=M18.HTP.parser(i);break;case TC24.MATHCH:var s=t.crossDuelMatchVo,o=TD91.gradeGroup[s.gId];this.lbRank.textFlow=M18.HTP.parse(O3.tr(4328,o.name));var r=o.region.split(",");this.lbGrade.text=O3.tr(3390,r[0],r[1]),this.grpMatch.visible=!0,this.grpJoin.visible=this.grpPreliminary.visible=!1;var n=TE72.FI25();this.lbTime.textFlow=M18.HTP.parse(O3.tr(4329,n.openStr)),this.lbPromotion.textFlow=M18.HTP.parse(O3.tr(4330,n.addStr));for(var a=t.crossDuelMatchVo.crossDuelVo,h=this.btns.length;0<h;h--)this["btnGo"+h].visible=!0;for(h=this.btns.length;h>this.btns.length+1-n.num;h--)this["btnGo"+h].visible=!1;for(h=0;h<a.length;h++){var p=a[h],l=h+1;if(this["btnGo"+l].name=p.did,l<=8){var c=this["grp"+l],u=c.getChildByName("left"),d=c.getChildByName("right");s.s?(u.setGrpYa(p.lef==s.s),d.setGrpYa(p.rig==s.s)):(u.setGrpYa(!1),d.setGrpYa(!1));var v=s.crossDuelDuelerVo[p.lef];u.setData(v),u.data=p.lef;var f=s.crossDuelDuelerVo[p.rig];d.setData(f),d.data=p.rig,p.win&&(u.setBgimg(p.lef==p.win),d.setBgimg(p.rig==p.win),P16.sGF(this["btnGo"+l],!1),this["btnGo"+l].icon="v1_btn_hf_txhw_png",u.setGray(p.lef==p.win),d.setGray(p.rig==p.win),this["grpLeft"+l+"_8"].visible=p.lef==p.win,this["grpRight"+l+"_8"].visible=p.rig==p.win);var g=App.CM.gtM(O6.B82).avatarInfo.id;p.lef==g&&u.setMyBgimg(),p.rig==g&&d.setMyBgimg()}else l<=12?this.setData(p,"4",l):l<=14?this.setData(p,"2",l):this.setData(p,"1",l)}this.setya(!!s.s)}},t.prototype.uBM=function(t,e){if(s.prototype.uBM.call(this,t,e),t instanceof TE70)switch(e){case P4.S31:this.setRed(t);break;case P4.T94:case P4.X42:case P4.Q65:case P4.S33:this.ZO1(t)}},t}(BaseEuiView);__reflect(CrossDuelView.prototype,"CrossDuelView");var F6=function(){function t(){}return t.FK35=function(t){this.init=t.crossfield_init,this.field=t.crossfield_field,this.liftPost=this.FJ57(),this.buyPost=this.FK70(),this.itemIds=this.getItemIds(),this.shieldGrop=this.FHH3()},t.gIV=function(t){var e="";return this.init?e=this.init[t].value:e},t.FE59=function(t){var e;return this.init?e=parseInt(this.init[t].value):e},t.getItemIds=function(){var t=[];if(!this.field)return t;for(var e in this.field){t.push(this.field[e].challenge);var i=this.field[e].mapsize;if(!SET_MAP_WH[i]){var s=i.split(":");SET_MAP_WH[i]=[parseInt(s[0]),parseInt(s[1])]}}return t},t.FJ57=function(){var t={};if(!this.init)return t;var e=this.gIV("revivePrice").split(":");return t={k:parseInt(e[0]),v:parseInt(e[1])}},t.FK70=function(){var t={};if(!this.init)return t;var e=this.gIV("buyPrice").split(":");return t={k:parseInt(e[0]),v:parseInt(e[1])}},t.FHH3=function(){var t=[];if(!this.init)return t;for(var e=this.gIV("shieldTrigger").split(","),i=0;i<e.length;i++)t.push(parseFloat(e[i]));return t},t}();__reflect(F6.prototype,"F6");var F14=function(){function t(){}return t.A18=10001,t.A19=10002,t.A40=10003,t.A20=10004,t.A21=10005,t.A1=10006,t.A2=10007,t.A24=10008,t.A25=10009,t.A26=10010,t.A27=10011,t.A28=10012,t.A29=10013,t.A14=10014,t.A15=10015,t.A30=10016,t.A31=10017,t.A11=10018,t.A12=10019,t.A32=10020,t.A33=10021,t.A46=10022,t.A48=10023,t.A49=10024,t.A47=10025,t.A35=10026,t.A36=10027,t.A41=10028,t.A42=10029,t.A7=10030,t.A43=10031,t.A44=10032,t.A37=10035,t.A38=10036,t.A45=10037,t.A8=10039,t.A9=10040,t.A22=11001,t.A16=11002,t.A6=11003,t.A4=11004,t.A13=11005,t.A10=11006,t.A23=11007,t.A17=11008,t.A53=11009,t.A52=11010,t.A5=11011,t.A3=11012,t.A39=11013,t.A34=11014,t.A50=11015,t.A51=11016,t}();__reflect(F14.prototype,"F14");var B11=function(){function t(){}return t.A2="SET_CBBOX",t.A3="BOSS_DIE",t.A1="SET_ChallENGE",t}();__reflect(B11.prototype,"B11");var TB33=function(i){function t(){var t=i.call(this)||this;App.VM.register(O7.B67,"CrossFieldCampUIView",t,K17.Fight),t.rgF(F14.A22,t.GB76,t),t.rgF(F14.A16,t.GB22,t),App.VM.register(O7.A42,"CrossFieldResurgenceView",t,K17.Fight),t.rgF(F14.A6,t.GA43,t),t.rgF(F14.A4,t.GA30,t),App.VM.register(O7.A94,"CrossFieldJoinTeamView",t,K17.UI_Popup),t.rgF(F14.A13,t.GA84,t),t.rgF(F14.A10,t.GA58,t),App.VM.register(O7.B96,"CrossFieldMyTeamView",t,K17.UI_Popup),t.rgF(F14.A23,t.GB77,t),t.rgF(F14.A17,t.GB23,t),App.VM.register(O7.A26,"CrossFieldRewardOrderView",t,K17.UI_Main_TOP),t.rgF(F14.A5,t.GA31,t),t.rgF(F14.A3,t.GA18,t),App.VM.register(O7.D48,"CrossFieldWarnView",t,K17.UI_Main_TOP),t.rgF(F14.A39,t.GD52,t),t.rgF(F14.A34,t.GC61,t),App.VM.register(O7.C75,"FightCrossFieldView",t,K17.Fight),t.rgF(F14.A53,t.GS71,t),t.rgF(F14.A52,t.GQ72,t),App.VM.register(O7.G95,"CrossFieldView",t,K17.UI_Main_TOP),t.rgF(F14.A50,t.GN7,t),t.rgF(F14.A51,t.GN8,t);var e=new TD92(t);return e.aLV(O7.I76),e.aLV(O7.G95),e.aLV(O7.C75),e.aLV(O7.B67),e.aLV(O7.A42),e.aLV(O7.A94),e.aLV(O7.B96),e.aLV(O7.A26),e.aLV(O7.I85),e.aLV(O7.I63),e.aLV(O7.I39),t.proxy=new TD93(t),t.rgF(F14.A18,t.GU34,t),t.rgF(F14.A19,t.GU20,t),t.rgF(F14.A40,t.GY21,t),t.rgF(F14.A24,t.GW8,t),t.rgF(F14.A25,t.GW9,t),t.rgF(F14.A48,t.moveReq,t),t.rgF(F14.A49,t.moveRes,t),t.rgF(F14.A47,t.movePush,t),t.rgF(F14.A41,t.GY38,t),t.rgF(F14.A42,t.GY39,t),t.rgF(F14.A35,t.GX27,t),t.rgF(F14.A36,t.GX28,t),t.rgF(F14.A26,t.GW10,t),t.rgF(F14.A27,t.GW11,t),t.rgF(F14.A20,t.GU53,t),t.rgF(F14.A21,t.GU54,t),t.rgF(F14.A1,t.GJ26,t),t.rgF(F14.A2,t.GJ27,t),t.rgF(F14.A28,t.GW3,t),t.rgF(F14.A29,t.GW4,t),t.rgF(F14.A14,t.GS68,t),t.rgF(F14.A15,t.GS69,t),t.rgF(F14.A30,t.GV98,t),t.rgF(F14.A31,t.GV99,t),t.rgF(F14.A11,t.GQ77,t),t.rgF(F14.A12,t.GQ78,t),t.rgF(F14.A32,t.GW1,t),t.rgF(F14.A33,t.GW5,t),t.rgF(F14.A7,t.GO89,t),t.rgF(F14.A46,t.teamPush,t),t.rgF(F14.A43,t.GY41,t),t.rgF(F14.A44,t.GY42,t),t.rgF(F14.A45,t.GY43,t),t.rgF(F14.A37,t.GX47,t),t.rgF(F14.A38,t.GX48,t),t.rgF(F14.A8,t.GO85,t),t.rgF(F14.A9,t.GO86,t),t}return __extends(t,i),t.prototype.GB76=function(){App.VM.open(O7.B67)},t.prototype.GB22=function(){App.VM.close(O7.B67)},t.prototype.GA43=function(){App.VM.open(O7.A42)},t.prototype.GA30=function(){App.VM.close(O7.A42)},t.prototype.GA84=function(){App.VM.open(O7.A94)},t.prototype.GA58=function(){App.VM.close(O7.A94)},t.prototype.GB77=function(){App.VM.open(O7.B96)},t.prototype.GB23=function(){App.VM.close(O7.B96)},t.prototype.GA31=function(){App.VM.open(O7.A26)},t.prototype.GA18=function(){App.VM.close(O7.A26)},t.prototype.GD52=function(){App.VM.open(O7.D48)},t.prototype.GC61=function(){App.VM.close(O7.D48)},t.prototype.GN7=function(){App.VM.open(O7.G95)},t.prototype.GN8=function(){App.VM.close(O7.G95)},t.prototype.GS71=function(){App.VM.setAutoClose(O7.I76,!0),App.VM.close(O7.I76),App.VM.setAutoClose(O7.G82,!0),App.VM.close(O7.G82),App.VM.setAutoClose(O7.C75,!1),App.VM.open(O7.C75),App.CM.apF(O6.C23,O13.A4);var t=App.CM.gtM(O6.B99);t.isFighting&&(App.VM.setAutoClose(O7.I61,!1),App.VM.open(O7.I61)),t.isSpFighting&&t.notify(FightD.FC_Close_UI)},t.prototype.GQ72=function(){this.gtM().ZW9(),App.VM.setAutoClose(O7.C75,!0),App.VM.close(O7.C75),App.VM.setAutoClose(O7.I76,!1),App.CM.gtM(O6.B99).fightSceneType=I4.A8,this.GU53()},t.prototype.GU34=function(){this.gtM();this.proxy.GU34()},t.prototype.GU20=function(t){if(200==t.head.state){var e=this.gtM();e.setState(t.body),e.notify(P4.I89)}else App.CM.apF(O6.B87,L10.A4,t)},t.prototype.GU53=function(){this.gtM();this.proxy.GU53()},t.prototype.GU54=function(t){if(200==t.head.state){var e=this.gtM();e.setData(t.body),e.notify(P4.I91)}},t.prototype.GJ26=function(){this.gtM();this.proxy.GJ26()},t.prototype.GJ27=function(t){if(200==t.head.state){var e=this.gtM();e.setState(t.body),P18.sDP(O3.tr(320)),e.notify(P4.B58)}else App.CM.apF(O6.B87,L10.A4,t)},t.prototype.GW3=function(){this.gtM();this.proxy.GW3()},t.prototype.GW4=function(t){if(200==t.head.state){var e=this.gtM();e.setTeamData(t.body),e.notify(P4.K71)}else App.CM.apF(O6.B87,L10.A4,t)},t.prototype.GV98=function(t){this.gtM();this.proxy.GV98(t)},t.prototype.GV99=function(t){if(200==t.head.state){var e=this.gtM();e.isTower&&(e.setTeamData(t.body),e.allTeamData=null,this.GA58(),this.GB77())}else App.CM.apF(O6.B87,L10.A4,t)},t.prototype.GQ77=function(t){this.gtM();this.proxy.GQ77(t)},t.prototype.GQ78=function(t){if(200==t.head.state){var e=this.gtM();e.isTower&&(e.setTeamData(t.body),e.notify(P4.F50))}else App.CM.apF(O6.B87,L10.A4,t)},t.prototype.GW1=function(){this.gtM();this.proxy.GW1()},t.prototype.GW5=function(t){if(200==t.head.state){var e=this.gtM();e.isTower&&(e.myTeamData=null,this.GB23(),this.GA84())}else App.CM.apF(O6.B87,L10.A4,t)},t.prototype.teamPush=function(t){if(200==t.head.state){var e=this.gtM();if(e.isTower){if(e.setTeamData(t.body),t.body.mt)App.VM.gOV(O7.A94)&&(this.GA58(),this.GB77());if(t.body.tml)App.VM.gOV(O7.B96)&&(this.GA84(),this.GB23());e.notify(P4.Q77)}}else App.CM.apF(O6.B87,L10.A4,t)},t.prototype.GO89=function(t){if(200==t.head.state){var e=this.gtM();e.isTower&&(e.ZN96(t.body),e.notify(P4.E30))}else App.CM.apF(O6.B87,L10.A4,t)},t.prototype.GS68=function(){this.gtM();this.proxy.GS68()},t.prototype.GS69=function(t){if(200==t.head.state){var e=this.gtM();e.isTower&&(e.setTeamData(t.body),e.allTeamData=null,this.GA58(),this.GB77())}else App.CM.apF(O6.B87,L10.A4,t)},t.prototype.GY21=function(t){if(200==t.head.state){var e=this.gtM();e.setState(t.body),e.notify(P4.O91),1!==t.body.st&&e.isTower&&this.GQ72()}else App.CM.apF(O6.B87,L10.A4,t)},t.prototype.GW8=function(t,e){this.gtM();this.proxy.GW8(t,e)},t.prototype.GW9=function(t){var e=this.gtM();if(200==t.head.state){if(t.body.ncd)return P18.sDP(O3.tr(605,t.body.ncd)),!1;App.CM.apF(O6.B89,L11.A56,!0),e.ZN96(t.body),App.CM.gtM(O6.B99).fightSceneType=I4.A1,e.isTower=!0,t.body.ts&&e.ZN82(P7.copyTab(t.body.ts));var i=App.SceneManager.getCurrScene();App.VM.ZT95(),M2.A4==i?this.GS71():App.SceneManager.runScene(M2.A4),this.GW3(),e.notify(P4.K67)}else App.CM.apF(O6.B87,L10.A4,t)},t.prototype.GY38=function(t){this.gtM();this.proxy.GY38(t)},t.prototype.GY39=function(i){var s=this;if(200==i.head.state)if(i.body.cd_)P7.fightCoolingCD(i.body.cd_);else{var o=this.gtM();if(o.isTower){o.ZN96(i.body);var t=P7.isGetView(O7.B67);App.VM.setAutoClose(O7.I61,!1),App.CM.apF(O6.B99,N1.A11,i.body.fr,{needResult:!1,type:P15.A9,isAuto:t},function(t,e){P5.sIs(i.body.ob),o.lifeCD&&1==o.state&&o.isTower&&(s.GA43(),o.notify(B11.A1)),1==o.state&&o.isTower&&(o.notify(P4.O93),o.notify(E6.A14))},this)}}else App.CM.apF(O6.B87,L10.A4,i)},t.prototype.GW10=function(){this.gtM();this.proxy.GW10()},t.prototype.GW11=function(t){if(200==t.head.state){var e=this.gtM();this.GQ72(),e.notify(P4.K69),App.SceneManager.runScene(M2.A5)}else App.CM.apF(O6.B87,L10.A4,t)},t.prototype.GX27=function(){this.gtM();this.proxy.GX27()},t.prototype.GX28=function(i){var s=this;if(200==i.head.state)if(i.body.cd_)P7.fightCoolingCD(i.body.cd_);else{var o=this.gtM();o.ZN96(i.body),o.ZK96(i.body);var t=P7.isGetView(O7.B67);App.VM.setAutoClose(O7.I61,!1),App.CM.apF(O6.B99,N1.A11,i.body.fr,{needResult:!1,type:P15.A10,isAuto:t},function(t,e){P5.sIs(i.body.ob),1==o.state&&o.isTower&&(o.notify(P4.M75),o.notify(E6.A14)),o.lifeCD&&1==o.state&&o.isTower&&(s.GA43(),o.notify(B11.A1))},this)}else App.CM.apF(O6.B87,L10.A4,i)},t.prototype.GY41=function(){this.gtM();this.proxy.GY41()},t.prototype.GY42=function(t){var e=this.gtM();200==t.head.state?e.notify(P4.O95):App.CM.apF(O6.B87,L10.A4,t)},t.prototype.moveReq=function(t,e){this.gtM().isTower&&this.proxy.moveReq(t,e)},t.prototype.moveRes=function(t){},t.prototype.movePush=function(t){var e=this.gtM();e.isTower&&(e.ZN96(t.body),e.updateUs(t.body.ts),e.notify(P4.Q78))},t.prototype.GY43=function(t){if(200==t.head.state){var e=this.gtM(),i=t.body.bid;t.body.bid&&TD94.FI4(i)&&(e.setRemindId(i),e.notify(P4.O96))}else App.CM.apF(O6.B87,L10.A4,t)},t.prototype.GX47=function(t){this.proxy.GX47(t)},t.prototype.GX48=function(t){200==t.head.state?this.gtM().setData(t.body):App.CM.apF(O6.B87,L10.A4,t)},t.prototype.GO85=function(t){this.proxy.GO85(t)},t.prototype.GO86=function(t){if(200==t.head.state){var e=this.gtM();e.isTower&&e.myTeamData&&e.myTeamData.updateData(t.body.mt)}else App.CM.apF(O6.B87,L10.A4,t)},t}(TE11);__reflect(TB33.prototype,"TB33");var TD92=function(i){function t(t){var e=i.call(this,t)||this;return e.setUp=[],e.chatWordDatacms=[],e.chatAllDatacms=[],e.isAutoChallenge=!1,e}return __extends(t,i),t.prototype.ZK96=function(t){this.crossBossHp||(this.crossBossHp={}),this.crossBossHp.rhp=t.rhp,this.crossBossHp.drhp=t.drhp,this.crossBossHp.thp=this.bossData.maxhp,this.crossBossHp.dthp=this.bossData.shield,this.overNum=P7.copyTab(F6.shieldGrop),this.crossBossHp.drhp&&(this.huDunNum=P7.copyTab(this.crossBossHp.drhp))},t.prototype.ZR71=function(){this.crossBossHp=null,this.huDunNum=null,this.overNum=null},t.prototype.setData=function(t){if(this.challNum=null!=t.cn?t.cn:this.challNum,this.assistNum=null!=t.hn?t.hn:this.assistNum,this.rewardNum=null!=t.hon?t.hon:this.rewardNum,this.buyNum=null!=t.bn?t.bn:this.buyNum,this.setUp=null!=t.wl?t.wl:this.setUp,t.bl)for(var e in this.bossList=[],t.bl){var i=new CrossFieldBossVo(t.bl[e]);this.bossList.push(i)}},t.prototype.ZN96=function(t){(this.bossDrhp=null!=t.drhp?t.drhp:this.bossDrhp,null!=t.rhp&&(this.bossRhp=t.rhp,0==this.bossRhp&&this.notify(B11.A3)),t.o&&(this.occupyData?this.occupyData.updateData(t.o):this.occupyData=new CrossFieldOccupierVo(t.o)),null!=t.qcd&&(this.quitCd=t.qcd,this.lastLoadTime=P6.getTime(!0)),null!=t.rcd&&(this.lifeCD=t.rcd,this.lastLifeTime=P6.getTime(!0)),t.cms&&(this.chatWordDatacms=P7.copyTab(t.cms),this.chatAllDatacms=P7.copyTab(t.cms)),t.rm)&&(this.playerObjData[t.rm]&&delete this.playerObjData[t.rm],this.occupyData&&t.rm==this.occupyData.aid&&(this.occupyData=null));null!=t.bid&&(this.bossIndex=t.bid,this.setBossData())},t.prototype.setBossData=function(){if(this.bossList&&0<this.bossList.length)for(var t in this.bossList)if(this.bossList[t].bossID==this.bossIndex){this.bossData=this.bossList[t];break}},t.prototype.ZN82=function(t){var e=App.CM.gtM(O6.B82).avatarInfo.id;for(var i in t){var s=t[i];for(var o in s){s[o].aid==e&&(this.myPlayerObjData=s,delete t[i])}}this.playerObjData=t},t.prototype.setTeamData=function(t){if(t.mt&&(this.allTeamData=null,this.myTeamData?this.myTeamData.updateData(t.mt):this.myTeamData=new CrossFieldTeamVo(t.mt)),t.tml)for(var e in this.myTeamData=null,this.allTeamData=[],t.tml)this.allTeamData.push(new CrossFieldTeamVo(t.tml[e]))},t.prototype.setState=function(t){this.state=null!=t.st?t.st:this.state},t.prototype.ZN83=function(t){this.chatWordDatacms.push(t);var e=this.chatWordDatacms.length,i=N18.FC83(P9.A1).recordcount;i<e&&this.chatWordDatacms.splice(0,e-i)},t.prototype.ZR15=function(t){this.chatAllDatacms.push(t);var e=this.chatAllDatacms.length,i=N18.FC83(P9.A6).recordcount;i<e&&this.chatAllDatacms.splice(0,e-i)},t.prototype.ZW9=function(){this.isTower=null,this.myPlayerObjData=null,this.playerObjData=null,this.chatAllDatacms=null,this.chatWordDatacms=null,this.quitCd=null,this.lifeCD=null,this.isFirst=null,this.bossIndex=null,this.occupyData=null,this.bossRhp=null,this.bossData=null,this.bossDrhp=null,this.lastLifeTime=null,this.lastLoadTime=null,this.myTeamData=null,this.allTeamData=null,this.isAutoChallenge=!1},t.prototype.updateUs=function(t){if(t){for(var e in t)this.playerObjData||(this.playerObjData={}),this.playerObjData[e]=t[e];var i=P7.copyTab(this.playerObjData);this.ZN82(i)}},t.prototype.notify=function(t){i.prototype.notifyView.call(this,this,t)},t.prototype.FJ24=function(){var t=P6.getTime(!0)-this.lastLoadTime,e=this.quitCd-t;return 0<e?e:0},t.prototype.FJ60=function(){var t=P6.getTime(!0)-this.lastLifeTime,e=this.lifeCD-t;return 0<e?e:0},t.prototype.setRemindId=function(t){this.remindId=t},t.prototype.ZV36=function(){this.remindId=null},t.prototype.FL35=function(){var t=0,e=App.CM.gtM(O6.B43),i=O4.getLv(),s=e.serOpenDay+1,o=F6.FE59("unlockLv");return s<F6.FE59("unlockDate")||i<o?t=0:TD94.FI26()&&(t=1),t},t.prototype.FB19=function(){var t=[];if(this.bossList&&0<this.bossList.length){for(var e=0;e<this.bossList.length&&(t.push(this.bossList[e]),this.bossList[e].isOpen());e++);t.sort(function(t,e){return t.isOpen()&&!e.isOpen()?-1:!t.isOpen()&&e.isOpen()?1:t.isOpen()&&e.isOpen()?t.isDead()&&!e.isDead()?1:!t.isDead()&&e.isDead()?-1:e.index-t.index:e.index-t.index})}return t},t.prototype.FHH11=function(){var t=[];if(this.bossList&&0<this.bossList.length)for(var e=0;e<this.bossList.length&&(t.push(this.bossList[e]),this.bossList[e].isOpen());e++);return t},t}(TG79);__reflect(TD92.prototype,"TD92");var TD93=function(i){function t(t){var e=i.call(this,t)||this;return e.rSM(P4.O91,e.GY21,e),e.rSM(P4.Q77,e.teamPush,e),e.rSM(P4.E30,e.ZO2,e),e.rSM(P4.Q78,e.movePush,e),e.rSM(P4.O96,e.fieldPUsh,e),e.rSM(P4.O93,e.GY39,e),e.rSM(P4.K69,e.GW11,e),e}return __extends(t,i),t.prototype.GU34=function(){var s=this;return new Promise(function(e,t){var i={type:P4.I88,body:{}};s.rSMO(P4.I89,function(t){s.apF(F14.A19,t),e("加载跨服boss信息完成")},s),s.sSM(i)})},t.prototype.GW8=function(t,e){var i={type:P4.K66,body:{bid:t,take:e}};this.rSMO(P4.K67,this.GW9,this),this.sSM(i)},t.prototype.GW9=function(t){this.apF(F14.A25,t)},t.prototype.GY21=function(t){this.apF(F14.A40,t)},t.prototype.GY38=function(t){var e={type:P4.O92,body:{target:t}};this.sSM(e)},t.prototype.GY39=function(t){this.apF(F14.A42,t)},t.prototype.GW10=function(){var t={type:P4.K68,body:{}};this.sSM(t)},t.prototype.GW11=function(t){this.apF(F14.A27,t)},t.prototype.GX27=function(){var t={type:P4.M74,body:{}};this.rSMO(P4.M75,this.GX28,this),this.sSM(t)},t.prototype.GX28=function(t){this.apF(F14.A36,t)},t.prototype.moveReq=function(t,e){var i={type:P4.S39,body:{ex:t,ey:e}};this.rSMO(P4.S40,this.moveRes,this),this.sSM(i)},t.prototype.moveRes=function(t){this.apF(F14.A49,t)},t.prototype.movePush=function(t){this.apF(F14.A47,t)},t.prototype.GU53=function(){var t={type:P4.I90,body:{}};this.rSMO(P4.I91,this.GU54,this),this.sSM(t)},t.prototype.GU54=function(t){this.apF(F14.A21,t)},t.prototype.GJ26=function(){var t={type:P4.B57,body:{}};this.rSMO(P4.B58,this.GJ27,this),this.sSM(t)},t.prototype.GJ27=function(t){this.apF(F14.A2,t)},t.prototype.GW3=function(){var t={type:P4.K70,body:{}};this.rSMO(P4.K71,this.GW4,this),this.sSM(t)},t.prototype.GW4=function(t){this.apF(F14.A29,t)},t.prototype.GS68=function(){var t={type:P4.HH14,body:{}};this.rSMO(P4.HH15,this.GS69,this),this.sSM(t)},t.prototype.GS69=function(t){this.apF(F14.A15,t)},t.prototype.GV98=function(t){var e={type:P4.K72,body:{tid:t}};this.rSMO(P4.K73,this.GV99,this),this.sSM(e)},t.prototype.GV99=function(t){this.apF(F14.A31,t)},t.prototype.GQ77=function(t){var e={type:P4.F49,body:{target:t}};this.rSMO(P4.F50,this.GQ78,this),this.sSM(e)},t.prototype.GQ78=function(t){this.apF(F14.A12,t)},t.prototype.GW1=function(){var t={type:P4.K74,body:{}};this.rSMO(P4.K75,this.GW2,this),this.sSM(t)},t.prototype.GW2=function(t){this.apF(F14.A33,t)},t.prototype.teamPush=function(t){this.apF(F14.A46,t)},t.prototype.ZO2=function(t){this.apF(F14.A7,t)},t.prototype.GY41=function(){var t={type:P4.O94,body:{}};this.rSMO(P4.O95,this.GY42,this),this.sSM(t)},t.prototype.GY42=function(t){this.apF(F14.A44,t)},t.prototype.GX47=function(t){var e={type:P4.M76,body:{bid:t}};this.rSMO(P4.M77,this.GX48,this),this.sSM(e)},t.prototype.GX48=function(t){this.apF(F14.A38,t)},t.prototype.fieldPUsh=function(t){this.apF(F14.A45,t)},t.prototype.GO85=function(t){var e={type:P4.E32,body:{score:t}};this.rSMO(P4.E33,this.GO86,this),this.sSM(e)},t.prototype.GO86=function(t){this.apF(F14.A9,t)},t}(TG80);__reflect(TD93.prototype,"TD93");var TD94=function(){function t(){}return t.FA9=function(t){var e=App.CM.gtM(O6.A99);if(e.isTower)P18.sDP(O3.tr(717));else if(e.state){var i=App.CM.gtM(O6.B43).serOpenDay+1,s=O4.getLv(),o=F6.FE59("unlockLv"),r=F6.FE59("unlockDate");if(i<r)return P18.sDP(O3.tr(3370,r,o)),!1;if(s<o){var n=K18.init.commonDesc1.value;return P18.sDP(M18.format(n,[o])),!1}if(App.CM.gtM(O6.B99).isSpFighting)P18.sDP(O3.tr(5301));else{var a,h=this.FHH10(),p=F6.field[t].challenge;for(var l in h)if(p==h[l].id&&1<=h[l].c){a=!0;break}if(a){var c=N12.FK5(p);App.VM.open(O7.HH38,M18.HTP.parser(O3.tr(5300,c)),this,function(){App.CM.apF(O6.A99,F14.A24,t,1)},void 0,function(){App.CM.apF(O6.A99,F14.A24,t,0)},void 0)}else App.CM.apF(O6.A99,F14.A24,t,0)}}else P18.sDP(O3.tr(3205))},t.FJ24=function(){return App.CM.gtM(O6.A99).FJ24()},t.FJ60=function(){return App.CM.gtM(O6.A99).FJ60()},t.FK64=function(){return!!App.CM.gtM(O6.A99).myTeamData},t.FK71=function(){var t=App.CM.gtM(O6.A99);return App.CM.gtM(O6.B82).avatarInfo.id==t.occupyData.aid},t.FJ66=function(){var t=App.CM.gtM(O6.A99).bossIndex;return F6.field[t].shield},t.FI26=function(){return App.CM.gtM(O6.C11).isNewReward},t.FHH10=function(){return App.CM.gtM(O6.C11).rewardData},t.FL63=function(){return App.CM.gtM(O6.A99).buyNum},t.FL43=function(){return App.CM.gtM(O6.A99).setUp},t.FI4=function(t){var e=App.CM.gtM(O6.A99);for(var i in e.bossList)if(e.bossList[i].index==t)return e.bossList[i].isRemind()},t.FI27=function(t){var e=App.CM.gtM(O6.A99);for(var i in e.bossList)if(e.bossList[i].index==t)return e.bossList[i]},t.FL64=function(){var t=App.CM.gtM(O6.A99);return t.bossData?t.bossData.mapid:null},t.FJ62=function(){var t=App.CM.gtM(O6.A99);return App.CM.gtM(O6.B82).avatarInfo.id==t.myTeamData.teamId},t.FL60=function(){var t=App.CM.gtM(O6.A99),e=App.CM.gtM(O6.B82).avatarInfo.id;return!t.myTeamData||e==t.myTeamData.teamId},t.FB19=function(){return App.CM.gtM(O6.A99).FB19()},t.FHH11=function(){return App.CM.gtM(O6.A99).FHH11()},t.FL65=function(t,e){for(var i=F6.shieldGrop,s=App.CM.gtM(O6.A99),o=t/s.bossData.maxhp,r=0,n=i.length-1;0<=n;n--)if(o>i[n]){r=s.bossData.maxhp*i[n];break}return r&&t-r<e?r:t-e},t}();__reflect(TD94.prototype,"TD94");var CrossFieldView=function(s){function t(t,e){var i=s.call(this,t,e)||this;return i.skinName=CrossFieldSkin,i}return __extends(t,s),t.prototype.initUI=function(){s.prototype.initUI.call(this),this.dlg.title=O3.tr(5207);var t={render:CrossFieldItem,gap:3,width:this.listGroup.width,height:this.listGroup.height};this.listView=new CommonListBase(t),this.listGroup.addChild(this.listView),this.listView.verticalCenter=0,this.listView.horizontalCenter=0,this.buyBtn.label=O3.tr(3897),this.warnBtn.label=O3.tr(3898),this.lbStr1.textFlow=M18.HTP.parse(O3.tr(5204))},t.prototype.open=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];s.prototype.open.call(this),this.dlg.ZM69(this.closeSelf,this),this.listView.open(),this.buyBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.buyHandler,this),this.warnBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.warnHandler,this),this.lbStr1.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickLook,this),App.K16.doTimer(1e3,0,this.GY14,this,null,this),this.GY14();var i=App.CM.gtM(O6.A99);this.GX5(i),this.updateBoss()},t.prototype.closeSelf=function(){this.apF(F14.A51)},t.prototype.onClickLook=function(){this.aCF(O6.A99,F14.A5);var t=App.CM.gtM(O6.C11);t.isNewReward=!1,t.notify(),this.imgNew.visible=t.isNewReward},t.prototype.GY14=function(){this.aCF(O6.A99,F14.A20)},t.prototype.uBM=function(t,e){if(s.prototype.uBM.call(this,t,e),t instanceof TD92)switch(e){case P4.I91:this.GX5(t),this.updateBoss();break;case P4.B58:case P4.V43:this.GX5(t)}},t.prototype.GX5=function(t){this.imgNew.visible=TD94.FI26();var e=F6.FE59("belongTime"),i=F6.FE59("aidBelongTime"),s=F6.FE59("aidbonusTime");t.assistNum?this.lbTtext.textFlow=M18.HTP.parse(O3.tr(5203,t.assistNum,i)):this.lbTtext.textFlow=M18.HTP.parse(O3.tr(5297,t.assistNum,i)),this.buyBtn.visible=t.challNum<e,t.challNum?this.lblcishu.textFlow=M18.HTP.parse(O3.tr(5202,t.challNum,e)):this.lblcishu.textFlow=M18.HTP.parse(O3.tr(5296,t.challNum,e)),t.rewardNum?this.lbReward.textFlow=M18.HTP.parse(O3.tr(5212,t.rewardNum,s)):this.lbReward.textFlow=M18.HTP.parse(O3.tr(5298,t.rewardNum,s))},t.prototype.updateBoss=function(){var t=TD94.FB19();this.listView.rfL(t)},t.prototype.close=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];s.prototype.close.call(this),this.buyBtn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.buyHandler,this),this.warnBtn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.warnHandler,this),App.K16.remove(this.GY14,this),this.listView.close()},t.prototype.buyHandler=function(){var t=F6.buyPost,e=TD94.FL63(),i=F6.FE59("buyLimite"),s={handler:function(){App.CM.apF(O6.A99,F14.A1)},cost:t.v,costTp:P10.A2,content:O3.tr(5299,t.v,i-e)};App.VM.open(O7.C54,s)},t.prototype.warnHandler=function(){App.CM.apF(O6.A99,F14.A39)},t}(BaseEuiView);__reflect(CrossFieldView.prototype,"CrossFieldView");var CrossFieldItem=function(h){function t(){var t=h.call(this)||this;return t.skinName=CrossFieldItemSkin,t.addEventListener(egret.Event.ADDED_TO_STAGE,t.onAddToStage,t),t.addEventListener(egret.Event.REMOVED_FROM_STAGE,t.onRemoveStage,t),t}return __extends(t,h),t.prototype.onAddToStage=function(){this.btnGo.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onclickGo,this),App.K16.doTimer(1e3,0,this.GY14,this,null,this)},t.prototype.onRemoveStage=function(){for(var t in this.btnGo.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onclickGo,this),App.K16.remove(this.GY14,this),this.objs)this.objs[t].destory();this.objs=[],this.itemCollection.removeAll()},t.prototype.GY14=function(){if(this.data.isOpen())if(this.data.isDead()){this.btnGo.visible=!1,this.lbNow.visible=!0;var t=this.data.FJ24();0<=t&&(this.lbNow.textFlow=M18.HTP.parse(O3.tr(5209,P6.FJ11(1e3*t,1))))}else this.btnGo.visible=!0,this.lbNow.visible=!1;else this.lbNow.visible=!0,this.btnGo.visible=!1,this.lbNow.textFlow=M18.HTP.parse(O3.tr(5210))},t.prototype.onclickGo=function(){TD94.FA9(this.data.bossID)},t.prototype.childrenCreated=function(){h.prototype.createChildren.call(this),this.initUI()},t.prototype.initUI=function(){this.itemCollection=new eui.ArrayCollection,this.itemList.dataProvider=this.itemCollection,this.itemList.itemRenderer=ItemIcon,this.objs=[],this.lbStr1.textFlow=M18.HTP.parse(O3.tr(5206)),this.btnGo.label=O3.tr(5211),this.pBarField.slideDuration=0,this.pBarField.validateNow(),this.itemScroller.scrollPolicyH="OFF",this.itemScroller.scrollPolicyV="OFF"},t.prototype.dataChanged=function(){h.prototype.dataChanged.call(this),this.GY14();var t=this.data.FK83();if(!this.lastMid||this.lastMid!=t){this.lastMid=t,this.gpBoss.removeChildren();var e={id:t,x:0,y:0,dir:Dir.br,objType:P13.A6,bt:BehaviourType.Stand_d},i=new FightGameObject;i.setData(e,this.gpBoss),this.objs.push(i)}var s=this.data.FK43();this.itemCollection.replaceAll(s);var o="75c01a",r=10,n=10;this.data.isOpen()?(r=this.data.maxhp,n=this.data.bossHp,this.data.isDead()?this.precentLabel.textFlow=M18.HTP.parse(O3.tr(5208)):this.precentLabel.text=(100*n/r).toFixed(0)+"%"):(o="d82222",this.precentLabel.text="100%"),this.pBarField.maximum=r,this.pBarField.value=n,this.finishImg.visible=!!this.data.haveReward;var a=O5.FA77(this.data.quality);this.nameLabel.textFlow=M18.FG71(O3.tr(543,a,this.data.name,o,this.data.lv)),this.imgTitle.width=this.nameLabel.width+55},t}(eui.ItemRenderer);__reflect(CrossFieldItem.prototype,"CrossFieldItem");var CrossFieldJoinTeamItem=function(e){function t(){var t=e.call(this)||this;return t.allNum=3,t.skinName=CrossFieldJoinTeamItemSkin,t.addEventListener(egret.Event.ADDED_TO_STAGE,t.onAddToStage,t),t.addEventListener(egret.Event.REMOVED_FROM_STAGE,t.onRemoveStage,t),t}return __extends(t,e),t.prototype.childrenCreated=function(){e.prototype.createChildren.call(this),this.initUI()},t.prototype.onAddToStage=function(){this.btnJoin.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickJoin,this)},t.prototype.onRemoveStage=function(){this.btnJoin.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickJoin,this)},t.prototype.onClickJoin=function(){App.CM.gtM(O6.B82).avatarInfo.s<this.data.needPower?P18.sDP(O3.tr(5248)):this.data.teamList.length==this.allNum?P18.sDP(O3.tr(5249)):App.CM.apF(O6.A99,F14.A30,this.data.teamId)},t.prototype.initUI=function(){this.lbStr1.textFlow=M18.HTP.parse(O3.tr(5233)),this.lbStr2.textFlow=M18.HTP.parse(O3.tr(5225)),this.btnJoin.label=O3.tr(5232)},t.prototype.dataChanged=function(){this.lbName.textFlow=M18.HTP.parse(O3.tr(5222,this.data.teamList[0].name)),this.lbNum.textFlow=M18.HTP.parse(O3.tr(5231,this.data.teamList.length,this.allNum));var t=M18.FF65(this.data.needPower);this.lbPower.textFlow=M18.HTP.parse(O3.tr(5234,t)),this.lbStr2.visible=!!this.data.haveReward},t}(eui.ItemRenderer);__reflect(CrossFieldJoinTeamItem.prototype,"CrossFieldJoinTeamItem");var CrossFieldMyTeamItem=function(e){function t(){var t=e.call(this)||this;return t.skinName=CrossFieldMyTeamItemSkin,t.addEventListener(egret.Event.ADDED_TO_STAGE,t.onAddToStage,t),t.addEventListener(egret.Event.REMOVED_FROM_STAGE,t.onRemoveStage,t),t}return __extends(t,e),t.prototype.onAddToStage=function(){this.btnKick.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickKick,this)},t.prototype.onRemoveStage=function(){this.btnKick.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickKick,this)},t.prototype.onClickKick=function(){App.CM.apF(O6.A99,F14.A11,this.data.aid)},t.prototype.childrenCreated=function(){e.prototype.createChildren.call(this),this.initUI()},t.prototype.initUI=function(){this.lbStr1.textFlow=M18.HTP.parse(O3.tr(5221)),this.lbStr2.textFlow=M18.HTP.parse(O3.tr(5225)),this.btnKick.label=O3.tr(5220)},t.prototype.dataChanged=function(){var t=App.CM.gtM(O6.A99).myTeamData,e=TD94.FJ62();this.grpMain.visible=!1,this.btnKick.visible=!1,t.teamId==this.data.aid?this.grpMain.visible=!0:e&&(this.btnKick.visible=!0),this.lbStr2.visible=!!this.data.haveReward,this.imgHead.source=this.data.icon,this.lbName.textFlow=M18.HTP.parse(O3.tr(5222,this.data.name)),this.lbGrade.textFlow=M18.HTP.parse(O3.tr(5223,this.data.lv));var i=M18.FF65(this.data.power);this.lbPower.textFlow=M18.HTP.parse(O3.tr(5224,i))},t}(eui.ItemRenderer);__reflect(CrossFieldMyTeamItem.prototype,"CrossFieldMyTeamItem");var CrossFieldWarnItem=function(e){function t(){var t=e.call(this)||this;return t.skinName=ItemBossWarnSkin,t.addEventListener(egret.Event.ADDED_TO_STAGE,t.onAddToStage,t),t.addEventListener(egret.Event.REMOVED_FROM_STAGE,t.onRemoveStage,t),t}return __extends(t,e),t.prototype.childrenCreated=function(){e.prototype.createChildren.call(this),this.initUI()},t.prototype.initUI=function(){this.tipsLabel.textFlow=M18.HTP.parse(O3.tr(5241)),this.cbBlank.label=O3.tr(5236)},t.prototype.dataChanged=function(){e.prototype.dataChanged.call(this),this.data.isOpen()?(this.tipsLabel.visible=!1,this.cbBlank.visible=!0,this.cbBlank.selected=this.data.isRemind()):(this.tipsLabel.visible=!0,this.cbBlank.visible=!1),this.nameLabel.textFlow=M18.HTP.parse(O3.tr(5251,this.data.name)),this.lvLabel.textFlow=M18.HTP.parse(O3.tr(5251,this.data.lv))},t.prototype.onWarnSelect=function(t){App.CM.apF(O6.A99,F14.A37,this.data.index),TG40.playClickEffect()},t.prototype.onAddToStage=function(){this.cbBlank.addEventListener(egret.Event.CHANGE,this.onWarnSelect,this)},t.prototype.onRemoveStage=function(){this.cbBlank.removeEventListener(egret.Event.CHANGE,this.onWarnSelect,this)},t}(eui.ItemRenderer);__reflect(CrossFieldWarnItem.prototype,"CrossFieldWarnItem");var CrossFieldCampUIView=function(o){function t(t,e){var i=o.call(this,t,e)||this;return i.skinName=CrossFieldCampUISkin,i}return __extends(t,o),t.prototype.initUI=function(){o.prototype.initUI.call(this),this.gpBg.touchEnabled=!1,this.hpBar.slideDuration=0,this.pbarHp.slideDuration=0,this.pbarShield.slideDuration=0,this.lbStr1.textFlow=M18.HTP.parse(O3.tr(5214)),this.lbStr2.textFlow=M18.HTP.parse(O3.tr(5215)),this.lbStr3.textFlow=M18.HTP.parse(O3.tr(5216)),this.lbStr4.textFlow=M18.HTP.parse(O3.tr(5217)),this.btnChallenge.label=O3.tr(5218),this.cbAutoChallenge.label=O3.tr(5213)},t.prototype.isSureClose=function(){var t=this;App.VM.open(O7.HH38,M18.HTP.parser(O3.tr(603)),this,function(){t.GV97(),App.CM.apF(O6.A99,F14.A26)},void 0)},t.prototype.onClickTeam=function(){this.aCF(O6.A99,F14.A28),TD94.FK64()?this.aCF(O6.A99,F14.A23):this.aCF(O6.A99,F14.A13)},t.prototype.ZK95=function(){var t=App.CM.gtM(O6.A99);t.occupyData?TD94.FK71()?P18.sDP(O3.tr(5247)):this.aCF(O6.A99,F14.A41,t.occupyData.aid):P18.sDP(O3.tr(5246))},t.prototype.open=function(){for(var i=this,t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];o.prototype.open.call(this);var s=App.CM.gtM(O6.A99);this.btnHelp.addEventListener(egret.TouchEvent.TOUCH_TAP,this.openHelpView,this),this.btnTeam.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickTeam,this),this.btnChallenge.addEventListener(egret.TouchEvent.TOUCH_TAP,this.ZK95,this),this.btnBack.addEventListener(egret.TouchEvent.TOUCH_TAP,this.isSureClose,this),this.cbAutoChallenge.addEventListener(egret.Event.CHANGE,this.ZD83,this),App.DelayOptManager.ZE59(this,function(){var t=App.VM.gOV(O7.I85);if(t){var e=P7.FJ17();i.gpBg.bottom=e?t.chartGroup.height==ChatView.minHeig?240:490:t.chartGroup.height==ChatView.minHeig?360:490}}),this.updateCbBox(s),this.updateUI(s),this.setRect()},t.prototype.ZW16=function(t){var e=t.occupyData;e?(this.lbName.visible=!0,this.lbName.textFlow=M18.HTP.parse(O3.tr(5245,e.name)),this.imgHead.source=e.icon,this.hpBar.num.text=e.getHP(),this.hpBar.maximum=e.thp,this.hpBar.value=e.rhp):(this.lbName.visible=!1,this.hpBar.maximum=this.hpBar.value=10,this.hpBar.num.text="100%",this.imgHead.source="v1_fonts_xwyd_zhfd_png")},t.prototype.updateUI=function(t){if(this.updateBoss(t),this.ZW16(t),0<TD94.FJ24()){if(this.grpData.visible=!1,this.grpOver.visible=!0,!this.challHander){var e=this;e.timeLb.text=TD94.FJ24()+"",this.challHander=App.K16.doTimer(1e3,0,function(){TD94.FJ24()<=0?e.GV97():e.timeLb.text=TD94.FJ24()+""},this)}this.lbWinName.textFlow=M18.HTP.parse(O3.tr(5219,t.occupyData.name))}else this.grpData.visible=!0,this.grpOver.visible=!1},t.prototype.updateCbBox=function(t){this.cbAutoChallenge.selected=t.isAutoChallenge},t.prototype.ZD83=function(){var t=App.CM.gtM(O6.A99);t.isAutoChallenge=this.cbAutoChallenge.selected,t.notify(E6.A14)},t.prototype.openHelpView=function(){var t={title:O3.tr(6e3),content:O3.tr(6001)};App.CM.apF(O6.C18,O10.A24,t)},t.prototype.updateBoss=function(t){t.bossDrhp?(this.grpShield.visible=!0,this.pbarShield.value=t.bossDrhp,this.pbarShield.maximum=TD94.FJ66(),this.pbarShield.lbNum.text=(100*this.pbarShield.value/this.pbarShield.maximum).toFixed(2)+"%"):this.grpShield.visible=!1,this.pbarHp.value=t.bossRhp,t.bossData&&(this.pbarHp.maximum=t.bossData.maxhp)},t.prototype.uBM=function(t,e){if(o.prototype.uBM.call(this,t,e),t instanceof TD92)switch(e){case P4.K67:case P4.Q78:case P4.E30:case P4.O95:this.updateUI(t),this.setRect();break;case P4.K75:case P4.K73:case P4.Q77:this.setRect();break;case B11.A2:this.updateCbBox(t)}},t.prototype.GV97=function(){this.challHander&&(App.K16.rBH(this.challHander),this.challHander=null)},t.prototype.close=function(){o.prototype.close.call(this),this.btnHelp.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.openHelpView,this),this.btnBack.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.isSureClose,this),this.cbAutoChallenge.removeEventListener(egret.Event.CHANGE,this.ZD83,this),this.btnTeam.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickTeam,this),this.btnChallenge.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.ZK95,this),this.GV97();var t=App.VM.gOV(O7.I85);t&&(t.gpTopBtn.top=-150),egret.Tween.removeTweens(this.gpBg)},t.prototype.ZR53=function(t){var e=this;egret.Tween.get(this.gpBg).to({bottom:t},300).call(function(){egret.Tween.removeTweens(e.gpBg)})},t.prototype.setRect=function(){this.rect.visible=!TD94.FL60(),this.cbAutoChallenge.enabled=TD94.FL60()},t}(BaseEuiView);__reflect(CrossFieldCampUIView.prototype,"CrossFieldCampUIView");var CrossFieldJoinTeamView=function(s){function t(t,e){var i=s.call(this,t,e)||this;return i.skinName=CrossFieldJoinTeamSkin,i}return __extends(t,s),t.prototype.initUI=function(){s.prototype.initUI.call(this);var t={render:CrossFieldJoinTeamItem,tileLayout:!0,horizontalGap:4,verticalGap:6,width:this.listGroup.width,height:this.listGroup.height};this.listView=new CommonListBase(t),this.listGroup.addChild(this.listView),this.listView.verticalCenter=0,this.listView.horizontalCenter=0,this.dlg.title=O3.tr(5235),this.btnCreateTeam.label=O3.tr(5250)},t.prototype.open=function(){this.dlg.ZM69(this.closeSelf.bind(this),this),this.dlg.ZQ14(this.closeSelf.bind(this),this),this.listView.open(),this.btnCreateTeam.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onCreateTeam,this);var t=App.CM.gtM(O6.A99);this.updateUI(t),this.challHander=App.K16.doTimer(1500,0,function(){App.CM.apF(O6.A99,F14.A28)},this)},t.prototype.GV97=function(){this.challHander&&(App.K16.rBH(this.challHander),this.challHander=null)},t.prototype.onCreateTeam=function(){this.aCF(O6.A99,F14.A14)},t.prototype.closeSelf=function(){this.aCF(O6.A99,F14.A10)},t.prototype.close=function(){s.prototype.close.call(this),this.listView.close(),this.GV97()},t.prototype.updateUI=function(t){var e=P7.copyTab(t.allTeamData);e&&this.listView.rfL(e)},t.prototype.uBM=function(t,e){if(s.prototype.uBM.call(this,t,e),t instanceof TD92)switch(e){case P4.K71:case P4.Q77:this.updateUI(t)}},t}(BaseEuiView);__reflect(CrossFieldJoinTeamView.prototype,"CrossFieldJoinTeamView");var CrossFieldMyTeamView=function(s){function t(t,e){var i=s.call(this,t,e)||this;return i.skinName=CrossFieldMyTeamSkin,i}return __extends(t,s),t.prototype.initUI=function(){s.prototype.initUI.call(this),this.teamData.dataProvider=this.teamCollection=new eui.ArrayCollection,this.teamData.itemRenderer=CrossFieldMyTeamItem,this.btnQuit.name="quit",this.dlg.title=O3.tr(5235),this.btnQuit.label=O3.tr(5228),this.btnRecruit.label=O3.tr(5229),this.lbStr1.textFlow=M18.HTP.parse(O3.tr(5226)),this.lbStr2.textFlow=M18.HTP.parse(O3.tr(5227)),this.textNum.text="0"},t.prototype.open=function(){this.dlg.ZM69(this.closeSelf.bind(this),this),this.dlg.ZQ14(this.closeSelf.bind(this),this),this.btnQuit.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClick,this),this.btnRecruit.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClick,this),this.textNum.addEventListener(egret.Event.CHANGE,this.textChange,this),this.textNum.addEventListener(egret.TouchEvent.TOUCH_TAP,this.textChange,this);var t=App.CM.gtM(O6.A99);this.updateUI(t),this.textNum.text=t.myTeamData.needPower/1e4+"",this.textNum.restrict="0-9",this.textNum.enabled=TD94.FJ62()},t.prototype.onClick=function(t){if("quit"==t.target.name)this.aCF(O6.A99,F14.A32);else{var e=App.CM.gtM(O6.A99),i=M18.format("$0",[e.myTeamData.teamId]),s={nid:F8.A18,channelId:P9.A1,param:i,infoId:""};this.aCF(O6.C13,O12.A13,s)}},t.prototype.closeSelf=function(){this.aCF(O6.A99,F14.A17)},t.prototype.close=function(){s.prototype.close.call(this),this.btnQuit.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClick,this),this.btnRecruit.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClick,this),this.textNum.removeEventListener(egret.Event.CHANGE,this.textChange,this),this.textNum.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.textChange,this),this.teamCollection.removeAll()},t.prototype.textChange=function(){"0"==this.textNum.text[0]&&(this.textNum.text=this.textNum.text.slice(1,this.textNum.text.length)),0<this.textNum.text.length&&this.aCF(O6.A99,F14.A8,1e4*parseInt(this.textNum.text)),P7.FL26()},t.prototype.updateUI=function(t){if(t.myTeamData){var e=P7.copyTab(t.myTeamData.teamList);this.teamCollection.replaceAll(e)}},t.prototype.uBM=function(t,e){if(s.prototype.uBM.call(this,t,e),t instanceof TD92)switch(e){case P4.F50:case P4.K71:case P4.Q77:this.updateUI(t)}},t}(BaseEuiView);__reflect(CrossFieldMyTeamView.prototype,"CrossFieldMyTeamView");var CrossFieldResurgenceView=function(s){function t(t,e){var i=s.call(this,t,e)||this;return i.skinName=CrossBossResurgenceSkin,i}return __extends(t,s),t.prototype.initUI=function(){s.prototype.initUI.call(this),this.btnGo.label=O3.tr(5349)},t.prototype.open=function(){this.btnGo.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickGo,this),this.GX5()},t.prototype.onClickGo=function(){var t=F6.liftPost,e={handler:function(){App.CM.apF(O6.A99,F14.A43)},cost:t.v,costTp:P10.A2,content:O3.tr(716,t.v)};App.VM.open(O7.C54,e)},t.prototype.GX5=function(){var t=this;App.CM.gtM(O6.A99);this.lbOver.text=O3.tr(715,TD94.FJ60()),this.timeHandler=App.K16.doTimer(1e3,0,function(){TD94.FJ60()<=0?t.oCC():t.lbOver.text=O3.tr(715,TD94.FJ60())},this),this.btnGo.visible=TD94.FL60()},t.prototype.ZW10=function(){this.timeHandler&&(App.K16.rBH(this.timeHandler),this.timeHandler=null)},t.prototype.oCC=function(){App.CM.apF(O6.A99,F14.A4),this.ZW10(),App.CM.gtM(O6.A99).lifeCD=null,App.VM.close(O7.C54)},t.prototype.close=function(){s.prototype.close.call(this),this.btnGo.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickGo,this),this.ZW10()},t.prototype.uBM=function(t,e){if(s.prototype.uBM.call(this,t,e),t instanceof TD92)switch(e){case P4.O95:this.oCC()}},t}(BaseEuiView);__reflect(CrossFieldResurgenceView.prototype,"CrossFieldResurgenceView");var CrossFieldRewardOrderView=function(s){function t(t,e){var i=s.call(this,t,e)||this;return i.skinName=CrossFieldRewardOrderSkin,i}return __extends(t,s),t.prototype.initUI=function(){s.prototype.initUI.call(this);var t={render:ItemIcon,tileLayout:!0,horizontalGap:26,verticalGap:6,width:this.listGroup.width,height:this.listGroup.height};this.listView=new CommonListBase(t);var e=this.listView.itemList.layout;e.paddingLeft=e.paddingRight=10,this.listGroup.addChild(this.listView),this.listView.verticalCenter=0,this.listView.horizontalCenter=0,this.dlg.title=O3.tr(5243),this.lbStr1.textFlow=M18.HTP.parse(O3.tr(6003))},t.prototype.open=function(){this.dlg.ZM69(this.closeSelf.bind(this),this),this.dlg.ZQ14(this.closeSelf.bind(this),this),this.listView.open(),this.updateUI()},t.prototype.closeSelf=function(){this.aCF(O6.A99,F14.A3)},t.prototype.updateUI=function(){var t=TD94.FHH10(),s=[];this.lbStr1.visible=!t.length,0<t.length?(t.forEach(function(t){var e=N12.gID(t.id);if(e){e.ct=t.c;var i={data:e,ct:t.c};s.push({itemData:i,isBottom:!0})}}),this.listView.rfL(s)):this.listView.close()},t.prototype.close=function(){s.prototype.close.call(this),this.listView.close()},t}(BaseEuiView);__reflect(CrossFieldRewardOrderView.prototype,"CrossFieldRewardOrderView");var CrossFieldWarnView=function(s){function t(t,e){var i=s.call(this,t,e)||this;return i.skinName=BossWarnSkin,i}return __extends(t,s),t.prototype.closeSelf=function(){this.apF(F14.A34)},t.prototype.initUI=function(){s.prototype.initUI.call(this),this.itemCollection=new eui.ArrayCollection,this.itemList.dataProvider=this.itemCollection,this.itemList.itemRenderer=CrossFieldWarnItem,this.lbTitle.text=O3.tr(5237),this.lbStr1.textFlow=M18.HTP.parse(O3.tr(5238)),this.lbStr2.textFlow=M18.HTP.parse(O3.tr(5239)),this.lbStr3.textFlow=M18.HTP.parse(O3.tr(5240))},t.prototype.open=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];s.prototype.open.call(this),this.itemScroller.addEventListener(egret.TouchEvent.TOUCH_MOVE,this.endScroller,this),this.btnBack.addEventListener(egret.TouchEvent.TOUCH_TAP,this.closeSelf,this),this.btnClose.addEventListener(egret.TouchEvent.TOUCH_TAP,this.closeSelf,this),this.bgMask.addEventListener(egret.TouchEvent.TOUCH_TAP,this.closeSelf,this),this.GX5()},t.prototype.GX5=function(){var t=TD94.FHH11();this.itemCollection.replaceAll(t),this.endScroller()},t.prototype.close=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];s.prototype.close.call(this),this.btnBack.addEventListener(egret.TouchEvent.TOUCH_TAP,this.closeSelf,this),this.btnClose.addEventListener(egret.TouchEvent.TOUCH_TAP,this.closeSelf,this),this.bgMask.addEventListener(egret.TouchEvent.TOUCH_TAP,this.closeSelf,this),this.itemScroller.removeEventListener(egret.TouchEvent.TOUCH_MOVE,this.endScroller,this),this.itemCollection.removeAll()},t.prototype.endScroller=function(){this.itemScroller.validateNow(),this.itemScroller.height+this.itemScroller.viewport.scrollV>=this.itemScroller.viewport.contentHeight?this.arrowImg.visible=!1:this.arrowImg.visible=!0},t}(BaseEuiView);__reflect(CrossFieldWarnView.prototype,"CrossFieldWarnView");var CrossFieldBossVo=function(){function t(t){this.lastLoadTime=0,this.updateData(t)}return t.prototype.updateData=function(t){if(this.bossID=null!=t.bid?t.bid:this.bossID,this.bossHp=null!=t.rhp?t.rhp:this.bossHp,this.bossState=null!=t.bst?t.bst:this.bossState,this.haveReward=null!=t.of?t.of:this.haveReward,null!=t.rcd&&(this.rcd=t.rcd,this.lastLoadTime=P6.getTime(!0)),!this.modelid){var e=F6.field[this.bossID];if(e){for(var i in e)this[i]=e[i];var s=this.bosspos.split(":");this.pos={},this.pos.x=parseInt(s[0]),this.pos.y=parseInt(s[1])}}var o=N17.group[this.monster].pos8;this.maxhp=N17.monster[o].hp},t.prototype.FK83=function(){return F6.field[this.bossID].modelid},t.prototype.FK43=function(){var t=M18.FL28(this.randomrewardshow,";",":"),s=[];return 0<t.length&&t.forEach(function(t){var e=N12.gID(t[0]);if(e){e.ct=t[1];var i={data:e,ct:t[1]};s.push({itemData:i,isBottom:!0,scale:.95})}}),s},t.prototype.isOpen=function(){return App.CM.gtM(O6.B82).avatarInfo.l>=this.lv},t.prototype.isDead=function(){return 0==this.bossHp},t.prototype.isRemind=function(){for(var t=TD94.FL43(),e=0;e<t.length;e++)if(t[e]==this.index)return!0;return!1},t.prototype.FJ24=function(){var t=P6.getTime(!0)-this.lastLoadTime,e=this.rcd-t;return 0<e?e:0},t.prototype.FI23=function(){return this.isOpen()},t}();__reflect(CrossFieldBossVo.prototype,"CrossFieldBossVo");var CrossFieldOccupierVo=function(){function t(t){this.updateData(t)}return t.prototype.updateData=function(t){this.aid=null!=t.aid?t.aid:this.aid,this.name=null!=t.n?t.n:this.name,this.icon=null!=t.ic?t.ic:this.icon,this.thp=null!=t.thp?t.thp:this.thp,this.rhp=null!=t.rhp?t.rhp:this.rhp},t.prototype.getHP=function(){return(this.rhp/this.thp*100).toFixed(0)+"%"},t}();__reflect(CrossFieldOccupierVo.prototype,"CrossFieldOccupierVo");var CrossFieldTeamMebVo=function(){function t(t){this.updateData(t)}return t.prototype.updateData=function(t){this.aid=null!=t.aid?t.aid:this.aid,this.name=null!=t.n?t.n:this.name,this.lv=null!=t.lv?t.lv:this.lv,this.power=null!=t.s?t.s:this.power,this.icon=null!=t.ic?t.ic:this.icon,this.haveReward=null!=t.to?t.to:this.haveReward},t}();__reflect(CrossFieldTeamMebVo.prototype,"CrossFieldTeamMebVo");var CrossFieldTeamVo=function(){function t(t){this.updateData(t)}return t.prototype.updateData=function(t){if(this.teamId=null!=t.tid?t.tid:this.teamId,this.needPower=null!=t.ns?t.ns:this.needPower,this.haveReward=null!=t.to?t.to:this.haveReward,t.tml)for(var e in this.teamList=[],t.tml){var i=new CrossFieldTeamMebVo(t.tml[e]);this.teamList.push(i)}},t}();__reflect(CrossFieldTeamVo.prototype,"CrossFieldTeamVo");var CrossFishCampUIView=function(o){function t(t,e){var i=o.call(this,t,e)||this;return i.skinName=CrossFishCampUISkin,i}return __extends(t,o),t.prototype.initData=function(){},t.prototype.initUI=function(){o.prototype.initUI.call(this),this.gpBg.touchEnabled=!1,this.proBar.slideDuration=0,this.lbStr2.textFlow=M18.HTP.parse(O3.tr(4387)),this.lbStr3.textFlow=M18.HTP.parse(O3.tr(4535)),this.players=[this.player1,this.player2,this.player3,this.player4],this.allPage=parseInt(TD95.gIV("fishNum"))/4,this.btnChange.label=O3.tr(5789)},t.prototype.setGrpFish=function(t){this.grpFishs.visible=this.btnNetFish.visible=t},t.prototype.isSureClose=function(){App.VM.open(O7.HH38,M18.HTP.parser(O3.tr(603)),this,function(){App.CM.apF(O6.B28,HH1.A39)},void 0)},t.prototype.open=function(){for(var i=this,t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];o.prototype.open.call(this),this.btnHelp.addEventListener(egret.TouchEvent.TOUCH_TAP,this.openHelpView,this),this.btnBack.addEventListener(egret.TouchEvent.TOUCH_TAP,this.isSureClose,this),this.btnChange.addEventListener(egret.TouchEvent.TOUCH_TAP,this.ZU55,this),this.btnRecord.addEventListener(egret.TouchEvent.TOUCH_TAP,this.ZU49,this),this.btnStartFish.addEventListener(egret.TouchEvent.TOUCH_TAP,this.ZK97,this),this.btnTop.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickAlter,this),this.btnBottom.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickAlter,this),this.btnNetFish.addEventListener(egret.TouchEvent.TOUCH_TAP,this.ZR73,this);var s=App.CM.gtM(O6.B28);this.challHander||(this.ZV86(s),this.jumpPage()),this.ZC39(s),this.refreshPlay(),App.DelayOptManager.ZE59(this,function(){var t=App.VM.gOV(O7.I85);if(t){var e=P7.FJ17();i.gpBg.bottom=e?t.chartGroup.height==ChatView.minHeig?240:490:t.chartGroup.height==ChatView.minHeig?360:490}}),App.THH32.aUE(this,"wdsg_kfdy_yuty_001",this.width/2,this.height/2,0,null,null,null,null,"yuty001"),this.bgImg.height=App.TG37.getHeight(),this.bgImg.width=this.bgImg.height/1138*640,P7.FJ17()&&(this.bgImg.top=0),this.bgImg.validateNow(),this.openSceneUI(),this.ZR72()},t.prototype.jumpPage=function(){this.nowShipsNum=TE75.FJ67(),this.choosePage(0)},t.prototype.ZR72=function(){for(var t=0;t<this.players.length;t++)egret.Tween.get(this.players[t],{loop:!0}).wait(200*t).to({y:this.players[t].y+1},750).to({y:this.players[t].y-1},750)},t.prototype.ZI33=function(){for(var t in this.players)egret.Tween.removeTweens(this.players[t])},t.prototype.playFishsDB=function(){App.THH32.aUE(this.gpBg,"wdsg_kfdy_yuty_001",this.width/2,400,0,null,null,null,null,"yucll002")},t.prototype.openSceneUI=function(){App.VM.isOpen(O7.I64)||(this.ZK39(),App.CM.apF(O6.B63,K7.A7),App.CM.apF(O6.C10,O16.A5),App.CM.apF(O6.B63,K7.A7),App.CM.apF(O6.C10,O16.A16),App.CM.apF(O6.B64,J18.A31),App.CM.apF(O6.C20,K2.A9))},t.prototype.restData=function(t){this.GV97(),this.ZK98(),this.ZV86(t),t.jumpPos?(this.nowShipsNum=Math.ceil(t.jumpPos/4),t.jumpPos=null,this.choosePage(0)):this.jumpPage(),this.ZC39(t),this.ZO3(t),this.refreshPlay()},t.prototype.ZO3=function(t){switch(this.ZD90(),t.fishState){case HH14.A1:this.btnStartFish.label=O3.tr(4538),this.lbChange.textFlow=M18.HTP.parse(O3.tr(4537));break;case HH14.A2:this.btnStartFish.label=O3.tr(4539),this.ZI34(t);break;case HH14.A3:this.btnStartFish.label=O3.tr(4552),this.ZI34(t),App.THH32.aUE(this.btnStartFish,"wdsg_kfdy_ks_001",this.btnStartFish.width/2,this.btnStartFish.height/2)}},t.prototype.ZK39=function(){var t=App.CM.gtM(O6.B99);if(t.isFighting&&!t.isSpFighting){var e=App.VM.gOV(O7.I61);e&&e.ZI71(!0)}},t.prototype.onClickAlter=function(t){switch(t.target.name){case"-":this.btnTop.filters||this.choosePage(-1);break;case"+":this.btnBottom.filters||this.choosePage(1)}},t.prototype.choosePage=function(t){this.nowShipsNum+=t,this.lbPage.text=this.nowShipsNum+"/"+this.allPage,this.btnState(),this.refreshPlay()},t.prototype.btnState=function(){P16.sGF(this.btnTop,1==this.nowShipsNum),this.btnTop.enabled=1!=this.nowShipsNum,P16.sGF(this.btnBottom,this.nowShipsNum==this.allPage),this.btnBottom.enabled=this.nowShipsNum!=this.allPage},t.prototype.ZU55=function(){App.CM.apF(O6.B28,HH1.A25)},t.prototype.ZU49=function(){App.CM.apF(O6.B28,HH1.A23),App.CM.apF(O6.B28,HH1.A13);var t=App.CM.gtM(O6.B28);t.isNewRecord=!1,this.setBtnRecord(t)},t.prototype.ZR73=function(){this.btnNetFish.filters?P18.sDP(O3.tr(4546)):App.CM.apF(O6.B28,HH1.A11)},t.prototype.ZK97=function(){switch(this.btnStartFish.label){case O3.tr(4538):App.CM.apF(O6.B28,HH1.A30);break;case O3.tr(4539):App.VM.open(O7.HH38,M18.FG71(O3.tr(4950)),this,function(){App.CM.apF(O6.B28,HH1.A3)});break;case O3.tr(4552):App.CM.apF(O6.B28,HH1.A7)}},t.prototype.ZV86=function(t){var e=this;e.lbTime.text=P6.FJ11(1e3*TE75.FJ24(),3),this.challHander=App.K16.doTimer(1e3,0,function(){e.lbTime.text=P6.FJ11(1e3*TE75.FJ24(),3)},this)},t.prototype.ZW17=function(t){if(!this.fishsHander){var e=this;e.proBar.maximum=parseInt(TD95.gIV("shoalTime")),e.proBar.value=TE75.FI28(),this.playFishsDB(),this.fishsHander=App.K16.doTimer(1e3,0,function(){var t=TE75.FI28();0<t?e.proBar.value=t:e.ZK98()},this)}},t.prototype.ZI34=function(t){var e=this,i=this;switch(t.fishState){case HH14.A2:var s=P6.FJ11(1e3*TE75.FD80(),3);i.lbChange.textFlow=M18.HTP.parse(O3.tr(4542,s)),this.fishStateHander=App.K16.doTimer(1e3,0,function(){if(App.THH32.rEf(e.btnStartFish,"wdsg_kfdy_ks_001"),1e3*TE75.FD80()){var t=P6.FJ11(1e3*TE75.FD80(),3);i.lbChange.textFlow=M18.HTP.parse(O3.tr(4542,t))}else i.ZD90()},this);break;case HH14.A3:s=TE75.FD80();i.lbChange.textFlow=M18.HTP.parse(O3.tr(4545,s)),this.fishStateHander=App.K16.doTimer(1e3,0,function(){var t=TE75.FD80();t?i.lbChange.textFlow=M18.HTP.parse(O3.tr(4545,t)):i.ZD90()},this)}},t.prototype.openHelpView=function(){var t=O3.tr(4588),e={title:O3.tr(1831),content:t};App.CM.apF(O6.C18,O10.A24,e)},t.prototype.setBtnRecord=function(t){t.isNewRecord?App.VM.gOV(O7.B36)||(this.btnRecord.imgNew.visible=t.isNewRecord):this.btnRecord.imgNew.visible=t.isNewRecord},t.prototype.uBM=function(t,e){if(o.prototype.uBM.call(this,t,e),t instanceof TE73){switch(e){case P4.Q76:case P4.T98:this.ZC39(t),this.ZO3(t);break;case P4.HH13:case P4.X43:case P4.M71:case P4.E29:case P4.U1:case P4.O90:case P4.D12:this.ZC39(t),this.refreshPlay(),this.ZO3(t);break;case P4.O86:t.jumpPos?(this.nowShipsNum=Math.ceil(t.jumpPos/4),t.jumpPos=null):this.nowShipsNum=Math.ceil(t.pos/4),this.choosePage(0),this.ZC39(t),this.ZO3(t);break;case P4.M70:this.restData(t)}this.setBtnRecord(t)}},t.prototype.ZC39=function(t){this.lbRoom.textFlow=M18.HTP.parse(O3.tr(4529,t.myRoomNum)),this.lbIntegral.textFlow=M18.HTP.parse(O3.tr(4540,t.ownGet));var e=parseInt(TD95.gIV("robNum")),i=parseInt(TD95.gIV("robbedNum"));this.lbRob.textFlow=M18.HTP.parse(O3.tr(4550,e-t.robNum,e)),this.lbRobbed.textFlow=M18.HTP.parse(O3.tr(4549,i-t.robbedNum,i)),0<t.fishsNum&&0<TE75.FI28()?(this.setGrpFish(!0),P16.sGF(this.btnNetFish,t.netBoo),t.netBoo?App.THH32.rEf(this.btnNetFish,"wdsg_dysw_xsa_001"):App.THH32.aUE(this.btnNetFish,"wdsg_dysw_xsa_001",35,35),this.lbOverNum.textFlow=M18.HTP.parse(O3.tr(4536,t.fishsNum)),this.ZW17(t)):this.ZK98()},t.prototype.GV97=function(){this.challHander&&(App.K16.rBH(this.challHander),this.challHander=null)},t.prototype.ZK98=function(){this.setGrpFish(!1),App.THH32.rEf(this.btnNetFish,"wdsg_dysw_xsa_001"),App.THH32.rEf(this.gpBg,"wdsg_kfdy_yuty_001"),this.fishsHander&&(App.K16.rBH(this.fishsHander),this.fishsHander=null)},t.prototype.ZD90=function(){App.THH32.rEf(this.btnStartFish,"wdsg_kfdy_ks_001"),this.fishStateHander&&(App.K16.rBH(this.fishStateHander),this.fishStateHander=null)},t.prototype.refreshPlay=function(){var t=App.CM.gtM(O6.B28);if(this.nowShipsNum)for(var e=4*this.nowShipsNum-3,i=t.fishPlayerData,s=0;s<this.players.length;s++){var o=this.players[s],r=i[e+s];o.close(),o.setData(r,s+1)}},t.prototype.close=function(){o.prototype.close.call(this),this.btnHelp.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.openHelpView,this),this.btnBack.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.isSureClose,this),this.btnChange.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.ZU55,this),this.btnRecord.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.ZU49,this),this.btnStartFish.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.ZK97,this),this.btnTop.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickAlter,this),this.btnBottom.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickAlter,this),this.btnNetFish.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.ZR73,this),App.CM.gtM(O6.B28).isTower||(this.GV97(),this.ZK98(),this.ZD90());var t=App.VM.gOV(O7.I85);t&&(t.gpTopBtn.top=-150),egret.Tween.removeTweens(this.gpBg),App.THH32.rEf(this,"wdsg_kfdy_yuty_001"),this.ZI33();for(var e=0;e<this.players.length;e++)this.players[e].close()},t.prototype.ZR53=function(t){var e=this;egret.Tween.get(this.gpBg).to({bottom:t},300).call(function(){egret.Tween.removeTweens(e.gpBg)})},t}(BaseEuiView);__reflect(CrossFishCampUIView.prototype,"CrossFishCampUIView");var TD95=function(){function t(){}return t.FK35=function(t){for(var e in this.init=t.crossfish_init,this.openDay=this.gIV("weeklyDay").split(","),this.openDay)this.openDay[e]=parseInt(this.openDay[e]);this.doubleTime=this.ZV6()},t.gIV=function(t){var e="";return this.init?e=this.init[t].value:e},t.FHH1=function(t){void 0===t&&(t=0);var h=[];return this.init&&(0==t?this.gIV("monthRankAward"):this.gIV("weekRankAward")).split("|").forEach(function(t,e){for(var i=t.split(","),s=i[0].split("-"),o=i[1].split(";"),r=[],n=0;n<o.length;n++){var a=o[n].split(":");r.push({k:a[0],v:a[1]})}h.push({s:s[0],e:s[1],rewards:r})}),h},t.FJ53=function(){if(this.init)return this.gIV("openTime").split("-")[0]},t.ZV6=function(){var t={};if(!this.init)return t;var e=this.gIV("openTime"),i=M18.FL28(e,"-");return t={pt:P6.FM3(i[0]),vt:P6.FM3(i[1])}},t}();__reflect(TD95.prototype,"TD95");var D19=function(){function t(){}return t.A3="no",t.A2="left",t.A1="right",t}();__reflect(D19.prototype,"D19");var HH14=function(){function t(){}return t.A1=0,t.A2=1,t.A3=2,t}();__reflect(HH14.prototype,"HH14");var F18=function(){function t(){}return t.A1=1,t.A2=2,t.A3=3,t.A4=4,t.A5=5,t.A6=6,t}();__reflect(F18.prototype,"F18");var HH1=function(){function t(){}return t.A19=10001,t.A20=10002,t.A34=10003,t.A35=10004,t.A36=10005,t.A1=10006,t.A2=10007,t.A13=10008,t.A14=10009,t.A25=10010,t.A26=10011,t.A27=10012,t.A28=10013,t.A30=10014,t.A31=10015,t.A37=10016,t.A38=10017,t.A39=10018,t.A40=10019,t.A3=10020,t.A4=10021,t.A7=10022,t.A8=10023,t.A32=10024,t.A33=10025,t.A43=10026,t.A29=10027,t.A11=10028,t.A12=10029,t.A44=10030,t.A21=11001,t.A15=11002,t.A9=11003,t.A5=11004,t.A22=11005,t.A16=11006,t.A23=11007,t.A17=11008,t.A24=11009,t.A18=11010,t.A10=11011,t.A6=11012,t.A46=11013,t.A45=11014,t.A41=11015,t.A42=11016,t}();__reflect(HH1.prototype,"HH1");var TB79=function(i){function t(){var t=i.call(this)||this;App.VM.register(O7.C36,"CrossFishCampUIView",t,K17.Fight),t.rgF(HH1.A21,t.GC62,t),t.rgF(HH1.A15,t.GB78,t),App.VM.register(O7.A66,"CrossFishChangeRoomView",t,K17.UI_Popup),t.rgF(HH1.A9,t.GA59,t),t.rgF(HH1.A5,t.GA44,t),App.VM.register(O7.C72,"CrossFishComingView",t,K17.UI_Popup),t.rgF(HH1.A22,t.GC63,t),t.rgF(HH1.A16,t.GB79,t),App.VM.register(O7.B36,"CrossFishRecordView",t,K17.UI_Popup),t.rgF(HH1.A23,t.GC64,t),t.rgF(HH1.A17,t.GB80,t),App.VM.register(O7.C71,"CrossFishResultView",t,K17.UI_Tips),t.rgF(HH1.A24,t.GC65,t),t.rgF(HH1.A18,t.GB81,t),App.VM.register(O7.A65,"CrossFishSumRanKingView",t,K17.UI_Main_TOP),t.rgF(HH1.A10,t.GA60,t),t.rgF(HH1.A6,t.GA45,t),t.rgF(HH1.A46,t.GS71,t),t.rgF(HH1.A45,t.GQ72,t),App.VM.register(O7.HH67,"CrossFishView",t,K17.UI_Main_TOP),t.rgF(HH1.A41,t.GO90,t),t.rgF(HH1.A42,t.GO91,t);var e=new TE73(t);return e.aLV(O7.HH99),e.aLV(O7.I39),e.aLV(O7.I63),e.aLV(O7.HH67),e.aLV(O7.C36),e.aLV(O7.A66),e.aLV(O7.I85),e.aLV(O7.C72),e.aLV(O7.B36),e.aLV(O7.C71),e.aLV(O7.A65),e.aLV(O7.D89),e.aLV(O7.HH47),e.aLV(O7.HH23),t.crossFishProxy=new TE74(t),t.rgF(HH1.A19,t.GU34,t),t.rgF(HH1.A20,t.GU20,t),t.rgF(HH1.A34,t.GY21,t),t.rgF(HH1.A35,t.loadReq,t),t.rgF(HH1.A36,t.loadRes,t),t.rgF(HH1.A1,t.GM87,t),t.rgF(HH1.A2,t.GM88,t),t.rgF(HH1.A39,t.quitReq,t),t.rgF(HH1.A40,t.quitRes,t),t.rgF(HH1.A13,t.GS9,t),t.rgF(HH1.A14,t.GS10,t),t.rgF(HH1.A11,t.GS74,t),t.rgF(HH1.A12,t.GS75,t),t.rgF(HH1.A25,t.GW12,t),t.rgF(HH1.A26,t.GW13,t),t.rgF(HH1.A27,t.GW14,t),t.rgF(HH1.A28,t.GW15,t),t.rgF(HH1.A30,t.GX49,t),t.rgF(HH1.A31,t.GX50,t),t.rgF(HH1.A37,t.lootReq,t),t.rgF(HH1.A38,t.lootRes,t),t.rgF(HH1.A3,t.GN9,t),t.rgF(HH1.A4,t.GN10,t),t.rgF(HH1.A7,t.GO92,t),t.rgF(HH1.A8,t.GO93,t),t.rgF(HH1.A32,t.GX44,t),t.rgF(HH1.A33,t.GX45,t),t.rgF(HH1.A43,t.GS76,t),t.rgF(HH1.A29,t.GW16,t),t.rgF(HH1.A44,t.FHH98,t),t}return __extends(t,i),t.prototype.FHH98=function(){TE75.FHH98()},t.prototype.GC62=function(){App.VM.open(O7.C36)},t.prototype.GB78=function(){App.VM.close(O7.C36)},t.prototype.GA59=function(){App.VM.open(O7.A66)},t.prototype.GA44=function(){App.VM.close(O7.A66)},t.prototype.GC63=function(){App.VM.open(O7.C72)},t.prototype.GB79=function(){App.VM.close(O7.C72)},t.prototype.GC64=function(){App.VM.open(O7.B36)},t.prototype.GB80=function(){App.VM.close(O7.B36)},t.prototype.GC65=function(t){App.VM.open(O7.C71,t)},t.prototype.GB81=function(){App.VM.close(O7.C71)},t.prototype.GA60=function(){App.VM.open(O7.A65)},t.prototype.GA45=function(){App.VM.close(O7.A65)},t.prototype.GO90=function(){App.VM.open(O7.HH67)},t.prototype.GO91=function(){App.VM.close(O7.HH67)},t.prototype.GS71=function(){App.VM.setAutoClose(O7.I76,!0),App.VM.close(O7.I76),App.VM.setAutoClose(O7.G82,!0),App.VM.close(O7.G82),App.VM.setAutoClose(O7.C36,!1),this.GC62();var t=App.CM.gtM(O6.B99);t.isFighting&&(App.VM.setAutoClose(O7.I61,!1),App.VM.open(O7.I61)),t.isSpFighting&&t.notify(FightD.FC_Close_UI)},t.prototype.GQ72=function(){this.gtM().ZW9(),App.VM.setAutoClose(O7.C36,!0),this.GB78(),App.VM.setAutoClose(O7.I76,!1),App.CM.gtM(O6.B99).fightSceneType=I4.A8,App.SceneManager.runScene(M2.A5)},t.prototype.GL17=function(){this.timingHander&&(App.K16.rBH(this.timingHander),this.timingHander=null)},t.prototype.GU34=function(){this.gtM();this.crossFishProxy.GU34()},t.prototype.GU20=function(t){if(200==t.head.state){var e=this.gtM();e.setState(t.body),1!=t.body.st&&e.isTower&&(e.isShow=!1,e.isTower=!1,TG67.FK87(),e.notify(P4.U3)),TE75.FHH98()}else App.CM.apF(O6.B87,L10.A4,t)},t.prototype.loadReq=function(){this.gtM();this.crossFishProxy.loadReq()},t.prototype.loadRes=function(t){var e=this,i=this.gtM();if(200==t.head.state){if(t.body.ncd)return P18.sDP(O3.tr(605,t.body.ncd)),!1;App.CM.gtM(O6.B99).fightSceneType=I4.A6;var s=App.SceneManager.getCurrScene();i.isTower=!0,i.initData(t.body),i.remainCD=t.body.cd,t.body.cd&&(i.lastLoadTime=P6.getTime(!0)),i.chatWordDatacms=P7.copyTab(t.body.cms),i.chatAllDatacms=P7.copyTab(t.body.cms),App.VM.ZT95(),M2.A4==s?this.GS71():App.SceneManager.runScene(M2.A4),this.GS9(),i.notify(P4.T98),this.timingHander=App.K16.doTimer(2e3,0,function(){i.isTower&&1==i.state?e.GX44():e.GL17()},this)}else App.CM.apF(O6.B87,L10.A4,t)},t.prototype.GY21=function(t){if(200==t.head.state){var e=this.gtM();e.setState(t.body),e.notify(P4.Q76),1!==t.body.st&&e.isTower&&(e.isTower=!1,this.GQ72(),e.notify(P4.U3)),TE75.FHH98()}else App.CM.apF(O6.B87,L10.A4,t)},t.prototype.GM87=function(){this.gtM();this.crossFishProxy.GM87()},t.prototype.GM88=function(t){if(200==t.head.state){var e=this.gtM();e.setRankData(t.body.as),e.ZV88(t.body.me),this.GA60()}else App.CM.apF(O6.B87,L10.A4,t)},t.prototype.quitReq=function(){this.gtM();this.crossFishProxy.quitReq()},t.prototype.quitRes=function(t){if(200==t.head.state){var e=this.gtM();this.GQ72(),e.notify(P4.U3)}else App.CM.apF(O6.B87,L10.A4,t)},t.prototype.GS9=function(){this.gtM();this.crossFishProxy.GS9()},t.prototype.GS10=function(t){if(200==t.head.state){var e=this.gtM();e.ZG64(t.body.rs),e.notify(P4.I86)}else App.CM.apF(O6.B87,L10.A4,t)},t.prototype.GS74=function(){this.gtM();this.crossFishProxy.GS74()},t.prototype.GS75=function(t){if(200==t.head.state){var e=this.gtM();e.initData(t.body),t.body.suc?(this.GC65(t.body),e.notify(P4.HH13)):P18.sDP(O3.tr(4547))}else App.CM.apF(O6.B87,L10.A4,t)},t.prototype.GW12=function(){this.gtM();this.crossFishProxy.GW12()},t.prototype.GW13=function(t){200==t.head.state?(this.gtM().ZO4(t.body),this.GA59()):App.CM.apF(O6.B87,L10.A4,t)},t.prototype.GW14=function(t){this.gtM();this.crossFishProxy.GW14(t)},t.prototype.GW15=function(t){if(200==t.head.state){var e=this.gtM();e.initData(t.body),e.notify(P4.M70)}else App.CM.apF(O6.B87,L10.A4,t)},t.prototype.GX49=function(){this.gtM();this.crossFishProxy.GX49()},t.prototype.GX50=function(t){if(200==t.head.state){var e=this.gtM();e.initData(t.body),e.notify(P4.O86)}else App.CM.apF(O6.B87,L10.A4,t)},t.prototype.lootReq=function(t){this.gtM();this.crossFishProxy.lootReq(t)},t.prototype.lootRes=function(i){var s=this;if(200==i.head.state)if(i.body.cd_)P7.fightCoolingCD(i.body.cd_);else{var t=this.gtM(),e=P7.copyTab(i.body);e.ob&&(e.ob=void 0),t.initData(e);var o=P7.isGetView(O7.C36);i.body.fr?App.CM.apF(O6.B99,N1.A11,i.body.fr,{needResult:!1,type:P15.A19,isAuto:o},function(t,e){null!=i.body.ob&&P5.sIs(i.body.ob),s.GC62()},this):(t.isNewRecord=!0,t.notify(P4.U1))}else App.CM.apF(O6.B87,L10.A4,i)},t.prototype.GN9=function(){this.gtM();this.crossFishProxy.GN9()},t.prototype.GN10=function(t){if(200==t.head.state){var e=this.gtM();e.initData(t.body),e.pos=null,e.notify(P4.D12)}else App.CM.apF(O6.B87,L10.A4,t)},t.prototype.GX44=function(){var t=this.gtM();t.isTower&&1==t.state&&this.crossFishProxy.GX44()},t.prototype.GX45=function(t){if(200==t.head.state){var e=this.gtM();e.initData(t.body),e.notify(P4.O90)}else App.CM.apF(O6.B87,L10.A4,t)},t.prototype.GO92=function(){this.gtM();this.crossFishProxy.GO92()},t.prototype.GO93=function(t){if(200==t.head.state){var e=this.gtM();e.initData(t.body),e.notify(P4.E29)}else App.CM.apF(O6.B87,L10.A4,t)},t.prototype.GS76=function(t){if(200==t.head.state){var e=this.gtM();e.initData(t.body),t.body.scd&&App.CM.apF(O6.B28,HH1.A22),e.notify(P4.X43)}else App.CM.apF(O6.B87,L10.A4,t)},t.prototype.GW16=function(t){if(200==t.head.state){var e=this.gtM();e.initData(t.body),e.notify(P4.M71)}else App.CM.apF(O6.B87,L10.A4,t)},t}(TE11);__reflect(TB79.prototype,"TB79");var TE73=function(i){function t(t){var e=i.call(this,t)||this;return e.rankObjData=[],e.isShow=!1,e.chatWordDatacms=[],e.chatAllDatacms=[],e.w=1,e}return __extends(t,i),t.prototype.initData=function(t){if(this.isTower){if(this.ownGet=null!=t.p?t.p:this.ownGet,this.robNum=null!=t.ln?t.ln:this.robNum,this.robbedNum=null!=t.bln?t.bln:this.robbedNum,this.fishsNum=null!=t.srn?t.srn:this.fishsNum,this.myRoomNum=null!=t.rid?t.rid:this.myRoomNum,this.pos=null!=t.mp?t.mp:this.pos,t.fl)for(var e in this.fishPlayerData={},t.fl){var i=new CrossFishFisherVo(t.fl[e]);this.fishPlayerData[e]=i}null!=t.scd&&(this.fishsNumTime=t.scd,this.lastLoadFishsNumTime=P6.getTime(!0)),null!=t.fcd&&(this.fishTime=t.fcd,this.lastLoadFishTime=P6.getTime(!0)),null!=t.fst&&(this.fishState=t.fst),null!=t.ob&&P5.sIs(t.ob),null!=t.f&&this.ZI35(t.f),null!=t.alfn&&(this.netBoo=!!t.alfn),null!=t.rm&&this.ZI36(t.rm)}},t.prototype.ZI35=function(t){this.fishPlayerData[t.p]=new CrossFishFisherVo(t)},t.prototype.ZI36=function(t){this.fishPlayerData[t]&&(this.fishPlayerData[t]=null,delete this.fishPlayerData[t])},t.prototype.setState=function(t){this.state=null!=t.st?t.st:this.state,-1<this.state?this.isOpen=null!=t.to?!!t.to:this.isOpen:this.isOpen=!1,0!==t.w&&1!==t.w||(this.w=t.w)},t.prototype.setRankData=function(t){var i=this;this.rankObjData=[],t&&0<t.length&&t.forEach(function(t,e){i.rankObjData[e]=new RankData(t)})},t.prototype.ZG64=function(t){for(var e in this.crossFishRecord=[],t)this.crossFishRecord[e]=new CrossFishRecordVo(t[e]);this.crossFishRecord=this.crossFishRecord.reverse()},t.prototype.ZV88=function(t){t&&(this.myRankObjData?this.myRankObjData.initData(t):this.myRankObjData=new RankData(t))},t.prototype.ZW9=function(){this.isTower=null,this.chatAllDatacms=null,this.chatWordDatacms=null,this.remainCD=null,this.ownGet=0,this.fishState=0,this.myRoomNum=null,this.lastLoadFishTime=null,this.lastLoadFishsNumTime=null,this.lastLoadTime=null,this.fishsNum=null,this.fishPlayerData=null,this.roomList=null,this.isNewRecord=null},t.prototype.ZN83=function(t){this.chatWordDatacms.push(t);var e=this.chatWordDatacms.length,i=N18.FC83(P9.A13).recordcount;i<e&&this.chatWordDatacms.splice(0,e-i)},t.prototype.ZR15=function(t){this.chatAllDatacms.push(t);var e=this.chatAllDatacms.length,i=N18.FC83(P9.A14).recordcount;i<e&&this.chatAllDatacms.splice(0,e-i)},t.prototype.ZO4=function(t){for(var e in this.myRoomNum=t.mr,this.roomList=[],t.rl)this.roomList[e]=new CrossFishRoomVo(t.rl[e])},t.prototype.FJ24=function(){var t=P6.getTime(!0)-this.lastLoadTime,e=this.remainCD-t;return 0<e?e:0},t.prototype.FI28=function(){var t=P6.getTime(!0)-this.lastLoadFishsNumTime,e=this.fishsNumTime-t;return 0<e?e:0},t.prototype.FD80=function(){var t=P6.getTime(!0)-this.lastLoadFishTime,e=this.fishTime-t;return 0<e?e:0},t.prototype.FL35=function(){return 1==this.state?1:0},t.prototype.notify=function(t){i.prototype.notifyView.call(this,this,t)},t}(TG79);__reflect(TE73.prototype,"TE73");var TE74=function(i){function t(t){var e=i.call(this,t)||this;return e.rSM(P4.Q76,e.GY21,e),e.rSM(P4.M71,e.fishPush,e),e.rSM(P4.X43,e.GS76,e),e.rSM(P4.U1,e.lootRes,e),e}return __extends(t,i),t.prototype.GU34=function(){var s=this;return new Promise(function(e,t){var i={type:P4.K61,body:{}};s.rSMO(P4.K62,function(t){s.apF(HH1.A20,t),e("加载钓鱼信息完成")},s),s.sSM(i)})},t.prototype.loadReq=function(){var t={type:P4.T97,body:{}};this.rSMO(P4.T98,this.loadRes,this),this.sSM(t)},t.prototype.loadRes=function(t){this.apF(HH1.A36,t)},t.prototype.GY21=function(t){this.apF(HH1.A34,t)},t.prototype.GM87=function(){var t={type:P4.D9,body:{}};this.rSMO(P4.D10,this.GM88,this),this.sSM(t)},t.prototype.GM88=function(t){this.apF(HH1.A2,t)},t.prototype.GS9=function(){var t={type:P4.I85,body:{}};this.rSMO(P4.I86,this.GS10,this),this.sSM(t)},t.prototype.GS10=function(t){this.apF(HH1.A14,t)},t.prototype.GS74=function(){var t={type:P4.HH12,body:{}};this.rSMO(P4.HH13,this.GS75,this),this.sSM(t)},t.prototype.GS75=function(t){this.apF(HH1.A12,t)},t.prototype.GW12=function(){var t={type:P4.M67,body:{}};this.rSMO(P4.M68,this.GW13,this),this.sSM(t)},t.prototype.GW13=function(t){this.apF(HH1.A26,t)},t.prototype.GW14=function(t){var e={type:P4.M69,body:{rid:t}};this.rSMO(P4.M70,this.GW15,this),this.sSM(e)},t.prototype.GW15=function(t){this.apF(HH1.A28,t)},t.prototype.GX49=function(){var t={type:P4.O85,body:{}};this.rSMO(P4.O86,this.GX50,this),this.sSM(t)},t.prototype.GX50=function(t){this.apF(HH1.A31,t)},t.prototype.lootReq=function(t){var e={type:P4.T99,body:{target:t}};this.sSM(e)},t.prototype.lootRes=function(t){this.apF(HH1.A38,t)},t.prototype.GN9=function(){var t={type:P4.D11,body:{}};this.rSMO(P4.D12,this.GN10,this),this.sSM(t)},t.prototype.GN10=function(t){this.apF(HH1.A4,t)},t.prototype.GO92=function(){var t={type:P4.E28,body:{}};this.rSMO(P4.E29,this.GO93,this),this.sSM(t)},t.prototype.GO93=function(t){this.apF(HH1.A8,t)},t.prototype.quitReq=function(){var t={type:P4.U2,body:{}};this.rSMO(P4.U3,this.quitRes,this),this.sSM(t)},t.prototype.quitRes=function(t){this.apF(HH1.A40,t)},t.prototype.GX44=function(){var t={type:P4.O89,body:{}};this.rSMO(P4.O90,this.GX45,this),this.sSM(t)},t.prototype.GX45=function(t){this.apF(HH1.A33,t)},t.prototype.GS76=function(t){this.apF(HH1.A43,t)},t.prototype.fishPush=function(t){this.apF(HH1.A29,t)},t}(TG80);__reflect(TE74.prototype,"TE74");var TE75=function(){function o(){}return o.FC89=function(){var t=parseInt(TD95.gIV("level")),e=App.CM.gtM(O6.B28),i=O4.getLv();if(e.isTower)return P18.sDP(O3.tr(717)),!0;if(i<t){var s=K18.init.commonDesc1.value;return P18.sDP(M18.format(s,[t])),!1}return e.state?App.CM.gtM(O6.B99).isSpFighting?(P18.sDP(O3.tr(5301)),!1):(App.CM.apF(O6.B28,HH1.A35),!0):(P18.sDP(O3.tr(3205)),!1)},o.FHH98=function(){var t=App.CM.gtM(O6.B28),e=parseInt(TD95.gIV("level")),i=O4.getLv();if(!(t.isTower||i<e||t.isShow))if(1!=t.state||t.isTower){App.CM.gtM(O6.B99).fightSceneType!=I4.A8&&App.VM.close(O7.A82)}else{var s={handler:function(){return o.FC89()},str:O3.tr(4553),ctrlConst:O6.B28};App.VM.open(O7.A82,s)}},o.FJ24=function(){return App.CM.gtM(O6.B28).FJ24()},o.FI28=function(){return App.CM.gtM(O6.B28).FI28()},o.FD80=function(){return App.CM.gtM(O6.B28).FD80()},o.FJ67=function(){for(var t=App.CM.gtM(O6.B28).fishPlayerData,e=1,i=parseInt(TD95.gIV("fishNum")),s=1;s<=i;s++){if(!t[s]){e=Math.ceil(s/4);break}}return e},o}();__reflect(TE75.prototype,"TE75");var CrossFishPlayer=function(t){function e(){return t.call(this)||this}return __extends(e,t),e.prototype.childrenCreated=function(){t.prototype.createChildren.call(this),this.btnJoin.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickJion,this),this.lbStr1.textFlow=M18.HTP.parse(O3.tr(4541)),this.lbStr2.textFlow=M18.HTP.parse(O3.tr(4543)),this.timeBar.slideDuration=0},e.prototype.onClickJion=function(){var t=App.CM.gtM(O6.B28),e=parseInt(TD95.gIV("robNum"));this.playerData.pos==t.pos&&t.fishState==HH14.A3?App.CM.apF(O6.B28,HH1.A7):t.robNum==e?P18.sDP(O3.tr(4555,e)):App.CM.apF(O6.B28,HH1.A37,this.playerData.pos)},e.prototype.setData=function(t,e){var i=this;if(t){switch(this.playerData=t,e){case 1:case 3:this.currentState=D19.A2,App.THH33.aUE(this,"lines",160,92);break;default:this.currentState=D19.A1,App.THH33.aUE(this,"lines",-94,92)}this.bgImg.source=0==t.sex?"v1_img_kfdy_ren02_png":"v1_img_kfdy_ren01_png";var s=M18.FF65(t.power,2);if(this.score.text=s,this.lbName.textFlow=M18.HTP.parse(O3.tr(4554,t.name)),t.cd){this.grpTime.visible=!0;var o=this.getCd();if(0<o){var r=App.CM.gtM(O6.B28);t.pos==r.pos&&r.fishState==HH14.A3?this.btnJoin.label=O3.tr(4926):this.btnJoin.label=O3.tr(4544);var n=N12.gID(t.itemId);this.imgQuality.source=N12.getBox(n.quality),this.imgHead.source=n.icon;var a=parseInt(TD95.gIV("fishTime"));if(this.timeBar.maximum=a,!this.timeHander){var h=this;this.timeBar.value=o,this.timeHander=App.K16.doTimer(1e3,0,function(){var t=i.getCd();t?i.timeBar.value=t:h.ZO5()},this)}}else this.grpTime.visible=!1}else this.grpTime.visible=!1}else this.currentState=D19.A3,App.THH33.rEf(this,"lines")},e.prototype.getCd=function(){var t=P6.getTime(!0);return this.playerData.cd-t},e.prototype.ZO5=function(){this.timeHander&&(App.K16.rBH(this.timeHander),this.grpTime.visible=!1,this.timeHander=null)},e.prototype.close=function(){this.ZO5(),App.THH33.rEf(this,"lines")},e}(eui.Component);__reflect(CrossFishPlayer.prototype,"CrossFishPlayer");var CrossFishRanKingItem=function(e){function t(){var t=e.call(this)||this;return t.addEventListener(egret.Event.REMOVED_FROM_STAGE,t.close,t),t}return __extends(t,e),t.prototype.close=function(){this.myCollection.removeAll()},t.prototype.childrenCreated=function(){e.prototype.createChildren.call(this),this.skinName=ClimbRankingItemSkin,this.initUI()},t.prototype.initUI=function(){this.itemData.dataProvider=this.myCollection=new eui.ArrayCollection,this.itemData.itemRenderer=ItemIcon,this.lbF.textFlow=M18.HTP.parse(O3.tr(4392))},t.prototype.ZJ81=function(t){var e=[];for(var i in t){var s={itemData:{data:N12.gID(t[i].k),ct:t[i].v},isBottom:!1};e.push(s)}this.myCollection.replaceAll(e)},t.prototype.getPlayData=function(t){this.lbName.text=O3.tr(608,t.sName,t.serverName),this.lbIntegral.text=t.climbIntegral+""},t.prototype.dataChanged=function(){var t=App.CM.gtM(O6.B28);if(this.currentState="area",this.data.s==this.data.e){this.currentState="base",this.lbRanking.text=O3.tr(604,this.data.e),this.lbName.text=O3.tr(610),this.lbIntegral.textColor=16707294,this.lbIntegral.text="0";var e=parseInt(this.data.e)-1;t.rankObjData&&t.rankObjData[e]&&(this.lbIntegral.textColor=7716890,this.getPlayData(t.rankObjData[e]))}else this.lbRanking.text=O3.tr(607,this.data.s,this.data.e);this.ZJ81(this.data.rewards)},t}(eui.ItemRenderer);__reflect(CrossFishRanKingItem.prototype,"CrossFishRanKingItem");var CrossFishRecordItem=function(t){function e(){return t.call(this)||this}return __extends(e,t),e.prototype.childrenCreated=function(){t.prototype.createChildren.call(this),this.skinName=CrossFishRecordItemSkin},e.prototype.dataChanged=function(){var t=this.data,e=P6.format(t.time,"yyyy-MM-dd hh:mm:ss");this.lbTime.textFlow=M18.HTP.parse(O3.tr(4527,e));var i,s=N12.gID(t.getId);s&&(i=O5.FB43(s.quality));var o="";if(t.listItem)for(var r in t.listItem){var n=t.listItem[r],a=N12.gID(n.k),h=O5.FB43(a.quality);o+=O3.tr(4766,h,a.name+"*"+n.v)+" "}switch(t.type){case F18.A1:this.lbContent.textFlow=M18.HTP.parse(O3.tr(4589,i,s.name+"*1")+o);break;case F18.A2:this.lbContent.textFlow=M18.HTP.parse(O3.tr(4590)+o);break;case F18.A3:this.lbContent.textFlow=M18.HTP.parse(O3.tr(4591,t.name,i,s.name+"*1",o));break;case F18.A4:this.lbContent.textFlow=M18.HTP.parse(O3.tr(4592,t.name,i,s.name+"*1"));break;case F18.A5:this.lbContent.textFlow=M18.HTP.parse(O3.tr(4593,t.name,i,s.name+"*1"));break;case F18.A6:this.lbContent.textFlow=M18.HTP.parse(O3.tr(4594,t.name,i,s.name+"*1"))}},e}(eui.ItemRenderer);__reflect(CrossFishRecordItem.prototype,"CrossFishRecordItem");var CrossFishRoomItem=function(e){function t(){var t=e.call(this)||this;return t.addEventListener(egret.Event.ADDED_TO_STAGE,t.onAddToStage,t),t.addEventListener(egret.Event.REMOVED_FROM_STAGE,t.onRemoveStage,t),t}return __extends(t,e),t.prototype.onAddToStage=function(){this.btnJoin.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickJoin,this)},t.prototype.onRemoveStage=function(){this.btnJoin.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickJoin,this)},t.prototype.childrenCreated=function(){e.prototype.createChildren.call(this),this.skinName=CrossFishRoomItemSkin},t.prototype.onClickJoin=function(){App.CM.gtM(O6.B28).myRoomNum!=this.data.roomId&&App.CM.apF(O6.B28,HH1.A27,this.data.roomId),App.CM.apF(O6.B28,HH1.A5)},t.prototype.dataChanged=function(){this.btnJoin.label=O3.tr(5791);var t=this.data,e=parseInt(TD95.gIV("fishNum"));this.lbStr1.textFlow=M18.HTP.parse(O3.tr(4533)),this.lbRoom.textFlow=M18.HTP.parse(O3.tr(4529,t.roomId)),this.grpClimax.visible=t.manyFish,t.roomNum<e?this.lbContent.textFlow=M18.HTP.parse(O3.tr(4531,t.roomNum,e)):this.lbContent.textFlow=M18.HTP.parse(O3.tr(4530,t.roomNum,e))},t}(eui.ItemRenderer);__reflect(CrossFishRoomItem.prototype,"CrossFishRoomItem");var CrossFishChangeRoomView=function(s){function t(t,e){var i=s.call(this,t,e)||this;return i.numPage=6,i.nowPage=1,i.skinName=CrossFishChangeRoomSkin,i}return __extends(t,s),t.prototype.initUI=function(){s.prototype.initUI.call(this),this.roomData.dataProvider=this.myCollection=new eui.ArrayCollection,this.roomData.itemRenderer=CrossFishRoomItem,this.laStr1.textFlow=M18.HTP.parse(O3.tr(5790))},t.prototype.open=function(){s.prototype.open.call(this),this.bgMask.addEventListener(egret.TouchEvent.TOUCH_TAP,this.closeSelf,this),this.btnBack.addEventListener(egret.TouchEvent.TOUCH_TAP,this.closeSelf,this),this.btnLeft.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickAlter,this),this.btnRight.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickAlter,this),this.updataUI()},t.prototype.onClickAlter=function(t){switch(t.target.name){case"-":this.btnLeft.filters||this.choosePage(-1);break;case"+":this.btnRight.filters||this.choosePage(1)}},t.prototype.choosePage=function(t){var e=this.src.viewport;e.scrollV+=e.height*t,e.scrollV?this.nowPage=Math.ceil(e.scrollV/e.height)+1:this.nowPage=1,this.lbPages.text=this.nowPage+"/"+this.allPage,this.btnState()},t.prototype.btnState=function(){P16.sGF(this.btnLeft,!this.src.viewport.scrollV),this.btnLeft.enabled=!!this.src.viewport.scrollV,P16.sGF(this.btnRight,this.nowPage==this.allPage),this.btnRight.enabled=this.nowPage!=this.allPage},t.prototype.updataUI=function(){var t=App.CM.gtM(O6.B28);this.lbRanking.textFlow=M18.HTP.parse(O3.tr(4534,t.myRoomNum));var e=P7.copyTab(t.roomList);this.myCollection.replaceAll(e),this.allPage=Math.ceil(this.myCollection.source.length/this.numPage),this.choosePage(0)},t.prototype.closeSelf=function(){App.CM.apF(O6.B28,HH1.A5)},t.prototype.close=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];s.prototype.close.call(this),this.bgMask.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.closeSelf,this),this.btnBack.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.closeSelf,this),this.myCollection.removeAll()},t.prototype.uBM=function(t,e){s.prototype.uBM.call(this,t,e)},t}(BaseEuiView);__reflect(CrossFishChangeRoomView.prototype,"CrossFishChangeRoomView");var CrossFishComingView=function(s){function t(t,e){var i=s.call(this,t,e)||this;return i.skinName=CrossFishComingSkin,i}return __extends(t,s),t.prototype.initUI=function(){s.prototype.initUI.call(this)},t.prototype.open=function(){s.prototype.open.call(this),this.initState(),this.play()},t.prototype.close=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];s.prototype.close.call(this),egret.Tween.removeTweens(this.imgBg),egret.Tween.removeTweens(this.imgFish),egret.Tween.removeTweens(this.imgZi)},t.prototype.initState=function(){this.grpCnt.validateNow(),this.imgBg.x=-200,this.imgBg.alpha=0,this.imgFish.y=40,this.imgFish.alpha=0,this.imgZi.x=296,this.imgZi.alpha=0},t.prototype.play=function(){egret.Tween.get(this.imgBg).to({x:this.imgBg.x+200,alpha:1},P17.A25).wait(P17.A29).to({x:this.imgBg.x-320,alpha:0},P17.A28),egret.Tween.get(this.imgZi).to({x:this.imgZi.x-200,alpha:1},P17.A25).wait(P17.A29).to({x:this.imgZi.x-320,alpha:0},P17.A28),egret.Tween.get(this.imgFish).wait(P17.A26).to({y:this.imgFish.y-10,alpha:1},P17.A27).wait(P17.A29).to({x:this.imgFish.x-320,alpha:0},P17.A28).call(function(){App.CM.apF(O6.B28,HH1.A16)})},t}(BaseEuiView);__reflect(CrossFishComingView.prototype,"CrossFishComingView");var CrossFishRecordView=function(s){function t(t,e){var i=s.call(this,t,e)||this;return i.skinName=CrossFishRecordSkin,i}return __extends(t,s),t.prototype.initUI=function(){s.prototype.initUI.call(this);var t={render:CrossFishRecordItem,gap:5,width:this.listGroup.width,height:this.listGroup.height,arrowScale:1};this.listView=new CommonListBase(t),this.listGroup.addChild(this.listView),this.listView.verticalCenter=0,this.listView.horizontalCenter=0,this.dlg.title=O3.tr(5786)},t.prototype.open=function(){this.dlg.ZM69(this.oCC,this),this.dlg.ZQ14(this.oCC,this),this.listView.open();var t=App.CM.gtM(O6.B28);this.updateUI(t)},t.prototype.oCC=function(){App.CM.apF(O6.B28,HH1.A17)},t.prototype.close=function(){this.listView.close()},t.prototype.updateUI=function(t){var e=P7.copyTab(t.crossFishRecord);this.listView.rfL(e)},t.prototype.uBM=function(t,e){if(s.prototype.uBM.call(this,t,e),t instanceof TE73)switch(e){case P4.I86:this.updateUI(t)}},t}(BaseEuiView);__reflect(CrossFishRecordView.prototype,"CrossFishRecordView");var CrossFishResultView=function(s){function t(t,e){var i=s.call(this,t,e)||this;return i.closeCD=5,i.skinName=CrossFishResultSkin,i}return __extends(t,s),t.prototype.initUI=function(){s.prototype.initUI.call(this),this.dgRewards.dataProvider=this.rewardsCollection=new eui.ArrayCollection,this.dgRewards.itemRenderer=ItemIcon},t.prototype.open=function(t){this.params=t,P5.sIs(this.params.ob),this.bgMask.addEventListener(egret.TouchEvent.TOUCH_TAP,this.closeSelf,this),this.btnConfirm.addEventListener(egret.TouchEvent.TOUCH_TAP,this.closeSelf,this),this.updateViews()},t.prototype.close=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];s.prototype.close.call(this),this.bRegSkipTimer=!1,this.bgMask.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.closeSelf,this),this.btnConfirm.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.closeSelf,this),App.K16.remove(this.ZU23,this),this.params=null,this.rewardsCollection.removeAll(),this.closeCD=null},t.prototype.updateViews=function(){this.ZJ83(),this.ZU24()},t.prototype.ZJ83=function(){this.closeCD=5,this.ZU23(),this.bRegSkipTimer||(this.bRegSkipTimer=!0,App.K16.doTimer(1e3,this.closeCD,this.ZU23,this))},t.prototype.ZU23=function(){this.closeCD--,this.closeCD<=0?this.closeSelf():this.btnConfirm.label="领取奖励("+this.closeCD+")"},t.prototype.ZU24=function(){var t=[];if(this.params&&this.params.ob&&0<this.params.ob.length){var e=this.params.ob;for(var i in e){var s=e[i],o=N12.gID(s.k);if(o){var r={itemData:(this.params.id,{data:o,ct:s.v}),isBottom:!0};t.push(r)}}}this.rewardsCollection.replaceAll(t)},t.prototype.closeSelf=function(){App.CM.apF(O6.B28,HH1.A18)},t}(BaseEuiView);__reflect(CrossFishResultView.prototype,"CrossFishResultView");var CrossFishSumRanKingView=function(s){function t(t,e){var i=s.call(this,t,e)||this;return i.numPage=4,i.nowPage=1,i.skinName=ClimbSumRanKingSkin,i}return __extends(t,s),t.prototype.initUI=function(){s.prototype.initUI.call(this),this.rankingData.dataProvider=this.myCollection=new eui.ArrayCollection,this.rankingData.itemRenderer=CrossFishRanKingItem,this.ZK85(),this.bgImg.source="v1_img_kfdy_paihangzi_png",this.dlg.title=O3.tr(4524)},t.prototype.ZK85=function(){0==App.CM.gtM(O6.B28).w?this.lbStr1.textFlow=M18.HTP.parse(O3.tr(4525)):this.lbStr1.textFlow=M18.HTP.parse(O3.tr(7926))},t.prototype.open=function(){this.dlg.ZM69(this.oCC,this),this.dlg.ZQ14(this.oCC,this),this.dlg.ZQ16(this.onClickHelp,this),this.btnLeft.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickAlter,this),this.btnRight.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickAlter,this),this.updateUI()},t.prototype.onClickHelp=function(){var t=O3.tr(4596),e={title:O3.tr(1831),content:t};App.CM.apF(O6.C18,O10.A24,e)},t.prototype.oCC=function(){App.CM.apF(O6.B28,HH1.A6)},t.prototype.close=function(){this.btnLeft.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickAlter,this),this.btnRight.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickAlter,this),this.objGameDes(),this.myCollection.removeAll()},t.prototype.objGameDes=function(){this.objGroup.removeChildren(),this.objGame&&(this.objGame.destory(),this.objGame=null)},t.prototype.updateUI=function(){var t=App.CM.gtM(O6.B28),e={x:0,y:0,dir:Dir.br,objType:P13.A6};this.objGame||(this.objGame=new FightGameObject,this.objGame.setBaseData(e)),t.rankObjData&&t.rankObjData[0]?(t.rankObjData[0].u.bt=BehaviourType.Stand_d,this.objGame.setData(t.rankObjData[0].u,this.objGroup)):this.objGameDes();var i=TD95.FHH1(t.w);this.myCollection.replaceAll(i),this.allPage=Math.ceil(this.myCollection.source.length/this.numPage);var s=O3.tr(601,t.myRankObjData.nRank);this.lbRanking.textFlow=(new egret.HtmlTextParser).parser(s);var o=O3.tr(602,t.myRankObjData.climbIntegral);this.lbIntegral.textFlow=(new egret.HtmlTextParser).parser(o),this.choosePage(0)},t.prototype.choosePage=function(t){var e=this.src.viewport;e.scrollV+=e.height*t,e.scrollV?this.nowPage=Math.ceil(e.scrollV/e.height)+1:this.nowPage=1,this.lbPages.text=this.nowPage+"/"+this.allPage,this.btnState()},t.prototype.btnState=function(){P16.sGF(this.btnLeft,!this.src.viewport.scrollV),this.btnLeft.enabled=!!this.src.viewport.scrollV,P16.sGF(this.btnRight,this.nowPage==this.allPage),this.btnRight.enabled=this.nowPage!=this.allPage},t.prototype.onClickAlter=function(t){switch(t.target.name){case"-":this.btnLeft.filters||this.choosePage(-1);break;case"+":this.btnRight.filters||this.choosePage(1)}},t.prototype.uBM=function(t,e){if(s.prototype.uBM.call(this,t,e),t instanceof TE73)switch(e){case P4.Q76:this.ZK85(),this.ZK86()}},t.prototype.ZK86=function(){if(this.myCollection&&!(this.myCollection.length<0)){var t=App.CM.gtM(O6.B28),e=TD95.FHH1(t.w);this.myCollection.replaceAll(e)}},t}(BaseEuiView);__reflect(CrossFishSumRanKingView.prototype,"CrossFishSumRanKingView");var CrossFishView=function(s){function t(t,e){var i=s.call(this,t,e)||this;return i.skinName=CrossFishViewSkin,i}return __extends(t,s),t.prototype.initUI=function(){s.prototype.initUI.call(this),this.dlg.title=O3.tr(4521),this.lbOpenTime.textFlow=M18.HTP.parse(O3.tr(4520,O3.tr(4595))),this.lbRank.textFlow=M18.HTP.parse(O3.tr(4523)),this.btnGo.label=O3.tr(4522)},t.prototype.open=function(){this.dlg.ZM69(this.closeSelf,this),this.lbRank.addEventListener(egret.TouchEvent.TOUCH_TAP,this.openRank,this),this.btnGo.addEventListener(egret.TouchEvent.TOUCH_TAP,this.startGo,this);var t=App.CM.gtM(O6.B28);this.setRed(t)},t.prototype.closeSelf=function(){this.apF(HH1.A42)},t.prototype.openRank=function(){App.CM.apF(O6.B28,HH1.A1)},t.prototype.startGo=function(){App.CM.gtM(O6.B82);var t=App.CM.gtM(O6.B43).serOpenDay+1,e=parseInt(TD95.gIV("openDay"));t<e?P18.sDP(O3.tr(5055,e)):TG84.FM16(ViewMapingIndex.CrossFish)},t.prototype.close=function(){s.prototype.close.call(this),this.lbRank.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.openRank,this),this.btnGo.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.startGo,this)},t.prototype.setRed=function(t){this.btnGo.imgNew.visible=1==t.state},t.prototype.uBM=function(t,e){if(s.prototype.uBM.call(this,t,e),t instanceof TE73)switch(e){case P4.Q76:this.setRed(t)}},t}(BaseEuiView);__reflect(CrossFishView.prototype,"CrossFishView");var CrossFishFisherVo=function(){function t(t){this.updateData(t)}return t.prototype.updateData=function(t){this.sex=null!=t.g?t.g:this.sex,this.name=null!=t.n?t.n:this.name,this.power=null!=t.s?t.s:this.power,this.pos=null!=t.p?t.p:this.pos,this.itemId=null!=t.f?t.f:this.itemId,null!=t.cd&&(this.cd=P6.getTime(!0)+t.cd)},t}();__reflect(CrossFishFisherVo.prototype,"CrossFishFisherVo");var CrossFishRecordVo=function(){function t(t){this.updateData(t)}return t.prototype.updateData=function(t){this.time=null!=t.t?t.t:this.time,this.type=null!=t.c?t.c:this.type,this.name=null!=t.p?t.p:this.name,this.getId=null!=t.f?t.f:this.getId,this.listItem=null!=t.o?t.o:this.listItem},t}();__reflect(CrossFishRecordVo.prototype,"CrossFishRecordVo");var CrossLeague,CrossFishRoomVo=function(){function t(t){this.updateData(t)}return t.prototype.updateData=function(t){this.roomId=null!=t.rid?t.rid:this.roomId,this.roomNum=null!=t.n?t.n:this.roomNum,this.manyFish=null!=t.sf?!!t.sf:this.manyFish},t}();__reflect(CrossFishRoomVo.prototype,"CrossFishRoomVo"),function(t){var e=function(){function c(){}return c.FK35=function(t){var e=t.crossmatch_init,i=t.crossmatch_rank,s=t.crossmatch_ranktype,o=t.crossmatch_kingreward;for(var r in c.openLv=parseInt(e.openLv.value),c.openDate=parseInt(e.openDate.value),c.adoreReward=P7.str2kv(e.adoreReward.value),c.challengeTime=parseInt(e.challengeTime.value),c.challengeRestore=parseInt(e.challengeRestore.value),c.challengeCost=P7.str2kv1(e.challengeCost.value),c.challengeBuyLimte=parseInt(e.challengeBuyLimte.value),c.rankingListShow=parseInt(e.rankingListShow.value),c.animationTime=parseInt(e.animationTime.value),c.waitTime=parseInt(e.waitTime.value),i)c.rank.push(i[r]);for(var r in c.rank.sort(function(t,e){return t.id-e.id}),o){var n=o[r],a=n.ranking.split(","),h=a[0],p=a[1],l=P7.str2kv(n.reward);c.kingreward.push({b:parseInt(h),e:p?parseInt(p):void 0,rw:l})}c.ranktype=s},c.isOpen=function(){var t=O4.getLv(),e=App.CM.gtM(O6.B43);return c.openLv<=t&&e.serOpenDay+1>=c.openDate},c.FJ68=function(t,e){return c.ranktype[t].img},c.FD81=function(t){var e;return((e={})[1]="com_kafubaiyin_png",e[2]="com_kafuhuanjin_png",e[3]="com_kafubojin_png",e[4]="com_kafuzuanshi_png",e[5]="com_kafuwangzhe_png",e)[t]||""},c.FG83=function(t){for(var e=0,i=c.kingreward;e<i.length;e++){var s=i[e];if(t>=s.b&&t<=(s.e?s.e:s.b))return s.rw}return[]},c.openLv=4095,c.openDate=4095,c.adoreReward=[],c.challengeTime=0,c.challengeRestore=0,c.challengeBuyLimte=0,c.animationTime=1,c.waitTime=1,c.kingreward=[],c.rankingListShow=100,c.rank=[],c.ranktype={},c}();t.Config=e,__reflect(e.prototype,"CrossLeague.Config")}(CrossLeague||(CrossLeague={})),function(t){var e=function(){function t(){}return t.OPEN_WORSHIP=10001,t.CROSS_ARENA_LOAD_REQ=20001,t.CROSS_ARENA_LOAD_RES=20002,t.CROSS_ARENA_LOAD_RANK_REQ=20003,t.CROSS_ARENA_LOAD_RANK_RES=20004,t.CROSS_ARENA_MATCH_REQ=20005,t.CROSS_ARENA_MATCH_RES=20006,t.CROSS_ARENA_BUY_NUM_REQ=20007,t.CROSS_ARENA_BUY_NUM_RES=20008,t.CROSS_ARENA_SEARCH_REQ=20009,t.CROSS_ARENA_SEARCH_RET_REQ=20010,t.CROSS_ARENA_RANK_PUSH=20011,t.CROSS_ARENA_STATE_REQ=20012,t.CROSS_ARENA_STATE_RES=20013,t.CROSS_ARENA_SETTLE_PUSH=20014,t.CROSS_ARENA_FIRST_ACTOR_REQ=20015,t.CROSS_ARENA_FIRST_ACTOR_RES=20016,t.CROSS_ARENA_FIRST_ACTOR_PUSH=20017,t.CROSS_ARENA_WORSHIP_REQ=20018,t.CROSS_ARENA_WORSHIP_RES=20019,t.CROSS_ARENA_LOAD_HISTORY_REQ=20020,t.CROSS_ARENA_LOAD_HISTORY_RES=20021,t.CROSS_ARENA_RESTORE_REQ=20022,t.CROSS_ARENA_RESTORE_RES=20023,t}();t.Const=e,__reflect(e.prototype,"CrossLeague.Const")}(CrossLeague||(CrossLeague={})),function(r){var t=function(s){function t(){var t=s.call(this)||this;App.VM.register(O7.A13,"CrossLeagueHistoryMainView",t,K17.UI_Main_TOP),App.VM.register(O7.C87,"CrossLeagueRankView",t,K17.UI_Popup),App.VM.register(O7.B14,"CrossLeagueWorshipView",t,K17.UI_Popup),App.VM.register(O7.A72,"CrossLeagueBuyTipView",t,K17.UI_Popup),App.VM.register(O7.A18,"CrossLeagueFightResultView",t,K17.UI_Main_TOP);var e=new r.Model(t);e.aLV(O7.I63),e.aLV(O7.I39),e.aLV(O7.HH22),e.aLV(O7.G29),e.aLV(O7.B13),e.aLV(O7.A13),e.aLV(O7.C87),e.aLV(O7.C21),e.aLV(O7.B14);var i=t.proxy=new r.Proxy(t);return t.rgF(r.Const.CROSS_ARENA_STATE_REQ,i.loadState,i),t.rgF(r.Const.CROSS_ARENA_STATE_RES,t.GU20,t),t.rgF(r.Const.CROSS_ARENA_LOAD_REQ,i.load,i),t.rgF(r.Const.CROSS_ARENA_LOAD_RANK_REQ,i.loadRank,i),t.rgF(r.Const.CROSS_ARENA_LOAD_HISTORY_REQ,i.GO95,i),t.rgF(r.Const.CROSS_ARENA_MATCH_REQ,i.match,i),t.rgF(r.Const.CROSS_ARENA_BUY_NUM_REQ,i.buyCount,i),t.rgF(r.Const.CROSS_ARENA_RESTORE_REQ,i.restore,i),t.rgF(r.Const.CROSS_ARENA_WORSHIP_REQ,i.worship,i),t.rgF(r.Const.OPEN_WORSHIP,t.GO94,t),t}return __extends(t,s),t.prototype.gtM=function(){return s.prototype.gtM.call(this)},t.prototype.GO94=function(){App.VM.open(O7.B14)},t.prototype.GW17=function(){var t=this,e=this.gtM();this.timer&&(App.K16.rBH(this.timer),this.timer=void 0);var i=e.t;e.openState&&r.Config.isOpen()&&0<i&&(this.timer=App.K16.doTimer(1e3*(i+1),1,function(){return t.apF(r.Const.CROSS_ARENA_RESTORE_REQ)},null))},t.prototype.GU20=function(t){200==t.head.state?(this.gtM().update(t.body),0<t.body.st?this.apF(r.Const.CROSS_ARENA_LOAD_REQ):(App.VM.close(O7.HH22),App.VM.close(O7.A13),App.VM.close(O7.C87),App.VM.close(O7.C21),App.VM.close(O7.B14))):App.CM.apF(O6.B87,L10.A4,t)},t.prototype.loadRes=function(t){200==t.head.state?(this.gtM().update(t.body),this.GW17()):App.CM.apF(O6.B87,L10.A4,t)},t.prototype.GX51=function(t){200==t.head.state?(this.gtM().update(t.body),this.GW17()):App.CM.apF(O6.B87,L10.A4,t)},t.prototype.GV62=function(t){200==t.head.state?this.gtM().update(t.body,!0,t.head.protoType,t.body):App.CM.apF(O6.B87,L10.A4,t)},t.prototype.GW18=function(t){200==t.head.state?this.gtM().update(t.body):App.CM.apF(O6.B87,L10.A4,t)},t.prototype.GX52=function(t){200==t.head.state?(this.gtM().update(t.body),P5.sIs(t.body.ob)):App.CM.apF(O6.B87,L10.A4,t)},t.prototype.matchRes=function(t){var s=this;if(200==t.head.state)if(t.body.cd_)P7.fightCoolingCD(t.body.cd_);else{var o=t.body;this.gtM().update({n:o.n,t:o.t}),this.GW17();var e=App.VM.gOV(O7.G29);e&&e.ZG65(o.vo),this.ZT94(O6.B99,N1.A5,!1),App.K16.doTimer(1e3*(r.Config.animationTime+r.Config.waitTime),1,function(){App.CM.apF(O6.B99,N1.A11,o.frst,{extra:{g:o.g},star:o.s,rewards:o.ob,needResult:!0,type:P15.A25},function(t,e){s.ZT94(O6.B99,N1.A5),App.VM.open(O7.HH22,O7.G29);var i=App.VM.gOV(O7.G29);i&&i.stopAnimation(),s.gtM().update({g2:o.g2,g:o.g,s:o.s})},s)},null)}else App.CM.apF(O6.B87,L10.A4,t)},t.prototype.GO95=function(t){200==t.head.state?this.gtM().update(t.body,!0,t.head.protoType,t.body):App.CM.apF(O6.B87,L10.A4,t)},t}(TE11);r.Controller=t,__reflect(t.prototype,"CrossLeague.Controller")}(CrossLeague||(CrossLeague={})),function(e){var t=function(i){function t(t){var e=i.call(this,t)||this;return e.st=4,e.g=0,e.g2=0,e.s=0,e.w=0,e.ld=0,e.n=0,e.bn=0,e.r=-1,e.cd=0,e.t=0,e}return __extends(t,i),t.prototype.update=function(t,e){void 0===e&&(e=!0);for(var i=[],s=2;s<arguments.length;s++)i[s-2]=arguments[s];this.st=P7.getValue(t.st,this.st),this.r=P7.getValue(t.r,this.r),this.g=P7.getValue(t.g,this.g),this.s=P7.getValue(t.s,this.s),this.g2=P7.getValue(t.g2,this.g2),this.w=P7.getValue(t.w,this.w),this.n=P7.getValue(t.n,this.n),this.bn=P7.getValue(t.bn,this.bn),this.fa=t.fa?P7.isEmpty(t.fa)?void 0:t.fa:this.fa,this.ld=P7.getValue(t.ld,this.ld),this.t=P7.getValue(t.t,this.t),this.cd=P7.getValue(t.cd,this.cd),e&&this.notify.apply(this,i)},Object.defineProperty(t.prototype,"openState",{get:function(){return 2==this.st||3==this.st||4==this.st},enumerable:!0,configurable:!0}),t.prototype.notify=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];i.prototype.notifyView.apply(this,[this].concat(t))},t.prototype.canWorship=function(){return!(!this.openState||!e.Config.isOpen())&&(null!=this.fa&&0==this.w)},t.prototype.FL35=function(){var t=0;return t+=this.canWorship()?1:0,2==this.st&&e.Config.isOpen()&&(t+=this.n),t},__decorate([Common.timeRefresh()],t.prototype,"cd",void 0),__decorate([Common.timeRefresh()],t.prototype,"t",void 0),t}(TG79);e.Model=t,__reflect(t.prototype,"CrossLeague.Model")}(CrossLeague||(CrossLeague={})),function(o){var t=function(i){function t(t){var e=i.call(this,t)||this;return e.rSM(P4.R13,t.loadRes,t),e.rSM(P4.HH47,t.GV62,t),e.rSM(P4.D19,t.GO95,t),e.rSM(P4.P40,t.matchRes,t),e.rSM(P4.L25,t.GX52,t),e.rSM(P4.L27,t.GW18,t),e.rSM(P4.L31,t.GX51,t),e.rSM(P4.N20,t.GU20,t),e}return __extends(t,i),t.prototype.loadState=function(){var s=this;return new Promise(function(e,t){var i={type:P4.P37,body:{}};s.rSMO(P4.P38,function(t){s.apF(o.Const.CROSS_ARENA_STATE_RES,t),e("加载跨服联赛")},s),s.sSM(i)})},t.prototype.load=function(){var t={type:P4.R12,body:{}};this.sSM(t)},t.prototype.match=function(){var t={type:P4.P39,body:{}};this.sSM(t)},t.prototype.buyCount=function(){var t={type:P4.L26,body:{}};this.sSM(t)},t.prototype.loadRank=function(t,e){var i={type:P4.HH46,body:{currPage:t,size:e}};this.sSM(i)},t.prototype.GO95=function(t,e){var i={type:P4.D18,body:{currPage:t,size:e}};this.sSM(i)},t.prototype.worship=function(){var t={type:P4.L24,body:{}};this.sSM(t)},t.prototype.restore=function(){var t={type:P4.L30,body:{}};this.sSM(t)},t}(TG80);o.Proxy=t,__reflect(t.prototype,"CrossLeague.Proxy")}(CrossLeague||(CrossLeague={})),function(t){var e=function(){function t(){}return t.FI29=function(t){return O3.tr({1:7450,2:7451,3:7452,4:7453,5:7454}[t])||""},t.FA89=function(t,e){return O3.tr({1:7455,2:7456,3:7457,4:7458,5:7459}[t],M18.FE51(e))},t}();t.Utils=e,__reflect(e.prototype,"CrossLeague.Utils")}(CrossLeague||(CrossLeague={}));var CrossLeagueHistoryRankItemView=function(e){function t(){var t=e.call(this)||this;return t.skinName="CrossLeagueHistoryItemSkin",t.once(egret.Event.REMOVED_FROM_STAGE,t.remove,t),t}return __extends(t,e),t.prototype.childrenCreated=function(){e.prototype.childrenCreated.call(this),this.list.dataProvider=this.dataSource=new eui.ArrayCollection,this.list.itemRenderer=ItemIcon},t.prototype.remove=function(){this.dataSource.removeAll()},t.prototype.dataChanged=function(){e.prototype.dataChanged.call(this),this.imgBg.visible=this.itemIndex%2==0,this.labRank.visible=this.imgRank.visible=!1,this.data.r<=3?(this.imgRank.source=[,"v1_img_number_jt_st","v1_img_number_jt_nd","v1_img_number_jt_rd"][this.data.r]+"_png",this.imgRank.visible=!0):(this.labRank.text=this.data.r+"",this.labRank.visible=!0),this.imgStage.source=CrossLeague.Config.FJ68(this.data.g,this.data.g2),this.labRank.text=this.data.r+"",this.labName.text=this.data.sn?this.data.n+"."+this.data.sn:this.data.n,this.labStar.text=this.data.s+"",this.labStage.textFlow=M18.FG71(CrossLeague.Utils.FA89(this.data.g,this.data.g2)),this.dataSource.source=CrossLeague.Config.FG83(this.data.r).map(function(t){return{itemData:{data:N12.gID(t.k),ct:t.v},isBottom:!1,scale:.6}})},t}(eui.ItemRenderer);__reflect(CrossLeagueHistoryRankItemView.prototype,"CrossLeagueHistoryRankItemView");var CrossLeagueRankItemView=function(e){function t(){var t=e.call(this)||this;return t.skinName="CrossLeagueRankItemSkin",t}return __extends(t,e),t.prototype.dataChanged=function(){e.prototype.dataChanged.call(this),this.imgBg.visible=this.itemIndex%2==0,this.labRank.visible=this.imgRank.visible=!1,this.data.r<=3?(this.imgRank.source=[,"v1_img_number_jt_st","v1_img_number_jt_nd","v1_img_number_jt_rd"][this.data.r]+"_png",this.imgRank.visible=!0):(this.labRank.text=this.data.r+"",this.labRank.visible=!0),this.imgStage.source=CrossLeague.Config.FJ68(this.data.g,this.data.g2),this.labName.text=this.data.n+"."+this.data.sn,this.labStar.text=this.data.s+"",this.labStage.textFlow=M18.FG71(CrossLeague.Utils.FA89(this.data.g,this.data.g2))},t}(eui.ItemRenderer);__reflect(CrossLeagueRankItemView.prototype,"CrossLeagueRankItemView");var CrossLeagueStageItemView=function(e){function t(){var t=e.call(this)||this;return t.skinName="CrossLeagueStageItemSkin",t.once(egret.Event.REMOVED_FROM_STAGE,t.remove,t),t}return __extends(t,e),t.prototype.childrenCreated=function(){e.prototype.childrenCreated.call(this),this.list.dataProvider=this.dataSource=new eui.ArrayCollection,this.list.itemRenderer=ItemIcon},t.prototype.remove=function(){this.dataSource.removeAll()},t.prototype.dataChanged=function(){e.prototype.dataChanged.call(this),this.imgStage.source=this.data.img,this.imgTitle.source=this.data.imgTitle,this.dataSource.source=this.data.reward.map(function(t){return{itemData:{data:N12.gID(t.k),ct:t.v},isBottom:!1,scale:1}})},t}(eui.ItemRenderer);__reflect(CrossLeagueStageItemView.prototype,"CrossLeagueStageItemView");var CrossLeagueBuyTipView=function(s){function t(t,e){var i=s.call(this,t,e)||this;return i.skinName="CrossLeagueBuyTipSkin",i}return __extends(t,s),t.prototype.initUI=function(){s.prototype.initUI.call(this)},t.prototype.initData=function(){s.prototype.initData.call(this),this.lbTitle.text=O3.tr(5870),this.buyBtn.label=O3.tr(5869)},t.prototype.open=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];s.prototype.open.call(this),this.bgMask.addEventListener(egret.TouchEvent.TOUCH_TAP,this.closeSelf,this),this.backBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.closeSelf,this),this.closeBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.closeSelf,this),this.buyBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.buyClick,this),this.GX5(App.CM.gtM(O6.A89)),this.ZN30()},t.prototype.ZN30=function(){},t.prototype.uBM=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];s.prototype.uBM.call(this,t,e),t instanceof CrossLeague.Model&&this.GX5(t),this.ZN30()},t.prototype.GX5=function(t){var e=CrossLeague.Config.challengeCost,i=e.k,s=e.v;P16.FL31(this.grpCost,i,s,{textTemplate:"<font color=#75c01a>$1</font>",lackTextTemplate:"<font color=#d82222>$1</font>"}),this.lbTips.textFlow=O3.tr2(7491,s,1,CrossLeague.Config.challengeBuyLimte-t.bn)},t.prototype.close=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];s.prototype.close.call(this),this.bgMask.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.closeSelf,this),this.closeBtn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.closeSelf,this),this.buyBtn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.buyClick,this)},t.prototype.closeSelf=function(){App.VM.GY64(this)},t.prototype.buyClick=function(){var t=App.CM.gtM(O6.B82),e=App.CM.gtM(O6.A89),i=t.avatarInfo.g,s=CrossLeague.Config.challengeCost;s.k;if(i<s.v)return P7.FA78(),void this.apF(N6.A14);e.bn<CrossLeague.Config.challengeBuyLimte?this.apF(CrossLeague.Const.CROSS_ARENA_BUY_NUM_REQ):P18.sDP(O3.tr(319)),this.closeSelf()},t}(BaseEuiView);__reflect(CrossLeagueBuyTipView.prototype,"CrossLeagueBuyTipView");var CrossLeagueFightResultView=function(s){function t(t,e){var i=s.call(this,t,e)||this;return i.skinName="CrossLeagueFightResultSkin",i}return __extends(t,s),t.prototype.initUI=function(){this.dgRewards.dataProvider=this.rewardsCollection=new eui.ArrayCollection,this.dgRewards.itemRenderer=ItemIcon,this.btnConfirm.addEventListener(egret.TouchEvent.TOUCH_TAP,this.ZQ58,this)},t.prototype.open=function(t,e){this.win=t,this.params=e,this.win?(this.confirmStr=O3.tr(5748),this.closeCD=FightD.RS_CLOSE_CD,this.currentState="win",App.THH32.aUE(this.grpWinDB,"wdsg_jsjm_sl_01",this.grpWinDB.width/2,this.grpWinDB.height/2)):(this.confirmStr=O3.tr(5748),this.closeCD=FightD.DF_CLOSE_CD,this.currentState="lose",App.THH33.aUE(this.grpLossMC,"fail",0,-this.grpLossMC.height/2)),this.validateNow(),this.setTimer(),this.GX5(),this.labTr7512.textFlow=O3.tr2(7512)},t.prototype.close=function(){this.bRegSkipTimer&&App.K16.rBH(this.timer),this.timer=null,this.rewardsCollection.removeAll(),P5.sIs(this.params.rewards),this.params&&!this.params.isNotClose&&this.params.closeCallback&&this.params.closeCallback.call(this.params.closeCallbackObj,!0),this.btnConfirm.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.ZQ58,this),App.THH32.rEf(this.grpWinDB,"wdsg_jsjm_sl_01"),App.THH33.rEf(this.grpLossMC,"fail"),delete this.win,delete this.params,s.prototype.close.call(this)},t.prototype.setTimer=function(){this.bRegSkipTimer||(this.timer=App.K16.doTimer(1e3,this.closeCD,this.ZU23,this)),this.btnConfirm.label=this.confirmStr+"("+this.closeCD+")"},Object.defineProperty(t.prototype,"bRegSkipTimer",{get:function(){return!!this.timer},enumerable:!0,configurable:!0}),t.prototype.ZQ58=function(){App.VM.GY64(this)},t.prototype.ZU23=function(){this.closeCD--,this.closeCD<=0?this.ZQ58():this.btnConfirm.label=this.confirmStr+"("+this.closeCD+")"},t.prototype.updateReward=function(){var s=[],o=!0;P7.FM14()&&(o=!1),this.params&&this.params.rewards&&0<this.params.rewards.length&&this.params.rewards.forEach(function(t){var e=N12.gID(t.k);if(e){var i={itemData:{data:e,ct:t.v},isBottom:o,pack:!1};s.push(i)}}),s.sort(function(t,e){var i=t.itemData.data,s=e.itemData.data;return i.quality==s.quality?i.type==s.type?i.id>s.id?-1:1:1==i.type&&2==s.type?-1:2==i.type&&1==s.type?1:i.type>s.type?-1:1:i.quality>s.quality?-1:1}),this.rewardsCollection.replaceAll(s)},t.prototype.GX5=function(){this.updateStar(),this.updateReward(),this.imgCrossleagueStage1.source=CrossLeague.Config.FJ68(this.params.extra.g)},t.prototype.updateStar=function(){if(this.gStar.visible=0<=this.params.star,0<=this.params.star)for(var t=0;t<this.gStar.numChildren;t++){this.gStar.getChildAt(t).source=t<this.params.star?"v1_img_star_1_png":"v1_img_star_1_hui_png"}},t}(BaseEuiView);__reflect(CrossLeagueFightResultView.prototype,"CrossLeagueFightResultView");var CrossLeagueHistoryMainView=function(s){function t(t,e){var i=s.call(this,t,e)||this;return i.set(O7.A13,O3.tr(7469)).rgS(O7.B13,"CrossLeagueHistoryView",O3.tr(7484)).rgS(O7.C21,"CrossLeagueStageView",O3.tr(7479)),i}return __extends(t,s),Object.defineProperty(t.prototype,"model",{get:function(){return this.controller.gtM()},enumerable:!0,configurable:!0}),t}(BasePanelViewX);__reflect(CrossLeagueHistoryMainView.prototype,"CrossLeagueHistoryMainView");var CrossLeagueHistoryView=function(a){function t(t,e){var i=a.call(this,t,e)||this;i.pageSize=15,i.index=1,i.rankData=[],i.skinName="CrossLeagueHistoryRankSkin";for(var s=CrossLeague.Config.rank[CrossLeague.Config.rank.length-1].ranktype,o=0,r=CrossLeague.Config.rank.length-1;0<=r;r--){var n=CrossLeague.Config.rank[r];n.ranktype===s&&n.rank>o&&(o=n.rank)}for(r=1;r<=10;r++)i.rankData.push({sid:0,aid:0,sn:"",n:O3.tr(610),r:r,g:s,g2:o,s:0});return i}return __extends(t,a),Object.defineProperty(t.prototype,"model",{get:function(){return this.controller.gtM()},enumerable:!0,configurable:!0}),t.prototype.initUI=function(){var t=this;this.labTr7470.textFlow=O3.tr2(7470),this.labTr7471.textFlow=O3.tr2(7471),this.labTr7472.textFlow=O3.tr2(7472),this.labTr7477.textFlow=O3.tr2(7477),this.labTr7533.textFlow=O3.tr2(7533),this.list=new CommonListBase({render:CrossLeagueHistoryRankItemView,gap:0,width:this.gList.width,height:this.gList.height,arrowScale:1}),this.list.ZG4(function(){return t.loadRank()}),this.gList.addChild(this.list)},t.prototype.open=function(){a.prototype.open.call(this),this.list.open(),this.loadRank()},t.prototype.close=function(){this.list.ZG4(null),this.list.close(),a.prototype.close.call(this)},t.prototype.uBM=function(t,e,i){var s=this;t instanceof CrossLeague.Model&&e==P4.D19&&(this.meData=i.me,i.all.forEach(function(t){s.rankData[t.r-1]=t}),this.index=Math.floor(this.rankData.length/this.pageSize),this.GX5())},t.prototype.loadRank=function(){App.CM.apF(O6.A89,CrossLeague.Const.CROSS_ARENA_LOAD_HISTORY_REQ,this.index,this.pageSize)},t.prototype.GX5=function(){this.imgStage.source=CrossLeague.Config.FJ68(this.meData.g),this.labStar.textFlow=O3.tr2(7475,this.meData.s),this.labRank.textFlow=O3.tr2(7476,0<this.meData.r?this.meData.r:O3.tr(7513)),this.labStage.textFlow=M18.FG71(CrossLeague.Utils.FA89(this.meData.g,this.meData.g2)),this.list.rfL(this.rankData)},t.prototype.oCC=function(){App.VM.GY64(this)},t}(BaseEuiView);__reflect(CrossLeagueHistoryView.prototype,"CrossLeagueHistoryView");var CrossLeagueRankView=function(s){function t(t,e){var i=s.call(this,t,e)||this;return i.pageSize=15,i.index=1,i.max=0,i.rankData=[],i.skinName="CrossLeagueRankSkin",CrossLeague.Config.rankingListShow<=20&&(i.pageSize=CrossLeague.Config.rankingListShow),i.max=CrossLeague.Config.rankingListShow,i}return __extends(t,s),Object.defineProperty(t.prototype,"model",{get:function(){return this.controller.gtM()},enumerable:!0,configurable:!0}),t.prototype.initUI=function(){var t=this;this.dlg.title=O3.tr(7486),this.labTr7470.textFlow=O3.tr2(7470),this.labTr7471.textFlow=O3.tr2(7471),this.labTr7472.textFlow=O3.tr2(7472),this.labTr7473.textFlow=O3.tr2(7473),this.labTr7474.textFlow=O3.tr2(7474),this.dlg.ZM69(this.oCC,this),this.dlg.ZQ14(this.oCC,this),this.list=new CommonListBase({render:CrossLeagueRankItemView,gap:0,width:this.gList.width,height:this.gList.height,arrowScale:1}),this.list.ZG4(function(){return t.loadRank()}),this.gList.addChild(this.list)},t.prototype.open=function(){s.prototype.open.call(this),this.list.open(),this.loadRank()},t.prototype.close=function(){this.list.ZG4(null),this.list.close(),s.prototype.close.call(this)},t.prototype.uBM=function(t,e,i){var s=this;t instanceof CrossLeague.Model&&e==P4.HH47&&(this.meData=i.me,i.all.forEach(function(t){s.rankData[t.r-1]=t}),this.index=Math.floor(this.rankData.length/this.pageSize),this.GX5())},t.prototype.loadRank=function(){var t=this.rankData.length;t<this.max&&App.CM.apF(O6.A89,CrossLeague.Const.CROSS_ARENA_LOAD_RANK_REQ,this.index,Math.min(this.max-t,this.pageSize))},t.prototype.GX5=function(){this.imgStage.source=CrossLeague.Config.FJ68(this.meData.g),this.labStar.textFlow=O3.tr2(7475,this.meData.s),this.labRank.textFlow=O3.tr2(7476,0<this.meData.r?this.meData.r:O3.tr(7513)),this.labStage.textFlow=M18.FG71(CrossLeague.Utils.FA89(this.meData.g,this.meData.g2)),this.list.rfL(this.rankData)},t.prototype.oCC=function(){App.VM.GY64(this)},t}(BaseEuiView);__reflect(CrossLeagueRankView.prototype,"CrossLeagueRankView");var CrossLeagueStageView=function(s){function t(t,e){var i=s.call(this,t,e)||this;return i.skinName="CrossLeagueStageSkin",i}return __extends(t,s),Object.defineProperty(t.prototype,"model",{get:function(){return this.controller.gtM()},enumerable:!0,configurable:!0}),t.prototype.initUI=function(){this.GX5(this.model),this.labTr7474.textFlow=O3.tr2(7474),this.list=new CommonListBase({render:CrossLeagueStageItemView,gap:10,width:this.gpList.width,height:this.gpList.height,arrowScale:1}),this.gpList.addChild(this.list)},t.prototype.open=function(){s.prototype.open.call(this),this.updateList(),this.GX5(this.model)},t.prototype.close=function(){s.prototype.close.call(this)},t.prototype.uBM=function(t){t instanceof CrossLeague.Model&&this.GX5(t)},t.prototype.updateList=function(){for(var t=CrossLeague.Config.ranktype,e=[],i=Reincarnate.Utils.mapkeyMax(t);0<i;i--){var s=t[i];e.push({imgTitle:CrossLeague.Config.FD81(i),img:s.img,reward:P7.str2kv(s.weekreward)})}this.list.rfL(e)},t.prototype.GX5=function(t){this.labStage.textFlow=M18.FG71(CrossLeague.Utils.FA89(t.g,t.g2)),this.imgStage.source=CrossLeague.Config.ranktype[t.g]?CrossLeague.Config.ranktype[t.g].img:"",this.labStar.textFlow=O3.tr2(7475,t.s)},t}(BaseEuiView);__reflect(CrossLeagueStageView.prototype,"CrossLeagueStageView");var CrossLeagueView=function(s){function t(t,e){var i=s.call(this,t,e)||this;return i.skinName="CrossLeagueSkin",i}return __extends(t,s),Object.defineProperty(t.prototype,"model",{get:function(){return App.CM.gtM(O6.A89)},enumerable:!0,configurable:!0}),t.prototype.open=function(){var t=this;s.prototype.open.call(this),this.stopAnimation(),this.timer=App.K16.doTimer(1e3,0,function(){return t.updateState(t.model)},this),this.GX5(this.model)},t.prototype.close=function(){this.btnBuy.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickBuy,this),this.btnRank.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickRank,this),this.btnHistory.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.ZR74,this),this.btnWorship.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.ZR75,this),this.btnMatch.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickMatch,this),App.K16.rBH(this.timer),s.prototype.close.call(this)},t.prototype.initUI=function(){this.labTr7461.textFlow=O3.tr2(7461),this.btnBuy.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickBuy,this),this.btnRank.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickRank,this),this.btnHistory.addEventListener(egret.TouchEvent.TOUCH_TAP,this.ZR74,this),this.btnWorship.addEventListener(egret.TouchEvent.TOUCH_TAP,this.ZR75,this),this.btnMatch.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickMatch,this),this.btnMatch.label=O3.tr(7467)},t.prototype.uBM=function(t,e){s.prototype.uBM.call(this,t),t instanceof CrossLeague.Model&&this.GX5(t)},t.prototype.updateCount=function(t){this.labCount.textFlow=O3.tr2(7464,t.n,CrossLeague.Config.challengeTime)},t.prototype.GX5=function(t){this.labStage2.textFlow=M18.FG71(CrossLeague.Utils.FA89(t.g,t.g2)),this.labStage.textFlow=O3.tr2(7466,CrossLeague.Utils.FA89(t.g,t.g2)),this.imgStage.source=CrossLeague.Config.FJ68(t.g,t.g2),this.labMyName.text=O4.getName();var e=App.CM.gtM(O6.B82);this.imgMe.source=TG39.FHH84(e.avatarInfo.c,e.avatarInfo.ge),this.btnMatch.touchEnabled=2==t.st,this.btnMatch.bgStr=this.btnMatch.touchEnabled?"v1_btn_yellow_1_png":"v1_btn_greenh_1a_png",this.updateState(t),this.updateStar(t),this.btnWorship.imgNew.visible=t.canWorship(),this.btnMatch.imgNew.visible=2==t.st&&0<t.n},t.prototype.updateStar=function(t){var e=t.s;this.labStars.visible=this.labStars.includeInLayout=3<e,this.labStars.text=e+"";for(var i=1;i<this.gStar.numChildren;i++){var s=this.gStar.getChildAt(i);s.source=i<=e?"v1_img_star_1_png":"v1_img_star_1_hui_png",s.visible=s.includeInLayout=!(3<e)||i<=1}},t.prototype.updateState=function(t){this.labCount.includeInLayout=this.labCount.visible=this.labState.includeInLayout=this.labState.visible=this.btnBuy.includeInLayout=this.btnBuy.visible=!1,4==t.st?(this.labState.includeInLayout=this.labState.visible=!0,this.labState.textFlow=O3.tr2(7462,P6.FJ11(1e3*t.cd,11))):3==t.st?(this.labState.includeInLayout=this.labState.visible=!0,this.labState.textFlow=O3.tr2(7463,P6.FJ11(1e3*t.cd,11))):2==t.st&&(this.labCount.includeInLayout=this.labCount.visible=!0,this.updateCount(t),t.n>=CrossLeague.Config.challengeTime||(this.btnBuy.includeInLayout=this.btnBuy.visible=this.labState.includeInLayout=this.labState.visible=!0,this.labState.textFlow=O3.tr2(7465,P6.FJ11(1e3*t.t,11))))},t.prototype.ZD91=function(){this.labFightCountdown.textFlow=O3.tr2(7460,this.enterCountdown),this.enterCountdown-=1},t.prototype.ZG65=function(t){var e=this;this.labFightCountdown.visible=!0,this.enterCountdown=Math.ceil(CrossLeague.Config.animationTime+CrossLeague.Config.waitTime),this.ZD91(),App.K16.doTimer(1e3,this.enterCountdown,this.ZD91,this);var i=CrossLeague.Config.animationTime/10*1e3,s=egret.Tween.get(this.imgEnemy1);this.imgEnemy1.scaleX=this.imgEnemy1.scaleY=.8;for(var o=0;o<10;o++){var r=TG39.FHH84(App.TG81.randInt(1,3),.5<Math.random()?1:0);s.set({source:r}).wait(i)}s.set({source:TG39.FHH84(t.c,t.ge)}).call(function(){e.labEnemyName.text=t.n,e.gEnemyStage.visible=!0,e.labEnemyStage.textFlow=M18.FG71(CrossLeague.Utils.FA89(t.g,t.g2))})},t.prototype.stopAnimation=function(){egret.Tween.removeTweens(this.imgEnemy1),this.imgEnemy1.source="com_kafujianying_png",this.imgEnemy1.scaleX=this.imgEnemy1.scaleY=1,this.labFightCountdown.visible=!1,this.labEnemyName.text="",this.labEnemyName.text="???",this.gEnemyStage.visible=!1},t.prototype.onClickMatch=function(){var t=this.model;0<t.n?this.aCF(O6.A89,CrossLeague.Const.CROSS_ARENA_MATCH_REQ):t.bn<CrossLeague.Config.challengeBuyLimte?this.onClickBuy():P18.sDP(O3.tr(7493))},t.prototype.onClickBuy=function(){var t=this.model.bn;t<CrossLeague.Config.challengeBuyLimte?App.VM.open(O7.A72):P18.sDP(O3.tr(7492,t))},t.prototype.onClickRank=function(){App.VM.open(O7.C87)},t.prototype.ZR74=function(){App.VM.open(O7.A13)},t.prototype.ZR75=function(){App.CM.apF(O6.A89,CrossLeague.Const.OPEN_WORSHIP)},t}(BaseEuiView);__reflect(CrossLeagueView.prototype,"CrossLeagueView");var CrossLeagueWorshipView=function(s){function t(t,e){var i=s.call(this,t,e)||this;return i.skinName="CrossLeagueWorshipSkin",i}return __extends(t,s),Object.defineProperty(t.prototype,"model",{get:function(){return this.controller.gtM()},enumerable:!0,configurable:!0}),t.prototype.initUI=function(){this.labTr7480.textFlow=O3.tr2(7480),this.dlg.title=O3.tr(7481),this.dlg.ZM69(this.oCC,this),this.dlg.ZQ14(this.oCC,this),this.dlg.setOKHandler(this.onClickOk,this,!1),this.dgReward.dataProvider=this.dataSource=new eui.ArrayCollection,this.dgReward.itemRenderer=ItemIcon,this.GX5(this.model)},t.prototype.open=function(){s.prototype.open.call(this),this.GX5(this.model)},t.prototype.uBM=function(t){t instanceof CrossLeague.Model&&this.GX5(t)},t.prototype.close=function(){this.dataSource.removeAll(),this.removeAvatar(),s.prototype.close.call(this)},t.prototype.onClickOk=function(){this.model.w?console.log("已经膜拜过了"):this.aCF(O6.A89,CrossLeague.Const.CROSS_ARENA_WORSHIP_REQ)},t.prototype.oCC=function(){App.VM.GY64(this)},t.prototype.GY15=function(t){this.removeAvatar();var e={x:0,y:0,dir:Dir.br,objType:P13.A6};this.objModel=new FightGameObject,this.objModel.action=Action.Stand,this.objModel.setBaseData(e),t.bt=BehaviourType.Stand_d,this.objModel.setData(t,this.objGroup)},t.prototype.removeAvatar=function(){this.objGroup.removeChildren(),this.objModel&&(this.objModel.destory(),this.objModel=null)},t.prototype.GX5=function(t){var e=t.canWorship();if(this.dlg.strBtnOK=!t.fa||e?O3.tr(7481):O3.tr(7494),this.dlg.setOKEnable(e),this.imgNone.visible=!t.fa,t.fa){this.labName.text=t.fa.n,this.labTime.textFlow=O3.tr2(7482,P6.FJ11(t.ld,12));var i=P7.copyTab(t.fa);delete i.n,this.GY15(i)}else this.labName.text="",this.labTime.text="",this.removeAvatar();this.dataSource.source=CrossLeague.Config.adoreReward.map(function(t){return{itemData:{data:N12.gID(t.k),ct:t.v},isBottom:!1,scale:1}})},t}(BaseEuiView);__reflect(CrossLeagueWorshipView.prototype,"CrossLeagueWorshipView");var TD96=function(){function t(){}return t.FK35=function(t){this.init=t.crossteam_init,this.betsReward=t.crossteam_betsreward,this.cheer=t.crossteam_cheer,this.shop=t.crossteam_shop,this.betsRewardData=this.FC90(),this.setBaseData()},t.setBaseData=function(){if(this.init){for(var t=1;t<=6;t++){var e=new CrossTeamPreviewVo,i=new CrossTeamPreviewVo,s=void 0,o=void 0;switch(i.index=t,i.num=7599+t,i.itemData=[],e.index=t,e.num=7599+t,e.itemData=[],t){case 1:s=M18.FL28(this.gIV("top1Reward"),";",":"),e.source=N18.imgjump[this.gIV("top1Res")].img,o=M18.FL28(this.gIV("top1RewardSpe"),";",":"),i.source=N18.imgjump[this.gIV("top1ResSpe")].img;break;case 2:s=M18.FL28(this.gIV("top2Reward"),";",":"),o=M18.FL28(this.gIV("top2RewardSpe"),";",":"),e.source=N18.imgjump[this.gIV("top2Res")].img;break;case 3:s=M18.FL28(this.gIV("top4Reward"),";",":"),o=M18.FL28(this.gIV("top4RewardSpe"),";",":"),e.source=N18.imgjump[this.gIV("top4Res")].img;break;case 4:s=M18.FL28(this.gIV("top8Reward"),";",":"),o=M18.FL28(this.gIV("top8RewardSpe"),";",":");break;case 5:s=M18.FL28(this.gIV("top16Reward"),";",":"),o=M18.FL28(this.gIV("top16RewardSpe"),";",":");break;case 6:s=M18.FL28(this.gIV("top32Reward"),";",":"),o=M18.FL28(this.gIV("top32RewardSpe"),";",":")}for(var r in s){var n=parseInt(s[r][0]),a=parseInt(s[r][1]),h={itemData:{data:N12.gID(n),ct:a},isBottom:!1};e.itemData.push(h)}for(var r in o){n=parseInt(o[r][0]),a=parseInt(o[r][1]);var p={itemData:{data:N12.gID(n),ct:a},isBottom:!1};i.itemData.push(p)}this.crossTeamPreviewData[1].push(e),this.crossTeamPreviewData[2].push(i)}this.teamNumber=this.FE59("teamNumber"),this.cheerLimit=this.FE59("cheerLimit"),this.recePoint=this.gIV("recePoint");var l=this.gIV("teamPower").split(",");this.teamPower.min=parseInt(l[0]),this.teamPower.max=parseInt(l[1]),l=this.gIV("teamName").split(","),this.teamName.min=parseInt(l[0]),this.teamName.max=parseInt(l[1]),l=this.gIV("quaBuyCost").split(":"),this.quaBuyCost=new avatar.AttribVo,this.quaBuyCost.k=parseInt(l[0]),this.quaBuyCost.v=parseInt(l[1]),l=this.gIV("teamCost").split(":"),this.teamCost=new avatar.AttribVo,this.teamCost.k=parseInt(l[0]),this.teamCost.v=parseInt(l[1]);var c=0;for(var r in this.cheer)c=this.cheer[r].id;for(t=1;t<=c;t++){var u={};u.id=this.cheer[t].id,u.attr=this.cheer[t].attr,u.type=this.cheer[t].type;var d=this.cheer[t].cost.split(":");switch(u.cost={k:parseInt(d[0]),v:parseInt(d[1])},this.cheer[t].type){case 1:u.name=O3.tr(7312);break;case 2:u.name=O3.tr(7313);break;case 3:u.name=O3.tr(7314)}var v=new CrossTeamTypeVo(u);this.crossTeamTypeData.push(v)}for(var r in this.shop)1==this.shop[r].type?this.listShop1[r]=new CrossTeamShopVo(this.shop[r]):this.listShop2[r]=new CrossTeamShopVo(this.shop[r])}},t.gIV=function(t){var e="";return this.init?e=this.init[t].value:e},t.FC90=function(){var t=[];if(!this.betsReward)return t;for(var e in this.betsReward){var i=M18.FL28(this.betsReward[e].win,";",":"),s=M18.FL28(this.betsReward[e].lose,";",":"),o=M18.FL28(this.betsReward[e].cost,":"),r=void 0;switch(this.betsReward[e].type){case 1:r=7315;break;case 2:r=7316;break;case 3:r=7317}var n=new CrossTeamBetsVo({id:parseInt(e),cost:o,win:i,lose:s,name:O3.tr(r)});t.push(n)}return t},t.FE59=function(t){var e;return this.init?e=parseInt(this.init[t].value):e},t.crossTeamPreviewData={1:[],2:[]},t.teamPower={},t.teamName={},t.crossTeamTypeData=[],t.listShop1={},t.listShop2={},t}();__reflect(TD96.prototype,"TD96");var HH17=function(){function t(){}return t.A18=10001,t.A19=10002,t.A65=10003,t.A72=10004,t.A73=10005,t.A76=10006,t.A68=10007,t.A69=10008,t.A45=10009,t.A46=10010,t.A20=10011,t.A21=10012,t.A22=10013,t.A23=10014,t.A66=10015,t.A67=10016,t.A34=10017,t.A35=10018,t.A47=10019,t.A48=10020,t.A24=10021,t.A25=10022,t.A10=10023,t.A11=10024,t.A49=10025,t.A50=10026,t.A1=10027,t.A2=10028,t.A3=10029,t.A4=10030,t.A26=10031,t.A27=10032,t.A36=10033,t.A37=10034,t.A38=10035,t.A39=10036,t.A58=10037,t.A59=10038,t.A28=10039,t.A29=10040,t.A7=10041,t.A8=10042,t.A12=10043,t.A13=10044,t.A51=10045,t.A52=10046,t.A60=10047,t.A61=10048,t.A70=10049,t.A40=10050,t.A41=10051,t.A71=10052,t.A53=11001,t.A42=11002,t.A75=11003,t.A74=11004,t.A62=11005,t.A54=11006,t.A63=11007,t.A55=11008,t.A30=11009,t.A14=11010,t.A43=11011,t.A31=11012,t.A32=11013,t.A15=11014,t.A6=11015,t.A5=11016,t.A16=11017,t.A9=11018,t.A56=11019,t.A44=11020,t.A33=11021,t.A17=11022,t.A64=11023,t.A57=11024,t}();__reflect(HH17.prototype,"HH17");var A17=function(){function t(){}return t.A3=0,t.A2=1,t.A1=2,t}();__reflect(A17.prototype,"A17");var C5=function(){function t(){}return t.A7=-1,t.A5=0,t.A1=1,t.A2=2,t.A6=3,t.A3=4,t.A4=5,t}();__reflect(C5.prototype,"C5");var A6=function(){function t(){}return t.A1=0,t.A3=1,t.A4=2,t.A2=3,t}();__reflect(A6.prototype,"A6");var A9=function(){function t(){}return t.A1=0,t.A2=1,t}();__reflect(A9.prototype,"A9");var A18=function(){function t(){}return t.A1=1,t.A2=2,t}();__reflect(A18.prototype,"A18");var B14=function(){function t(){}return t.A2=1,t.A1=1,t.A3=3,t}();__reflect(B14.prototype,"B14");var TB80=function(i){function t(){var t=i.call(this)||this;App.VM.register(O7.D68,"CrossTeamStakeView",t,K17.UI_Main_TOP),t.rgF(HH17.A53,function(){App.VM.open(O7.D68)},t),t.rgF(HH17.A42,function(){App.VM.close(O7.D68)},t),App.VM.register(O7.HH81,"CrossTeamView",t,K17.UI_Main_TOP),t.rgF(HH17.A75,function(){App.VM.open(O7.HH81)},t),t.rgF(HH17.A74,function(){App.VM.close(O7.HH81)},t),App.VM.register(O7.E56,"CrossTeamSignView",t,K17.UI_Main_TOP),t.rgF(HH17.A62,function(){App.VM.open(O7.E56)},t),t.rgF(HH17.A54,function(){App.VM.close(O7.E56)},t),App.VM.register(O7.E57,"CrossTeamShopView",t,K17.UI_Main_TOP),t.rgF(HH17.A63,function(){App.VM.open(O7.E57)},t),t.rgF(HH17.A55,function(){App.VM.close(O7.E57)},t),App.VM.register(O7.C15,"CrossTeamPreviewView",t,K17.UI_Main_TOP),t.rgF(HH17.A30,function(){App.VM.open(O7.C15)},t),t.rgF(HH17.A14,function(){App.VM.close(O7.C15)},t),App.VM.register(O7.C86,"CrossTeamMyTeamView",t,K17.UI_Main_TOP),t.rgF(HH17.A43,function(){App.VM.open(O7.C86)},t),t.rgF(HH17.A31,function(){App.VM.close(O7.C86)},t),App.VM.register(O7.C16,"CrossTeamInspireView",t,K17.UI_Main_TOP),t.rgF(HH17.A32,function(){App.VM.open(O7.C16)},t),t.rgF(HH17.A15,function(){App.VM.close(O7.C16)},t),App.VM.register(O7.A71,"CrossTeamCreateTeamView",t,K17.UI_Main_TOP),t.rgF(HH17.A6,function(){App.VM.open(O7.A71)},t),t.rgF(HH17.A5,function(){App.VM.close(O7.A71)},t),App.VM.register(O7.B49,"CrossTeamAuditingView",t,K17.UI_Main_TOP),t.rgF(HH17.A16,function(){App.VM.open(O7.B49)},t),t.rgF(HH17.A9,function(){App.VM.close(O7.B49)},t),App.VM.register(O7.D69,"CrossTeamApplyView",t,K17.UI_Main_TOP),t.rgF(HH17.A56,function(){App.VM.open(O7.D69)},t),t.rgF(HH17.A44,function(){App.VM.close(O7.D69)},t),App.VM.register(O7.C17,"CrossTeamShopBuyView",t,K17.UI_Main_TOP),t.rgF(HH17.A33,function(t){App.VM.open(O7.C17,t)},t),t.rgF(HH17.A17,function(){App.VM.close(O7.C17)},t),App.VM.register(O7.E58,"CrossTeamTipsView",t,K17.UI_Tips),t.rgF(HH17.A64,function(t){App.VM.open(O7.E58,t)},t),t.rgF(HH17.A57,function(){App.VM.close(O7.E58)},t);var e=new TE76(t);return e.aLV(O7.I39),e.aLV(O7.I64),e.aLV(O7.I63),e.aLV(O7.I85),e.aLV(O7.HH81),e.aLV(O7.D68),e.aLV(O7.D69),e.aLV(O7.B49),e.aLV(O7.A71),e.aLV(O7.C86),e.aLV(O7.C16),e.aLV(O7.C15),e.aLV(O7.E57),e.aLV(O7.E56),e.aLV(O7.C17),t.proxy=new TE77(t),t.rgF(HH17.A18,t.GU34,t),t.rgF(HH17.A19,t.GU20,t),t.rgF(HH17.A65,t.GY21,t),t.rgF(HH17.A72,t.loadReq,t),t.rgF(HH17.A73,t.loadRes,t),t.rgF(HH17.A76,t.push,t),t.rgF(HH17.A68,t.applyReq,t),t.rgF(HH17.A69,t.applyRes,t),t.rgF(HH17.A45,t.GW6,t),t.rgF(HH17.A46,t.GW7,t),t.rgF(HH17.A20,t.GS72,t),t.rgF(HH17.A21,t.GS73,t),t.rgF(HH17.A22,t.GS77,t),t.rgF(HH17.A23,t.GS78,t),t.rgF(HH17.A66,t.GY44,t),t.rgF(HH17.A67,t.GY45,t),t.rgF(HH17.A34,t.GU55,t),t.rgF(HH17.A35,t.GU56,t),t.rgF(HH17.A47,t.GV98,t),t.rgF(HH17.A48,t.GV99,t),t.rgF(HH17.A24,t.GS68,t),t.rgF(HH17.A25,t.GS69,t),t.rgF(HH17.A10,t.GQ77,t),t.rgF(HH17.A11,t.GQ78,t),t.rgF(HH17.A49,t.GW1,t),t.rgF(HH17.A50,t.GW2,t),t.rgF(HH17.A1,t.GQ79,t),t.rgF(HH17.A2,t.GQ80,t),t.rgF(HH17.A3,t.GU57,t),t.rgF(HH17.A4,t.GU58,t),t.rgF(HH17.A26,t.GS79,t),t.rgF(HH17.A27,t.GS80,t),t.rgF(HH17.A36,t.GU59,t),t.rgF(HH17.A37,t.GU60,t),t.rgF(HH17.A38,t.GU61,t),t.rgF(HH17.A39,t.GU62,t),t.rgF(HH17.A58,t.GX53,t),t.rgF(HH17.A59,t.GX54,t),t.rgF(HH17.A28,t.GS81,t),t.rgF(HH17.A29,t.GS82,t),t.rgF(HH17.A7,t.GO96,t),t.rgF(HH17.A8,t.GO97,t),t.rgF(HH17.A12,t.GQ81,t),t.rgF(HH17.A13,t.GQ82,t),t.rgF(HH17.A51,t.GW19,t),t.rgF(HH17.A52,t.GW20,t),t.rgF(HH17.A60,t.GW96,t),t.rgF(HH17.A61,t.GW97,t),t.rgF(HH17.A70,t.teamPush,t),t.rgF(HH17.A40,t.GU63,t),t.rgF(HH17.A41,t.GU64,t),t.rgF(HH17.A71,t.GU65,t),t}return __extends(t,i),t.prototype.GU34=function(){this.proxy.GU34()},t.prototype.GU20=function(t){if(200==t.head.state){var e=this.gtM();e.setServerData(t.body),0<e.state&&this.loadReq(),e.notify(P4.J15)}else App.CM.apF(O6.B87,L10.A4,t)},t.prototype.GY21=function(t){if(200==t.head.state){var e=this.gtM();e.setServerData(t.body),-1!=e.state?this.loadReq():(this.apF(HH17.A74),this.apF(HH17.A42),this.apF(HH17.A55),this.apF(HH17.A54),this.apF(HH17.A14),this.apF(HH17.A31),this.apF(HH17.A15),this.apF(HH17.A5),this.apF(HH17.A9),this.apF(HH17.A44),this.apF(HH17.A17),e.notify(P4.R9))}else App.CM.apF(O6.B87,L10.A4,t)},t.prototype.push=function(t){if(200==t.head.state){var e=this.gtM();e.setServerData(t.body),e.notify(P4.X54)}else App.CM.apF(O6.B87,L10.A4,t)},t.prototype.loadReq=function(t){void 0===t&&(t=0),this.proxy.loadReq(t)},t.prototype.loadRes=function(t){if(200==t.head.state){var e=this.gtM();e.setServerData(t.body),e.isHaveTeam&&this.GS81(),e.notify(P4.U21)}else App.CM.apF(O6.B87,L10.A4,t)},t.prototype.applyReq=function(t){this.proxy.applyReq(t)},t.prototype.applyRes=function(t){var e=this.gtM();200==t.head.state?(P18.sDP(O3.tr(7308)),e.setMyTeamData(t.body),e.setAuditingData(t.body),this.apF(HH17.A54),this.GU63(),e.notify(P4.S65)):App.CM.apF(O6.B87,L10.A4,t)},t.prototype.GW6=function(t){this.proxy.GW6(t)},t.prototype.GW7=function(t){var e=this.gtM();200==t.head.state?(e.lookState=TA49.LOOK_FIGHT,e.ZN99(t.body),e.notify(P4.N15)):App.CM.apF(O6.B87,L10.A4,t)},t.prototype.GS72=function(t){this.proxy.GS72(t)},t.prototype.GS73=function(t){this.gtM();if(200==t.head.state)if(t.body.cd_)P7.fightCoolingCD(t.body.cd_);else{var e=P7.isGetView(O7.HH81);App.CM.apF(O6.B99,N1.A11,t.body.fr,{needResult:!1,type:P15.A21,isAuto:e},function(t,e){App.CM.apF(O6.B35,HH17.A75),App.CM.apF(O6.B35,HH17.A53)},this)}else App.CM.apF(O6.B87,L10.A4,t)},t.prototype.GS77=function(t){this.proxy.GS77(t)},t.prototype.GS78=function(t){var e=this.gtM();200==t.head.state?(e.lookState=TA49.LOOK_GUESS,e.ZF16(t.body),e.notify(P4.N15)):App.CM.apF(O6.B87,L10.A4,t)},t.prototype.GY44=function(t){var e=this.gtM();this.proxy.GY44(e.chooseId,t)},t.prototype.GY45=function(t){var e=this.gtM();200==t.head.state?(e.ZF16(t.body),e.crossTeamMatchData.s=t.body.go.id,e.notify(P4.R8)):App.CM.apF(O6.B87,L10.A4,t)},t.prototype.GU55=function(){this.proxy.GU55()},t.prototype.GU56=function(t){var e=this.gtM();200==t.head.state?(e.setServerData(t.body),e.notify(P4.L17)):App.CM.apF(O6.B87,L10.A4,t)},t.prototype.GV98=function(t){this.proxy.GV98(t)},t.prototype.GV99=function(t){this.GU55(),200!=t.head.state&&App.CM.apF(O6.B87,L10.A4,t)},t.prototype.GS68=function(t,e){this.proxy.GS68(t,e)},t.prototype.GS69=function(t){var e=this.gtM();200==t.head.state?(e.setMyTeamData(t.body),this.apF(HH17.A5),this.apF(HH17.A43)):App.CM.apF(O6.B87,L10.A4,t)},t.prototype.GQ77=function(t){this.proxy.GQ77(t)},t.prototype.GQ78=function(t){200==t.head.state||App.CM.apF(O6.B87,L10.A4,t)},t.prototype.GW1=function(){this.proxy.GW1()},t.prototype.GW2=function(t){if(200==t.head.state){var e=this.gtM();e.resetMyTeamData(),e.notify()}else App.CM.apF(O6.B87,L10.A4,t)},t.prototype.GQ79=function(){this.proxy.GQ79()},t.prototype.GQ80=function(t){var e=this.gtM();200==t.head.state?(e.setAuditingData(t.body),e.notify(P4.B69)):App.CM.apF(O6.B87,L10.A4,t)},t.prototype.GU57=function(t){this.gtM();this.proxy.GU57(t)},t.prototype.GU58=function(t){var e=this.gtM();200==t.head.state?(P18.sDP(O3.tr(7279)),e.setAuditingData(t.body),e.notify(P4.B71)):App.CM.apF(O6.B87,L10.A4,t)},t.prototype.GS79=function(t){this.proxy.GS79(t)},t.prototype.GS80=function(t){this.GQ79(),200!=t.head.state?App.CM.apF(O6.B87,L10.A4,t):P18.sDP(O3.tr(7284))},t.prototype.GU59=function(t){this.proxy.GU59(t)},t.prototype.GU60=function(t){this.GQ79(),200!=t.head.state?App.CM.apF(O6.B87,L10.A4,t):P18.sDP(O3.tr(7275))},t.prototype.GU61=function(){this.proxy.GU61()},t.prototype.GU62=function(t){var e=this.gtM();if(200==t.head.state)if(t.body.cd_)P7.fightCoolingCD(t.body.cd_);else{e.setServerData(t.body);var i=P7.isGetView(O7.HH81);App.CM.apF(O6.B99,N1.A11,t.body.fr,{needResult:!1,type:P15.A20,isAuto:i},function(t,e){App.CM.apF(O6.B35,HH17.A75)},this)}else App.CM.apF(O6.B87,L10.A4,t)},t.prototype.GX53=function(t){this.proxy.GX53(t)},t.prototype.GX54=function(t){var e=this.gtM();200==t.head.state?(e.setMyTeamData(t.body),this.loadReq(),e.notify(P4.P33)):App.CM.apF(O6.B87,L10.A4,t)},t.prototype.GS81=function(){this.proxy.GS81()},t.prototype.GS82=function(t){var e=this.gtM();200==t.head.state?(e.setMyTeamData(t.body),e.notify(P4.J23)):App.CM.apF(O6.B87,L10.A4,t)},t.prototype.GO96=function(){this.proxy.GO96()},t.prototype.GO97=function(t){var e=this.gtM();200==t.head.state?(e.setServerData(t.body),e.notify(P4.F73)):App.CM.apF(O6.B87,L10.A4,t)},t.prototype.GQ81=function(t){this.proxy.GQ81(t)},t.prototype.GQ82=function(t){var e=this.gtM();200==t.head.state?(e.setServerData(t.body),e.notify(P4.HH45)):App.CM.apF(O6.B87,L10.A4,t)},t.prototype.GW19=function(){this.proxy.GW19()},t.prototype.GW20=function(t){var e=this.gtM();200==t.head.state?(e.setShopData(t.body),e.notify(P4.N17)):App.CM.apF(O6.B87,L10.A4,t)},t.prototype.GW96=function(t,e){this.proxy.GW96(t,e)},t.prototype.GW97=function(t){var e=this.gtM();200==t.head.state?(e.setShopData(t.body),P5.sIs(t.body.ob),e.notify(P4.P35)):App.CM.apF(O6.B87,L10.A4,t)},t.prototype.GU63=function(){this.proxy.GU63()},t.prototype.GU64=function(t){var e=this.gtM();200==t.head.state?(e.setSignData(t.body),e.notify(P4.L23)):App.CM.apF(O6.B87,L10.A4,t)},t.prototype.teamPush=function(t){var e=this.gtM();200==t.head.state?(e.setMyTeamData(t.body),e.setServerData(t.body),e.notify(P4.S66)):App.CM.apF(O6.B87,L10.A4,t)},t.prototype.GU65=function(t){200==t.head.state?this.loadReq():App.CM.apF(O6.B87,L10.A4,t)},t}(TE11);__reflect(TB80.prototype,"TB80");var TE76=function(i){function t(t){var e=i.call(this,t)||this;return e.isHaveTeam=!1,e.auditingRed=!1,e.teamState=0,e.integral=0,e.isFight=!1,e.isFirstShow=!1,e}return __extends(t,i),t.prototype.setShopData=function(t){if(this.myRanking=null!=t.r?t.r:this.myRanking,this.integral=null!=t.c?t.c:this.integral,t.cs)for(var e in t.cs)TD96.listShop1[e].updateData(t.cs[e]);if(t.hs)for(var e in t.hs)TD96.listShop2[e].updateData(t.hs[e]);void 0!==t.cd&&(this.lastShopTime=P6.getTime(!0),this.shopCd=t.cd)},t.prototype.setSignData=function(t){this.signNum||(this.signNum={}),void 0!==t.ln&&(this.signNum[A18.A1]=t.ln),void 0!==t.rn&&(this.signNum[A18.A2]=t.rn)},t.prototype.setServerData=function(t){if(this.state=null!=t.st?t.st:this.state,this.auditingRed=null!=t.rp?!!t.rp:this.auditingRed,this.isFirstShow=null!=t.ev?!!t.ev:this.isFirstShow,null!=t.g&&(this.isHaveTeam=!!t.g),this.isHaveTeam||this.resetMyTeamData(),null!=t.cd&&(this.lastCdTime=P6.getTime(!0),this.actCd=t.cd),t.a&&(null!=this.crossTeamAuditionData?this.crossTeamAuditionData.updateData(t.a):this.crossTeamAuditionData=new CrossTeamAuditionVo(t.a)),t.p&&(null!=this.crossTeamReadyData?this.crossTeamReadyData.updateData(t.p):this.crossTeamReadyData=new CrossTeamReadyVo(t.p)),t.m&&(null!=this.crossTeamMatchData?this.crossTeamMatchData.updateData(t.m):this.crossTeamMatchData=new CrossTeamMatchVo(t.m)),t.tl){for(var e in this.applyData=[],t.tl)this.applyData.push(new CrossTeamApplyVo(t.tl[e]));this.applyData.sort(function(t,e){return t.state!=e.state?t.state-e.state:e.avePower-t.avePower})}this.FL35()},t.prototype.resetMyTeamData=function(){this.teamMemberData=[],this.teamState=null,this.tid=null,this.inspireData=null,this.teamName=null,this.isCanInspire=null,App.CM.apF(O6.B35,HH17.A31)},t.prototype.setMyTeamData=function(t){if(t.pl){for(var e in this.teamMemberData=[],t.pl)this.teamMemberData.push(new CrossTeamPlayerVo(t.pl[e]));0==t.pl.length&&App.CM.apF(O6.B35,HH17.A31)}if(this.teamName=null!=t.tn?t.tn:this.teamName,this.teamState=null!=t.ay?t.ay:this.teamState,this.isCanInspire=null!=t.i?t.i:this.isCanInspire,this.tid=null!=t.tid?t.tid:this.tid,t.ilm){this.inspireData={};for(var i=1;i<=3;i++)this.inspireData[i]=new CrossTeamInspireVo({type:i,lv:0});for(var e in t.ilm)this.inspireData[e].updateData({lv:t.ilm[e]})}},t.prototype.resetAuditingData=function(){this.auditingData=null,this.needPower=null},t.prototype.setAuditingData=function(t){if(t.al)for(var e in this.auditingData=[],t.al)this.auditingData.push(new CrossTeamAuditingVo(t.al[e]));this.needPower=null!=t.ns?t.ns:this.needPower},t.prototype.isShow=function(){return!!TE78.isUnlock()&&(0<this.getSignRed()||1<this.state&&!this.isFirstShow)},t.prototype.FL35=function(){return this.red=0,TE78.isUnlock()&&(3<this.state&&this.crossTeamMatchData&&!this.crossTeamMatchData.s&&!this.isOver()&&this.red++,this.auditingRed&&this.red++),this.red},t.prototype.myTeamOver=function(){var t=!1;if(this.crossTeamMatchData){var e=this.crossTeamMatchData.crossTeamVo;for(var i in e)if(this.tid==e[i].lef||this.tid==e[i].rig){t=!e[i].win||e[i].win==this.tid;break}}return t},t.prototype.isOver=function(){var t=!1;if(this.crossTeamMatchData){var e=this.crossTeamMatchData.crossTeamVo;t=!(31!=e.length||!e[e.length-1].win)}return t},t.prototype.getSignRed=function(){return this.state!=C5.A1||this.isHaveTeam&&this.teamState?0:1},t.prototype.ZN99=function(t){this.crossTeamFightData?this.crossTeamFightData.updateData(t):this.crossTeamFightData=new CrossTeamFightData(t)},t.prototype.ZF16=function(t){this.crossTeamGuessData?this.crossTeamGuessData.updateData(t):this.crossTeamGuessData=new CrossTeamGuessData(t)},t.prototype.getCdTime=function(){var t=P6.getTime(!0)-this.lastCdTime,e=this.actCd-t;return 0<e?e:0},t.prototype.getShopTime=function(){var t=P6.getTime(!0)-this.lastShopTime,e=this.shopCd-t;return 0<e?e:0},t.prototype.notify=function(t){i.prototype.notifyView.call(this,this,t)},t}(TG79);__reflect(TE76.prototype,"TE76");var TE77=function(i){function t(t){var e=i.call(this,t)||this;return e.rSM(P4.R9,e.startPush,e),e.rSM(P4.X54,e.push,e),e.rSM(P4.S66,e.teamPush,e),e.rSM(P4.S67,e.GU65,e),e}return __extends(t,i),t.prototype.GU34=function(){var s=this;return new Promise(function(e,t){var i={type:P4.J14,body:{}};s.rSMO(P4.J15,function(t){s.apF(HH17.A19,t),e("加载三军挂帅状态完成")},s),s.sSM(i)})},t.prototype.startPush=function(t){this.apF(HH17.A65,t)},t.prototype.teamPush=function(t){this.apF(HH17.A70,t)},t.prototype.GU65=function(t){this.apF(HH17.A71,t)},t.prototype.push=function(t){this.apF(HH17.A76,t)},t.prototype.loadReq=function(s){var o=this;return new Promise(function(e,t){var i={type:P4.U20,body:{enter:s}};o.rSMO(P4.U21,function(t){o.apF(HH17.A73,t),e("加载三军挂帅信息完成")},o),o.sSM(i)})},t.prototype.applyReq=function(t){var e={type:P4.S64,body:{group:t}};this.rSMO(P4.S65,this.applyRes,this),this.sSM(e)},t.prototype.applyRes=function(t){this.apF(HH17.A69,t)},t.prototype.GW6=function(t){var e={type:P4.N14,body:{did:t}};this.rSMO(P4.N15,this.GW7,this),this.sSM(e)},t.prototype.GW7=function(t){this.apF(HH17.A46,t)},t.prototype.GS72=function(t){var e={type:P4.J20,body:{fid:t}};this.rSMO(P4.J21,this.GS73,this),this.sSM(e)},t.prototype.GS73=function(t){this.apF(HH17.A21,t)},t.prototype.GS77=function(t){var e={type:P4.J24,body:{did:t}};this.rSMO(P4.J25,this.GS78,this),this.sSM(e)},t.prototype.GS78=function(t){this.apF(HH17.A23,t)},t.prototype.GY44=function(t,e){var i={type:P4.R7,body:{tid:t,grade:e}};this.rSMO(P4.R8,this.GY45,this),this.sSM(i)},t.prototype.GY45=function(t){this.apF(HH17.A67,t)},t.prototype.GU55=function(){var t={type:P4.L16,body:{}};this.rSMO(P4.L17,this.GU56,this),this.sSM(t)},t.prototype.GU56=function(t){this.apF(HH17.A35,t)},t.prototype.GV98=function(t){var e={type:P4.N10,body:{tid:t}};this.rSMO(P4.N11,this.GV99,this),this.sSM(e)},t.prototype.GV99=function(t){this.apF(HH17.A48,t)},t.prototype.GS68=function(t,e){var i={type:P4.J16,body:{name:t,score:e}};this.rSMO(P4.J17,this.GS69,this),this.sSM(i)},t.prototype.GS69=function(t){this.apF(HH17.A25,t)},t.prototype.GQ77=function(t){var e={type:P4.HH42,body:{target:t}};this.rSMO(P4.HH43,this.GQ78,this),this.sSM(e)},t.prototype.GQ78=function(t){this.apF(HH17.A11,t)},t.prototype.GW1=function(){var t={type:P4.N12,body:{}};this.rSMO(P4.N13,this.GW2,this),this.sSM(t)},t.prototype.GW2=function(t){this.apF(HH17.A50,t)},t.prototype.GQ79=function(){var t={type:P4.B68,body:{}};this.rSMO(P4.B69,this.GQ80,this),this.sSM(t)},t.prototype.GQ80=function(t){this.apF(HH17.A2,t)},t.prototype.GU57=function(t){var e={type:P4.B70,body:{score:t}};this.rSMO(P4.B71,this.GU58,this),this.sSM(e)},t.prototype.GU58=function(t){this.apF(HH17.A4,t)},t.prototype.GS79=function(t){var e={type:P4.J18,body:{target:t}};this.rSMO(P4.J19,this.GS80,this),this.sSM(e)},t.prototype.GS80=function(t){this.apF(HH17.A27,t)},t.prototype.GU59=function(t){var e={type:P4.L18,body:{target:t}};this.rSMO(P4.L19,this.GU60,this),this.sSM(e)},t.prototype.GU60=function(t){this.apF(HH17.A37,t)},t.prototype.GU61=function(){var t={type:P4.L20,body:{}};this.rSMO(P4.L21,this.GU62,this),this.sSM(t)},t.prototype.GU62=function(t){this.apF(HH17.A39,t)},t.prototype.GX53=function(t){var e={type:P4.P32,body:{ty:t}};this.rSMO(P4.P33,this.GX54,this),this.sSM(e)},t.prototype.GX54=function(t){this.apF(HH17.A59,t)},t.prototype.GS81=function(){var t={type:P4.J22,body:{}};this.rSMO(P4.J23,this.GS82,this),this.sSM(t)},t.prototype.GS82=function(t){this.apF(HH17.A29,t)},t.prototype.GO96=function(){var t={type:P4.F72,body:{}};this.rSMO(P4.F73,this.GO97,this),this.sSM(t)},t.prototype.GO97=function(t){this.apF(HH17.A8,t)},t.prototype.GQ81=function(t){var e={type:P4.HH44,body:{group:t}};this.rSMO(P4.HH45,this.GQ82,this),this.sSM(e)},t.prototype.GQ82=function(t){this.apF(HH17.A13,t)},t.prototype.GW19=function(){var t={type:P4.N16,body:{}};this.rSMO(P4.N17,this.GW20,this),this.sSM(t)},t.prototype.GW20=function(t){this.apF(HH17.A52,t)},t.prototype.GW96=function(t,e){var i={type:P4.P34,body:{index:t,num:e}};this.rSMO(P4.P35,this.GW97,this),this.sSM(i)},t.prototype.GW97=function(t){this.apF(HH17.A61,t)},t.prototype.GU63=function(){var t={type:P4.L22,body:{}};this.rSMO(P4.L23,this.GU64,this),this.sSM(t)},t.prototype.GU64=function(t){this.apF(HH17.A41,t)},t}(TG80);__reflect(TE77.prototype,"TE77");var TE78=function(){function t(){}return Object.defineProperty(t,"model",{get:function(){return App.CM.gtM(O6.B35)},enumerable:!0,configurable:!0}),t.FI25=function(){var t,e={};switch(this.model.crossTeamMatchData.crossTeamVo.length){case 16:t=32;break;case 24:t=16;break;case 28:t=8;break;case 30:t=4;break;case 31:t=2}return e.starNum=t,e.overNum=t/2,e},t.getCdTime=function(){return this.model.getCdTime()},t.FL44=function(t){return t==this.model.tid},t.isOnlyOne=function(){return 1==this.model.teamMemberData.length},t.isTullTeam=function(){return this.model.teamMemberData.length==TD96.teamNumber},t.myIsCaptain=function(){var t=this.model;return O4.getAid()==t.tid},t.getShopTime=function(){return this.model.getShopTime()},t.FL98=function(t){return this.model.inspireData[t].lv},t.isUnlock=function(){var t=O4.getLv();return TG69.FI64(EntryIds.CrossTeam).unlocklv<=t},t.getOverAct=function(){var t=this.model,e=t.crossTeamMatchData.crossTeamVo,i=t.crossTeamMatchData.crossTeamDuelerVo;if(t.isOver()){for(var s in i)i[s].lv;e[e.length-1].win}return!1},t.getListShop1=function(){var t=[];for(var e in TD96.listShop1)t.push(TD96.listShop1[e]);return t.sort(this.sortShop),t},t.getListShop2=function(){var t=[];for(var e in TD96.listShop2)t.push(TD96.listShop2[e]);return t.sort(this.sortShop),t},t.sortShop=function(t,e){return t.overType-e.overType},t}();__reflect(TE78.prototype,"TE78");var CrossTeamAddAttrVo=function(){function t(t){this.updateData(t)}return t.prototype.updateData=function(t){this.lv=null!=t.lv?t.lv:this.lv,this.attr=null!=t.attr?t.attr:this.attr},t}();__reflect(CrossTeamAddAttrVo.prototype,"CrossTeamAddAttrVo");var CrossTeamApplyVo=function(){function t(t){this.updateData(t)}return t.prototype.updateData=function(t){this.teamName=null!=t.tn?t.tn:this.teamName,this.captainName=null!=t.ln?t.ln:this.captainName,this.num=null!=t.s?t.s:this.num,this.avePower=null!=t.as?t.as:this.avePower,this.needPower=null!=t.ns?t.ns:this.needPower,this.state=null!=t.o?t.o:this.state,this.tid=null!=t.tid?t.tid:this.tid},t}();__reflect(CrossTeamApplyVo.prototype,"CrossTeamApplyVo");var CrossTeamAuditingVo=function(){function t(t){this.updateData(t)}return t.prototype.updateData=function(t){this.id=null!=t.id?t.id:this.id,this.icon=null!=t.ic?t.ic:this.icon,this.name=null!=t.n?t.n:this.name,this.power=null!=t.s?t.s:this.power,this.lv=null!=t.lv?t.lv:this.lv},t}();__reflect(CrossTeamAuditingVo.prototype,"CrossTeamAuditingVo");var CrossTeamAuditionVo=function(){function t(t){this.updateData(t)}return t.prototype.updateData=function(t){this.hurt=null!=t.dmg?t.dmg:this.hurt,this.ranking=null!=t.r?t.r:this.ranking,this.challengeNum=null!=t.cn?t.cn:this.challengeNum},t}();__reflect(CrossTeamAuditionVo.prototype,"CrossTeamAuditionVo");var CrossTeamBetsVo=function(){function t(t){this.updateData(t)}return t.prototype.updateData=function(t){this.id=null!=t.id?t.id:this.id,this.cost=null!=t.cost?t.cost:this.cost,this.win=null!=t.win?t.win:this.win,this.lose=null!=t.lose?t.lose:this.lose,this.name=null!=t.name?t.name:this.name},t}();__reflect(CrossTeamBetsVo.prototype,"CrossTeamBetsVo");var CrossTeamCombatVo=function(){function t(t){this.updateData(t)}return t.prototype.updateData=function(t){if(this.tid=null!=t.tid?t.tid:this.tid,this.teamName=null!=t.tn?t.tn:this.teamName,null!=t.ilm){this.inspireData={};for(var e=1;e<=3;e++)this.inspireData[e]=new CrossTeamInspireVo({type:e,lv:0});for(var i in t.ilm)this.inspireData[i].updateData({lv:t.ilm[i]})}if(t.ml)for(var i in this.teamMemberData=[],this.allPower=0,t.ml)this.teamMemberData.push(new CrossTeamAuditingVo(t.ml[i])),this.allPower+=t.ml[i].s},t.prototype.getInspireData=function(){var t=[];for(var e in this.inspireData)t.push(this.inspireData[e]);return t},t}();__reflect(CrossTeamCombatVo.prototype,"CrossTeamCombatVo");var CrossTeamDuelerVo=function(){function t(t){this.updateData(t)}return t.prototype.updateData=function(t){this.lv=null!=t.lv?t.lv:this.lv,this.name=null!=t.n?t.n:this.name,this.serverName=null!=t.s?t.s:this.serverName},t}();__reflect(CrossTeamDuelerVo.prototype,"CrossTeamDuelerVo");var CrossTeamFightData=function(){function t(t){this.updateData(t)}return t.prototype.updateData=function(t){if(this.leftWin=null!=t.lw?t.lw:this.leftWin,this.rightWin=null!=t.rw?t.rw:this.rightWin,t.rl){var e=t.rl;this.fightListData=[];for(var i=0;i<e.length;i++){var s=new CrossTeamRepVo(e[i]);this.fightListData.push(s)}}if(t.l){var o=t.l;this.leftData?this.leftData.updateData(o):this.leftData=new CrossTeamCombatVo(o)}if(t.r){var r=t.r;this.rightData?this.rightData.updateData(r):this.rightData=new CrossTeamCombatVo(r)}},t}();__reflect(CrossTeamFightData.prototype,"CrossTeamFightData");var CrossTeamGuessData=function(){function t(t){this.lp=0,this.rp=0,this.updateData(t)}return t.prototype.updateData=function(t){if(this.grade=t.go,this.lp=P7.getValue(t.lp,this.lp),this.rp=P7.getValue(t.rp,this.rp),t.l){var e=t.l;this.leftData?this.leftData.updateData(e):this.leftData=new CrossTeamCombatVo(e)}if(t.r){var i=t.r;this.rightData?this.rightData.updateData(i):this.rightData=new CrossTeamCombatVo(i)}},t}();__reflect(CrossTeamGuessData.prototype,"CrossTeamGuessData");var CrossTeamInspireVo=function(){function t(t){this.updateData(t)}return t.prototype.updateData=function(t){if(this.type=null!=t.type?t.type:this.type,this.lv=null!=t.lv?t.lv:this.lv,null!=t.lv)switch(this.type){case 1:this.name=O3.tr(7312);break;case 2:this.name=O3.tr(7313);break;case 3:this.name=O3.tr(7314)}},t}();__reflect(CrossTeamInspireVo.prototype,"CrossTeamInspireVo");var CrossTeamMatchVo=function(){function t(t){this.updateData(t)}return t.prototype.updateData=function(t){if(this.gId=null!=t.g?t.g:this.gId,this.s=t.s,t.dm){var e=t.dm;for(var i in this.crossTeamDuelerVo={},e)this.crossTeamDuelerVo[i]=new CrossTeamDuelerVo(e[i])}if(t.dl){var s=t.dl;this.crossTeamVo=[];for(var o=0;o<s.length;o++){var r=new CrossTeamVo(s[o]);this.crossTeamVo.push(r)}}},t}();__reflect(CrossTeamMatchVo.prototype,"CrossTeamMatchVo");var CrossTeamPlayerVo=function(){function t(t){this.lv=0,this.updateData(t)}return t.prototype.updateData=function(t){this.name=null!=t.n?t.n:this.name,this.model=null!=t.u?t.u:this.model,this.id=null!=t.id?t.id:this.id,this.battle=null!=t.s?t.s:this.battle,this.lv=null!=t.lv?t.lv:this.lv},t}();__reflect(CrossTeamPlayerVo.prototype,"CrossTeamPlayerVo");var CrossTeamPreviewVo=function(){function t(){this.itemData=[]}return t.prototype.updateData=function(t){this.name=t.name,this.index=t.index,this.source=t.source},t}();__reflect(CrossTeamPreviewVo.prototype,"CrossTeamPreviewVo");var CrossTeamReadyPlayerVo=function(){function t(t){this.updateData(t)}return t.prototype.updateData=function(t){this.ranking=null!=t.r?t.r:this.ranking,this.name=null!=t.n?t.n:this.name,this.winNum=null!=t.w?t.w:this.winNum,this.loseNum=null!=t.f?t.f:this.loseNum,this.integral=null!=t.g?t.g:this.integral},t}();__reflect(CrossTeamReadyPlayerVo.prototype,"CrossTeamReadyPlayerVo");var CrossTeamReadyVo=function(){function t(t){this.updateData(t)}return t.prototype.updateData=function(t){if(t.al){var e=t.al;this.readyList=[];for(var i=0;i<e.length;i++){var s=new CrossTeamReadyPlayerVo(e[i]);this.readyList.push(s)}}t.ma&&(void 0!==this.myRanking?this.myRanking.updateData(t.ma):this.myRanking=new CrossTeamReadyPlayerVo(t.ma))},t}();__reflect(CrossTeamReadyVo.prototype,"CrossTeamReadyVo");var CrossTeamRepVo=function(){function t(t){this.updateData(t)}return t.prototype.updateData=function(t){this.name=null!=t.n?t.n:this.name,this.fid=null!=t.fid?t.fid:this.fid,this.serverName=null!=t.sa?t.sa:this.serverName},t}();__reflect(CrossTeamRepVo.prototype,"CrossTeamRepVo");var CrossTeamShopVo=function(){function t(t){this.initData(t)}return t.prototype.initData=function(t){for(var e in t)this[e]=t[e];this.goodsData=new avatar.AttribVo;var i=this.goods.split(":");this.goodsData.k=parseInt(i[0]),this.goodsData.v=parseInt(i[1]),i=this.price.split(":"),this.priceData=new avatar.AttribVo,this.priceData.k=parseInt(i[0]),this.priceData.v=parseInt(i[1]),this.overNum=this.limitnum,-1==this.limitnum?this.overType=1:this.overType=2},t.prototype.updateData=function(t){this.overNum=0==t?this.limitnum:this.limitnum-t,0==this.overNum&&(this.overType=3)},t}();__reflect(CrossTeamShopVo.prototype,"CrossTeamShopVo");var CrossTeamSignVo=function(){function t(){}return t.prototype.updateData=function(t){this.id=null!=t.id?t.id:this.id,this.name=null!=t.name?t.name:this.name,this.num=null!=t.num?t.num:this.num},t}();__reflect(CrossTeamSignVo.prototype,"CrossTeamSignVo");var CrossTeamTypeLvVo=function(){function t(t){this.updateData(t)}return t.prototype.updateData=function(t){this.lv=t.lv,this.name=t.name},t}();__reflect(CrossTeamTypeLvVo.prototype,"CrossTeamTypeLvVo");var CrossTeamTypeVo=function(){function t(t){this.updateData(t)}return t.prototype.updateData=function(t){this.name=t.id,this.name=t.name,this.type=t.type,this.cost=t.cost;var e=M18.FL28(t.attr,";",":");for(var i in this.attr=[],e){var s={};s.k=parseInt(e[i][0]);var o=K18.attribute[s.k].show;s.show=o,s.v=o?parseInt(e[i][1]):parseFloat(e[i][1]),this.attr.push(s)}},t}();__reflect(CrossTeamTypeVo.prototype,"CrossTeamTypeVo");var CrossTeamVo=function(){function t(t){this.updateData(t)}return t.prototype.updateData=function(t){this.serial=null!=t.n?t.n:this.serial,this.did=null!=t.did?t.did:this.did,this.lef=null!=t.lef?t.lef:this.lef,this.rig=null!=t.rig?t.rig:this.rig,this.win=null!=t.win?t.win:this.win},t}();__reflect(CrossTeamVo.prototype,"CrossTeamVo");var CrossTeamApplyItemView=function(e){function t(){var t=e.call(this)||this;return t.skinName=CrossTeamApplyItemSkin,t.addEventListener(egret.Event.ADDED_TO_STAGE,t.onAddToStage,t),t.addEventListener(egret.Event.REMOVED_FROM_STAGE,t.onRemoveStage,t),t}return __extends(t,e),t.prototype.childrenCreated=function(){e.prototype.createChildren.call(this)},t.prototype.onAddToStage=function(){this.btnSend.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickSend,this)},t.prototype.onRemoveStage=function(){this.btnSend.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickSend,this)},t.prototype.onClickSend=function(){App.CM.apF(O6.B35,HH17.A47,this.data.tid)},t.prototype.dataChanged=function(){this.imgBg.visible=0!=this.itemIndex,this.lbTeamName.textFlow=M18.HTP.parser(O3.tr(7212,this.data.teamName)),this.lbCaptainName.textFlow=M18.HTP.parser(O3.tr(7212,this.data.captainName)),this.lbMeanPower.textFlow=M18.HTP.parser(O3.tr(7212,M18.FM20(this.data.avePower,0,1e4))),this.lbNeedPower.textFlow=M18.HTP.parser(O3.tr(7212,M18.FM20(this.data.needPower,0,1e4)));var t=this.data.num==TD96.teamNumber?7205:7309;switch(this.lbNum.textFlow=M18.HTP.parser(O3.tr(t,this.data.num,TD96.teamNumber)),this.data.state){case A6.A1:this.btnSend.visible=!0,this.btnSend.bgStr="v1_btn_green_3_png",this.btnSend.label=O3.tr(7202),this.btnSend.enabled=!1;break;case A6.A3:this.btnSend.visible=!0,this.btnSend.bgStr="v1_btn_yellow_3_png",this.btnSend.label=O3.tr(7201),this.btnSend.enabled=!0;break;case A6.A4:this.btnSend.visible=!1,this.lbState.textFlow=M18.HTP.parser(O3.tr(7203));break;case A6.A2:this.btnSend.visible=!1,this.lbState.textFlow=M18.HTP.parser(O3.tr(7204))}},t}(eui.ItemRenderer);__reflect(CrossTeamApplyItemView.prototype,"CrossTeamApplyItemView");var CrossTeamAuditingItemView=function(e){function t(){var t=e.call(this)||this;return t.skinName=CrossTeamAuditingItemSkin,t.addEventListener(egret.Event.ADDED_TO_STAGE,t.onAddToStage,t),t.addEventListener(egret.Event.REMOVED_FROM_STAGE,t.onRemoveStage,t),t}return __extends(t,e),t.prototype.childrenCreated=function(){e.prototype.createChildren.call(this),this.initUI()},t.prototype.onAddToStage=function(){this.btnRefuse.addEventListener(egret.TouchEvent.TOUCH_TAP,this.ZW18,this),this.btnAllow.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickAllow,this)},t.prototype.onRemoveStage=function(){this.btnRefuse.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.ZW18,this),this.btnAllow.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickAllow,this)},t.prototype.initUI=function(){this.btnRefuse.label=O3.tr(7225),this.btnAllow.label=O3.tr(7224)},t.prototype.ZW18=function(){App.CM.apF(O6.B35,HH17.A26,this.data.id)},t.prototype.onClickAllow=function(){TE78.isTullTeam()?P18.sDP(O3.tr(7278)):App.CM.apF(O6.B35,HH17.A36,this.data.id)},t.prototype.dataChanged=function(){this.avatarHead.source=this.data.icon,this.lbName.textFlow=M18.HTP.parser(O3.tr(7212,this.data.name)),this.lbRecord.textFlow=M18.HTP.parser(O3.tr(7214,this.data.power)),this.lbLv.textFlow=M18.HTP.parser(O3.tr(7213,this.data.lv))},t}(eui.ItemRenderer);__reflect(CrossTeamAuditingItemView.prototype,"CrossTeamAuditingItemView");var CrossTeamBetsRewardItem=function(e){function t(){var t=e.call(this)||this;return t.skinName=CrossTeamBetsRewardItemSkin,t.addEventListener(egret.Event.ADDED_TO_STAGE,t.onAddToStage,t),t.addEventListener(egret.Event.REMOVED_FROM_STAGE,t.onRemoveStage,t),t}return __extends(t,e),t.prototype.childrenCreated=function(){e.prototype.createChildren.call(this),this.initUI()},t.prototype.onAddToStage=function(){this.btnSelfRai.addEventListener(egret.TouchEvent.TOUCH_TAP,this.startYa,this)},t.prototype.onRemoveStage=function(){this.btnSelfRai.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.startYa,this)},t.prototype.startYa=function(){var t,e=this,i=N12.gID(this.data.cost[0]);if((t=75e3==i.id?P10.A2:P10.A1)==P10.A1){var s=parseInt(this.data.cost[1]);if(N12.giC(N12.itemId.bindGold)<s)return void P18.sDP(O3.tr(5354))}var o={handler:function(){App.CM.apF(O6.B35,HH17.A66,e.data.id)},cost:parseInt(this.lbCost.text),costTp:t,content:O3.tr(3403,this.lbCost.text+i.name,this.data.name)};App.VM.open(O7.C54,o)},t.prototype.initUI=function(){this.lbWin.text=this.lbLose.text=O3.tr(3383),this.lbYa.text=O3.tr(3506)},t.prototype.dataChanged=function(){var t=App.CM.gtM(O6.B35);this.btnSelfRai.enabled=!t.crossTeamGuessData.grade,P16.sGF(this.btnSelfRai,!!t.crossTeamGuessData.grade),t.crossTeamGuessData.grade&&t.isYa?this.grpYa.visible=this.data.id==t.crossTeamGuessData.grade.g:this.grpYa.visible=!1,this.imgCost.source=N12.FJ86(this.data.cost[0]),this.lbCost.text=this.data.cost[1],this.btnSelfRai.label=this.data.name;for(var e=0;e<this.data.win.length;e++){var i=N12.gID(this.data.win[e][0]);this["imgWin"+e].setData(i),this["lbWin"+e].text=this.data.win[e][1]}for(e=0;e<this.data.lose.length;e++){i=N12.gID(this.data.lose[e][0]);this["imgLose"+e].setData(i),this["lbLose"+e].text=this.data.lose[e][1]}},t}(eui.ItemRenderer);__reflect(CrossTeamBetsRewardItem.prototype,"CrossTeamBetsRewardItem");var CrossTeamInspireAttrItemView=function(e){function t(){var t=e.call(this)||this;return t.skinName=CrossTeamInspireAttrItemSkin,t}return __extends(t,e),t.prototype.childrenCreated=function(){e.prototype.createChildren.call(this)},t.prototype.dataChanged=function(){var t=K18.FD72(this.data.attr.k+""),e=this.data.attr.v*this.data.lv;this.data.attr.show?(this.lbAdd.textFlow=M18.HTP.parser(O3.tr(7254,this.data.attr.v)),this.lbAttr.textFlow=M18.HTP.parser(O3.tr(7253,t,e))):(this.lbAdd.textFlow=M18.HTP.parser(O3.tr(7254,(100*this.data.attr.v).toFixed(0)+"%")),this.lbAttr.textFlow=M18.HTP.parser(O3.tr(7253,t,(100*e).toFixed(0)+"%")))},t}(eui.ItemRenderer);__reflect(CrossTeamInspireAttrItemView.prototype,"CrossTeamInspireAttrItemView");var CrossTeamInspireItemView=function(e){function t(){var t=e.call(this)||this;return t.skinName=CrossTeamInspireItemSkin,t.addEventListener(egret.Event.ADDED_TO_STAGE,t.onAddToStage,t),t.addEventListener(egret.Event.REMOVED_FROM_STAGE,t.onRemoveStage,t),t}return __extends(t,e),t.prototype.childrenCreated=function(){e.prototype.createChildren.call(this),this.initUI()},t.prototype.onAddToStage=function(){this.btnInspire.addEventListener(egret.TouchEvent.TOUCH_TAP,this.ZR76,this)},t.prototype.onRemoveStage=function(){this.btnInspire.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.ZR76,this)},t.prototype.initUI=function(){this.btnInspire.label=O3.tr(7251),this.attrData.itemRenderer=CrossTeamInspireAttrItemView,this.attrData.dataProvider=this.attrDataCollection=new eui.ArrayCollection},t.prototype.ZR76=function(){var t=TE78.FL98(this.data.type);TD96.cheerLimit==t?P18.sDP(O3.tr(7424)):App.CM.apF(O6.B35,HH17.A58,this.data.type)},t.prototype.dataChanged=function(){var t=App.CM.gtM(O6.B35);P16.sGF(this.btnInspire,!t.isCanInspire);var e=N12.gID(this.data.cost.k);this.imgCost.setData(e),this.btnInspire.enabled=t.isCanInspire;var i=TE78.FL98(this.data.type);this.lbName.textFlow=M18.HTP.parser(O3.tr(7252,this.data.name,i)),this.lbNum.textFlow=M18.HTP.parser(O3.tr(7185,this.data.cost.v));var s=[];for(var o in this.data.attr){var r=new CrossTeamAddAttrVo({lv:i,attr:this.data.attr[o]});s.push(r)}this.attrDataCollection.replaceAll(s)},t}(eui.ItemRenderer);__reflect(CrossTeamInspireItemView.prototype,"CrossTeamInspireItemView");var CrossTeamInspireLvItemView=function(e){function t(){var t=e.call(this)||this;return t.skinName=CrossTeamInspireLvItemSkin,t}return __extends(t,e),t.prototype.childrenCreated=function(){e.prototype.createChildren.call(this)},t.prototype.dataChanged=function(){this.lbStr.textFlow=M18.HTP.parser(O3.tr(7297,this.data.name,this.data.lv))},t}(eui.ItemRenderer);__reflect(CrossTeamInspireLvItemView.prototype,"CrossTeamInspireLvItemView");var CrossTeamInspireTeamItemView=function(e){function t(){var t=e.call(this)||this;return t.skinName=CrossTeamMemberItemSkin,t.addEventListener(egret.Event.ADDED_TO_STAGE,t.onAddToStage,t),t.addEventListener(egret.Event.REMOVED_FROM_STAGE,t.onRemoveStage,t),t}return __extends(t,e),t.prototype.childrenCreated=function(){e.prototype.createChildren.call(this),this.initUI()},t.prototype.onAddToStage=function(){},t.prototype.onRemoveStage=function(){this.closeModel()},t.prototype.closeModel=function(){this.objBoss&&(this.grpAvatar.removeChildren(),this.objBoss.destory(),this.objBoss=null)},t.prototype.initUI=function(){this.lbWait.visible=!1,this.btnSend.visible=!1,this.grpHave.visible=!0},t.prototype.ZW19=function(t){if(!this.objBoss){this.objBoss=new FightGameObject;var e={x:80,y:160,dir:Dir.br,objType:P13.A6,bt:BehaviourType.Stand_d};for(var i in t)e[i]=t[i];this.objBoss.setData(e,this.grpAvatar),this.objBoss.action=Action.Attack}},t.prototype.dataChanged=function(){this.imgCaptain.visible=TE78.FL44(this.data.id),this.ZW19(this.data.model),this.lbName.textFlow=M18.HTP.parser(O3.tr(7212,this.data.name)),this.lbGrade.textFlow=M18.HTP.parser(O3.tr(7213,this.data.lv)),this.lbCombat.textFlow=M18.HTP.parser(O3.tr(7214,THH13.FL93(this.data.battle)))},t}(eui.ItemRenderer);__reflect(CrossTeamInspireTeamItemView.prototype,"CrossTeamInspireTeamItemView");var CrossTeamMemberItemView=function(e){function t(){var t=e.call(this)||this;return t.skinName=CrossTeamMemberItemSkin,t.addEventListener(egret.Event.ADDED_TO_STAGE,t.onAddToStage,t),t.addEventListener(egret.Event.REMOVED_FROM_STAGE,t.onRemoveStage,t),t}return __extends(t,e),t.prototype.childrenCreated=function(){e.prototype.createChildren.call(this),this.initUI()},t.prototype.onAddToStage=function(){this.btnSend.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickSend,this)},t.prototype.onRemoveStage=function(){this.btnSend.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickSend,this),this.closeModel()},t.prototype.closeModel=function(){this.objBoss&&(this.grpAvatar.removeChildren(),this.objBoss.destory(),this.objBoss=null)},t.prototype.onClickSend=function(){var t=this,e=function(){App.CM.apF(O6.B35,HH17.A10,t.data.id)};this.btnSend.label==O3.tr(7220)?App.VM.open(O7.HH38,M18.HTP.parser(O3.tr(7272)),this,e):(e=function(){App.CM.apF(O6.B35,HH17.A49,t.data.id)},TE78.FL44(this.data.id)?App.VM.open(O7.HH38,M18.HTP.parser(O3.tr(7273)),this,e):e())},t.prototype.initUI=function(){this.lbWait.textFlow=M18.HTP.parser(O3.tr(7219)),this.btnSend.sk=1,this.btnSend.skColor="0x773d04",this.btnSend.childrenCreated()},t.prototype.ZW19=function(t){this.objBoss||(this.objBoss=new FightGameObject);var e={x:80,y:160,dir:Dir.br,objType:P13.A6,bt:BehaviourType.Stand_d};for(var i in t)e[i]=t[i];this.objBoss.setData(e,this.grpAvatar),this.objBoss.action=Action.Attack},t.prototype.dataChanged=function(){var t=App.CM.gtM(O6.B35);this.data.id?(this.lbWait.visible=!1,this.grpHave.visible=!0,this.imgCaptain.visible=TE78.FL44(this.data.id),this.ZW19(this.data.model),t.teamState?this.btnSend.visible=!1:(this.btnSend.visible=!0,t.tid==this.data.id?TE78.isOnlyOne()?this.btnSend.label=O3.tr(7221):this.btnSend.visible=!1:this.data.id==O4.getAid()?this.btnSend.label=O3.tr(7221):TE78.myIsCaptain()?this.btnSend.label=O3.tr(7220):this.btnSend.visible=!1),this.lbName.textFlow=M18.HTP.parser(O3.tr(7212,this.data.name)),this.lbGrade.textFlow=M18.HTP.parser(O3.tr(7213,this.data.lv)),this.lbCombat.textFlow=M18.HTP.parser(O3.tr(7214,THH13.FL93(this.data.battle)))):(this.grpHave.visible=!1,this.lbWait.visible=!0,this.closeModel())},t}(eui.ItemRenderer);__reflect(CrossTeamMemberItemView.prototype,"CrossTeamMemberItemView");var CrossTeamPKPlayLeftItemView=function(e){function t(){var t=e.call(this)||this;return t.skinName=CrossTeamPKPlayItemSkin,t}return __extends(t,e),t.prototype.childrenCreated=function(){e.prototype.createChildren.call(this)},t.prototype.dataChanged=function(){this.currentState="left",this.avatarHead.source=this.data.icon,this.lbName.textFlow=M18.HTP.parser(O3.tr(7212,this.data.name)),this.lbRecord.textFlow=M18.HTP.parser(O3.tr(7214,THH13.FL93(this.data.power))),this.lbLv.textFlow=M18.HTP.parser(O3.tr(7213,this.data.lv))},t}(eui.ItemRenderer);__reflect(CrossTeamPKPlayLeftItemView.prototype,"CrossTeamPKPlayLeftItemView");var CrossTeamPKPlayRightItemView=function(e){function t(){var t=e.call(this)||this;return t.skinName=CrossTeamPKPlayItemSkin,t}return __extends(t,e),t.prototype.childrenCreated=function(){e.prototype.createChildren.call(this)},t.prototype.dataChanged=function(){this.currentState="right",this.avatarHead.source=this.data.icon,this.lbName.textFlow=M18.HTP.parser(O3.tr(7212,this.data.name)),this.lbRecord.textFlow=M18.HTP.parser(O3.tr(7214,THH13.FL93(this.data.power))),this.lbLv.textFlow=M18.HTP.parser(O3.tr(7213,this.data.lv))},t}(eui.ItemRenderer);__reflect(CrossTeamPKPlayRightItemView.prototype,"CrossTeamPKPlayRightItemView");var CrossTeamPreviewItemView=function(e){function t(){var t=e.call(this)||this;return t.skinName=CrossTeamPreviewItemSkin,t.addEventListener(egret.Event.ADDED_TO_STAGE,t.onAddToStage,t),t.addEventListener(egret.Event.REMOVED_FROM_STAGE,t.onRemoveStage,t),t}return __extends(t,e),t.prototype.childrenCreated=function(){e.prototype.createChildren.call(this)},t.prototype.onAddToStage=function(){this.lbTitle.textFlow=M18.HTP.parser(O3.tr(7192));var t={render:ItemIcon,isFlat:!0,gap:0,width:this.listGroup.width,height:84,arrowScale:1};this.listView=new CommonListBase(t),this.listGroup.addChild(this.listView),this.listView.verticalCenter=0,this.listView.horizontalCenter=0,this.listView.open()},t.prototype.onRemoveStage=function(){this.listView.close()},t.prototype.dataChanged=function(){this.imgBg.visible=0!=this.itemIndex,this.lbName.textFlow=M18.HTP.parser(O3.tr(this.data.num)),this.listView.rfL(this.data.itemData),this.data.source?(this.imgSource.visible=!0,this.lbTitle.visible=!1,this.imgSource.source=this.data.source):(this.lbTitle.visible=!0,this.imgSource.visible=!1)},t}(eui.ItemRenderer);__reflect(CrossTeamPreviewItemView.prototype,"CrossTeamPreviewItemView");var CrossTeamRanKingItemView=function(e){function t(){var t=e.call(this)||this;return t.skinName=CrossTeamRanKingItemSkin,t.once(egret.Event.REMOVED_FROM_STAGE,t.close,t),t}return __extends(t,e),t.prototype.close=function(){},t.prototype.childrenCreated=function(){e.prototype.createChildren.call(this),this.initUI()},t.prototype.initUI=function(){this.proBar.slideDuration=0},t.prototype.dataChanged=function(){var t=this.data;this.imgBg.visible=t.ranking%2!=0;var e,i=App.CM.gtM(O6.B35),s=i.crossTeamReadyData.readyList[0].integral,o=i.crossTeamReadyData.myRanking.ranking;this.lbName.text=t.name,e=o==t.ranking?(this.lbName.textColor=16776462,e=O3.tr(3392,t.winNum,t.loseNum),this.lbRecord.textFlow=(new egret.HtmlTextParser).parser(e),O3.tr(3393,t.integral)):(this.lbName.textColor=16707295,e=O3.tr(3387,t.winNum,t.loseNum),this.lbRecord.textFlow=(new egret.HtmlTextParser).parser(e),O3.tr(3388,t.integral)),this.lbIntegral.textFlow=(new egret.HtmlTextParser).parser(e),this.proBar.value=t.integral,this.proBar.maximum=s,this.lbIndex.text=t.ranking+"."},t}(eui.ItemRenderer);__reflect(CrossTeamRanKingItemView.prototype,"CrossTeamRanKingItemView");var CrossTeamResultItemView=function(e){function t(){var t=e.call(this)||this;return t.skinName=CrossTeamResultItemSkin,t.addEventListener(egret.Event.ADDED_TO_STAGE,t.onAddToStage,t),t.addEventListener(egret.Event.REMOVED_FROM_STAGE,t.onRemoveStage,t),t}return __extends(t,e),t.prototype.onAddToStage=function(){this.look.addEventListener(egret.TouchEvent.TOUCH_TAP,this.openlook,this),this.lbStr1.textFlow=M18.HTP.parser(O3.tr(7396))},t.prototype.onRemoveStage=function(){this.look.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.openlook,this)},t.prototype.openlook=function(){App.CM.apF(O6.B35,HH17.A20,this.data.fid)},t.prototype.childrenCreated=function(){e.prototype.createChildren.call(this),this.initUI()},t.prototype.initUI=function(){this.look.text=O3.tr(3382),M18.FHH83(this.look)},t.prototype.dataChanged=function(){var t;this.imgBg.visible=this.itemIndex%2==0,this.lbRanking.text=O3.tr(3380,this.itemIndex+1),t=O3.tr(7260,this.data.name,this.data.serverName),this.lbName.textFlow=(new egret.HtmlTextParser).parser(t)},t}(eui.ItemRenderer);__reflect(CrossTeamResultItemView.prototype,"CrossTeamResultItemView");var CrossTeamSignItemView=function(t){function e(){return t.call(this)||this}return __extends(e,t),e.prototype.childrenCreated=function(){t.prototype.createChildren.call(this)},e.prototype.open=function(){this.btnSign.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickSign,this),this.btnSign.label=O3.tr(7233)},e.prototype.close=function(){this.btnSign.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickSign,this)},e.prototype.sureSign=function(){var t=this,e=(TE78.model,this.data.id==A18.A1?O3.tr(7310):O3.tr(7311));App.VM.close(O7.HH38),App.VM.open(O7.HH38,M18.FG71(O3.tr(7282,e)),this,function(){App.CM.apF(O6.B35,HH17.A68,t.data.id)})},e.prototype.onClickSign=function(){TE78.model;TE78.isTullTeam()?this.sureSign():App.VM.open(O7.HH38,M18.FG71(O3.tr(7283,name)),this,this.sureSign)},e.prototype.setData=function(t){this.data=t;var e=O3.tr(7318);this.lbName.textFlow=M18.HTP.parser(O3.tr(7231,this.data.name,e)),this.lbSignNum.textFlow=M18.HTP.parser(O3.tr(7232,this.data.num))},e.prototype.setGrpSelect=function(t){this.imgBg.source=t?"v1_img_chuangjianjuntuan_png":"v1_img_chuangjianjuntuanhui_png"},e}(eui.Component);__reflect(CrossTeamSignItemView.prototype,"CrossTeamSignItemView");var CrossTeamUserItemView=function(t){function e(){return t.call(this)||this}return __extends(e,t),e.prototype.childrenCreated=function(){t.prototype.createChildren.call(this)},e.prototype.setData=function(t){this.lbName.textFlow=M18.HTP.parser(O3.tr(4331,t.name+"."+t.serverName)),this.lbS.textFlow=M18.HTP.parser(O3.tr(7319,t.lv)),this.lbYa.text=O3.tr(3506)},e.prototype.setGray=function(t){P16.sGF(this,!t)},e.prototype.setBgimg=function(t){this.imgBg.source=t?"v1_img_ctjjd_txhw2_png":"v1_img_ctbsd_txhw2_png"},e.prototype.setMyBgimg=function(){this.imgBg.source="v1_img_ctjjdbr_txhw2_png"},e.prototype.setGrpYa=function(t){this.grpYa.visible=t},e}(eui.Component);__reflect(CrossTeamUserItemView.prototype,"CrossTeamUserItemView");var CrossTeamApplyView=function(s){function t(t,e){var i=s.call(this,t,e)||this;return i.skinName=CrossTeamApplySkin,i}return __extends(t,s),t.prototype.initUI=function(){s.prototype.initUI.call(this),this.lbStr1.textFlow=M18.HTP.parser(O3.tr(7195)),this.lbStr2.textFlow=M18.HTP.parser(O3.tr(7196)),this.lbStr3.textFlow=M18.HTP.parser(O3.tr(7197)),this.lbStr4.textFlow=M18.HTP.parser(O3.tr(7198)),this.lbStr5.textFlow=M18.HTP.parser(O3.tr(7199)),this.lbStr6.textFlow=M18.HTP.parser(O3.tr(7200)),this.dlg.ZM69(this.closeSelf,this),this.dlg.ZQ14(this.closeSelf,this);var t={render:CrossTeamApplyItemView,gap:0,width:this.grpList.width,height:this.grpList.height,arrowScale:1};this.listView=new CommonListBase(t),this.grpList.addChild(this.listView),this.listView.verticalCenter=0,this.listView.horizontalCenter=0,this.dlg.title=O3.tr(7226),this.aCF(O6.B35,HH17.A34)},t.prototype.closeSelf=function(){this.aCF(O6.B35,HH17.A44)},t.prototype.open=function(){this.listView.open(),this.updateUI(TE78.model)},t.prototype.updateUI=function(t){this.listView.rfL(t.applyData)},t.prototype.close=function(){s.prototype.close.call(this),this.listView.close()},t.prototype.uBM=function(t,e){if(s.prototype.uBM.call(this,t,e),t instanceof TE76)switch(e){case P4.L17:this.updateUI(t)}},t}(BaseEuiView);__reflect(CrossTeamApplyView.prototype,"CrossTeamApplyView");var CrossTeamAuditingView=function(s){function t(t,e){var i=s.call(this,t,e)||this;return i.skinName=CrossTeamAuditingSkin,i}return __extends(t,s),t.prototype.initUI=function(){s.prototype.initUI.call(this),this.lbStr1.textFlow=M18.HTP.parser(O3.tr(7230)),this.lbStr2.textFlow=M18.HTP.parser(O3.tr(7229)),this.lbStr3.textFlow=M18.HTP.parser(O3.tr(7276)),this.dlg.ZM69(this.closeSelf,this),this.dlg.ZQ14(this.closeSelf,this);var t={render:CrossTeamAuditingItemView,gap:6,width:this.grpList.width,height:this.grpList.height,arrowScale:1};this.listView=new CommonListBase(t),this.grpList.addChild(this.listView),this.listView.verticalCenter=0,this.listView.horizontalCenter=0,this.dlg.title=O3.tr(7227),this.btnChange.label=O3.tr(7228),this.textNum.restrict="0-9"},t.prototype.closeSelf=function(){this.aCF(O6.B35,HH17.A9)},t.prototype.open=function(){this.listView.open(),this.btnChange.addEventListener(egret.TouchEvent.TOUCH_TAP,this.ZU55,this),this.textNum.addEventListener(egret.Event.CHANGE,this.textChange,this),this.textNum.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onclickText,this),this.aCF(O6.B35,HH17.A1)},t.prototype.onclickText=function(){P7.FL26()},t.prototype.textChange=function(){"0"==this.textNum.text[0]&&(this.textNum.text=this.textNum.text.slice(1,this.textNum.text.length))},t.prototype.ZU55=function(){if(this.textNum.text.length){var t=App.CM.gtM(O6.B35),e=1e4*parseInt(this.textNum.text);t.needPower==e?P18.sDP(O3.tr(7280)):e<TD96.teamPower.min?P18.sDP(O3.tr(7281)):this.aCF(O6.B35,HH17.A3,e)}else P18.sDP(O3.tr(7281))},t.prototype.updateUI=function(t){this.textNum.text=(t.needPower/1e4).toFixed(0),this.listView.rfL(t.auditingData),this.lbStr3.visible=!t.auditingData.length},t.prototype.close=function(){s.prototype.close.call(this),this.listView.close(),this.btnChange.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.ZU55,this),this.textNum.removeEventListener(egret.Event.CHANGE,this.textChange,this),this.textNum.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onclickText,this)},t.prototype.uBM=function(t,e){if(s.prototype.uBM.call(this,t,e),t instanceof TE76)switch(e){case P4.B69:case P4.B71:this.updateUI(t)}},t}(BaseEuiView);__reflect(CrossTeamAuditingView.prototype,"CrossTeamAuditingView");var CrossTeamCreateTeamView=function(s){function t(t,e){var i=s.call(this,t,e)||this;return i.skinName=CrossTeamCreateTeamSkin,i}return __extends(t,s),t.prototype.initUI=function(){s.prototype.initUI.call(this),this.lbStr1.textFlow=M18.HTP.parser(O3.tr(7206)),this.lbStr2.textFlow=M18.HTP.parser(O3.tr(7207)),this.lbStr3.textFlow=M18.HTP.parser(O3.tr(7208)),this.lbNum.textFlow=M18.HTP.parser(O3.tr(7209,TD96.teamCost.v)),this.dlg.ZM69(this.closeSelf,this),this.dlg.ZQ14(this.closeSelf,this),this.dlg.title=O3.tr(7210),this.btnCreate.label=O3.tr(7211);var t=N12.gID(TD96.teamCost.k);this.imgCost.setData(t),this.textNum.text="100",this.textNum.restrict="0-9",this.textName.prompt=O3.tr(7320)},t.prototype.closeSelf=function(){this.aCF(O6.B35,HH17.A5)},t.prototype.onclickText=function(){P7.FL26()},t.prototype.textChange=function(){"0"==this.textNum.text[0]&&(this.textNum.text=this.textNum.text.slice(1,this.textNum.text.length))},t.prototype.open=function(){this.btnCreate.addEventListener(egret.TouchEvent.TOUCH_TAP,this.ZU76,this),this.textNum.addEventListener(egret.Event.CHANGE,this.textChange,this),this.textNum.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onclickText,this),this.textName.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onclickText,this)},t.prototype.close=function(){s.prototype.close.call(this),this.btnCreate.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.ZU76,this),this.textNum.removeEventListener(egret.Event.CHANGE,this.textChange,this),this.textNum.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onclickText,this)},t.prototype.ZU76=function(){var t=this;if(this.textNum.text.length){var e=1e4*parseInt(this.textNum.text),i=N12.giC(N12.itemId.bindGold),s=N12.giC(N12.itemId.gold),o=TD96.teamCost.v,r=function(){App.CM.apF(O6.B35,HH17.A24,t.textName.text,e)};if(this.textName.text.length)if(e<TD96.teamPower.min)P18.sDP(O3.tr(7281));else if(i<o){App.VM.open(O7.HH38,M18.FG71(O3.tr(7321)),this,function(){o<=i+s?r():P7.FA78()})}else r();else P18.sDP(O3.tr(7320))}else P18.sDP(O3.tr(7281))},t.prototype.uBM=function(t,e){if(s.prototype.uBM.call(this,t,e),t instanceof TE76)switch(e){case P4.J17:this.closeSelf()}},t}(BaseEuiView);__reflect(CrossTeamCreateTeamView.prototype,"CrossTeamCreateTeamView");var CrossTeamInspireView=function(s){function t(t,e){var i=s.call(this,t,e)||this;return i.skinName=CrossTeamInspireSkin,i}return __extends(t,s),t.prototype.initUI=function(){s.prototype.initUI.call(this),this.lbStr1.textFlow=M18.HTP.parser(O3.tr(7248)),this.lbStr2.textFlow=M18.HTP.parser(O3.tr(7249)),this.lbStr3.textFlow=M18.HTP.parser(O3.tr(7250)),this.dlg.ZM69(this.closeSelf,this),this.dlg.ZQ14(this.closeSelf,this);var t={render:CrossTeamInspireItemView,gap:2,width:this.grpList.width,height:this.grpList.height,arrowScale:1};this.listView=new CommonListBase(t),this.grpList.addChild(this.listView),this.listView.verticalCenter=0,this.listView.horizontalCenter=0,this.teamData.dataProvider=this.teamDataCollection=new eui.ArrayCollection,this.teamData.itemRenderer=CrossTeamInspireTeamItemView},t.prototype.closeSelf=function(){this.aCF(O6.B35,HH17.A15)},t.prototype.open=function(){this.listView.open(),this.aCF(O6.B35,HH17.A28)},t.prototype.close=function(){s.prototype.close.call(this),this.listView.close(),this.teamDataCollection.removeAll()},t.prototype.updateUI=function(t){this.dlg.title=O3.tr(7386,t.teamName),this.listView.rfL(TD96.crossTeamTypeData),this.teamDataCollection.replaceAll(t.teamMemberData)},t.prototype.uBM=function(t,e){s.prototype.uBM.call(this,t,e),t instanceof TE76&&this.updateUI(t)},t}(BaseEuiView);__reflect(CrossTeamInspireView.prototype,"CrossTeamInspireView");var CrossTeamMyTeamView=function(s){function t(t,e){var i=s.call(this,t,e)||this;return i.skinName=CrossTeamMyTeamSkin,i}return __extends(t,s),t.prototype.initUI=function(){s.prototype.initUI.call(this),this.dlg.ZM69(this.closeSelf,this),this.dlg.ZQ14(this.closeSelf,this),this.btnAuditing.label=O3.tr(7216),this.btnSign.label=O3.tr(7217),this.teamData.dataProvider=this.teamDataCollection=new eui.ArrayCollection,this.teamData.itemRenderer=CrossTeamMemberItemView},t.prototype.closeSelf=function(){this.aCF(O6.B35,HH17.A31)},t.prototype.ZO6=function(){this.aCF(O6.B35,HH17.A16)},t.prototype.onBtnSign=function(){this.aCF(O6.B35,HH17.A62)},t.prototype.open=function(){this.btnAuditing.addEventListener(egret.TouchEvent.TOUCH_TAP,this.ZO6,this),this.btnSign.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onBtnSign,this),this.aCF(O6.B35,HH17.A28)},t.prototype.close=function(){s.prototype.close.call(this),this.ZO5(),this.btnAuditing.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.ZO6,this),this.btnSign.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onBtnSign,this)},t.prototype.setTimeStr=function(){var t;switch(TE78.model.state){case C5.A1:t=TE78.model.teamState?7236:7173;break;case C5.A2:t=7344;break;case C5.A6:t=7345;break;case C5.A3:t=7346;break;case C5.A4:t=7347}var e=O3.tr(t,P6.FJ11(1e3*TE78.getCdTime(),5));this.lbOverTime.textFlow=M18.HTP.parser(e)},t.prototype.ZR77=function(){var t=this;this.timeHander||(this.setTimeStr(),this.timeHander=App.K16.doTimer(1e3,0,function(){t.setTimeStr(),TE78.getCdTime()<0&&t.ZO5()},this))},t.prototype.ZO5=function(){this.timeHander&&(App.K16.rBH(this.timeHander),this.timeHander=null)},t.prototype.updateUI=function(t){this.dlg.title=O3.tr(7386,t.teamName),this.btnAuditing.imgNew.visible=t.auditingRed,this.ZR77();var e=P7.copyTab(t.teamMemberData);if(!t.teamState)for(var i=1;i<=TD96.teamNumber-t.teamMemberData.length;i++)e=e.concat({});switch(this.teamDataCollection.replaceAll(e),this.grpBtn.visible=!1,t.teamState){case 0:TE78.myIsCaptain()?(this.grpBtn.visible=!0,this.lbState.textFlow=M18.HTP.parser(O3.tr(7215))):this.lbState.textFlow=M18.HTP.parser(O3.tr(7222));break;case 1:var s=O3.tr(7310);this.lbState.textFlow=M18.HTP.parser(O3.tr(7235,s));break;case 2:s=O3.tr(7311);this.lbState.textFlow=M18.HTP.parser(O3.tr(7235,s))}},t.prototype.uBM=function(t,e){s.prototype.uBM.call(this,t,e),t instanceof TE76&&this.updateUI(t)},t}(BaseEuiView);__reflect(CrossTeamMyTeamView.prototype,"CrossTeamMyTeamView");var CrossTeamPreviewView=function(s){function t(t,e){var i=s.call(this,t,e)||this;return i.skinName=CrossTeamPreviewSkin,i}return __extends(t,s),t.prototype.initUI=function(){s.prototype.initUI.call(this),this.lbStr1.textFlow=M18.HTP.parser(O3.tr(7182)),this.lbStr2.textFlow=M18.HTP.parser(O3.tr(7183)),this.lbStr3.textFlow=M18.HTP.parser(O3.tr(7184)),this.lbStr4.textFlow=M18.HTP.parser(O3.tr(7193)),this.lbstr5.textFlow=M18.HTP.parser(O3.tr(7194)),this.btn1.label=O3.tr(7310)+O3.tr(7318),this.btn2.label=O3.tr(7311)+O3.tr(7318),this.dlg.ZM69(this.closeSelf,this),this.dlg.ZQ14(this.closeSelf,this),this.dlg.title=O3.tr(7178),this.grpData.dataProvider=this.grpDataCollection=new eui.ArrayCollection,this.grpData.itemRenderer=CrossTeamPreviewItemView},t.prototype.closeSelf=function(){this.aCF(O6.B35,HH17.A14)},t.prototype.open=function(){this.btn1.addEventListener(egret.TouchEvent.TOUCH_TAP,this.chooseBtn,this),this.btn2.addEventListener(egret.TouchEvent.TOUCH_TAP,this.chooseBtn,this),this.scr.addEventListener(eui.UIEvent.CHANGE_END,this.endScroller,this),this.index=1,this.updateUI(),this.endScroller()},t.prototype.endScroller=function(){this.scr.validateNow(),this.upArrow.visible=0<this.scr.viewport.scrollV,this.downArrow.visible=this.scr.height+this.scr.viewport.scrollV<this.scr.viewport.contentHeight},t.prototype.chooseBtn=function(t){this.index=t.currentTarget==this.btn1?1:2,this.updateUI()},t.prototype.updateUI=function(){this.btn1.bgStr=1==this.index?"v1_btn_yellow_xuanzhong2_png":"v1_btn_yellow_changtai2_png",this.btn2.bgStr=1!=this.index?"v1_btn_yellow_xuanzhong2_png":"v1_btn_yellow_changtai2_png";var t=P7.copyTab(TD96.crossTeamPreviewData[this.index]);this.grpDataCollection.replaceAll(t)},t.prototype.close=function(){s.prototype.close.call(this),this.btn1.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.chooseBtn,this),this.btn2.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.chooseBtn,this),this.scr.removeEventListener(eui.UIEvent.CHANGE_END,this.endScroller,this)},t}(BaseEuiView);__reflect(CrossTeamPreviewView.prototype,"CrossTeamPreviewView");var CrossTeamShopBuyView=function(s){function t(t,e){var i=s.call(this,t,e)||this;return i.maxNum=99,i.skinName="ShopBuySkin",i}return __extends(t,s),t.prototype.initUI=function(){s.prototype.initUI.call(this),this.buyBtn.label=O3.tr(5017),this.lbStr1.textFlow=M18.HTP.parse(O3.tr(5018)),this.lbStr2.textFlow=M18.HTP.parse(O3.tr(5019))},t.prototype.initData=function(){s.prototype.initData.call(this)},t.prototype.open=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];s.prototype.open.call(this);var i=t[0];this._item=i,this.bgMask.addEventListener(egret.TouchEvent.TOUCH_TAP,this.closeSelf,this),this.closeBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.closeSelf,this),this.deTenBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.doDeTen,this),this.deOneBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.doDeOne,this),this.inOneBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.doInOne,this),this.inTenBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.doInTen,this),this.buyBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.doBuy,this),this.iconGroup.addEventListener(egret.TouchEvent.TOUCH_TAP,this.showItem,this),this.GX5()},t.prototype.uBM=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];s.prototype.uBM.call(this,t,e),t instanceof TE76&&this.GX5()},t.prototype.doDeTen=function(){var t=Number(this.copies.text);this.copies.text=t-10<1?"1":String(t-10);var e=Number(this.copies.text)*this._item.costNum;this.totalCost.text="x"+e},t.prototype.doDeOne=function(){var t=Number(this.copies.text);this.copies.text=t-1<1?"1":String(t-1);var e=Number(this.copies.text)*this._item.costNum;this.totalCost.text="x"+e},t.prototype.doInOne=function(){var t=Number(this._item.costId),e=Number(this.copies.text),i=N12.giC(t),s=i;if(t==N12.itemId.bindGold){if(s=N12.giC(N12.itemId.gold)+i,(e+1)*this._item.costNum>s)return}else if((e+1)*this._item.costNum>s)return;var o=this._item.batchnum;-1!=this._item.limitnum&&(o=Math.min(o,this._item.limitnum),o-=this._item.limitnum-this._item.buyTime);var r=Math.floor(s/this._item.costNum),n=r>this.maxNum?this.maxNum:r;o=n<o?n:o,this.copies.text=o<e+1?String(o):String(e+1);var a=Number(this.copies.text)*this._item.costNum;this.totalCost.text="x"+a},t.prototype.doInTen=function(){var t=this._item.costId,e=Number(this.copies.text),i=N12.giC(Number(t)),s=i;if(t==N12.itemId.bindGold){if(s=N12.giC(N12.itemId.gold)+i,(e+10)*this._item.costNum>s)return}else if((e+10)*this._item.costNum>s)return;var o=this._item.batchnum;-1!=this._item.limitnum&&(o=Math.min(o,this._item.limitnum),o-=this._item.limitnum-this._item.buyTime);var r=Math.floor(s/this._item.costNum),n=r>this.maxNum?this.maxNum:r;o=n<o?n:o,this.copies.text=o<e+10?String(o):String(e+10);var a=Number(this.copies.text)*this._item.costNum;this.totalCost.text="x"+a},t.prototype.GX5=function(){var t=this._item,e=t.bg;this.iconBg.source=e;var i=t.icon;this.icon.source=i;var s=t.itemname;this.nameLb.text=s;var o=t.itemnum;this.num.text=o;var r=t.buyTime,n=t.limitnum;this.buyBtn.touchEnabled=!0,this.buyBtn.filters=[],-1==n||null==n?this.limitLb.text=O3.tr(2507):0<r?this.limitLb.text=O3.tr(2508,r,t.limitnum):(this.limitLb.textFlow=M18.HTP.parser(O3.tr(2509)),this.buyBtn.touchEnabled=!1,this.buyBtn.filters=[P16.GrayMatrixFilter]);var a=t.desc;this.desc.textFlow=M18.FG71(a);var h=t.costIcon;this.costIcon.source=h;var p=t.costNum;this.copies.text="1";var l=Number(this.copies.text);this.totalCost.text="x"+String(p*l)},t.prototype.close=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];s.prototype.close.call(this),this.bgMask.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.closeSelf,this),this.closeBtn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.closeSelf,this),this.deTenBtn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.doDeTen,this),this.deOneBtn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.doDeOne,this),this.inOneBtn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.doInOne,this),this.inTenBtn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.doInTen,this),this.buyBtn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.doBuy,this),this.iconGroup.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.showItem,this)},t.prototype.showItem=function(t){if(this._item.type&&1!=this._item.type){var e=M10.ava[this._item.itemid];App.CM.apF(O6.B98,M19.A17,e)}else{var i=N12.gID(this._item.itemid),s=N12.giC(this._item.itemid);App.CM.apF(O6.C11,O14.A15,i,s)}},t.prototype.closeSelf=function(){App.CM.apF(O6.B35,HH17.A17)},t.prototype.doBuy=function(){var t=this;App.CM.gtM(O6.B98);if(P7.FF59()){var e=this._item.id,i=Number(this.copies.text),s=Number(this._item.costId),o=N12.giC(s);if(75001==s&&i*this._item.costNum>o){App.VM.open(O7.HH38,M18.FG71(O3.tr(3406)),this,function(){App.CM.apF(t._item.controllerConst,t._item.reqConst,t._item.id,Number(t.copies.text)),t.closeSelf()})}else App.CM.apF(this._item.controllerConst,this._item.reqConst,e,i),this.closeSelf()}},t}(BaseEuiView);__reflect(CrossTeamShopBuyView.prototype,"CrossTeamShopBuyView");var CrossTeamShopView=function(s){function t(t,e){var i=s.call(this,t,e)||this;return i.skinName=CrossTeamShopSkin,i}return __extends(t,s),t.prototype.initUI=function(){s.prototype.initUI.call(this),this.dlg.ZM69(this.closeSelf,this),this.dlg.ZQ14(this.closeSelf,this);var t={render:CrossTeamShopPlainItemView,horizontalGap:6,verticalGap:6,tileLayout:!0,width:this.grpList1.width,height:this.grpList1.height,arrowScale:1};this.listView1=new CommonListBase(t),this.grpList1.addChild(this.listView1),this.listView1.verticalCenter=0,this.listView1.horizontalCenter=0;var e={render:CrossTeamShopHonorItemView,horizontalGap:6,verticalGap:6,tileLayout:!0,width:this.grpList2.width,height:this.grpList2.height,arrowScale:1};this.listView2=new CommonListBase(e),this.grpList2.addChild(this.listView2),this.listView2.verticalCenter=0,this.listView2.horizontalCenter=0,this.tabChange.dataProvider=new eui.ArrayCollection([{name:O3.tr(7267)},{name:O3.tr(7268)}]);var i=N12.gID(N12.itemId.sjgs);this.imgItem.setData(i),this.dlg.title=O3.tr(7269)},t.prototype.update1=function(){var t=TE78.getListShop1();this.listView1.rfL(t)},t.prototype.update2=function(){var t=TE78.getListShop2();this.listView2.rfL(t)},t.prototype.closeSelf=function(){App.CM.apF(O6.B35,HH17.A55)},t.prototype.open=function(){this.listView1.open(),this.listView2.open(),this.tabChange.addEventListener(eui.UIEvent.CHANGE,this.ZR78,this),this.viewStack.selectedIndex=this.tabChange.selectedIndex=0},t.prototype.close=function(){s.prototype.close.call(this),this.listView1.close(),this.listView2.close(),this.tabChange.removeEventListener(eui.UIEvent.CHANGE,this.ZR78,this),this.ZO5()},t.prototype.ZO5=function(){this.timeHander&&(App.K16.rBH(this.timeHander),this.timeHander=null)},t.prototype.setTimeStr=function(){var t=O3.tr(7425,P6.FJ11(1e3*TE78.getShopTime(),5));this.lbOverTime.textFlow=M18.HTP.parser(t)},t.prototype.ZR77=function(){var t=this;this.timeHander||(this.setTimeStr(),this.timeHander=App.K16.doTimer(1e3,0,function(){t.setTimeStr(),TE78.getShopTime()<0&&t.ZO5()},this))},t.prototype.updateUI=function(t){this.lbNum.textFlow=M18.HTP.parser(O3.tr(7185,t.integral))},t.prototype.ZR78=function(){this.viewStack.selectedIndex=this.tabChange.selectedIndex},t.prototype.uBM=function(t,e){if(s.prototype.uBM.call(this,t,e),t instanceof TE76)switch(this.updateUI(t),e){case P4.N17:this.ZR77(),this.update1(),this.update2();break;case P4.P35:this.tabChange.selectedIndex?this.update2():this.update1()}},t}(BaseEuiView);__reflect(CrossTeamShopView.prototype,"CrossTeamShopView");var CrossTeamSignView=function(s){function t(t,e){var i=s.call(this,t,e)||this;return i.skinName=CrossTeamSignSkin,i}return __extends(t,s),t.prototype.initUI=function(){s.prototype.initUI.call(this),this.lbStr1.textFlow=M18.HTP.parser(O3.tr(7193)),this.lbStr2.textFlow=M18.HTP.parser(O3.tr(7234)),this.dlg.ZM69(this.closeSelf,this),this.dlg.ZQ14(this.closeSelf,this),this.dlg.title=O3.tr(7233)},t.prototype.closeSelf=function(){this.aCF(O6.B35,HH17.A54)},t.prototype.open=function(){this.setLeftData(),this.suiteLeft.addEventListener(egret.TouchEvent.TOUCH_TAP,this.choosePlayer,this),this.suiteRight.addEventListener(egret.TouchEvent.TOUCH_TAP,this.choosePlayer,this),this.suiteLeft.open(),this.suiteRight.open(),this.aCF(O6.B35,HH17.A40)},t.prototype.setLeftData=function(){this.suiteLeft.setGrpSelect(!0),this.suiteRight.setGrpSelect(!1)},t.prototype.choosePlayer=function(t){"left"==t.currentTarget.name?this.setLeftData():(this.suiteRight.setGrpSelect(!0),this.suiteLeft.setGrpSelect(!1))},t.prototype.close=function(){s.prototype.close.call(this),this.suiteLeft.close(),this.suiteRight.close(),this.suiteLeft.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.choosePlayer,this),this.suiteRight.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.choosePlayer,this)},t.prototype.updateUI=function(t){var e=new CrossTeamSignVo;e.id=A18.A1,e.name=O3.tr(7310),e.num=t.signNum[e.id],this.suiteLeft.setData(e),(e=new CrossTeamSignVo).id=A18.A2,e.name=O3.tr(7311),e.num=t.signNum[e.id],this.suiteRight.setData(e)},t.prototype.uBM=function(t,e){if(s.prototype.uBM.call(this,t,e),t instanceof TE76)switch(e){case P4.L23:this.updateUI(t)}},t}(BaseEuiView);__reflect(CrossTeamSignView.prototype,"CrossTeamSignView");var CrossTeamStakeView=function(s){function t(t,e){var i=s.call(this,t,e)||this;return i.skinName=CrossTeamStakeSkin,i}return __extends(t,s),t.prototype.initUI=function(){s.prototype.initUI.call(this),this.lbStr3.textFlow=this.lbStr1.textFlow=M18.HTP.parser(O3.tr(7258)),this.lbStr2.textFlow=M18.HTP.parser(O3.tr(7259)),this.dlg.ZM69(this.closeSelf,this),this.dlg.ZQ14(this.closeSelf,this),this.dlg.title=O3.tr(7177);var t={render:CrossTeamBetsRewardItem,gap:5,width:this.grpYa.width,height:this.grpYa.height,arrowScale:1};this.listYaView=new CommonListBase(t),this.grpYa.addChild(this.listYaView),this.listYaView.verticalCenter=0,this.listYaView.horizontalCenter=0;var e={render:CrossTeamResultItemView,gap:2,width:this.grpLook.width,height:this.grpLook.height,arrowScale:1};this.listLookView=new CommonListBase(e),this.grpLook.addChild(this.listLookView),this.listLookView.verticalCenter=0,this.listLookView.horizontalCenter=0,this.leftData.itemRenderer=CrossTeamPKPlayLeftItemView,this.leftData.dataProvider=this.leftCollection=new eui.ArrayCollection,this.leftInspireData.itemRenderer=CrossTeamInspireLvItemView,this.leftInspireData.dataProvider=this.leftInspireCollection=new eui.ArrayCollection,this.rightData.itemRenderer=CrossTeamPKPlayRightItemView,this.rightData.dataProvider=this.rightCollection=new eui.ArrayCollection,this.rightInspireData.itemRenderer=CrossTeamInspireLvItemView,this.rightInspireData.dataProvider=this.rightInspireCollection=new eui.ArrayCollection,this.labTr8097.textFlow=O3.tr2(8097),this.labTr8099.textFlow=O3.tr2(8099)},t.prototype.closeSelf=function(){this.aCF(O6.B35,HH17.A42)},t.prototype.open=function(){var t=TE78.model;this.ZO1(t),this.cb1.addEventListener(eui.UIEvent.CHANGE,this.ZI37,this),this.rb2.addEventListener(eui.UIEvent.CHANGE,this.ZG66,this)},t.prototype.close=function(){s.prototype.close.call(this),this.listYaView.close(),this.listLookView.close(),this.cb1.removeEventListener(eui.UIEvent.CHANGE,this.ZI37,this),this.rb2.removeEventListener(eui.UIEvent.CHANGE,this.ZG66,this)},t.prototype.ZI37=function(){var t=TE78.model,e=t.crossTeamGuessData;this.cb1.selected?t.chooseId=e.leftData.tid:t.chooseId=e.rightData.tid},t.prototype.ZG66=function(){var t=TE78.model,e=t.crossTeamGuessData;this.rb2.selected?t.chooseId=e.rightData.tid:t.chooseId=e.leftData.tid},t.prototype.ZO1=function(t){switch(t.lookState){case A9.A2:var e=t.crossTeamFightData;this.dlg.title=O3.tr(7338),this.listLookView.open(),this.leftCollection.replaceAll(e.leftData.teamMemberData),this.rightCollection.replaceAll(e.rightData.teamMemberData),this.leftInspireCollection.replaceAll(e.leftData.getInspireData()),this.rightInspireCollection.replaceAll(e.rightData.getInspireData()),this.listLookView.rfL(e.fightListData,!0),this.labTr8099.visible=this.grpSpeed.visible=this.gAttention.visible=this.grpYa.visible=this.grpChoose.visible=!1,this.grpResult.visible=this.grpLook.visible=!0,this.lbResult.text=e.leftWin+":"+e.rightWin,this.imgResult1.source=e.leftWin>e.rightWin?"v1_fonts_sheng_png":"v1_fonts_bai_png",this.imgResult2.source=e.leftWin>e.rightWin?"v1_fonts_bai_png":"v1_fonts_sheng_png",this.lbName1.textFlow=M18.HTP.parser(O3.tr(7231,e.leftData.teamName)),this.lbName2.textFlow=M18.HTP.parser(O3.tr(7231,e.rightData.teamName));break;case A9.A1:this.dlg.title=O3.tr(7337);var i=t.crossTeamGuessData;this.cb1.label=i.leftData.teamName,this.rb2.label=i.rightData.teamName;var s=t.crossTeamMatchData.s;this.lbTime.textFlow=M18.HTP.parser(O3.tr(7323,TD96.recePoint));var o=TE78.FI25();this.lbSpeed.textFlow=M18.HTP.parser(O3.tr(7324,o.starNum,o.overNum)),t.isYa=!1,s?(this.grpChoose.touchChildren=!1,this.cb1.selected=i.leftData.tid==s,this.rb2.selected=i.rightData.tid==s,(this.cb1.selected||this.rb2.selected)&&(t.isYa=!0)):(this.grpChoose.touchChildren=!0,this.cb1.selected=i.leftData.allPower>=i.rightData.allPower,this.rb2.selected=i.leftData.allPower<i.rightData.allPower,this.ZI37()),this.listYaView.open(),this.leftCollection.replaceAll(i.leftData.teamMemberData),this.rightCollection.replaceAll(i.rightData.teamMemberData),this.leftInspireCollection.replaceAll(i.leftData.getInspireData()),this.rightInspireCollection.replaceAll(i.rightData.getInspireData()),this.listYaView.rfL(TD96.betsRewardData,!0),this.lbName1.textFlow=M18.HTP.parser(O3.tr(7231,i.leftData.teamName)),this.lbName2.textFlow=M18.HTP.parser(O3.tr(7231,i.rightData.teamName)),this.grpResult.visible=this.grpLook.visible=!1,this.gAttention.visible=this.labTr8099.visible=this.grpChoose.visible=this.grpYa.visible=this.grpSpeed.visible=!0,this.ZG67(t)}},t.prototype.ZG67=function(t){var e=t.crossTeamGuessData.lp+t.crossTeamGuessData.rp,i=.5,s=.5;0<e&&(i=t.crossTeamGuessData.rp/e,s=t.crossTeamGuessData.lp/e);var o=Math.round(100*s);this.labAttention.text=O3.tr(8098,o),this.labAttention2.text=O3.tr(8098,100-o);var r=this.labAttention.width+10,n=this.labAttention2.width+10;this.imgAttention.width=Math.max(r,556-Math.max(556*i,n)),this.labAttention2.x=this.imgAttention.width+5,this.labAttention.x=this.imgAttention.width-r+5},t.prototype.uBM=function(t,e){if(s.prototype.uBM.call(this,t,e),t instanceof TE76)switch(e){case P4.J25:case P4.R8:case P4.N15:this.ZO1(t)}},t}(BaseEuiView);__reflect(CrossTeamStakeView.prototype,"CrossTeamStakeView");var CrossTeamTipsView=function(s){function t(t,e){var i=s.call(this,t,e)||this;return i.skinName=CrossTeamTipsSkin,i}return __extends(t,s),t.prototype.initUI=function(){s.prototype.initUI.call(this)},t.prototype.open=function(t){this.addEventListener(egret.TouchEvent.TOUCH_TAP,this.closeSelf,this);var e=N18.imgjump[t];this.lbDesc.textFlow=M18.HTP.parser(O3.tr(e.textid)),this.imgGn.source=e.img},t.prototype.close=function(){this.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.closeSelf,this)},t.prototype.closeSelf=function(){App.CM.apF(O6.B35,HH17.A57)},t}(BaseEuiView);__reflect(CrossTeamTipsView.prototype,"CrossTeamTipsView");var CrossTeamView=function(s){function t(t,e){var i=s.call(this,t,e)||this;return i.skinName=CrossTeamViewSkin,i}return __extends(t,s),t.prototype.initUI=function(){s.prototype.initUI.call(this),this.btns=[];for(var t=1;t<=31;t++)this.btns.push(this["btnGo"+t]);this.lbPreselection.text=O3.tr(3376);var e={render:CrossTeamRanKingItemView,gap:5,width:this.listGroup.width,height:this.listGroup.height,arrowScale:1};this.listView=new CommonListBase(e),this.listGroup.addChild(this.listView),this.listView.verticalCenter=0,this.listView.horizontalCenter=0,this.dlg.title=O3.tr(7177),this.lbStr1.textFlow=M18.HTP.parser(O3.tr(7241)),this.lbStr3.textFlow=M18.HTP.parser(O3.tr(7174)),this.btnPreview.label=this.btnPreview1.label=O3.tr(7178),this.btnJoinTeam.label=O3.tr(7179),this.btnCreate.label=O3.tr(7180),this.btnMyTeam.label=O3.tr(7181),this.btnCombat.label=O3.tr(7181),this.btnChallenge.label=O3.tr(7240),this.lbRanking.textFlow=M18.HTP.parser(O3.tr(7487)),this.lbRecord.textFlow=M18.HTP.parser(O3.tr(7488)),this.lbIntegral.textFlow=M18.HTP.parser(O3.tr(7489)),this.lbStr2.textFlow=M18.HTP.parser(O3.tr(7246)),this.lbTips.textFlow=M18.HTP.parser(O3.tr(7175)),this.lbRank.textFlow=M18.HTP.parser(O3.tr(7326)),this.lbTime.textFlow=M18.HTP.parser(O3.tr(4329,TD96.recePoint))},t.prototype.open=function(){this.dlg.ZM69(this.closeSelf,this),this.dlg.ZQ14(this.closeSelf,this),this.dlg.ZQ16(this.onClickHelp,this);for(var t=0;t<this.btns.length;t++)this.btns[t].data=t,this.btns[t].addEventListener(egret.TouchEvent.TOUCH_TAP,this.lookData,this);this.btnShop.addEventListener(egret.TouchEvent.TOUCH_TAP,this.ZG63,this),this.btnSwitch.addEventListener(egret.TouchEvent.TOUCH_TAP,this.ZW22,this),this.lbLook.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickLook,this),this.btnCombat.addEventListener(egret.TouchEvent.TOUCH_TAP,this.ZW20,this),this.btnChallenge.addEventListener(egret.TouchEvent.TOUCH_TAP,this.ZK95,this),this.btnPreview.addEventListener(egret.TouchEvent.TOUCH_TAP,this.ZQ41,this),this.btnPreview1.addEventListener(egret.TouchEvent.TOUCH_TAP,this.ZQ41,this),this.btnJoinTeam.addEventListener(egret.TouchEvent.TOUCH_TAP,this.ZO7,this),this.btnCreate.addEventListener(egret.TouchEvent.TOUCH_TAP,this.ZU76,this),this.btnMyTeam.addEventListener(egret.TouchEvent.TOUCH_TAP,this.ZW21,this);var e=App.CM.gtM(O6.B35);this.ZO1(e),this.btnSwitch.label=O3.tr(7243),this.grpUp.visible=!0,this.grpDown.visible=!1;var i=0;!e.isFirstShow&&1<e.state&&(i=1),this.aCF(O6.B35,HH17.A72,i)},t.prototype.onClickHelp=function(){var t={title:O3.tr(2715),content:O3.tr(7176)};this.aCF(O6.C18,O10.A24,t)},t.prototype.onClickLook=function(){var t;t=TE78.model.crossTeamMatchData.gId==A18.A1?A18.A2:A18.A1,this.aCF(O6.B35,HH17.A12,t)},t.prototype.ZW20=function(){this.aCF(O6.B35,HH17.A32)},t.prototype.ZQ41=function(){this.aCF(O6.B35,HH17.A30)},t.prototype.ZO7=function(){this.aCF(O6.B35,HH17.A34),this.aCF(O6.B35,HH17.A56)},t.prototype.ZU76=function(){this.aCF(O6.B35,HH17.A6)},t.prototype.ZW21=function(){this.aCF(O6.B35,HH17.A43)},t.prototype.ZK95=function(){if(0<TE78.model.crossTeamAuditionData.challengeNum)this.aCF(O6.B35,HH17.A38);else{App.VM.open(O7.HH38,M18.FG71(O3.tr(7288,TD96.quaBuyCost.v)),this,function(){N12.giC(TD96.quaBuyCost.k)>=TD96.quaBuyCost.v?App.CM.apF(O6.B35,HH17.A7):P7.FA78()})}},t.prototype.closeSelf=function(){this.aCF(O6.B35,HH17.A74)},t.prototype.ZG63=function(){this.aCF(O6.B35,HH17.A51),this.aCF(O6.B35,HH17.A63)},t.prototype.ZW22=function(){this.btnSwitch.label==O3.tr(7243)?(this.btnSwitch.label=O3.tr(7242),this.grpUp.visible=!1,this.grpDown.visible=!0,this.btnSwitch.top=30):(this.grpUp.visible=!0,this.grpDown.visible=!1,this.btnSwitch.label=O3.tr(7243),this.btnSwitch.top=690)},t.prototype.ZO5=function(){this.lbSignTime.textFlow=null,this.timeHander&&(App.K16.rBH(this.timeHander),this.timeHander=null)},t.prototype.lookData=function(t){var e=t.target.name,i=t.target.data;if(e){var s=this.btns[i],o=App.CM.gtM(O6.B35);switch(o.did=e,o.isFight=!1,o.chatShow=!1,App.CM.apF(O6.B35,HH17.A53),s.icon){case"v1_btn_ya_txhw_png":App.CM.apF(O6.B35,HH17.A22,e);break;case"v1_btn_hf_txhw_png":App.CM.apF(O6.B35,HH17.A45,e)}}},t.prototype.close=function(){s.prototype.close.call(this),this.listView&&this.listView.close(),this.ZO5();for(var t=0;t<this.btns.length;t++)this.btns[t].removeEventListener(egret.TouchEvent.TOUCH_TAP,this.lookData,this);this.btnShop.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.ZG63,this),this.btnSwitch.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.ZW22,this),this.lbLook.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onClickLook,this),this.btnCombat.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.ZW20,this),this.btnChallenge.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.ZK95,this),this.btnPreview.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.ZQ41,this),this.btnPreview1.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.ZQ41,this),this.btnJoinTeam.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.ZO7,this),this.btnCreate.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.ZU76,this),this.btnMyTeam.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.ZW21,this)},t.prototype.setya=function(i){this.btns.forEach(function(t,e){t.visible&&"v1_btn_ya_txhw_png"==t.icon&&P16.sGF(t,i)})},t.prototype.setData=function(t,e,i){if(t.win){this["btnGo"+i].icon="v1_btn_hf_txhw_png",P16.sGF(this["btnGo"+i],!1);for(var s=1;s<=16;s++){var o=(a=this["grp"+s]).getChildByName("left"),r=(h=a.getChildByName("right")).data;if((p=o.data)==t.win){this["grpLeft"+s+"_"+e].visible=!0;break}if(r==t.win){this["grpRight"+s+"_"+e].visible=!0;break}}var n;n=t.win==t.lef?t.rig:t.lef;for(s=1;s<=16;s++){var a,h=(a=this["grp"+s]).getChildByName("right"),p=(o=a.getChildByName("left"),r=h.data,o.data);if(r==n){this["grpRight"+s+"_16"].visible=!1,h.setGray(!1);break}if(p==n){this["grpLeft"+s+"_16"].visible=!1,o.setGray(!1);break}}}},t.prototype.ZO8=function(){switch(TE78.model.state){case C5.A1:var t=O3.tr(7173,P6.FJ11(1e3*TE78.getCdTime(),5));this.lbSignTime.textFlow=M18.HTP.parser(t);break;case C5.A2:t=O3.tr(7419,P6.FJ11(1e3*TE78.getCdTime(),5));this.lbSignTime.textFlow=M18.HTP.parser(t);break;case C5.A6:t=O3.tr(7239,P6.FJ11(1e3*TE78.getCdTime(),5));this.lbCount.textFlow=M18.HTP.parser(t);break;case C5.A3:t=O3.tr(7247,P6.FJ11(1e3*TE78.getCdTime(),5));this.lbPromotionTime.textFlow=M18.HTP.parser(t);break;case C5.A4:t=O3.tr(7245,P6.FJ11(1e3*TE78.getCdTime(),5));this.lbRetain.textFlow=M18.HTP.parser(t)}},t.prototype.ZB69=function(){var t=this;this.timeHander||(this.ZO8(),this.timeHander=App.K16.doTimer(1e3,0,function(){t.ZO8(),TE78.getCdTime()<0&&t.ZO5()},this))},t.prototype.ZO1=function(t){this.ZB69(),this.btnMyTeam.imgNew.visible=t.auditingRed,this.lbSignTime.visible=!1;var e=t.crossTeamMatchData;switch(t.state){case C5.A1:this.grpPreliminary.visible=this.grpMatch.visible=this.grpPrimary.visible=!1,this.lbSignTime.visible=!0,this.grpJoin.visible=!0,this.grpCompetition.visible=!0,t.isHaveTeam?(this.btnJoinTeam.visible=this.btnJoinTeam.includeInLayout=this.btnCreate.includeInLayout=this.btnCreate.visible=!1,this.btnMyTeam.visible=!0,this.btnMyTeam.imgNew.visible=t.auditingRed):(this.btnJoinTeam.visible=this.btnJoinTeam.includeInLayout=this.btnCreate.includeInLayout=this.btnCreate.visible=!0,this.btnMyTeam.visible=!1);break;case C5.A6:case C5.A2:if(this.grpJoin.visible=!0,this.btnJoinTeam.visible=this.btnJoinTeam.includeInLayout=this.btnCreate.includeInLayout=this.btnCreate.visible=this.btnMyTeam.imgNew.visible=this.grpPreliminary.visible=this.grpMatch.visible=!1,t.isHaveTeam){this.grpCompetition.visible=!1,this.grpPrimary.visible=!0,this.btnMyTeam.visible=this.btnMyTeam.includeInLayout=!0;var i=t.crossTeamAuditionData.ranking;this.lbHurtRow.textFlow=i?M18.HTP.parser(O3.tr(7237,i)):M18.HTP.parser(O3.tr(7285));var s=t.crossTeamAuditionData.hurt?THH13.FL93(t.crossTeamAuditionData.hurt):0;this.lbHurtNum.textFlow=M18.HTP.parser(O3.tr(7238,s)),t.state==C5.A2?(this.lbSignTime.visible=!0,this.grpChallenge.visible=!0,t.crossTeamAuditionData.challengeNum?this.lbChallenge.textFlow=M18.HTP.parser(O3.tr(7287,t.crossTeamAuditionData.challengeNum)):this.lbChallenge.textFlow=M18.HTP.parser(O3.tr(7286,t.crossTeamAuditionData.challengeNum))):this.grpChallenge.visible=!1}else this.grpCompetition.visible=!0,this.btnMyTeam.visible=this.grpPrimary.visible=this.btnMyTeam.includeInLayout=!1;t.state==C5.A6?this.lbCount.visible=!0:this.lbCount.visible=!1;break;case C5.A3:if(t.isHaveTeam){this.listView.open(),this.grpPreliminary.visible=!0,this.grpMatch.visible=this.grpJoin.visible=!1,this.listView.rfL(t.crossTeamReadyData.readyList);var o=t.crossTeamReadyData.myRanking;s=void 0;switch(o.ranking&&(s=O3.tr(3377,o.ranking),this.lbRanking.textFlow=M18.HTP.parser(s),s=O3.tr(3378,o.winNum,o.loseNum),this.lbRecord.textFlow=M18.HTP.parser(s),s=O3.tr(3379,o.integral),this.lbIntegral.textFlow=M18.HTP.parser(s)),t.teamState){case 1:s=O3.tr(7310);break;case 2:s=O3.tr(7311)}this.lbGrade0.textFlow=M18.HTP.parser(O3.tr(7327,s,O3.tr(7318)))}else this.grpJoin.visible=!0,this.grpCompetition.visible=!0,this.grpMatch.visible=this.grpPreliminary.visible=this.btnMyTeam.visible=this.grpPrimary.visible=this.btnMyTeam.includeInLayout=this.btnJoinTeam.visible=this.btnJoinTeam.includeInLayout=this.btnCreate.includeInLayout=this.btnCreate.visible=!1;break;case C5.A4:this.btnCombat.visible=t.isHaveTeam,this.grpMatch.visible=!0,this.grpJoin.visible=this.grpPreliminary.visible=!1;var r=e.gId==A18.A1?O3.tr(7310):O3.tr(7311),n=e.gId==A18.A1?O3.tr(7311):O3.tr(7310);this.lbGrade.textFlow=M18.HTP.parser(O3.tr(7327,r,O3.tr(7318)));var a=TE78.FI25();t.isOver()?this.lbPromotion.visible=this.lbTime.visible=!1:(this.lbPromotion.visible=this.lbTime.visible=!0,1==a.overNum?this.lbPromotion.textFlow=M18.HTP.parser(O3.tr(7412)):this.lbPromotion.textFlow=M18.HTP.parser(O3.tr(7329,a.starNum,a.overNum))),this.lbLook.textFlow=M18.HTP.parser(O3.tr(7244,n,O3.tr(7318)));for(var h=t.crossTeamMatchData.crossTeamVo,p=this.btns.length;0<p;p--)this["btnGo"+p].visible=!0;for(p=this.btns.length;p>this.btns.length+1-a.overNum;p--)this["btnGo"+p].visible=!1;for(p=0;p<h.length;p++){var l=h[p],c=p+1;if(this["btnGo"+c].name=l.did,c<=16){var u=this["grp"+c],d=u.getChildByName("left"),v=u.getChildByName("right");e.s?(d.setGrpYa(l.lef==e.s),v.setGrpYa(l.rig==e.s)):(d.setGrpYa(!1),v.setGrpYa(!1));var f=e.crossTeamDuelerVo[l.lef];d.setData(f),d.data=l.lef;var g=e.crossTeamDuelerVo[l.rig];v.setData(g),v.data=l.rig,d.setBgimg(l.lef==l.win),v.setBgimg(l.rig==l.win),l.win&&(P16.sGF(this["btnGo"+c],!1),this["btnGo"+c].icon="v1_btn_hf_txhw_png",d.setGray(l.lef==l.win),v.setGray(l.rig==l.win),this["grpLeft"+c+"_16"].visible=l.lef==l.win,this["grpRight"+c+"_16"].visible=l.rig==l.win),t.tid&&l.lef==t.tid&&d.setMyBgimg(),t.tid&&l.rig==t.tid&&v.setMyBgimg()}else c<=24?this.setData(l,"8",c):c<=28?this.setData(l,"4",c):c<=30?this.setData(l,"2",c):this.setData(l,"1",c)}this.setya(!!e.s);var m=!1;if(t.isOver())for(p=1;p<=15;p++)if(this["grpLeft"+p+"_16"].visible||this["grpRight"+p+"_16"].visible){m=8<p;break}this.imgDown.visible=m}},t.prototype.uBM=function(t,e){s.prototype.uBM.call(this,t,e),t instanceof TE76&&this.ZO1(t)},t}(BaseEuiView);__reflect(CrossTeamView.prototype,"CrossTeamView"),window.ChildrenBaseItem=ChildrenBaseItem,window.ActivityVo=ActivityVo,window.DoubleRingDrawQuestionItem=DoubleRingDrawQuestionItem,window.CrossTeamShopHonorItemView=CrossTeamShopHonorItemView,window.CrossTeamShopPlainItemView=CrossTeamShopPlainItemView,window.FaBaoHeroInfoBaseView=FaBaoHeroInfoBaseView,window.E4=E4,window.J11=J11,window.I4=I4,window.FightComponent=FightComponent,window.FightMapTile=FightMapTile,window.GrowGuideListView=GrowGuideListView,window.HeroInfoBaseView=HeroInfoBaseView,window.HeroBattleLineupFabaoAtkView=HeroBattleLineupFabaoAtkView,window.HeroBattleLineupHeroAtkView=HeroBattleLineupHeroAtkView,window.HeroEquipView=HeroEquipView,window.MasterOnlineRewardItem=MasterOnlineRewardItem,window.MonarchLegionRankView=MonarchLegionRankView,window.P12=P12,window.ItemSocial=ItemSocial,window.SocialContentView=SocialContentView,window.WxBasePanelView=WxBasePanelView,window.TC97=TC97,window.Achievement=Achievement,window.AchievementDailyShareView=AchievementDailyShareView,window.AchievementMainView=AchievementMainView,window.AchivementTipsView=AchivementTipsView,window.AchievementMenuListItem=AchievementMenuListItem,window.AchievementTaskListItem=AchievementTaskListItem,window.TE12=TE12,window.I17=I17,window.F17=F17,window.J13=J13,window.F7=F7,window.ActivityEntrance=ActivityEntrance,window.E5=E5,window._a=_a,window.TB85=TB85,window.TF4=TF4,window.TF5=TF5,window.activity_datas=activity_datas,window.TF59=TF59,window.TB86=TB86,window.D17=D17,window.ActivityHallType=ActivityHallType,window.TA50=TA50,window.TC31=TC31,window.TC90=TC90,window.ActivityHallItemsView=ActivityHallItemsView,window.ActivityHallMainView=ActivityHallMainView,window.ActivityHallViewD=ActivityHallViewD,window.ActivityHallViewL=ActivityHallViewL,window.I1=I1,window.TB36=TB36,window.TE13=TE13,window.TE14=TE14,window.BuyRebateView=BuyRebateView,window.BuyRebateVo=BuyRebateVo,window.TA74=TA74,window.C6=C6,window.TA26=TA26,window.TB37=TB37,window.TB38=TB38,window.AnecdoteColItem=AnecdoteColItem,window.AnecdoteFkItem=AnecdoteFkItem,window.AnecdoteRankItem=AnecdoteRankItem,window.AnecdoteRecordView=AnecdoteRecordView,window.AnecdoteRecordData=AnecdoteRecordData,window.AnecdoteRecordVo=AnecdoteRecordVo,window.E12=E12,window.TA75=TA75,window.TC91=TC91,window.TC92=TC92,window.TD52=TD52,window.BargainShopView=BargainShopView,window.BargainItem=BargainItem,window.BargainShopData=BargainShopData,window.E18=E18,window.B7=B7,window.A3=A3,window.TA76=TA76,window.TC93=TC93,window.TC94=TC94,window.TC95=TC95,window.BattleFieldBaseView=BattleFieldBaseView,window.BattleFieldChargeAuiView=BattleFieldChargeAuiView,window.BattleFieldRankItemView=BattleFieldRankItemView,window.BattleFieldRankRoleView=BattleFieldRankRoleView,window.BattleFieldRankView=BattleFieldRankView,window.BattleFieldRewardItemView=BattleFieldRewardItemView,window.BattleFieldRewardView=BattleFieldRewardView,window.BattleFieldView=BattleFieldView,window.BattleFieldData=BattleFieldData,window.HH7=HH7,window.TB39=TB39,window.TE15=TE15,window.TE16=TE16,window.CatchFishRewardView=CatchFishRewardView,window.CatchFishShowAwardView=CatchFishShowAwardView,window.CatchFishView=CatchFishView,window.ItemCatchFishReward=ItemCatchFishReward,window.CatchFishData=CatchFishData,window.D13=D13,window.TA51=TA51,window.TC32=TC32,window.TC33=TC33,window.TC96=TC96,window.ChapterBreakType=ChapterBreakType,window.ChapterAwardsView=ChapterAwardsView,window.ChapterBreakView=ChapterBreakView,window.ChapterBreakConfVo=ChapterBreakConfVo,window.ChapterBreakData=ChapterBreakData,window.HH18=HH18,window.TB40=TB40,window.TE17=TE17,window.TF6=TF6,window.CheapGiftItem=CheapGiftItem,window.CheapGiftView=CheapGiftView,window.CheapGiftData=CheapGiftData,window.TE18=TE18,window.E19=E19,window.TA77=TA77,window.TC98=TC98,window.CollectWordItem=CollectWordItem,window.CollectWordView=CollectWordView,window.C12=C12,window.TA36=TA36,window.TB87=TB87,window.TB88=TB88,window.TC34=TC34,window.ConsumeRebateItemsView=ConsumeRebateItemsView,window.ConsumeRebateView=ConsumeRebateView,window.ConsumeRebateConfVo=ConsumeRebateConfVo,window.ConsumeRebateData=ConsumeRebateData,window.A19=A19,window.TA16=TA16,window.TA78=TA78,window.TA79=TA79,window.TB8=TB8,window.ConsumeItemView=ConsumeItemView,window.ConsumeTurntableView=ConsumeTurntableView,window.ConsumeTurntableConfVo=ConsumeTurntableConfVo,window.ConsumeTurntableData=ConsumeTurntableData,window.C11=C11,window.TA37=TA37,window.TB89=TB89,window.TB90=TB90,window.TC35=TC35,window.CrazyTacticalView=CrazyTacticalView,window.ItemCrazyTacticalView=ItemCrazyTacticalView,window.ItemCrazyTactical=ItemCrazyTactical,window.CrazyTacticalData=CrazyTacticalData,window.CrazyTacticalVo=CrazyTacticalVo,window.E16=E16,window.CrossBattleType=CrossBattleType,window.TA80=TA80,window.TC99=TC99,window.TA52=TA52,window.TC36=TC36,window.TD1=TD1,window.TA53=TA53,window.TC37=TC37,window.TD53=TD53,window.CrossBattlePView=CrossBattlePView,window.CrossBattleRewardView=CrossBattleRewardView,window.CrossBattleRView=CrossBattleRView,window.CrossBattleView=CrossBattleView,window.ItemCrossBattleAward=ItemCrossBattleAward,window.ItemCrossBattleRank=ItemCrossBattleRank,window.CrossBattleData=CrossBattleData,window.CrossBattleVo=CrossBattleVo,window.F15=F15,window.CrossCraftSysType=CrossCraftSysType,window.TB9=TB9,window.TD54=TD54,window.TD55=TD55,window.TE19=TE19,window.CrossCraftView=CrossCraftView,window.ItemCrossCraftBtn=ItemCrossCraftBtn,window.ItemCrossCraft=ItemCrossCraft,window.CrossCraftData=CrossCraftData,window.CrossCraftVo=CrossCraftVo,window.TA81=TA81,window.K10=K10,window.TD2=TD2,window.TD3=TD3,window.TD56=TD56,window.CutDownItemView=CutDownItemView,window.CutDownStarView=CutDownStarView,window.CutDownStarConfVo=CutDownStarConfVo,window.CutDownStarData=CutDownStarData,window.HH8=HH8,window.TB41=TB41,window.TE20=TE20,window.TE21=TE21,window.DailyGiftView=DailyGiftView,window.ActivityTimer=ActivityTimer,window.DailyGiftItem=DailyGiftItem,window.DailyGiftData=DailyGiftData,window.D14=D14,window.TA54=TA54,window.TC38=TC38,window.TC39=TC39,window.TD4=TD4,window.DiscountShopView=DiscountShopView,window.DiscountItem=DiscountItem,window.DiscountShopConfVo=DiscountShopConfVo,window.DiscountShopData=DiscountShopData,window.B1=B1,window.TA38=TA38,window.TB91=TB91,window.DoubleFortuneView=DoubleFortuneView,window.DoubleFortuneData=DoubleFortuneData,window.FaBaoHelp=FaBaoHelp,window.FaBaoHelpAdView=FaBaoHelpAdView,window.FabaoHelpItemIconView=FabaoHelpItemIconView,window.FaBaoHelpItemView=FaBaoHelpItemView,window.FaBaoHelpSkillItem=FaBaoHelpSkillItem,window.FaBaoHelpSkillTipsView=FaBaoHelpSkillTipsView,window.FaBaoHelpView=FaBaoHelpView,window.C13=C13,window.TA39=TA39,window.TB92=TB92,window.TB93=TB93,window.TC40=TC40,window.FestivalLoginView=FestivalLoginView,window.FestivalLoginItemView=FestivalLoginItemView,window.FestivalLoginConfVo=FestivalLoginConfVo,window.FestivalLoginData=FestivalLoginData,window.D15=D15,window.TA55=TA55,window.TC41=TC41,window.TC42=TC42,window.TD5=TD5,window.FestivalShopView=FestivalShopView,window.FestivalItem=FestivalItem,window.FestivalShopConfVo=FestivalShopConfVo,window.FestivalShopData=FestivalShopData,window.A4=A4,window.TA3=TA3,window.TA20=TA20,window.TA21=TA21,window.TA27=TA27,window.FirstRechargeGrouponItemsView=FirstRechargeGrouponItemsView,window.FirstRechargeGrouponView=FirstRechargeGrouponView,window.FirstRechargeGrouponAwardVo=FirstRechargeGrouponAwardVo,window.FirstRechargeGrouponConfVo=FirstRechargeGrouponConfVo,window.FirstRechargeGrouponData=FirstRechargeGrouponData,window.K11=K11,window.TC43=TC43,window.TF60=TF60,window.TA82=TA82,window.FortuneDescView=FortuneDescView,window.FortuneRewardView=FortuneRewardView,window.FortuneTurntableView=FortuneTurntableView,window.ItemFtBuyView=ItemFtBuyView,window.FortuneData=FortuneData,window.FortuneReportVo=FortuneReportVo,window.I19=I19,window.TB94=TB94,window.TF7=TF7,window.TF8=TF8,window.HappyBoxDescView=HappyBoxDescView,window.HappyBoxOpenView=HappyBoxOpenView,window.HappyBoxRewardView=HappyBoxRewardView,window.HappyBoxView=HappyBoxView,window.ItemHappyBoxAward=ItemHappyBoxAward,window.ItemHappyBoxOpen=ItemHappyBoxOpen,window.ItemHappyBoxView=ItemHappyBoxView,window.HappyBoxData=HappyBoxData,window.G1=G1,window.TB10=TB10,window.TD57=TD57,window.TD58=TD58,window.TD59=TD59,window.HappySmashGourmetItemView=HappySmashGourmetItemView,window.HappySmashItemView=HappySmashItemView,window.HappySmashOpen=HappySmashOpen,window.HappySmashView=HappySmashView,window.HappySmashData=HappySmashData,window.HappySmashEggsVo=HappySmashEggsVo,window.HappySmashItemVo=HappySmashItemVo,window.I15=I15,window.TB95=TB95,window.TF9=TF9,window.TF10=TF10,window.HeroComeView=HeroComeView,window.ItemHeroCome=ItemHeroCome,window.HeroComeData=HeroComeData,window.HeroComeVo=HeroComeVo,window.HH9=HH9,window.TB42=TB42,window.TE22=TE22,window.TE23=TE23,window.TF11=TF11,window.HeroTrainItemView=HeroTrainItemView,window.HeroTrainView=HeroTrainView,window.HeroTrainConfVo=HeroTrainConfVo,window.HeroTrainData=HeroTrainData,window.B9=B9,window.HolidayExchangeControl=HolidayExchangeControl,window.TB11=TB11,window.TB12=TB12,window.HolidayExchangeRender=HolidayExchangeRender,window.HolidayExchangeListItem=HolidayExchangeListItem,window.HolidayExchangeView=HolidayExchangeView,window.HolidayExchangeData=HolidayExchangeData,window.B15=B15,window.TA28=TA28,window.TB43=TB43,window.TB44=TB44,window.TB96=TB96,window.ItemLegionDiscount=ItemLegionDiscount,window.LegionDiscountView=LegionDiscountView,window.LegionDiscountData=LegionDiscountData,window.LegionDiscountProcessVo=LegionDiscountProcessVo,window.LegionDiscountVo=LegionDiscountVo,window.HH10=HH10,window.TB45=TB45,window.TE24=TE24,window.TE25=TE25,window.TF12=TF12,window.LimitShopView=LimitShopView,window.LimitItem=LimitItem,window.LimitShopConfVo=LimitShopConfVo,window.LimitShopData=LimitShopData,window.E11=E11,window.TA83=TA83,window.TD6=TD6,window.TD7=TD7,window.TD60=TD60,window.ItemMarriageAct=ItemMarriageAct,window.MarriageActView=MarriageActView,window.MarriageActData=MarriageActData,window.MarriageActVo=MarriageActVo,window.B2=B2,window.TA17=TA17,window.TA84=TA84,window.TA85=TA85,window.TB13=TB13,window.MaterialFubenActView=MaterialFubenActView,window.MaterialDragonActConfVo=MaterialDragonActConfVo,window.MaterialFubenActData=MaterialFubenActData,window.D9=D9,window.TA56=TA56,window.TC44=TC44,window.TC45=TC45,window.TD8=TD8,window.MysticalShopView=MysticalShopView,window.MysticalItem=MysticalItem,window.MysticalShopConfVo=MysticalShopConfVo,window.MysticalShopData=MysticalShopData,window.NewGift=NewGift,window.NewGiftIcon=NewGiftIcon,window.NewGiftView=NewGiftView,window.NewGiftData=NewGiftData,window.Nian=Nian,window.NianDetailsMainView=NianDetailsMainView,window.NianDetailsView=NianDetailsView,window.NianMonsterView=NianMonsterView,window.NianRewardListItem=NianRewardListItem,window.NianView=NianView,window.C15=C15,window.TA40=TA40,window.TB97=TB97,window.TB98=TB98,window.TC46=TC46,window.PeopleAdvanceItemsView=PeopleAdvanceItemsView,window.PeopleAdvanceView=PeopleAdvanceView,window.PeopleAdvanceConfVo=PeopleAdvanceConfVo,window.PeopleAdvanceData=PeopleAdvanceData,window.C16=C16,window.TA41=TA41,window.TB99=TB99,window.TC1=TC1,window.TC47=TC47,window.PeopleUpgradeItemsView=PeopleUpgradeItemsView,window.PeopleUpgradeView=PeopleUpgradeView,window.PeopleUpgradeConfVo=PeopleUpgradeConfVo,window.PeopleUpgradeData=PeopleUpgradeData,window.HH11=HH11,window.TB46=TB46,window.TE26=TE26,window.TE27=TE27,window.TF13=TF13,window.RankUpAwdItemView=RankUpAwdItemView,window.RankUpAwdView=RankUpAwdView,window.RankUpAwdConfVo=RankUpAwdConfVo,window.RankUpAwdData=RankUpAwdData,window.F19=F19,window.TB14=TB14,window.TD61=TD61,window.TD62=TD62,window.RankUpAwd2View=RankUpAwd2View,window.RankUpAwd2ItemView=RankUpAwd2ItemView,window.D10=D10,window.RechargeRankControl=RechargeRankControl,window.TC48=TC48,window.TC49=TC49,window.TD9=TD9,window.RechargeRankListView=RechargeRankListView,window.RchargeRankListItem=RchargeRankListItem,window.RechargeRankView=RechargeRankView,window.rechargeItem=rechargeItem,window.RechargeRankData=RechargeRankData,window.B16=B16,window.TA29=TA29,window.TB47=TB47,window.TB48=TB48,window.RechargeSeriesItemView=RechargeSeriesItemView,window.RechargeSeriesView=RechargeSeriesView,window.RechargeSeriesConfVo=RechargeSeriesConfVo,window.RechargeSeriesData=RechargeSeriesData,window.B10=B10,window.TA22=TA22,window.TB15=TB15,window.TB16=TB16,window.TB49=TB49,window.RechargeSumGiftView=RechargeSumGiftView,window.RechargeSumItemGiftView=RechargeSumItemGiftView,window.RechargeSumGiftConfVo=RechargeSumGiftConfVo,window.RechargeSumGiftData=RechargeSumGiftData,window.E13=E13,window.TA86=TA86,window.TD10=TD10,window.TD11=TD11,window.TD63=TD63,window.RechargeSumItemView=RechargeSumItemView,window.RechargeSumView=RechargeSumView,window.RechargeSumConfVo=RechargeSumConfVo,window.RechargeSumData=RechargeSumData,window.E2=E2,window.TA57=TA57,window.TC50=TC50,window.TC51=TC51,window.RechargeTimeItemView=RechargeTimeItemView,window.RechargeTimeView=RechargeTimeView,window.RechargeTimeConfVo=RechargeTimeConfVo,window.RechargeTimeData=RechargeTimeData,window.A13=A13,window.TA11=TA11,window.TA58=TA58,window.TA59=TA59,window.TA87=TA87,window.RechargeItemView=RechargeItemView,window.RechargeTurntableView=RechargeTurntableView,window.rtt=rtt,window.RechargeTurntableData=RechargeTurntableData,window.M8=M8,window.TD12=TD12,window.TG1=TG1,window.TG2=TG2,window.TG3=TG3,window.RedBoxOpenView=RedBoxOpenView,window.RedBoxPreviewView=RedBoxPreviewView,window.RedBoxRecordItemView=RedBoxRecordItemView,window.RedBoxRewardView=RedBoxRewardView,window.RedBoxView=RedBoxView,window.RedBoxWinItemView=RedBoxWinItemView,window.RedBoxData=RedBoxData,window.RedBoxItemVo=RedBoxItemVo,window.RedBoxWinVo=RedBoxWinVo,window.HH5=HH5,window.TB50=TB50,window.TE28=TE28,window.TE29=TE29,window.RingMatchItemView=RingMatchItemView,window.RingMatchView=RingMatchView,window.ArenaRankActResConfVo=ArenaRankActResConfVo,window.RingMatchData=RingMatchData,window.B17=B17,window.TA30=TA30,window.TB51=TB51,window.TB52=TB52,window.ItemSingleRecharge=ItemSingleRecharge,window.SingleRechargeView=SingleRechargeView,window.SingleRechargeData=SingleRechargeData,window.B3=B3,window.TA18=TA18,window.TA88=TA88,window.TA89=TA89,window.TB17=TB17,window.SkinDiscountShopView=SkinDiscountShopView,window.SkinDiscountItem=SkinDiscountItem,window.SkinDiscountShopConfVo=SkinDiscountShopConfVo,window.SkinDiscountShopData=SkinDiscountShopData,window.Snowman=Snowman,window.SnowmanDetailsMainView=SnowmanDetailsMainView,window.SnowmanDetailsView=SnowmanDetailsView,window.SnowmanMonsterView=SnowmanMonsterView,window.SnowmanRewardListItem=SnowmanRewardListItem,window.SnowmanView=SnowmanView,window.B4=B4,window.TA19=TA19,window.TA90=TA90,window.TA91=TA91,window.TB18=TB18,window.TimeDiscountShopView=TimeDiscountShopView,window.TimeDiscountItem=TimeDiscountItem,window.TimeDiscountShopConfVo=TimeDiscountShopConfVo,window.TimeDiscountShopData=TimeDiscountShopData,window.HH16=HH16,window.TB53=TB53,window.TE30=TE30,window.TE31=TE31,window.TE32=TE32,window.TurnTablePreviewItemView=TurnTablePreviewItemView,window.TurnTablePreviewView=TurnTablePreviewView,window.TurnTableRecordItemView=TurnTableRecordItemView,window.TurnTableRewardView=TurnTableRewardView,window.TurnTableView=TurnTableView,window.TurnTableWinItemView=TurnTableWinItemView,window.TurnTableData=TurnTableData,window.TurnTableDescVo=TurnTableDescVo,window.TurnTableItemVo=TurnTableItemVo,window.TurnTableWinVo=TurnTableWinVo,window.E14=E14,window.TD13=TD13,window.TB19=TB19,window.TC2=TC2,window.WomanAdvanceActView=WomanAdvanceActView,window.WomanAdvanceActData=WomanAdvanceActData,window.TB54=TB54,window.WomanAdvanceConfVo=WomanAdvanceConfVo,window.CarnivalActBaseView=CarnivalActBaseView,window.CarnivalActIconView=CarnivalActIconView,window.CarnivalItemView=CarnivalItemView,window.K13=K13,window.TC52=TC52,window.K6=K6,window.TC53=TC53,window.TF61=TF61,window.TF62=TF62,window.BigGiftView=BigGiftView,window.BigGiftConfVo=BigGiftConfVo,window.BigGiftData=BigGiftData,window.D3=D3,window.TA42=TA42,window.TC3=TC3,window.ConsumeDinneOpenView=ConsumeDinneOpenView,window.ConsumeDinneView=ConsumeDinneView,window.TC54=TC54,window.ConsumeDinneVo=ConsumeDinneVo,window.E7=E7,window.TA92=TA92,window.TD14=TD14,window.TD15=TD15,window.EvenFillingItemView=EvenFillingItemView,window.EvenFillingView=EvenFillingView,window.EvenFillingConfVo=EvenFillingConfVo,window.EvenFillingData=EvenFillingData,window.F16=F16,window.TB20=TB20,window.TD64=TD64,window.TD65=TD65,window.ExpendGiftItemView=ExpendGiftItemView,window.ExpendGiftView=ExpendGiftView,window.ExpendGiftConfVo=ExpendGiftConfVo,window.ExpendGiftData=ExpendGiftData,window.K5=K5,window.TC55=TC55,window.TF63=TF63,window.TF64=TF64,window.GiftBagView=GiftBagView,window.GiftBagConfVo=GiftBagConfVo,window.GiftBagData=GiftBagData,window.PeerlessHero=PeerlessHero,window.PeerlessHeroItemView=PeerlessHeroItemView,window.PeerlessHeroProfileView=PeerlessHeroProfileView,window.PeerlessHeroView=PeerlessHeroView,window.PeerlessHero1=PeerlessHero1,window.PeerlessHero1ItemView=PeerlessHero1ItemView,window.PeerlessHero1ProfileView=PeerlessHero1ProfileView,window.PeerlessHero1View=PeerlessHero1View,window.RechargeDiscount=RechargeDiscount,window.RechargeDiscountItemView=RechargeDiscountItemView,window.RechargeDiscountView=RechargeDiscountView,window.TE33=TE33,window.J9=J9,window.TC4=TC4,window.TF14=TF14,window.TF15=TF15,window.ShiWTurnRecordItem=ShiWTurnRecordItem,window.ShiWTurnView=ShiWTurnView,window.ShiWTurnData=ShiWTurnData,window.SingleRechargeGift=SingleRechargeGift,window.SingleRechargeGiftItemView=SingleRechargeGiftItemView,window.SingleRechargeGiftView=SingleRechargeGiftView,window.HH3=HH3,window.TB55=TB55,window.TE34=TE34,window.TE35=TE35,window.SpendGiftItemView=SpendGiftItemView,window.SpendGiftView=SpendGiftView,window.SpendGiftConfVo=SpendGiftConfVo,window.SpendGiftData=SpendGiftData,window.P2=P2,window.TE36=TE36,window.TG85=TG85,window.TG86=TG86,window.TdtnItemView=TdtnItemView,window.TdtnView=TdtnView,window.TdtnConfVo=TdtnConfVo,window.TdtnData=TdtnData,window.F1=F1,window.TA93=TA93,window.TD16=TD16,window.TopUpDinnerOpenView=TopUpDinnerOpenView,window.TopUpDinnerView=TopUpDinnerView,window.TD17=TD17,window.TopUpDinnerVo=TopUpDinnerVo,window.DayGiftBaseView=DayGiftBaseView,window.O19=O19,window.TE37=TE37,window.TG87=TG87,window.TG88=TG88,window.THH24=THH24,window.DailRecordLb=DailRecordLb,window.DialDescView=DialDescView,window.DialLuckIcon=DialLuckIcon,window.DialLuckyView=DialLuckyView,window.DialMainView=DialMainView,window.DialPickHeroStageView=DialPickHeroStageView,window.DialReport=DialReport,window.DialRewardView=DialRewardView,window.DialSearchTreasureView=DialSearchTreasureView,window.ItemDialBuyView=ItemDialBuyView,window.PolyFairyView=PolyFairyView,window.DialData=DialData,window.dial=dial,window.B5=B5,window.TA12=TA12,window.TA94=TA94,window.TA95=TA95,window.TB21=TB21,window.EveryDayRechargeBtnTab=EveryDayRechargeBtnTab,window.EverydayRechargeView=EverydayRechargeView,window.EverydayRechargeConfVo=EverydayRechargeConfVo,window.EverydayRechargeData=EverydayRechargeData,window.TD66=TD66,window.HH15=HH15,window.D2=D2,window.TB56=TB56,window.TE38=TE38,window.TE39=TE39,window.TE40=TE40,window.FaBaoDrawGuideView=FaBaoDrawGuideView,window.FaBaoDrawOpenItemView=FaBaoDrawOpenItemView,window.FaBaoDrawOpenView=FaBaoDrawOpenView,window.FaBaoDrawPreviewItemView=FaBaoDrawPreviewItemView,window.FaBaoDrawPreviewView=FaBaoDrawPreviewView,window.FaBaoDrawRecordItemView=FaBaoDrawRecordItemView,window.FaBaoDrawRecordView=FaBaoDrawRecordView,window.FaBaoDrawRunItemView=FaBaoDrawRunItemView,window.FaBaoDrawView=FaBaoDrawView,window.FaBaoShopItemView=FaBaoShopItemView,window.FaBaoShopView=FaBaoShopView,window.FaBaoDrawData=FaBaoDrawData,window.FabaoDrawRecordVo=FabaoDrawRecordVo,window.FaBaoDrawRewardVo=FaBaoDrawRewardVo,window.FabaoDrawShopVo=FabaoDrawShopVo,window.C17=C17,window.TA43=TA43,window.TC5=TC5,window.TC6=TC6,window.TC56=TC56,window.FirstRechargeBtn=FirstRechargeBtn,window.FirstRechargeView=FirstRechargeView,window.FirstRechargeData=FirstRechargeData,window.FirstRechargefVo=FirstRechargefVo,window.A5=A5,window.TA4=TA4,window.TA23=TA23,window.FirstRechargePackageView=FirstRechargePackageView,window.firstRechargePackage=firstRechargePackage,window.FirstRechargePackageData=FirstRechargePackageData,window.E15=E15,window.TA96=TA96,window.TD18=TD18,window.TD19=TD19,window.FreePackageView=FreePackageView,window.ItemFreePackageBtn=ItemFreePackageBtn,window.FreePackageData=FreePackageData,window.ZeroGiftConfVo=ZeroGiftConfVo,window.TC57=TC57,window.GoalActBaseView=GoalActBaseView,window.I16=I16,window.TC7=TC7,window.TF16=TF16,window.TF17=TF17,window.TF65=TF65,window.GrowFundMainView=GrowFundMainView,window.GrowFundView=GrowFundView,window.GrowFundItem=GrowFundItem,window.GrowFundConfVo=GrowFundConfVo,window.GrowFundData=GrowFundData,window.C4=C4,window.A8=A8,window.TA31=TA31,window.TB57=TB57,window.TB58=TB58,window.TB59=TB59,window.HightFaBaoDrawOpenItemView=HightFaBaoDrawOpenItemView,window.HightFaBaoDrawOpenView=HightFaBaoDrawOpenView,window.HightFaBaoDrawPreviewItemView=HightFaBaoDrawPreviewItemView,window.HightFaBaoDrawPreviewView=HightFaBaoDrawPreviewView,window.HightFaBaoDrawRecordItemView=HightFaBaoDrawRecordItemView,window.HightFaBaoDrawRecordView=HightFaBaoDrawRecordView,window.HightFaBaoDrawRunItemView=HightFaBaoDrawRunItemView,window.HightFaBaoDrawShopView=HightFaBaoDrawShopView,window.HightFaBaoDrawView=HightFaBaoDrawView,window.HightFaBaoShopItemView=HightFaBaoShopItemView,window.HightFaBaoDrawData=HightFaBaoDrawData,window.HightFabaoDrawRecordVo=HightFabaoDrawRecordVo,window.HightFaBaoDrawRewardVo=HightFaBaoDrawRewardVo,window.HightFabaoDrawShopVo=HightFabaoDrawShopVo,window.F13=F13,window.TB22=TB22,window.ActiveTask=ActiveTask,window.ActiveTaskItemView=ActiveTaskItemView,window.ActiveTaskNodeItemView=ActiveTaskNodeItemView,window.ActiveTaskRewardGetView=ActiveTaskRewardGetView,window.ActiveTaskRewardView=ActiveTaskRewardView,window.ActiveTaskView=ActiveTaskView,window.F2=F2,window.TA97=TA97,window.TD20=TD20,window.TD21=TD21,window.TD67=TD67,window.ArtRecoveryHelpView=ArtRecoveryHelpView,window.ArtRecoveryItem=ArtRecoveryItem,window.ArtRecoveryRankItem=ArtRecoveryRankItem,window.ArtRecoveryRankView=ArtRecoveryRankView,window.ArtRecoveryRewardItem=ArtRecoveryRewardItem,window.ArtRecoveryRewardView=ArtRecoveryRewardView,window.ArtRecoveryShowItem=ArtRecoveryShowItem,window.ArtRecoveryShowView=ArtRecoveryShowView,window.ArtRecoveryView=ArtRecoveryView,window.ArtRecoveryData=ArtRecoveryData,window.N10=N10,window.TD68=TD68,window.TG43=TG43,window.TG44=TG44,window.TG89=TG89,window.BigRMRankItem=BigRMRankItem,window.BigRMRankView=BigRMRankView,window.BigRMTimerView=BigRMTimerView,window.BigRMTipView=BigRMTipView,window.BigRMView=BigRMView,window.ItemBigRM=ItemBigRM,window.ItemBigRMTimer=ItemBigRMTimer,window.BigRMData=BigRMData,window.BlackFriday=BlackFriday,window.BlackFridayView=BlackFridayView,window.HH13=HH13,window.TB60=TB60,window.TE41=TE41,window.TE42=TE42,window.BringLuckAllRecord=BringLuckAllRecord,window.BringLuckMyRecord=BringLuckMyRecord,window.BringLuckRecordView=BringLuckRecordView,window.BringLuckView=BringLuckView,window.ItemBringLuckRecord=ItemBringLuckRecord,window.BringLuckData=BringLuckData,window.TD69=TD69,window.HH12=HH12,window.christmasLadybugPos=christmasLadybugPos,window.ChristmasGrowTask=ChristmasGrowTask,window.TB61=TB61,window.TE43=TE43,window.TE44=TE44,window.ChristmasRankView=ChristmasRankView,window.ChristmasRecordView=ChristmasRecordView,window.ChristmasStageRewardView=ChristmasStageRewardView,window.ChristmasStageView=ChristmasStageView,window.ChristmasView=ChristmasView,window.ItemChristmasBubble=ItemChristmasBubble,window.ItemChristmasFriend=ItemChristmasFriend,window.ItemChristmasLb=ItemChristmasLb,window.ItemChristmasRank=ItemChristmasRank,window.ItemChristmasRecord=ItemChristmasRecord,window.ItemChristmasStage=ItemChristmasStage,window.ChristmasData=ChristmasData,window.E9=E9,window.TA98=TA98,window.TD22=TD22,window.TD23=TD23,window.TD70=TD70,window.ConsumeRankActView=ConsumeRankActView,window.ConsumeRankView=ConsumeRankView,window.ConsumeRankItem=ConsumeRankItem,window.ConsumeRankData=ConsumeRankData,window.ConsumeRankRes=ConsumeRankRes,window.ConsumeRewardConf=ConsumeRewardConf,window.B8=B8,window.TA24=TA24,window.TB23=TB23,window.TB24=TB24,window.ConsumerSummaryRewardView=ConsumerSummaryRewardView;window.ConsumerSummaryView=ConsumerSummaryView,window.ItemConsumerSummaryDay=ItemConsumerSummaryDay,window.ConsumerSummaryData=ConsumerSummaryData,window.ContinueConsumeConfVo=ContinueConsumeConfVo,window.J3=J3,window.E3=E3,window.TC8=TC8,window.TF18=TF18,window.TF19=TF19,window.TF20=TF20,window.DianRankItemView=DianRankItemView,window.DianRankView=DianRankView,window.DianRankConfVo=DianRankConfVo,window.DianRankData=DianRankData,window.DianRankPlayVo=DianRankPlayVo,window.DianRankVo=DianRankVo,window.D12=D12,window.TB62=TB62,window.TE45=TE45,window.DoubleMatView=DoubleMatView,window.DoubleMatData=DoubleMatData,window.A11=A11,window.TA32=TA32,window.TB63=TB63,window.DoubleTreasureView=DoubleTreasureView,window.DoubleTreasureData=DoubleTreasureData,window.DoubleTreasureVo=DoubleTreasureVo,window.A14=A14,window.TA13=TA13,window.TA60=TA60,window.TA61=TA61,window.FestivalRedPacketView=FestivalRedPacketView,window.MayDayView=MayDayView,window.RedPacketIconView=RedPacketIconView,window.RedPacketItemView=RedPacketItemView,window.RedPacketView=RedPacketView,window.FestivalRedPacketData=FestivalRedPacketData,window.ReceiverRedPacketVo=ReceiverRedPacketVo,window.RedPacketConfVo=RedPacketConfVo,window.K9=K9,window.TC58=TC58,window.TF66=TF66,window.GiftBoxView=GiftBoxView,window.GiftBoxData=GiftBoxData,window.GiftBoxVo=GiftBoxVo,window.TF21=TF21,window.K14=K14,window.GoldPigPos=GoldPigPos,window.GoldPigEffName=GoldPigEffName,window.TC59=TC59,window.TF67=TF67,window.TF68=TF68,window.GoldPigRankView=GoldPigRankView,window.GoldPigRecordView=GoldPigRecordView,window.GoldPigShowRewardView=GoldPigShowRewardView,window.GoldPigStageRewardView=GoldPigStageRewardView,window.GoldPigStageView=GoldPigStageView,window.GoldPigView=GoldPigView,window.ItemGoldPigBubble=ItemGoldPigBubble,window.ItemGoldPigFriend=ItemGoldPigFriend,window.GoldPigData=GoldPigData,window.I2=I2,window.TB64=TB64,window.TE46=TE46,window.TE47=TE47,window.ItemMoneyTTimer=ItemMoneyTTimer,window.MoneyTreeRewardView=MoneyTreeRewardView,window.MoneyTreeTipView=MoneyTreeTipView,window.MoneyTreeView=MoneyTreeView,window.MoneyTTimerView=MoneyTTimerView,window.MoneyTreeData=MoneyTreeData,window.A7=A7,window.TA9=TA9,window.TA44=TA44,window.TA45=TA45,window.TA62=TA62,window.OnceRechargeRebateItemsView=OnceRechargeRebateItemsView,window.OnceRechargeRebateView=OnceRechargeRebateView,window.OnceRechargeRebateConfVo=OnceRechargeRebateConfVo,window.OnceRechargeRebateData=OnceRechargeRebateData,window.OnceRechargeRebate1Const=OnceRechargeRebate1Const,window.OnceRechargeRebate1Controller=OnceRechargeRebate1Controller,window.OnceRechargeRebate1Model=OnceRechargeRebate1Model,window.OnceRechargeRebate1Proxy=OnceRechargeRebate1Proxy,window.OnceRechargeRebate1Util=OnceRechargeRebate1Util,window.OnceRechargeRebate1ItemsView=OnceRechargeRebate1ItemsView,window.OnceRechargeRebate1View=OnceRechargeRebate1View,window.OnceRechargeRebate1ConfVo=OnceRechargeRebate1ConfVo,window.OnceRechargeRebate1Data=OnceRechargeRebate1Data,window.A12=A12,window.TA14=TA14,window.TA63=TA63,window.TA64=TA64,window.ItemOverFlowMonthCard=ItemOverFlowMonthCard,window.OverFlowMonthCardView=OverFlowMonthCardView,window.OverFlowMonthCardData=OverFlowMonthCardData,window.OverFlowMonthCardConfVo=OverFlowMonthCardConfVo,window.G3=G3,window.TB25=TB25,window.TD71=TD71,window.TD72=TD72,window.PreferGiftView=PreferGiftView,window.PreferGiftConfVo=PreferGiftConfVo,window.PreferGiftData=PreferGiftData,window.RebateTurntable=RebateTurntable,window.RebateTurntableIconItemView=RebateTurntableIconItemView,window.RebateTurntableItemView=RebateTurntableItemView,window.RebateTurntableRecordItemView=RebateTurntableRecordItemView,window.RebateTurntableRecordView=RebateTurntableRecordView,window.RebateTurntableView=RebateTurntableView,window.D18=D18,window.TA65=TA65,window.TC60=TC60,window.TC61=TC61,window.RecruitMoneyRewardView=RecruitMoneyRewardView,window.RecruitMoneyView=RecruitMoneyView,window.RecruitMoneyData=RecruitMoneyData,window.RecruitMoneyVo=RecruitMoneyVo,window.E10=E10,window.TA99=TA99,window.TD24=TD24,window.TD25=TD25,window.TD73=TD73,window.ScoreUpRankActView=ScoreUpRankActView,window.ScoreUpRankView=ScoreUpRankView,window.ScoreUpRankItem=ScoreUpRankItem,window.ScoreUpRankData=ScoreUpRankData,window.ScoreUpRankRes=ScoreUpRankRes,window.ScoreUpRewardConf=ScoreUpRewardConf,window.J10=J10,window.TC9=TC9,window.TF22=TF22,window.TF23=TF23,window.TF69=TF69,window.SevenDayAItem=SevenDayAItem,window.SevenDayItem=SevenDayItem,window.SevenDayRewardView=SevenDayRewardView,window.SevenDayShowView=SevenDayShowView,window.SevenDayView=SevenDayView,window.SevenDayData=SevenDayData,window.SwornBrothers=SwornBrothers,window.SwornBrothersBaseView=SwornBrothersBaseView,window.SwornBrothersBuyTipsView=SwornBrothersBuyTipsView,window.SwornBrothersMyOrderListItem=SwornBrothersMyOrderListItem,window.SwornBrothersMyOrderView=SwornBrothersMyOrderView,window.SwornBrothersOrderListItem=SwornBrothersOrderListItem,window.SwornBrothersOrderListView=SwornBrothersOrderListView,window.SwornBrothersOrderListViewItem=SwornBrothersOrderListViewItem,window.SwornBrothersOrderView=SwornBrothersOrderView,window.SwornBrothersShopListItem=SwornBrothersShopListItem,window.SwornBrothersShopTitleListItem=SwornBrothersShopTitleListItem,window.SwornBrothersShopView=SwornBrothersShopView,window.SwornBrothersTeamIconItemView=SwornBrothersTeamIconItemView,window.SwornBrothersTeamView=SwornBrothersTeamView,window.TA33=TA33,window.TB65=TB65,window.TimePreferenceView=TimePreferenceView,window.HH19=HH19,window.TB66=TB66,window.TE48=TE48,window.TE49=TE49,window.WishHouseView=WishHouseView,window.WishSelectView=WishSelectView,window.WishHouseConfVo=WishHouseConfVo,window.WishHouseData=WishHouseData,window.HolidayActBaseView=HolidayActBaseView,window.M6=M6,window.TD26=TD26,window.TG4=TG4,window.TG5=TG5,window.TG45=TG45,window.InvestMainView=InvestMainView,window.InvestView=InvestView,window.InvestItem=InvestItem,window.InvestConfVo=InvestConfVo,window.InvestData=InvestData,window.G4=G4,window.TB26=TB26,window.TD74=TD74,window.ItemJubaoBuyView=ItemJubaoBuyView,window.ItemJubaoRank=ItemJubaoRank,window.JubaoArrayView=JubaoArrayView,window.JubaoDescView=JubaoDescView,window.JubaoDrawOpenView=JubaoDrawOpenView,window.JubaoIcon=JubaoIcon,window.JubaoRankView=JubaoRankView,window.TD75=TD75,window.JubaoArrayVo=JubaoArrayVo,window.J5=J5,window.TC10=TC10,window.TF24=TF24,window.ItemCardFlop=ItemCardFlop,window.ItemLuckFlopRank=ItemLuckFlopRank,window.LuckCardOpenView=LuckCardOpenView,window.LuckFlopRankView=LuckFlopRankView,window.LuckFlopView=LuckFlopView,window.LuckItemIcon=LuckItemIcon,window.LuckPoolView=LuckPoolView,window.TF25=TF25,window.LuckFlopVo=LuckFlopVo,window.TB1=TB1,window.A1=A1,window.TA1=TA1,window.TA5=TA5,window.TA6=TA6,window.AccumulativeRechargeGiftView2=AccumulativeRechargeGiftView2,window.AccumulativeRechargeGiftConfVo2=AccumulativeRechargeGiftConfVo2,window.AccumulativeRechargeGiftData2=AccumulativeRechargeGiftData2,window.B18=B18,window.TA34=TA34,window.TB67=TB67,window.TB68=TB68,window.FestivalLoginView2=FestivalLoginView2,window.FestivalLoginItemView2=FestivalLoginItemView2,window.FestivalLoginConfVo2=FestivalLoginConfVo2,window.FestivalLoginData2=FestivalLoginData2,window.D16=D16,window.TA66=TA66,window.TC62=TC62,window.TC63=TC63,window.FreePackageView2=FreePackageView2,window.ItemFreePackageBtn2=ItemFreePackageBtn2,window.FreePackageData2=FreePackageData2,window.ZeroGiftConfVo2=ZeroGiftConfVo2,window.K12=K12,window.TC64=TC64,window.TF70=TF70,window.TF71=TF71,window.TG6=TG6,window.InvestMainView2=InvestMainView2,window.InvestView2=InvestView2,window.InvestItem2=InvestItem2,window.InvestConfVo2=InvestConfVo2,window.InvestData2=InvestData2,window.MergeServerBoss=MergeServerBoss,window.MergeServerBossItem=MergeServerBossItem,window.MergeServerBossRankItem=MergeServerBossRankItem,window.MergeServerBossRankView=MergeServerBossRankView,window.MergeServerBossRewardView=MergeServerBossRewardView,window.MergeServerBossView=MergeServerBossView,window.C14=C14,window.TA46=TA46,window.TC11=TC11,window.TC12=TC12,window.MysticalShopView2=MysticalShopView2,window.MysticalItem2=MysticalItem2,window.MysticalShopConfVo2=MysticalShopConfVo2,window.MysticalShopData2=MysticalShopData2,window.C18=C18,window.RechargeRankControl2=RechargeRankControl2,window.TC13=TC13,window.TC14=TC14,window.TC65=TC65,window.RechargeRankListView2=RechargeRankListView2,window.RchargeRankListItem2=RchargeRankListItem2,window.RechargeRankView2=RechargeRankView2,window.rechargeItem2=rechargeItem2,window.RechargeRankData2=RechargeRankData2,window.TA35=TA35,window.TB69=TB69,window.RechargeResetView2=RechargeResetView2,window.F12=F12,window.TB27=TB27,window.TD76=TD76,window.TD77=TD77,window.RingMatchItemView2=RingMatchItemView2,window.RingMatchView2=RingMatchView2,window.ArenaRankActResConfVo2=ArenaRankActResConfVo2,window.RingMatchData2=RingMatchData2,window.ActivityBaseView=ActivityBaseView,window.MergeServerBaseView=MergeServerBaseView,window.F10=F10,window.TB28=TB28,window.E8=E8,window.TB2=TB2,window.TD27=TD27,window.TD28=TD28,window.TD78=TD78,window.AdvanceRankView=AdvanceRankView,window.AdvanceRankItem=AdvanceRankItem,window.AdvanceRankConfVo=AdvanceRankConfVo,window.AdvanceRankData=AdvanceRankData,window.I14=I14,window.TC15=TC15,window.TF26=TF26,window.TF27=TF27,window.TF72=TF72,window.GodTrialView=GodTrialView,window.GodTrialPostIconView=GodTrialPostIconView,window.GodTrialPostExIconView=GodTrialPostExIconView,window.GodTrialConfVo=GodTrialConfVo,window.GodTrialData=GodTrialData,window.E17=E17,window.TB3=TB3,window.TD29=TD29,window.TD30=TD30,window.NewGodTrialView=NewGodTrialView,window.D7=D7,window.TA67=TA67,window.TC66=TC66,window.TC67=TC67,window.TD31=TD31,window.RedEnvelopesDropView=RedEnvelopesDropView,window.RedEnvelopes=RedEnvelopes,window.RedEnvelopesOpenView=RedEnvelopesOpenView,window.RedEnvelopesView=RedEnvelopesView,window.RedEnvelopesData=RedEnvelopesData,window.RedVo=RedVo,window.OpenSerActMainView=OpenSerActMainView,window.TD79=TD79,window.G16=G16,window.TB70=TB70,window.TE50=TE50,window.TE51=TE51,window.TF28=TF28,window.PointsetsDescView=PointsetsDescView,window.PointsetsReportView=PointsetsReportView,window.PointsetsRewardView=PointsetsRewardView,window.PointsetsData=PointsetsData,window.N11=N11,window.TD80=TD80,window.TG46=TG46,window.TG47=TG47,window.FairyDescView=FairyDescView,window.FairyRecordView=FairyRecordView,window.FairyRewardView=FairyRewardView,window.ItemFairyView=ItemFairyView,window.FairyData=FairyData,window.A10=A10,window.TA15=TA15,window.TA68=TA68,window.TA69=TA69,window.TB4=TB4,window.RechargeBackawardItemsView=RechargeBackawardItemsView,window.RechargeBackawardMainView=RechargeBackawardMainView,window.RechargeBackawardView=RechargeBackawardView,window.RechargeBackawardConfVo=RechargeBackawardConfVo,window.RechargeBackawardData=RechargeBackawardData,window.D11=D11,window.TA70=TA70,window.TC68=TC68,window.TC69=TC69,window.TD32=TD32,window.RechargeGiftView=RechargeGiftView,window.RechargeGiftConfVo=RechargeGiftConfVo,window.RechargeGiftData=RechargeGiftData,window.F11=F11,window.TB29=TB29,window.TD81=TD81,window.TD82=TD82,window.TE52=TE52,window.SevenLoginMainView=SevenLoginMainView,window.SevenLoginView=SevenLoginView,window.SevenLoginItem=SevenLoginItem,window.LoginData=LoginData,window.SignConfVo=SignConfVo,window.K8=K8,window.TC70=TC70,window.TF73=TF73,window.TF74=TF74,window.J12=J12,window.TG7=TG7,window.ShootupView=ShootupView,window.ShootUpConfVo=ShootUpConfVo,window.ShootupData=ShootupData,window.J2=J2,window.TC16=TC16,window.TF29=TF29,window.TF30=TF30,window.QRCode=QRCode,window.SuperVipView=SuperVipView,window.SuperVipData=SuperVipData,window.I8=I8,window.I12=I12,window.TC17=TC17,window.TF31=TF31,window.TF32=TF32,window.TF75=TF75,window.ItemTrBuyView=ItemTrBuyView,window.TreasureDescView=TreasureDescView,window.TreasureRewardView=TreasureRewardView,window.TreasureData=TreasureData,window.FinishConfVo=FinishConfVo,window.HH6=HH6,window.TB71=TB71,window.A2=A2,window.TA2=TA2,window.TA7=TA7,window.TA8=TA8,window.TA10=TA10,window.AccumulativeRechargeGiftView=AccumulativeRechargeGiftView,window.AccumulativeRechargeGiftConfVo=AccumulativeRechargeGiftConfVo,window.AccumulativeRechargeGiftData=AccumulativeRechargeGiftData,window.DoubleRingDraw=DoubleRingDraw,window.DoubleRingDrawHelpView=DoubleRingDrawHelpView,window.DoubleRingDrawItemView=DoubleRingDrawItemView,window.DoubleRingDrawQuestionView=DoubleRingDrawQuestionView,window.DoubleRingDrawRewardView=DoubleRingDrawRewardView,window.DoubleRingDrawView=DoubleRingDrawView,window.LuxuryConsume=LuxuryConsume,window.ItemLuxuryConsume=ItemLuxuryConsume,window.LuxuryConsumeView=LuxuryConsumeView,window.LuxuryConsumeData=LuxuryConsumeData,window.LuxuryRecharge=LuxuryRecharge,window.ItemLuxuryRecharge=ItemLuxuryRecharge,window.LuxuryRechargeView=LuxuryRechargeView,window.LuxuryRechargeData=LuxuryRechargeData,window.K3=K3,window.TC71=TC71,window.TF76=TF76,window.TF77=TF77,window.OpenBoxRewardView=OpenBoxRewardView,window.OpenBoxView=OpenBoxView,window.OpenBoxConfVo=OpenBoxConfVo,window.OpenBoxData=OpenBoxData,window.TA47=TA47,window.TC18=TC18,window.RechargeResetView=RechargeResetView,window.ShootRange=ShootRange,window.ShootRangeBaseView=ShootRangeBaseView,window.ShootRangeRankItemView=ShootRangeRankItemView,window.ShootRangeRankView=ShootRangeRankView,window.ShootRangeRewardItemView=ShootRangeRewardItemView,window.ShootRangeRewardView=ShootRangeRewardView,window.ShootRangeStateEffect=ShootRangeStateEffect,window.ShootRangeTipView=ShootRangeTipView,window.ShootRangeView=ShootRangeView,window.WonderActBaseView=WonderActBaseView,window.C10=C10,window.TA48=TA48,window.TC19=TC19,window.TC20=TC20,window.TC72=TC72,window.WorthLimitBuyBtn=WorthLimitBuyBtn,window.WorthLimitBuyView=WorthLimitBuyView,window.WorthLimitBuyData=WorthLimitBuyData,window.WorthLimitBuyVo=WorthLimitBuyVo,window.TD83=TD83,window.G19=G19,window.TB72=TB72,window.TE53=TE53,window.TE54=TE54,window.TE55=TE55,window.AimTacticData=AimTacticData,window.AimTacticIcon=AimTacticIcon,window.AimTacticTip=AimTacticTip,window.GrowGuideAimView=GrowGuideAimView,window.ItemAimTactic=ItemAimTactic,window.AiWanFuliView=AiWanFuliView,window.TG90=TG90,window.L12=L12,window.TD33=TD33,window.TG8=TG8,window.TG9=TG9,window.K19=K19,window.AnimalDan=AnimalDan,window.AnimalDerma=AnimalDerma,window.AnimalDermaIconItemView=AnimalDermaIconItemView,window.AnimalDermaSkillView=AnimalDermaSkillView,window.AnimalDermaView=AnimalDermaView,window.AnimalEverAdd=AnimalEverAdd,window.AnimalMainView=AnimalMainView,window.AnimalSkill=AnimalSkill,window.AnimalSkillDataItem=AnimalSkillDataItem,window.AnimalSkillMinView=AnimalSkillMinView,window.AnimalSkillOne=AnimalSkillOne,window.AnimalSkinDataItem=AnimalSkinDataItem,window.AnimalSoulView=AnimalSoulView,window.AnimalSpiritView=AnimalSpiritView,window.AnimalUnlockView=AnimalUnlockView,window.AnimalView=AnimalView,window.AnimaPsychicView=AnimaPsychicView,window.TF78=TF78,window.M3=M3,window.TD34=TD34,window.TG10=TG10,window.TG11=TG11,window.ItemAnswerRank=ItemAnswerRank,window.ItemRewardConf=ItemRewardConf,window.AnswerEndView=AnswerEndView,window.AnswerMainView=AnswerMainView,window.AnswerPreView=AnswerPreView,window.AnswerRankView=AnswerRankView,window.AnswerRewardView=AnswerRewardView,window.AnswerView=AnswerView,window.answer=answer,window.M15=M15,window.N6=N6,window.TD84=TD84,window.TG48=TG48,window.TG49=TG49,window.ArenaBuyTipView=ArenaBuyTipView,window.ArenaChallengeView=ArenaChallengeView,window.ArenaLuckyRankView=ArenaLuckyRankView,window.ArenaMainView=ArenaMainView,window.ArenaRankView=ArenaRankView,window.ItemArenaRankRoleView=ItemArenaRankRoleView,window.ArenaRecordView=ArenaRecordView,window.ArenaRewardView=ArenaRewardView,window.ItemArenaRankView=ItemArenaRankView,window.ItemArenaRecordView=ItemArenaRecordView,window.ItemArenaRoleView=ItemArenaRoleView,window.ArenaData=ArenaData,window.TG50=TG50,window.Auction=Auction,window.TF79=TF79,window.AuctionAmountTipsView=AuctionAmountTipsView,window.AuctionBaseView=AuctionBaseView,window.AuctionBidView=AuctionBidView,window.AuctionLegionItemView=AuctionLegionItemView,window.AuctionLegionView=AuctionLegionView,window.AuctionManagerHelpTipsView=AuctionManagerHelpTipsView,window.AuctionManagerItemView=AuctionManagerItemView,window.AuctionManagerView=AuctionManagerView,window.AuctionRecordItemView=AuctionRecordItemView,window.AuctionRecordView=AuctionRecordView,window.I3=I3,window.TB73=TB73,window.TE56=TE56,window.TE57=TE57,window.AuthorizeView=AuthorizeView,window.K18=K18,window.L13=L13,window.TD35=TD35,window.AvatarMainView=AvatarMainView,window.TG12=TG12,window.TG13=TG13,window.O4=O4,window.L17=L17,window.AvatarSkillItem=AvatarSkillItem,window.AvatarSkillItemNew=AvatarSkillItemNew,window.AvatarSkillSortItem=AvatarSkillSortItem,window.EquipItem=EquipItem,window.FashionTitleShareRender=FashionTitleShareRender,window.AvatarAttributeView=AvatarAttributeView,window.AvatarDetailView=AvatarDetailView,window.AvatarFashionView=AvatarFashionView,window.AvatarInfoView=AvatarInfoView,window.AvatarReheadView=AvatarReheadView,window.AvatarRenameView=AvatarRenameView,window.AvatarResetView=AvatarResetView,window.AvatarSkillNewView=AvatarSkillNewView,window.AvatarSkillPlanItemView=AvatarSkillPlanItemView,window.AvatarSkillSort=AvatarSkillSort,window.AvatarTitleView=AvatarTitleView,window.ConfirmRenameView=ConfirmRenameView,window.JumpBulletinView=JumpBulletinView,window.SystemSetView=SystemSetView,window.avatar=avatar,window.AvatarPlanVo=AvatarPlanVo,window.D8=D8,window.TA71=TA71,window.TC73=TC73,window.TC74=TC74,window.F9=F9,window.TB30=TB30,window.TD85=TD85,window.TD86=TD86,window.AwyAutonymView=AwyAutonymView,window.AwyBindPhoneView=AwyBindPhoneView,window.InspireView=InspireView,window.G11=G11,window.G18=G18,window.TB74=TB74,window.TE58=TE58,window.TE59=TE59,window.AwyInviteItem=AwyInviteItem,window.AwyFirstShareView=AwyFirstShareView,window.AwyInviteView=AwyInviteView,window.Boatrace=Boatrace,window.BoatraceBoat=BoatraceBoat,window.BoatraceFireworks=BoatraceFireworks,window.BoatraceLight=BoatraceLight,window.BoatraceObjectType=BoatraceObjectType,window.BoatraceObstacle=BoatraceObstacle,window.BoatraceReward=BoatraceReward,window.BoatraceTag=BoatraceTag,window.BoatraceHeadItemView=BoatraceHeadItemView,window.BoatraceMainView=BoatraceMainView,window.BoatraceMap=BoatraceMap,window.BoatraceMapBlock=BoatraceMapBlock,window.BoatraceMapTile=BoatraceMapTile,window.BoatraceMyTeamItemView=BoatraceMyTeamItemView,window.BoatraceMyTeamView=BoatraceMyTeamView,window.BoatraceRankBaseView=BoatraceRankBaseView,window.BoatraceRankItemView=BoatraceRankItemView,window.BoatraceRankView=BoatraceRankView,window.BoatraceResultView=BoatraceResultView,window.BoatraceSingleRankItemView=BoatraceSingleRankItemView,window.BoatraceSingleRankView=BoatraceSingleRankView,window.BoatraceSkillCdView=BoatraceSkillCdView,window.BoatraceTeamView=BoatraceTeamView,window.BoatraceUseSkillView=BoatraceUseSkillView,window.N17=N17,window.O9=O9,window.TE60=TE60,window.TG91=TG91,window.TG92=TG92,window.THH25=THH25,window.BossMHData=BossMHData,window.BossMHOneData=BossMHOneData,window.BossTeamVo=BossTeamVo,window.FBossData=FBossData,window.FBossOneData=FBossOneData,window.PBossData=PBossData,window.PBossOneData=PBossOneData,window.SBossData=SBossData,window.SBossOneData=SBossOneData,window.BossCostConfirmView=BossCostConfirmView,window.BossItem=BossItem,window.BossMainView=BossMainView,window.BossMenghuoChapter=BossMenghuoChapter,window.BossMenghuoInfoItem=BossMenghuoInfoItem,window.BossMenghuoView=BossMenghuoView,window.BossMenHuoInfoView=BossMenHuoInfoView,window.BossMenHuoTeam=BossMenHuoTeam,window.BossRankItem=BossRankItem,window.BossRankView=BossRankView,window.BossRewardView=BossRewardView,window.BossTimesBuyView=BossTimesBuyView,window.BossWarnItem=BossWarnItem,window.BossWarnView=BossWarnView,window.FieldBossInfoView=FieldBossInfoView,window.FieldBossItem=FieldBossItem,window.FieldBossView=FieldBossView,window.PeopleBossView=PeopleBossView,window.SingleBossView=SingleBossView,window.J15=J15,window.J18=J18,window.TC75=TC75,window.TF80=TF80,window.TF81=TF81,window.chapter=chapter,window.ChapterAskHelp=ChapterAskHelp,window.ChapterBossButton=ChapterBossButton,window.ChapterBossDetail=ChapterBossDetail,window.ChapterBossFightRewardView=ChapterBossFightRewardView,window.ChapterDesc=ChapterDesc,window.ChapterOfflineIncome=ChapterOfflineIncome,window.ChapterRankView=ChapterRankView,window.ChapterRankItem=ChapterRankItem,window.ChapterWorld=ChapterWorld,window.ChapterWorldItem=ChapterWorldItem,window.DailyBasicsGiftPackView=DailyBasicsGiftPackView,window.VipDailyGiftPackView=VipDailyGiftPackView,window.DlgSearchHero=DlgSearchHero,window.BtnCountdownEffect=BtnCountdownEffect,window.TextEffect=TextEffect,window.HandAnimation=HandAnimation,window.O12=O12,window.TE61=TE61,window.TG93=TG93,window.TG94=TG94,window.K15=K15,window.P9=P9,window.F8=F8,window.TG95=TG95,window.F5=F5,window.D4=D4,window.TextFlowBuilder=TextFlowBuilder,window.ChatEmojiView=ChatEmojiView,window.ChatEmojiPageView=ChatEmojiPageView,window.ChatEmojiItem=ChatEmojiItem,window.ChatItem=ChatItem,window.ChatItemMgr=ChatItemMgr,window.ChatMsgGroup=ChatMsgGroup,window.ChatPrivateMsgScroller=ChatPrivateMsgScroller,window.ChatPrivateView=ChatPrivateView,window.ChatPrivateIcon=ChatPrivateIcon,window.ChatPrivateContent=ChatPrivateContent,window.ChatQuickTalkView=ChatQuickTalkView,window.ChatQuickSentence=ChatQuickSentence,window.ChatTipsView=ChatTipsView,window.ChatTopBtn=ChatTopBtn,window.ChatView=ChatView,window.PageView=PageView,window.chat=chat,window.N18=N18,window.ChatData=ChatData,window.I5=I5,window.I10=I10,window.TC21=TC21,window.ChildrenData=ChildrenData,window.TC22=TC22,window.TF33=TF33,window.TF34=TF34,window.TF35=TF35,window.ChildDoorCellVo=ChildDoorCellVo,window.ChildDoorVo=ChildDoorVo,window.ChildrenSkill=ChildrenSkill,window.ChildrenVo=ChildrenVo,window.ChildSkillVo=ChildSkillVo,window.ChildSkinVo=ChildSkinVo,window.ChildToyCellVo=ChildToyCellVo,window.ChildToyVo=ChildToyVo,window.ChildrenAddSkillItem=ChildrenAddSkillItem,window.ChildrenAdvancedItem=ChildrenAdvancedItem,window.ChildrenAllWearItem=ChildrenAllWearItem,window.ChildrenBreachItem=ChildrenBreachItem,window.ChildrenChooseEquipItem=ChildrenChooseEquipItem,window.ChildrenDoorItem=ChildrenDoorItem,window.ChildrenDoorXZItem=ChildrenDoorXZItem,window.ChildrenFuLingAttrItem=ChildrenFuLingAttrItem,window.ChildrenInSkillItem=ChildrenInSkillItem,window.ChildrenNowWearItem=ChildrenNowWearItem,window.ChildrenOutSkillItem=ChildrenOutSkillItem,window.ChildrenShowArrItem=ChildrenShowArrItem,window.ChildrenSkillItem=ChildrenSkillItem,window.ChildrenSkinAttrItem=ChildrenSkinAttrItem,window.ChildrenToysItem=ChildrenToysItem,window.ChildrenBookCaseView=ChildrenBookCaseView,window.ChildrenDoorComView=ChildrenDoorComView,window.ChildrenDoorCQView=ChildrenDoorCQView,window.ChildrenDoorFJView=ChildrenDoorFJView,window.ChildrenDoorJSView=ChildrenDoorJSView,window.ChildrenDoorLHView=ChildrenDoorLHView,window.ChildrenDoorView=ChildrenDoorView,window.ChildrenEquipView=ChildrenEquipView,window.ChildrenIcon=ChildrenIcon,window.ChildrenMainView=ChildrenMainView,window.ChildrenMasterSkillTipsView=ChildrenMasterSkillTipsView,window.ChildrenRenameView=ChildrenRenameView,window.ChildrenSkillView=ChildrenSkillView,window.ChildrenSkinIconList=ChildrenSkinIconList,window.ChildrenToysView=ChildrenToysView,window.ChildrenUpgradeView=ChildrenUpgradeView,window.Classup=Classup,window.ClassupAnimationView=ClassupAnimationView,window.ClassupEquipMagicView=ClassupEquipMagicView,window.ClassupEquipMasterView=ClassupEquipMasterView,window.ClassupEquipResolveItem=ClassupEquipResolveItem,window.ClassupEquipResolveView=ClassupEquipResolveView,window.ClassupEquipStrengthView=ClassupEquipStrengthView,window.ClassupEquipView=ClassupEquipView,window.ClassupExpExchangeView=ClassupExpExchangeView,window.ClassupItemExchangeItemView=ClassupItemExchangeItemView,window.ClassupItemExchangeView=ClassupItemExchangeView,window.ClassupLevelView=ClassupLevelView,window.ClassupMainView=ClassupMainView,window.ClassupSkillAttributeItemView=ClassupSkillAttributeItemView,window.ClassupSkillCostItemView=ClassupSkillCostItemView,window.ClassupSkillIcon2View=ClassupSkillIcon2View,window.ClassupSkillIconView=ClassupSkillIconView,window.ClassupSkillView=ClassupSkillView,window.ClassupTaskItemView=ClassupTaskItemView,window.ClassupTaskView=ClassupTaskView,window.TC76=TC76,window.F3=F3,window.TB5=TB5,window.TD36=TD36,window.TD37=TD37,window.ClassupBossRankItemView=ClassupBossRankItemView,window.ClassupBossRankListItemView=ClassupBossRankListItemView,window.ClassupBossRankView=ClassupBossRankView,window.ClassupBossTeamItemView=ClassupBossTeamItemView,window.ClassupBossView=ClassupBossView,window.ClimbCampUIView=ClimbCampUIView,window.M16=M16,window.P1=P1,window.N5=N5,window.TD87=TD87,window.TG51=TG51,window.TG52=TG52,window.TG53=TG53,window.ClimbChallenge=ClimbChallenge,window.ClimbRanKingItem=ClimbRanKingItem,window.ClimbMyRanKingView=ClimbMyRanKingView,window.ClimbSumRanKingView=ClimbSumRanKingView,window.ClimbTaskButton=ClimbTaskButton,window.climb=climb,window.TE62=TE62,window.J1=J1,window.TB6=TB6,window.TB7=TB7,window.TB31=TB31,window.TA25=TA25,window.TC23=TC23,window.TF36=TF36,window.TF37=TF37,window.TF38=TF38,window.ComeBackExpVo=ComeBackExpVo,window.ComeBackPrivilegeVo=ComeBackPrivilegeVo,window.ComeBackRechargeVo=ComeBackRechargeVo,window.ComeBackRecordVo=ComeBackRecordVo,window.ComeBackSignVo=ComeBackSignVo,window.ComeBackTaskVo=ComeBackTaskVo,window.ComeBackBangDingView=ComeBackBangDingView,window.ComeBackExpItemView=ComeBackExpItemView,window.ComeBackPrivilegeItemView=ComeBackPrivilegeItemView,window.ComeBackRebateItemView=ComeBackRebateItemView,window.ComeBackRebateView=ComeBackRebateView,window.ComeBackRechargeItemView=ComeBackRechargeItemView,window.ComeBackSignItemView=ComeBackSignItemView,window.ComeBackTaskItemView=ComeBackTaskItemView,window.ComeBackView=ComeBackView,window.ComeBackWelfareView=ComeBackWelfareView,window.L10=L10,window.HH2=HH2,window.TD38=TD38,window.TG14=TG14;window.P10=P10,window.AccessItemView=AccessItemView,window.AvatarScoreView=AvatarScoreView,window.CoinExchangeView=CoinExchangeView,window.CommonCostAlert=CommonCostAlert,window.CommonOpenActivity=CommonOpenActivity,window.FightShapeView=FightShapeView,window.TE63=TE63,window.TipDialogView=TipDialogView,window.Cornucopia=Cornucopia,window.CornucopiaBaseMain=CornucopiaBaseMain,window.CornucopiaBuyTimesView=CornucopiaBuyTimesView,window.CornucopiaDispatchView=CornucopiaDispatchView,window.CornucopiaHeadView=CornucopiaHeadView,window.CornucopiaMissionItemView=CornucopiaMissionItemView,window.CornucopiaMissionTipView=CornucopiaMissionTipView,window.CornucopiaRankIconItemView=CornucopiaRankIconItemView,window.CornucopiaRankItemView=CornucopiaRankItemView,window.CornucopiaRankView=CornucopiaRankView,window.CornucopiaRecordItemView=CornucopiaRecordItemView,window.CornucopiaRecordView=CornucopiaRecordView,window.CornucopiaRevengeView=CornucopiaRevengeView,window.CornucopiaSnatchView=CornucopiaSnatchView,window.CornucopiaView=CornucopiaView,window.CrossBossCampUIView=CrossBossCampUIView,window.G9=G9,window.G13=G13,window.B19=B19,window.TB75=TB75,window.TE64=TE64,window.TE65=TE65,window.TE66=TE66,window.CrossBossPlayerItem=CrossBossPlayerItem,window.CrossBossPreviewItem=CrossBossPreviewItem,window.CrossBossRankingItem=CrossBossRankingItem,window.CrossBossChallengeView=CrossBossChallengeView,window.CrossBossOpenView=CrossBossOpenView,window.CrossBossPreviewView=CrossBossPreviewView,window.CrossBossRanKingView=CrossBossRanKingView,window.CrossBossResurgenceView=CrossBossResurgenceView,window.CrossBossView=CrossBossView,window.crossBoss=crossBoss,window.G10=G10,window.G12=G12,window.C19=C19,window.A15=A15,window.C1=C1,window.CROSSCAMP_COUNTRY_COLOR=CROSSCAMP_COUNTRY_COLOR,window.TB76=TB76,window.TE67=TE67,window.TE68=TE68,window.TE69=TE69,window.CrossCampBuildVo=CrossCampBuildVo,window.CrossCampDoccupierVo=CrossCampDoccupierVo,window.CrossCampMoveVo=CrossCampMoveVo,window.CrossCampPointVo=CrossCampPointVo,window.CrossCampRankVo=CrossCampRankVo,window.CrossCampTeamMemVo=CrossCampTeamMemVo,window.CrossCampTeamVo=CrossCampTeamVo,window.CrossCampBuild=CrossCampBuild,window.CrossCampBuildInfoView=CrossCampBuildInfoView,window.CrossCampBuildTeamView=CrossCampBuildTeamView,window.CrossCampChatView=CrossCampChatView,window.CrossCampCompIcon=CrossCampCompIcon,window.CrossCampIcon=CrossCampIcon,window.CrossCampCompMoveLine=CrossCampCompMoveLine,window.CrossCampObj=CrossCampObj,window.CrossCampRankView=CrossCampRankView,window.CrossCampTeamView=CrossCampTeamView,window.CrossCampTipView=CrossCampTipView,window.CrossCampUiView=CrossCampUiView,window.CrossCampView=CrossCampView,window.ItemBuildTeamMsg=ItemBuildTeamMsg,window.ItemCrossCampCountry=ItemCrossCampCountry,window.ItemCrossCampMyTeam=ItemCrossCampMyTeam,window.ItemCrossCampRank=ItemCrossCampRank,window.ItemCrossCampTeam=ItemCrossCampTeam,window.TD39=TD39,window.G5=G5,window.C7=C7,window.C8=C8,window.TB32=TB32,window.CrossCliffMap=CrossCliffMap,window.TD88=TD88,window.TD89=TD89,window.TD90=TD90,window.CrossCliffCableItemView=CrossCliffCableItemView,window.CrossCliffChallengeItemView=CrossCliffChallengeItemView,window.CrossCliffFireShipItemView=CrossCliffFireShipItemView,window.CrossCliffFireWarshipItemView=CrossCliffFireWarshipItemView,window.CrossCliffJoinTeamItemView=CrossCliffJoinTeamItemView,window.CrossCliffMyTeamItemView=CrossCliffMyTeamItemView,window.CrossCliffWoodItemView=CrossCliffWoodItemView,window.CrossCliffCampUIView=CrossCliffCampUIView,window.CrossCliffChallengeListView=CrossCliffChallengeListView,window.CrossCliffJoinTeamView=CrossCliffJoinTeamView,window.CrossCliffMyTeamView=CrossCliffMyTeamView,window.CrossCliffResurgenceView=CrossCliffResurgenceView,window.CrossCliffView=CrossCliffView,window.CrossCliffCablerVo=CrossCliffCablerVo,window.CrossCliffFireShiprVo=CrossCliffFireShiprVo,window.CrossCliffRegionVo=CrossCliffRegionVo,window.CrossCliffTeamMebVo=CrossCliffTeamMebVo,window.CrossCliffTeamVo=CrossCliffTeamVo,window.CrossCliffWarShipVo=CrossCliffWarShipVo,window.TD91=TD91,window.G15=G15,window.TC24=TC24,window.TB77=TB77,window.TA49=TA49,window.TB78=TB78,window.TE70=TE70,window.TE71=TE71,window.TE72=TE72,window.CrossDuelDuelerVo=CrossDuelDuelerVo,window.CrossDuelFightData=CrossDuelFightData,window.CrossDuelGuessData=CrossDuelGuessData,window.CrossDuelMatchVo=CrossDuelMatchVo,window.CrossDuelPlayerVo=CrossDuelPlayerVo,window.CrossDuelReadyPlayerVo=CrossDuelReadyPlayerVo,window.CrossDuelReadyVo=CrossDuelReadyVo,window.CrossDuelRepVo=CrossDuelRepVo,window.CrossDuelVo=CrossDuelVo,window.CrossDuelBetsRewardItem=CrossDuelBetsRewardItem,window.CrossDuelPlayer=CrossDuelPlayer,window.CrossDuelRanKingItem=CrossDuelRanKingItem,window.CrossDuelResultItem=CrossDuelResultItem,window.CrossDuelUser=CrossDuelUser,window.CrossDuelStakeView=CrossDuelStakeView,window.CrossDuelView=CrossDuelView,window.F6=F6,window.F14=F14,window.B11=B11,window.TB33=TB33,window.TD92=TD92,window.TD93=TD93,window.TD94=TD94,window.CrossFieldView=CrossFieldView,window.CrossFieldItem=CrossFieldItem,window.CrossFieldJoinTeamItem=CrossFieldJoinTeamItem,window.CrossFieldMyTeamItem=CrossFieldMyTeamItem,window.CrossFieldWarnItem=CrossFieldWarnItem,window.CrossFieldCampUIView=CrossFieldCampUIView,window.CrossFieldJoinTeamView=CrossFieldJoinTeamView,window.CrossFieldMyTeamView=CrossFieldMyTeamView,window.CrossFieldResurgenceView=CrossFieldResurgenceView,window.CrossFieldRewardOrderView=CrossFieldRewardOrderView,window.CrossFieldWarnView=CrossFieldWarnView,window.CrossFieldBossVo=CrossFieldBossVo,window.CrossFieldOccupierVo=CrossFieldOccupierVo,window.CrossFieldTeamMebVo=CrossFieldTeamMebVo,window.CrossFieldTeamVo=CrossFieldTeamVo,window.CrossFishCampUIView=CrossFishCampUIView,window.TD95=TD95,window.D19=D19,window.HH14=HH14,window.F18=F18,window.HH1=HH1,window.TB79=TB79,window.TE73=TE73,window.TE74=TE74,window.TE75=TE75,window.CrossFishPlayer=CrossFishPlayer,window.CrossFishRanKingItem=CrossFishRanKingItem,window.CrossFishRecordItem=CrossFishRecordItem,window.CrossFishRoomItem=CrossFishRoomItem,window.CrossFishChangeRoomView=CrossFishChangeRoomView,window.CrossFishComingView=CrossFishComingView,window.CrossFishRecordView=CrossFishRecordView,window.CrossFishResultView=CrossFishResultView,window.CrossFishSumRanKingView=CrossFishSumRanKingView,window.CrossFishView=CrossFishView,window.CrossFishFisherVo=CrossFishFisherVo,window.CrossFishRecordVo=CrossFishRecordVo,window.CrossFishRoomVo=CrossFishRoomVo,window.CrossLeague=CrossLeague,window.CrossLeagueHistoryRankItemView=CrossLeagueHistoryRankItemView,window.CrossLeagueRankItemView=CrossLeagueRankItemView,window.CrossLeagueStageItemView=CrossLeagueStageItemView,window.CrossLeagueBuyTipView=CrossLeagueBuyTipView,window.CrossLeagueFightResultView=CrossLeagueFightResultView,window.CrossLeagueHistoryMainView=CrossLeagueHistoryMainView,window.CrossLeagueHistoryView=CrossLeagueHistoryView,window.CrossLeagueRankView=CrossLeagueRankView,window.CrossLeagueStageView=CrossLeagueStageView,window.CrossLeagueView=CrossLeagueView,window.CrossLeagueWorshipView=CrossLeagueWorshipView,window.TD96=TD96,window.HH17=HH17,window.A17=A17,window.C5=C5,window.A6=A6,window.A9=A9,window.A18=A18,window.B14=B14,window.TB80=TB80,window.TE76=TE76,window.TE77=TE77,window.TE78=TE78,window.CrossTeamAddAttrVo=CrossTeamAddAttrVo,window.CrossTeamApplyVo=CrossTeamApplyVo,window.CrossTeamAuditingVo=CrossTeamAuditingVo,window.CrossTeamAuditionVo=CrossTeamAuditionVo,window.CrossTeamBetsVo=CrossTeamBetsVo,window.CrossTeamCombatVo=CrossTeamCombatVo,window.CrossTeamDuelerVo=CrossTeamDuelerVo,window.CrossTeamFightData=CrossTeamFightData,window.CrossTeamGuessData=CrossTeamGuessData,window.CrossTeamInspireVo=CrossTeamInspireVo,window.CrossTeamMatchVo=CrossTeamMatchVo,window.CrossTeamPlayerVo=CrossTeamPlayerVo,window.CrossTeamPreviewVo=CrossTeamPreviewVo,window.CrossTeamReadyPlayerVo=CrossTeamReadyPlayerVo,window.CrossTeamReadyVo=CrossTeamReadyVo,window.CrossTeamRepVo=CrossTeamRepVo,window.CrossTeamShopVo=CrossTeamShopVo,window.CrossTeamSignVo=CrossTeamSignVo,window.CrossTeamTypeLvVo=CrossTeamTypeLvVo,window.CrossTeamTypeVo=CrossTeamTypeVo,window.CrossTeamVo=CrossTeamVo,window.CrossTeamApplyItemView=CrossTeamApplyItemView,window.CrossTeamAuditingItemView=CrossTeamAuditingItemView,window.CrossTeamBetsRewardItem=CrossTeamBetsRewardItem,window.CrossTeamInspireAttrItemView=CrossTeamInspireAttrItemView,window.CrossTeamInspireItemView=CrossTeamInspireItemView,window.CrossTeamInspireLvItemView=CrossTeamInspireLvItemView,window.CrossTeamInspireTeamItemView=CrossTeamInspireTeamItemView,window.CrossTeamMemberItemView=CrossTeamMemberItemView,window.CrossTeamPKPlayLeftItemView=CrossTeamPKPlayLeftItemView,window.CrossTeamPKPlayRightItemView=CrossTeamPKPlayRightItemView,window.CrossTeamPreviewItemView=CrossTeamPreviewItemView,window.CrossTeamRanKingItemView=CrossTeamRanKingItemView,window.CrossTeamResultItemView=CrossTeamResultItemView,window.CrossTeamSignItemView=CrossTeamSignItemView,window.CrossTeamUserItemView=CrossTeamUserItemView,window.CrossTeamApplyView=CrossTeamApplyView,window.CrossTeamAuditingView=CrossTeamAuditingView,window.CrossTeamCreateTeamView=CrossTeamCreateTeamView,window.CrossTeamInspireView=CrossTeamInspireView,window.CrossTeamMyTeamView=CrossTeamMyTeamView,window.CrossTeamPreviewView=CrossTeamPreviewView,window.CrossTeamShopBuyView=CrossTeamShopBuyView,window.CrossTeamShopView=CrossTeamShopView,window.CrossTeamSignView=CrossTeamSignView,window.CrossTeamStakeView=CrossTeamStakeView,window.CrossTeamTipsView=CrossTeamTipsView,window.CrossTeamView=CrossTeamView