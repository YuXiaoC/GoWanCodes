<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="keywords" content="" />
    <meta name="description" content="" />
    <meta name="format-detection" content="telephone=no">
    <meta name="format-detection" content="address=no">
    <meta name="applicable-device" content="mobile">
    <meta http-equiv="Cache-Control" content="no-transform">
    <meta http-equiv="Cache-Control" content="no-siteapp">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0,minimal-ui">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <title>CP</title>
    <style>
        html,
        body,
        h1,
        h2,
        h3,
        h4,
        h5,
        h6,
        div,
        dl,
        dt,
        dd,
        ul,
        ol,
        li,
        p,
        blockquote,
        pre,
        hr,
        figure,
        table,
        caption,
        th,
        td,
        form,
        fieldset,
        legend,
        input,
        button,
        textarea,
        menu {
            margin: 0;
            padding: 0
        }

        html,
        body,
        fieldset,
        img,
        iframe,
        abbr {
            border: 0;
        }

        li {
            list-style: none;
        }

        textarea {
            overflow: auto;
            resize: none;
        }

        a,
        button {
            cursor: pointer;
        }

        a,
        a:hover {
            text-decoration: none;
        }

        body,
        html {
            height: 100%;
            font-weight: normal;
            background: #fff;
            font-size: 0.26rem;
            line-height: 1;
        }

        html {
            -ms-text-size-adjust: 100%;
            -webkit-text-size-adjust: 100%;
            font-family: "Microsoft YaHei", Arial, HelveticaNeue, Helvetica, "BBAlpha Sans", sans-serif;
        }

        a {
            text-decoration: none;
            color: inherit;
        }

        input {
            -webkit-appearance: none;
        }

        input,
        select,
        textarea,
        option {
            font-size: inherit;
            color: inherit;
            border: 0;
            outline: none;
        }

        a,
        img,
        i,
        input,
        div {
            outline: none;
            -webkit-tap-highlight-color: transparent;
            -webkit-appearance: none;
        }

        *,
        *:before,
        *:after {
            -webkit-box-sizing: border-box;
            -moz-box-sizing: border-box;
            box-sizing: border-box;
        }

        ::-webkit-scrollbar {
            width: 0px;
            height: 0px;
        }
    </style>
    <script src="http://ptstatic.3k.com/vconsole.min.js"></script>
    <script type="text/javascript">
        //初始化 font-size
        function setFontSize(k) {
            document.documentElement.style.fontSize =
                ((((k / 750) * 100) / 16) * 100) + '%';
        }

        function initRem() {
            var W = document.documentElement.clientWidth;
            var H = document.documentElement.clientHeight;
            if (W < H) {
                setFontSize(W);
            } else {
                setFontSize(H);
            }
        }
        document.addEventListener('DOMContentLoaded', initRem, false);
        initRem();
    </script>
    <link href="https://cdn.bootcss.com/bootstrap/2.3.1/css/bootstrap.css" rel="stylesheet">
    <!-- <script src="https://cdn.bootcss.com/bootstrap/3.3.7/js/bootstrap.min.js"></script> -->
</head>

<body>
    <style>
        #main iframe {
            position: fixed;
            width: 100%;
            height: 100%;
            top: 0;
            left: 0;
            z-index: 1;
        }

        #main .test {
            position: fixed;
            width: 100%;
            height: 100%;
            top: 0;
            left: 0;
            z-index: 2;
            opacity: 0.8;
            background-color: rgba(255, 255, 255, .7);
            overflow: auto;
        }

        #main .test a {
            width: 80%;
            height: 1rem;
            line-height: 1rem;
            margin: 0.5rem auto;
            color: #fff;
            text-align: center;
            font-size: 0.3rem;
            background-color: rgb(0, 94, 235);
            display: block;
        }

        /* #controller a.active .form{
            display: fixed
        }

        .form {
            display: fixed;
            left: 50%;
            top: 50%;
            -webkit-transform: translate(-50%, -50%);
            transform: translate(-50%, -50%);

        } */

        .controls .input-prepend{
            height: 30px;
        }

        .controls .input-prepend > * {
            height: 100%;
        }

        .control-group .control-label {
            width: 125px;
        }
        .control-group .controls {
            margin-left: 165px;
        }
        .form-horizontal .control-group {
            margin-bottom: 5px;
        }
    </style>
    <div id="main">
        <iframe src="http://h5gamedemo.3kwan.com:82/game/" frameborder="0"></iframe>
        <div class="test" id="controller">
            <a href="javascript:;">通用数据</a>
              <form class="form-horizontal form form-createRole">
                    <fieldset>          
                        <div class="control-group">            
                            <!-- Prepended text-->
                            <label class="control-label">服务器id</label>
                            <div class="controls">
                                <div class="input-prepend">
                                <span class="add-on">必填</span>
                                <input name="serverId" value="1" class="span2" placeholder="" id="prependedInput" type="text">
                                </div>
                                <p class="help-block"></p>
                            </div>              
                        </div>
                     
                        <div class="control-group">            
                            <!-- Prepended text-->
                            <label class="control-label">服务器名称</label>
                            <div class="controls">
                                <div class="input-prepend">
                                <span class="add-on">必填</span>
                                <input name="serverName" value="1" class="span2" placeholder="" id="prependedInput" type="text">
                                </div>
                                <p class="help-block"></p>
                            </div>              
                        </div>
                     
                        <div class="control-group">            
                            <!-- Prepended text-->
                            <label class="control-label">角色id</label>
                            <div class="controls">
                                <div class="input-prepend">
                                <span class="add-on">必填</span>
                                <input name="roleId" value="1" class="span2" placeholder="" id="prependedInput" type="text">
                                </div>
                                <p class="help-block"></p>
                            </div>              
                        </div>
                     
                        <div class="control-group">            
                            <!-- Prepended text-->
                            <label class="control-label">角色名称</label>
                            <div class="controls">
                                <div class="input-prepend">
                                <span class="add-on">必填</span>
                                <input name="roleName" value="1" class="span2" placeholder="" id="prependedInput" type="text">
                                </div>
                                <p class="help-block"></p>
                            </div>              
                        </div>
                     
                        <div class="control-group">            
                            <!-- Prepended text-->
                            <label class="control-label">角色等级</label>
                            <div class="controls">
                                <div class="input-prepend">
                                <span class="add-on">必填</span>
                                <input name="roleLevel" value="1" class="span2" placeholder="" id="prependedInput" type="text">
                                </div>
                                <p class="help-block"></p>
                            </div>              
                        </div>
                     
                        <div class="control-group">            
                            <!-- Prepended text-->
                            <label class="control-label">用户余额</label>
                            <div class="controls">
                                <div class="input-prepend">
                                <span class="add-on">必填</span>
                                <input name="LastMoney" value="1" class="span2" placeholder="" id="prependedInput" type="text">
                                </div>
                                <p class="help-block"></p>
                            </div>              
                        </div>
                     
                        <div class="control-group">            
                            <!-- Prepended text-->
                            <label class="control-label">vip等级</label>
                            <div class="controls">
                                <div class="input-prepend">
                                <span class="add-on">必填</span>
                                <input name="VipLevel" value="1" class="span2" placeholder="" id="prependedInput" type="text">
                                </div>
                                <p class="help-block"></p>
                            </div>              
                        </div>
                     
                    </fieldset>
                </form>
            <a href="javascript:;" data-type="1" event="init">初始化</a>
            
            <a href="javascript:;" data-type="2" event="login">登陆</a>
            <a href="javascript:;" data-type="3" event="changeAccount">切换账号</a>

            <a href="javascript:;" data-type="4" event="recharge">充值（使用通用数据）</a>
                    <form class="form-horizontal form form-recharge">
                        <fieldset>         
                    
                        <div class="control-group">            
                            <!-- Prepended text-->
                            <label class="control-label">金额（分）</label>
                            <div class="controls">
                                <div class="input-prepend">
                                <span class="add-on">必填</span>
                                <input name="amount" value="100" class="span2" placeholder="" id="prependedInput" type="text">
                                </div>
                                <p class="help-block"></p>
                            </div>              
                            </div>
                    
                        <div class="control-group">            
                            <!-- Prepended text-->
                            <label class="control-label">CP通知URL</label>
                            <div class="controls">
                                <div class="input-prepend">
                                <span class="add-on">必填</span>
                                <input name="callbackURL" value="1" class="span2" placeholder="" id="prependedInput" type="text">
                                </div>
                                <p class="help-block"></p>
                            </div>               
                            </div>            
                        <div class="control-group">            
                            <!-- Prepended text-->
                            <label class="control-label">CP回调参数</label>
                            <div class="controls">
                                <div class="input-prepend">
                                <span class="add-on">可选</span>
                                <input name="callbackInfo" class="span2" placeholder="" id="prependedInput" type="text">
                                </div>
                                <p class="help-block"></p>
                            </div>           
                            </div>    
                        </fieldset>
                    </form>
                    
            <a href="javascript:;" data-type="5" event="createRole">角色创建（使用通用数据）</a>
            <a href="javascript:;" data-type="6" event="changeRole">切换角色登录（使用通用数据）</a>

            <a href="javascript:;" data-type="7" event="upgradeRole">角色升级（使用通用数据）</a>
               
            <a href="javascript:;" data-type="8" event="getUserID">获取当前用户id</a>
            <a href="javascript:;" data-type="9" event="getPTID">获取游戏接入平台渠道id</a>
            <a href="javascript:;" data-type="10" event="getFromID">获取渠道分发id</a>

            <a href="javascript:;" data-type="11" event="goToGM">跳转客服页面接口</a>

            <a href="javascript:;" data-type="12" event="checkRealNameAuth">查询实名认证接口</a>
            <a href="javascript:;" data-type="13" event="checkBindPhone">检测用户是否绑定手机</a>
            <a href="javascript:;" data-type="14" event="goToBindPhone">跳转到绑定手机页面</a>
            <a href="javascript:;" data-type="15" event="goToUserCenter">跳转浮标到个人/账号中心</a>
        </div>
    </div>
    <script src="http://h5gamedemo.3kwan.com:82/h5sdk/h5sdk.js"></script>
    <script>
         // cp数据保存
        window.cpData = {
            serverId: '1',
            serverName: '1',
            roleId: '1',
            roleName: '1',
            roleLevel: '1',
            LastMoney: '1',
            VipLevel: '1',

            amount: '100',
            callbackURL: '1',
            callbackInfo: ''
        }
        document.querySelectorAll('input').forEach(function(item) {
            item.addEventListener('change', function(e) {
                window.cpData[e.target.name] = e.target.value
            })
        })


        document.getElementById('controller').addEventListener('click', function(e) {
            let el = e.target
            let id = el.getAttribute('data-type')
            let event = el.getAttribute('event')
            
            if(!event) return 

         
            if (el.tagName.toLocaleLowerCase() === 'a') {
                // let data = {
                //   type: Number(id),
                //   data: GD['type-' + id]
                // }
                // Client.emit(event, data).then(res => {
                //   if(res.type == 2 || res.type == 3 || res.type == 16) return
                //   log('I am ' + event, res)
                //   log('调用', event, '成功')
                // }).catch(e => {
                //   console.log('Client.emit:', e)
                // })
                
                kkkSDK[event](window.cpData).then(function(res) {
                    console.log('成功调用：' + event + ':', res)
                })
            }
        }, false)

        function init() {
            //   kkkSDK.createRole().then(function(res) {
            //     console.log('调用createRole：', res)
            //   })
            //   kkkSDK.changeRole().then(function(res) {
            //     console.log('调用changeRole：', res)
            //   })
            //   kkkSDK.upgradeRole().then(function(res) {
            //     console.log('调用upgradeRole：', res)
            //   })
            // kkkSDK.getUserID().then(function (res) {
            //   console.log('调用getUserID：', res)
            // })
            // kkkSDK.getPTID().then(function (res) {
            //   console.log('调用getPTID：', res)
            // })
            // kkkSDK.getFromID().then(function (res) {
            //   console.log('调用getFromID：', res)
            // })
            // kkkSDK.goToGM().then(function (res) {
            //   console.log('调用goToGM：', res)
            // })
            // kkkSDK.checkRealNameAuth().then(function (res) {
            //   console.log('调用checkRealNameAuth：', res)
            // })
            // kkkSDK.checkBindPhone().then(function (res) {
            //   console.log('调用checkBindPhone：', res)
            // })
            //   kkkSDK.goToBindPhone().then(function(res) {
            //     console.log('调用goToBindPhone：', res)
            //   })
            //   kkkSDK.goToUserCenter().then(function(res) {
            //     console.log('调用goToUserCenter：', res)
            //   })
            //   kkkSDK.flymeChangeAccount().then(function(res) {
            //     console.log('调用flymeChangeAccount：', res)
            //   })
        }

        // function showLogin() {
        //   kkkSDK.login().then(function (res) {
        //     console.log('调用login：', res)
        //   })
        // }

        setTimeout(function() {
            // kkkSDK.init({
            //     name: 444
            // }).then(function (res) {
            //     console.log('调用init：', res)
            //     showLogin()
            //     init()
            // })
            kkkSDK.on('flymeChangeAccount', function(res) {
                console.log('调用flymeChangeAccount：', res)
            })
            // kkkSDK.goToBindPhone({
            //    alert: 1
            // }).then(res => {
            //   console.log('调用goToBindPhone：', res)
            // })
            //window.parent.postMessage({type:'fromBindPhone',token: 'hhhhh', payload: {alert: 1}}, '*')
        }, 1000)

       
    </script>
</body>

</html>